{
  "version": 3,
  "sources": ["../../@thirdweb-dev/sdk/node_modules/thirdweb/src/transaction/actions/gasless/send-gasless-transaction.ts"],
  "sourcesContent": ["import type { TransactionSerializable } from \"viem\";\nimport type { Account } from \"../../../wallets/interfaces/wallet.js\";\nimport type { PreparedTransaction } from \"../../prepare-transaction.js\";\nimport type { WaitForReceiptOptions } from \"../wait-for-tx-receipt.js\";\nimport type { GaslessOptions } from \"./types.js\";\n\nexport type SendGaslessTransactionOptions = {\n  account: Account;\n  // TODO: update this to `Transaction<\"prepared\">` once the type is available to ensure only prepared transactions are accepted\n  // biome-ignore lint/suspicious/noExplicitAny: library function that accepts any prepared transaction type\n  transaction: PreparedTransaction<any>;\n  serializableTransaction: TransactionSerializable;\n  gasless: GaslessOptions;\n};\n\nexport async function sendGaslessTransaction({\n  account,\n  transaction,\n  serializableTransaction,\n  gasless,\n}: SendGaslessTransactionOptions): Promise<WaitForReceiptOptions> {\n  // TODO: handle special case for mutlicall transactions!\n  // Steps:\n  // 1. check if the method is `multicall` by comparing the 4bytes data with the `multicall` selector\n  // 2. split the rest of the data into its \"parts\"\n  // 3. solidityPack the parts with the part data + the `account.address`\n  // see v4: `core/classes/transactions.ts>Transaction>prepareGasless:L551`\n\n  if (serializableTransaction.value && serializableTransaction.value > 0n) {\n    throw new Error(\"Gasless transactions cannot have a value\");\n  }\n\n  // TODO: multiply gas by 2 for some reason(?) - we do in v4, *should* we?\n\n  // biconomy\n  if (gasless.provider === \"biconomy\") {\n    const { relayBiconomyTransaction } = await import(\n      \"./providers/biconomy.js\"\n    );\n    return relayBiconomyTransaction({\n      account,\n      transaction,\n      serializableTransaction,\n      gasless,\n    });\n  }\n\n  // openzeppelin\n  if (gasless.provider === \"openzeppelin\") {\n    const { relayOpenZeppelinTransaction } = await import(\n      \"./providers/openzeppelin.js\"\n    );\n    return relayOpenZeppelinTransaction({\n      account,\n      transaction,\n      serializableTransaction,\n      gasless,\n    });\n  }\n\n  if (gasless.provider === \"engine\") {\n    const { relayEngineTransaction } = await import(\"./providers/engine.js\");\n    return relayEngineTransaction({\n      account,\n      transaction,\n      serializableTransaction,\n      gasless,\n    });\n  }\n\n  throw new Error(\"Unsupported gasless provider\");\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AAeA;IAAAA,eAAA;IAAAA,eAAA;eAAsB,uBAAuB,EAC3C,SACA,aACA,yBACA,QAAO,GACuB;AAQ9B,MAAI,wBAAwB,SAAS,wBAAwB,QAAQ,IAAI;AACvE,UAAM,IAAI,MAAM,0CAA0C;EAC5D;AAKA,MAAI,QAAQ,aAAa,YAAY;AACnC,UAAM,EAAE,yBAAwB,IAAK,MAAM,OACzC,wBAAyB;AAE3B,WAAO,yBAAyB;MAC9B;MACA;MACA;MACA;KACD;EACH;AAGA,MAAI,QAAQ,aAAa,gBAAgB;AACvC,UAAM,EAAE,6BAA4B,IAAK,MAAM,OAC7C,4BAA6B;AAE/B,WAAO,6BAA6B;MAClC;MACA;MACA;MACA;KACD;EACH;AAEA,MAAI,QAAQ,aAAa,UAAU;AACjC,UAAM,EAAE,uBAAsB,IAAK,MAAM,OAAO,sBAAuB;AACvE,WAAO,uBAAuB;MAC5B;MACA;MACA;MACA;KACD;EACH;AAEA,QAAM,IAAI,MAAM,8BAA8B;AAChD;",
  "names": ["import_dist"]
}
