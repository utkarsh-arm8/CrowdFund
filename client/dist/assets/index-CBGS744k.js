const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/edition-drop-294e1578.browser.esm-J252WdLf.js","assets/contract-appuri-5c40af52.browser.esm-ulK3nCZT.js","assets/contract-interceptor-d7b164a7.browser.esm-C_yNedqZ.js","assets/contract-owner-49e75547.browser.esm-DpBD05kr.js","assets/setErc20Allowance-7f76f677.browser.esm-CIQGEfPa.js","assets/QueryParams-32a56510.browser.esm-DCGbhPjt.js","assets/index-BzgVYt3b.js","assets/treeify-Ca2YImUp.js","assets/assertEnabled-d1700f0b.browser.esm-D1JRDrxw.js","assets/contract-platform-fee-e756e68f.browser.esm-ByFF3waF.js","assets/contract-roles-71988d2e.browser.esm-YAJrELXm.js","assets/contract-sales-918c7cb8.browser.esm-qSI8jer2.js","assets/erc-1155-7ce9bee1.browser.esm-B-dynFJC.js","assets/erc-1155-standard-a5888d37.browser.esm-tpyeoTGj.js","assets/thirdweb-checkout-f6974aaf.browser.esm-CjE0D0-J.js","assets/edition-1ccecf2c.browser.esm-B5leQNVQ.js","assets/marketplace-2e2adc0e.browser.esm-Bp1LhTJI.js","assets/marketplace-e3129e2f.browser.esm-qdKUTpRm.js","assets/cleanCurrencyAddress-ded19cfe.browser.esm-C3DxtaqF.js","assets/marketplacev3-ef469d89.browser.esm-BUmlFu-Q.js","assets/marketplacev3-offers-ce1f096b.browser.esm-BRLYlNP-.js","assets/multiwrap-2e713f6c.browser.esm-Cwnk-cxF.js","assets/hasERC20Allowance-654a940b.browser.esm-My54_ZNJ.js","assets/erc-721-standard-4c4125d2.browser.esm-DD9hvEpr.js","assets/erc-721-27306550.browser.esm-CZsZlxpM.js","assets/drop-claim-conditions-e6f2abbf.browser.esm-KOA-6LJA.js","assets/nft-collection-5b9d9850.browser.esm-CDy7YAYe.js","assets/nft-drop-ee9ded99.browser.esm-CoBnPvbS.js","assets/pack-02f90278.browser.esm-BkxmIaX_.js","assets/erc-20-9a18a51c.browser.esm--Hri2M2Y.js","assets/signature-drop-266c8004.browser.esm-DucuFM-_.js","assets/split-eb66a32f.browser.esm-DsihOWuK.js","assets/token-drop-889631f7.browser.esm-BtN1AdtA.js","assets/erc-20-standard-1e9d9631.browser.esm-8LAfZHaw.js","assets/token-1e82c71a.browser.esm-ChGzcCTz.js","assets/vote-e5646e80.browser.esm-DwZMTFYO.js","assets/index-RnVQWLLE.js","assets/index-C4LccZJU.js","assets/smart-contract-ac432d60.browser.esm-BS2CdYYJ.js","assets/thirdweb-dev-wallets-evm-connectors-metamask.browser.esm-B4lpWvo7.js","assets/thirdweb-dev-wallets-evm-connectors-injected.browser.esm-CnoFOd6w.js","assets/thirdweb-dev-wallets-evm-connectors-okx.browser.esm-BXNf21HZ.js","assets/thirdweb-dev-wallets-evm-connectors-core-wallet.browser.esm-C3oYhOMR.js","assets/thirdweb-dev-wallets-evm-connectors-onekey.browser.esm-hmumVVlu.js","assets/thirdweb-dev-wallets-evm-connectors-crypto-defi-wallet.browser.esm-BxCFTrAl.js","assets/thirdweb-dev-wallets-evm-connectors-rabby.browser.esm-BAYckRGW.js","assets/thirdweb-dev-wallets-evm-connectors-coin98.browser.esm-DnsUiQEj.js","assets/thirdweb-dev-wallets-evm-connectors-imtoken.browser.esm-n6BX-1bi.js","assets/thirdweb-dev-wallets-evm-connectors-xdefi.browser.esm-rWjZgwYY.js","assets/thirdweb-dev-wallets-evm-connectors-phantom.browser.esm-Cyjmax0a.js","assets/thirdweb-dev-wallets-evm-connectors-rainbow.browser.esm-Y8FAsoMR.js","assets/thirdweb-dev-wallets-evm-connectors-safe.browser.esm-Dki-YDlt.js","assets/js-BLBHyGMB.js","assets/zk-connector-fada2157.browser.esm-CPswknkD.js","assets/http-rpc-client-0a079e80.browser.esm-BVSRZYKg.js","assets/thirdweb-dev-wallets-evm-connectors-smart-wallet.browser.esm-CXhMOh3y.js","assets/thirdweb-dev-wallets-evm-connectors-trust.browser.esm-uDdPKR5x.js","assets/thirdweb-dev-wallets-evm-connectors-zerion.browser.esm-qgsdlpyD.js","assets/thirdweb-dev-wallets-evm-connectors-token-bound-smart-wallet.browser.esm-denzXtEq.js","assets/thirdweb-dev-wallets-evm-connectors-magic-eden.browser.esm-DcmBkt9r.js"])))=>i.map(i=>d[i]);
var Nu=Object.defineProperty;var Du=(vn,fn,En)=>fn in vn?Nu(vn,fn,{enumerable:!0,configurable:!0,writable:!0,value:En}):vn[fn]=En;var Lo=(vn,fn,En)=>Du(vn,typeof fn!="symbol"?fn+"":fn,En);function _mergeNamespaces(vn,fn){for(var En=0;En<fn.length;En++){const Cn=fn[En];if(typeof Cn!="string"&&!Array.isArray(Cn)){for(const _i in Cn)if(_i!=="default"&&!(_i in vn)){const An=Object.getOwnPropertyDescriptor(Cn,_i);An&&Object.defineProperty(vn,_i,An.get?An:{enumerable:!0,get:()=>Cn[_i]})}}}return Object.freeze(Object.defineProperty(vn,Symbol.toStringTag,{value:"Module"}))}(function(){const fn=document.createElement("link").relList;if(fn&&fn.supports&&fn.supports("modulepreload"))return;for(const _i of document.querySelectorAll('link[rel="modulepreload"]'))Cn(_i);new MutationObserver(_i=>{for(const An of _i)if(An.type==="childList")for(const ba of An.addedNodes)ba.tagName==="LINK"&&ba.rel==="modulepreload"&&Cn(ba)}).observe(document,{childList:!0,subtree:!0});function En(_i){const An={};return _i.integrity&&(An.integrity=_i.integrity),_i.referrerPolicy&&(An.referrerPolicy=_i.referrerPolicy),_i.crossOrigin==="use-credentials"?An.credentials="include":_i.crossOrigin==="anonymous"?An.credentials="omit":An.credentials="same-origin",An}function Cn(_i){if(_i.ep)return;_i.ep=!0;const An=En(_i);fetch(_i.href,An)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(vn){return vn&&vn.__esModule&&Object.prototype.hasOwnProperty.call(vn,"default")?vn.default:vn}function getAugmentedNamespace(vn){if(vn.__esModule)return vn;var fn=vn.default;if(typeof fn=="function"){var En=function Cn(){return this instanceof Cn?Reflect.construct(fn,arguments,this.constructor):fn.apply(this,arguments)};En.prototype=fn.prototype}else En={};return Object.defineProperty(En,"__esModule",{value:!0}),Object.keys(vn).forEach(function(Cn){var _i=Object.getOwnPropertyDescriptor(vn,Cn);Object.defineProperty(En,Cn,_i.get?_i:{enumerable:!0,get:function(){return vn[Cn]}})}),En}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$6=Symbol.for("react.element"),n$9=Symbol.for("react.portal"),p$8=Symbol.for("react.fragment"),q$4=Symbol.for("react.strict_mode"),r$7=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$3=Symbol.for("react.context"),v$9=Symbol.for("react.forward_ref"),w$4=Symbol.for("react.suspense"),x$b=Symbol.for("react.memo"),y$8=Symbol.for("react.lazy"),z$c=Symbol.iterator;function A$5(vn){return vn===null||typeof vn!="object"?null:(vn=z$c&&vn[z$c]||vn["@@iterator"],typeof vn=="function"?vn:null)}var B$6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$7=Object.assign,D$6={};function E$4(vn,fn,En){this.props=vn,this.context=fn,this.refs=D$6,this.updater=En||B$6}E$4.prototype.isReactComponent={};E$4.prototype.setState=function(vn,fn){if(typeof vn!="object"&&typeof vn!="function"&&vn!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,vn,fn,"setState")};E$4.prototype.forceUpdate=function(vn){this.updater.enqueueForceUpdate(this,vn,"forceUpdate")};function F$3(){}F$3.prototype=E$4.prototype;function G$3(vn,fn,En){this.props=vn,this.context=fn,this.refs=D$6,this.updater=En||B$6}var H$3=G$3.prototype=new F$3;H$3.constructor=G$3;C$7(H$3,E$4.prototype);H$3.isPureReactComponent=!0;var I$8=Array.isArray,J$3=Object.prototype.hasOwnProperty,K$b={current:null},L$6={key:!0,ref:!0,__self:!0,__source:!0};function M$7(vn,fn,En){var Cn,_i={},An=null,ba=null;if(fn!=null)for(Cn in fn.ref!==void 0&&(ba=fn.ref),fn.key!==void 0&&(An=""+fn.key),fn)J$3.call(fn,Cn)&&!L$6.hasOwnProperty(Cn)&&(_i[Cn]=fn[Cn]);var xa=arguments.length-2;if(xa===1)_i.children=En;else if(1<xa){for(var $a=Array(xa),rs=0;rs<xa;rs++)$a[rs]=arguments[rs+2];_i.children=$a}if(vn&&vn.defaultProps)for(Cn in xa=vn.defaultProps,xa)_i[Cn]===void 0&&(_i[Cn]=xa[Cn]);return{$$typeof:l$6,type:vn,key:An,ref:ba,props:_i,_owner:K$b.current}}function N$4(vn,fn){return{$$typeof:l$6,type:vn.type,key:fn,ref:vn.ref,props:vn.props,_owner:vn._owner}}function O$8(vn){return typeof vn=="object"&&vn!==null&&vn.$$typeof===l$6}function escape(vn){var fn={"=":"=0",":":"=2"};return"$"+vn.replace(/[=:]/g,function(En){return fn[En]})}var P$6=/\/+/g;function Q$4(vn,fn){return typeof vn=="object"&&vn!==null&&vn.key!=null?escape(""+vn.key):fn.toString(36)}function R$5(vn,fn,En,Cn,_i){var An=typeof vn;(An==="undefined"||An==="boolean")&&(vn=null);var ba=!1;if(vn===null)ba=!0;else switch(An){case"string":case"number":ba=!0;break;case"object":switch(vn.$$typeof){case l$6:case n$9:ba=!0}}if(ba)return ba=vn,_i=_i(ba),vn=Cn===""?"."+Q$4(ba,0):Cn,I$8(_i)?(En="",vn!=null&&(En=vn.replace(P$6,"$&/")+"/"),R$5(_i,fn,En,"",function(rs){return rs})):_i!=null&&(O$8(_i)&&(_i=N$4(_i,En+(!_i.key||ba&&ba.key===_i.key?"":(""+_i.key).replace(P$6,"$&/")+"/")+vn)),fn.push(_i)),1;if(ba=0,Cn=Cn===""?".":Cn+":",I$8(vn))for(var xa=0;xa<vn.length;xa++){An=vn[xa];var $a=Cn+Q$4(An,xa);ba+=R$5(An,fn,En,$a,_i)}else if($a=A$5(vn),typeof $a=="function")for(vn=$a.call(vn),xa=0;!(An=vn.next()).done;)An=An.value,$a=Cn+Q$4(An,xa++),ba+=R$5(An,fn,En,$a,_i);else if(An==="object")throw fn=String(vn),Error("Objects are not valid as a React child (found: "+(fn==="[object Object]"?"object with keys {"+Object.keys(vn).join(", ")+"}":fn)+"). If you meant to render a collection of children, use an array instead.");return ba}function S$a(vn,fn,En){if(vn==null)return vn;var Cn=[],_i=0;return R$5(vn,Cn,"","",function(An){return fn.call(En,An,_i++)}),Cn}function T$4(vn){if(vn._status===-1){var fn=vn._result;fn=fn(),fn.then(function(En){(vn._status===0||vn._status===-1)&&(vn._status=1,vn._result=En)},function(En){(vn._status===0||vn._status===-1)&&(vn._status=2,vn._result=En)}),vn._status===-1&&(vn._status=0,vn._result=fn)}if(vn._status===1)return vn._result.default;throw vn._result}var U$5={current:null},V$7={transition:null},W$b={ReactCurrentDispatcher:U$5,ReactCurrentBatchConfig:V$7,ReactCurrentOwner:K$b};function X$5(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$a,forEach:function(vn,fn,En){S$a(vn,function(){fn.apply(this,arguments)},En)},count:function(vn){var fn=0;return S$a(vn,function(){fn++}),fn},toArray:function(vn){return S$a(vn,function(fn){return fn})||[]},only:function(vn){if(!O$8(vn))throw Error("React.Children.only expected to receive a single React element child.");return vn}};react_production_min.Component=E$4;react_production_min.Fragment=p$8;react_production_min.Profiler=r$7;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$4;react_production_min.Suspense=w$4;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$b;react_production_min.act=X$5;react_production_min.cloneElement=function(vn,fn,En){if(vn==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+vn+".");var Cn=C$7({},vn.props),_i=vn.key,An=vn.ref,ba=vn._owner;if(fn!=null){if(fn.ref!==void 0&&(An=fn.ref,ba=K$b.current),fn.key!==void 0&&(_i=""+fn.key),vn.type&&vn.type.defaultProps)var xa=vn.type.defaultProps;for($a in fn)J$3.call(fn,$a)&&!L$6.hasOwnProperty($a)&&(Cn[$a]=fn[$a]===void 0&&xa!==void 0?xa[$a]:fn[$a])}var $a=arguments.length-2;if($a===1)Cn.children=En;else if(1<$a){xa=Array($a);for(var rs=0;rs<$a;rs++)xa[rs]=arguments[rs+2];Cn.children=xa}return{$$typeof:l$6,type:vn.type,key:_i,ref:An,props:Cn,_owner:ba}};react_production_min.createContext=function(vn){return vn={$$typeof:u$3,_currentValue:vn,_currentValue2:vn,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},vn.Provider={$$typeof:t$2,_context:vn},vn.Consumer=vn};react_production_min.createElement=M$7;react_production_min.createFactory=function(vn){var fn=M$7.bind(null,vn);return fn.type=vn,fn};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(vn){return{$$typeof:v$9,render:vn}};react_production_min.isValidElement=O$8;react_production_min.lazy=function(vn){return{$$typeof:y$8,_payload:{_status:-1,_result:vn},_init:T$4}};react_production_min.memo=function(vn,fn){return{$$typeof:x$b,type:vn,compare:fn===void 0?null:fn}};react_production_min.startTransition=function(vn){var fn=V$7.transition;V$7.transition={};try{vn()}finally{V$7.transition=fn}};react_production_min.unstable_act=X$5;react_production_min.useCallback=function(vn,fn){return U$5.current.useCallback(vn,fn)};react_production_min.useContext=function(vn){return U$5.current.useContext(vn)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(vn){return U$5.current.useDeferredValue(vn)};react_production_min.useEffect=function(vn,fn){return U$5.current.useEffect(vn,fn)};react_production_min.useId=function(){return U$5.current.useId()};react_production_min.useImperativeHandle=function(vn,fn,En){return U$5.current.useImperativeHandle(vn,fn,En)};react_production_min.useInsertionEffect=function(vn,fn){return U$5.current.useInsertionEffect(vn,fn)};react_production_min.useLayoutEffect=function(vn,fn){return U$5.current.useLayoutEffect(vn,fn)};react_production_min.useMemo=function(vn,fn){return U$5.current.useMemo(vn,fn)};react_production_min.useReducer=function(vn,fn,En){return U$5.current.useReducer(vn,fn,En)};react_production_min.useRef=function(vn){return U$5.current.useRef(vn)};react_production_min.useState=function(vn){return U$5.current.useState(vn)};react_production_min.useSyncExternalStore=function(vn,fn,En){return U$5.current.useSyncExternalStore(vn,fn,En)};react_production_min.useTransition=function(){return U$5.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs$1(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$7=reactExports,k$7=Symbol.for("react.element"),l$5=Symbol.for("react.fragment"),m$4=Object.prototype.hasOwnProperty,n$8=f$7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$7={key:!0,ref:!0,__self:!0,__source:!0};function q$3(vn,fn,En){var Cn,_i={},An=null,ba=null;En!==void 0&&(An=""+En),fn.key!==void 0&&(An=""+fn.key),fn.ref!==void 0&&(ba=fn.ref);for(Cn in fn)m$4.call(fn,Cn)&&!p$7.hasOwnProperty(Cn)&&(_i[Cn]=fn[Cn]);if(vn&&vn.defaultProps)for(Cn in fn=vn.defaultProps,fn)_i[Cn]===void 0&&(_i[Cn]=fn[Cn]);return{$$typeof:k$7,type:vn,key:An,ref:ba,props:_i,_owner:n$8.current}}reactJsxRuntime_production_min.Fragment=l$5;reactJsxRuntime_production_min.jsx=q$3;reactJsxRuntime_production_min.jsxs=q$3;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(vn){function fn(hs,ss){var ga=hs.length;hs.push(ss);e:for(;0<ga;){var as=ga-1>>>1,r0=hs[as];if(0<_i(r0,ss))hs[as]=ss,hs[ga]=r0,ga=as;else break e}}function En(hs){return hs.length===0?null:hs[0]}function Cn(hs){if(hs.length===0)return null;var ss=hs[0],ga=hs.pop();if(ga!==ss){hs[0]=ga;e:for(var as=0,r0=hs.length,a0=r0>>>1;as<a0;){var l0=2*(as+1)-1,s0=hs[l0],b0=l0+1,f0=hs[b0];if(0>_i(s0,ga))b0<r0&&0>_i(f0,s0)?(hs[as]=f0,hs[b0]=ga,as=b0):(hs[as]=s0,hs[l0]=ga,as=l0);else if(b0<r0&&0>_i(f0,ga))hs[as]=f0,hs[b0]=ga,as=b0;else break e}}return ss}function _i(hs,ss){var ga=hs.sortIndex-ss.sortIndex;return ga!==0?ga:hs.id-ss.id}if(typeof performance=="object"&&typeof performance.now=="function"){var An=performance;vn.unstable_now=function(){return An.now()}}else{var ba=Date,xa=ba.now();vn.unstable_now=function(){return ba.now()-xa}}var $a=[],rs=[],ts=1,is=null,cs=3,us=!1,ps=!1,bs=!1,e0=typeof setTimeout=="function"?setTimeout:null,gs=typeof clearTimeout=="function"?clearTimeout:null,Ds=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function i0(hs){for(var ss=En(rs);ss!==null;){if(ss.callback===null)Cn(rs);else if(ss.startTime<=hs)Cn(rs),ss.sortIndex=ss.expirationTime,fn($a,ss);else break;ss=En(rs)}}function n0(hs){if(bs=!1,i0(hs),!ps)if(En($a)!==null)ps=!0,os(c0);else{var ss=En(rs);ss!==null&&ls(n0,ss.startTime-hs)}}function c0(hs,ss){ps=!1,bs&&(bs=!1,gs(g0),g0=-1),us=!0;var ga=cs;try{for(i0(ss),is=En($a);is!==null&&(!(is.expirationTime>ss)||hs&&!ds());){var as=is.callback;if(typeof as=="function"){is.callback=null,cs=is.priorityLevel;var r0=as(is.expirationTime<=ss);ss=vn.unstable_now(),typeof r0=="function"?is.callback=r0:is===En($a)&&Cn($a),i0(ss)}else Cn($a);is=En($a)}if(is!==null)var a0=!0;else{var l0=En(rs);l0!==null&&ls(n0,l0.startTime-ss),a0=!1}return a0}finally{is=null,cs=ga,us=!1}}var d0=!1,o0=null,g0=-1,w0=5,M0=-1;function ds(){return!(vn.unstable_now()-M0<w0)}function na(){if(o0!==null){var hs=vn.unstable_now();M0=hs;var ss=!0;try{ss=o0(!0,hs)}finally{ss?_a():(d0=!1,o0=null)}}else d0=!1}var _a;if(typeof Ds=="function")_a=function(){Ds(na)};else if(typeof MessageChannel<"u"){var es=new MessageChannel,ns=es.port2;es.port1.onmessage=na,_a=function(){ns.postMessage(null)}}else _a=function(){e0(na,0)};function os(hs){o0=hs,d0||(d0=!0,_a())}function ls(hs,ss){g0=e0(function(){hs(vn.unstable_now())},ss)}vn.unstable_IdlePriority=5,vn.unstable_ImmediatePriority=1,vn.unstable_LowPriority=4,vn.unstable_NormalPriority=3,vn.unstable_Profiling=null,vn.unstable_UserBlockingPriority=2,vn.unstable_cancelCallback=function(hs){hs.callback=null},vn.unstable_continueExecution=function(){ps||us||(ps=!0,os(c0))},vn.unstable_forceFrameRate=function(hs){0>hs||125<hs?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w0=0<hs?Math.floor(1e3/hs):5},vn.unstable_getCurrentPriorityLevel=function(){return cs},vn.unstable_getFirstCallbackNode=function(){return En($a)},vn.unstable_next=function(hs){switch(cs){case 1:case 2:case 3:var ss=3;break;default:ss=cs}var ga=cs;cs=ss;try{return hs()}finally{cs=ga}},vn.unstable_pauseExecution=function(){},vn.unstable_requestPaint=function(){},vn.unstable_runWithPriority=function(hs,ss){switch(hs){case 1:case 2:case 3:case 4:case 5:break;default:hs=3}var ga=cs;cs=hs;try{return ss()}finally{cs=ga}},vn.unstable_scheduleCallback=function(hs,ss,ga){var as=vn.unstable_now();switch(typeof ga=="object"&&ga!==null?(ga=ga.delay,ga=typeof ga=="number"&&0<ga?as+ga:as):ga=as,hs){case 1:var r0=-1;break;case 2:r0=250;break;case 5:r0=1073741823;break;case 4:r0=1e4;break;default:r0=5e3}return r0=ga+r0,hs={id:ts++,callback:ss,priorityLevel:hs,startTime:ga,expirationTime:r0,sortIndex:-1},ga>as?(hs.sortIndex=ga,fn(rs,hs),En($a)===null&&hs===En(rs)&&(bs?(gs(g0),g0=-1):bs=!0,ls(n0,ga-as))):(hs.sortIndex=r0,fn($a,hs),ps||us||(ps=!0,os(c0))),hs},vn.unstable_shouldYield=ds,vn.unstable_wrapCallback=function(hs){var ss=cs;return function(){var ga=cs;cs=ss;try{return hs.apply(this,arguments)}finally{cs=ga}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$6(vn){for(var fn="https://reactjs.org/docs/error-decoder.html?invariant="+vn,En=1;En<arguments.length;En++)fn+="&args[]="+encodeURIComponent(arguments[En]);return"Minified React error #"+vn+"; visit "+fn+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(vn,fn){ha(vn,fn),ha(vn+"Capture",fn)}function ha(vn,fn){for(ea[vn]=fn,vn=0;vn<fn.length;vn++)da.add(fn[vn])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(vn){return ja.call(ma,vn)?!0:ja.call(la,vn)?!1:ka.test(vn)?ma[vn]=!0:(la[vn]=!0,!1)}function pa(vn,fn,En,Cn){if(En!==null&&En.type===0)return!1;switch(typeof fn){case"function":case"symbol":return!0;case"boolean":return Cn?!1:En!==null?!En.acceptsBooleans:(vn=vn.toLowerCase().slice(0,5),vn!=="data-"&&vn!=="aria-");default:return!1}}function qa(vn,fn,En,Cn){if(fn===null||typeof fn>"u"||pa(vn,fn,En,Cn))return!0;if(Cn)return!1;if(En!==null)switch(En.type){case 3:return!fn;case 4:return fn===!1;case 5:return isNaN(fn);case 6:return isNaN(fn)||1>fn}return!1}function v$8(vn,fn,En,Cn,_i,An,ba){this.acceptsBooleans=fn===2||fn===3||fn===4,this.attributeName=Cn,this.attributeNamespace=_i,this.mustUseProperty=En,this.propertyName=vn,this.type=fn,this.sanitizeURL=An,this.removeEmptyString=ba}var z$b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(vn){z$b[vn]=new v$8(vn,0,!1,vn,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(vn){var fn=vn[0];z$b[fn]=new v$8(fn,1,!1,vn[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(vn){z$b[vn]=new v$8(vn,2,!1,vn.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(vn){z$b[vn]=new v$8(vn,2,!1,vn,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(vn){z$b[vn]=new v$8(vn,3,!1,vn.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(vn){z$b[vn]=new v$8(vn,3,!0,vn,null,!1,!1)});["capture","download"].forEach(function(vn){z$b[vn]=new v$8(vn,4,!1,vn,null,!1,!1)});["cols","rows","size","span"].forEach(function(vn){z$b[vn]=new v$8(vn,6,!1,vn,null,!1,!1)});["rowSpan","start"].forEach(function(vn){z$b[vn]=new v$8(vn,5,!1,vn.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(vn){return vn[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(vn){var fn=vn.replace(ra,sa);z$b[fn]=new v$8(fn,1,!1,vn,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(vn){var fn=vn.replace(ra,sa);z$b[fn]=new v$8(fn,1,!1,vn,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(vn){var fn=vn.replace(ra,sa);z$b[fn]=new v$8(fn,1,!1,vn,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(vn){z$b[vn]=new v$8(vn,1,!1,vn.toLowerCase(),null,!1,!1)});z$b.xlinkHref=new v$8("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(vn){z$b[vn]=new v$8(vn,1,!1,vn.toLowerCase(),null,!0,!0)});function ta(vn,fn,En,Cn){var _i=z$b.hasOwnProperty(fn)?z$b[fn]:null;(_i!==null?_i.type!==0:Cn||!(2<fn.length)||fn[0]!=="o"&&fn[0]!=="O"||fn[1]!=="n"&&fn[1]!=="N")&&(qa(fn,En,_i,Cn)&&(En=null),Cn||_i===null?oa(fn)&&(En===null?vn.removeAttribute(fn):vn.setAttribute(fn,""+En)):_i.mustUseProperty?vn[_i.propertyName]=En===null?_i.type===3?!1:"":En:(fn=_i.attributeName,Cn=_i.attributeNamespace,En===null?vn.removeAttribute(fn):(_i=_i.type,En=_i===3||_i===4&&En===!0?"":""+En,Cn?vn.setAttributeNS(Cn,fn,En):vn.setAttribute(fn,En))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(vn){return vn===null||typeof vn!="object"?null:(vn=Ja&&vn[Ja]||vn["@@iterator"],typeof vn=="function"?vn:null)}var A$4=Object.assign,La;function Ma(vn){if(La===void 0)try{throw Error()}catch(En){var fn=En.stack.trim().match(/\n( *(at )?)/);La=fn&&fn[1]||""}return`
`+La+vn}var Na=!1;function Oa(vn,fn){if(!vn||Na)return"";Na=!0;var En=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(fn)if(fn=function(){throw Error()},Object.defineProperty(fn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fn,[])}catch(rs){var Cn=rs}Reflect.construct(vn,[],fn)}else{try{fn.call()}catch(rs){Cn=rs}vn.call(fn.prototype)}else{try{throw Error()}catch(rs){Cn=rs}vn()}}catch(rs){if(rs&&Cn&&typeof rs.stack=="string"){for(var _i=rs.stack.split(`
`),An=Cn.stack.split(`
`),ba=_i.length-1,xa=An.length-1;1<=ba&&0<=xa&&_i[ba]!==An[xa];)xa--;for(;1<=ba&&0<=xa;ba--,xa--)if(_i[ba]!==An[xa]){if(ba!==1||xa!==1)do if(ba--,xa--,0>xa||_i[ba]!==An[xa]){var $a=`
`+_i[ba].replace(" at new "," at ");return vn.displayName&&$a.includes("<anonymous>")&&($a=$a.replace("<anonymous>",vn.displayName)),$a}while(1<=ba&&0<=xa);break}}}finally{Na=!1,Error.prepareStackTrace=En}return(vn=vn?vn.displayName||vn.name:"")?Ma(vn):""}function Pa(vn){switch(vn.tag){case 5:return Ma(vn.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return vn=Oa(vn.type,!1),vn;case 11:return vn=Oa(vn.type.render,!1),vn;case 1:return vn=Oa(vn.type,!0),vn;default:return""}}function Qa(vn){if(vn==null)return null;if(typeof vn=="function")return vn.displayName||vn.name||null;if(typeof vn=="string")return vn;switch(vn){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof vn=="object")switch(vn.$$typeof){case Ca:return(vn.displayName||"Context")+".Consumer";case Ba:return(vn._context.displayName||"Context")+".Provider";case Da:var fn=vn.render;return vn=vn.displayName,vn||(vn=fn.displayName||fn.name||"",vn=vn!==""?"ForwardRef("+vn+")":"ForwardRef"),vn;case Ga:return fn=vn.displayName||null,fn!==null?fn:Qa(vn.type)||"Memo";case Ha:fn=vn._payload,vn=vn._init;try{return Qa(vn(fn))}catch{}}return null}function Ra(vn){var fn=vn.type;switch(vn.tag){case 24:return"Cache";case 9:return(fn.displayName||"Context")+".Consumer";case 10:return(fn._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return vn=fn.render,vn=vn.displayName||vn.name||"",fn.displayName||(vn!==""?"ForwardRef("+vn+")":"ForwardRef");case 7:return"Fragment";case 5:return fn;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(fn);case 8:return fn===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof fn=="function")return fn.displayName||fn.name||null;if(typeof fn=="string")return fn}return null}function Sa(vn){switch(typeof vn){case"boolean":case"number":case"string":case"undefined":return vn;case"object":return vn;default:return""}}function Ta(vn){var fn=vn.type;return(vn=vn.nodeName)&&vn.toLowerCase()==="input"&&(fn==="checkbox"||fn==="radio")}function Ua(vn){var fn=Ta(vn)?"checked":"value",En=Object.getOwnPropertyDescriptor(vn.constructor.prototype,fn),Cn=""+vn[fn];if(!vn.hasOwnProperty(fn)&&typeof En<"u"&&typeof En.get=="function"&&typeof En.set=="function"){var _i=En.get,An=En.set;return Object.defineProperty(vn,fn,{configurable:!0,get:function(){return _i.call(this)},set:function(ba){Cn=""+ba,An.call(this,ba)}}),Object.defineProperty(vn,fn,{enumerable:En.enumerable}),{getValue:function(){return Cn},setValue:function(ba){Cn=""+ba},stopTracking:function(){vn._valueTracker=null,delete vn[fn]}}}}function Va(vn){vn._valueTracker||(vn._valueTracker=Ua(vn))}function Wa(vn){if(!vn)return!1;var fn=vn._valueTracker;if(!fn)return!0;var En=fn.getValue(),Cn="";return vn&&(Cn=Ta(vn)?vn.checked?"true":"false":vn.value),vn=Cn,vn!==En?(fn.setValue(vn),!0):!1}function Xa(vn){if(vn=vn||(typeof document<"u"?document:void 0),typeof vn>"u")return null;try{return vn.activeElement||vn.body}catch{return vn.body}}function Ya(vn,fn){var En=fn.checked;return A$4({},fn,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:En??vn._wrapperState.initialChecked})}function Za(vn,fn){var En=fn.defaultValue==null?"":fn.defaultValue,Cn=fn.checked!=null?fn.checked:fn.defaultChecked;En=Sa(fn.value!=null?fn.value:En),vn._wrapperState={initialChecked:Cn,initialValue:En,controlled:fn.type==="checkbox"||fn.type==="radio"?fn.checked!=null:fn.value!=null}}function ab(vn,fn){fn=fn.checked,fn!=null&&ta(vn,"checked",fn,!1)}function bb(vn,fn){ab(vn,fn);var En=Sa(fn.value),Cn=fn.type;if(En!=null)Cn==="number"?(En===0&&vn.value===""||vn.value!=En)&&(vn.value=""+En):vn.value!==""+En&&(vn.value=""+En);else if(Cn==="submit"||Cn==="reset"){vn.removeAttribute("value");return}fn.hasOwnProperty("value")?cb(vn,fn.type,En):fn.hasOwnProperty("defaultValue")&&cb(vn,fn.type,Sa(fn.defaultValue)),fn.checked==null&&fn.defaultChecked!=null&&(vn.defaultChecked=!!fn.defaultChecked)}function db(vn,fn,En){if(fn.hasOwnProperty("value")||fn.hasOwnProperty("defaultValue")){var Cn=fn.type;if(!(Cn!=="submit"&&Cn!=="reset"||fn.value!==void 0&&fn.value!==null))return;fn=""+vn._wrapperState.initialValue,En||fn===vn.value||(vn.value=fn),vn.defaultValue=fn}En=vn.name,En!==""&&(vn.name=""),vn.defaultChecked=!!vn._wrapperState.initialChecked,En!==""&&(vn.name=En)}function cb(vn,fn,En){(fn!=="number"||Xa(vn.ownerDocument)!==vn)&&(En==null?vn.defaultValue=""+vn._wrapperState.initialValue:vn.defaultValue!==""+En&&(vn.defaultValue=""+En))}var eb=Array.isArray;function fb(vn,fn,En,Cn){if(vn=vn.options,fn){fn={};for(var _i=0;_i<En.length;_i++)fn["$"+En[_i]]=!0;for(En=0;En<vn.length;En++)_i=fn.hasOwnProperty("$"+vn[En].value),vn[En].selected!==_i&&(vn[En].selected=_i),_i&&Cn&&(vn[En].defaultSelected=!0)}else{for(En=""+Sa(En),fn=null,_i=0;_i<vn.length;_i++){if(vn[_i].value===En){vn[_i].selected=!0,Cn&&(vn[_i].defaultSelected=!0);return}fn!==null||vn[_i].disabled||(fn=vn[_i])}fn!==null&&(fn.selected=!0)}}function gb(vn,fn){if(fn.dangerouslySetInnerHTML!=null)throw Error(p$6(91));return A$4({},fn,{value:void 0,defaultValue:void 0,children:""+vn._wrapperState.initialValue})}function hb(vn,fn){var En=fn.value;if(En==null){if(En=fn.children,fn=fn.defaultValue,En!=null){if(fn!=null)throw Error(p$6(92));if(eb(En)){if(1<En.length)throw Error(p$6(93));En=En[0]}fn=En}fn==null&&(fn=""),En=fn}vn._wrapperState={initialValue:Sa(En)}}function ib(vn,fn){var En=Sa(fn.value),Cn=Sa(fn.defaultValue);En!=null&&(En=""+En,En!==vn.value&&(vn.value=En),fn.defaultValue==null&&vn.defaultValue!==En&&(vn.defaultValue=En)),Cn!=null&&(vn.defaultValue=""+Cn)}function jb(vn){var fn=vn.textContent;fn===vn._wrapperState.initialValue&&fn!==""&&fn!==null&&(vn.value=fn)}function kb(vn){switch(vn){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(vn,fn){return vn==null||vn==="http://www.w3.org/1999/xhtml"?kb(fn):vn==="http://www.w3.org/2000/svg"&&fn==="foreignObject"?"http://www.w3.org/1999/xhtml":vn}var mb,nb=function(vn){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(fn,En,Cn,_i){MSApp.execUnsafeLocalFunction(function(){return vn(fn,En,Cn,_i)})}:vn}(function(vn,fn){if(vn.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in vn)vn.innerHTML=fn;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+fn.valueOf().toString()+"</svg>",fn=mb.firstChild;vn.firstChild;)vn.removeChild(vn.firstChild);for(;fn.firstChild;)vn.appendChild(fn.firstChild)}});function ob(vn,fn){if(fn){var En=vn.firstChild;if(En&&En===vn.lastChild&&En.nodeType===3){En.nodeValue=fn;return}}vn.textContent=fn}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(vn){qb.forEach(function(fn){fn=fn+vn.charAt(0).toUpperCase()+vn.substring(1),pb[fn]=pb[vn]})});function rb(vn,fn,En){return fn==null||typeof fn=="boolean"||fn===""?"":En||typeof fn!="number"||fn===0||pb.hasOwnProperty(vn)&&pb[vn]?(""+fn).trim():fn+"px"}function sb(vn,fn){vn=vn.style;for(var En in fn)if(fn.hasOwnProperty(En)){var Cn=En.indexOf("--")===0,_i=rb(En,fn[En],Cn);En==="float"&&(En="cssFloat"),Cn?vn.setProperty(En,_i):vn[En]=_i}}var tb=A$4({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(vn,fn){if(fn){if(tb[vn]&&(fn.children!=null||fn.dangerouslySetInnerHTML!=null))throw Error(p$6(137,vn));if(fn.dangerouslySetInnerHTML!=null){if(fn.children!=null)throw Error(p$6(60));if(typeof fn.dangerouslySetInnerHTML!="object"||!("__html"in fn.dangerouslySetInnerHTML))throw Error(p$6(61))}if(fn.style!=null&&typeof fn.style!="object")throw Error(p$6(62))}}function vb(vn,fn){if(vn.indexOf("-")===-1)return typeof fn.is=="string";switch(vn){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(vn){return vn=vn.target||vn.srcElement||window,vn.correspondingUseElement&&(vn=vn.correspondingUseElement),vn.nodeType===3?vn.parentNode:vn}var yb=null,zb=null,Ab=null;function Bb(vn){if(vn=Cb(vn)){if(typeof yb!="function")throw Error(p$6(280));var fn=vn.stateNode;fn&&(fn=Db(fn),yb(vn.stateNode,vn.type,fn))}}function Eb(vn){zb?Ab?Ab.push(vn):Ab=[vn]:zb=vn}function Fb(){if(zb){var vn=zb,fn=Ab;if(Ab=zb=null,Bb(vn),fn)for(vn=0;vn<fn.length;vn++)Bb(fn[vn])}}function Gb(vn,fn){return vn(fn)}function Hb(){}var Ib=!1;function Jb(vn,fn,En){if(Ib)return vn(fn,En);Ib=!0;try{return Gb(vn,fn,En)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(vn,fn){var En=vn.stateNode;if(En===null)return null;var Cn=Db(En);if(Cn===null)return null;En=Cn[fn];e:switch(fn){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Cn=!Cn.disabled)||(vn=vn.type,Cn=!(vn==="button"||vn==="input"||vn==="select"||vn==="textarea")),vn=!Cn;break e;default:vn=!1}if(vn)return null;if(En&&typeof En!="function")throw Error(p$6(231,fn,typeof En));return En}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(vn,fn,En,Cn,_i,An,ba,xa,$a){var rs=Array.prototype.slice.call(arguments,3);try{fn.apply(En,rs)}catch(ts){this.onError(ts)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(vn){Ob=!0,Pb=vn}};function Tb(vn,fn,En,Cn,_i,An,ba,xa,$a){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(vn,fn,En,Cn,_i,An,ba,xa,$a){if(Tb.apply(this,arguments),Ob){if(Ob){var rs=Pb;Ob=!1,Pb=null}else throw Error(p$6(198));Qb||(Qb=!0,Rb=rs)}}function Vb(vn){var fn=vn,En=vn;if(vn.alternate)for(;fn.return;)fn=fn.return;else{vn=fn;do fn=vn,fn.flags&4098&&(En=fn.return),vn=fn.return;while(vn)}return fn.tag===3?En:null}function Wb(vn){if(vn.tag===13){var fn=vn.memoizedState;if(fn===null&&(vn=vn.alternate,vn!==null&&(fn=vn.memoizedState)),fn!==null)return fn.dehydrated}return null}function Xb(vn){if(Vb(vn)!==vn)throw Error(p$6(188))}function Yb(vn){var fn=vn.alternate;if(!fn){if(fn=Vb(vn),fn===null)throw Error(p$6(188));return fn!==vn?null:vn}for(var En=vn,Cn=fn;;){var _i=En.return;if(_i===null)break;var An=_i.alternate;if(An===null){if(Cn=_i.return,Cn!==null){En=Cn;continue}break}if(_i.child===An.child){for(An=_i.child;An;){if(An===En)return Xb(_i),vn;if(An===Cn)return Xb(_i),fn;An=An.sibling}throw Error(p$6(188))}if(En.return!==Cn.return)En=_i,Cn=An;else{for(var ba=!1,xa=_i.child;xa;){if(xa===En){ba=!0,En=_i,Cn=An;break}if(xa===Cn){ba=!0,Cn=_i,En=An;break}xa=xa.sibling}if(!ba){for(xa=An.child;xa;){if(xa===En){ba=!0,En=An,Cn=_i;break}if(xa===Cn){ba=!0,Cn=An,En=_i;break}xa=xa.sibling}if(!ba)throw Error(p$6(189))}}if(En.alternate!==Cn)throw Error(p$6(190))}if(En.tag!==3)throw Error(p$6(188));return En.stateNode.current===En?vn:fn}function Zb(vn){return vn=Yb(vn),vn!==null?$b(vn):null}function $b(vn){if(vn.tag===5||vn.tag===6)return vn;for(vn=vn.child;vn!==null;){var fn=$b(vn);if(fn!==null)return fn;vn=vn.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$5=ca.unstable_now,ec$4=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(vn){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,vn,void 0,(vn.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(vn){return vn>>>=0,vn===0?32:31-(pc(vn)/qc|0)|0}var rc=64,sc=4194304;function tc(vn){switch(vn&-vn){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return vn&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return vn&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return vn}}function uc(vn,fn){var En=vn.pendingLanes;if(En===0)return 0;var Cn=0,_i=vn.suspendedLanes,An=vn.pingedLanes,ba=En&268435455;if(ba!==0){var xa=ba&~_i;xa!==0?Cn=tc(xa):(An&=ba,An!==0&&(Cn=tc(An)))}else ba=En&~_i,ba!==0?Cn=tc(ba):An!==0&&(Cn=tc(An));if(Cn===0)return 0;if(fn!==0&&fn!==Cn&&!(fn&_i)&&(_i=Cn&-Cn,An=fn&-fn,_i>=An||_i===16&&(An&4194240)!==0))return fn;if(Cn&4&&(Cn|=En&16),fn=vn.entangledLanes,fn!==0)for(vn=vn.entanglements,fn&=Cn;0<fn;)En=31-oc(fn),_i=1<<En,Cn|=vn[En],fn&=~_i;return Cn}function vc(vn,fn){switch(vn){case 1:case 2:case 4:return fn+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return fn+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(vn,fn){for(var En=vn.suspendedLanes,Cn=vn.pingedLanes,_i=vn.expirationTimes,An=vn.pendingLanes;0<An;){var ba=31-oc(An),xa=1<<ba,$a=_i[ba];$a===-1?(!(xa&En)||xa&Cn)&&(_i[ba]=vc(xa,fn)):$a<=fn&&(vn.expiredLanes|=xa),An&=~xa}}function xc(vn){return vn=vn.pendingLanes&-1073741825,vn!==0?vn:vn&1073741824?1073741824:0}function yc(){var vn=rc;return rc<<=1,!(rc&4194240)&&(rc=64),vn}function zc(vn){for(var fn=[],En=0;31>En;En++)fn.push(vn);return fn}function Ac(vn,fn,En){vn.pendingLanes|=fn,fn!==536870912&&(vn.suspendedLanes=0,vn.pingedLanes=0),vn=vn.eventTimes,fn=31-oc(fn),vn[fn]=En}function Bc(vn,fn){var En=vn.pendingLanes&~fn;vn.pendingLanes=fn,vn.suspendedLanes=0,vn.pingedLanes=0,vn.expiredLanes&=fn,vn.mutableReadLanes&=fn,vn.entangledLanes&=fn,fn=vn.entanglements;var Cn=vn.eventTimes;for(vn=vn.expirationTimes;0<En;){var _i=31-oc(En),An=1<<_i;fn[_i]=0,Cn[_i]=-1,vn[_i]=-1,En&=~An}}function Cc(vn,fn){var En=vn.entangledLanes|=fn;for(vn=vn.entanglements;En;){var Cn=31-oc(En),_i=1<<Cn;_i&fn|vn[Cn]&fn&&(vn[Cn]|=fn),En&=~_i}}var C$6=0;function Dc(vn){return vn&=-vn,1<vn?4<vn?vn&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(vn,fn){switch(vn){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(fn.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(fn.pointerId)}}function Tc(vn,fn,En,Cn,_i,An){return vn===null||vn.nativeEvent!==An?(vn={blockedOn:fn,domEventName:En,eventSystemFlags:Cn,nativeEvent:An,targetContainers:[_i]},fn!==null&&(fn=Cb(fn),fn!==null&&Fc(fn)),vn):(vn.eventSystemFlags|=Cn,fn=vn.targetContainers,_i!==null&&fn.indexOf(_i)===-1&&fn.push(_i),vn)}function Uc(vn,fn,En,Cn,_i){switch(fn){case"focusin":return Lc=Tc(Lc,vn,fn,En,Cn,_i),!0;case"dragenter":return Mc=Tc(Mc,vn,fn,En,Cn,_i),!0;case"mouseover":return Nc=Tc(Nc,vn,fn,En,Cn,_i),!0;case"pointerover":var An=_i.pointerId;return Oc.set(An,Tc(Oc.get(An)||null,vn,fn,En,Cn,_i)),!0;case"gotpointercapture":return An=_i.pointerId,Pc.set(An,Tc(Pc.get(An)||null,vn,fn,En,Cn,_i)),!0}return!1}function Vc(vn){var fn=Wc(vn.target);if(fn!==null){var En=Vb(fn);if(En!==null){if(fn=En.tag,fn===13){if(fn=Wb(En),fn!==null){vn.blockedOn=fn,Ic(vn.priority,function(){Gc(En)});return}}else if(fn===3&&En.stateNode.current.memoizedState.isDehydrated){vn.blockedOn=En.tag===3?En.stateNode.containerInfo:null;return}}}vn.blockedOn=null}function Xc(vn){if(vn.blockedOn!==null)return!1;for(var fn=vn.targetContainers;0<fn.length;){var En=Yc(vn.domEventName,vn.eventSystemFlags,fn[0],vn.nativeEvent);if(En===null){En=vn.nativeEvent;var Cn=new En.constructor(En.type,En);wb=Cn,En.target.dispatchEvent(Cn),wb=null}else return fn=Cb(En),fn!==null&&Fc(fn),vn.blockedOn=En,!1;fn.shift()}return!0}function Zc(vn,fn,En){Xc(vn)&&En.delete(fn)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(vn,fn){vn.blockedOn===fn&&(vn.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(vn){function fn(_i){return ad(_i,vn)}if(0<Kc.length){ad(Kc[0],vn);for(var En=1;En<Kc.length;En++){var Cn=Kc[En];Cn.blockedOn===vn&&(Cn.blockedOn=null)}}for(Lc!==null&&ad(Lc,vn),Mc!==null&&ad(Mc,vn),Nc!==null&&ad(Nc,vn),Oc.forEach(fn),Pc.forEach(fn),En=0;En<Qc.length;En++)Cn=Qc[En],Cn.blockedOn===vn&&(Cn.blockedOn=null);for(;0<Qc.length&&(En=Qc[0],En.blockedOn===null);)Vc(En),En.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(vn,fn,En,Cn){var _i=C$6,An=cd.transition;cd.transition=null;try{C$6=1,fd(vn,fn,En,Cn)}finally{C$6=_i,cd.transition=An}}function gd(vn,fn,En,Cn){var _i=C$6,An=cd.transition;cd.transition=null;try{C$6=4,fd(vn,fn,En,Cn)}finally{C$6=_i,cd.transition=An}}function fd(vn,fn,En,Cn){if(dd){var _i=Yc(vn,fn,En,Cn);if(_i===null)hd(vn,fn,Cn,id$1,En),Sc(vn,Cn);else if(Uc(_i,vn,fn,En,Cn))Cn.stopPropagation();else if(Sc(vn,Cn),fn&4&&-1<Rc.indexOf(vn)){for(;_i!==null;){var An=Cb(_i);if(An!==null&&Ec(An),An=Yc(vn,fn,En,Cn),An===null&&hd(vn,fn,Cn,id$1,En),An===_i)break;_i=An}_i!==null&&Cn.stopPropagation()}else hd(vn,fn,Cn,null,En)}}var id$1=null;function Yc(vn,fn,En,Cn){if(id$1=null,vn=xb(Cn),vn=Wc(vn),vn!==null)if(fn=Vb(vn),fn===null)vn=null;else if(En=fn.tag,En===13){if(vn=Wb(fn),vn!==null)return vn;vn=null}else if(En===3){if(fn.stateNode.current.memoizedState.isDehydrated)return fn.tag===3?fn.stateNode.containerInfo:null;vn=null}else fn!==vn&&(vn=null);return id$1=vn,null}function jd(vn){switch(vn){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$4()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var vn,fn=ld,En=fn.length,Cn,_i="value"in kd?kd.value:kd.textContent,An=_i.length;for(vn=0;vn<En&&fn[vn]===_i[vn];vn++);var ba=En-vn;for(Cn=1;Cn<=ba&&fn[En-Cn]===_i[An-Cn];Cn++);return md=_i.slice(vn,1<Cn?1-Cn:void 0)}function od(vn){var fn=vn.keyCode;return"charCode"in vn?(vn=vn.charCode,vn===0&&fn===13&&(vn=13)):vn=fn,vn===10&&(vn=13),32<=vn||vn===13?vn:0}function pd(){return!0}function qd(){return!1}function rd(vn){function fn(En,Cn,_i,An,ba){this._reactName=En,this._targetInst=_i,this.type=Cn,this.nativeEvent=An,this.target=ba,this.currentTarget=null;for(var xa in vn)vn.hasOwnProperty(xa)&&(En=vn[xa],this[xa]=En?En(An):An[xa]);return this.isDefaultPrevented=(An.defaultPrevented!=null?An.defaultPrevented:An.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$4(fn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var En=this.nativeEvent;En&&(En.preventDefault?En.preventDefault():typeof En.returnValue!="unknown"&&(En.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var En=this.nativeEvent;En&&(En.stopPropagation?En.stopPropagation():typeof En.cancelBubble!="unknown"&&(En.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),fn}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(vn){return vn.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$4({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$4({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(vn){return vn.relatedTarget===void 0?vn.fromElement===vn.srcElement?vn.toElement:vn.fromElement:vn.relatedTarget},movementX:function(vn){return"movementX"in vn?vn.movementX:(vn!==yd&&(yd&&vn.type==="mousemove"?(wd=vn.screenX-yd.screenX,xd=vn.screenY-yd.screenY):xd=wd=0,yd=vn),wd)},movementY:function(vn){return"movementY"in vn?vn.movementY:xd}}),Bd=rd(Ad),Cd=A$4({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$4({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$4({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$4({},sd,{clipboardData:function(vn){return"clipboardData"in vn?vn.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$4({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(vn){var fn=this.nativeEvent;return fn.getModifierState?fn.getModifierState(vn):(vn=Od[vn])?!!fn[vn]:!1}function zd(){return Pd}var Qd=A$4({},ud,{key:function(vn){if(vn.key){var fn=Md[vn.key]||vn.key;if(fn!=="Unidentified")return fn}return vn.type==="keypress"?(vn=od(vn),vn===13?"Enter":String.fromCharCode(vn)):vn.type==="keydown"||vn.type==="keyup"?Nd[vn.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(vn){return vn.type==="keypress"?od(vn):0},keyCode:function(vn){return vn.type==="keydown"||vn.type==="keyup"?vn.keyCode:0},which:function(vn){return vn.type==="keypress"?od(vn):vn.type==="keydown"||vn.type==="keyup"?vn.keyCode:0}}),Rd=rd(Qd),Sd=A$4({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$4({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$4({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$4({},Ad,{deltaX:function(vn){return"deltaX"in vn?vn.deltaX:"wheelDeltaX"in vn?-vn.wheelDeltaX:0},deltaY:function(vn){return"deltaY"in vn?vn.deltaY:"wheelDeltaY"in vn?-vn.wheelDeltaY:"wheelDelta"in vn?-vn.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$4=ia&&"CompositionEvent"in window,be$6=null;ia&&"documentMode"in document&&(be$6=document.documentMode);var ce$3=ia&&"TextEvent"in window&&!be$6,de$2=ia&&(!ae$4||be$6&&8<be$6&&11>=be$6),ee$2=" ",fe$4=!1;function ge$3(vn,fn){switch(vn){case"keyup":return $d.indexOf(fn.keyCode)!==-1;case"keydown":return fn.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$2(vn){return vn=vn.detail,typeof vn=="object"&&"data"in vn?vn.data:null}var ie$4=!1;function je(vn,fn){switch(vn){case"compositionend":return he$2(fn);case"keypress":return fn.which!==32?null:(fe$4=!0,ee$2);case"textInput":return vn=fn.data,vn===ee$2&&fe$4?null:vn;default:return null}}function ke(vn,fn){if(ie$4)return vn==="compositionend"||!ae$4&&ge$3(vn,fn)?(vn=nd(),md=ld=kd=null,ie$4=!1,vn):null;switch(vn){case"paste":return null;case"keypress":if(!(fn.ctrlKey||fn.altKey||fn.metaKey)||fn.ctrlKey&&fn.altKey){if(fn.char&&1<fn.char.length)return fn.char;if(fn.which)return String.fromCharCode(fn.which)}return null;case"compositionend":return de$2&&fn.locale!=="ko"?null:fn.data;default:return null}}var le$3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$5(vn){var fn=vn&&vn.nodeName&&vn.nodeName.toLowerCase();return fn==="input"?!!le$3[vn.type]:fn==="textarea"}function ne$4(vn,fn,En,Cn){Eb(Cn),fn=oe$2(fn,"onChange"),0<fn.length&&(En=new td("onChange","change",null,En,Cn),vn.push({event:En,listeners:fn}))}var pe$2=null,qe$2=null;function re$4(vn){se$4(vn,0)}function te$2(vn){var fn=ue$1(vn);if(Wa(fn))return vn}function ve$4(vn,fn){if(vn==="change")return fn}var we$6=!1;if(ia){var xe$1;if(ia){var ye$6="oninput"in document;if(!ye$6){var ze$2=document.createElement("div");ze$2.setAttribute("oninput","return;"),ye$6=typeof ze$2.oninput=="function"}xe$1=ye$6}else xe$1=!1;we$6=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$2&&(pe$2.detachEvent("onpropertychange",Be),qe$2=pe$2=null)}function Be(vn){if(vn.propertyName==="value"&&te$2(qe$2)){var fn=[];ne$4(fn,qe$2,vn,xb(vn)),Jb(re$4,fn)}}function Ce$2(vn,fn,En){vn==="focusin"?(Ae(),pe$2=fn,qe$2=En,pe$2.attachEvent("onpropertychange",Be)):vn==="focusout"&&Ae()}function De$3(vn){if(vn==="selectionchange"||vn==="keyup"||vn==="keydown")return te$2(qe$2)}function Ee$5(vn,fn){if(vn==="click")return te$2(fn)}function Fe$2(vn,fn){if(vn==="input"||vn==="change")return te$2(fn)}function Ge$2(vn,fn){return vn===fn&&(vn!==0||1/vn===1/fn)||vn!==vn&&fn!==fn}var He$2=typeof Object.is=="function"?Object.is:Ge$2;function Ie(vn,fn){if(He$2(vn,fn))return!0;if(typeof vn!="object"||vn===null||typeof fn!="object"||fn===null)return!1;var En=Object.keys(vn),Cn=Object.keys(fn);if(En.length!==Cn.length)return!1;for(Cn=0;Cn<En.length;Cn++){var _i=En[Cn];if(!ja.call(fn,_i)||!He$2(vn[_i],fn[_i]))return!1}return!0}function Je$4(vn){for(;vn&&vn.firstChild;)vn=vn.firstChild;return vn}function Ke$2(vn,fn){var En=Je$4(vn);vn=0;for(var Cn;En;){if(En.nodeType===3){if(Cn=vn+En.textContent.length,vn<=fn&&Cn>=fn)return{node:En,offset:fn-vn};vn=Cn}e:{for(;En;){if(En.nextSibling){En=En.nextSibling;break e}En=En.parentNode}En=void 0}En=Je$4(En)}}function Le$3(vn,fn){return vn&&fn?vn===fn?!0:vn&&vn.nodeType===3?!1:fn&&fn.nodeType===3?Le$3(vn,fn.parentNode):"contains"in vn?vn.contains(fn):vn.compareDocumentPosition?!!(vn.compareDocumentPosition(fn)&16):!1:!1}function Me(){for(var vn=window,fn=Xa();fn instanceof vn.HTMLIFrameElement;){try{var En=typeof fn.contentWindow.location.href=="string"}catch{En=!1}if(En)vn=fn.contentWindow;else break;fn=Xa(vn.document)}return fn}function Ne(vn){var fn=vn&&vn.nodeName&&vn.nodeName.toLowerCase();return fn&&(fn==="input"&&(vn.type==="text"||vn.type==="search"||vn.type==="tel"||vn.type==="url"||vn.type==="password")||fn==="textarea"||vn.contentEditable==="true")}function Oe(vn){var fn=Me(),En=vn.focusedElem,Cn=vn.selectionRange;if(fn!==En&&En&&En.ownerDocument&&Le$3(En.ownerDocument.documentElement,En)){if(Cn!==null&&Ne(En)){if(fn=Cn.start,vn=Cn.end,vn===void 0&&(vn=fn),"selectionStart"in En)En.selectionStart=fn,En.selectionEnd=Math.min(vn,En.value.length);else if(vn=(fn=En.ownerDocument||document)&&fn.defaultView||window,vn.getSelection){vn=vn.getSelection();var _i=En.textContent.length,An=Math.min(Cn.start,_i);Cn=Cn.end===void 0?An:Math.min(Cn.end,_i),!vn.extend&&An>Cn&&(_i=Cn,Cn=An,An=_i),_i=Ke$2(En,An);var ba=Ke$2(En,Cn);_i&&ba&&(vn.rangeCount!==1||vn.anchorNode!==_i.node||vn.anchorOffset!==_i.offset||vn.focusNode!==ba.node||vn.focusOffset!==ba.offset)&&(fn=fn.createRange(),fn.setStart(_i.node,_i.offset),vn.removeAllRanges(),An>Cn?(vn.addRange(fn),vn.extend(ba.node,ba.offset)):(fn.setEnd(ba.node,ba.offset),vn.addRange(fn)))}}for(fn=[],vn=En;vn=vn.parentNode;)vn.nodeType===1&&fn.push({element:vn,left:vn.scrollLeft,top:vn.scrollTop});for(typeof En.focus=="function"&&En.focus(),En=0;En<fn.length;En++)vn=fn[En],vn.element.scrollLeft=vn.left,vn.element.scrollTop=vn.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe$2=null,Re$1=null,Se$1=null,Te=!1;function Ue(vn,fn,En){var Cn=En.window===En?En.document:En.nodeType===9?En:En.ownerDocument;Te||Qe$2==null||Qe$2!==Xa(Cn)||(Cn=Qe$2,"selectionStart"in Cn&&Ne(Cn)?Cn={start:Cn.selectionStart,end:Cn.selectionEnd}:(Cn=(Cn.ownerDocument&&Cn.ownerDocument.defaultView||window).getSelection(),Cn={anchorNode:Cn.anchorNode,anchorOffset:Cn.anchorOffset,focusNode:Cn.focusNode,focusOffset:Cn.focusOffset}),Se$1&&Ie(Se$1,Cn)||(Se$1=Cn,Cn=oe$2(Re$1,"onSelect"),0<Cn.length&&(fn=new td("onSelect","select",null,fn,En),vn.push({event:fn,listeners:Cn}),fn.target=Qe$2)))}function Ve(vn,fn){var En={};return En[vn.toLowerCase()]=fn.toLowerCase(),En["Webkit"+vn]="webkit"+fn,En["Moz"+vn]="moz"+fn,En}var We$5={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe$3={},Ye$2={};ia&&(Ye$2=document.createElement("div").style,"AnimationEvent"in window||(delete We$5.animationend.animation,delete We$5.animationiteration.animation,delete We$5.animationstart.animation),"TransitionEvent"in window||delete We$5.transitionend.transition);function Ze$3(vn){if(Xe$3[vn])return Xe$3[vn];if(!We$5[vn])return vn;var fn=We$5[vn],En;for(En in fn)if(fn.hasOwnProperty(En)&&En in Ye$2)return Xe$3[vn]=fn[En];return vn}var $e$1=Ze$3("animationend"),af=Ze$3("animationiteration"),bf=Ze$3("animationstart"),cf=Ze$3("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(vn,fn){df.set(vn,fn),fa(fn,[vn])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(vn,fn,En){var Cn=vn.type||"unknown-event";vn.currentTarget=En,Ub(Cn,fn,void 0,vn),vn.currentTarget=null}function se$4(vn,fn){fn=(fn&4)!==0;for(var En=0;En<vn.length;En++){var Cn=vn[En],_i=Cn.event;Cn=Cn.listeners;e:{var An=void 0;if(fn)for(var ba=Cn.length-1;0<=ba;ba--){var xa=Cn[ba],$a=xa.instance,rs=xa.currentTarget;if(xa=xa.listener,$a!==An&&_i.isPropagationStopped())break e;nf(_i,xa,rs),An=$a}else for(ba=0;ba<Cn.length;ba++){if(xa=Cn[ba],$a=xa.instance,rs=xa.currentTarget,xa=xa.listener,$a!==An&&_i.isPropagationStopped())break e;nf(_i,xa,rs),An=$a}}}if(Qb)throw vn=Rb,Qb=!1,Rb=null,vn}function D$5(vn,fn){var En=fn[of];En===void 0&&(En=fn[of]=new Set);var Cn=vn+"__bubble";En.has(Cn)||(pf(fn,vn,2,!1),En.add(Cn))}function qf(vn,fn,En){var Cn=0;fn&&(Cn|=4),pf(En,vn,Cn,fn)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(vn){if(!vn[rf]){vn[rf]=!0,da.forEach(function(En){En!=="selectionchange"&&(mf.has(En)||qf(En,!1,vn),qf(En,!0,vn))});var fn=vn.nodeType===9?vn:vn.ownerDocument;fn===null||fn[rf]||(fn[rf]=!0,qf("selectionchange",!1,fn))}}function pf(vn,fn,En,Cn){switch(jd(fn)){case 1:var _i=ed;break;case 4:_i=gd;break;default:_i=fd}En=_i.bind(null,fn,En,vn),_i=void 0,!Lb||fn!=="touchstart"&&fn!=="touchmove"&&fn!=="wheel"||(_i=!0),Cn?_i!==void 0?vn.addEventListener(fn,En,{capture:!0,passive:_i}):vn.addEventListener(fn,En,!0):_i!==void 0?vn.addEventListener(fn,En,{passive:_i}):vn.addEventListener(fn,En,!1)}function hd(vn,fn,En,Cn,_i){var An=Cn;if(!(fn&1)&&!(fn&2)&&Cn!==null)e:for(;;){if(Cn===null)return;var ba=Cn.tag;if(ba===3||ba===4){var xa=Cn.stateNode.containerInfo;if(xa===_i||xa.nodeType===8&&xa.parentNode===_i)break;if(ba===4)for(ba=Cn.return;ba!==null;){var $a=ba.tag;if(($a===3||$a===4)&&($a=ba.stateNode.containerInfo,$a===_i||$a.nodeType===8&&$a.parentNode===_i))return;ba=ba.return}for(;xa!==null;){if(ba=Wc(xa),ba===null)return;if($a=ba.tag,$a===5||$a===6){Cn=An=ba;continue e}xa=xa.parentNode}}Cn=Cn.return}Jb(function(){var rs=An,ts=xb(En),is=[];e:{var cs=df.get(vn);if(cs!==void 0){var us=td,ps=vn;switch(vn){case"keypress":if(od(En)===0)break e;case"keydown":case"keyup":us=Rd;break;case"focusin":ps="focus",us=Fd;break;case"focusout":ps="blur",us=Fd;break;case"beforeblur":case"afterblur":us=Fd;break;case"click":if(En.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":us=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":us=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":us=Vd;break;case $e$1:case af:case bf:us=Hd;break;case cf:us=Xd;break;case"scroll":us=vd;break;case"wheel":us=Zd;break;case"copy":case"cut":case"paste":us=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":us=Td}var bs=(fn&4)!==0,e0=!bs&&vn==="scroll",gs=bs?cs!==null?cs+"Capture":null:cs;bs=[];for(var Ds=rs,i0;Ds!==null;){i0=Ds;var n0=i0.stateNode;if(i0.tag===5&&n0!==null&&(i0=n0,gs!==null&&(n0=Kb(Ds,gs),n0!=null&&bs.push(tf(Ds,n0,i0)))),e0)break;Ds=Ds.return}0<bs.length&&(cs=new us(cs,ps,null,En,ts),is.push({event:cs,listeners:bs}))}}if(!(fn&7)){e:{if(cs=vn==="mouseover"||vn==="pointerover",us=vn==="mouseout"||vn==="pointerout",cs&&En!==wb&&(ps=En.relatedTarget||En.fromElement)&&(Wc(ps)||ps[uf]))break e;if((us||cs)&&(cs=ts.window===ts?ts:(cs=ts.ownerDocument)?cs.defaultView||cs.parentWindow:window,us?(ps=En.relatedTarget||En.toElement,us=rs,ps=ps?Wc(ps):null,ps!==null&&(e0=Vb(ps),ps!==e0||ps.tag!==5&&ps.tag!==6)&&(ps=null)):(us=null,ps=rs),us!==ps)){if(bs=Bd,n0="onMouseLeave",gs="onMouseEnter",Ds="mouse",(vn==="pointerout"||vn==="pointerover")&&(bs=Td,n0="onPointerLeave",gs="onPointerEnter",Ds="pointer"),e0=us==null?cs:ue$1(us),i0=ps==null?cs:ue$1(ps),cs=new bs(n0,Ds+"leave",us,En,ts),cs.target=e0,cs.relatedTarget=i0,n0=null,Wc(ts)===rs&&(bs=new bs(gs,Ds+"enter",ps,En,ts),bs.target=i0,bs.relatedTarget=e0,n0=bs),e0=n0,us&&ps)t:{for(bs=us,gs=ps,Ds=0,i0=bs;i0;i0=vf(i0))Ds++;for(i0=0,n0=gs;n0;n0=vf(n0))i0++;for(;0<Ds-i0;)bs=vf(bs),Ds--;for(;0<i0-Ds;)gs=vf(gs),i0--;for(;Ds--;){if(bs===gs||gs!==null&&bs===gs.alternate)break t;bs=vf(bs),gs=vf(gs)}bs=null}else bs=null;us!==null&&wf(is,cs,us,bs,!1),ps!==null&&e0!==null&&wf(is,e0,ps,bs,!0)}}e:{if(cs=rs?ue$1(rs):window,us=cs.nodeName&&cs.nodeName.toLowerCase(),us==="select"||us==="input"&&cs.type==="file")var c0=ve$4;else if(me$5(cs))if(we$6)c0=Fe$2;else{c0=De$3;var d0=Ce$2}else(us=cs.nodeName)&&us.toLowerCase()==="input"&&(cs.type==="checkbox"||cs.type==="radio")&&(c0=Ee$5);if(c0&&(c0=c0(vn,rs))){ne$4(is,c0,En,ts);break e}d0&&d0(vn,cs,rs),vn==="focusout"&&(d0=cs._wrapperState)&&d0.controlled&&cs.type==="number"&&cb(cs,"number",cs.value)}switch(d0=rs?ue$1(rs):window,vn){case"focusin":(me$5(d0)||d0.contentEditable==="true")&&(Qe$2=d0,Re$1=rs,Se$1=null);break;case"focusout":Se$1=Re$1=Qe$2=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(is,En,ts);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(is,En,ts)}var o0;if(ae$4)e:{switch(vn){case"compositionstart":var g0="onCompositionStart";break e;case"compositionend":g0="onCompositionEnd";break e;case"compositionupdate":g0="onCompositionUpdate";break e}g0=void 0}else ie$4?ge$3(vn,En)&&(g0="onCompositionEnd"):vn==="keydown"&&En.keyCode===229&&(g0="onCompositionStart");g0&&(de$2&&En.locale!=="ko"&&(ie$4||g0!=="onCompositionStart"?g0==="onCompositionEnd"&&ie$4&&(o0=nd()):(kd=ts,ld="value"in kd?kd.value:kd.textContent,ie$4=!0)),d0=oe$2(rs,g0),0<d0.length&&(g0=new Ld(g0,vn,null,En,ts),is.push({event:g0,listeners:d0}),o0?g0.data=o0:(o0=he$2(En),o0!==null&&(g0.data=o0)))),(o0=ce$3?je(vn,En):ke(vn,En))&&(rs=oe$2(rs,"onBeforeInput"),0<rs.length&&(ts=new Ld("onBeforeInput","beforeinput",null,En,ts),is.push({event:ts,listeners:rs}),ts.data=o0))}se$4(is,fn)})}function tf(vn,fn,En){return{instance:vn,listener:fn,currentTarget:En}}function oe$2(vn,fn){for(var En=fn+"Capture",Cn=[];vn!==null;){var _i=vn,An=_i.stateNode;_i.tag===5&&An!==null&&(_i=An,An=Kb(vn,En),An!=null&&Cn.unshift(tf(vn,An,_i)),An=Kb(vn,fn),An!=null&&Cn.push(tf(vn,An,_i))),vn=vn.return}return Cn}function vf(vn){if(vn===null)return null;do vn=vn.return;while(vn&&vn.tag!==5);return vn||null}function wf(vn,fn,En,Cn,_i){for(var An=fn._reactName,ba=[];En!==null&&En!==Cn;){var xa=En,$a=xa.alternate,rs=xa.stateNode;if($a!==null&&$a===Cn)break;xa.tag===5&&rs!==null&&(xa=rs,_i?($a=Kb(En,An),$a!=null&&ba.unshift(tf(En,$a,xa))):_i||($a=Kb(En,An),$a!=null&&ba.push(tf(En,$a,xa)))),En=En.return}ba.length!==0&&vn.push({event:fn,listeners:ba})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(vn){return(typeof vn=="string"?vn:""+vn).replace(xf,`
`).replace(yf,"")}function Af(vn,fn,En){if(fn=zf(fn),zf(vn)!==fn&&En)throw Error(p$6(425))}function Bf(){}var Cf=null,Df=null;function Ef(vn,fn){return vn==="textarea"||vn==="noscript"||typeof fn.children=="string"||typeof fn.children=="number"||typeof fn.dangerouslySetInnerHTML=="object"&&fn.dangerouslySetInnerHTML!==null&&fn.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(vn){return Hf.resolve(null).then(vn).catch(If)}:Ff;function If(vn){setTimeout(function(){throw vn})}function Kf(vn,fn){var En=fn,Cn=0;do{var _i=En.nextSibling;if(vn.removeChild(En),_i&&_i.nodeType===8)if(En=_i.data,En==="/$"){if(Cn===0){vn.removeChild(_i),bd(fn);return}Cn--}else En!=="$"&&En!=="$?"&&En!=="$!"||Cn++;En=_i}while(En);bd(fn)}function Lf(vn){for(;vn!=null;vn=vn.nextSibling){var fn=vn.nodeType;if(fn===1||fn===3)break;if(fn===8){if(fn=vn.data,fn==="$"||fn==="$!"||fn==="$?")break;if(fn==="/$")return null}}return vn}function Mf(vn){vn=vn.previousSibling;for(var fn=0;vn;){if(vn.nodeType===8){var En=vn.data;if(En==="$"||En==="$!"||En==="$?"){if(fn===0)return vn;fn--}else En==="/$"&&fn++}vn=vn.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(vn){var fn=vn[Of];if(fn)return fn;for(var En=vn.parentNode;En;){if(fn=En[uf]||En[Of]){if(En=fn.alternate,fn.child!==null||En!==null&&En.child!==null)for(vn=Mf(vn);vn!==null;){if(En=vn[Of])return En;vn=Mf(vn)}return fn}vn=En,En=vn.parentNode}return null}function Cb(vn){return vn=vn[Of]||vn[uf],!vn||vn.tag!==5&&vn.tag!==6&&vn.tag!==13&&vn.tag!==3?null:vn}function ue$1(vn){if(vn.tag===5||vn.tag===6)return vn.stateNode;throw Error(p$6(33))}function Db(vn){return vn[Pf]||null}var Sf=[],Tf=-1;function Uf(vn){return{current:vn}}function E$3(vn){0>Tf||(vn.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(vn,fn){Tf++,Sf[Tf]=vn.current,vn.current=fn}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(vn,fn){var En=vn.type.contextTypes;if(!En)return Vf;var Cn=vn.stateNode;if(Cn&&Cn.__reactInternalMemoizedUnmaskedChildContext===fn)return Cn.__reactInternalMemoizedMaskedChildContext;var _i={},An;for(An in En)_i[An]=fn[An];return Cn&&(vn=vn.stateNode,vn.__reactInternalMemoizedUnmaskedChildContext=fn,vn.__reactInternalMemoizedMaskedChildContext=_i),_i}function Zf(vn){return vn=vn.childContextTypes,vn!=null}function $f(){E$3(Wf),E$3(H$2)}function ag(vn,fn,En){if(H$2.current!==Vf)throw Error(p$6(168));G$2(H$2,fn),G$2(Wf,En)}function bg(vn,fn,En){var Cn=vn.stateNode;if(fn=fn.childContextTypes,typeof Cn.getChildContext!="function")return En;Cn=Cn.getChildContext();for(var _i in Cn)if(!(_i in fn))throw Error(p$6(108,Ra(vn)||"Unknown",_i));return A$4({},En,Cn)}function cg(vn){return vn=(vn=vn.stateNode)&&vn.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$2(H$2,vn),G$2(Wf,Wf.current),!0}function dg(vn,fn,En){var Cn=vn.stateNode;if(!Cn)throw Error(p$6(169));En?(vn=bg(vn,fn,Xf),Cn.__reactInternalMemoizedMergedChildContext=vn,E$3(Wf),E$3(H$2),G$2(H$2,vn)):E$3(Wf),G$2(Wf,En)}var eg=null,fg=!1,gg=!1;function hg(vn){eg===null?eg=[vn]:eg.push(vn)}function ig(vn){fg=!0,hg(vn)}function jg(){if(!gg&&eg!==null){gg=!0;var vn=0,fn=C$6;try{var En=eg;for(C$6=1;vn<En.length;vn++){var Cn=En[vn];do Cn=Cn(!0);while(Cn!==null)}eg=null,fg=!1}catch(_i){throw eg!==null&&(eg=eg.slice(vn+1)),ac(fc,jg),_i}finally{C$6=fn,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(vn,fn){kg[lg++]=ng,kg[lg++]=mg,mg=vn,ng=fn}function ug(vn,fn,En){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=vn;var Cn=rg;vn=sg;var _i=32-oc(Cn)-1;Cn&=~(1<<_i),En+=1;var An=32-oc(fn)+_i;if(30<An){var ba=_i-_i%5;An=(Cn&(1<<ba)-1).toString(32),Cn>>=ba,_i-=ba,rg=1<<32-oc(fn)+_i|En<<_i|Cn,sg=An+vn}else rg=1<<An|En<<_i|Cn,sg=vn}function vg(vn){vn.return!==null&&(tg(vn,1),ug(vn,1,0))}function wg(vn){for(;vn===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;vn===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$7=!1,zg=null;function Ag(vn,fn){var En=Bg(5,null,null,0);En.elementType="DELETED",En.stateNode=fn,En.return=vn,fn=vn.deletions,fn===null?(vn.deletions=[En],vn.flags|=16):fn.push(En)}function Cg(vn,fn){switch(vn.tag){case 5:var En=vn.type;return fn=fn.nodeType!==1||En.toLowerCase()!==fn.nodeName.toLowerCase()?null:fn,fn!==null?(vn.stateNode=fn,xg=vn,yg=Lf(fn.firstChild),!0):!1;case 6:return fn=vn.pendingProps===""||fn.nodeType!==3?null:fn,fn!==null?(vn.stateNode=fn,xg=vn,yg=null,!0):!1;case 13:return fn=fn.nodeType!==8?null:fn,fn!==null?(En=qg!==null?{id:rg,overflow:sg}:null,vn.memoizedState={dehydrated:fn,treeContext:En,retryLane:1073741824},En=Bg(18,null,null,0),En.stateNode=fn,En.return=vn,vn.child=En,xg=vn,yg=null,!0):!1;default:return!1}}function Dg(vn){return(vn.mode&1)!==0&&(vn.flags&128)===0}function Eg(vn){if(I$7){var fn=yg;if(fn){var En=fn;if(!Cg(vn,fn)){if(Dg(vn))throw Error(p$6(418));fn=Lf(En.nextSibling);var Cn=xg;fn&&Cg(vn,fn)?Ag(Cn,En):(vn.flags=vn.flags&-4097|2,I$7=!1,xg=vn)}}else{if(Dg(vn))throw Error(p$6(418));vn.flags=vn.flags&-4097|2,I$7=!1,xg=vn}}}function Fg(vn){for(vn=vn.return;vn!==null&&vn.tag!==5&&vn.tag!==3&&vn.tag!==13;)vn=vn.return;xg=vn}function Gg(vn){if(vn!==xg)return!1;if(!I$7)return Fg(vn),I$7=!0,!1;var fn;if((fn=vn.tag!==3)&&!(fn=vn.tag!==5)&&(fn=vn.type,fn=fn!=="head"&&fn!=="body"&&!Ef(vn.type,vn.memoizedProps)),fn&&(fn=yg)){if(Dg(vn))throw Hg$1(),Error(p$6(418));for(;fn;)Ag(vn,fn),fn=Lf(fn.nextSibling)}if(Fg(vn),vn.tag===13){if(vn=vn.memoizedState,vn=vn!==null?vn.dehydrated:null,!vn)throw Error(p$6(317));e:{for(vn=vn.nextSibling,fn=0;vn;){if(vn.nodeType===8){var En=vn.data;if(En==="/$"){if(fn===0){yg=Lf(vn.nextSibling);break e}fn--}else En!=="$"&&En!=="$!"&&En!=="$?"||fn++}vn=vn.nextSibling}yg=null}}else yg=xg?Lf(vn.stateNode.nextSibling):null;return!0}function Hg$1(){for(var vn=yg;vn;)vn=Lf(vn.nextSibling)}function Ig(){yg=xg=null,I$7=!1}function Jg(vn){zg===null?zg=[vn]:zg.push(vn)}var Kg=ua.ReactCurrentBatchConfig;function Lg(vn,fn,En){if(vn=En.ref,vn!==null&&typeof vn!="function"&&typeof vn!="object"){if(En._owner){if(En=En._owner,En){if(En.tag!==1)throw Error(p$6(309));var Cn=En.stateNode}if(!Cn)throw Error(p$6(147,vn));var _i=Cn,An=""+vn;return fn!==null&&fn.ref!==null&&typeof fn.ref=="function"&&fn.ref._stringRef===An?fn.ref:(fn=function(ba){var xa=_i.refs;ba===null?delete xa[An]:xa[An]=ba},fn._stringRef=An,fn)}if(typeof vn!="string")throw Error(p$6(284));if(!En._owner)throw Error(p$6(290,vn))}return vn}function Mg(vn,fn){throw vn=Object.prototype.toString.call(fn),Error(p$6(31,vn==="[object Object]"?"object with keys {"+Object.keys(fn).join(", ")+"}":vn))}function Ng(vn){var fn=vn._init;return fn(vn._payload)}function Og(vn){function fn(gs,Ds){if(vn){var i0=gs.deletions;i0===null?(gs.deletions=[Ds],gs.flags|=16):i0.push(Ds)}}function En(gs,Ds){if(!vn)return null;for(;Ds!==null;)fn(gs,Ds),Ds=Ds.sibling;return null}function Cn(gs,Ds){for(gs=new Map;Ds!==null;)Ds.key!==null?gs.set(Ds.key,Ds):gs.set(Ds.index,Ds),Ds=Ds.sibling;return gs}function _i(gs,Ds){return gs=Pg(gs,Ds),gs.index=0,gs.sibling=null,gs}function An(gs,Ds,i0){return gs.index=i0,vn?(i0=gs.alternate,i0!==null?(i0=i0.index,i0<Ds?(gs.flags|=2,Ds):i0):(gs.flags|=2,Ds)):(gs.flags|=1048576,Ds)}function ba(gs){return vn&&gs.alternate===null&&(gs.flags|=2),gs}function xa(gs,Ds,i0,n0){return Ds===null||Ds.tag!==6?(Ds=Qg(i0,gs.mode,n0),Ds.return=gs,Ds):(Ds=_i(Ds,i0),Ds.return=gs,Ds)}function $a(gs,Ds,i0,n0){var c0=i0.type;return c0===ya?ts(gs,Ds,i0.props.children,n0,i0.key):Ds!==null&&(Ds.elementType===c0||typeof c0=="object"&&c0!==null&&c0.$$typeof===Ha&&Ng(c0)===Ds.type)?(n0=_i(Ds,i0.props),n0.ref=Lg(gs,Ds,i0),n0.return=gs,n0):(n0=Rg(i0.type,i0.key,i0.props,null,gs.mode,n0),n0.ref=Lg(gs,Ds,i0),n0.return=gs,n0)}function rs(gs,Ds,i0,n0){return Ds===null||Ds.tag!==4||Ds.stateNode.containerInfo!==i0.containerInfo||Ds.stateNode.implementation!==i0.implementation?(Ds=Sg(i0,gs.mode,n0),Ds.return=gs,Ds):(Ds=_i(Ds,i0.children||[]),Ds.return=gs,Ds)}function ts(gs,Ds,i0,n0,c0){return Ds===null||Ds.tag!==7?(Ds=Tg(i0,gs.mode,n0,c0),Ds.return=gs,Ds):(Ds=_i(Ds,i0),Ds.return=gs,Ds)}function is(gs,Ds,i0){if(typeof Ds=="string"&&Ds!==""||typeof Ds=="number")return Ds=Qg(""+Ds,gs.mode,i0),Ds.return=gs,Ds;if(typeof Ds=="object"&&Ds!==null){switch(Ds.$$typeof){case va:return i0=Rg(Ds.type,Ds.key,Ds.props,null,gs.mode,i0),i0.ref=Lg(gs,null,Ds),i0.return=gs,i0;case wa:return Ds=Sg(Ds,gs.mode,i0),Ds.return=gs,Ds;case Ha:var n0=Ds._init;return is(gs,n0(Ds._payload),i0)}if(eb(Ds)||Ka(Ds))return Ds=Tg(Ds,gs.mode,i0,null),Ds.return=gs,Ds;Mg(gs,Ds)}return null}function cs(gs,Ds,i0,n0){var c0=Ds!==null?Ds.key:null;if(typeof i0=="string"&&i0!==""||typeof i0=="number")return c0!==null?null:xa(gs,Ds,""+i0,n0);if(typeof i0=="object"&&i0!==null){switch(i0.$$typeof){case va:return i0.key===c0?$a(gs,Ds,i0,n0):null;case wa:return i0.key===c0?rs(gs,Ds,i0,n0):null;case Ha:return c0=i0._init,cs(gs,Ds,c0(i0._payload),n0)}if(eb(i0)||Ka(i0))return c0!==null?null:ts(gs,Ds,i0,n0,null);Mg(gs,i0)}return null}function us(gs,Ds,i0,n0,c0){if(typeof n0=="string"&&n0!==""||typeof n0=="number")return gs=gs.get(i0)||null,xa(Ds,gs,""+n0,c0);if(typeof n0=="object"&&n0!==null){switch(n0.$$typeof){case va:return gs=gs.get(n0.key===null?i0:n0.key)||null,$a(Ds,gs,n0,c0);case wa:return gs=gs.get(n0.key===null?i0:n0.key)||null,rs(Ds,gs,n0,c0);case Ha:var d0=n0._init;return us(gs,Ds,i0,d0(n0._payload),c0)}if(eb(n0)||Ka(n0))return gs=gs.get(i0)||null,ts(Ds,gs,n0,c0,null);Mg(Ds,n0)}return null}function ps(gs,Ds,i0,n0){for(var c0=null,d0=null,o0=Ds,g0=Ds=0,w0=null;o0!==null&&g0<i0.length;g0++){o0.index>g0?(w0=o0,o0=null):w0=o0.sibling;var M0=cs(gs,o0,i0[g0],n0);if(M0===null){o0===null&&(o0=w0);break}vn&&o0&&M0.alternate===null&&fn(gs,o0),Ds=An(M0,Ds,g0),d0===null?c0=M0:d0.sibling=M0,d0=M0,o0=w0}if(g0===i0.length)return En(gs,o0),I$7&&tg(gs,g0),c0;if(o0===null){for(;g0<i0.length;g0++)o0=is(gs,i0[g0],n0),o0!==null&&(Ds=An(o0,Ds,g0),d0===null?c0=o0:d0.sibling=o0,d0=o0);return I$7&&tg(gs,g0),c0}for(o0=Cn(gs,o0);g0<i0.length;g0++)w0=us(o0,gs,g0,i0[g0],n0),w0!==null&&(vn&&w0.alternate!==null&&o0.delete(w0.key===null?g0:w0.key),Ds=An(w0,Ds,g0),d0===null?c0=w0:d0.sibling=w0,d0=w0);return vn&&o0.forEach(function(ds){return fn(gs,ds)}),I$7&&tg(gs,g0),c0}function bs(gs,Ds,i0,n0){var c0=Ka(i0);if(typeof c0!="function")throw Error(p$6(150));if(i0=c0.call(i0),i0==null)throw Error(p$6(151));for(var d0=c0=null,o0=Ds,g0=Ds=0,w0=null,M0=i0.next();o0!==null&&!M0.done;g0++,M0=i0.next()){o0.index>g0?(w0=o0,o0=null):w0=o0.sibling;var ds=cs(gs,o0,M0.value,n0);if(ds===null){o0===null&&(o0=w0);break}vn&&o0&&ds.alternate===null&&fn(gs,o0),Ds=An(ds,Ds,g0),d0===null?c0=ds:d0.sibling=ds,d0=ds,o0=w0}if(M0.done)return En(gs,o0),I$7&&tg(gs,g0),c0;if(o0===null){for(;!M0.done;g0++,M0=i0.next())M0=is(gs,M0.value,n0),M0!==null&&(Ds=An(M0,Ds,g0),d0===null?c0=M0:d0.sibling=M0,d0=M0);return I$7&&tg(gs,g0),c0}for(o0=Cn(gs,o0);!M0.done;g0++,M0=i0.next())M0=us(o0,gs,g0,M0.value,n0),M0!==null&&(vn&&M0.alternate!==null&&o0.delete(M0.key===null?g0:M0.key),Ds=An(M0,Ds,g0),d0===null?c0=M0:d0.sibling=M0,d0=M0);return vn&&o0.forEach(function(na){return fn(gs,na)}),I$7&&tg(gs,g0),c0}function e0(gs,Ds,i0,n0){if(typeof i0=="object"&&i0!==null&&i0.type===ya&&i0.key===null&&(i0=i0.props.children),typeof i0=="object"&&i0!==null){switch(i0.$$typeof){case va:e:{for(var c0=i0.key,d0=Ds;d0!==null;){if(d0.key===c0){if(c0=i0.type,c0===ya){if(d0.tag===7){En(gs,d0.sibling),Ds=_i(d0,i0.props.children),Ds.return=gs,gs=Ds;break e}}else if(d0.elementType===c0||typeof c0=="object"&&c0!==null&&c0.$$typeof===Ha&&Ng(c0)===d0.type){En(gs,d0.sibling),Ds=_i(d0,i0.props),Ds.ref=Lg(gs,d0,i0),Ds.return=gs,gs=Ds;break e}En(gs,d0);break}else fn(gs,d0);d0=d0.sibling}i0.type===ya?(Ds=Tg(i0.props.children,gs.mode,n0,i0.key),Ds.return=gs,gs=Ds):(n0=Rg(i0.type,i0.key,i0.props,null,gs.mode,n0),n0.ref=Lg(gs,Ds,i0),n0.return=gs,gs=n0)}return ba(gs);case wa:e:{for(d0=i0.key;Ds!==null;){if(Ds.key===d0)if(Ds.tag===4&&Ds.stateNode.containerInfo===i0.containerInfo&&Ds.stateNode.implementation===i0.implementation){En(gs,Ds.sibling),Ds=_i(Ds,i0.children||[]),Ds.return=gs,gs=Ds;break e}else{En(gs,Ds);break}else fn(gs,Ds);Ds=Ds.sibling}Ds=Sg(i0,gs.mode,n0),Ds.return=gs,gs=Ds}return ba(gs);case Ha:return d0=i0._init,e0(gs,Ds,d0(i0._payload),n0)}if(eb(i0))return ps(gs,Ds,i0,n0);if(Ka(i0))return bs(gs,Ds,i0,n0);Mg(gs,i0)}return typeof i0=="string"&&i0!==""||typeof i0=="number"?(i0=""+i0,Ds!==null&&Ds.tag===6?(En(gs,Ds.sibling),Ds=_i(Ds,i0),Ds.return=gs,gs=Ds):(En(gs,Ds),Ds=Qg(i0,gs.mode,n0),Ds.return=gs,gs=Ds),ba(gs)):En(gs,Ds)}return e0}var Ug=Og(!0),Vg=Og(!1),Wg$1=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(vn){var fn=Wg$1.current;E$3(Wg$1),vn._currentValue=fn}function bh(vn,fn,En){for(;vn!==null;){var Cn=vn.alternate;if((vn.childLanes&fn)!==fn?(vn.childLanes|=fn,Cn!==null&&(Cn.childLanes|=fn)):Cn!==null&&(Cn.childLanes&fn)!==fn&&(Cn.childLanes|=fn),vn===En)break;vn=vn.return}}function ch$1(vn,fn){Xg=vn,Zg=Yg=null,vn=vn.dependencies,vn!==null&&vn.firstContext!==null&&(vn.lanes&fn&&(dh$1=!0),vn.firstContext=null)}function eh(vn){var fn=vn._currentValue;if(Zg!==vn)if(vn={context:vn,memoizedValue:fn,next:null},Yg===null){if(Xg===null)throw Error(p$6(308));Yg=vn,Xg.dependencies={lanes:0,firstContext:vn}}else Yg=Yg.next=vn;return fn}var fh=null;function gh(vn){fh===null?fh=[vn]:fh.push(vn)}function hh(vn,fn,En,Cn){var _i=fn.interleaved;return _i===null?(En.next=En,gh(fn)):(En.next=_i.next,_i.next=En),fn.interleaved=En,ih(vn,Cn)}function ih(vn,fn){vn.lanes|=fn;var En=vn.alternate;for(En!==null&&(En.lanes|=fn),En=vn,vn=vn.return;vn!==null;)vn.childLanes|=fn,En=vn.alternate,En!==null&&(En.childLanes|=fn),En=vn,vn=vn.return;return En.tag===3?En.stateNode:null}var jh=!1;function kh(vn){vn.updateQueue={baseState:vn.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(vn,fn){vn=vn.updateQueue,fn.updateQueue===vn&&(fn.updateQueue={baseState:vn.baseState,firstBaseUpdate:vn.firstBaseUpdate,lastBaseUpdate:vn.lastBaseUpdate,shared:vn.shared,effects:vn.effects})}function mh$2(vn,fn){return{eventTime:vn,lane:fn,tag:0,payload:null,callback:null,next:null}}function nh(vn,fn,En){var Cn=vn.updateQueue;if(Cn===null)return null;if(Cn=Cn.shared,K$a&2){var _i=Cn.pending;return _i===null?fn.next=fn:(fn.next=_i.next,_i.next=fn),Cn.pending=fn,ih(vn,En)}return _i=Cn.interleaved,_i===null?(fn.next=fn,gh(Cn)):(fn.next=_i.next,_i.next=fn),Cn.interleaved=fn,ih(vn,En)}function oh(vn,fn,En){if(fn=fn.updateQueue,fn!==null&&(fn=fn.shared,(En&4194240)!==0)){var Cn=fn.lanes;Cn&=vn.pendingLanes,En|=Cn,fn.lanes=En,Cc(vn,En)}}function ph(vn,fn){var En=vn.updateQueue,Cn=vn.alternate;if(Cn!==null&&(Cn=Cn.updateQueue,En===Cn)){var _i=null,An=null;if(En=En.firstBaseUpdate,En!==null){do{var ba={eventTime:En.eventTime,lane:En.lane,tag:En.tag,payload:En.payload,callback:En.callback,next:null};An===null?_i=An=ba:An=An.next=ba,En=En.next}while(En!==null);An===null?_i=An=fn:An=An.next=fn}else _i=An=fn;En={baseState:Cn.baseState,firstBaseUpdate:_i,lastBaseUpdate:An,shared:Cn.shared,effects:Cn.effects},vn.updateQueue=En;return}vn=En.lastBaseUpdate,vn===null?En.firstBaseUpdate=fn:vn.next=fn,En.lastBaseUpdate=fn}function qh(vn,fn,En,Cn){var _i=vn.updateQueue;jh=!1;var An=_i.firstBaseUpdate,ba=_i.lastBaseUpdate,xa=_i.shared.pending;if(xa!==null){_i.shared.pending=null;var $a=xa,rs=$a.next;$a.next=null,ba===null?An=rs:ba.next=rs,ba=$a;var ts=vn.alternate;ts!==null&&(ts=ts.updateQueue,xa=ts.lastBaseUpdate,xa!==ba&&(xa===null?ts.firstBaseUpdate=rs:xa.next=rs,ts.lastBaseUpdate=$a))}if(An!==null){var is=_i.baseState;ba=0,ts=rs=$a=null,xa=An;do{var cs=xa.lane,us=xa.eventTime;if((Cn&cs)===cs){ts!==null&&(ts=ts.next={eventTime:us,lane:0,tag:xa.tag,payload:xa.payload,callback:xa.callback,next:null});e:{var ps=vn,bs=xa;switch(cs=fn,us=En,bs.tag){case 1:if(ps=bs.payload,typeof ps=="function"){is=ps.call(us,is,cs);break e}is=ps;break e;case 3:ps.flags=ps.flags&-65537|128;case 0:if(ps=bs.payload,cs=typeof ps=="function"?ps.call(us,is,cs):ps,cs==null)break e;is=A$4({},is,cs);break e;case 2:jh=!0}}xa.callback!==null&&xa.lane!==0&&(vn.flags|=64,cs=_i.effects,cs===null?_i.effects=[xa]:cs.push(xa))}else us={eventTime:us,lane:cs,tag:xa.tag,payload:xa.payload,callback:xa.callback,next:null},ts===null?(rs=ts=us,$a=is):ts=ts.next=us,ba|=cs;if(xa=xa.next,xa===null){if(xa=_i.shared.pending,xa===null)break;cs=xa,xa=cs.next,cs.next=null,_i.lastBaseUpdate=cs,_i.shared.pending=null}}while(!0);if(ts===null&&($a=is),_i.baseState=$a,_i.firstBaseUpdate=rs,_i.lastBaseUpdate=ts,fn=_i.shared.interleaved,fn!==null){_i=fn;do ba|=_i.lane,_i=_i.next;while(_i!==fn)}else An===null&&(_i.shared.lanes=0);rh$1|=ba,vn.lanes=ba,vn.memoizedState=is}}function sh$1(vn,fn,En){if(vn=fn.effects,fn.effects=null,vn!==null)for(fn=0;fn<vn.length;fn++){var Cn=vn[fn],_i=Cn.callback;if(_i!==null){if(Cn.callback=null,Cn=En,typeof _i!="function")throw Error(p$6(191,_i));_i.call(Cn)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(vn){if(vn===th)throw Error(p$6(174));return vn}function yh(vn,fn){switch(G$2(wh,fn),G$2(vh,vn),G$2(uh,th),vn=fn.nodeType,vn){case 9:case 11:fn=(fn=fn.documentElement)?fn.namespaceURI:lb(null,"");break;default:vn=vn===8?fn.parentNode:fn,fn=vn.namespaceURI||null,vn=vn.tagName,fn=lb(fn,vn)}E$3(uh),G$2(uh,fn)}function zh(){E$3(uh),E$3(vh),E$3(wh)}function Ah(vn){xh(wh.current);var fn=xh(uh.current),En=lb(fn,vn.type);fn!==En&&(G$2(vh,vn),G$2(uh,En))}function Bh(vn){vh.current===vn&&(E$3(uh),E$3(vh))}var L$5=Uf(0);function Ch$1(vn){for(var fn=vn;fn!==null;){if(fn.tag===13){var En=fn.memoizedState;if(En!==null&&(En=En.dehydrated,En===null||En.data==="$?"||En.data==="$!"))return fn}else if(fn.tag===19&&fn.memoizedProps.revealOrder!==void 0){if(fn.flags&128)return fn}else if(fn.child!==null){fn.child.return=fn,fn=fn.child;continue}if(fn===vn)break;for(;fn.sibling===null;){if(fn.return===null||fn.return===vn)return null;fn=fn.return}fn.sibling.return=fn.return,fn=fn.sibling}return null}var Dh=[];function Eh(){for(var vn=0;vn<Dh.length;vn++)Dh[vn]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$6=null,N$3=null,O$7=null,Ih=!1,Jh=!1,Kh$1=0,Lh=0;function P$5(){throw Error(p$6(321))}function Mh(vn,fn){if(fn===null)return!1;for(var En=0;En<fn.length&&En<vn.length;En++)if(!He$2(vn[En],fn[En]))return!1;return!0}function Nh(vn,fn,En,Cn,_i,An){if(Hh=An,M$6=fn,fn.memoizedState=null,fn.updateQueue=null,fn.lanes=0,Fh.current=vn===null||vn.memoizedState===null?Oh:Ph,vn=En(Cn,_i),Jh){An=0;do{if(Jh=!1,Kh$1=0,25<=An)throw Error(p$6(301));An+=1,O$7=N$3=null,fn.updateQueue=null,Fh.current=Qh,vn=En(Cn,_i)}while(Jh)}if(Fh.current=Rh,fn=N$3!==null&&N$3.next!==null,Hh=0,O$7=N$3=M$6=null,Ih=!1,fn)throw Error(p$6(300));return vn}function Sh(){var vn=Kh$1!==0;return Kh$1=0,vn}function Th(){var vn={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$7===null?M$6.memoizedState=O$7=vn:O$7=O$7.next=vn,O$7}function Uh(){if(N$3===null){var vn=M$6.alternate;vn=vn!==null?vn.memoizedState:null}else vn=N$3.next;var fn=O$7===null?M$6.memoizedState:O$7.next;if(fn!==null)O$7=fn,N$3=vn;else{if(vn===null)throw Error(p$6(310));N$3=vn,vn={memoizedState:N$3.memoizedState,baseState:N$3.baseState,baseQueue:N$3.baseQueue,queue:N$3.queue,next:null},O$7===null?M$6.memoizedState=O$7=vn:O$7=O$7.next=vn}return O$7}function Vh(vn,fn){return typeof fn=="function"?fn(vn):fn}function Wh(vn){var fn=Uh(),En=fn.queue;if(En===null)throw Error(p$6(311));En.lastRenderedReducer=vn;var Cn=N$3,_i=Cn.baseQueue,An=En.pending;if(An!==null){if(_i!==null){var ba=_i.next;_i.next=An.next,An.next=ba}Cn.baseQueue=_i=An,En.pending=null}if(_i!==null){An=_i.next,Cn=Cn.baseState;var xa=ba=null,$a=null,rs=An;do{var ts=rs.lane;if((Hh&ts)===ts)$a!==null&&($a=$a.next={lane:0,action:rs.action,hasEagerState:rs.hasEagerState,eagerState:rs.eagerState,next:null}),Cn=rs.hasEagerState?rs.eagerState:vn(Cn,rs.action);else{var is={lane:ts,action:rs.action,hasEagerState:rs.hasEagerState,eagerState:rs.eagerState,next:null};$a===null?(xa=$a=is,ba=Cn):$a=$a.next=is,M$6.lanes|=ts,rh$1|=ts}rs=rs.next}while(rs!==null&&rs!==An);$a===null?ba=Cn:$a.next=xa,He$2(Cn,fn.memoizedState)||(dh$1=!0),fn.memoizedState=Cn,fn.baseState=ba,fn.baseQueue=$a,En.lastRenderedState=Cn}if(vn=En.interleaved,vn!==null){_i=vn;do An=_i.lane,M$6.lanes|=An,rh$1|=An,_i=_i.next;while(_i!==vn)}else _i===null&&(En.lanes=0);return[fn.memoizedState,En.dispatch]}function Xh(vn){var fn=Uh(),En=fn.queue;if(En===null)throw Error(p$6(311));En.lastRenderedReducer=vn;var Cn=En.dispatch,_i=En.pending,An=fn.memoizedState;if(_i!==null){En.pending=null;var ba=_i=_i.next;do An=vn(An,ba.action),ba=ba.next;while(ba!==_i);He$2(An,fn.memoizedState)||(dh$1=!0),fn.memoizedState=An,fn.baseQueue===null&&(fn.baseState=An),En.lastRenderedState=An}return[An,Cn]}function Yh(){}function Zh(vn,fn){var En=M$6,Cn=Uh(),_i=fn(),An=!He$2(Cn.memoizedState,_i);if(An&&(Cn.memoizedState=_i,dh$1=!0),Cn=Cn.queue,$h(ai$2.bind(null,En,Cn,vn),[vn]),Cn.getSnapshot!==fn||An||O$7!==null&&O$7.memoizedState.tag&1){if(En.flags|=2048,bi(9,ci$2.bind(null,En,Cn,_i,fn),void 0,null),Q$3===null)throw Error(p$6(349));Hh&30||di$2(En,fn,_i)}return _i}function di$2(vn,fn,En){vn.flags|=16384,vn={getSnapshot:fn,value:En},fn=M$6.updateQueue,fn===null?(fn={lastEffect:null,stores:null},M$6.updateQueue=fn,fn.stores=[vn]):(En=fn.stores,En===null?fn.stores=[vn]:En.push(vn))}function ci$2(vn,fn,En,Cn){fn.value=En,fn.getSnapshot=Cn,ei$2(fn)&&fi(vn)}function ai$2(vn,fn,En){return En(function(){ei$2(fn)&&fi(vn)})}function ei$2(vn){var fn=vn.getSnapshot;vn=vn.value;try{var En=fn();return!He$2(vn,En)}catch{return!0}}function fi(vn){var fn=ih(vn,1);fn!==null&&gi$2(fn,vn,1,-1)}function hi$2(vn){var fn=Th();return typeof vn=="function"&&(vn=vn()),fn.memoizedState=fn.baseState=vn,vn={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:vn},fn.queue=vn,vn=vn.dispatch=ii$2.bind(null,M$6,vn),[fn.memoizedState,vn]}function bi(vn,fn,En,Cn){return vn={tag:vn,create:fn,destroy:En,deps:Cn,next:null},fn=M$6.updateQueue,fn===null?(fn={lastEffect:null,stores:null},M$6.updateQueue=fn,fn.lastEffect=vn.next=vn):(En=fn.lastEffect,En===null?fn.lastEffect=vn.next=vn:(Cn=En.next,En.next=vn,vn.next=Cn,fn.lastEffect=vn)),vn}function ji(){return Uh().memoizedState}function ki(vn,fn,En,Cn){var _i=Th();M$6.flags|=vn,_i.memoizedState=bi(1|fn,En,void 0,Cn===void 0?null:Cn)}function li$2(vn,fn,En,Cn){var _i=Uh();Cn=Cn===void 0?null:Cn;var An=void 0;if(N$3!==null){var ba=N$3.memoizedState;if(An=ba.destroy,Cn!==null&&Mh(Cn,ba.deps)){_i.memoizedState=bi(fn,En,An,Cn);return}}M$6.flags|=vn,_i.memoizedState=bi(1|fn,En,An,Cn)}function mi(vn,fn){return ki(8390656,8,vn,fn)}function $h(vn,fn){return li$2(2048,8,vn,fn)}function ni$2(vn,fn){return li$2(4,2,vn,fn)}function oi$2(vn,fn){return li$2(4,4,vn,fn)}function pi$2(vn,fn){if(typeof fn=="function")return vn=vn(),fn(vn),function(){fn(null)};if(fn!=null)return vn=vn(),fn.current=vn,function(){fn.current=null}}function qi(vn,fn,En){return En=En!=null?En.concat([vn]):null,li$2(4,4,pi$2.bind(null,fn,vn),En)}function ri$2(){}function si$2(vn,fn){var En=Uh();fn=fn===void 0?null:fn;var Cn=En.memoizedState;return Cn!==null&&fn!==null&&Mh(fn,Cn[1])?Cn[0]:(En.memoizedState=[vn,fn],vn)}function ti$2(vn,fn){var En=Uh();fn=fn===void 0?null:fn;var Cn=En.memoizedState;return Cn!==null&&fn!==null&&Mh(fn,Cn[1])?Cn[0]:(vn=vn(),En.memoizedState=[vn,fn],vn)}function ui$2(vn,fn,En){return Hh&21?(He$2(En,fn)||(En=yc(),M$6.lanes|=En,rh$1|=En,vn.baseState=!0),fn):(vn.baseState&&(vn.baseState=!1,dh$1=!0),vn.memoizedState=En)}function vi(vn,fn){var En=C$6;C$6=En!==0&&4>En?En:4,vn(!0);var Cn=Gh.transition;Gh.transition={};try{vn(!1),fn()}finally{C$6=En,Gh.transition=Cn}}function wi(){return Uh().memoizedState}function xi(vn,fn,En){var Cn=yi$2(vn);if(En={lane:Cn,action:En,hasEagerState:!1,eagerState:null,next:null},zi(vn))Ai(fn,En);else if(En=hh(vn,fn,En,Cn),En!==null){var _i=R$4();gi$2(En,vn,Cn,_i),Bi(En,fn,Cn)}}function ii$2(vn,fn,En){var Cn=yi$2(vn),_i={lane:Cn,action:En,hasEagerState:!1,eagerState:null,next:null};if(zi(vn))Ai(fn,_i);else{var An=vn.alternate;if(vn.lanes===0&&(An===null||An.lanes===0)&&(An=fn.lastRenderedReducer,An!==null))try{var ba=fn.lastRenderedState,xa=An(ba,En);if(_i.hasEagerState=!0,_i.eagerState=xa,He$2(xa,ba)){var $a=fn.interleaved;$a===null?(_i.next=_i,gh(fn)):(_i.next=$a.next,$a.next=_i),fn.interleaved=_i;return}}catch{}finally{}En=hh(vn,fn,_i,Cn),En!==null&&(_i=R$4(),gi$2(En,vn,Cn,_i),Bi(En,fn,Cn))}}function zi(vn){var fn=vn.alternate;return vn===M$6||fn!==null&&fn===M$6}function Ai(vn,fn){Jh=Ih=!0;var En=vn.pending;En===null?fn.next=fn:(fn.next=En.next,En.next=fn),vn.pending=fn}function Bi(vn,fn,En){if(En&4194240){var Cn=fn.lanes;Cn&=vn.pendingLanes,En|=Cn,fn.lanes=En,Cc(vn,En)}}var Rh={readContext:eh,useCallback:P$5,useContext:P$5,useEffect:P$5,useImperativeHandle:P$5,useInsertionEffect:P$5,useLayoutEffect:P$5,useMemo:P$5,useReducer:P$5,useRef:P$5,useState:P$5,useDebugValue:P$5,useDeferredValue:P$5,useTransition:P$5,useMutableSource:P$5,useSyncExternalStore:P$5,useId:P$5,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(vn,fn){return Th().memoizedState=[vn,fn===void 0?null:fn],vn},useContext:eh,useEffect:mi,useImperativeHandle:function(vn,fn,En){return En=En!=null?En.concat([vn]):null,ki(4194308,4,pi$2.bind(null,fn,vn),En)},useLayoutEffect:function(vn,fn){return ki(4194308,4,vn,fn)},useInsertionEffect:function(vn,fn){return ki(4,2,vn,fn)},useMemo:function(vn,fn){var En=Th();return fn=fn===void 0?null:fn,vn=vn(),En.memoizedState=[vn,fn],vn},useReducer:function(vn,fn,En){var Cn=Th();return fn=En!==void 0?En(fn):fn,Cn.memoizedState=Cn.baseState=fn,vn={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:fn},Cn.queue=vn,vn=vn.dispatch=xi.bind(null,M$6,vn),[Cn.memoizedState,vn]},useRef:function(vn){var fn=Th();return vn={current:vn},fn.memoizedState=vn},useState:hi$2,useDebugValue:ri$2,useDeferredValue:function(vn){return Th().memoizedState=vn},useTransition:function(){var vn=hi$2(!1),fn=vn[0];return vn=vi.bind(null,vn[1]),Th().memoizedState=vn,[fn,vn]},useMutableSource:function(){},useSyncExternalStore:function(vn,fn,En){var Cn=M$6,_i=Th();if(I$7){if(En===void 0)throw Error(p$6(407));En=En()}else{if(En=fn(),Q$3===null)throw Error(p$6(349));Hh&30||di$2(Cn,fn,En)}_i.memoizedState=En;var An={value:En,getSnapshot:fn};return _i.queue=An,mi(ai$2.bind(null,Cn,An,vn),[vn]),Cn.flags|=2048,bi(9,ci$2.bind(null,Cn,An,En,fn),void 0,null),En},useId:function(){var vn=Th(),fn=Q$3.identifierPrefix;if(I$7){var En=sg,Cn=rg;En=(Cn&~(1<<32-oc(Cn)-1)).toString(32)+En,fn=":"+fn+"R"+En,En=Kh$1++,0<En&&(fn+="H"+En.toString(32)),fn+=":"}else En=Lh++,fn=":"+fn+"r"+En.toString(32)+":";return vn.memoizedState=fn},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si$2,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni$2,useLayoutEffect:oi$2,useMemo:ti$2,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri$2,useDeferredValue:function(vn){var fn=Uh();return ui$2(fn,N$3.memoizedState,vn)},useTransition:function(){var vn=Wh(Vh)[0],fn=Uh().memoizedState;return[vn,fn]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si$2,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni$2,useLayoutEffect:oi$2,useMemo:ti$2,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri$2,useDeferredValue:function(vn){var fn=Uh();return N$3===null?fn.memoizedState=vn:ui$2(fn,N$3.memoizedState,vn)},useTransition:function(){var vn=Xh(Vh)[0],fn=Uh().memoizedState;return[vn,fn]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(vn,fn){if(vn&&vn.defaultProps){fn=A$4({},fn),vn=vn.defaultProps;for(var En in vn)fn[En]===void 0&&(fn[En]=vn[En]);return fn}return fn}function Di$2(vn,fn,En,Cn){fn=vn.memoizedState,En=En(Cn,fn),En=En==null?fn:A$4({},fn,En),vn.memoizedState=En,vn.lanes===0&&(vn.updateQueue.baseState=En)}var Ei={isMounted:function(vn){return(vn=vn._reactInternals)?Vb(vn)===vn:!1},enqueueSetState:function(vn,fn,En){vn=vn._reactInternals;var Cn=R$4(),_i=yi$2(vn),An=mh$2(Cn,_i);An.payload=fn,En!=null&&(An.callback=En),fn=nh(vn,An,_i),fn!==null&&(gi$2(fn,vn,_i,Cn),oh(fn,vn,_i))},enqueueReplaceState:function(vn,fn,En){vn=vn._reactInternals;var Cn=R$4(),_i=yi$2(vn),An=mh$2(Cn,_i);An.tag=1,An.payload=fn,En!=null&&(An.callback=En),fn=nh(vn,An,_i),fn!==null&&(gi$2(fn,vn,_i,Cn),oh(fn,vn,_i))},enqueueForceUpdate:function(vn,fn){vn=vn._reactInternals;var En=R$4(),Cn=yi$2(vn),_i=mh$2(En,Cn);_i.tag=2,fn!=null&&(_i.callback=fn),fn=nh(vn,_i,Cn),fn!==null&&(gi$2(fn,vn,Cn,En),oh(fn,vn,Cn))}};function Fi(vn,fn,En,Cn,_i,An,ba){return vn=vn.stateNode,typeof vn.shouldComponentUpdate=="function"?vn.shouldComponentUpdate(Cn,An,ba):fn.prototype&&fn.prototype.isPureReactComponent?!Ie(En,Cn)||!Ie(_i,An):!0}function Gi(vn,fn,En){var Cn=!1,_i=Vf,An=fn.contextType;return typeof An=="object"&&An!==null?An=eh(An):(_i=Zf(fn)?Xf:H$2.current,Cn=fn.contextTypes,An=(Cn=Cn!=null)?Yf(vn,_i):Vf),fn=new fn(En,An),vn.memoizedState=fn.state!==null&&fn.state!==void 0?fn.state:null,fn.updater=Ei,vn.stateNode=fn,fn._reactInternals=vn,Cn&&(vn=vn.stateNode,vn.__reactInternalMemoizedUnmaskedChildContext=_i,vn.__reactInternalMemoizedMaskedChildContext=An),fn}function Hi$1(vn,fn,En,Cn){vn=fn.state,typeof fn.componentWillReceiveProps=="function"&&fn.componentWillReceiveProps(En,Cn),typeof fn.UNSAFE_componentWillReceiveProps=="function"&&fn.UNSAFE_componentWillReceiveProps(En,Cn),fn.state!==vn&&Ei.enqueueReplaceState(fn,fn.state,null)}function Ii(vn,fn,En,Cn){var _i=vn.stateNode;_i.props=En,_i.state=vn.memoizedState,_i.refs={},kh(vn);var An=fn.contextType;typeof An=="object"&&An!==null?_i.context=eh(An):(An=Zf(fn)?Xf:H$2.current,_i.context=Yf(vn,An)),_i.state=vn.memoizedState,An=fn.getDerivedStateFromProps,typeof An=="function"&&(Di$2(vn,fn,An,En),_i.state=vn.memoizedState),typeof fn.getDerivedStateFromProps=="function"||typeof _i.getSnapshotBeforeUpdate=="function"||typeof _i.UNSAFE_componentWillMount!="function"&&typeof _i.componentWillMount!="function"||(fn=_i.state,typeof _i.componentWillMount=="function"&&_i.componentWillMount(),typeof _i.UNSAFE_componentWillMount=="function"&&_i.UNSAFE_componentWillMount(),fn!==_i.state&&Ei.enqueueReplaceState(_i,_i.state,null),qh(vn,En,_i,Cn),_i.state=vn.memoizedState),typeof _i.componentDidMount=="function"&&(vn.flags|=4194308)}function Ji(vn,fn){try{var En="",Cn=fn;do En+=Pa(Cn),Cn=Cn.return;while(Cn);var _i=En}catch(An){_i=`
Error generating stack: `+An.message+`
`+An.stack}return{value:vn,source:fn,stack:_i,digest:null}}function Ki(vn,fn,En){return{value:vn,source:null,stack:En??null,digest:fn??null}}function Li(vn,fn){try{console.error(fn.value)}catch(En){setTimeout(function(){throw En})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(vn,fn,En){En=mh$2(-1,En),En.tag=3,En.payload={element:null};var Cn=fn.value;return En.callback=function(){Oi||(Oi=!0,Pi=Cn),Li(vn,fn)},En}function Qi(vn,fn,En){En=mh$2(-1,En),En.tag=3;var Cn=vn.type.getDerivedStateFromError;if(typeof Cn=="function"){var _i=fn.value;En.payload=function(){return Cn(_i)},En.callback=function(){Li(vn,fn)}}var An=vn.stateNode;return An!==null&&typeof An.componentDidCatch=="function"&&(En.callback=function(){Li(vn,fn),typeof Cn!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var ba=fn.stack;this.componentDidCatch(fn.value,{componentStack:ba!==null?ba:""})}),En}function Si(vn,fn,En){var Cn=vn.pingCache;if(Cn===null){Cn=vn.pingCache=new Mi;var _i=new Set;Cn.set(fn,_i)}else _i=Cn.get(fn),_i===void 0&&(_i=new Set,Cn.set(fn,_i));_i.has(En)||(_i.add(En),vn=Ti.bind(null,vn,fn,En),fn.then(vn,vn))}function Ui(vn){do{var fn;if((fn=vn.tag===13)&&(fn=vn.memoizedState,fn=fn!==null?fn.dehydrated!==null:!0),fn)return vn;vn=vn.return}while(vn!==null);return null}function Vi(vn,fn,En,Cn,_i){return vn.mode&1?(vn.flags|=65536,vn.lanes=_i,vn):(vn===fn?vn.flags|=65536:(vn.flags|=128,En.flags|=131072,En.flags&=-52805,En.tag===1&&(En.alternate===null?En.tag=17:(fn=mh$2(-1,1),fn.tag=2,nh(En,fn,1))),En.lanes|=1),vn)}var Wi=ua.ReactCurrentOwner,dh$1=!1;function Xi(vn,fn,En,Cn){fn.child=vn===null?Vg(fn,null,En,Cn):Ug(fn,vn.child,En,Cn)}function Yi$1(vn,fn,En,Cn,_i){En=En.render;var An=fn.ref;return ch$1(fn,_i),Cn=Nh(vn,fn,En,Cn,An,_i),En=Sh(),vn!==null&&!dh$1?(fn.updateQueue=vn.updateQueue,fn.flags&=-2053,vn.lanes&=~_i,Zi(vn,fn,_i)):(I$7&&En&&vg(fn),fn.flags|=1,Xi(vn,fn,Cn,_i),fn.child)}function $i(vn,fn,En,Cn,_i){if(vn===null){var An=En.type;return typeof An=="function"&&!aj(An)&&An.defaultProps===void 0&&En.compare===null&&En.defaultProps===void 0?(fn.tag=15,fn.type=An,bj(vn,fn,An,Cn,_i)):(vn=Rg(En.type,null,Cn,fn,fn.mode,_i),vn.ref=fn.ref,vn.return=fn,fn.child=vn)}if(An=vn.child,!(vn.lanes&_i)){var ba=An.memoizedProps;if(En=En.compare,En=En!==null?En:Ie,En(ba,Cn)&&vn.ref===fn.ref)return Zi(vn,fn,_i)}return fn.flags|=1,vn=Pg(An,Cn),vn.ref=fn.ref,vn.return=fn,fn.child=vn}function bj(vn,fn,En,Cn,_i){if(vn!==null){var An=vn.memoizedProps;if(Ie(An,Cn)&&vn.ref===fn.ref)if(dh$1=!1,fn.pendingProps=Cn=An,(vn.lanes&_i)!==0)vn.flags&131072&&(dh$1=!0);else return fn.lanes=vn.lanes,Zi(vn,fn,_i)}return cj(vn,fn,En,Cn,_i)}function dj(vn,fn,En){var Cn=fn.pendingProps,_i=Cn.children,An=vn!==null?vn.memoizedState:null;if(Cn.mode==="hidden")if(!(fn.mode&1))fn.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(ej,fj),fj|=En;else{if(!(En&1073741824))return vn=An!==null?An.baseLanes|En:En,fn.lanes=fn.childLanes=1073741824,fn.memoizedState={baseLanes:vn,cachePool:null,transitions:null},fn.updateQueue=null,G$2(ej,fj),fj|=vn,null;fn.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cn=An!==null?An.baseLanes:En,G$2(ej,fj),fj|=Cn}else An!==null?(Cn=An.baseLanes|En,fn.memoizedState=null):Cn=En,G$2(ej,fj),fj|=Cn;return Xi(vn,fn,_i,En),fn.child}function gj(vn,fn){var En=fn.ref;(vn===null&&En!==null||vn!==null&&vn.ref!==En)&&(fn.flags|=512,fn.flags|=2097152)}function cj(vn,fn,En,Cn,_i){var An=Zf(En)?Xf:H$2.current;return An=Yf(fn,An),ch$1(fn,_i),En=Nh(vn,fn,En,Cn,An,_i),Cn=Sh(),vn!==null&&!dh$1?(fn.updateQueue=vn.updateQueue,fn.flags&=-2053,vn.lanes&=~_i,Zi(vn,fn,_i)):(I$7&&Cn&&vg(fn),fn.flags|=1,Xi(vn,fn,En,_i),fn.child)}function hj(vn,fn,En,Cn,_i){if(Zf(En)){var An=!0;cg(fn)}else An=!1;if(ch$1(fn,_i),fn.stateNode===null)ij(vn,fn),Gi(fn,En,Cn),Ii(fn,En,Cn,_i),Cn=!0;else if(vn===null){var ba=fn.stateNode,xa=fn.memoizedProps;ba.props=xa;var $a=ba.context,rs=En.contextType;typeof rs=="object"&&rs!==null?rs=eh(rs):(rs=Zf(En)?Xf:H$2.current,rs=Yf(fn,rs));var ts=En.getDerivedStateFromProps,is=typeof ts=="function"||typeof ba.getSnapshotBeforeUpdate=="function";is||typeof ba.UNSAFE_componentWillReceiveProps!="function"&&typeof ba.componentWillReceiveProps!="function"||(xa!==Cn||$a!==rs)&&Hi$1(fn,ba,Cn,rs),jh=!1;var cs=fn.memoizedState;ba.state=cs,qh(fn,Cn,ba,_i),$a=fn.memoizedState,xa!==Cn||cs!==$a||Wf.current||jh?(typeof ts=="function"&&(Di$2(fn,En,ts,Cn),$a=fn.memoizedState),(xa=jh||Fi(fn,En,xa,Cn,cs,$a,rs))?(is||typeof ba.UNSAFE_componentWillMount!="function"&&typeof ba.componentWillMount!="function"||(typeof ba.componentWillMount=="function"&&ba.componentWillMount(),typeof ba.UNSAFE_componentWillMount=="function"&&ba.UNSAFE_componentWillMount()),typeof ba.componentDidMount=="function"&&(fn.flags|=4194308)):(typeof ba.componentDidMount=="function"&&(fn.flags|=4194308),fn.memoizedProps=Cn,fn.memoizedState=$a),ba.props=Cn,ba.state=$a,ba.context=rs,Cn=xa):(typeof ba.componentDidMount=="function"&&(fn.flags|=4194308),Cn=!1)}else{ba=fn.stateNode,lh(vn,fn),xa=fn.memoizedProps,rs=fn.type===fn.elementType?xa:Ci(fn.type,xa),ba.props=rs,is=fn.pendingProps,cs=ba.context,$a=En.contextType,typeof $a=="object"&&$a!==null?$a=eh($a):($a=Zf(En)?Xf:H$2.current,$a=Yf(fn,$a));var us=En.getDerivedStateFromProps;(ts=typeof us=="function"||typeof ba.getSnapshotBeforeUpdate=="function")||typeof ba.UNSAFE_componentWillReceiveProps!="function"&&typeof ba.componentWillReceiveProps!="function"||(xa!==is||cs!==$a)&&Hi$1(fn,ba,Cn,$a),jh=!1,cs=fn.memoizedState,ba.state=cs,qh(fn,Cn,ba,_i);var ps=fn.memoizedState;xa!==is||cs!==ps||Wf.current||jh?(typeof us=="function"&&(Di$2(fn,En,us,Cn),ps=fn.memoizedState),(rs=jh||Fi(fn,En,rs,Cn,cs,ps,$a)||!1)?(ts||typeof ba.UNSAFE_componentWillUpdate!="function"&&typeof ba.componentWillUpdate!="function"||(typeof ba.componentWillUpdate=="function"&&ba.componentWillUpdate(Cn,ps,$a),typeof ba.UNSAFE_componentWillUpdate=="function"&&ba.UNSAFE_componentWillUpdate(Cn,ps,$a)),typeof ba.componentDidUpdate=="function"&&(fn.flags|=4),typeof ba.getSnapshotBeforeUpdate=="function"&&(fn.flags|=1024)):(typeof ba.componentDidUpdate!="function"||xa===vn.memoizedProps&&cs===vn.memoizedState||(fn.flags|=4),typeof ba.getSnapshotBeforeUpdate!="function"||xa===vn.memoizedProps&&cs===vn.memoizedState||(fn.flags|=1024),fn.memoizedProps=Cn,fn.memoizedState=ps),ba.props=Cn,ba.state=ps,ba.context=$a,Cn=rs):(typeof ba.componentDidUpdate!="function"||xa===vn.memoizedProps&&cs===vn.memoizedState||(fn.flags|=4),typeof ba.getSnapshotBeforeUpdate!="function"||xa===vn.memoizedProps&&cs===vn.memoizedState||(fn.flags|=1024),Cn=!1)}return jj(vn,fn,En,Cn,An,_i)}function jj(vn,fn,En,Cn,_i,An){gj(vn,fn);var ba=(fn.flags&128)!==0;if(!Cn&&!ba)return _i&&dg(fn,En,!1),Zi(vn,fn,An);Cn=fn.stateNode,Wi.current=fn;var xa=ba&&typeof En.getDerivedStateFromError!="function"?null:Cn.render();return fn.flags|=1,vn!==null&&ba?(fn.child=Ug(fn,vn.child,null,An),fn.child=Ug(fn,null,xa,An)):Xi(vn,fn,xa,An),fn.memoizedState=Cn.state,_i&&dg(fn,En,!0),fn.child}function kj(vn){var fn=vn.stateNode;fn.pendingContext?ag(vn,fn.pendingContext,fn.pendingContext!==fn.context):fn.context&&ag(vn,fn.context,!1),yh(vn,fn.containerInfo)}function lj(vn,fn,En,Cn,_i){return Ig(),Jg(_i),fn.flags|=256,Xi(vn,fn,En,Cn),fn.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(vn){return{baseLanes:vn,cachePool:null,transitions:null}}function oj(vn,fn,En){var Cn=fn.pendingProps,_i=L$5.current,An=!1,ba=(fn.flags&128)!==0,xa;if((xa=ba)||(xa=vn!==null&&vn.memoizedState===null?!1:(_i&2)!==0),xa?(An=!0,fn.flags&=-129):(vn===null||vn.memoizedState!==null)&&(_i|=1),G$2(L$5,_i&1),vn===null)return Eg(fn),vn=fn.memoizedState,vn!==null&&(vn=vn.dehydrated,vn!==null)?(fn.mode&1?vn.data==="$!"?fn.lanes=8:fn.lanes=1073741824:fn.lanes=1,null):(ba=Cn.children,vn=Cn.fallback,An?(Cn=fn.mode,An=fn.child,ba={mode:"hidden",children:ba},!(Cn&1)&&An!==null?(An.childLanes=0,An.pendingProps=ba):An=pj(ba,Cn,0,null),vn=Tg(vn,Cn,En,null),An.return=fn,vn.return=fn,An.sibling=vn,fn.child=An,fn.child.memoizedState=nj(En),fn.memoizedState=mj,vn):qj(fn,ba));if(_i=vn.memoizedState,_i!==null&&(xa=_i.dehydrated,xa!==null))return rj(vn,fn,ba,Cn,xa,_i,En);if(An){An=Cn.fallback,ba=fn.mode,_i=vn.child,xa=_i.sibling;var $a={mode:"hidden",children:Cn.children};return!(ba&1)&&fn.child!==_i?(Cn=fn.child,Cn.childLanes=0,Cn.pendingProps=$a,fn.deletions=null):(Cn=Pg(_i,$a),Cn.subtreeFlags=_i.subtreeFlags&14680064),xa!==null?An=Pg(xa,An):(An=Tg(An,ba,En,null),An.flags|=2),An.return=fn,Cn.return=fn,Cn.sibling=An,fn.child=Cn,Cn=An,An=fn.child,ba=vn.child.memoizedState,ba=ba===null?nj(En):{baseLanes:ba.baseLanes|En,cachePool:null,transitions:ba.transitions},An.memoizedState=ba,An.childLanes=vn.childLanes&~En,fn.memoizedState=mj,Cn}return An=vn.child,vn=An.sibling,Cn=Pg(An,{mode:"visible",children:Cn.children}),!(fn.mode&1)&&(Cn.lanes=En),Cn.return=fn,Cn.sibling=null,vn!==null&&(En=fn.deletions,En===null?(fn.deletions=[vn],fn.flags|=16):En.push(vn)),fn.child=Cn,fn.memoizedState=null,Cn}function qj(vn,fn){return fn=pj({mode:"visible",children:fn},vn.mode,0,null),fn.return=vn,vn.child=fn}function sj(vn,fn,En,Cn){return Cn!==null&&Jg(Cn),Ug(fn,vn.child,null,En),vn=qj(fn,fn.pendingProps.children),vn.flags|=2,fn.memoizedState=null,vn}function rj(vn,fn,En,Cn,_i,An,ba){if(En)return fn.flags&256?(fn.flags&=-257,Cn=Ki(Error(p$6(422))),sj(vn,fn,ba,Cn)):fn.memoizedState!==null?(fn.child=vn.child,fn.flags|=128,null):(An=Cn.fallback,_i=fn.mode,Cn=pj({mode:"visible",children:Cn.children},_i,0,null),An=Tg(An,_i,ba,null),An.flags|=2,Cn.return=fn,An.return=fn,Cn.sibling=An,fn.child=Cn,fn.mode&1&&Ug(fn,vn.child,null,ba),fn.child.memoizedState=nj(ba),fn.memoizedState=mj,An);if(!(fn.mode&1))return sj(vn,fn,ba,null);if(_i.data==="$!"){if(Cn=_i.nextSibling&&_i.nextSibling.dataset,Cn)var xa=Cn.dgst;return Cn=xa,An=Error(p$6(419)),Cn=Ki(An,Cn,void 0),sj(vn,fn,ba,Cn)}if(xa=(ba&vn.childLanes)!==0,dh$1||xa){if(Cn=Q$3,Cn!==null){switch(ba&-ba){case 4:_i=2;break;case 16:_i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_i=32;break;case 536870912:_i=268435456;break;default:_i=0}_i=_i&(Cn.suspendedLanes|ba)?0:_i,_i!==0&&_i!==An.retryLane&&(An.retryLane=_i,ih(vn,_i),gi$2(Cn,vn,_i,-1))}return tj(),Cn=Ki(Error(p$6(421))),sj(vn,fn,ba,Cn)}return _i.data==="$?"?(fn.flags|=128,fn.child=vn.child,fn=uj.bind(null,vn),_i._reactRetry=fn,null):(vn=An.treeContext,yg=Lf(_i.nextSibling),xg=fn,I$7=!0,zg=null,vn!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=vn.id,sg=vn.overflow,qg=fn),fn=qj(fn,Cn.children),fn.flags|=4096,fn)}function vj(vn,fn,En){vn.lanes|=fn;var Cn=vn.alternate;Cn!==null&&(Cn.lanes|=fn),bh(vn.return,fn,En)}function wj(vn,fn,En,Cn,_i){var An=vn.memoizedState;An===null?vn.memoizedState={isBackwards:fn,rendering:null,renderingStartTime:0,last:Cn,tail:En,tailMode:_i}:(An.isBackwards=fn,An.rendering=null,An.renderingStartTime=0,An.last=Cn,An.tail=En,An.tailMode=_i)}function xj(vn,fn,En){var Cn=fn.pendingProps,_i=Cn.revealOrder,An=Cn.tail;if(Xi(vn,fn,Cn.children,En),Cn=L$5.current,Cn&2)Cn=Cn&1|2,fn.flags|=128;else{if(vn!==null&&vn.flags&128)e:for(vn=fn.child;vn!==null;){if(vn.tag===13)vn.memoizedState!==null&&vj(vn,En,fn);else if(vn.tag===19)vj(vn,En,fn);else if(vn.child!==null){vn.child.return=vn,vn=vn.child;continue}if(vn===fn)break e;for(;vn.sibling===null;){if(vn.return===null||vn.return===fn)break e;vn=vn.return}vn.sibling.return=vn.return,vn=vn.sibling}Cn&=1}if(G$2(L$5,Cn),!(fn.mode&1))fn.memoizedState=null;else switch(_i){case"forwards":for(En=fn.child,_i=null;En!==null;)vn=En.alternate,vn!==null&&Ch$1(vn)===null&&(_i=En),En=En.sibling;En=_i,En===null?(_i=fn.child,fn.child=null):(_i=En.sibling,En.sibling=null),wj(fn,!1,_i,En,An);break;case"backwards":for(En=null,_i=fn.child,fn.child=null;_i!==null;){if(vn=_i.alternate,vn!==null&&Ch$1(vn)===null){fn.child=_i;break}vn=_i.sibling,_i.sibling=En,En=_i,_i=vn}wj(fn,!0,En,null,An);break;case"together":wj(fn,!1,null,null,void 0);break;default:fn.memoizedState=null}return fn.child}function ij(vn,fn){!(fn.mode&1)&&vn!==null&&(vn.alternate=null,fn.alternate=null,fn.flags|=2)}function Zi(vn,fn,En){if(vn!==null&&(fn.dependencies=vn.dependencies),rh$1|=fn.lanes,!(En&fn.childLanes))return null;if(vn!==null&&fn.child!==vn.child)throw Error(p$6(153));if(fn.child!==null){for(vn=fn.child,En=Pg(vn,vn.pendingProps),fn.child=En,En.return=fn;vn.sibling!==null;)vn=vn.sibling,En=En.sibling=Pg(vn,vn.pendingProps),En.return=fn;En.sibling=null}return fn.child}function yj(vn,fn,En){switch(fn.tag){case 3:kj(fn),Ig();break;case 5:Ah(fn);break;case 1:Zf(fn.type)&&cg(fn);break;case 4:yh(fn,fn.stateNode.containerInfo);break;case 10:var Cn=fn.type._context,_i=fn.memoizedProps.value;G$2(Wg$1,Cn._currentValue),Cn._currentValue=_i;break;case 13:if(Cn=fn.memoizedState,Cn!==null)return Cn.dehydrated!==null?(G$2(L$5,L$5.current&1),fn.flags|=128,null):En&fn.child.childLanes?oj(vn,fn,En):(G$2(L$5,L$5.current&1),vn=Zi(vn,fn,En),vn!==null?vn.sibling:null);G$2(L$5,L$5.current&1);break;case 19:if(Cn=(En&fn.childLanes)!==0,vn.flags&128){if(Cn)return xj(vn,fn,En);fn.flags|=128}if(_i=fn.memoizedState,_i!==null&&(_i.rendering=null,_i.tail=null,_i.lastEffect=null),G$2(L$5,L$5.current),Cn)break;return null;case 22:case 23:return fn.lanes=0,dj(vn,fn,En)}return Zi(vn,fn,En)}var zj,Aj,Bj,Cj;zj=function(vn,fn){for(var En=fn.child;En!==null;){if(En.tag===5||En.tag===6)vn.appendChild(En.stateNode);else if(En.tag!==4&&En.child!==null){En.child.return=En,En=En.child;continue}if(En===fn)break;for(;En.sibling===null;){if(En.return===null||En.return===fn)return;En=En.return}En.sibling.return=En.return,En=En.sibling}};Aj=function(){};Bj=function(vn,fn,En,Cn){var _i=vn.memoizedProps;if(_i!==Cn){vn=fn.stateNode,xh(uh.current);var An=null;switch(En){case"input":_i=Ya(vn,_i),Cn=Ya(vn,Cn),An=[];break;case"select":_i=A$4({},_i,{value:void 0}),Cn=A$4({},Cn,{value:void 0}),An=[];break;case"textarea":_i=gb(vn,_i),Cn=gb(vn,Cn),An=[];break;default:typeof _i.onClick!="function"&&typeof Cn.onClick=="function"&&(vn.onclick=Bf)}ub(En,Cn);var ba;En=null;for(rs in _i)if(!Cn.hasOwnProperty(rs)&&_i.hasOwnProperty(rs)&&_i[rs]!=null)if(rs==="style"){var xa=_i[rs];for(ba in xa)xa.hasOwnProperty(ba)&&(En||(En={}),En[ba]="")}else rs!=="dangerouslySetInnerHTML"&&rs!=="children"&&rs!=="suppressContentEditableWarning"&&rs!=="suppressHydrationWarning"&&rs!=="autoFocus"&&(ea.hasOwnProperty(rs)?An||(An=[]):(An=An||[]).push(rs,null));for(rs in Cn){var $a=Cn[rs];if(xa=_i!=null?_i[rs]:void 0,Cn.hasOwnProperty(rs)&&$a!==xa&&($a!=null||xa!=null))if(rs==="style")if(xa){for(ba in xa)!xa.hasOwnProperty(ba)||$a&&$a.hasOwnProperty(ba)||(En||(En={}),En[ba]="");for(ba in $a)$a.hasOwnProperty(ba)&&xa[ba]!==$a[ba]&&(En||(En={}),En[ba]=$a[ba])}else En||(An||(An=[]),An.push(rs,En)),En=$a;else rs==="dangerouslySetInnerHTML"?($a=$a?$a.__html:void 0,xa=xa?xa.__html:void 0,$a!=null&&xa!==$a&&(An=An||[]).push(rs,$a)):rs==="children"?typeof $a!="string"&&typeof $a!="number"||(An=An||[]).push(rs,""+$a):rs!=="suppressContentEditableWarning"&&rs!=="suppressHydrationWarning"&&(ea.hasOwnProperty(rs)?($a!=null&&rs==="onScroll"&&D$5("scroll",vn),An||xa===$a||(An=[])):(An=An||[]).push(rs,$a))}En&&(An=An||[]).push("style",En);var rs=An;(fn.updateQueue=rs)&&(fn.flags|=4)}};Cj=function(vn,fn,En,Cn){En!==Cn&&(fn.flags|=4)};function Dj(vn,fn){if(!I$7)switch(vn.tailMode){case"hidden":fn=vn.tail;for(var En=null;fn!==null;)fn.alternate!==null&&(En=fn),fn=fn.sibling;En===null?vn.tail=null:En.sibling=null;break;case"collapsed":En=vn.tail;for(var Cn=null;En!==null;)En.alternate!==null&&(Cn=En),En=En.sibling;Cn===null?fn||vn.tail===null?vn.tail=null:vn.tail.sibling=null:Cn.sibling=null}}function S$9(vn){var fn=vn.alternate!==null&&vn.alternate.child===vn.child,En=0,Cn=0;if(fn)for(var _i=vn.child;_i!==null;)En|=_i.lanes|_i.childLanes,Cn|=_i.subtreeFlags&14680064,Cn|=_i.flags&14680064,_i.return=vn,_i=_i.sibling;else for(_i=vn.child;_i!==null;)En|=_i.lanes|_i.childLanes,Cn|=_i.subtreeFlags,Cn|=_i.flags,_i.return=vn,_i=_i.sibling;return vn.subtreeFlags|=Cn,vn.childLanes=En,fn}function Ej(vn,fn,En){var Cn=fn.pendingProps;switch(wg(fn),fn.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$9(fn),null;case 1:return Zf(fn.type)&&$f(),S$9(fn),null;case 3:return Cn=fn.stateNode,zh(),E$3(Wf),E$3(H$2),Eh(),Cn.pendingContext&&(Cn.context=Cn.pendingContext,Cn.pendingContext=null),(vn===null||vn.child===null)&&(Gg(fn)?fn.flags|=4:vn===null||vn.memoizedState.isDehydrated&&!(fn.flags&256)||(fn.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(vn,fn),S$9(fn),null;case 5:Bh(fn);var _i=xh(wh.current);if(En=fn.type,vn!==null&&fn.stateNode!=null)Bj(vn,fn,En,Cn,_i),vn.ref!==fn.ref&&(fn.flags|=512,fn.flags|=2097152);else{if(!Cn){if(fn.stateNode===null)throw Error(p$6(166));return S$9(fn),null}if(vn=xh(uh.current),Gg(fn)){Cn=fn.stateNode,En=fn.type;var An=fn.memoizedProps;switch(Cn[Of]=fn,Cn[Pf]=An,vn=(fn.mode&1)!==0,En){case"dialog":D$5("cancel",Cn),D$5("close",Cn);break;case"iframe":case"object":case"embed":D$5("load",Cn);break;case"video":case"audio":for(_i=0;_i<lf.length;_i++)D$5(lf[_i],Cn);break;case"source":D$5("error",Cn);break;case"img":case"image":case"link":D$5("error",Cn),D$5("load",Cn);break;case"details":D$5("toggle",Cn);break;case"input":Za(Cn,An),D$5("invalid",Cn);break;case"select":Cn._wrapperState={wasMultiple:!!An.multiple},D$5("invalid",Cn);break;case"textarea":hb(Cn,An),D$5("invalid",Cn)}ub(En,An),_i=null;for(var ba in An)if(An.hasOwnProperty(ba)){var xa=An[ba];ba==="children"?typeof xa=="string"?Cn.textContent!==xa&&(An.suppressHydrationWarning!==!0&&Af(Cn.textContent,xa,vn),_i=["children",xa]):typeof xa=="number"&&Cn.textContent!==""+xa&&(An.suppressHydrationWarning!==!0&&Af(Cn.textContent,xa,vn),_i=["children",""+xa]):ea.hasOwnProperty(ba)&&xa!=null&&ba==="onScroll"&&D$5("scroll",Cn)}switch(En){case"input":Va(Cn),db(Cn,An,!0);break;case"textarea":Va(Cn),jb(Cn);break;case"select":case"option":break;default:typeof An.onClick=="function"&&(Cn.onclick=Bf)}Cn=_i,fn.updateQueue=Cn,Cn!==null&&(fn.flags|=4)}else{ba=_i.nodeType===9?_i:_i.ownerDocument,vn==="http://www.w3.org/1999/xhtml"&&(vn=kb(En)),vn==="http://www.w3.org/1999/xhtml"?En==="script"?(vn=ba.createElement("div"),vn.innerHTML="<script><\/script>",vn=vn.removeChild(vn.firstChild)):typeof Cn.is=="string"?vn=ba.createElement(En,{is:Cn.is}):(vn=ba.createElement(En),En==="select"&&(ba=vn,Cn.multiple?ba.multiple=!0:Cn.size&&(ba.size=Cn.size))):vn=ba.createElementNS(vn,En),vn[Of]=fn,vn[Pf]=Cn,zj(vn,fn,!1,!1),fn.stateNode=vn;e:{switch(ba=vb(En,Cn),En){case"dialog":D$5("cancel",vn),D$5("close",vn),_i=Cn;break;case"iframe":case"object":case"embed":D$5("load",vn),_i=Cn;break;case"video":case"audio":for(_i=0;_i<lf.length;_i++)D$5(lf[_i],vn);_i=Cn;break;case"source":D$5("error",vn),_i=Cn;break;case"img":case"image":case"link":D$5("error",vn),D$5("load",vn),_i=Cn;break;case"details":D$5("toggle",vn),_i=Cn;break;case"input":Za(vn,Cn),_i=Ya(vn,Cn),D$5("invalid",vn);break;case"option":_i=Cn;break;case"select":vn._wrapperState={wasMultiple:!!Cn.multiple},_i=A$4({},Cn,{value:void 0}),D$5("invalid",vn);break;case"textarea":hb(vn,Cn),_i=gb(vn,Cn),D$5("invalid",vn);break;default:_i=Cn}ub(En,_i),xa=_i;for(An in xa)if(xa.hasOwnProperty(An)){var $a=xa[An];An==="style"?sb(vn,$a):An==="dangerouslySetInnerHTML"?($a=$a?$a.__html:void 0,$a!=null&&nb(vn,$a)):An==="children"?typeof $a=="string"?(En!=="textarea"||$a!=="")&&ob(vn,$a):typeof $a=="number"&&ob(vn,""+$a):An!=="suppressContentEditableWarning"&&An!=="suppressHydrationWarning"&&An!=="autoFocus"&&(ea.hasOwnProperty(An)?$a!=null&&An==="onScroll"&&D$5("scroll",vn):$a!=null&&ta(vn,An,$a,ba))}switch(En){case"input":Va(vn),db(vn,Cn,!1);break;case"textarea":Va(vn),jb(vn);break;case"option":Cn.value!=null&&vn.setAttribute("value",""+Sa(Cn.value));break;case"select":vn.multiple=!!Cn.multiple,An=Cn.value,An!=null?fb(vn,!!Cn.multiple,An,!1):Cn.defaultValue!=null&&fb(vn,!!Cn.multiple,Cn.defaultValue,!0);break;default:typeof _i.onClick=="function"&&(vn.onclick=Bf)}switch(En){case"button":case"input":case"select":case"textarea":Cn=!!Cn.autoFocus;break e;case"img":Cn=!0;break e;default:Cn=!1}}Cn&&(fn.flags|=4)}fn.ref!==null&&(fn.flags|=512,fn.flags|=2097152)}return S$9(fn),null;case 6:if(vn&&fn.stateNode!=null)Cj(vn,fn,vn.memoizedProps,Cn);else{if(typeof Cn!="string"&&fn.stateNode===null)throw Error(p$6(166));if(En=xh(wh.current),xh(uh.current),Gg(fn)){if(Cn=fn.stateNode,En=fn.memoizedProps,Cn[Of]=fn,(An=Cn.nodeValue!==En)&&(vn=xg,vn!==null))switch(vn.tag){case 3:Af(Cn.nodeValue,En,(vn.mode&1)!==0);break;case 5:vn.memoizedProps.suppressHydrationWarning!==!0&&Af(Cn.nodeValue,En,(vn.mode&1)!==0)}An&&(fn.flags|=4)}else Cn=(En.nodeType===9?En:En.ownerDocument).createTextNode(Cn),Cn[Of]=fn,fn.stateNode=Cn}return S$9(fn),null;case 13:if(E$3(L$5),Cn=fn.memoizedState,vn===null||vn.memoizedState!==null&&vn.memoizedState.dehydrated!==null){if(I$7&&yg!==null&&fn.mode&1&&!(fn.flags&128))Hg$1(),Ig(),fn.flags|=98560,An=!1;else if(An=Gg(fn),Cn!==null&&Cn.dehydrated!==null){if(vn===null){if(!An)throw Error(p$6(318));if(An=fn.memoizedState,An=An!==null?An.dehydrated:null,!An)throw Error(p$6(317));An[Of]=fn}else Ig(),!(fn.flags&128)&&(fn.memoizedState=null),fn.flags|=4;S$9(fn),An=!1}else zg!==null&&(Fj(zg),zg=null),An=!0;if(!An)return fn.flags&65536?fn:null}return fn.flags&128?(fn.lanes=En,fn):(Cn=Cn!==null,Cn!==(vn!==null&&vn.memoizedState!==null)&&Cn&&(fn.child.flags|=8192,fn.mode&1&&(vn===null||L$5.current&1?T$3===0&&(T$3=3):tj())),fn.updateQueue!==null&&(fn.flags|=4),S$9(fn),null);case 4:return zh(),Aj(vn,fn),vn===null&&sf(fn.stateNode.containerInfo),S$9(fn),null;case 10:return ah(fn.type._context),S$9(fn),null;case 17:return Zf(fn.type)&&$f(),S$9(fn),null;case 19:if(E$3(L$5),An=fn.memoizedState,An===null)return S$9(fn),null;if(Cn=(fn.flags&128)!==0,ba=An.rendering,ba===null)if(Cn)Dj(An,!1);else{if(T$3!==0||vn!==null&&vn.flags&128)for(vn=fn.child;vn!==null;){if(ba=Ch$1(vn),ba!==null){for(fn.flags|=128,Dj(An,!1),Cn=ba.updateQueue,Cn!==null&&(fn.updateQueue=Cn,fn.flags|=4),fn.subtreeFlags=0,Cn=En,En=fn.child;En!==null;)An=En,vn=Cn,An.flags&=14680066,ba=An.alternate,ba===null?(An.childLanes=0,An.lanes=vn,An.child=null,An.subtreeFlags=0,An.memoizedProps=null,An.memoizedState=null,An.updateQueue=null,An.dependencies=null,An.stateNode=null):(An.childLanes=ba.childLanes,An.lanes=ba.lanes,An.child=ba.child,An.subtreeFlags=0,An.deletions=null,An.memoizedProps=ba.memoizedProps,An.memoizedState=ba.memoizedState,An.updateQueue=ba.updateQueue,An.type=ba.type,vn=ba.dependencies,An.dependencies=vn===null?null:{lanes:vn.lanes,firstContext:vn.firstContext}),En=En.sibling;return G$2(L$5,L$5.current&1|2),fn.child}vn=vn.sibling}An.tail!==null&&B$5()>Gj&&(fn.flags|=128,Cn=!0,Dj(An,!1),fn.lanes=4194304)}else{if(!Cn)if(vn=Ch$1(ba),vn!==null){if(fn.flags|=128,Cn=!0,En=vn.updateQueue,En!==null&&(fn.updateQueue=En,fn.flags|=4),Dj(An,!0),An.tail===null&&An.tailMode==="hidden"&&!ba.alternate&&!I$7)return S$9(fn),null}else 2*B$5()-An.renderingStartTime>Gj&&En!==1073741824&&(fn.flags|=128,Cn=!0,Dj(An,!1),fn.lanes=4194304);An.isBackwards?(ba.sibling=fn.child,fn.child=ba):(En=An.last,En!==null?En.sibling=ba:fn.child=ba,An.last=ba)}return An.tail!==null?(fn=An.tail,An.rendering=fn,An.tail=fn.sibling,An.renderingStartTime=B$5(),fn.sibling=null,En=L$5.current,G$2(L$5,Cn?En&1|2:En&1),fn):(S$9(fn),null);case 22:case 23:return Hj(),Cn=fn.memoizedState!==null,vn!==null&&vn.memoizedState!==null!==Cn&&(fn.flags|=8192),Cn&&fn.mode&1?fj&1073741824&&(S$9(fn),fn.subtreeFlags&6&&(fn.flags|=8192)):S$9(fn),null;case 24:return null;case 25:return null}throw Error(p$6(156,fn.tag))}function Ij(vn,fn){switch(wg(fn),fn.tag){case 1:return Zf(fn.type)&&$f(),vn=fn.flags,vn&65536?(fn.flags=vn&-65537|128,fn):null;case 3:return zh(),E$3(Wf),E$3(H$2),Eh(),vn=fn.flags,vn&65536&&!(vn&128)?(fn.flags=vn&-65537|128,fn):null;case 5:return Bh(fn),null;case 13:if(E$3(L$5),vn=fn.memoizedState,vn!==null&&vn.dehydrated!==null){if(fn.alternate===null)throw Error(p$6(340));Ig()}return vn=fn.flags,vn&65536?(fn.flags=vn&-65537|128,fn):null;case 19:return E$3(L$5),null;case 4:return zh(),null;case 10:return ah(fn.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$4=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$6=null;function Lj(vn,fn){var En=vn.ref;if(En!==null)if(typeof En=="function")try{En(null)}catch(Cn){W$a(vn,fn,Cn)}else En.current=null}function Mj(vn,fn,En){try{En()}catch(Cn){W$a(vn,fn,Cn)}}var Nj=!1;function Oj(vn,fn){if(Cf=dd,vn=Me(),Ne(vn)){if("selectionStart"in vn)var En={start:vn.selectionStart,end:vn.selectionEnd};else e:{En=(En=vn.ownerDocument)&&En.defaultView||window;var Cn=En.getSelection&&En.getSelection();if(Cn&&Cn.rangeCount!==0){En=Cn.anchorNode;var _i=Cn.anchorOffset,An=Cn.focusNode;Cn=Cn.focusOffset;try{En.nodeType,An.nodeType}catch{En=null;break e}var ba=0,xa=-1,$a=-1,rs=0,ts=0,is=vn,cs=null;t:for(;;){for(var us;is!==En||_i!==0&&is.nodeType!==3||(xa=ba+_i),is!==An||Cn!==0&&is.nodeType!==3||($a=ba+Cn),is.nodeType===3&&(ba+=is.nodeValue.length),(us=is.firstChild)!==null;)cs=is,is=us;for(;;){if(is===vn)break t;if(cs===En&&++rs===_i&&(xa=ba),cs===An&&++ts===Cn&&($a=ba),(us=is.nextSibling)!==null)break;is=cs,cs=is.parentNode}is=us}En=xa===-1||$a===-1?null:{start:xa,end:$a}}else En=null}En=En||{start:0,end:0}}else En=null;for(Df={focusedElem:vn,selectionRange:En},dd=!1,V$6=fn;V$6!==null;)if(fn=V$6,vn=fn.child,(fn.subtreeFlags&1028)!==0&&vn!==null)vn.return=fn,V$6=vn;else for(;V$6!==null;){fn=V$6;try{var ps=fn.alternate;if(fn.flags&1024)switch(fn.tag){case 0:case 11:case 15:break;case 1:if(ps!==null){var bs=ps.memoizedProps,e0=ps.memoizedState,gs=fn.stateNode,Ds=gs.getSnapshotBeforeUpdate(fn.elementType===fn.type?bs:Ci(fn.type,bs),e0);gs.__reactInternalSnapshotBeforeUpdate=Ds}break;case 3:var i0=fn.stateNode.containerInfo;i0.nodeType===1?i0.textContent="":i0.nodeType===9&&i0.documentElement&&i0.removeChild(i0.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$6(163))}}catch(n0){W$a(fn,fn.return,n0)}if(vn=fn.sibling,vn!==null){vn.return=fn.return,V$6=vn;break}V$6=fn.return}return ps=Nj,Nj=!1,ps}function Pj(vn,fn,En){var Cn=fn.updateQueue;if(Cn=Cn!==null?Cn.lastEffect:null,Cn!==null){var _i=Cn=Cn.next;do{if((_i.tag&vn)===vn){var An=_i.destroy;_i.destroy=void 0,An!==void 0&&Mj(fn,En,An)}_i=_i.next}while(_i!==Cn)}}function Qj(vn,fn){if(fn=fn.updateQueue,fn=fn!==null?fn.lastEffect:null,fn!==null){var En=fn=fn.next;do{if((En.tag&vn)===vn){var Cn=En.create;En.destroy=Cn()}En=En.next}while(En!==fn)}}function Rj(vn){var fn=vn.ref;if(fn!==null){var En=vn.stateNode;switch(vn.tag){case 5:vn=En;break;default:vn=En}typeof fn=="function"?fn(vn):fn.current=vn}}function Sj(vn){var fn=vn.alternate;fn!==null&&(vn.alternate=null,Sj(fn)),vn.child=null,vn.deletions=null,vn.sibling=null,vn.tag===5&&(fn=vn.stateNode,fn!==null&&(delete fn[Of],delete fn[Pf],delete fn[of],delete fn[Qf],delete fn[Rf])),vn.stateNode=null,vn.return=null,vn.dependencies=null,vn.memoizedProps=null,vn.memoizedState=null,vn.pendingProps=null,vn.stateNode=null,vn.updateQueue=null}function Tj(vn){return vn.tag===5||vn.tag===3||vn.tag===4}function Uj(vn){e:for(;;){for(;vn.sibling===null;){if(vn.return===null||Tj(vn.return))return null;vn=vn.return}for(vn.sibling.return=vn.return,vn=vn.sibling;vn.tag!==5&&vn.tag!==6&&vn.tag!==18;){if(vn.flags&2||vn.child===null||vn.tag===4)continue e;vn.child.return=vn,vn=vn.child}if(!(vn.flags&2))return vn.stateNode}}function Vj(vn,fn,En){var Cn=vn.tag;if(Cn===5||Cn===6)vn=vn.stateNode,fn?En.nodeType===8?En.parentNode.insertBefore(vn,fn):En.insertBefore(vn,fn):(En.nodeType===8?(fn=En.parentNode,fn.insertBefore(vn,En)):(fn=En,fn.appendChild(vn)),En=En._reactRootContainer,En!=null||fn.onclick!==null||(fn.onclick=Bf));else if(Cn!==4&&(vn=vn.child,vn!==null))for(Vj(vn,fn,En),vn=vn.sibling;vn!==null;)Vj(vn,fn,En),vn=vn.sibling}function Wj(vn,fn,En){var Cn=vn.tag;if(Cn===5||Cn===6)vn=vn.stateNode,fn?En.insertBefore(vn,fn):En.appendChild(vn);else if(Cn!==4&&(vn=vn.child,vn!==null))for(Wj(vn,fn,En),vn=vn.sibling;vn!==null;)Wj(vn,fn,En),vn=vn.sibling}var X$4=null,Xj=!1;function Yj(vn,fn,En){for(En=En.child;En!==null;)Zj(vn,fn,En),En=En.sibling}function Zj(vn,fn,En){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,En)}catch{}switch(En.tag){case 5:U$4||Lj(En,fn);case 6:var Cn=X$4,_i=Xj;X$4=null,Yj(vn,fn,En),X$4=Cn,Xj=_i,X$4!==null&&(Xj?(vn=X$4,En=En.stateNode,vn.nodeType===8?vn.parentNode.removeChild(En):vn.removeChild(En)):X$4.removeChild(En.stateNode));break;case 18:X$4!==null&&(Xj?(vn=X$4,En=En.stateNode,vn.nodeType===8?Kf(vn.parentNode,En):vn.nodeType===1&&Kf(vn,En),bd(vn)):Kf(X$4,En.stateNode));break;case 4:Cn=X$4,_i=Xj,X$4=En.stateNode.containerInfo,Xj=!0,Yj(vn,fn,En),X$4=Cn,Xj=_i;break;case 0:case 11:case 14:case 15:if(!U$4&&(Cn=En.updateQueue,Cn!==null&&(Cn=Cn.lastEffect,Cn!==null))){_i=Cn=Cn.next;do{var An=_i,ba=An.destroy;An=An.tag,ba!==void 0&&(An&2||An&4)&&Mj(En,fn,ba),_i=_i.next}while(_i!==Cn)}Yj(vn,fn,En);break;case 1:if(!U$4&&(Lj(En,fn),Cn=En.stateNode,typeof Cn.componentWillUnmount=="function"))try{Cn.props=En.memoizedProps,Cn.state=En.memoizedState,Cn.componentWillUnmount()}catch(xa){W$a(En,fn,xa)}Yj(vn,fn,En);break;case 21:Yj(vn,fn,En);break;case 22:En.mode&1?(U$4=(Cn=U$4)||En.memoizedState!==null,Yj(vn,fn,En),U$4=Cn):Yj(vn,fn,En);break;default:Yj(vn,fn,En)}}function ak(vn){var fn=vn.updateQueue;if(fn!==null){vn.updateQueue=null;var En=vn.stateNode;En===null&&(En=vn.stateNode=new Kj),fn.forEach(function(Cn){var _i=bk.bind(null,vn,Cn);En.has(Cn)||(En.add(Cn),Cn.then(_i,_i))})}}function ck(vn,fn){var En=fn.deletions;if(En!==null)for(var Cn=0;Cn<En.length;Cn++){var _i=En[Cn];try{var An=vn,ba=fn,xa=ba;e:for(;xa!==null;){switch(xa.tag){case 5:X$4=xa.stateNode,Xj=!1;break e;case 3:X$4=xa.stateNode.containerInfo,Xj=!0;break e;case 4:X$4=xa.stateNode.containerInfo,Xj=!0;break e}xa=xa.return}if(X$4===null)throw Error(p$6(160));Zj(An,ba,_i),X$4=null,Xj=!1;var $a=_i.alternate;$a!==null&&($a.return=null),_i.return=null}catch(rs){W$a(_i,fn,rs)}}if(fn.subtreeFlags&12854)for(fn=fn.child;fn!==null;)dk(fn,vn),fn=fn.sibling}function dk(vn,fn){var En=vn.alternate,Cn=vn.flags;switch(vn.tag){case 0:case 11:case 14:case 15:if(ck(fn,vn),ek(vn),Cn&4){try{Pj(3,vn,vn.return),Qj(3,vn)}catch(bs){W$a(vn,vn.return,bs)}try{Pj(5,vn,vn.return)}catch(bs){W$a(vn,vn.return,bs)}}break;case 1:ck(fn,vn),ek(vn),Cn&512&&En!==null&&Lj(En,En.return);break;case 5:if(ck(fn,vn),ek(vn),Cn&512&&En!==null&&Lj(En,En.return),vn.flags&32){var _i=vn.stateNode;try{ob(_i,"")}catch(bs){W$a(vn,vn.return,bs)}}if(Cn&4&&(_i=vn.stateNode,_i!=null)){var An=vn.memoizedProps,ba=En!==null?En.memoizedProps:An,xa=vn.type,$a=vn.updateQueue;if(vn.updateQueue=null,$a!==null)try{xa==="input"&&An.type==="radio"&&An.name!=null&&ab(_i,An),vb(xa,ba);var rs=vb(xa,An);for(ba=0;ba<$a.length;ba+=2){var ts=$a[ba],is=$a[ba+1];ts==="style"?sb(_i,is):ts==="dangerouslySetInnerHTML"?nb(_i,is):ts==="children"?ob(_i,is):ta(_i,ts,is,rs)}switch(xa){case"input":bb(_i,An);break;case"textarea":ib(_i,An);break;case"select":var cs=_i._wrapperState.wasMultiple;_i._wrapperState.wasMultiple=!!An.multiple;var us=An.value;us!=null?fb(_i,!!An.multiple,us,!1):cs!==!!An.multiple&&(An.defaultValue!=null?fb(_i,!!An.multiple,An.defaultValue,!0):fb(_i,!!An.multiple,An.multiple?[]:"",!1))}_i[Pf]=An}catch(bs){W$a(vn,vn.return,bs)}}break;case 6:if(ck(fn,vn),ek(vn),Cn&4){if(vn.stateNode===null)throw Error(p$6(162));_i=vn.stateNode,An=vn.memoizedProps;try{_i.nodeValue=An}catch(bs){W$a(vn,vn.return,bs)}}break;case 3:if(ck(fn,vn),ek(vn),Cn&4&&En!==null&&En.memoizedState.isDehydrated)try{bd(fn.containerInfo)}catch(bs){W$a(vn,vn.return,bs)}break;case 4:ck(fn,vn),ek(vn);break;case 13:ck(fn,vn),ek(vn),_i=vn.child,_i.flags&8192&&(An=_i.memoizedState!==null,_i.stateNode.isHidden=An,!An||_i.alternate!==null&&_i.alternate.memoizedState!==null||(fk=B$5())),Cn&4&&ak(vn);break;case 22:if(ts=En!==null&&En.memoizedState!==null,vn.mode&1?(U$4=(rs=U$4)||ts,ck(fn,vn),U$4=rs):ck(fn,vn),ek(vn),Cn&8192){if(rs=vn.memoizedState!==null,(vn.stateNode.isHidden=rs)&&!ts&&vn.mode&1)for(V$6=vn,ts=vn.child;ts!==null;){for(is=V$6=ts;V$6!==null;){switch(cs=V$6,us=cs.child,cs.tag){case 0:case 11:case 14:case 15:Pj(4,cs,cs.return);break;case 1:Lj(cs,cs.return);var ps=cs.stateNode;if(typeof ps.componentWillUnmount=="function"){Cn=cs,En=cs.return;try{fn=Cn,ps.props=fn.memoizedProps,ps.state=fn.memoizedState,ps.componentWillUnmount()}catch(bs){W$a(Cn,En,bs)}}break;case 5:Lj(cs,cs.return);break;case 22:if(cs.memoizedState!==null){gk(is);continue}}us!==null?(us.return=cs,V$6=us):gk(is)}ts=ts.sibling}e:for(ts=null,is=vn;;){if(is.tag===5){if(ts===null){ts=is;try{_i=is.stateNode,rs?(An=_i.style,typeof An.setProperty=="function"?An.setProperty("display","none","important"):An.display="none"):(xa=is.stateNode,$a=is.memoizedProps.style,ba=$a!=null&&$a.hasOwnProperty("display")?$a.display:null,xa.style.display=rb("display",ba))}catch(bs){W$a(vn,vn.return,bs)}}}else if(is.tag===6){if(ts===null)try{is.stateNode.nodeValue=rs?"":is.memoizedProps}catch(bs){W$a(vn,vn.return,bs)}}else if((is.tag!==22&&is.tag!==23||is.memoizedState===null||is===vn)&&is.child!==null){is.child.return=is,is=is.child;continue}if(is===vn)break e;for(;is.sibling===null;){if(is.return===null||is.return===vn)break e;ts===is&&(ts=null),is=is.return}ts===is&&(ts=null),is.sibling.return=is.return,is=is.sibling}}break;case 19:ck(fn,vn),ek(vn),Cn&4&&ak(vn);break;case 21:break;default:ck(fn,vn),ek(vn)}}function ek(vn){var fn=vn.flags;if(fn&2){try{e:{for(var En=vn.return;En!==null;){if(Tj(En)){var Cn=En;break e}En=En.return}throw Error(p$6(160))}switch(Cn.tag){case 5:var _i=Cn.stateNode;Cn.flags&32&&(ob(_i,""),Cn.flags&=-33);var An=Uj(vn);Wj(vn,An,_i);break;case 3:case 4:var ba=Cn.stateNode.containerInfo,xa=Uj(vn);Vj(vn,xa,ba);break;default:throw Error(p$6(161))}}catch($a){W$a(vn,vn.return,$a)}vn.flags&=-3}fn&4096&&(vn.flags&=-4097)}function hk(vn,fn,En){V$6=vn,ik(vn)}function ik(vn,fn,En){for(var Cn=(vn.mode&1)!==0;V$6!==null;){var _i=V$6,An=_i.child;if(_i.tag===22&&Cn){var ba=_i.memoizedState!==null||Jj;if(!ba){var xa=_i.alternate,$a=xa!==null&&xa.memoizedState!==null||U$4;xa=Jj;var rs=U$4;if(Jj=ba,(U$4=$a)&&!rs)for(V$6=_i;V$6!==null;)ba=V$6,$a=ba.child,ba.tag===22&&ba.memoizedState!==null?jk(_i):$a!==null?($a.return=ba,V$6=$a):jk(_i);for(;An!==null;)V$6=An,ik(An),An=An.sibling;V$6=_i,Jj=xa,U$4=rs}kk(vn)}else _i.subtreeFlags&8772&&An!==null?(An.return=_i,V$6=An):kk(vn)}}function kk(vn){for(;V$6!==null;){var fn=V$6;if(fn.flags&8772){var En=fn.alternate;try{if(fn.flags&8772)switch(fn.tag){case 0:case 11:case 15:U$4||Qj(5,fn);break;case 1:var Cn=fn.stateNode;if(fn.flags&4&&!U$4)if(En===null)Cn.componentDidMount();else{var _i=fn.elementType===fn.type?En.memoizedProps:Ci(fn.type,En.memoizedProps);Cn.componentDidUpdate(_i,En.memoizedState,Cn.__reactInternalSnapshotBeforeUpdate)}var An=fn.updateQueue;An!==null&&sh$1(fn,An,Cn);break;case 3:var ba=fn.updateQueue;if(ba!==null){if(En=null,fn.child!==null)switch(fn.child.tag){case 5:En=fn.child.stateNode;break;case 1:En=fn.child.stateNode}sh$1(fn,ba,En)}break;case 5:var xa=fn.stateNode;if(En===null&&fn.flags&4){En=xa;var $a=fn.memoizedProps;switch(fn.type){case"button":case"input":case"select":case"textarea":$a.autoFocus&&En.focus();break;case"img":$a.src&&(En.src=$a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(fn.memoizedState===null){var rs=fn.alternate;if(rs!==null){var ts=rs.memoizedState;if(ts!==null){var is=ts.dehydrated;is!==null&&bd(is)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$6(163))}U$4||fn.flags&512&&Rj(fn)}catch(cs){W$a(fn,fn.return,cs)}}if(fn===vn){V$6=null;break}if(En=fn.sibling,En!==null){En.return=fn.return,V$6=En;break}V$6=fn.return}}function gk(vn){for(;V$6!==null;){var fn=V$6;if(fn===vn){V$6=null;break}var En=fn.sibling;if(En!==null){En.return=fn.return,V$6=En;break}V$6=fn.return}}function jk(vn){for(;V$6!==null;){var fn=V$6;try{switch(fn.tag){case 0:case 11:case 15:var En=fn.return;try{Qj(4,fn)}catch($a){W$a(fn,En,$a)}break;case 1:var Cn=fn.stateNode;if(typeof Cn.componentDidMount=="function"){var _i=fn.return;try{Cn.componentDidMount()}catch($a){W$a(fn,_i,$a)}}var An=fn.return;try{Rj(fn)}catch($a){W$a(fn,An,$a)}break;case 5:var ba=fn.return;try{Rj(fn)}catch($a){W$a(fn,ba,$a)}}}catch($a){W$a(fn,fn.return,$a)}if(fn===vn){V$6=null;break}var xa=fn.sibling;if(xa!==null){xa.return=fn.return,V$6=xa;break}V$6=fn.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$a=0,Q$3=null,Y$4=null,Z$5=0,fj=0,ej=Uf(0),T$3=0,pk=null,rh$1=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$4(){return K$a&6?B$5():Ak!==-1?Ak:Ak=B$5()}function yi$2(vn){return vn.mode&1?K$a&2&&Z$5!==0?Z$5&-Z$5:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(vn=C$6,vn!==0||(vn=window.event,vn=vn===void 0?16:jd(vn.type)),vn):1}function gi$2(vn,fn,En,Cn){if(50<yk)throw yk=0,zk=null,Error(p$6(185));Ac(vn,En,Cn),(!(K$a&2)||vn!==Q$3)&&(vn===Q$3&&(!(K$a&2)&&(qk|=En),T$3===4&&Ck(vn,Z$5)),Dk(vn,Cn),En===1&&K$a===0&&!(fn.mode&1)&&(Gj=B$5()+500,fg&&jg()))}function Dk(vn,fn){var En=vn.callbackNode;wc(vn,fn);var Cn=uc(vn,vn===Q$3?Z$5:0);if(Cn===0)En!==null&&bc(En),vn.callbackNode=null,vn.callbackPriority=0;else if(fn=Cn&-Cn,vn.callbackPriority!==fn){if(En!=null&&bc(En),fn===1)vn.tag===0?ig(Ek.bind(null,vn)):hg(Ek.bind(null,vn)),Jf(function(){!(K$a&6)&&jg()}),En=null;else{switch(Dc(Cn)){case 1:En=fc;break;case 4:En=gc;break;case 16:En=hc;break;case 536870912:En=jc;break;default:En=hc}En=Fk(En,Gk.bind(null,vn))}vn.callbackPriority=fn,vn.callbackNode=En}}function Gk(vn,fn){if(Ak=-1,Bk=0,K$a&6)throw Error(p$6(327));var En=vn.callbackNode;if(Hk()&&vn.callbackNode!==En)return null;var Cn=uc(vn,vn===Q$3?Z$5:0);if(Cn===0)return null;if(Cn&30||Cn&vn.expiredLanes||fn)fn=Ik(vn,Cn);else{fn=Cn;var _i=K$a;K$a|=2;var An=Jk();(Q$3!==vn||Z$5!==fn)&&(uk=null,Gj=B$5()+500,Kk(vn,fn));do try{Lk();break}catch(xa){Mk(vn,xa)}while(!0);$g(),mk.current=An,K$a=_i,Y$4!==null?fn=0:(Q$3=null,Z$5=0,fn=T$3)}if(fn!==0){if(fn===2&&(_i=xc(vn),_i!==0&&(Cn=_i,fn=Nk(vn,_i))),fn===1)throw En=pk,Kk(vn,0),Ck(vn,Cn),Dk(vn,B$5()),En;if(fn===6)Ck(vn,Cn);else{if(_i=vn.current.alternate,!(Cn&30)&&!Ok(_i)&&(fn=Ik(vn,Cn),fn===2&&(An=xc(vn),An!==0&&(Cn=An,fn=Nk(vn,An))),fn===1))throw En=pk,Kk(vn,0),Ck(vn,Cn),Dk(vn,B$5()),En;switch(vn.finishedWork=_i,vn.finishedLanes=Cn,fn){case 0:case 1:throw Error(p$6(345));case 2:Pk(vn,tk,uk);break;case 3:if(Ck(vn,Cn),(Cn&130023424)===Cn&&(fn=fk+500-B$5(),10<fn)){if(uc(vn,0)!==0)break;if(_i=vn.suspendedLanes,(_i&Cn)!==Cn){R$4(),vn.pingedLanes|=vn.suspendedLanes&_i;break}vn.timeoutHandle=Ff(Pk.bind(null,vn,tk,uk),fn);break}Pk(vn,tk,uk);break;case 4:if(Ck(vn,Cn),(Cn&4194240)===Cn)break;for(fn=vn.eventTimes,_i=-1;0<Cn;){var ba=31-oc(Cn);An=1<<ba,ba=fn[ba],ba>_i&&(_i=ba),Cn&=~An}if(Cn=_i,Cn=B$5()-Cn,Cn=(120>Cn?120:480>Cn?480:1080>Cn?1080:1920>Cn?1920:3e3>Cn?3e3:4320>Cn?4320:1960*lk(Cn/1960))-Cn,10<Cn){vn.timeoutHandle=Ff(Pk.bind(null,vn,tk,uk),Cn);break}Pk(vn,tk,uk);break;case 5:Pk(vn,tk,uk);break;default:throw Error(p$6(329))}}}return Dk(vn,B$5()),vn.callbackNode===En?Gk.bind(null,vn):null}function Nk(vn,fn){var En=sk;return vn.current.memoizedState.isDehydrated&&(Kk(vn,fn).flags|=256),vn=Ik(vn,fn),vn!==2&&(fn=tk,tk=En,fn!==null&&Fj(fn)),vn}function Fj(vn){tk===null?tk=vn:tk.push.apply(tk,vn)}function Ok(vn){for(var fn=vn;;){if(fn.flags&16384){var En=fn.updateQueue;if(En!==null&&(En=En.stores,En!==null))for(var Cn=0;Cn<En.length;Cn++){var _i=En[Cn],An=_i.getSnapshot;_i=_i.value;try{if(!He$2(An(),_i))return!1}catch{return!1}}}if(En=fn.child,fn.subtreeFlags&16384&&En!==null)En.return=fn,fn=En;else{if(fn===vn)break;for(;fn.sibling===null;){if(fn.return===null||fn.return===vn)return!0;fn=fn.return}fn.sibling.return=fn.return,fn=fn.sibling}}return!0}function Ck(vn,fn){for(fn&=~rk,fn&=~qk,vn.suspendedLanes|=fn,vn.pingedLanes&=~fn,vn=vn.expirationTimes;0<fn;){var En=31-oc(fn),Cn=1<<En;vn[En]=-1,fn&=~Cn}}function Ek(vn){if(K$a&6)throw Error(p$6(327));Hk();var fn=uc(vn,0);if(!(fn&1))return Dk(vn,B$5()),null;var En=Ik(vn,fn);if(vn.tag!==0&&En===2){var Cn=xc(vn);Cn!==0&&(fn=Cn,En=Nk(vn,Cn))}if(En===1)throw En=pk,Kk(vn,0),Ck(vn,fn),Dk(vn,B$5()),En;if(En===6)throw Error(p$6(345));return vn.finishedWork=vn.current.alternate,vn.finishedLanes=fn,Pk(vn,tk,uk),Dk(vn,B$5()),null}function Qk(vn,fn){var En=K$a;K$a|=1;try{return vn(fn)}finally{K$a=En,K$a===0&&(Gj=B$5()+500,fg&&jg())}}function Rk(vn){wk!==null&&wk.tag===0&&!(K$a&6)&&Hk();var fn=K$a;K$a|=1;var En=ok.transition,Cn=C$6;try{if(ok.transition=null,C$6=1,vn)return vn()}finally{C$6=Cn,ok.transition=En,K$a=fn,!(K$a&6)&&jg()}}function Hj(){fj=ej.current,E$3(ej)}function Kk(vn,fn){vn.finishedWork=null,vn.finishedLanes=0;var En=vn.timeoutHandle;if(En!==-1&&(vn.timeoutHandle=-1,Gf(En)),Y$4!==null)for(En=Y$4.return;En!==null;){var Cn=En;switch(wg(Cn),Cn.tag){case 1:Cn=Cn.type.childContextTypes,Cn!=null&&$f();break;case 3:zh(),E$3(Wf),E$3(H$2),Eh();break;case 5:Bh(Cn);break;case 4:zh();break;case 13:E$3(L$5);break;case 19:E$3(L$5);break;case 10:ah(Cn.type._context);break;case 22:case 23:Hj()}En=En.return}if(Q$3=vn,Y$4=vn=Pg(vn.current,null),Z$5=fj=fn,T$3=0,pk=null,rk=qk=rh$1=0,tk=sk=null,fh!==null){for(fn=0;fn<fh.length;fn++)if(En=fh[fn],Cn=En.interleaved,Cn!==null){En.interleaved=null;var _i=Cn.next,An=En.pending;if(An!==null){var ba=An.next;An.next=_i,Cn.next=ba}En.pending=Cn}fh=null}return vn}function Mk(vn,fn){do{var En=Y$4;try{if($g(),Fh.current=Rh,Ih){for(var Cn=M$6.memoizedState;Cn!==null;){var _i=Cn.queue;_i!==null&&(_i.pending=null),Cn=Cn.next}Ih=!1}if(Hh=0,O$7=N$3=M$6=null,Jh=!1,Kh$1=0,nk.current=null,En===null||En.return===null){T$3=1,pk=fn,Y$4=null;break}e:{var An=vn,ba=En.return,xa=En,$a=fn;if(fn=Z$5,xa.flags|=32768,$a!==null&&typeof $a=="object"&&typeof $a.then=="function"){var rs=$a,ts=xa,is=ts.tag;if(!(ts.mode&1)&&(is===0||is===11||is===15)){var cs=ts.alternate;cs?(ts.updateQueue=cs.updateQueue,ts.memoizedState=cs.memoizedState,ts.lanes=cs.lanes):(ts.updateQueue=null,ts.memoizedState=null)}var us=Ui(ba);if(us!==null){us.flags&=-257,Vi(us,ba,xa,An,fn),us.mode&1&&Si(An,rs,fn),fn=us,$a=rs;var ps=fn.updateQueue;if(ps===null){var bs=new Set;bs.add($a),fn.updateQueue=bs}else ps.add($a);break e}else{if(!(fn&1)){Si(An,rs,fn),tj();break e}$a=Error(p$6(426))}}else if(I$7&&xa.mode&1){var e0=Ui(ba);if(e0!==null){!(e0.flags&65536)&&(e0.flags|=256),Vi(e0,ba,xa,An,fn),Jg(Ji($a,xa));break e}}An=$a=Ji($a,xa),T$3!==4&&(T$3=2),sk===null?sk=[An]:sk.push(An),An=ba;do{switch(An.tag){case 3:An.flags|=65536,fn&=-fn,An.lanes|=fn;var gs=Ni(An,$a,fn);ph(An,gs);break e;case 1:xa=$a;var Ds=An.type,i0=An.stateNode;if(!(An.flags&128)&&(typeof Ds.getDerivedStateFromError=="function"||i0!==null&&typeof i0.componentDidCatch=="function"&&(Ri===null||!Ri.has(i0)))){An.flags|=65536,fn&=-fn,An.lanes|=fn;var n0=Qi(An,xa,fn);ph(An,n0);break e}}An=An.return}while(An!==null)}Sk(En)}catch(c0){fn=c0,Y$4===En&&En!==null&&(Y$4=En=En.return);continue}break}while(!0)}function Jk(){var vn=mk.current;return mk.current=Rh,vn===null?Rh:vn}function tj(){(T$3===0||T$3===3||T$3===2)&&(T$3=4),Q$3===null||!(rh$1&268435455)&&!(qk&268435455)||Ck(Q$3,Z$5)}function Ik(vn,fn){var En=K$a;K$a|=2;var Cn=Jk();(Q$3!==vn||Z$5!==fn)&&(uk=null,Kk(vn,fn));do try{Tk();break}catch(_i){Mk(vn,_i)}while(!0);if($g(),K$a=En,mk.current=Cn,Y$4!==null)throw Error(p$6(261));return Q$3=null,Z$5=0,T$3}function Tk(){for(;Y$4!==null;)Uk(Y$4)}function Lk(){for(;Y$4!==null&&!cc();)Uk(Y$4)}function Uk(vn){var fn=Vk(vn.alternate,vn,fj);vn.memoizedProps=vn.pendingProps,fn===null?Sk(vn):Y$4=fn,nk.current=null}function Sk(vn){var fn=vn;do{var En=fn.alternate;if(vn=fn.return,fn.flags&32768){if(En=Ij(En,fn),En!==null){En.flags&=32767,Y$4=En;return}if(vn!==null)vn.flags|=32768,vn.subtreeFlags=0,vn.deletions=null;else{T$3=6,Y$4=null;return}}else if(En=Ej(En,fn,fj),En!==null){Y$4=En;return}if(fn=fn.sibling,fn!==null){Y$4=fn;return}Y$4=fn=vn}while(fn!==null);T$3===0&&(T$3=5)}function Pk(vn,fn,En){var Cn=C$6,_i=ok.transition;try{ok.transition=null,C$6=1,Wk(vn,fn,En,Cn)}finally{ok.transition=_i,C$6=Cn}return null}function Wk(vn,fn,En,Cn){do Hk();while(wk!==null);if(K$a&6)throw Error(p$6(327));En=vn.finishedWork;var _i=vn.finishedLanes;if(En===null)return null;if(vn.finishedWork=null,vn.finishedLanes=0,En===vn.current)throw Error(p$6(177));vn.callbackNode=null,vn.callbackPriority=0;var An=En.lanes|En.childLanes;if(Bc(vn,An),vn===Q$3&&(Y$4=Q$3=null,Z$5=0),!(En.subtreeFlags&2064)&&!(En.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),An=(En.flags&15990)!==0,En.subtreeFlags&15990||An){An=ok.transition,ok.transition=null;var ba=C$6;C$6=1;var xa=K$a;K$a|=4,nk.current=null,Oj(vn,En),dk(En,vn),Oe(Df),dd=!!Cf,Df=Cf=null,vn.current=En,hk(En),dc(),K$a=xa,C$6=ba,ok.transition=An}else vn.current=En;if(vk&&(vk=!1,wk=vn,xk=_i),An=vn.pendingLanes,An===0&&(Ri=null),mc(En.stateNode),Dk(vn,B$5()),fn!==null)for(Cn=vn.onRecoverableError,En=0;En<fn.length;En++)_i=fn[En],Cn(_i.value,{componentStack:_i.stack,digest:_i.digest});if(Oi)throw Oi=!1,vn=Pi,Pi=null,vn;return xk&1&&vn.tag!==0&&Hk(),An=vn.pendingLanes,An&1?vn===zk?yk++:(yk=0,zk=vn):yk=0,jg(),null}function Hk(){if(wk!==null){var vn=Dc(xk),fn=ok.transition,En=C$6;try{if(ok.transition=null,C$6=16>vn?16:vn,wk===null)var Cn=!1;else{if(vn=wk,wk=null,xk=0,K$a&6)throw Error(p$6(331));var _i=K$a;for(K$a|=4,V$6=vn.current;V$6!==null;){var An=V$6,ba=An.child;if(V$6.flags&16){var xa=An.deletions;if(xa!==null){for(var $a=0;$a<xa.length;$a++){var rs=xa[$a];for(V$6=rs;V$6!==null;){var ts=V$6;switch(ts.tag){case 0:case 11:case 15:Pj(8,ts,An)}var is=ts.child;if(is!==null)is.return=ts,V$6=is;else for(;V$6!==null;){ts=V$6;var cs=ts.sibling,us=ts.return;if(Sj(ts),ts===rs){V$6=null;break}if(cs!==null){cs.return=us,V$6=cs;break}V$6=us}}}var ps=An.alternate;if(ps!==null){var bs=ps.child;if(bs!==null){ps.child=null;do{var e0=bs.sibling;bs.sibling=null,bs=e0}while(bs!==null)}}V$6=An}}if(An.subtreeFlags&2064&&ba!==null)ba.return=An,V$6=ba;else e:for(;V$6!==null;){if(An=V$6,An.flags&2048)switch(An.tag){case 0:case 11:case 15:Pj(9,An,An.return)}var gs=An.sibling;if(gs!==null){gs.return=An.return,V$6=gs;break e}V$6=An.return}}var Ds=vn.current;for(V$6=Ds;V$6!==null;){ba=V$6;var i0=ba.child;if(ba.subtreeFlags&2064&&i0!==null)i0.return=ba,V$6=i0;else e:for(ba=Ds;V$6!==null;){if(xa=V$6,xa.flags&2048)try{switch(xa.tag){case 0:case 11:case 15:Qj(9,xa)}}catch(c0){W$a(xa,xa.return,c0)}if(xa===ba){V$6=null;break e}var n0=xa.sibling;if(n0!==null){n0.return=xa.return,V$6=n0;break e}V$6=xa.return}}if(K$a=_i,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,vn)}catch{}Cn=!0}return Cn}finally{C$6=En,ok.transition=fn}}return!1}function Xk(vn,fn,En){fn=Ji(En,fn),fn=Ni(vn,fn,1),vn=nh(vn,fn,1),fn=R$4(),vn!==null&&(Ac(vn,1,fn),Dk(vn,fn))}function W$a(vn,fn,En){if(vn.tag===3)Xk(vn,vn,En);else for(;fn!==null;){if(fn.tag===3){Xk(fn,vn,En);break}else if(fn.tag===1){var Cn=fn.stateNode;if(typeof fn.type.getDerivedStateFromError=="function"||typeof Cn.componentDidCatch=="function"&&(Ri===null||!Ri.has(Cn))){vn=Ji(En,vn),vn=Qi(fn,vn,1),fn=nh(fn,vn,1),vn=R$4(),fn!==null&&(Ac(fn,1,vn),Dk(fn,vn));break}}fn=fn.return}}function Ti(vn,fn,En){var Cn=vn.pingCache;Cn!==null&&Cn.delete(fn),fn=R$4(),vn.pingedLanes|=vn.suspendedLanes&En,Q$3===vn&&(Z$5&En)===En&&(T$3===4||T$3===3&&(Z$5&130023424)===Z$5&&500>B$5()-fk?Kk(vn,0):rk|=En),Dk(vn,fn)}function Yk(vn,fn){fn===0&&(vn.mode&1?(fn=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):fn=1);var En=R$4();vn=ih(vn,fn),vn!==null&&(Ac(vn,fn,En),Dk(vn,En))}function uj(vn){var fn=vn.memoizedState,En=0;fn!==null&&(En=fn.retryLane),Yk(vn,En)}function bk(vn,fn){var En=0;switch(vn.tag){case 13:var Cn=vn.stateNode,_i=vn.memoizedState;_i!==null&&(En=_i.retryLane);break;case 19:Cn=vn.stateNode;break;default:throw Error(p$6(314))}Cn!==null&&Cn.delete(fn),Yk(vn,En)}var Vk;Vk=function(vn,fn,En){if(vn!==null)if(vn.memoizedProps!==fn.pendingProps||Wf.current)dh$1=!0;else{if(!(vn.lanes&En)&&!(fn.flags&128))return dh$1=!1,yj(vn,fn,En);dh$1=!!(vn.flags&131072)}else dh$1=!1,I$7&&fn.flags&1048576&&ug(fn,ng,fn.index);switch(fn.lanes=0,fn.tag){case 2:var Cn=fn.type;ij(vn,fn),vn=fn.pendingProps;var _i=Yf(fn,H$2.current);ch$1(fn,En),_i=Nh(null,fn,Cn,vn,_i,En);var An=Sh();return fn.flags|=1,typeof _i=="object"&&_i!==null&&typeof _i.render=="function"&&_i.$$typeof===void 0?(fn.tag=1,fn.memoizedState=null,fn.updateQueue=null,Zf(Cn)?(An=!0,cg(fn)):An=!1,fn.memoizedState=_i.state!==null&&_i.state!==void 0?_i.state:null,kh(fn),_i.updater=Ei,fn.stateNode=_i,_i._reactInternals=fn,Ii(fn,Cn,vn,En),fn=jj(null,fn,Cn,!0,An,En)):(fn.tag=0,I$7&&An&&vg(fn),Xi(null,fn,_i,En),fn=fn.child),fn;case 16:Cn=fn.elementType;e:{switch(ij(vn,fn),vn=fn.pendingProps,_i=Cn._init,Cn=_i(Cn._payload),fn.type=Cn,_i=fn.tag=Zk(Cn),vn=Ci(Cn,vn),_i){case 0:fn=cj(null,fn,Cn,vn,En);break e;case 1:fn=hj(null,fn,Cn,vn,En);break e;case 11:fn=Yi$1(null,fn,Cn,vn,En);break e;case 14:fn=$i(null,fn,Cn,Ci(Cn.type,vn),En);break e}throw Error(p$6(306,Cn,""))}return fn;case 0:return Cn=fn.type,_i=fn.pendingProps,_i=fn.elementType===Cn?_i:Ci(Cn,_i),cj(vn,fn,Cn,_i,En);case 1:return Cn=fn.type,_i=fn.pendingProps,_i=fn.elementType===Cn?_i:Ci(Cn,_i),hj(vn,fn,Cn,_i,En);case 3:e:{if(kj(fn),vn===null)throw Error(p$6(387));Cn=fn.pendingProps,An=fn.memoizedState,_i=An.element,lh(vn,fn),qh(fn,Cn,null,En);var ba=fn.memoizedState;if(Cn=ba.element,An.isDehydrated)if(An={element:Cn,isDehydrated:!1,cache:ba.cache,pendingSuspenseBoundaries:ba.pendingSuspenseBoundaries,transitions:ba.transitions},fn.updateQueue.baseState=An,fn.memoizedState=An,fn.flags&256){_i=Ji(Error(p$6(423)),fn),fn=lj(vn,fn,Cn,En,_i);break e}else if(Cn!==_i){_i=Ji(Error(p$6(424)),fn),fn=lj(vn,fn,Cn,En,_i);break e}else for(yg=Lf(fn.stateNode.containerInfo.firstChild),xg=fn,I$7=!0,zg=null,En=Vg(fn,null,Cn,En),fn.child=En;En;)En.flags=En.flags&-3|4096,En=En.sibling;else{if(Ig(),Cn===_i){fn=Zi(vn,fn,En);break e}Xi(vn,fn,Cn,En)}fn=fn.child}return fn;case 5:return Ah(fn),vn===null&&Eg(fn),Cn=fn.type,_i=fn.pendingProps,An=vn!==null?vn.memoizedProps:null,ba=_i.children,Ef(Cn,_i)?ba=null:An!==null&&Ef(Cn,An)&&(fn.flags|=32),gj(vn,fn),Xi(vn,fn,ba,En),fn.child;case 6:return vn===null&&Eg(fn),null;case 13:return oj(vn,fn,En);case 4:return yh(fn,fn.stateNode.containerInfo),Cn=fn.pendingProps,vn===null?fn.child=Ug(fn,null,Cn,En):Xi(vn,fn,Cn,En),fn.child;case 11:return Cn=fn.type,_i=fn.pendingProps,_i=fn.elementType===Cn?_i:Ci(Cn,_i),Yi$1(vn,fn,Cn,_i,En);case 7:return Xi(vn,fn,fn.pendingProps,En),fn.child;case 8:return Xi(vn,fn,fn.pendingProps.children,En),fn.child;case 12:return Xi(vn,fn,fn.pendingProps.children,En),fn.child;case 10:e:{if(Cn=fn.type._context,_i=fn.pendingProps,An=fn.memoizedProps,ba=_i.value,G$2(Wg$1,Cn._currentValue),Cn._currentValue=ba,An!==null)if(He$2(An.value,ba)){if(An.children===_i.children&&!Wf.current){fn=Zi(vn,fn,En);break e}}else for(An=fn.child,An!==null&&(An.return=fn);An!==null;){var xa=An.dependencies;if(xa!==null){ba=An.child;for(var $a=xa.firstContext;$a!==null;){if($a.context===Cn){if(An.tag===1){$a=mh$2(-1,En&-En),$a.tag=2;var rs=An.updateQueue;if(rs!==null){rs=rs.shared;var ts=rs.pending;ts===null?$a.next=$a:($a.next=ts.next,ts.next=$a),rs.pending=$a}}An.lanes|=En,$a=An.alternate,$a!==null&&($a.lanes|=En),bh(An.return,En,fn),xa.lanes|=En;break}$a=$a.next}}else if(An.tag===10)ba=An.type===fn.type?null:An.child;else if(An.tag===18){if(ba=An.return,ba===null)throw Error(p$6(341));ba.lanes|=En,xa=ba.alternate,xa!==null&&(xa.lanes|=En),bh(ba,En,fn),ba=An.sibling}else ba=An.child;if(ba!==null)ba.return=An;else for(ba=An;ba!==null;){if(ba===fn){ba=null;break}if(An=ba.sibling,An!==null){An.return=ba.return,ba=An;break}ba=ba.return}An=ba}Xi(vn,fn,_i.children,En),fn=fn.child}return fn;case 9:return _i=fn.type,Cn=fn.pendingProps.children,ch$1(fn,En),_i=eh(_i),Cn=Cn(_i),fn.flags|=1,Xi(vn,fn,Cn,En),fn.child;case 14:return Cn=fn.type,_i=Ci(Cn,fn.pendingProps),_i=Ci(Cn.type,_i),$i(vn,fn,Cn,_i,En);case 15:return bj(vn,fn,fn.type,fn.pendingProps,En);case 17:return Cn=fn.type,_i=fn.pendingProps,_i=fn.elementType===Cn?_i:Ci(Cn,_i),ij(vn,fn),fn.tag=1,Zf(Cn)?(vn=!0,cg(fn)):vn=!1,ch$1(fn,En),Gi(fn,Cn,_i),Ii(fn,Cn,_i,En),jj(null,fn,Cn,!0,vn,En);case 19:return xj(vn,fn,En);case 22:return dj(vn,fn,En)}throw Error(p$6(156,fn.tag))};function Fk(vn,fn){return ac(vn,fn)}function $k(vn,fn,En,Cn){this.tag=vn,this.key=En,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=fn,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Cn,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(vn,fn,En,Cn){return new $k(vn,fn,En,Cn)}function aj(vn){return vn=vn.prototype,!(!vn||!vn.isReactComponent)}function Zk(vn){if(typeof vn=="function")return aj(vn)?1:0;if(vn!=null){if(vn=vn.$$typeof,vn===Da)return 11;if(vn===Ga)return 14}return 2}function Pg(vn,fn){var En=vn.alternate;return En===null?(En=Bg(vn.tag,fn,vn.key,vn.mode),En.elementType=vn.elementType,En.type=vn.type,En.stateNode=vn.stateNode,En.alternate=vn,vn.alternate=En):(En.pendingProps=fn,En.type=vn.type,En.flags=0,En.subtreeFlags=0,En.deletions=null),En.flags=vn.flags&14680064,En.childLanes=vn.childLanes,En.lanes=vn.lanes,En.child=vn.child,En.memoizedProps=vn.memoizedProps,En.memoizedState=vn.memoizedState,En.updateQueue=vn.updateQueue,fn=vn.dependencies,En.dependencies=fn===null?null:{lanes:fn.lanes,firstContext:fn.firstContext},En.sibling=vn.sibling,En.index=vn.index,En.ref=vn.ref,En}function Rg(vn,fn,En,Cn,_i,An){var ba=2;if(Cn=vn,typeof vn=="function")aj(vn)&&(ba=1);else if(typeof vn=="string")ba=5;else e:switch(vn){case ya:return Tg(En.children,_i,An,fn);case za:ba=8,_i|=8;break;case Aa:return vn=Bg(12,En,fn,_i|2),vn.elementType=Aa,vn.lanes=An,vn;case Ea:return vn=Bg(13,En,fn,_i),vn.elementType=Ea,vn.lanes=An,vn;case Fa:return vn=Bg(19,En,fn,_i),vn.elementType=Fa,vn.lanes=An,vn;case Ia:return pj(En,_i,An,fn);default:if(typeof vn=="object"&&vn!==null)switch(vn.$$typeof){case Ba:ba=10;break e;case Ca:ba=9;break e;case Da:ba=11;break e;case Ga:ba=14;break e;case Ha:ba=16,Cn=null;break e}throw Error(p$6(130,vn==null?vn:typeof vn,""))}return fn=Bg(ba,En,fn,_i),fn.elementType=vn,fn.type=Cn,fn.lanes=An,fn}function Tg(vn,fn,En,Cn){return vn=Bg(7,vn,Cn,fn),vn.lanes=En,vn}function pj(vn,fn,En,Cn){return vn=Bg(22,vn,Cn,fn),vn.elementType=Ia,vn.lanes=En,vn.stateNode={isHidden:!1},vn}function Qg(vn,fn,En){return vn=Bg(6,vn,null,fn),vn.lanes=En,vn}function Sg(vn,fn,En){return fn=Bg(4,vn.children!==null?vn.children:[],vn.key,fn),fn.lanes=En,fn.stateNode={containerInfo:vn.containerInfo,pendingChildren:null,implementation:vn.implementation},fn}function al(vn,fn,En,Cn,_i){this.tag=fn,this.containerInfo=vn,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=Cn,this.onRecoverableError=_i,this.mutableSourceEagerHydrationData=null}function bl(vn,fn,En,Cn,_i,An,ba,xa,$a){return vn=new al(vn,fn,En,xa,$a),fn===1?(fn=1,An===!0&&(fn|=8)):fn=0,An=Bg(3,null,null,fn),vn.current=An,An.stateNode=vn,An.memoizedState={element:Cn,isDehydrated:En,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(An),vn}function cl(vn,fn,En){var Cn=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:Cn==null?null:""+Cn,children:vn,containerInfo:fn,implementation:En}}function dl(vn){if(!vn)return Vf;vn=vn._reactInternals;e:{if(Vb(vn)!==vn||vn.tag!==1)throw Error(p$6(170));var fn=vn;do{switch(fn.tag){case 3:fn=fn.stateNode.context;break e;case 1:if(Zf(fn.type)){fn=fn.stateNode.__reactInternalMemoizedMergedChildContext;break e}}fn=fn.return}while(fn!==null);throw Error(p$6(171))}if(vn.tag===1){var En=vn.type;if(Zf(En))return bg(vn,En,fn)}return fn}function el(vn,fn,En,Cn,_i,An,ba,xa,$a){return vn=bl(En,Cn,!0,vn,_i,An,ba,xa,$a),vn.context=dl(null),En=vn.current,Cn=R$4(),_i=yi$2(En),An=mh$2(Cn,_i),An.callback=fn??null,nh(En,An,_i),vn.current.lanes=_i,Ac(vn,_i,Cn),Dk(vn,Cn),vn}function fl(vn,fn,En,Cn){var _i=fn.current,An=R$4(),ba=yi$2(_i);return En=dl(En),fn.context===null?fn.context=En:fn.pendingContext=En,fn=mh$2(An,ba),fn.payload={element:vn},Cn=Cn===void 0?null:Cn,Cn!==null&&(fn.callback=Cn),vn=nh(_i,fn,ba),vn!==null&&(gi$2(vn,_i,ba,An),oh(vn,_i,ba)),ba}function gl(vn){if(vn=vn.current,!vn.child)return null;switch(vn.child.tag){case 5:return vn.child.stateNode;default:return vn.child.stateNode}}function hl(vn,fn){if(vn=vn.memoizedState,vn!==null&&vn.dehydrated!==null){var En=vn.retryLane;vn.retryLane=En!==0&&En<fn?En:fn}}function il(vn,fn){hl(vn,fn),(vn=vn.alternate)&&hl(vn,fn)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(vn){console.error(vn)};function ll(vn){this._internalRoot=vn}ml.prototype.render=ll.prototype.render=function(vn){var fn=this._internalRoot;if(fn===null)throw Error(p$6(409));fl(vn,fn,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var vn=this._internalRoot;if(vn!==null){this._internalRoot=null;var fn=vn.containerInfo;Rk(function(){fl(null,vn,null,null)}),fn[uf]=null}};function ml(vn){this._internalRoot=vn}ml.prototype.unstable_scheduleHydration=function(vn){if(vn){var fn=Hc();vn={blockedOn:null,target:vn,priority:fn};for(var En=0;En<Qc.length&&fn!==0&&fn<Qc[En].priority;En++);Qc.splice(En,0,vn),En===0&&Vc(vn)}};function nl(vn){return!(!vn||vn.nodeType!==1&&vn.nodeType!==9&&vn.nodeType!==11)}function ol(vn){return!(!vn||vn.nodeType!==1&&vn.nodeType!==9&&vn.nodeType!==11&&(vn.nodeType!==8||vn.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(vn,fn,En,Cn,_i){if(_i){if(typeof Cn=="function"){var An=Cn;Cn=function(){var rs=gl(ba);An.call(rs)}}var ba=el(fn,Cn,vn,0,null,!1,!1,"",pl);return vn._reactRootContainer=ba,vn[uf]=ba.current,sf(vn.nodeType===8?vn.parentNode:vn),Rk(),ba}for(;_i=vn.lastChild;)vn.removeChild(_i);if(typeof Cn=="function"){var xa=Cn;Cn=function(){var rs=gl($a);xa.call(rs)}}var $a=bl(vn,0,!1,null,null,!1,!1,"",pl);return vn._reactRootContainer=$a,vn[uf]=$a.current,sf(vn.nodeType===8?vn.parentNode:vn),Rk(function(){fl(fn,$a,En,Cn)}),$a}function rl(vn,fn,En,Cn,_i){var An=En._reactRootContainer;if(An){var ba=An;if(typeof _i=="function"){var xa=_i;_i=function(){var $a=gl(ba);xa.call($a)}}fl(fn,ba,vn,_i)}else ba=ql(En,fn,vn,_i,Cn);return gl(ba)}Ec=function(vn){switch(vn.tag){case 3:var fn=vn.stateNode;if(fn.current.memoizedState.isDehydrated){var En=tc(fn.pendingLanes);En!==0&&(Cc(fn,En|1),Dk(fn,B$5()),!(K$a&6)&&(Gj=B$5()+500,jg()))}break;case 13:Rk(function(){var Cn=ih(vn,1);if(Cn!==null){var _i=R$4();gi$2(Cn,vn,1,_i)}}),il(vn,1)}};Fc=function(vn){if(vn.tag===13){var fn=ih(vn,134217728);if(fn!==null){var En=R$4();gi$2(fn,vn,134217728,En)}il(vn,134217728)}};Gc=function(vn){if(vn.tag===13){var fn=yi$2(vn),En=ih(vn,fn);if(En!==null){var Cn=R$4();gi$2(En,vn,fn,Cn)}il(vn,fn)}};Hc=function(){return C$6};Ic=function(vn,fn){var En=C$6;try{return C$6=vn,fn()}finally{C$6=En}};yb=function(vn,fn,En){switch(fn){case"input":if(bb(vn,En),fn=En.name,En.type==="radio"&&fn!=null){for(En=vn;En.parentNode;)En=En.parentNode;for(En=En.querySelectorAll("input[name="+JSON.stringify(""+fn)+'][type="radio"]'),fn=0;fn<En.length;fn++){var Cn=En[fn];if(Cn!==vn&&Cn.form===vn.form){var _i=Db(Cn);if(!_i)throw Error(p$6(90));Wa(Cn),bb(Cn,_i)}}}break;case"textarea":ib(vn,En);break;case"select":fn=En.value,fn!=null&&fb(vn,!!En.multiple,fn,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(vn){return vn=Zb(vn),vn===null?null:vn.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(vn,fn){var En=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(fn))throw Error(p$6(200));return cl(vn,fn,null,En)};reactDom_production_min.createRoot=function(vn,fn){if(!nl(vn))throw Error(p$6(299));var En=!1,Cn="",_i=kl;return fn!=null&&(fn.unstable_strictMode===!0&&(En=!0),fn.identifierPrefix!==void 0&&(Cn=fn.identifierPrefix),fn.onRecoverableError!==void 0&&(_i=fn.onRecoverableError)),fn=bl(vn,1,!1,null,null,En,!1,Cn,_i),vn[uf]=fn.current,sf(vn.nodeType===8?vn.parentNode:vn),new ll(fn)};reactDom_production_min.findDOMNode=function(vn){if(vn==null)return null;if(vn.nodeType===1)return vn;var fn=vn._reactInternals;if(fn===void 0)throw typeof vn.render=="function"?Error(p$6(188)):(vn=Object.keys(vn).join(","),Error(p$6(268,vn)));return vn=Zb(fn),vn=vn===null?null:vn.stateNode,vn};reactDom_production_min.flushSync=function(vn){return Rk(vn)};reactDom_production_min.hydrate=function(vn,fn,En){if(!ol(fn))throw Error(p$6(200));return rl(null,vn,fn,!0,En)};reactDom_production_min.hydrateRoot=function(vn,fn,En){if(!nl(vn))throw Error(p$6(405));var Cn=En!=null&&En.hydratedSources||null,_i=!1,An="",ba=kl;if(En!=null&&(En.unstable_strictMode===!0&&(_i=!0),En.identifierPrefix!==void 0&&(An=En.identifierPrefix),En.onRecoverableError!==void 0&&(ba=En.onRecoverableError)),fn=el(fn,null,vn,1,En??null,_i,!1,An,ba),vn[uf]=fn.current,sf(vn),Cn)for(vn=0;vn<Cn.length;vn++)En=Cn[vn],_i=En._getVersion,_i=_i(En._source),fn.mutableSourceEagerHydrationData==null?fn.mutableSourceEagerHydrationData=[En,_i]:fn.mutableSourceEagerHydrationData.push(En,_i);return new ml(fn)};reactDom_production_min.render=function(vn,fn,En){if(!ol(fn))throw Error(p$6(200));return rl(null,vn,fn,!1,En)};reactDom_production_min.unmountComponentAtNode=function(vn){if(!ol(vn))throw Error(p$6(40));return vn._reactRootContainer?(Rk(function(){rl(null,null,vn,!1,function(){vn._reactRootContainer=null,vn[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(vn,fn,En,Cn){if(!ol(En))throw Error(p$6(200));if(vn==null||vn._reactInternals===void 0)throw Error(p$6(38));return rl(vn,fn,En,!1,Cn)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(vn){console.error(vn)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs$1(reactDomExports);var m$3=reactDomExports;client.createRoot=m$3.createRoot,client.hydrateRoot=m$3.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(vn){for(var fn=1;fn<arguments.length;fn++){var En=arguments[fn];for(var Cn in En)Object.prototype.hasOwnProperty.call(En,Cn)&&(vn[Cn]=En[Cn])}return vn},_extends$3.apply(this,arguments)}var Action;(function(vn){vn.Pop="POP",vn.Push="PUSH",vn.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(vn){vn===void 0&&(vn={});function fn(Cn,_i){let{pathname:An,search:ba,hash:xa}=Cn.location;return createLocation("",{pathname:An,search:ba,hash:xa},_i.state&&_i.state.usr||null,_i.state&&_i.state.key||"default")}function En(Cn,_i){return typeof _i=="string"?_i:createPath(_i)}return getUrlBasedHistory(fn,En,null,vn)}function invariant$1(vn,fn){if(vn===!1||vn===null||typeof vn>"u")throw new Error(fn)}function warning(vn,fn){if(!vn){typeof console<"u"&&console.warn(fn);try{throw new Error(fn)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(vn,fn){return{usr:vn.state,key:vn.key,idx:fn}}function createLocation(vn,fn,En,Cn){return En===void 0&&(En=null),_extends$3({pathname:typeof vn=="string"?vn:vn.pathname,search:"",hash:""},typeof fn=="string"?parsePath(fn):fn,{state:En,key:fn&&fn.key||Cn||createKey()})}function createPath(vn){let{pathname:fn="/",search:En="",hash:Cn=""}=vn;return En&&En!=="?"&&(fn+=En.charAt(0)==="?"?En:"?"+En),Cn&&Cn!=="#"&&(fn+=Cn.charAt(0)==="#"?Cn:"#"+Cn),fn}function parsePath(vn){let fn={};if(vn){let En=vn.indexOf("#");En>=0&&(fn.hash=vn.substr(En),vn=vn.substr(0,En));let Cn=vn.indexOf("?");Cn>=0&&(fn.search=vn.substr(Cn),vn=vn.substr(0,Cn)),vn&&(fn.pathname=vn)}return fn}function getUrlBasedHistory(vn,fn,En,Cn){Cn===void 0&&(Cn={});let{window:_i=document.defaultView,v5Compat:An=!1}=Cn,ba=_i.history,xa=Action.Pop,$a=null,rs=ts();rs==null&&(rs=0,ba.replaceState(_extends$3({},ba.state,{idx:rs}),""));function ts(){return(ba.state||{idx:null}).idx}function is(){xa=Action.Pop;let e0=ts(),gs=e0==null?null:e0-rs;rs=e0,$a&&$a({action:xa,location:bs.location,delta:gs})}function cs(e0,gs){xa=Action.Push;let Ds=createLocation(bs.location,e0,gs);rs=ts()+1;let i0=getHistoryState(Ds,rs),n0=bs.createHref(Ds);try{ba.pushState(i0,"",n0)}catch(c0){if(c0 instanceof DOMException&&c0.name==="DataCloneError")throw c0;_i.location.assign(n0)}An&&$a&&$a({action:xa,location:bs.location,delta:1})}function us(e0,gs){xa=Action.Replace;let Ds=createLocation(bs.location,e0,gs);rs=ts();let i0=getHistoryState(Ds,rs),n0=bs.createHref(Ds);ba.replaceState(i0,"",n0),An&&$a&&$a({action:xa,location:bs.location,delta:0})}function ps(e0){let gs=_i.location.origin!=="null"?_i.location.origin:_i.location.href,Ds=typeof e0=="string"?e0:createPath(e0);return Ds=Ds.replace(/ $/,"%20"),invariant$1(gs,"No window.location.(origin|href) available to create URL for href: "+Ds),new URL(Ds,gs)}let bs={get action(){return xa},get location(){return vn(_i,ba)},listen(e0){if($a)throw new Error("A history only accepts one active listener");return _i.addEventListener(PopStateEventType,is),$a=e0,()=>{_i.removeEventListener(PopStateEventType,is),$a=null}},createHref(e0){return fn(_i,e0)},createURL:ps,encodeLocation(e0){let gs=ps(e0);return{pathname:gs.pathname,search:gs.search,hash:gs.hash}},push:cs,replace:us,go(e0){return ba.go(e0)}};return bs}var ResultType;(function(vn){vn.data="data",vn.deferred="deferred",vn.redirect="redirect",vn.error="error"})(ResultType||(ResultType={}));function matchRoutes(vn,fn,En){return En===void 0&&(En="/"),matchRoutesImpl(vn,fn,En,!1)}function matchRoutesImpl(vn,fn,En,Cn){let _i=typeof fn=="string"?parsePath(fn):fn,An=stripBasename(_i.pathname||"/",En);if(An==null)return null;let ba=flattenRoutes(vn);rankRouteBranches(ba);let xa=null;for(let $a=0;xa==null&&$a<ba.length;++$a){let rs=decodePath(An);xa=matchRouteBranch(ba[$a],rs,Cn)}return xa}function flattenRoutes(vn,fn,En,Cn){fn===void 0&&(fn=[]),En===void 0&&(En=[]),Cn===void 0&&(Cn="");let _i=(An,ba,xa)=>{let $a={relativePath:xa===void 0?An.path||"":xa,caseSensitive:An.caseSensitive===!0,childrenIndex:ba,route:An};$a.relativePath.startsWith("/")&&(invariant$1($a.relativePath.startsWith(Cn),'Absolute route path "'+$a.relativePath+'" nested under path '+('"'+Cn+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),$a.relativePath=$a.relativePath.slice(Cn.length));let rs=joinPaths([Cn,$a.relativePath]),ts=En.concat($a);An.children&&An.children.length>0&&(invariant$1(An.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+rs+'".')),flattenRoutes(An.children,fn,ts,rs)),!(An.path==null&&!An.index)&&fn.push({path:rs,score:computeScore(rs,An.index),routesMeta:ts})};return vn.forEach((An,ba)=>{var xa;if(An.path===""||!((xa=An.path)!=null&&xa.includes("?")))_i(An,ba);else for(let $a of explodeOptionalSegments(An.path))_i(An,ba,$a)}),fn}function explodeOptionalSegments(vn){let fn=vn.split("/");if(fn.length===0)return[];let[En,...Cn]=fn,_i=En.endsWith("?"),An=En.replace(/\?$/,"");if(Cn.length===0)return _i?[An,""]:[An];let ba=explodeOptionalSegments(Cn.join("/")),xa=[];return xa.push(...ba.map($a=>$a===""?An:[An,$a].join("/"))),_i&&xa.push(...ba),xa.map($a=>vn.startsWith("/")&&$a===""?"/":$a)}function rankRouteBranches(vn){vn.sort((fn,En)=>fn.score!==En.score?En.score-fn.score:compareIndexes(fn.routesMeta.map(Cn=>Cn.childrenIndex),En.routesMeta.map(Cn=>Cn.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=vn=>vn==="*";function computeScore(vn,fn){let En=vn.split("/"),Cn=En.length;return En.some(isSplat)&&(Cn+=splatPenalty),fn&&(Cn+=indexRouteValue),En.filter(_i=>!isSplat(_i)).reduce((_i,An)=>_i+(paramRe.test(An)?dynamicSegmentValue:An===""?emptySegmentValue:staticSegmentValue),Cn)}function compareIndexes(vn,fn){return vn.length===fn.length&&vn.slice(0,-1).every((Cn,_i)=>Cn===fn[_i])?vn[vn.length-1]-fn[fn.length-1]:0}function matchRouteBranch(vn,fn,En){let{routesMeta:Cn}=vn,_i={},An="/",ba=[];for(let xa=0;xa<Cn.length;++xa){let $a=Cn[xa],rs=xa===Cn.length-1,ts=An==="/"?fn:fn.slice(An.length)||"/",is=matchPath({path:$a.relativePath,caseSensitive:$a.caseSensitive,end:rs},ts),cs=$a.route;if(!is&&rs&&En&&!Cn[Cn.length-1].route.index&&(is=matchPath({path:$a.relativePath,caseSensitive:$a.caseSensitive,end:!1},ts)),!is)return null;Object.assign(_i,is.params),ba.push({params:_i,pathname:joinPaths([An,is.pathname]),pathnameBase:normalizePathname(joinPaths([An,is.pathnameBase])),route:cs}),is.pathnameBase!=="/"&&(An=joinPaths([An,is.pathnameBase]))}return ba}function matchPath(vn,fn){typeof vn=="string"&&(vn={path:vn,caseSensitive:!1,end:!0});let[En,Cn]=compilePath(vn.path,vn.caseSensitive,vn.end),_i=fn.match(En);if(!_i)return null;let An=_i[0],ba=An.replace(/(.)\/+$/,"$1"),xa=_i.slice(1);return{params:Cn.reduce((rs,ts,is)=>{let{paramName:cs,isOptional:us}=ts;if(cs==="*"){let bs=xa[is]||"";ba=An.slice(0,An.length-bs.length).replace(/(.)\/+$/,"$1")}const ps=xa[is];return us&&!ps?rs[cs]=void 0:rs[cs]=(ps||"").replace(/%2F/g,"/"),rs},{}),pathname:An,pathnameBase:ba,pattern:vn}}function compilePath(vn,fn,En){fn===void 0&&(fn=!1),En===void 0&&(En=!0),warning(vn==="*"||!vn.endsWith("*")||vn.endsWith("/*"),'Route path "'+vn+'" will be treated as if it were '+('"'+vn.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+vn.replace(/\*$/,"/*")+'".'));let Cn=[],_i="^"+vn.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(ba,xa,$a)=>(Cn.push({paramName:xa,isOptional:$a!=null}),$a?"/?([^\\/]+)?":"/([^\\/]+)"));return vn.endsWith("*")?(Cn.push({paramName:"*"}),_i+=vn==="*"||vn==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):En?_i+="\\/*$":vn!==""&&vn!=="/"&&(_i+="(?:(?=\\/|$))"),[new RegExp(_i,fn?void 0:"i"),Cn]}function decodePath(vn){try{return vn.split("/").map(fn=>decodeURIComponent(fn).replace(/\//g,"%2F")).join("/")}catch(fn){return warning(!1,'The URL path "'+vn+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+fn+").")),vn}}function stripBasename(vn,fn){if(fn==="/")return vn;if(!vn.toLowerCase().startsWith(fn.toLowerCase()))return null;let En=fn.endsWith("/")?fn.length-1:fn.length,Cn=vn.charAt(En);return Cn&&Cn!=="/"?null:vn.slice(En)||"/"}function resolvePath(vn,fn){fn===void 0&&(fn="/");let{pathname:En,search:Cn="",hash:_i=""}=typeof vn=="string"?parsePath(vn):vn;return{pathname:En?En.startsWith("/")?En:resolvePathname(En,fn):fn,search:normalizeSearch(Cn),hash:normalizeHash(_i)}}function resolvePathname(vn,fn){let En=fn.replace(/\/+$/,"").split("/");return vn.split("/").forEach(_i=>{_i===".."?En.length>1&&En.pop():_i!=="."&&En.push(_i)}),En.length>1?En.join("/"):"/"}function getInvalidPathError(vn,fn,En,Cn){return"Cannot include a '"+vn+"' character in a manually specified "+("`to."+fn+"` field ["+JSON.stringify(Cn)+"].  Please separate it out to the ")+("`to."+En+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(vn){return vn.filter((fn,En)=>En===0||fn.route.path&&fn.route.path.length>0)}function getResolveToMatches(vn,fn){let En=getPathContributingMatches(vn);return fn?En.map((Cn,_i)=>_i===En.length-1?Cn.pathname:Cn.pathnameBase):En.map(Cn=>Cn.pathnameBase)}function resolveTo(vn,fn,En,Cn){Cn===void 0&&(Cn=!1);let _i;typeof vn=="string"?_i=parsePath(vn):(_i=_extends$3({},vn),invariant$1(!_i.pathname||!_i.pathname.includes("?"),getInvalidPathError("?","pathname","search",_i)),invariant$1(!_i.pathname||!_i.pathname.includes("#"),getInvalidPathError("#","pathname","hash",_i)),invariant$1(!_i.search||!_i.search.includes("#"),getInvalidPathError("#","search","hash",_i)));let An=vn===""||_i.pathname==="",ba=An?"/":_i.pathname,xa;if(ba==null)xa=En;else{let is=fn.length-1;if(!Cn&&ba.startsWith("..")){let cs=ba.split("/");for(;cs[0]==="..";)cs.shift(),is-=1;_i.pathname=cs.join("/")}xa=is>=0?fn[is]:"/"}let $a=resolvePath(_i,xa),rs=ba&&ba!=="/"&&ba.endsWith("/"),ts=(An||ba===".")&&En.endsWith("/");return!$a.pathname.endsWith("/")&&(rs||ts)&&($a.pathname+="/"),$a}const joinPaths=vn=>vn.join("/").replace(/\/\/+/g,"/"),normalizePathname=vn=>vn.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=vn=>!vn||vn==="?"?"":vn.startsWith("?")?vn:"?"+vn,normalizeHash=vn=>!vn||vn==="#"?"":vn.startsWith("#")?vn:"#"+vn;function isRouteErrorResponse(vn){return vn!=null&&typeof vn.status=="number"&&typeof vn.statusText=="string"&&typeof vn.internal=="boolean"&&"data"in vn}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(vn){for(var fn=1;fn<arguments.length;fn++){var En=arguments[fn];for(var Cn in En)Object.prototype.hasOwnProperty.call(En,Cn)&&(vn[Cn]=En[Cn])}return vn},_extends$2.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(vn,fn){let{relative:En}=fn===void 0?{}:fn;useInRouterContext()||invariant$1(!1);let{basename:Cn,navigator:_i}=reactExports.useContext(NavigationContext),{hash:An,pathname:ba,search:xa}=useResolvedPath(vn,{relative:En}),$a=ba;return Cn!=="/"&&($a=ba==="/"?Cn:joinPaths([Cn,ba])),_i.createHref({pathname:$a,search:xa,hash:An})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(vn){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(vn)}function useNavigate(){let{isDataRoute:vn}=reactExports.useContext(RouteContext);return vn?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let vn=reactExports.useContext(DataRouterContext),{basename:fn,future:En,navigator:Cn}=reactExports.useContext(NavigationContext),{matches:_i}=reactExports.useContext(RouteContext),{pathname:An}=useLocation(),ba=JSON.stringify(getResolveToMatches(_i,En.v7_relativeSplatPath)),xa=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{xa.current=!0}),reactExports.useCallback(function(rs,ts){if(ts===void 0&&(ts={}),!xa.current)return;if(typeof rs=="number"){Cn.go(rs);return}let is=resolveTo(rs,JSON.parse(ba),An,ts.relative==="path");vn==null&&fn!=="/"&&(is.pathname=is.pathname==="/"?fn:joinPaths([fn,is.pathname])),(ts.replace?Cn.replace:Cn.push)(is,ts.state,ts)},[fn,Cn,ba,An,vn])}function useResolvedPath(vn,fn){let{relative:En}=fn===void 0?{}:fn,{future:Cn}=reactExports.useContext(NavigationContext),{matches:_i}=reactExports.useContext(RouteContext),{pathname:An}=useLocation(),ba=JSON.stringify(getResolveToMatches(_i,Cn.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(vn,JSON.parse(ba),An,En==="path"),[vn,ba,An,En])}function useRoutes(vn,fn){return useRoutesImpl(vn,fn)}function useRoutesImpl(vn,fn,En,Cn){useInRouterContext()||invariant$1(!1);let{navigator:_i}=reactExports.useContext(NavigationContext),{matches:An}=reactExports.useContext(RouteContext),ba=An[An.length-1],xa=ba?ba.params:{};ba&&ba.pathname;let $a=ba?ba.pathnameBase:"/";ba&&ba.route;let rs=useLocation(),ts;if(fn){var is;let e0=typeof fn=="string"?parsePath(fn):fn;$a==="/"||(is=e0.pathname)!=null&&is.startsWith($a)||invariant$1(!1),ts=e0}else ts=rs;let cs=ts.pathname||"/",us=cs;if($a!=="/"){let e0=$a.replace(/^\//,"").split("/");us="/"+cs.replace(/^\//,"").split("/").slice(e0.length).join("/")}let ps=matchRoutes(vn,{pathname:us}),bs=_renderMatches(ps&&ps.map(e0=>Object.assign({},e0,{params:Object.assign({},xa,e0.params),pathname:joinPaths([$a,_i.encodeLocation?_i.encodeLocation(e0.pathname).pathname:e0.pathname]),pathnameBase:e0.pathnameBase==="/"?$a:joinPaths([$a,_i.encodeLocation?_i.encodeLocation(e0.pathnameBase).pathname:e0.pathnameBase])})),An,En,Cn);return fn&&bs?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},ts),navigationType:Action.Pop}},bs):bs}function DefaultErrorComponent(){let vn=useRouteError(),fn=isRouteErrorResponse(vn)?vn.status+" "+vn.statusText:vn instanceof Error?vn.message:JSON.stringify(vn),En=vn instanceof Error?vn.stack:null,_i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},fn),En?reactExports.createElement("pre",{style:_i},En):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(fn){super(fn),this.state={location:fn.location,revalidation:fn.revalidation,error:fn.error}}static getDerivedStateFromError(fn){return{error:fn}}static getDerivedStateFromProps(fn,En){return En.location!==fn.location||En.revalidation!=="idle"&&fn.revalidation==="idle"?{error:fn.error,location:fn.location,revalidation:fn.revalidation}:{error:fn.error!==void 0?fn.error:En.error,location:En.location,revalidation:fn.revalidation||En.revalidation}}componentDidCatch(fn,En){console.error("React Router caught the following error during render",fn,En)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(vn){let{routeContext:fn,match:En,children:Cn}=vn,_i=reactExports.useContext(DataRouterContext);return _i&&_i.static&&_i.staticContext&&(En.route.errorElement||En.route.ErrorBoundary)&&(_i.staticContext._deepestRenderedBoundaryId=En.route.id),reactExports.createElement(RouteContext.Provider,{value:fn},Cn)}function _renderMatches(vn,fn,En,Cn){var _i;if(fn===void 0&&(fn=[]),En===void 0&&(En=null),Cn===void 0&&(Cn=null),vn==null){var An;if(!En)return null;if(En.errors)vn=En.matches;else if((An=Cn)!=null&&An.v7_partialHydration&&fn.length===0&&!En.initialized&&En.matches.length>0)vn=En.matches;else return null}let ba=vn,xa=(_i=En)==null?void 0:_i.errors;if(xa!=null){let ts=ba.findIndex(is=>is.route.id&&(xa==null?void 0:xa[is.route.id])!==void 0);ts>=0||invariant$1(!1),ba=ba.slice(0,Math.min(ba.length,ts+1))}let $a=!1,rs=-1;if(En&&Cn&&Cn.v7_partialHydration)for(let ts=0;ts<ba.length;ts++){let is=ba[ts];if((is.route.HydrateFallback||is.route.hydrateFallbackElement)&&(rs=ts),is.route.id){let{loaderData:cs,errors:us}=En,ps=is.route.loader&&cs[is.route.id]===void 0&&(!us||us[is.route.id]===void 0);if(is.route.lazy||ps){$a=!0,rs>=0?ba=ba.slice(0,rs+1):ba=[ba[0]];break}}}return ba.reduceRight((ts,is,cs)=>{let us,ps=!1,bs=null,e0=null;En&&(us=xa&&is.route.id?xa[is.route.id]:void 0,bs=is.route.errorElement||defaultErrorElement,$a&&(rs<0&&cs===0?(ps=!0,e0=null):rs===cs&&(ps=!0,e0=is.route.hydrateFallbackElement||null)));let gs=fn.concat(ba.slice(0,cs+1)),Ds=()=>{let i0;return us?i0=bs:ps?i0=e0:is.route.Component?i0=reactExports.createElement(is.route.Component,null):is.route.element?i0=is.route.element:i0=ts,reactExports.createElement(RenderedRoute,{match:is,routeContext:{outlet:ts,matches:gs,isDataRoute:En!=null},children:i0})};return En&&(is.route.ErrorBoundary||is.route.errorElement||cs===0)?reactExports.createElement(RenderErrorBoundary,{location:En.location,revalidation:En.revalidation,component:bs,error:us,children:Ds(),routeContext:{outlet:null,matches:gs,isDataRoute:!0}}):Ds()},null)}var DataRouterHook$1=function(vn){return vn.UseBlocker="useBlocker",vn.UseRevalidator="useRevalidator",vn.UseNavigateStable="useNavigate",vn}(DataRouterHook$1||{}),DataRouterStateHook$1=function(vn){return vn.UseBlocker="useBlocker",vn.UseLoaderData="useLoaderData",vn.UseActionData="useActionData",vn.UseRouteError="useRouteError",vn.UseNavigation="useNavigation",vn.UseRouteLoaderData="useRouteLoaderData",vn.UseMatches="useMatches",vn.UseRevalidator="useRevalidator",vn.UseNavigateStable="useNavigate",vn.UseRouteId="useRouteId",vn}(DataRouterStateHook$1||{});function useDataRouterContext(vn){let fn=reactExports.useContext(DataRouterContext);return fn||invariant$1(!1),fn}function useDataRouterState(vn){let fn=reactExports.useContext(DataRouterStateContext);return fn||invariant$1(!1),fn}function useRouteContext(vn){let fn=reactExports.useContext(RouteContext);return fn||invariant$1(!1),fn}function useCurrentRouteId(vn){let fn=useRouteContext(),En=fn.matches[fn.matches.length-1];return En.route.id||invariant$1(!1),En.route.id}function useRouteError(){var vn;let fn=reactExports.useContext(RouteErrorContext),En=useDataRouterState(DataRouterStateHook$1.UseRouteError),Cn=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return fn!==void 0?fn:(vn=En.errors)==null?void 0:vn[Cn]}function useNavigateStable(){let{router:vn}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),fn=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),En=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{En.current=!0}),reactExports.useCallback(function(_i,An){An===void 0&&(An={}),En.current&&(typeof _i=="number"?vn.navigate(_i):vn.navigate(_i,_extends$2({fromRouteId:fn},An)))},[vn,fn])}const alreadyWarned={};function warnOnce(vn,fn){alreadyWarned[fn]||(alreadyWarned[fn]=!0,console.warn(fn))}const logDeprecation=(vn,fn,En)=>warnOnce(vn," React Router Future Flag Warning: "+fn+". "+("You can use the `"+vn+"` future flag to opt-in early. ")+("For more information, see "+En+"."));function logV6DeprecationWarnings(vn,fn){vn!=null&&vn.v7_startTransition||logDeprecation("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(vn!=null&&vn.v7_relativeSplatPath)&&!fn&&logDeprecation("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Route(vn){invariant$1(!1)}function Router(vn){let{basename:fn="/",children:En=null,location:Cn,navigationType:_i=Action.Pop,navigator:An,static:ba=!1,future:xa}=vn;useInRouterContext()&&invariant$1(!1);let $a=fn.replace(/^\/*/,"/"),rs=reactExports.useMemo(()=>({basename:$a,navigator:An,static:ba,future:_extends$2({v7_relativeSplatPath:!1},xa)}),[$a,xa,An,ba]);typeof Cn=="string"&&(Cn=parsePath(Cn));let{pathname:ts="/",search:is="",hash:cs="",state:us=null,key:ps="default"}=Cn,bs=reactExports.useMemo(()=>{let e0=stripBasename(ts,$a);return e0==null?null:{location:{pathname:e0,search:is,hash:cs,state:us,key:ps},navigationType:_i}},[$a,ts,is,cs,us,ps,_i]);return bs==null?null:reactExports.createElement(NavigationContext.Provider,{value:rs},reactExports.createElement(LocationContext.Provider,{children:En,value:bs}))}function Routes(vn){let{children:fn,location:En}=vn;return useRoutes(createRoutesFromChildren(fn),En)}new Promise(()=>{});function createRoutesFromChildren(vn,fn){fn===void 0&&(fn=[]);let En=[];return reactExports.Children.forEach(vn,(Cn,_i)=>{if(!reactExports.isValidElement(Cn))return;let An=[...fn,_i];if(Cn.type===reactExports.Fragment){En.push.apply(En,createRoutesFromChildren(Cn.props.children,An));return}Cn.type!==Route&&invariant$1(!1),!Cn.props.index||!Cn.props.children||invariant$1(!1);let ba={id:Cn.props.id||An.join("-"),caseSensitive:Cn.props.caseSensitive,element:Cn.props.element,Component:Cn.props.Component,index:Cn.props.index,path:Cn.props.path,loader:Cn.props.loader,action:Cn.props.action,errorElement:Cn.props.errorElement,ErrorBoundary:Cn.props.ErrorBoundary,hasErrorBoundary:Cn.props.ErrorBoundary!=null||Cn.props.errorElement!=null,shouldRevalidate:Cn.props.shouldRevalidate,handle:Cn.props.handle,lazy:Cn.props.lazy};Cn.props.children&&(ba.children=createRoutesFromChildren(Cn.props.children,An)),En.push(ba)}),En}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(vn){for(var fn=1;fn<arguments.length;fn++){var En=arguments[fn];for(var Cn in En)Object.prototype.hasOwnProperty.call(En,Cn)&&(vn[Cn]=En[Cn])}return vn},_extends$1.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(vn,fn){if(vn==null)return{};var En={},Cn=Object.keys(vn),_i,An;for(An=0;An<Cn.length;An++)_i=Cn[An],!(fn.indexOf(_i)>=0)&&(En[_i]=vn[_i]);return En}function isModifiedEvent(vn){return!!(vn.metaKey||vn.altKey||vn.ctrlKey||vn.shiftKey)}function shouldProcessLinkClick(vn,fn){return vn.button===0&&(!fn||fn==="_self")&&!isModifiedEvent(vn)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(vn){let{basename:fn,children:En,future:Cn,window:_i}=vn,An=reactExports.useRef();An.current==null&&(An.current=createBrowserHistory({window:_i,v5Compat:!0}));let ba=An.current,[xa,$a]=reactExports.useState({action:ba.action,location:ba.location}),{v7_startTransition:rs}=Cn||{},ts=reactExports.useCallback(is=>{rs&&startTransitionImpl?startTransitionImpl(()=>$a(is)):$a(is)},[$a,rs]);return reactExports.useLayoutEffect(()=>ba.listen(ts),[ba,ts]),reactExports.useEffect(()=>logV6DeprecationWarnings(Cn),[Cn]),reactExports.createElement(Router,{basename:fn,children:En,location:xa.location,navigationType:xa.action,navigator:ba,future:Cn})}const isBrowser$3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$1=reactExports.forwardRef(function(fn,En){let{onClick:Cn,relative:_i,reloadDocument:An,replace:ba,state:xa,target:$a,to:rs,preventScrollReset:ts,viewTransition:is}=fn,cs=_objectWithoutPropertiesLoose$1(fn,_excluded),{basename:us}=reactExports.useContext(NavigationContext),ps,bs=!1;if(typeof rs=="string"&&ABSOLUTE_URL_REGEX.test(rs)&&(ps=rs,isBrowser$3))try{let i0=new URL(window.location.href),n0=rs.startsWith("//")?new URL(i0.protocol+rs):new URL(rs),c0=stripBasename(n0.pathname,us);n0.origin===i0.origin&&c0!=null?rs=c0+n0.search+n0.hash:bs=!0}catch{}let e0=useHref(rs,{relative:_i}),gs=useLinkClickHandler(rs,{replace:ba,state:xa,target:$a,preventScrollReset:ts,relative:_i,viewTransition:is});function Ds(i0){Cn&&Cn(i0),i0.defaultPrevented||gs(i0)}return reactExports.createElement("a",_extends$1({},cs,{href:ps||e0,onClick:bs||An?Cn:Ds,ref:En,target:$a}))});var DataRouterHook;(function(vn){vn.UseScrollRestoration="useScrollRestoration",vn.UseSubmit="useSubmit",vn.UseSubmitFetcher="useSubmitFetcher",vn.UseFetcher="useFetcher",vn.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(vn){vn.UseFetcher="useFetcher",vn.UseFetchers="useFetchers",vn.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(vn,fn){let{target:En,replace:Cn,state:_i,preventScrollReset:An,relative:ba,viewTransition:xa}=fn===void 0?{}:fn,$a=useNavigate(),rs=useLocation(),ts=useResolvedPath(vn,{relative:ba});return reactExports.useCallback(is=>{if(shouldProcessLinkClick(is,En)){is.preventDefault();let cs=Cn!==void 0?Cn:createPath(rs)===createPath(ts);$a(vn,{replace:cs,state:_i,preventScrollReset:An,relative:ba,viewTransition:xa})}},[rs,$a,ts,Cn,_i,En,vn,An,ba,xa])}var c1={chain:"ETH",chainId:1,ens:{registry:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},explorers:[{name:"etherscan",url:"https://etherscan.io",standard:"EIP3091"},{name:"blockscout",url:"https://eth.blockscout.com",standard:"EIP3091",icon:{url:"ipfs://QmYtUimyqHkkFxYdbXXRbUqNg2VLPUg6Uu2C2nmFWowiZM",width:551,height:540,format:"png"}},{name:"dexguru",url:"https://ethereum.dex.guru",standard:"EIP3091",icon:{url:"ipfs://QmRaASKRSjQ5btoUQ2rNTJNxKtx2a2RoewgA7DMQkLVEne",width:83,height:82,format:"svg"}}],faucets:[],features:[{name:"EIP155"},{name:"EIP1559"}],icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/ethereum/512.png",width:512,height:512,format:"png"},infoURL:"https://ethereum.org",name:"Ethereum Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},networkId:1,redFlags:[],rpc:["https://1.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://mainnet.infura.io/v3/${INFURA_API_KEY}","wss://mainnet.infura.io/ws/v3/${INFURA_API_KEY}","https://eth-mainnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}","https://api.mycryptoapi.com/eth","https://cloudflare-eth.com","https://ethereum-rpc.publicnode.com","wss://ethereum-rpc.publicnode.com","https://mainnet.gateway.tenderly.co","wss://mainnet.gateway.tenderly.co","https://rpc.blocknative.com/boost","https://rpc.flashbots.net","https://rpc.flashbots.net/fast","https://rpc.mevblocker.io","https://rpc.mevblocker.io/fast","https://rpc.mevblocker.io/noreverts","https://rpc.mevblocker.io/fullprivacy","https://eth.drpc.org","wss://eth.drpc.org"],shortName:"eth",slip44:60,slug:"ethereum",testnet:!1},c10={chain:"ETH",chainId:10,explorers:[{name:"etherscan",url:"https://optimistic.etherscan.io",standard:"EIP3091"},{name:"blockscout",url:"https://optimism.blockscout.com",standard:"EIP3091",icon:{url:"ipfs://QmYtUimyqHkkFxYdbXXRbUqNg2VLPUg6Uu2C2nmFWowiZM",width:551,height:540,format:"png"}},{name:"dexguru",url:"https://optimism.dex.guru",standard:"EIP3091",icon:{url:"ipfs://QmRaASKRSjQ5btoUQ2rNTJNxKtx2a2RoewgA7DMQkLVEne",width:83,height:82,format:"svg"}}],faucets:[],features:[],icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/optimism/512.png",width:512,height:512,format:"png"},infoURL:"https://optimism.io",name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},networkId:10,redFlags:[],rpc:["https://10.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://optimism-mainnet.infura.io/v3/${INFURA_API_KEY}","https://mainnet.optimism.io","https://optimism.publicnode.com","wss://optimism.publicnode.com","https://optimism.gateway.tenderly.co","wss://optimism.gateway.tenderly.co","https://optimism-rpc.publicnode.com","wss://optimism-rpc.publicnode.com","https://optimism.drpc.org","wss://optimism.drpc.org"],shortName:"oeth",slug:"optimism",testnet:!1},c56={chain:"BSC",chainId:56,explorers:[{name:"bscscan",url:"https://bscscan.com",standard:"EIP3091"},{name:"dexguru",url:"https://bnb.dex.guru",standard:"EIP3091",icon:{url:"ipfs://QmRaASKRSjQ5btoUQ2rNTJNxKtx2a2RoewgA7DMQkLVEne",width:83,height:82,format:"svg"}}],faucets:[],features:[],icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/binance-coin/512.png",width:512,height:512,format:"png"},infoURL:"https://www.bnbchain.org/en",name:"BNB Smart Chain Mainnet",nativeCurrency:{name:"BNB Chain Native Token",symbol:"BNB",decimals:18},networkId:56,redFlags:[],rpc:["https://56.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://bsc-dataseed1.bnbchain.org","https://bsc-dataseed2.bnbchain.org","https://bsc-dataseed3.bnbchain.org","https://bsc-dataseed4.bnbchain.org","https://bsc-dataseed1.defibit.io","https://bsc-dataseed2.defibit.io","https://bsc-dataseed3.defibit.io","https://bsc-dataseed4.defibit.io","https://bsc-dataseed1.ninicoin.io","https://bsc-dataseed2.ninicoin.io","https://bsc-dataseed3.ninicoin.io","https://bsc-dataseed4.ninicoin.io","https://bsc-rpc.publicnode.com","wss://bsc-rpc.publicnode.com","wss://bsc-ws-node.nariox.org"],shortName:"bnb",slip44:714,slug:"binance",testnet:!1},c97={chain:"BSC",chainId:97,explorers:[{name:"bscscan-testnet",url:"https://testnet.bscscan.com",standard:"EIP3091"}],faucets:["https://testnet.bnbchain.org/faucet-smart"],features:[],icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/binance-coin/512.png",width:512,height:512,format:"png"},infoURL:"https://www.bnbchain.org/en",name:"BNB Smart Chain Testnet",nativeCurrency:{name:"BNB Chain Native Token",symbol:"tBNB",decimals:18},networkId:97,redFlags:[],rpc:["https://97.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://data-seed-prebsc-1-s1.bnbchain.org:8545","https://data-seed-prebsc-2-s1.bnbchain.org:8545","https://data-seed-prebsc-1-s2.bnbchain.org:8545","https://data-seed-prebsc-2-s2.bnbchain.org:8545","https://data-seed-prebsc-1-s3.bnbchain.org:8545","https://data-seed-prebsc-2-s3.bnbchain.org:8545","https://bsc-testnet-rpc.publicnode.com","wss://bsc-testnet-rpc.publicnode.com"],shortName:"bnbt",slip44:1,slug:"binance-testnet",testnet:!0},c137={chain:"Polygon",chainId:137,explorers:[{name:"polygonscan",url:"https://polygonscan.com",standard:"EIP3091"},{name:"dexguru",url:"https://polygon.dex.guru",standard:"EIP3091",icon:{url:"ipfs://QmRaASKRSjQ5btoUQ2rNTJNxKtx2a2RoewgA7DMQkLVEne",width:83,height:82,format:"svg"}}],faucets:[],features:[],icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/polygon/512.png",width:512,height:512,format:"png"},infoURL:"https://polygon.technology/",name:"Polygon Mainnet",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},networkId:137,redFlags:[],rpc:["https://137.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://polygon-mainnet.infura.io/v3/${INFURA_API_KEY}","https://polygon-mainnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}","https://polygon-rpc.com/","https://rpc-mainnet.matic.network","https://matic-mainnet.chainstacklabs.com","https://rpc-mainnet.maticvigil.com","https://rpc-mainnet.matic.quiknode.pro","https://matic-mainnet-full-rpc.bwarelabs.com","https://polygon-bor-rpc.publicnode.com","wss://polygon-bor-rpc.publicnode.com","https://polygon.gateway.tenderly.co","wss://polygon.gateway.tenderly.co","https://polygon.drpc.org","wss://polygon.drpc.org"],shortName:"matic",slip44:966,slug:"polygon",testnet:!1},c147={chain:"Flag",chainId:147,explorers:[{name:"Flag Mainnet Explorer",url:"https://flagscan.xyz",standard:"EIP3091"}],faucets:[],icon:{url:"ipfs://bafybeibcrxeavdxpwwmj4mc6hhp232nkrfbpvfpngcqux2v5rmoshycj3u",width:500,height:500,format:"png"},infoURL:"https://flagscan.xyz",name:"Flag Mainnet",nativeCurrency:{name:"Flag",symbol:"FLAG",decimals:18},networkId:147,rpc:["https://147.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://mainnet-rpc.flagscan.xyz"],shortName:"FLAG",slug:"flag",testnet:!1},c250={chain:"FTM",chainId:250,explorers:[{name:"ftmscan",url:"https://ftmscan.com",standard:"EIP3091",icon:{url:"ipfs://QmRqbK449Fo9sJ3xMpkPbg6uV1weQj4yVV1xNMP9cdPmjf",width:73,height:73,format:"png"}},{name:"dexguru",url:"https://fantom.dex.guru",standard:"EIP3091",icon:{url:"ipfs://QmRaASKRSjQ5btoUQ2rNTJNxKtx2a2RoewgA7DMQkLVEne",width:83,height:82,format:"svg"}}],faucets:[],features:[],icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/fantom/512.png",width:512,height:512,format:"png"},infoURL:"https://fantom.foundation",name:"Fantom Opera",nativeCurrency:{name:"Fantom",symbol:"FTM",decimals:18},networkId:250,redFlags:[],rpc:["https://250.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://rpc.ftm.tools","https://fantom-rpc.publicnode.com","wss://fantom-rpc.publicnode.com","https://fantom.drpc.org","wss://fantom.drpc.org"],shortName:"ftm",slug:"fantom",testnet:!1},c1147={chain:"Flag",chainId:1147,explorers:[{name:"Flag Testnet Explorer",url:"https://testnet-explorer.flagscan.xyz",standard:"EIP3091"}],faucets:["https://faucet.flagscan.xyz"],icon:{url:"ipfs://bafybeibcrxeavdxpwwmj4mc6hhp232nkrfbpvfpngcqux2v5rmoshycj3u",width:500,height:500,format:"png"},infoURL:"https://testnet-explorer.flagscan.xyz",name:"Flag Testnet",nativeCurrency:{name:"Flag Testnet",symbol:"FLAG",decimals:18},networkId:1147,rpc:["https://1147.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://testnet-rpc.flagscan.xyz"],shortName:"tFLAG",slug:"flag-testnet",testnet:!0},c1337={chain:"ETH",chainId:1337,explorers:[],faucets:[],features:[],icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/ethereum/512.png",width:512,height:512,format:"png"},name:"Localhost",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},networkId:1337,redFlags:[],rpc:["http://localhost:8545"],shortName:"local",slug:"localhost",testnet:!0},c4002={chain:"FTM",chainId:4002,explorers:[{name:"ftmscan",url:"https://testnet.ftmscan.com",standard:"EIP3091",icon:{url:"ipfs://QmRqbK449Fo9sJ3xMpkPbg6uV1weQj4yVV1xNMP9cdPmjf",width:73,height:73,format:"png"}}],faucets:["https://faucet.fantom.network"],features:[],icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/fantom/512.png",width:512,height:512,format:"png"},infoURL:"https://docs.fantom.foundation/quick-start/short-guide#fantom-testnet",name:"Fantom Testnet",nativeCurrency:{name:"Fantom",symbol:"FTM",decimals:18},networkId:4002,redFlags:[],rpc:["https://4002.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://rpc.testnet.fantom.network","https://fantom-testnet-rpc.publicnode.com","wss://fantom-testnet-rpc.publicnode.com","https://fantom-testnet.drpc.org","wss://fantom-testnet.drpc.org"],shortName:"tftm",slip44:1,slug:"fantom-testnet",testnet:!0},c8453={chain:"ETH",chainId:8453,explorers:[{name:"basescan",url:"https://basescan.org",standard:"none"},{name:"basescout",url:"https://base.blockscout.com",standard:"EIP3091",icon:{url:"ipfs://QmYtUimyqHkkFxYdbXXRbUqNg2VLPUg6Uu2C2nmFWowiZM",width:551,height:540,format:"png"}},{name:"dexguru",url:"https://base.dex.guru",standard:"EIP3091",icon:{url:"ipfs://QmRaASKRSjQ5btoUQ2rNTJNxKtx2a2RoewgA7DMQkLVEne",width:83,height:82,format:"svg"}}],faucets:[],features:[],icon:{url:"ipfs://QmW5Vn15HeRkScMfPcW12ZdZcC2yUASpu6eCsECRdEmjjj/base-512.png",width:512,height:512,format:"png"},infoURL:"https://base.org",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},networkId:8453,redFlags:[],rpc:["https://8453.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://mainnet.base.org/","https://developer-access-mainnet.base.org/","https://base.gateway.tenderly.co","wss://base.gateway.tenderly.co","https://base-rpc.publicnode.com","wss://base-rpc.publicnode.com"],shortName:"base",slug:"base",status:"active",testnet:!1},c42161={chain:"ETH",chainId:42161,explorers:[{name:"Arbiscan",url:"https://arbiscan.io",standard:"EIP3091"},{name:"Arbitrum Explorer",url:"https://explorer.arbitrum.io",standard:"EIP3091"},{name:"dexguru",url:"https://arbitrum.dex.guru",standard:"EIP3091",icon:{url:"ipfs://QmRaASKRSjQ5btoUQ2rNTJNxKtx2a2RoewgA7DMQkLVEne",width:83,height:82,format:"svg"}}],faucets:[],features:[],icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/arbitrum/512.png",width:512,height:512,format:"png"},infoURL:"https://arbitrum.io",name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},networkId:42161,parent:{type:"L2",chain:"eip155-1",bridges:[{url:"https://bridge.arbitrum.io"}]},redFlags:[],rpc:["https://42161.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://arbitrum-mainnet.infura.io/v3/${INFURA_API_KEY}","https://arb-mainnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}","https://arb1.arbitrum.io/rpc","https://arbitrum-one.publicnode.com","wss://arbitrum-one.publicnode.com"],shortName:"arb1",slug:"arbitrum",testnet:!1},c42220={chain:"CELO",chainId:42220,explorers:[{name:"blockscout",url:"https://explorer.celo.org",standard:"none"},{name:"Celoscan",url:"https://celoscan.io",standard:"EIP3091"}],faucets:[],infoURL:"https://docs.celo.org/",name:"Celo Mainnet",nativeCurrency:{name:"CELO",symbol:"CELO",decimals:18},networkId:42220,rpc:["https://42220.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://forno.celo.org","wss://forno.celo.org/ws"],shortName:"celo",slug:"celo",testnet:!1},c43113={chain:"AVAX",chainId:43113,explorers:[{name:"snowtrace",url:"https://testnet.snowtrace.io",standard:"EIP3091"}],faucets:["https://faucet.avax-test.network/"],features:[],icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/avalanche/512.png",width:512,height:512,format:"png"},infoURL:"https://cchain.explorer.avax-test.network",name:"Avalanche Fuji Testnet",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},networkId:43113,redFlags:[],rpc:["https://43113.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://api.avax-test.network/ext/bc/C/rpc","https://avalanche-fuji-c-chain-rpc.publicnode.com","wss://avalanche-fuji-c-chain-rpc.publicnode.com"],shortName:"Fuji",slip44:1,slug:"avalanche-fuji",testnet:!0},c43114={chain:"AVAX",chainId:43114,explorers:[{name:"snowtrace",url:"https://snowtrace.io",standard:"EIP3091"}],faucets:[],features:[{name:"EIP1559"}],icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/avalanche/512.png",width:512,height:512,format:"png"},infoURL:"https://www.avax.network/",name:"Avalanche C-Chain",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},networkId:43114,redFlags:[],rpc:["https://43114.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://avalanche-mainnet.infura.io/v3/${INFURA_API_KEY}","https://api.avax.network/ext/bc/C/rpc","https://avalanche-c-chain-rpc.publicnode.com","wss://avalanche-c-chain-rpc.publicnode.com"],shortName:"avax",slip44:9005,slug:"avalanche",testnet:!1},c44787={chain:"CELO",chainId:44787,explorers:[{name:"Alfajoresscan",url:"https://alfajores.celoscan.io",standard:"EIP3091"}],faucets:["https://celo.org/developers/faucet","https://cauldron.pretoriaresearchlab.io/alfajores-faucet"],features:[],infoURL:"https://docs.celo.org/",name:"Celo Alfajores Testnet",nativeCurrency:{name:"CELO",symbol:"CELO",decimals:18},networkId:44787,redFlags:[],rpc:["https://44787.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://alfajores-forno.celo-testnet.org","wss://alfajores-forno.celo-testnet.org/ws"],shortName:"ALFA",slip44:1,slug:"celo-alfajores-testnet",testnet:!0},c62320={chain:"CELO",chainId:62320,explorers:[],faucets:["https://docs.google.com/forms/d/e/1FAIpQLSdfr1BwUTYepVmmvfVUDRCwALejZ-TUva2YujNpvrEmPAX2pg/viewform","https://cauldron.pretoriaresearchlab.io/baklava-faucet"],infoURL:"https://docs.celo.org/",name:"Celo Baklava Testnet",nativeCurrency:{name:"CELO",symbol:"CELO",decimals:18},networkId:62320,rpc:["https://62320.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://baklava-forno.celo-testnet.org"],shortName:"BKLV",slip44:1,slug:"celo-baklava-testnet",testnet:!0},c80001={chain:"Polygon",chainId:80001,explorers:[{name:"polygonscan",url:"https://mumbai.polygonscan.com",standard:"EIP3091"}],faucets:["https://faucet.polygon.technology/"],features:[],icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/polygon/512.png",width:512,height:512,format:"png"},infoURL:"https://polygon.technology/",name:"Mumbai",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},networkId:80001,redFlags:[],rpc:["https://80001.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://rpc-mumbai.maticvigil.com","https://polygon-mumbai-bor-rpc.publicnode.com","wss://polygon-mumbai-bor-rpc.publicnode.com","https://polygon-mumbai.gateway.tenderly.co","wss://polygon-mumbai.gateway.tenderly.co"],shortName:"maticmum",slip44:1,slug:"mumbai",status:"deprecated",testnet:!0,title:"Polygon Testnet Mumbai"},c84532={chain:"ETH",chainId:84532,explorers:[{name:"basescout",url:"https://base-sepolia.blockscout.com",standard:"EIP3091",icon:{url:"ipfs://QmYtUimyqHkkFxYdbXXRbUqNg2VLPUg6Uu2C2nmFWowiZM",width:551,height:540,format:"png"}}],faucets:[],icon:{url:"ipfs://QmaxRoHpxZd8PqccAynherrMznMufG6sdmHZLihkECXmZv",width:1200,height:1200,format:"png"},infoURL:"https://base.org",name:"Base Sepolia Testnet",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},networkId:84532,rpc:["https://84532.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://sepolia.base.org","https://base-sepolia-rpc.publicnode.com","wss://base-sepolia-rpc.publicnode.com"],shortName:"basesep",slip44:1,slug:"base-sepolia-testnet",testnet:!0},c421614={chain:"ETH",chainId:421614,explorers:[{name:"Arbitrum Sepolia Rollup Testnet Explorer",url:"https://sepolia-explorer.arbitrum.io",standard:"EIP3091"}],faucets:[],infoURL:"https://arbitrum.io",name:"Arbitrum Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},networkId:421614,parent:{type:"L2",chain:"eip155-11155111",bridges:[{url:"https://bridge.arbitrum.io"}]},rpc:["https://421614.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://sepolia-rollup.arbitrum.io/rpc","https://arbitrum-sepolia.infura.io/v3/${INFURA_API_KEY}"],shortName:"arb-sep",slip44:1,slug:"arbitrum-sepolia",testnet:!0,title:"Arbitrum Sepolia Rollup Testnet"},c7777777={chain:"ETH",chainId:7777777,explorers:[{name:"Zora Network Explorer",url:"https://explorer.zora.energy",standard:"EIP3091"}],faucets:[],features:[],icon:{url:"ipfs://QmZ6qaRwTPFEZUspwMUjaxC6KhmzcELdRQcQzS3P72Dzts/Vector.svg",width:512,height:512,format:"svg"},infoURL:"https://zora.energy",name:"Zora",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},networkId:7777777,redFlags:[],rpc:["https://7777777.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://rpc.zora.energy/"],shortName:"zora",slug:"zora",testnet:!1},c11155111={chain:"ETH",chainId:11155111,explorers:[{name:"etherscan-sepolia",url:"https://sepolia.etherscan.io",standard:"EIP3091"},{name:"otterscan-sepolia",url:"https://sepolia.otterscan.io",standard:"EIP3091"}],faucets:["http://fauceth.komputing.org?chain=11155111&address=${ADDRESS}"],features:[],icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/ethereum/512.png",width:512,height:512,format:"png"},infoURL:"https://sepolia.otterscan.io",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},networkId:11155111,redFlags:[],rpc:["https://11155111.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://sepolia.infura.io/v3/${INFURA_API_KEY}","wss://sepolia.infura.io/v3/${INFURA_API_KEY}","https://rpc.sepolia.org","https://rpc2.sepolia.org","https://rpc-sepolia.rockx.com","https://rpc.sepolia.ethpandaops.io","https://sepolia.gateway.tenderly.co","wss://sepolia.gateway.tenderly.co","https://ethereum-sepolia-rpc.publicnode.com","wss://ethereum-sepolia-rpc.publicnode.com","https://sepolia.drpc.org","wss://sepolia.drpc.org"],shortName:"sep",slip44:1,slug:"sepolia",testnet:!0,title:"Ethereum Testnet Sepolia"},c11155420={chain:"ETH",chainId:11155420,explorers:[{name:"opscout",url:"https://optimism-sepolia.blockscout.com",standard:"EIP3091",icon:{url:"ipfs://QmYtUimyqHkkFxYdbXXRbUqNg2VLPUg6Uu2C2nmFWowiZM",width:551,height:540,format:"png"}}],faucets:["https://app.optimism.io/faucet"],features:[],icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/optimism/512.png",width:512,height:512,format:"png"},infoURL:"https://optimism.io",name:"OP Sepolia Testnet",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},networkId:11155420,redFlags:[],rpc:["https://11155420.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://sepolia.optimism.io","https://optimism-sepolia.drpc.org","wss://optimism-sepolia.drpc.org"],shortName:"opsep",slip44:1,slug:"op-sepolia-testnet",testnet:!0},c999999999={chain:"ETH",chainId:999999999,explorers:[{name:"Zora Sepolia Testnet Network Explorer",url:"https://sepolia.explorer.zora.energy",standard:"EIP3091"}],faucets:[],icon:{url:"ipfs://bafkreifvrly5tgd34xqeo67s4etmiu52bkroml7uy7eosizf57htf5nrzq",width:250,height:250,format:"png"},infoURL:"https://zora.energy",name:"Zora Sepolia Testnet",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},networkId:999999999,rpc:["https://999999999.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://sepolia.rpc.zora.energy"],shortName:"zsep",slip44:1,slug:"zora-sepolia-testnet",testnet:!0};function getValidChainRPCs(vn,fn){let En=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"http";const Cn=[];if(vn.rpc.forEach(_i=>{if(!(En==="http"&&!_i.startsWith("http"))&&!(En==="ws"&&!_i.startsWith("ws")))if(_i.includes("${THIRDWEB_API_KEY}"))fn?Cn.push(_i.replace("${THIRDWEB_API_KEY}",fn)+(typeof globalThis<"u"&&"APP_BUNDLE_ID"in globalThis&&globalThis.APP_BUNDLE_ID?`/?bundleId=${globalThis.APP_BUNDLE_ID}`:"")):Cn.push(_i.replace("${THIRDWEB_API_KEY}",""));else{if(_i.includes("${"))return;Cn.push(_i)}}),Cn.length===0)throw new Error(`No RPC available for chainId "${vn.chainId}" with mode ${En}`);return Cn}function updateChainRPCs(vn,fn){try{return{...vn,rpc:getValidChainRPCs(vn,fn)}}catch{return vn}}const defaultChains=[c1,c11155111,c8453,c84532,c137,c80001,c42161,c421614,c10,c11155420,c56,c97,c250,c4002,c43114,c43113,c1337];var buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code$3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$3=0,len=code$3.length;i$3<len;++i$3)lookup[i$3]=code$3[i$3],revLookup[code$3.charCodeAt(i$3)]=i$3;revLookup[45]=62;revLookup[95]=63;function getLens(vn){var fn=vn.length;if(fn%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var En=vn.indexOf("=");En===-1&&(En=fn);var Cn=En===fn?0:4-En%4;return[En,Cn]}function byteLength(vn){var fn=getLens(vn),En=fn[0],Cn=fn[1];return(En+Cn)*3/4-Cn}function _byteLength(vn,fn,En){return(fn+En)*3/4-En}function toByteArray(vn){var fn,En=getLens(vn),Cn=En[0],_i=En[1],An=new Arr(_byteLength(vn,Cn,_i)),ba=0,xa=_i>0?Cn-4:Cn,$a;for($a=0;$a<xa;$a+=4)fn=revLookup[vn.charCodeAt($a)]<<18|revLookup[vn.charCodeAt($a+1)]<<12|revLookup[vn.charCodeAt($a+2)]<<6|revLookup[vn.charCodeAt($a+3)],An[ba++]=fn>>16&255,An[ba++]=fn>>8&255,An[ba++]=fn&255;return _i===2&&(fn=revLookup[vn.charCodeAt($a)]<<2|revLookup[vn.charCodeAt($a+1)]>>4,An[ba++]=fn&255),_i===1&&(fn=revLookup[vn.charCodeAt($a)]<<10|revLookup[vn.charCodeAt($a+1)]<<4|revLookup[vn.charCodeAt($a+2)]>>2,An[ba++]=fn>>8&255,An[ba++]=fn&255),An}function tripletToBase64(vn){return lookup[vn>>18&63]+lookup[vn>>12&63]+lookup[vn>>6&63]+lookup[vn&63]}function encodeChunk(vn,fn,En){for(var Cn,_i=[],An=fn;An<En;An+=3)Cn=(vn[An]<<16&16711680)+(vn[An+1]<<8&65280)+(vn[An+2]&255),_i.push(tripletToBase64(Cn));return _i.join("")}function fromByteArray(vn){for(var fn,En=vn.length,Cn=En%3,_i=[],An=16383,ba=0,xa=En-Cn;ba<xa;ba+=An)_i.push(encodeChunk(vn,ba,ba+An>xa?xa:ba+An));return Cn===1?(fn=vn[En-1],_i.push(lookup[fn>>2]+lookup[fn<<4&63]+"==")):Cn===2&&(fn=(vn[En-2]<<8)+vn[En-1],_i.push(lookup[fn>>10]+lookup[fn>>4&63]+lookup[fn<<2&63]+"=")),_i.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(vn,fn,En,Cn,_i){var An,ba,xa=_i*8-Cn-1,$a=(1<<xa)-1,rs=$a>>1,ts=-7,is=En?_i-1:0,cs=En?-1:1,us=vn[fn+is];for(is+=cs,An=us&(1<<-ts)-1,us>>=-ts,ts+=xa;ts>0;An=An*256+vn[fn+is],is+=cs,ts-=8);for(ba=An&(1<<-ts)-1,An>>=-ts,ts+=Cn;ts>0;ba=ba*256+vn[fn+is],is+=cs,ts-=8);if(An===0)An=1-rs;else{if(An===$a)return ba?NaN:(us?-1:1)*(1/0);ba=ba+Math.pow(2,Cn),An=An-rs}return(us?-1:1)*ba*Math.pow(2,An-Cn)};ieee754.write=function(vn,fn,En,Cn,_i,An){var ba,xa,$a,rs=An*8-_i-1,ts=(1<<rs)-1,is=ts>>1,cs=_i===23?Math.pow(2,-24)-Math.pow(2,-77):0,us=Cn?0:An-1,ps=Cn?1:-1,bs=fn<0||fn===0&&1/fn<0?1:0;for(fn=Math.abs(fn),isNaN(fn)||fn===1/0?(xa=isNaN(fn)?1:0,ba=ts):(ba=Math.floor(Math.log(fn)/Math.LN2),fn*($a=Math.pow(2,-ba))<1&&(ba--,$a*=2),ba+is>=1?fn+=cs/$a:fn+=cs*Math.pow(2,1-is),fn*$a>=2&&(ba++,$a/=2),ba+is>=ts?(xa=0,ba=ts):ba+is>=1?(xa=(fn*$a-1)*Math.pow(2,_i),ba=ba+is):(xa=fn*Math.pow(2,is-1)*Math.pow(2,_i),ba=0));_i>=8;vn[En+us]=xa&255,us+=ps,xa/=256,_i-=8);for(ba=ba<<_i|xa,rs+=_i;rs>0;vn[En+us]=ba&255,us+=ps,ba/=256,rs-=8);vn[En+us-ps]|=bs*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(vn){const fn=base64Js,En=ieee754,Cn=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;vn.Buffer=ts,vn.SlowBuffer=c0,vn.INSPECT_MAX_BYTES=50;const _i=2147483647;vn.kMaxLength=_i;const{Uint8Array:An,ArrayBuffer:ba,SharedArrayBuffer:xa}=globalThis;ts.TYPED_ARRAY_SUPPORT=$a(),!ts.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function $a(){try{const x0=new An(1),u0={foo:function(){return 42}};return Object.setPrototypeOf(u0,An.prototype),Object.setPrototypeOf(x0,u0),x0.foo()===42}catch{return!1}}Object.defineProperty(ts.prototype,"parent",{enumerable:!0,get:function(){if(ts.isBuffer(this))return this.buffer}}),Object.defineProperty(ts.prototype,"offset",{enumerable:!0,get:function(){if(ts.isBuffer(this))return this.byteOffset}});function rs(x0){if(x0>_i)throw new RangeError('The value "'+x0+'" is invalid for option "size"');const u0=new An(x0);return Object.setPrototypeOf(u0,ts.prototype),u0}function ts(x0,u0,v0){if(typeof x0=="number"){if(typeof u0=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ps(x0)}return is(x0,u0,v0)}ts.poolSize=8192;function is(x0,u0,v0){if(typeof x0=="string")return bs(x0,u0);if(ba.isView(x0))return gs(x0);if(x0==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x0);if(D0(x0,ba)||x0&&D0(x0.buffer,ba)||typeof xa<"u"&&(D0(x0,xa)||x0&&D0(x0.buffer,xa)))return Ds(x0,u0,v0);if(typeof x0=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const _0=x0.valueOf&&x0.valueOf();if(_0!=null&&_0!==x0)return ts.from(_0,u0,v0);const T0=i0(x0);if(T0)return T0;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof x0[Symbol.toPrimitive]=="function")return ts.from(x0[Symbol.toPrimitive]("string"),u0,v0);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x0)}ts.from=function(x0,u0,v0){return is(x0,u0,v0)},Object.setPrototypeOf(ts.prototype,An.prototype),Object.setPrototypeOf(ts,An);function cs(x0){if(typeof x0!="number")throw new TypeError('"size" argument must be of type number');if(x0<0)throw new RangeError('The value "'+x0+'" is invalid for option "size"')}function us(x0,u0,v0){return cs(x0),x0<=0?rs(x0):u0!==void 0?typeof v0=="string"?rs(x0).fill(u0,v0):rs(x0).fill(u0):rs(x0)}ts.alloc=function(x0,u0,v0){return us(x0,u0,v0)};function ps(x0){return cs(x0),rs(x0<0?0:n0(x0)|0)}ts.allocUnsafe=function(x0){return ps(x0)},ts.allocUnsafeSlow=function(x0){return ps(x0)};function bs(x0,u0){if((typeof u0!="string"||u0==="")&&(u0="utf8"),!ts.isEncoding(u0))throw new TypeError("Unknown encoding: "+u0);const v0=d0(x0,u0)|0;let _0=rs(v0);const T0=_0.write(x0,u0);return T0!==v0&&(_0=_0.slice(0,T0)),_0}function e0(x0){const u0=x0.length<0?0:n0(x0.length)|0,v0=rs(u0);for(let _0=0;_0<u0;_0+=1)v0[_0]=x0[_0]&255;return v0}function gs(x0){if(D0(x0,An)){const u0=new An(x0);return Ds(u0.buffer,u0.byteOffset,u0.byteLength)}return e0(x0)}function Ds(x0,u0,v0){if(u0<0||x0.byteLength<u0)throw new RangeError('"offset" is outside of buffer bounds');if(x0.byteLength<u0+(v0||0))throw new RangeError('"length" is outside of buffer bounds');let _0;return u0===void 0&&v0===void 0?_0=new An(x0):v0===void 0?_0=new An(x0,u0):_0=new An(x0,u0,v0),Object.setPrototypeOf(_0,ts.prototype),_0}function i0(x0){if(ts.isBuffer(x0)){const u0=n0(x0.length)|0,v0=rs(u0);return v0.length===0||x0.copy(v0,0,0,u0),v0}if(x0.length!==void 0)return typeof x0.length!="number"||Eo(x0.length)?rs(0):e0(x0);if(x0.type==="Buffer"&&Array.isArray(x0.data))return e0(x0.data)}function n0(x0){if(x0>=_i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_i.toString(16)+" bytes");return x0|0}function c0(x0){return+x0!=x0&&(x0=0),ts.alloc(+x0)}ts.isBuffer=function(u0){return u0!=null&&u0._isBuffer===!0&&u0!==ts.prototype},ts.compare=function(u0,v0){if(D0(u0,An)&&(u0=ts.from(u0,u0.offset,u0.byteLength)),D0(v0,An)&&(v0=ts.from(v0,v0.offset,v0.byteLength)),!ts.isBuffer(u0)||!ts.isBuffer(v0))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u0===v0)return 0;let _0=u0.length,T0=v0.length;for(let j0=0,A0=Math.min(_0,T0);j0<A0;++j0)if(u0[j0]!==v0[j0]){_0=u0[j0],T0=v0[j0];break}return _0<T0?-1:T0<_0?1:0},ts.isEncoding=function(u0){switch(String(u0).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ts.concat=function(u0,v0){if(!Array.isArray(u0))throw new TypeError('"list" argument must be an Array of Buffers');if(u0.length===0)return ts.alloc(0);let _0;if(v0===void 0)for(v0=0,_0=0;_0<u0.length;++_0)v0+=u0[_0].length;const T0=ts.allocUnsafe(v0);let j0=0;for(_0=0;_0<u0.length;++_0){let A0=u0[_0];if(D0(A0,An))j0+A0.length>T0.length?(ts.isBuffer(A0)||(A0=ts.from(A0)),A0.copy(T0,j0)):An.prototype.set.call(T0,A0,j0);else if(ts.isBuffer(A0))A0.copy(T0,j0);else throw new TypeError('"list" argument must be an Array of Buffers');j0+=A0.length}return T0};function d0(x0,u0){if(ts.isBuffer(x0))return x0.length;if(ba.isView(x0)||D0(x0,ba))return x0.byteLength;if(typeof x0!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof x0);const v0=x0.length,_0=arguments.length>2&&arguments[2]===!0;if(!_0&&v0===0)return 0;let T0=!1;for(;;)switch(u0){case"ascii":case"latin1":case"binary":return v0;case"utf8":case"utf-8":return _o(x0).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v0*2;case"hex":return v0>>>1;case"base64":return To(x0).length;default:if(T0)return _0?-1:_o(x0).length;u0=(""+u0).toLowerCase(),T0=!0}}ts.byteLength=d0;function o0(x0,u0,v0){let _0=!1;if((u0===void 0||u0<0)&&(u0=0),u0>this.length||((v0===void 0||v0>this.length)&&(v0=this.length),v0<=0)||(v0>>>=0,u0>>>=0,v0<=u0))return"";for(x0||(x0="utf8");;)switch(x0){case"hex":return r0(this,u0,v0);case"utf8":case"utf-8":return ls(this,u0,v0);case"ascii":return ga(this,u0,v0);case"latin1":case"binary":return as(this,u0,v0);case"base64":return os(this,u0,v0);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a0(this,u0,v0);default:if(_0)throw new TypeError("Unknown encoding: "+x0);x0=(x0+"").toLowerCase(),_0=!0}}ts.prototype._isBuffer=!0;function g0(x0,u0,v0){const _0=x0[u0];x0[u0]=x0[v0],x0[v0]=_0}ts.prototype.swap16=function(){const u0=this.length;if(u0%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let v0=0;v0<u0;v0+=2)g0(this,v0,v0+1);return this},ts.prototype.swap32=function(){const u0=this.length;if(u0%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let v0=0;v0<u0;v0+=4)g0(this,v0,v0+3),g0(this,v0+1,v0+2);return this},ts.prototype.swap64=function(){const u0=this.length;if(u0%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let v0=0;v0<u0;v0+=8)g0(this,v0,v0+7),g0(this,v0+1,v0+6),g0(this,v0+2,v0+5),g0(this,v0+3,v0+4);return this},ts.prototype.toString=function(){const u0=this.length;return u0===0?"":arguments.length===0?ls(this,0,u0):o0.apply(this,arguments)},ts.prototype.toLocaleString=ts.prototype.toString,ts.prototype.equals=function(u0){if(!ts.isBuffer(u0))throw new TypeError("Argument must be a Buffer");return this===u0?!0:ts.compare(this,u0)===0},ts.prototype.inspect=function(){let u0="";const v0=vn.INSPECT_MAX_BYTES;return u0=this.toString("hex",0,v0).replace(/(.{2})/g,"$1 ").trim(),this.length>v0&&(u0+=" ... "),"<Buffer "+u0+">"},Cn&&(ts.prototype[Cn]=ts.prototype.inspect),ts.prototype.compare=function(u0,v0,_0,T0,j0){if(D0(u0,An)&&(u0=ts.from(u0,u0.offset,u0.byteLength)),!ts.isBuffer(u0))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u0);if(v0===void 0&&(v0=0),_0===void 0&&(_0=u0?u0.length:0),T0===void 0&&(T0=0),j0===void 0&&(j0=this.length),v0<0||_0>u0.length||T0<0||j0>this.length)throw new RangeError("out of range index");if(T0>=j0&&v0>=_0)return 0;if(T0>=j0)return-1;if(v0>=_0)return 1;if(v0>>>=0,_0>>>=0,T0>>>=0,j0>>>=0,this===u0)return 0;let A0=j0-T0,U0=_0-v0;const $o=Math.min(A0,U0),L0=this.slice(T0,j0),V0=u0.slice(v0,_0);for(let Mo=0;Mo<$o;++Mo)if(L0[Mo]!==V0[Mo]){A0=L0[Mo],U0=V0[Mo];break}return A0<U0?-1:U0<A0?1:0};function w0(x0,u0,v0,_0,T0){if(x0.length===0)return-1;if(typeof v0=="string"?(_0=v0,v0=0):v0>2147483647?v0=2147483647:v0<-2147483648&&(v0=-2147483648),v0=+v0,Eo(v0)&&(v0=T0?0:x0.length-1),v0<0&&(v0=x0.length+v0),v0>=x0.length){if(T0)return-1;v0=x0.length-1}else if(v0<0)if(T0)v0=0;else return-1;if(typeof u0=="string"&&(u0=ts.from(u0,_0)),ts.isBuffer(u0))return u0.length===0?-1:M0(x0,u0,v0,_0,T0);if(typeof u0=="number")return u0=u0&255,typeof An.prototype.indexOf=="function"?T0?An.prototype.indexOf.call(x0,u0,v0):An.prototype.lastIndexOf.call(x0,u0,v0):M0(x0,[u0],v0,_0,T0);throw new TypeError("val must be string, number or Buffer")}function M0(x0,u0,v0,_0,T0){let j0=1,A0=x0.length,U0=u0.length;if(_0!==void 0&&(_0=String(_0).toLowerCase(),_0==="ucs2"||_0==="ucs-2"||_0==="utf16le"||_0==="utf-16le")){if(x0.length<2||u0.length<2)return-1;j0=2,A0/=2,U0/=2,v0/=2}function $o(V0,Mo){return j0===1?V0[Mo]:V0.readUInt16BE(Mo*j0)}let L0;if(T0){let V0=-1;for(L0=v0;L0<A0;L0++)if($o(x0,L0)===$o(u0,V0===-1?0:L0-V0)){if(V0===-1&&(V0=L0),L0-V0+1===U0)return V0*j0}else V0!==-1&&(L0-=L0-V0),V0=-1}else for(v0+U0>A0&&(v0=A0-U0),L0=v0;L0>=0;L0--){let V0=!0;for(let Mo=0;Mo<U0;Mo++)if($o(x0,L0+Mo)!==$o(u0,Mo)){V0=!1;break}if(V0)return L0}return-1}ts.prototype.includes=function(u0,v0,_0){return this.indexOf(u0,v0,_0)!==-1},ts.prototype.indexOf=function(u0,v0,_0){return w0(this,u0,v0,_0,!0)},ts.prototype.lastIndexOf=function(u0,v0,_0){return w0(this,u0,v0,_0,!1)};function ds(x0,u0,v0,_0){v0=Number(v0)||0;const T0=x0.length-v0;_0?(_0=Number(_0),_0>T0&&(_0=T0)):_0=T0;const j0=u0.length;_0>j0/2&&(_0=j0/2);let A0;for(A0=0;A0<_0;++A0){const U0=parseInt(u0.substr(A0*2,2),16);if(Eo(U0))return A0;x0[v0+A0]=U0}return A0}function na(x0,u0,v0,_0){return k0(_o(u0,x0.length-v0),x0,v0,_0)}function _a(x0,u0,v0,_0){return k0(O0(u0),x0,v0,_0)}function es(x0,u0,v0,_0){return k0(To(u0),x0,v0,_0)}function ns(x0,u0,v0,_0){return k0(B0(u0,x0.length-v0),x0,v0,_0)}ts.prototype.write=function(u0,v0,_0,T0){if(v0===void 0)T0="utf8",_0=this.length,v0=0;else if(_0===void 0&&typeof v0=="string")T0=v0,_0=this.length,v0=0;else if(isFinite(v0))v0=v0>>>0,isFinite(_0)?(_0=_0>>>0,T0===void 0&&(T0="utf8")):(T0=_0,_0=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const j0=this.length-v0;if((_0===void 0||_0>j0)&&(_0=j0),u0.length>0&&(_0<0||v0<0)||v0>this.length)throw new RangeError("Attempt to write outside buffer bounds");T0||(T0="utf8");let A0=!1;for(;;)switch(T0){case"hex":return ds(this,u0,v0,_0);case"utf8":case"utf-8":return na(this,u0,v0,_0);case"ascii":case"latin1":case"binary":return _a(this,u0,v0,_0);case"base64":return es(this,u0,v0,_0);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ns(this,u0,v0,_0);default:if(A0)throw new TypeError("Unknown encoding: "+T0);T0=(""+T0).toLowerCase(),A0=!0}},ts.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function os(x0,u0,v0){return u0===0&&v0===x0.length?fn.fromByteArray(x0):fn.fromByteArray(x0.slice(u0,v0))}function ls(x0,u0,v0){v0=Math.min(x0.length,v0);const _0=[];let T0=u0;for(;T0<v0;){const j0=x0[T0];let A0=null,U0=j0>239?4:j0>223?3:j0>191?2:1;if(T0+U0<=v0){let $o,L0,V0,Mo;switch(U0){case 1:j0<128&&(A0=j0);break;case 2:$o=x0[T0+1],($o&192)===128&&(Mo=(j0&31)<<6|$o&63,Mo>127&&(A0=Mo));break;case 3:$o=x0[T0+1],L0=x0[T0+2],($o&192)===128&&(L0&192)===128&&(Mo=(j0&15)<<12|($o&63)<<6|L0&63,Mo>2047&&(Mo<55296||Mo>57343)&&(A0=Mo));break;case 4:$o=x0[T0+1],L0=x0[T0+2],V0=x0[T0+3],($o&192)===128&&(L0&192)===128&&(V0&192)===128&&(Mo=(j0&15)<<18|($o&63)<<12|(L0&63)<<6|V0&63,Mo>65535&&Mo<1114112&&(A0=Mo))}}A0===null?(A0=65533,U0=1):A0>65535&&(A0-=65536,_0.push(A0>>>10&1023|55296),A0=56320|A0&1023),_0.push(A0),T0+=U0}return ss(_0)}const hs=4096;function ss(x0){const u0=x0.length;if(u0<=hs)return String.fromCharCode.apply(String,x0);let v0="",_0=0;for(;_0<u0;)v0+=String.fromCharCode.apply(String,x0.slice(_0,_0+=hs));return v0}function ga(x0,u0,v0){let _0="";v0=Math.min(x0.length,v0);for(let T0=u0;T0<v0;++T0)_0+=String.fromCharCode(x0[T0]&127);return _0}function as(x0,u0,v0){let _0="";v0=Math.min(x0.length,v0);for(let T0=u0;T0<v0;++T0)_0+=String.fromCharCode(x0[T0]);return _0}function r0(x0,u0,v0){const _0=x0.length;(!u0||u0<0)&&(u0=0),(!v0||v0<0||v0>_0)&&(v0=_0);let T0="";for(let j0=u0;j0<v0;++j0)T0+=N0[x0[j0]];return T0}function a0(x0,u0,v0){const _0=x0.slice(u0,v0);let T0="";for(let j0=0;j0<_0.length-1;j0+=2)T0+=String.fromCharCode(_0[j0]+_0[j0+1]*256);return T0}ts.prototype.slice=function(u0,v0){const _0=this.length;u0=~~u0,v0=v0===void 0?_0:~~v0,u0<0?(u0+=_0,u0<0&&(u0=0)):u0>_0&&(u0=_0),v0<0?(v0+=_0,v0<0&&(v0=0)):v0>_0&&(v0=_0),v0<u0&&(v0=u0);const T0=this.subarray(u0,v0);return Object.setPrototypeOf(T0,ts.prototype),T0};function l0(x0,u0,v0){if(x0%1!==0||x0<0)throw new RangeError("offset is not uint");if(x0+u0>v0)throw new RangeError("Trying to access beyond buffer length")}ts.prototype.readUintLE=ts.prototype.readUIntLE=function(u0,v0,_0){u0=u0>>>0,v0=v0>>>0,_0||l0(u0,v0,this.length);let T0=this[u0],j0=1,A0=0;for(;++A0<v0&&(j0*=256);)T0+=this[u0+A0]*j0;return T0},ts.prototype.readUintBE=ts.prototype.readUIntBE=function(u0,v0,_0){u0=u0>>>0,v0=v0>>>0,_0||l0(u0,v0,this.length);let T0=this[u0+--v0],j0=1;for(;v0>0&&(j0*=256);)T0+=this[u0+--v0]*j0;return T0},ts.prototype.readUint8=ts.prototype.readUInt8=function(u0,v0){return u0=u0>>>0,v0||l0(u0,1,this.length),this[u0]},ts.prototype.readUint16LE=ts.prototype.readUInt16LE=function(u0,v0){return u0=u0>>>0,v0||l0(u0,2,this.length),this[u0]|this[u0+1]<<8},ts.prototype.readUint16BE=ts.prototype.readUInt16BE=function(u0,v0){return u0=u0>>>0,v0||l0(u0,2,this.length),this[u0]<<8|this[u0+1]},ts.prototype.readUint32LE=ts.prototype.readUInt32LE=function(u0,v0){return u0=u0>>>0,v0||l0(u0,4,this.length),(this[u0]|this[u0+1]<<8|this[u0+2]<<16)+this[u0+3]*16777216},ts.prototype.readUint32BE=ts.prototype.readUInt32BE=function(u0,v0){return u0=u0>>>0,v0||l0(u0,4,this.length),this[u0]*16777216+(this[u0+1]<<16|this[u0+2]<<8|this[u0+3])},ts.prototype.readBigUInt64LE=F0(function(u0){u0=u0>>>0,$0(u0,"offset");const v0=this[u0],_0=this[u0+7];(v0===void 0||_0===void 0)&&vo(u0,this.length-8);const T0=v0+this[++u0]*2**8+this[++u0]*2**16+this[++u0]*2**24,j0=this[++u0]+this[++u0]*2**8+this[++u0]*2**16+_0*2**24;return BigInt(T0)+(BigInt(j0)<<BigInt(32))}),ts.prototype.readBigUInt64BE=F0(function(u0){u0=u0>>>0,$0(u0,"offset");const v0=this[u0],_0=this[u0+7];(v0===void 0||_0===void 0)&&vo(u0,this.length-8);const T0=v0*2**24+this[++u0]*2**16+this[++u0]*2**8+this[++u0],j0=this[++u0]*2**24+this[++u0]*2**16+this[++u0]*2**8+_0;return(BigInt(T0)<<BigInt(32))+BigInt(j0)}),ts.prototype.readIntLE=function(u0,v0,_0){u0=u0>>>0,v0=v0>>>0,_0||l0(u0,v0,this.length);let T0=this[u0],j0=1,A0=0;for(;++A0<v0&&(j0*=256);)T0+=this[u0+A0]*j0;return j0*=128,T0>=j0&&(T0-=Math.pow(2,8*v0)),T0},ts.prototype.readIntBE=function(u0,v0,_0){u0=u0>>>0,v0=v0>>>0,_0||l0(u0,v0,this.length);let T0=v0,j0=1,A0=this[u0+--T0];for(;T0>0&&(j0*=256);)A0+=this[u0+--T0]*j0;return j0*=128,A0>=j0&&(A0-=Math.pow(2,8*v0)),A0},ts.prototype.readInt8=function(u0,v0){return u0=u0>>>0,v0||l0(u0,1,this.length),this[u0]&128?(255-this[u0]+1)*-1:this[u0]},ts.prototype.readInt16LE=function(u0,v0){u0=u0>>>0,v0||l0(u0,2,this.length);const _0=this[u0]|this[u0+1]<<8;return _0&32768?_0|4294901760:_0},ts.prototype.readInt16BE=function(u0,v0){u0=u0>>>0,v0||l0(u0,2,this.length);const _0=this[u0+1]|this[u0]<<8;return _0&32768?_0|4294901760:_0},ts.prototype.readInt32LE=function(u0,v0){return u0=u0>>>0,v0||l0(u0,4,this.length),this[u0]|this[u0+1]<<8|this[u0+2]<<16|this[u0+3]<<24},ts.prototype.readInt32BE=function(u0,v0){return u0=u0>>>0,v0||l0(u0,4,this.length),this[u0]<<24|this[u0+1]<<16|this[u0+2]<<8|this[u0+3]},ts.prototype.readBigInt64LE=F0(function(u0){u0=u0>>>0,$0(u0,"offset");const v0=this[u0],_0=this[u0+7];(v0===void 0||_0===void 0)&&vo(u0,this.length-8);const T0=this[u0+4]+this[u0+5]*2**8+this[u0+6]*2**16+(_0<<24);return(BigInt(T0)<<BigInt(32))+BigInt(v0+this[++u0]*2**8+this[++u0]*2**16+this[++u0]*2**24)}),ts.prototype.readBigInt64BE=F0(function(u0){u0=u0>>>0,$0(u0,"offset");const v0=this[u0],_0=this[u0+7];(v0===void 0||_0===void 0)&&vo(u0,this.length-8);const T0=(v0<<24)+this[++u0]*2**16+this[++u0]*2**8+this[++u0];return(BigInt(T0)<<BigInt(32))+BigInt(this[++u0]*2**24+this[++u0]*2**16+this[++u0]*2**8+_0)}),ts.prototype.readFloatLE=function(u0,v0){return u0=u0>>>0,v0||l0(u0,4,this.length),En.read(this,u0,!0,23,4)},ts.prototype.readFloatBE=function(u0,v0){return u0=u0>>>0,v0||l0(u0,4,this.length),En.read(this,u0,!1,23,4)},ts.prototype.readDoubleLE=function(u0,v0){return u0=u0>>>0,v0||l0(u0,8,this.length),En.read(this,u0,!0,52,8)},ts.prototype.readDoubleBE=function(u0,v0){return u0=u0>>>0,v0||l0(u0,8,this.length),En.read(this,u0,!1,52,8)};function s0(x0,u0,v0,_0,T0,j0){if(!ts.isBuffer(x0))throw new TypeError('"buffer" argument must be a Buffer instance');if(u0>T0||u0<j0)throw new RangeError('"value" argument is out of bounds');if(v0+_0>x0.length)throw new RangeError("Index out of range")}ts.prototype.writeUintLE=ts.prototype.writeUIntLE=function(u0,v0,_0,T0){if(u0=+u0,v0=v0>>>0,_0=_0>>>0,!T0){const U0=Math.pow(2,8*_0)-1;s0(this,u0,v0,_0,U0,0)}let j0=1,A0=0;for(this[v0]=u0&255;++A0<_0&&(j0*=256);)this[v0+A0]=u0/j0&255;return v0+_0},ts.prototype.writeUintBE=ts.prototype.writeUIntBE=function(u0,v0,_0,T0){if(u0=+u0,v0=v0>>>0,_0=_0>>>0,!T0){const U0=Math.pow(2,8*_0)-1;s0(this,u0,v0,_0,U0,0)}let j0=_0-1,A0=1;for(this[v0+j0]=u0&255;--j0>=0&&(A0*=256);)this[v0+j0]=u0/A0&255;return v0+_0},ts.prototype.writeUint8=ts.prototype.writeUInt8=function(u0,v0,_0){return u0=+u0,v0=v0>>>0,_0||s0(this,u0,v0,1,255,0),this[v0]=u0&255,v0+1},ts.prototype.writeUint16LE=ts.prototype.writeUInt16LE=function(u0,v0,_0){return u0=+u0,v0=v0>>>0,_0||s0(this,u0,v0,2,65535,0),this[v0]=u0&255,this[v0+1]=u0>>>8,v0+2},ts.prototype.writeUint16BE=ts.prototype.writeUInt16BE=function(u0,v0,_0){return u0=+u0,v0=v0>>>0,_0||s0(this,u0,v0,2,65535,0),this[v0]=u0>>>8,this[v0+1]=u0&255,v0+2},ts.prototype.writeUint32LE=ts.prototype.writeUInt32LE=function(u0,v0,_0){return u0=+u0,v0=v0>>>0,_0||s0(this,u0,v0,4,4294967295,0),this[v0+3]=u0>>>24,this[v0+2]=u0>>>16,this[v0+1]=u0>>>8,this[v0]=u0&255,v0+4},ts.prototype.writeUint32BE=ts.prototype.writeUInt32BE=function(u0,v0,_0){return u0=+u0,v0=v0>>>0,_0||s0(this,u0,v0,4,4294967295,0),this[v0]=u0>>>24,this[v0+1]=u0>>>16,this[v0+2]=u0>>>8,this[v0+3]=u0&255,v0+4};function b0(x0,u0,v0,_0,T0){C0(u0,_0,T0,x0,v0,7);let j0=Number(u0&BigInt(4294967295));x0[v0++]=j0,j0=j0>>8,x0[v0++]=j0,j0=j0>>8,x0[v0++]=j0,j0=j0>>8,x0[v0++]=j0;let A0=Number(u0>>BigInt(32)&BigInt(4294967295));return x0[v0++]=A0,A0=A0>>8,x0[v0++]=A0,A0=A0>>8,x0[v0++]=A0,A0=A0>>8,x0[v0++]=A0,v0}function f0(x0,u0,v0,_0,T0){C0(u0,_0,T0,x0,v0,7);let j0=Number(u0&BigInt(4294967295));x0[v0+7]=j0,j0=j0>>8,x0[v0+6]=j0,j0=j0>>8,x0[v0+5]=j0,j0=j0>>8,x0[v0+4]=j0;let A0=Number(u0>>BigInt(32)&BigInt(4294967295));return x0[v0+3]=A0,A0=A0>>8,x0[v0+2]=A0,A0=A0>>8,x0[v0+1]=A0,A0=A0>>8,x0[v0]=A0,v0+8}ts.prototype.writeBigUInt64LE=F0(function(u0,v0=0){return b0(this,u0,v0,BigInt(0),BigInt("0xffffffffffffffff"))}),ts.prototype.writeBigUInt64BE=F0(function(u0,v0=0){return f0(this,u0,v0,BigInt(0),BigInt("0xffffffffffffffff"))}),ts.prototype.writeIntLE=function(u0,v0,_0,T0){if(u0=+u0,v0=v0>>>0,!T0){const $o=Math.pow(2,8*_0-1);s0(this,u0,v0,_0,$o-1,-$o)}let j0=0,A0=1,U0=0;for(this[v0]=u0&255;++j0<_0&&(A0*=256);)u0<0&&U0===0&&this[v0+j0-1]!==0&&(U0=1),this[v0+j0]=(u0/A0>>0)-U0&255;return v0+_0},ts.prototype.writeIntBE=function(u0,v0,_0,T0){if(u0=+u0,v0=v0>>>0,!T0){const $o=Math.pow(2,8*_0-1);s0(this,u0,v0,_0,$o-1,-$o)}let j0=_0-1,A0=1,U0=0;for(this[v0+j0]=u0&255;--j0>=0&&(A0*=256);)u0<0&&U0===0&&this[v0+j0+1]!==0&&(U0=1),this[v0+j0]=(u0/A0>>0)-U0&255;return v0+_0},ts.prototype.writeInt8=function(u0,v0,_0){return u0=+u0,v0=v0>>>0,_0||s0(this,u0,v0,1,127,-128),u0<0&&(u0=255+u0+1),this[v0]=u0&255,v0+1},ts.prototype.writeInt16LE=function(u0,v0,_0){return u0=+u0,v0=v0>>>0,_0||s0(this,u0,v0,2,32767,-32768),this[v0]=u0&255,this[v0+1]=u0>>>8,v0+2},ts.prototype.writeInt16BE=function(u0,v0,_0){return u0=+u0,v0=v0>>>0,_0||s0(this,u0,v0,2,32767,-32768),this[v0]=u0>>>8,this[v0+1]=u0&255,v0+2},ts.prototype.writeInt32LE=function(u0,v0,_0){return u0=+u0,v0=v0>>>0,_0||s0(this,u0,v0,4,2147483647,-2147483648),this[v0]=u0&255,this[v0+1]=u0>>>8,this[v0+2]=u0>>>16,this[v0+3]=u0>>>24,v0+4},ts.prototype.writeInt32BE=function(u0,v0,_0){return u0=+u0,v0=v0>>>0,_0||s0(this,u0,v0,4,2147483647,-2147483648),u0<0&&(u0=4294967295+u0+1),this[v0]=u0>>>24,this[v0+1]=u0>>>16,this[v0+2]=u0>>>8,this[v0+3]=u0&255,v0+4},ts.prototype.writeBigInt64LE=F0(function(u0,v0=0){return b0(this,u0,v0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),ts.prototype.writeBigInt64BE=F0(function(u0,v0=0){return f0(this,u0,v0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function m0(x0,u0,v0,_0,T0,j0){if(v0+_0>x0.length)throw new RangeError("Index out of range");if(v0<0)throw new RangeError("Index out of range")}function y0(x0,u0,v0,_0,T0){return u0=+u0,v0=v0>>>0,T0||m0(x0,u0,v0,4),En.write(x0,u0,v0,_0,23,4),v0+4}ts.prototype.writeFloatLE=function(u0,v0,_0){return y0(this,u0,v0,!0,_0)},ts.prototype.writeFloatBE=function(u0,v0,_0){return y0(this,u0,v0,!1,_0)};function t0(x0,u0,v0,_0,T0){return u0=+u0,v0=v0>>>0,T0||m0(x0,u0,v0,8),En.write(x0,u0,v0,_0,52,8),v0+8}ts.prototype.writeDoubleLE=function(u0,v0,_0){return t0(this,u0,v0,!0,_0)},ts.prototype.writeDoubleBE=function(u0,v0,_0){return t0(this,u0,v0,!1,_0)},ts.prototype.copy=function(u0,v0,_0,T0){if(!ts.isBuffer(u0))throw new TypeError("argument should be a Buffer");if(_0||(_0=0),!T0&&T0!==0&&(T0=this.length),v0>=u0.length&&(v0=u0.length),v0||(v0=0),T0>0&&T0<_0&&(T0=_0),T0===_0||u0.length===0||this.length===0)return 0;if(v0<0)throw new RangeError("targetStart out of bounds");if(_0<0||_0>=this.length)throw new RangeError("Index out of range");if(T0<0)throw new RangeError("sourceEnd out of bounds");T0>this.length&&(T0=this.length),u0.length-v0<T0-_0&&(T0=u0.length-v0+_0);const j0=T0-_0;return this===u0&&typeof An.prototype.copyWithin=="function"?this.copyWithin(v0,_0,T0):An.prototype.set.call(u0,this.subarray(_0,T0),v0),j0},ts.prototype.fill=function(u0,v0,_0,T0){if(typeof u0=="string"){if(typeof v0=="string"?(T0=v0,v0=0,_0=this.length):typeof _0=="string"&&(T0=_0,_0=this.length),T0!==void 0&&typeof T0!="string")throw new TypeError("encoding must be a string");if(typeof T0=="string"&&!ts.isEncoding(T0))throw new TypeError("Unknown encoding: "+T0);if(u0.length===1){const A0=u0.charCodeAt(0);(T0==="utf8"&&A0<128||T0==="latin1")&&(u0=A0)}}else typeof u0=="number"?u0=u0&255:typeof u0=="boolean"&&(u0=Number(u0));if(v0<0||this.length<v0||this.length<_0)throw new RangeError("Out of range index");if(_0<=v0)return this;v0=v0>>>0,_0=_0===void 0?this.length:_0>>>0,u0||(u0=0);let j0;if(typeof u0=="number")for(j0=v0;j0<_0;++j0)this[j0]=u0;else{const A0=ts.isBuffer(u0)?u0:ts.from(u0,T0),U0=A0.length;if(U0===0)throw new TypeError('The value "'+u0+'" is invalid for argument "value"');for(j0=0;j0<_0-v0;++j0)this[j0+v0]=A0[j0%U0]}return this};const h0={};function p0(x0,u0,v0){h0[x0]=class extends v0{constructor(){super(),Object.defineProperty(this,"message",{value:u0.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${x0}]`,this.stack,delete this.name}get code(){return x0}set code(T0){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:T0,writable:!0})}toString(){return`${this.name} [${x0}]: ${this.message}`}}}p0("ERR_BUFFER_OUT_OF_BOUNDS",function(x0){return x0?`${x0} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),p0("ERR_INVALID_ARG_TYPE",function(x0,u0){return`The "${x0}" argument must be of type number. Received type ${typeof u0}`},TypeError),p0("ERR_OUT_OF_RANGE",function(x0,u0,v0){let _0=`The value of "${x0}" is out of range.`,T0=v0;return Number.isInteger(v0)&&Math.abs(v0)>2**32?T0=E0(String(v0)):typeof v0=="bigint"&&(T0=String(v0),(v0>BigInt(2)**BigInt(32)||v0<-(BigInt(2)**BigInt(32)))&&(T0=E0(T0)),T0+="n"),_0+=` It must be ${u0}. Received ${T0}`,_0},RangeError);function E0(x0){let u0="",v0=x0.length;const _0=x0[0]==="-"?1:0;for(;v0>=_0+4;v0-=3)u0=`_${x0.slice(v0-3,v0)}${u0}`;return`${x0.slice(0,v0)}${u0}`}function I0(x0,u0,v0){$0(u0,"offset"),(x0[u0]===void 0||x0[u0+v0]===void 0)&&vo(u0,x0.length-(v0+1))}function C0(x0,u0,v0,_0,T0,j0){if(x0>v0||x0<u0){const A0=typeof u0=="bigint"?"n":"";let U0;throw u0===0||u0===BigInt(0)?U0=`>= 0${A0} and < 2${A0} ** ${(j0+1)*8}${A0}`:U0=`>= -(2${A0} ** ${(j0+1)*8-1}${A0}) and < 2 ** ${(j0+1)*8-1}${A0}`,new h0.ERR_OUT_OF_RANGE("value",U0,x0)}I0(_0,T0,j0)}function $0(x0,u0){if(typeof x0!="number")throw new h0.ERR_INVALID_ARG_TYPE(u0,"number",x0)}function vo(x0,u0,v0){throw Math.floor(x0)!==x0?($0(x0,v0),new h0.ERR_OUT_OF_RANGE("offset","an integer",x0)):u0<0?new h0.ERR_BUFFER_OUT_OF_BOUNDS:new h0.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${u0}`,x0)}const P0=/[^+/0-9A-Za-z-_]/g;function S0(x0){if(x0=x0.split("=")[0],x0=x0.trim().replace(P0,""),x0.length<2)return"";for(;x0.length%4!==0;)x0=x0+"=";return x0}function _o(x0,u0){u0=u0||1/0;let v0;const _0=x0.length;let T0=null;const j0=[];for(let A0=0;A0<_0;++A0){if(v0=x0.charCodeAt(A0),v0>55295&&v0<57344){if(!T0){if(v0>56319){(u0-=3)>-1&&j0.push(239,191,189);continue}else if(A0+1===_0){(u0-=3)>-1&&j0.push(239,191,189);continue}T0=v0;continue}if(v0<56320){(u0-=3)>-1&&j0.push(239,191,189),T0=v0;continue}v0=(T0-55296<<10|v0-56320)+65536}else T0&&(u0-=3)>-1&&j0.push(239,191,189);if(T0=null,v0<128){if((u0-=1)<0)break;j0.push(v0)}else if(v0<2048){if((u0-=2)<0)break;j0.push(v0>>6|192,v0&63|128)}else if(v0<65536){if((u0-=3)<0)break;j0.push(v0>>12|224,v0>>6&63|128,v0&63|128)}else if(v0<1114112){if((u0-=4)<0)break;j0.push(v0>>18|240,v0>>12&63|128,v0>>6&63|128,v0&63|128)}else throw new Error("Invalid code point")}return j0}function O0(x0){const u0=[];for(let v0=0;v0<x0.length;++v0)u0.push(x0.charCodeAt(v0)&255);return u0}function B0(x0,u0){let v0,_0,T0;const j0=[];for(let A0=0;A0<x0.length&&!((u0-=2)<0);++A0)v0=x0.charCodeAt(A0),_0=v0>>8,T0=v0%256,j0.push(T0),j0.push(_0);return j0}function To(x0){return fn.toByteArray(S0(x0))}function k0(x0,u0,v0,_0){let T0;for(T0=0;T0<_0&&!(T0+v0>=u0.length||T0>=x0.length);++T0)u0[T0+v0]=x0[T0];return T0}function D0(x0,u0){return x0 instanceof u0||x0!=null&&x0.constructor!=null&&x0.constructor.name!=null&&x0.constructor.name===u0.name}function Eo(x0){return x0!==x0}const N0=function(){const x0="0123456789abcdef",u0=new Array(256);for(let v0=0;v0<16;++v0){const _0=v0*16;for(let T0=0;T0<16;++T0)u0[_0+T0]=x0[v0]+x0[T0]}return u0}();function F0(x0){return typeof BigInt>"u"?Co:x0}function Co(){throw new Error("BigInt not supported")}})(buffer$1);const Buffer$7=buffer$1.Buffer,Blob$1=buffer$1.Blob,BlobOptions=buffer$1.BlobOptions,Buffer$1$1=buffer$1.Buffer,File$1=buffer$1.File,FileOptions=buffer$1.FileOptions,INSPECT_MAX_BYTES=buffer$1.INSPECT_MAX_BYTES,SlowBuffer=buffer$1.SlowBuffer,TranscodeEncoding=buffer$1.TranscodeEncoding,atob$1=buffer$1.atob,btoa$1=buffer$1.btoa,constants$4=buffer$1.constants,isAscii=buffer$1.isAscii,isUtf8=buffer$1.isUtf8,kMaxLength=buffer$1.kMaxLength,kStringMaxLength=buffer$1.kStringMaxLength,resolveObjectURL=buffer$1.resolveObjectURL,transcode=buffer$1.transcode,dist$1=Object.freeze(Object.defineProperty({__proto__:null,Blob:Blob$1,BlobOptions,Buffer:Buffer$1$1,File:File$1,FileOptions,INSPECT_MAX_BYTES,SlowBuffer,TranscodeEncoding,atob:atob$1,btoa:btoa$1,constants:constants$4,default:Buffer$7,isAscii,isUtf8,kMaxLength,kStringMaxLength,resolveObjectURL,transcode},Symbol.toStringTag,{value:"Module"})),scriptRel="modulepreload",assetsURL=function(vn){return"/"+vn},seen={},__vitePreload=function(fn,En,Cn){let _i=Promise.resolve();if(En&&En.length>0){document.getElementsByTagName("link");const ba=document.querySelector("meta[property=csp-nonce]"),xa=(ba==null?void 0:ba.nonce)||(ba==null?void 0:ba.getAttribute("nonce"));_i=Promise.allSettled(En.map($a=>{if($a=assetsURL($a),$a in seen)return;seen[$a]=!0;const rs=$a.endsWith(".css"),ts=rs?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${$a}"]${ts}`))return;const is=document.createElement("link");if(is.rel=rs?"stylesheet":scriptRel,rs||(is.as="script"),is.crossOrigin="",is.href=$a,xa&&is.setAttribute("nonce",xa),document.head.appendChild(is),rs)return new Promise((cs,us)=>{is.addEventListener("load",cs),is.addEventListener("error",()=>us(new Error(`Unable to preload CSS for ${$a}`)))})}))}function An(ba){const xa=new Event("vite:preloadError",{cancelable:!0});if(xa.payload=ba,window.dispatchEvent(xa),!xa.defaultPrevented)throw ba}return _i.then(ba=>{for(const xa of ba||[])xa.status==="rejected"&&An(xa.reason);return fn().catch(An)})};function _objectWithoutPropertiesLoose(vn,fn){if(vn==null)return{};var En={},Cn=Object.keys(vn),_i,An;for(An=0;An<Cn.length;An++)_i=Cn[An],!(fn.indexOf(_i)>=0)&&(En[_i]=vn[_i]);return En}var _excluded$X=["color"],ChevronLeftIcon=reactExports.forwardRef(function(vn,fn){var En=vn.color,Cn=En===void 0?"currentColor":En,_i=_objectWithoutPropertiesLoose(vn,_excluded$X);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_i,{ref:fn}),reactExports.createElement("path",{d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:Cn,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$1r=["color"],Cross2Icon=reactExports.forwardRef(function(vn,fn){var En=vn.color,Cn=En===void 0?"currentColor":En,_i=_objectWithoutPropertiesLoose(vn,_excluded$1r);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_i,{ref:fn}),reactExports.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:Cn,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$23=["color"],ExternalLinkIcon=reactExports.forwardRef(function(vn,fn){var En=vn.color,Cn=En===void 0?"currentColor":En,_i=_objectWithoutPropertiesLoose(vn,_excluded$23);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_i,{ref:fn}),reactExports.createElement("path",{d:"M3 2C2.44772 2 2 2.44772 2 3V12C2 12.5523 2.44772 13 3 13H12C12.5523 13 13 12.5523 13 12V8.5C13 8.22386 12.7761 8 12.5 8C12.2239 8 12 8.22386 12 8.5V12H3V3L6.5 3C6.77614 3 7 2.77614 7 2.5C7 2.22386 6.77614 2 6.5 2H3ZM12.8536 2.14645C12.9015 2.19439 12.9377 2.24964 12.9621 2.30861C12.9861 2.36669 12.9996 2.4303 13 2.497L13 2.5V2.50049V5.5C13 5.77614 12.7761 6 12.5 6C12.2239 6 12 5.77614 12 5.5V3.70711L6.85355 8.85355C6.65829 9.04882 6.34171 9.04882 6.14645 8.85355C5.95118 8.65829 5.95118 8.34171 6.14645 8.14645L11.2929 3H9.5C9.22386 3 9 2.77614 9 2.5C9 2.22386 9.22386 2 9.5 2H12.4999H12.5C12.5678 2 12.6324 2.01349 12.6914 2.03794C12.7504 2.06234 12.8056 2.09851 12.8536 2.14645Z",fill:Cn,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$3E=["color"],ReloadIcon=reactExports.forwardRef(function(vn,fn){var En=vn.color,Cn=En===void 0?"currentColor":En,_i=_objectWithoutPropertiesLoose(vn,_excluded$3E);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_i,{ref:fn}),reactExports.createElement("path",{d:"M1.84998 7.49998C1.84998 4.66458 4.05979 1.84998 7.49998 1.84998C10.2783 1.84998 11.6515 3.9064 12.2367 5H10.5C10.2239 5 10 5.22386 10 5.5C10 5.77614 10.2239 6 10.5 6H13.5C13.7761 6 14 5.77614 14 5.5V2.5C14 2.22386 13.7761 2 13.5 2C13.2239 2 13 2.22386 13 2.5V4.31318C12.2955 3.07126 10.6659 0.849976 7.49998 0.849976C3.43716 0.849976 0.849976 4.18537 0.849976 7.49998C0.849976 10.8146 3.43716 14.15 7.49998 14.15C9.44382 14.15 11.0622 13.3808 12.2145 12.2084C12.8315 11.5806 13.3133 10.839 13.6418 10.0407C13.7469 9.78536 13.6251 9.49315 13.3698 9.38806C13.1144 9.28296 12.8222 9.40478 12.7171 9.66014C12.4363 10.3425 12.0251 10.9745 11.5013 11.5074C10.5295 12.4963 9.16504 13.15 7.49998 13.15C4.05979 13.15 1.84998 10.3354 1.84998 7.49998Z",fill:Cn,fillRule:"evenodd",clipRule:"evenodd"}))});const mauve$1={mauve1:"hsl(246, 6.0%, 9.0%)",mauve2:"hsl(240, 5.1%, 11.6%)",mauve3:"hsl(241, 5.0%, 14.3%)",mauve4:"hsl(242, 4.9%, 16.5%)",mauve5:"hsl(243, 4.9%, 18.8%)",mauve6:"hsl(244, 4.9%, 21.5%)",mauve7:"hsl(245, 4.9%, 25.4%)",mauve8:"hsl(247, 4.8%, 32.5%)",mauve9:"hsl(252, 4.0%, 45.2%)",mauve10:"hsl(247, 3.4%, 50.7%)",mauve11:"hsl(253, 4.0%, 63.7%)",mauve12:"hsl(256, 6.0%, 93.2%)"},green={green1:"hsl(136, 50.0%, 98.9%)",green2:"hsl(138, 62.5%, 96.9%)",green3:"hsl(139, 55.2%, 94.5%)",green4:"hsl(140, 48.7%, 91.0%)",green5:"hsl(141, 43.7%, 86.0%)",green6:"hsl(143, 40.3%, 79.0%)",green7:"hsl(146, 38.5%, 69.0%)",green8:"hsl(151, 40.2%, 54.1%)",green9:"hsl(151, 55.0%, 41.5%)",green10:"hsl(152, 57.5%, 37.6%)",green11:"hsl(153, 67.0%, 28.5%)",green12:"hsl(155, 40.0%, 14.0%)"},mauve={mauve1:"hsl(300, 20.0%, 99.0%)",mauve2:"hsl(300, 7.7%, 97.5%)",mauve3:"hsl(294, 5.5%, 95.3%)",mauve4:"hsl(289, 4.7%, 93.3%)",mauve5:"hsl(283, 4.4%, 91.3%)",mauve6:"hsl(278, 4.1%, 89.1%)",mauve7:"hsl(271, 3.9%, 86.3%)",mauve8:"hsl(255, 3.7%, 78.8%)",mauve9:"hsl(252, 4.0%, 57.3%)",mauve10:"hsl(253, 3.5%, 53.5%)",mauve11:"hsl(252, 4.0%, 44.8%)",mauve12:"hsl(260, 25.0%, 11.0%)"},tomato={tomato1:"hsl(10, 100%, 99.4%)",tomato2:"hsl(8, 100%, 98.4%)",tomato3:"hsl(8, 100%, 96.6%)",tomato4:"hsl(8, 100%, 94.3%)",tomato5:"hsl(8, 92.8%, 91.0%)",tomato6:"hsl(9, 84.7%, 86.3%)",tomato7:"hsl(10, 77.3%, 79.5%)",tomato8:"hsl(10, 71.6%, 71.0%)",tomato9:"hsl(10, 78.0%, 54.0%)",tomato10:"hsl(10, 71.5%, 50.0%)",tomato11:"hsl(10, 82.0%, 43.5%)",tomato12:"hsl(10, 50.0%, 13.5%)"};function _extends(){return _extends=Object.assign?Object.assign.bind():function(vn){for(var fn=1;fn<arguments.length;fn++){var En=arguments[fn];for(var Cn in En)({}).hasOwnProperty.call(En,Cn)&&(vn[Cn]=En[Cn])}return vn},_extends.apply(null,arguments)}function memoize(vn){var fn=Object.create(null);return function(En){return fn[En]===void 0&&(fn[En]=vn(En)),fn[En]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(vn){return reactPropsRegex.test(vn)||vn.charCodeAt(0)===111&&vn.charCodeAt(1)===110&&vn.charCodeAt(2)<91}),isDevelopment$1=!1;function sheetForTag(vn){if(vn.sheet)return vn.sheet;for(var fn=0;fn<document.styleSheets.length;fn++)if(document.styleSheets[fn].ownerNode===vn)return document.styleSheets[fn]}function createStyleElement(vn){var fn=document.createElement("style");return fn.setAttribute("data-emotion",vn.key),vn.nonce!==void 0&&fn.setAttribute("nonce",vn.nonce),fn.appendChild(document.createTextNode("")),fn.setAttribute("data-s",""),fn}var StyleSheet=function(){function vn(En){var Cn=this;this._insertTag=function(_i){var An;Cn.tags.length===0?Cn.insertionPoint?An=Cn.insertionPoint.nextSibling:Cn.prepend?An=Cn.container.firstChild:An=Cn.before:An=Cn.tags[Cn.tags.length-1].nextSibling,Cn.container.insertBefore(_i,An),Cn.tags.push(_i)},this.isSpeedy=En.speedy===void 0?!isDevelopment$1:En.speedy,this.tags=[],this.ctr=0,this.nonce=En.nonce,this.key=En.key,this.container=En.container,this.prepend=En.prepend,this.insertionPoint=En.insertionPoint,this.before=null}var fn=vn.prototype;return fn.hydrate=function(Cn){Cn.forEach(this._insertTag)},fn.insert=function(Cn){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var _i=this.tags[this.tags.length-1];if(this.isSpeedy){var An=sheetForTag(_i);try{An.insertRule(Cn,An.cssRules.length)}catch{}}else _i.appendChild(document.createTextNode(Cn));this.ctr++},fn.flush=function(){this.tags.forEach(function(Cn){var _i;return(_i=Cn.parentNode)==null?void 0:_i.removeChild(Cn)}),this.tags=[],this.ctr=0},vn}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from$2=String.fromCharCode,assign=Object.assign;function hash$7(vn,fn){return charat(vn,0)^45?(((fn<<2^charat(vn,0))<<2^charat(vn,1))<<2^charat(vn,2))<<2^charat(vn,3):0}function trim(vn){return vn.trim()}function match(vn,fn){return(vn=fn.exec(vn))?vn[0]:vn}function replace(vn,fn,En){return vn.replace(fn,En)}function indexof(vn,fn){return vn.indexOf(fn)}function charat(vn,fn){return vn.charCodeAt(fn)|0}function substr(vn,fn,En){return vn.slice(fn,En)}function strlen(vn){return vn.length}function sizeof(vn){return vn.length}function append(vn,fn){return fn.push(vn),vn}function combine$1(vn,fn){return vn.map(fn).join("")}var line=1,column=1,length$3=0,position$1=0,character=0,characters="";function node$2(vn,fn,En,Cn,_i,An,ba){return{value:vn,root:fn,parent:En,type:Cn,props:_i,children:An,line,column,length:ba,return:""}}function copy(vn,fn){return assign(node$2("",null,null,"",null,null,0),vn,{length:-vn.length},fn)}function char(){return character}function prev(){return character=position$1>0?charat(characters,--position$1):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$1<length$3?charat(characters,position$1++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position$1)}function caret(){return position$1}function slice(vn,fn){return substr(characters,vn,fn)}function token$1(vn){switch(vn){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(vn){return line=column=1,length$3=strlen(characters=vn),position$1=0,[]}function dealloc(vn){return characters="",vn}function delimit(vn){return trim(slice(position$1-1,delimiter(vn===91?vn+2:vn===40?vn+1:vn)))}function whitespace(vn){for(;(character=peek())&&character<33;)next();return token$1(vn)>2||token$1(character)>3?"":" "}function escaping(vn,fn){for(;--fn&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(vn,caret()+(fn<6&&peek()==32&&next()==32))}function delimiter(vn){for(;next();)switch(character){case vn:return position$1;case 34:case 39:vn!==34&&vn!==39&&delimiter(character);break;case 40:vn===41&&delimiter(vn);break;case 92:next();break}return position$1}function commenter(vn,fn){for(;next()&&vn+character!==57;)if(vn+character===84&&peek()===47)break;return"/*"+slice(fn,position$1-1)+"*"+from$2(vn===47?vn:next())}function identifier(vn){for(;!token$1(peek());)next();return slice(vn,position$1)}function compile(vn){return dealloc(parse$2("",null,null,null,[""],vn=alloc(vn),0,[0],vn))}function parse$2(vn,fn,En,Cn,_i,An,ba,xa,$a){for(var rs=0,ts=0,is=ba,cs=0,us=0,ps=0,bs=1,e0=1,gs=1,Ds=0,i0="",n0=_i,c0=An,d0=Cn,o0=i0;e0;)switch(ps=Ds,Ds=next()){case 40:if(ps!=108&&charat(o0,is-1)==58){indexof(o0+=replace(delimit(Ds),"&","&\f"),"&\f")!=-1&&(gs=-1);break}case 34:case 39:case 91:o0+=delimit(Ds);break;case 9:case 10:case 13:case 32:o0+=whitespace(ps);break;case 92:o0+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),fn,En),$a);break;default:o0+="/"}break;case 123*bs:xa[rs++]=strlen(o0)*gs;case 125*bs:case 59:case 0:switch(Ds){case 0:case 125:e0=0;case 59+ts:gs==-1&&(o0=replace(o0,/\f/g,"")),us>0&&strlen(o0)-is&&append(us>32?declaration(o0+";",Cn,En,is-1):declaration(replace(o0," ","")+";",Cn,En,is-2),$a);break;case 59:o0+=";";default:if(append(d0=ruleset(o0,fn,En,rs,ts,_i,xa,i0,n0=[],c0=[],is),An),Ds===123)if(ts===0)parse$2(o0,fn,d0,d0,n0,An,is,xa,c0);else switch(cs===99&&charat(o0,3)===110?100:cs){case 100:case 108:case 109:case 115:parse$2(vn,d0,d0,Cn&&append(ruleset(vn,d0,d0,0,0,_i,xa,i0,_i,n0=[],is),c0),_i,c0,is,xa,Cn?n0:c0);break;default:parse$2(o0,d0,d0,d0,[""],c0,0,xa,c0)}}rs=ts=us=0,bs=gs=1,i0=o0="",is=ba;break;case 58:is=1+strlen(o0),us=ps;default:if(bs<1){if(Ds==123)--bs;else if(Ds==125&&bs++==0&&prev()==125)continue}switch(o0+=from$2(Ds),Ds*bs){case 38:gs=ts>0?1:(o0+="\f",-1);break;case 44:xa[rs++]=(strlen(o0)-1)*gs,gs=1;break;case 64:peek()===45&&(o0+=delimit(next())),cs=peek(),ts=is=strlen(i0=o0+=identifier(caret())),Ds++;break;case 45:ps===45&&strlen(o0)==2&&(bs=0)}}return An}function ruleset(vn,fn,En,Cn,_i,An,ba,xa,$a,rs,ts){for(var is=_i-1,cs=_i===0?An:[""],us=sizeof(cs),ps=0,bs=0,e0=0;ps<Cn;++ps)for(var gs=0,Ds=substr(vn,is+1,is=abs(bs=ba[ps])),i0=vn;gs<us;++gs)(i0=trim(bs>0?cs[gs]+" "+Ds:replace(Ds,/&\f/g,cs[gs])))&&($a[e0++]=i0);return node$2(vn,fn,En,_i===0?RULESET:xa,$a,rs,ts)}function comment(vn,fn,En){return node$2(vn,fn,En,COMMENT,from$2(char()),substr(vn,2,-2),0)}function declaration(vn,fn,En,Cn){return node$2(vn,fn,En,DECLARATION,substr(vn,0,Cn),substr(vn,Cn+1,-1),Cn)}function serialize$2(vn,fn){for(var En="",Cn=sizeof(vn),_i=0;_i<Cn;_i++)En+=fn(vn[_i],_i,vn,fn)||"";return En}function stringify$1(vn,fn,En,Cn){switch(vn.type){case LAYER:if(vn.children.length)break;case IMPORT:case DECLARATION:return vn.return=vn.return||vn.value;case COMMENT:return"";case KEYFRAMES:return vn.return=vn.value+"{"+serialize$2(vn.children,Cn)+"}";case RULESET:vn.value=vn.props.join(",")}return strlen(En=serialize$2(vn.children,Cn))?vn.return=vn.value+"{"+En+"}":""}function middleware(vn){var fn=sizeof(vn);return function(En,Cn,_i,An){for(var ba="",xa=0;xa<fn;xa++)ba+=vn[xa](En,Cn,_i,An)||"";return ba}}function rulesheet(vn){return function(fn){fn.root||(fn=fn.return)&&vn(fn)}}var identifierWithPointTracking=function(fn,En,Cn){for(var _i=0,An=0;_i=An,An=peek(),_i===38&&An===12&&(En[Cn]=1),!token$1(An);)next();return slice(fn,position$1)},toRules=function(fn,En){var Cn=-1,_i=44;do switch(token$1(_i)){case 0:_i===38&&peek()===12&&(En[Cn]=1),fn[Cn]+=identifierWithPointTracking(position$1-1,En,Cn);break;case 2:fn[Cn]+=delimit(_i);break;case 4:if(_i===44){fn[++Cn]=peek()===58?"&\f":"",En[Cn]=fn[Cn].length;break}default:fn[Cn]+=from$2(_i)}while(_i=next());return fn},getRules=function(fn,En){return dealloc(toRules(alloc(fn),En))},fixedElements=new WeakMap,compat=function(fn){if(!(fn.type!=="rule"||!fn.parent||fn.length<1)){for(var En=fn.value,Cn=fn.parent,_i=fn.column===Cn.column&&fn.line===Cn.line;Cn.type!=="rule";)if(Cn=Cn.parent,!Cn)return;if(!(fn.props.length===1&&En.charCodeAt(0)!==58&&!fixedElements.get(Cn))&&!_i){fixedElements.set(fn,!0);for(var An=[],ba=getRules(En,An),xa=Cn.props,$a=0,rs=0;$a<ba.length;$a++)for(var ts=0;ts<xa.length;ts++,rs++)fn.props[rs]=An[$a]?ba[$a].replace(/&\f/g,xa[ts]):xa[ts]+" "+ba[$a]}}},removeLabel=function(fn){if(fn.type==="decl"){var En=fn.value;En.charCodeAt(0)===108&&En.charCodeAt(2)===98&&(fn.return="",fn.value="")}};function prefix$3(vn,fn){switch(hash$7(vn,fn)){case 5103:return WEBKIT+"print-"+vn+vn;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+vn+vn;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+vn+MOZ+vn+MS+vn+vn;case 6828:case 4268:return WEBKIT+vn+MS+vn+vn;case 6165:return WEBKIT+vn+MS+"flex-"+vn+vn;case 5187:return WEBKIT+vn+replace(vn,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+vn;case 5443:return WEBKIT+vn+MS+"flex-item-"+replace(vn,/flex-|-self/,"")+vn;case 4675:return WEBKIT+vn+MS+"flex-line-pack"+replace(vn,/align-content|flex-|-self/,"")+vn;case 5548:return WEBKIT+vn+MS+replace(vn,"shrink","negative")+vn;case 5292:return WEBKIT+vn+MS+replace(vn,"basis","preferred-size")+vn;case 6060:return WEBKIT+"box-"+replace(vn,"-grow","")+WEBKIT+vn+MS+replace(vn,"grow","positive")+vn;case 4554:return WEBKIT+replace(vn,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+vn;case 6187:return replace(replace(replace(vn,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),vn,"")+vn;case 5495:case 3959:return replace(vn,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(vn,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+vn+vn;case 4095:case 3583:case 4068:case 2532:return replace(vn,/(.+)-inline(.+)/,WEBKIT+"$1$2")+vn;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(vn)-1-fn>6)switch(charat(vn,fn+1)){case 109:if(charat(vn,fn+4)!==45)break;case 102:return replace(vn,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(vn,fn+3)==108?"$3":"$2-$3"))+vn;case 115:return~indexof(vn,"stretch")?prefix$3(replace(vn,"stretch","fill-available"),fn)+vn:vn}break;case 4949:if(charat(vn,fn+1)!==115)break;case 6444:switch(charat(vn,strlen(vn)-3-(~indexof(vn,"!important")&&10))){case 107:return replace(vn,":",":"+WEBKIT)+vn;case 101:return replace(vn,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(vn,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+vn}break;case 5936:switch(charat(vn,fn+11)){case 114:return WEBKIT+vn+MS+replace(vn,/[svh]\w+-[tblr]{2}/,"tb")+vn;case 108:return WEBKIT+vn+MS+replace(vn,/[svh]\w+-[tblr]{2}/,"tb-rl")+vn;case 45:return WEBKIT+vn+MS+replace(vn,/[svh]\w+-[tblr]{2}/,"lr")+vn}return WEBKIT+vn+MS+vn+vn}return vn}var prefixer=function(fn,En,Cn,_i){if(fn.length>-1&&!fn.return)switch(fn.type){case DECLARATION:fn.return=prefix$3(fn.value,fn.length);break;case KEYFRAMES:return serialize$2([copy(fn,{value:replace(fn.value,"@","@"+WEBKIT)})],_i);case RULESET:if(fn.length)return combine$1(fn.props,function(An){switch(match(An,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize$2([copy(fn,{props:[replace(An,/:(read-\w+)/,":"+MOZ+"$1")]})],_i);case"::placeholder":return serialize$2([copy(fn,{props:[replace(An,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(fn,{props:[replace(An,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(fn,{props:[replace(An,/:(plac\w+)/,MS+"input-$1")]})],_i)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(fn){var En=fn.key;if(En==="css"){var Cn=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(Cn,function(bs){var e0=bs.getAttribute("data-emotion");e0.indexOf(" ")!==-1&&(document.head.appendChild(bs),bs.setAttribute("data-s",""))})}var _i=fn.stylisPlugins||defaultStylisPlugins,An={},ba,xa=[];ba=fn.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+En+' "]'),function(bs){for(var e0=bs.getAttribute("data-emotion").split(" "),gs=1;gs<e0.length;gs++)An[e0[gs]]=!0;xa.push(bs)});var $a,rs=[compat,removeLabel];{var ts,is=[stringify$1,rulesheet(function(bs){ts.insert(bs)})],cs=middleware(rs.concat(_i,is)),us=function(e0){return serialize$2(compile(e0),cs)};$a=function(e0,gs,Ds,i0){ts=Ds,us(e0?e0+"{"+gs.styles+"}":gs.styles),i0&&(ps.inserted[gs.name]=!0)}}var ps={key:En,sheet:new StyleSheet({key:En,container:ba,nonce:fn.nonce,speedy:fn.speedy,prepend:fn.prepend,insertionPoint:fn.insertionPoint}),nonce:fn.nonce,inserted:An,registered:{},insert:$a};return ps.sheet.hydrate(xa),ps},reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$5=typeof Symbol=="function"&&Symbol.for,c$3=b$5?Symbol.for("react.element"):60103,d$4=b$5?Symbol.for("react.portal"):60106,e$3=b$5?Symbol.for("react.fragment"):60107,f$6=b$5?Symbol.for("react.strict_mode"):60108,g$8=b$5?Symbol.for("react.profiler"):60114,h$5=b$5?Symbol.for("react.provider"):60109,k$6=b$5?Symbol.for("react.context"):60110,l$4=b$5?Symbol.for("react.async_mode"):60111,m$2=b$5?Symbol.for("react.concurrent_mode"):60111,n$7=b$5?Symbol.for("react.forward_ref"):60112,p$5=b$5?Symbol.for("react.suspense"):60113,q$2=b$5?Symbol.for("react.suspense_list"):60120,r$6=b$5?Symbol.for("react.memo"):60115,t$1=b$5?Symbol.for("react.lazy"):60116,v$7=b$5?Symbol.for("react.block"):60121,w$3=b$5?Symbol.for("react.fundamental"):60117,x$a=b$5?Symbol.for("react.responder"):60118,y$7=b$5?Symbol.for("react.scope"):60119;function z$a(vn){if(typeof vn=="object"&&vn!==null){var fn=vn.$$typeof;switch(fn){case c$3:switch(vn=vn.type,vn){case l$4:case m$2:case e$3:case g$8:case f$6:case p$5:return vn;default:switch(vn=vn&&vn.$$typeof,vn){case k$6:case n$7:case t$1:case r$6:case h$5:return vn;default:return fn}}case d$4:return fn}}}function A$3(vn){return z$a(vn)===m$2}reactIs_production_min.AsyncMode=l$4;reactIs_production_min.ConcurrentMode=m$2;reactIs_production_min.ContextConsumer=k$6;reactIs_production_min.ContextProvider=h$5;reactIs_production_min.Element=c$3;reactIs_production_min.ForwardRef=n$7;reactIs_production_min.Fragment=e$3;reactIs_production_min.Lazy=t$1;reactIs_production_min.Memo=r$6;reactIs_production_min.Portal=d$4;reactIs_production_min.Profiler=g$8;reactIs_production_min.StrictMode=f$6;reactIs_production_min.Suspense=p$5;reactIs_production_min.isAsyncMode=function(vn){return A$3(vn)||z$a(vn)===l$4};reactIs_production_min.isConcurrentMode=A$3;reactIs_production_min.isContextConsumer=function(vn){return z$a(vn)===k$6};reactIs_production_min.isContextProvider=function(vn){return z$a(vn)===h$5};reactIs_production_min.isElement=function(vn){return typeof vn=="object"&&vn!==null&&vn.$$typeof===c$3};reactIs_production_min.isForwardRef=function(vn){return z$a(vn)===n$7};reactIs_production_min.isFragment=function(vn){return z$a(vn)===e$3};reactIs_production_min.isLazy=function(vn){return z$a(vn)===t$1};reactIs_production_min.isMemo=function(vn){return z$a(vn)===r$6};reactIs_production_min.isPortal=function(vn){return z$a(vn)===d$4};reactIs_production_min.isProfiler=function(vn){return z$a(vn)===g$8};reactIs_production_min.isStrictMode=function(vn){return z$a(vn)===f$6};reactIs_production_min.isSuspense=function(vn){return z$a(vn)===p$5};reactIs_production_min.isValidElementType=function(vn){return typeof vn=="string"||typeof vn=="function"||vn===e$3||vn===m$2||vn===g$8||vn===f$6||vn===p$5||vn===q$2||typeof vn=="object"&&vn!==null&&(vn.$$typeof===t$1||vn.$$typeof===r$6||vn.$$typeof===h$5||vn.$$typeof===k$6||vn.$$typeof===n$7||vn.$$typeof===w$3||vn.$$typeof===x$a||vn.$$typeof===y$7||vn.$$typeof===v$7)};reactIs_production_min.typeOf=z$a;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$2=!0;function getRegisteredStyles(vn,fn,En){var Cn="";return En.split(" ").forEach(function(_i){vn[_i]!==void 0?fn.push(vn[_i]+";"):_i&&(Cn+=_i+" ")}),Cn}var registerStyles=function(fn,En,Cn){var _i=fn.key+"-"+En.name;(Cn===!1||isBrowser$2===!1)&&fn.registered[_i]===void 0&&(fn.registered[_i]=En.styles)},insertStyles=function(fn,En,Cn){registerStyles(fn,En,Cn);var _i=fn.key+"-"+En.name;if(fn.inserted[En.name]===void 0){var An=En;do fn.insert(En===An?"."+_i:"",An,fn.sheet,!0),An=An.next;while(An!==void 0)}};function murmur2(vn){for(var fn=0,En,Cn=0,_i=vn.length;_i>=4;++Cn,_i-=4)En=vn.charCodeAt(Cn)&255|(vn.charCodeAt(++Cn)&255)<<8|(vn.charCodeAt(++Cn)&255)<<16|(vn.charCodeAt(++Cn)&255)<<24,En=(En&65535)*1540483477+((En>>>16)*59797<<16),En^=En>>>24,fn=(En&65535)*1540483477+((En>>>16)*59797<<16)^(fn&65535)*1540483477+((fn>>>16)*59797<<16);switch(_i){case 3:fn^=(vn.charCodeAt(Cn+2)&255)<<16;case 2:fn^=(vn.charCodeAt(Cn+1)&255)<<8;case 1:fn^=vn.charCodeAt(Cn)&255,fn=(fn&65535)*1540483477+((fn>>>16)*59797<<16)}return fn^=fn>>>13,fn=(fn&65535)*1540483477+((fn>>>16)*59797<<16),((fn^fn>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},isDevelopment=!1,hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(fn){return fn.charCodeAt(1)===45},isProcessableValue=function(fn){return fn!=null&&typeof fn!="boolean"},processStyleName=memoize(function(vn){return isCustomProperty(vn)?vn:vn.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(fn,En){switch(fn){case"animation":case"animationName":if(typeof En=="string")return En.replace(animationRegex,function(Cn,_i,An){return cursor={name:_i,styles:An,next:cursor},_i})}return unitlessKeys[fn]!==1&&!isCustomProperty(fn)&&typeof En=="number"&&En!==0?En+"px":En},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(vn,fn,En){if(En==null)return"";var Cn=En;if(Cn.__emotion_styles!==void 0)return Cn;switch(typeof En){case"boolean":return"";case"object":{var _i=En;if(_i.anim===1)return cursor={name:_i.name,styles:_i.styles,next:cursor},_i.name;var An=En;if(An.styles!==void 0){var ba=An.next;if(ba!==void 0)for(;ba!==void 0;)cursor={name:ba.name,styles:ba.styles,next:cursor},ba=ba.next;var xa=An.styles+";";return xa}return createStringFromObject(vn,fn,En)}case"function":{if(vn!==void 0){var $a=cursor,rs=En(vn);return cursor=$a,handleInterpolation(vn,fn,rs)}break}}var ts=En;if(fn==null)return ts;var is=fn[ts];return is!==void 0?is:ts}function createStringFromObject(vn,fn,En){var Cn="";if(Array.isArray(En))for(var _i=0;_i<En.length;_i++)Cn+=handleInterpolation(vn,fn,En[_i])+";";else for(var An in En){var ba=En[An];if(typeof ba!="object"){var xa=ba;fn!=null&&fn[xa]!==void 0?Cn+=An+"{"+fn[xa]+"}":isProcessableValue(xa)&&(Cn+=processStyleName(An)+":"+processStyleValue(An,xa)+";")}else{if(An==="NO_COMPONENT_SELECTOR"&&isDevelopment)throw new Error(noComponentSelectorMessage);if(Array.isArray(ba)&&typeof ba[0]=="string"&&(fn==null||fn[ba[0]]===void 0))for(var $a=0;$a<ba.length;$a++)isProcessableValue(ba[$a])&&(Cn+=processStyleName(An)+":"+processStyleValue(An,ba[$a])+";");else{var rs=handleInterpolation(vn,fn,ba);switch(An){case"animation":case"animationName":{Cn+=processStyleName(An)+":"+rs+";";break}default:Cn+=An+"{"+rs+"}"}}}}return Cn}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(vn,fn,En){if(vn.length===1&&typeof vn[0]=="object"&&vn[0]!==null&&vn[0].styles!==void 0)return vn[0];var Cn=!0,_i="";cursor=void 0;var An=vn[0];if(An==null||An.raw===void 0)Cn=!1,_i+=handleInterpolation(En,fn,An);else{var ba=An;_i+=ba[0]}for(var xa=1;xa<vn.length;xa++)if(_i+=handleInterpolation(En,fn,vn[xa]),Cn){var $a=An;_i+=$a[xa]}labelPattern.lastIndex=0;for(var rs="",ts;(ts=labelPattern.exec(_i))!==null;)rs+="-"+ts[1];var is=murmur2(_i)+rs;return{name:is,styles:_i,next:cursor}}var syncFallback=function(fn){return fn()},useInsertionEffect=React$1.useInsertionEffect?React$1.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(fn){return reactExports.forwardRef(function(En,Cn){var _i=reactExports.useContext(EmotionCacheContext);return fn(En,_i,Cn)})},ThemeContext=reactExports.createContext({});function css$1(){for(var vn=arguments.length,fn=new Array(vn),En=0;En<vn;En++)fn[En]=arguments[En];return serializeStyles(fn)}var keyframes$1=function(){var fn=css$1.apply(void 0,arguments),En="animation-"+fn.name;return{name:En,styles:"@keyframes "+En+"{"+fn.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(fn){return fn!=="theme"},getDefaultShouldForwardProp=function(fn){return typeof fn=="string"&&fn.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(fn,En,Cn){var _i;if(En){var An=En.shouldForwardProp;_i=fn.__emotion_forwardProp&&An?function(ba){return fn.__emotion_forwardProp(ba)&&An(ba)}:An}return typeof _i!="function"&&Cn&&(_i=fn.__emotion_forwardProp),_i},Insertion=function(fn){var En=fn.cache,Cn=fn.serialized,_i=fn.isStringTag;return registerStyles(En,Cn,_i),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(En,Cn,_i)}),null},createStyled=function vn(fn,En){var Cn=fn.__emotion_real===fn,_i=Cn&&fn.__emotion_base||fn,An,ba;En!==void 0&&(An=En.label,ba=En.target);var xa=composeShouldForwardProps(fn,En,Cn),$a=xa||getDefaultShouldForwardProp(_i),rs=!$a("as");return function(){var ts=arguments,is=Cn&&fn.__emotion_styles!==void 0?fn.__emotion_styles.slice(0):[];if(An!==void 0&&is.push("label:"+An+";"),ts[0]==null||ts[0].raw===void 0)is.push.apply(is,ts);else{is.push(ts[0][0]);for(var cs=ts.length,us=1;us<cs;us++)is.push(ts[us],ts[0][us])}var ps=withEmotionCache(function(bs,e0,gs){var Ds=rs&&bs.as||_i,i0="",n0=[],c0=bs;if(bs.theme==null){c0={};for(var d0 in bs)c0[d0]=bs[d0];c0.theme=reactExports.useContext(ThemeContext)}typeof bs.className=="string"?i0=getRegisteredStyles(e0.registered,n0,bs.className):bs.className!=null&&(i0=bs.className+" ");var o0=serializeStyles(is.concat(n0),e0.registered,c0);i0+=e0.key+"-"+o0.name,ba!==void 0&&(i0+=" "+ba);var g0=rs&&xa===void 0?getDefaultShouldForwardProp(Ds):$a,w0={};for(var M0 in bs)rs&&M0==="as"||g0(M0)&&(w0[M0]=bs[M0]);return w0.className=i0,w0.ref=gs,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:e0,serialized:o0,isStringTag:typeof Ds=="string"}),reactExports.createElement(Ds,w0))});return ps.displayName=An!==void 0?An:"Styled("+(typeof _i=="string"?_i:_i.displayName||_i.name||"Component")+")",ps.defaultProps=fn.defaultProps,ps.__emotion_real=ps,ps.__emotion_base=_i,ps.__emotion_styles=is,ps.__emotion_forwardProp=xa,Object.defineProperty(ps,"toString",{value:function(){return"."+ba}}),ps.withComponent=function(bs,e0){return vn(bs,_extends({},En,e0,{shouldForwardProp:composeShouldForwardProps(ps,e0,!0)})).apply(void 0,is)},ps}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind();tags.forEach(function(vn){newStyled[vn]=newStyled(vn)});function Mime$1(){this._types=Object.create(null),this._extensions=Object.create(null);for(let vn=0;vn<arguments.length;vn++)this.define(arguments[vn]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Mime$1.prototype.define=function(vn,fn){for(let En in vn){let Cn=vn[En].map(function(_i){return _i.toLowerCase()});En=En.toLowerCase();for(let _i=0;_i<Cn.length;_i++){const An=Cn[_i];if(An[0]!=="*"){if(!fn&&An in this._types)throw new Error('Attempt to change mapping for "'+An+'" extension from "'+this._types[An]+'" to "'+En+'". Pass `force=true` to allow this, otherwise remove "'+An+'" from the list of extensions for "'+En+'".');this._types[An]=En}}if(fn||!this._extensions[En]){const _i=Cn[0];this._extensions[En]=_i[0]!=="*"?_i:_i.substr(1)}}};Mime$1.prototype.getType=function(vn){vn=String(vn);let fn=vn.replace(/^.*[/\\]/,"").toLowerCase(),En=fn.replace(/^.*\./,"").toLowerCase(),Cn=fn.length<vn.length;return(En.length<fn.length-1||!Cn)&&this._types[En]||null};Mime$1.prototype.getExtension=function(vn){return vn=/^\s*([^;\s]*)/.test(vn)&&RegExp.$1,vn&&this._extensions[vn.toLowerCase()]||null};var Mime_1=Mime$1,standard={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};let Mime=Mime_1;new Mime(standard);class Subscribable{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(fn){const En={listener:fn};return this.listeners.add(En),this.onSubscribe(),()=>{this.listeners.delete(En),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const isServer=typeof window>"u"||"Deno"in window;function noop$4(){}function functionalUpdate(vn,fn){return typeof vn=="function"?vn(fn):vn}function isValidTimeout(vn){return typeof vn=="number"&&vn>=0&&vn!==1/0}function timeUntilStale(vn,fn){return Math.max(vn+(fn||0)-Date.now(),0)}function parseQueryArgs(vn,fn,En){return isQueryKey(vn)?typeof fn=="function"?{...En,queryKey:vn,queryFn:fn}:{...fn,queryKey:vn}:vn}function parseMutationArgs(vn,fn,En){return isQueryKey(vn)?typeof fn=="function"?{...En,mutationKey:vn,mutationFn:fn}:{...fn,mutationKey:vn}:typeof vn=="function"?{...fn,mutationFn:vn}:{...vn}}function parseFilterArgs(vn,fn,En){return isQueryKey(vn)?[{...fn,queryKey:vn},En]:[vn||{},fn]}function matchQuery(vn,fn){const{type:En="all",exact:Cn,fetchStatus:_i,predicate:An,queryKey:ba,stale:xa}=vn;if(isQueryKey(ba)){if(Cn){if(fn.queryHash!==hashQueryKeyByOptions(ba,fn.options))return!1}else if(!partialMatchKey(fn.queryKey,ba))return!1}if(En!=="all"){const $a=fn.isActive();if(En==="active"&&!$a||En==="inactive"&&$a)return!1}return!(typeof xa=="boolean"&&fn.isStale()!==xa||typeof _i<"u"&&_i!==fn.state.fetchStatus||An&&!An(fn))}function matchMutation(vn,fn){const{exact:En,fetching:Cn,predicate:_i,mutationKey:An}=vn;if(isQueryKey(An)){if(!fn.options.mutationKey)return!1;if(En){if(hashQueryKey(fn.options.mutationKey)!==hashQueryKey(An))return!1}else if(!partialMatchKey(fn.options.mutationKey,An))return!1}return!(typeof Cn=="boolean"&&fn.state.status==="loading"!==Cn||_i&&!_i(fn))}function hashQueryKeyByOptions(vn,fn){return((fn==null?void 0:fn.queryKeyHashFn)||hashQueryKey)(vn)}function hashQueryKey(vn){return JSON.stringify(vn,(fn,En)=>isPlainObject(En)?Object.keys(En).sort().reduce((Cn,_i)=>(Cn[_i]=En[_i],Cn),{}):En)}function partialMatchKey(vn,fn){return partialDeepEqual(vn,fn)}function partialDeepEqual(vn,fn){return vn===fn?!0:typeof vn!=typeof fn?!1:vn&&fn&&typeof vn=="object"&&typeof fn=="object"?!Object.keys(fn).some(En=>!partialDeepEqual(vn[En],fn[En])):!1}function replaceEqualDeep(vn,fn){if(vn===fn)return vn;const En=isPlainArray(vn)&&isPlainArray(fn);if(En||isPlainObject(vn)&&isPlainObject(fn)){const Cn=En?vn.length:Object.keys(vn).length,_i=En?fn:Object.keys(fn),An=_i.length,ba=En?[]:{};let xa=0;for(let $a=0;$a<An;$a++){const rs=En?$a:_i[$a];ba[rs]=replaceEqualDeep(vn[rs],fn[rs]),ba[rs]===vn[rs]&&xa++}return Cn===An&&xa===Cn?vn:ba}return fn}function shallowEqualObjects(vn,fn){if(vn&&!fn||fn&&!vn)return!1;for(const En in vn)if(vn[En]!==fn[En])return!1;return!0}function isPlainArray(vn){return Array.isArray(vn)&&vn.length===Object.keys(vn).length}function isPlainObject(vn){if(!hasObjectPrototype(vn))return!1;const fn=vn.constructor;if(typeof fn>"u")return!0;const En=fn.prototype;return!(!hasObjectPrototype(En)||!En.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(vn){return Object.prototype.toString.call(vn)==="[object Object]"}function isQueryKey(vn){return Array.isArray(vn)}function sleep$1(vn){return new Promise(fn=>{setTimeout(fn,vn)})}function scheduleMicrotask(vn){sleep$1(0).then(vn)}function getAbortController(){if(typeof AbortController=="function")return new AbortController}function replaceData(vn,fn,En){return En.isDataEqual!=null&&En.isDataEqual(vn,fn)?vn:typeof En.structuralSharing=="function"?En.structuralSharing(vn,fn):En.structuralSharing!==!1?replaceEqualDeep(vn,fn):fn}class FocusManager extends Subscribable{constructor(){super(),this.setup=fn=>{if(!isServer&&window.addEventListener){const En=()=>fn();return window.addEventListener("visibilitychange",En,!1),window.addEventListener("focus",En,!1),()=>{window.removeEventListener("visibilitychange",En),window.removeEventListener("focus",En)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var fn;(fn=this.cleanup)==null||fn.call(this),this.cleanup=void 0}}setEventListener(fn){var En;this.setup=fn,(En=this.cleanup)==null||En.call(this),this.cleanup=fn(Cn=>{typeof Cn=="boolean"?this.setFocused(Cn):this.onFocus()})}setFocused(fn){this.focused!==fn&&(this.focused=fn,this.onFocus())}onFocus(){this.listeners.forEach(({listener:fn})=>{fn()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const focusManager=new FocusManager,onlineEvents=["online","offline"];class OnlineManager extends Subscribable{constructor(){super(),this.setup=fn=>{if(!isServer&&window.addEventListener){const En=()=>fn();return onlineEvents.forEach(Cn=>{window.addEventListener(Cn,En,!1)}),()=>{onlineEvents.forEach(Cn=>{window.removeEventListener(Cn,En)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var fn;(fn=this.cleanup)==null||fn.call(this),this.cleanup=void 0}}setEventListener(fn){var En;this.setup=fn,(En=this.cleanup)==null||En.call(this),this.cleanup=fn(Cn=>{typeof Cn=="boolean"?this.setOnline(Cn):this.onOnline()})}setOnline(fn){this.online!==fn&&(this.online=fn,this.onOnline())}onOnline(){this.listeners.forEach(({listener:fn})=>{fn()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const onlineManager=new OnlineManager;function defaultRetryDelay(vn){return Math.min(1e3*2**vn,3e4)}function canFetch(vn){return(vn??"online")==="online"?onlineManager.isOnline():!0}class CancelledError{constructor(fn){this.revert=fn==null?void 0:fn.revert,this.silent=fn==null?void 0:fn.silent}}function isCancelledError(vn){return vn instanceof CancelledError}function createRetryer(vn){let fn=!1,En=0,Cn=!1,_i,An,ba;const xa=new Promise((e0,gs)=>{An=e0,ba=gs}),$a=e0=>{Cn||(us(new CancelledError(e0)),vn.abort==null||vn.abort())},rs=()=>{fn=!0},ts=()=>{fn=!1},is=()=>!focusManager.isFocused()||vn.networkMode!=="always"&&!onlineManager.isOnline(),cs=e0=>{Cn||(Cn=!0,vn.onSuccess==null||vn.onSuccess(e0),_i==null||_i(),An(e0))},us=e0=>{Cn||(Cn=!0,vn.onError==null||vn.onError(e0),_i==null||_i(),ba(e0))},ps=()=>new Promise(e0=>{_i=gs=>{const Ds=Cn||!is();return Ds&&e0(gs),Ds},vn.onPause==null||vn.onPause()}).then(()=>{_i=void 0,Cn||vn.onContinue==null||vn.onContinue()}),bs=()=>{if(Cn)return;let e0;try{e0=vn.fn()}catch(gs){e0=Promise.reject(gs)}Promise.resolve(e0).then(cs).catch(gs=>{var Ds,i0;if(Cn)return;const n0=(Ds=vn.retry)!=null?Ds:3,c0=(i0=vn.retryDelay)!=null?i0:defaultRetryDelay,d0=typeof c0=="function"?c0(En,gs):c0,o0=n0===!0||typeof n0=="number"&&En<n0||typeof n0=="function"&&n0(En,gs);if(fn||!o0){us(gs);return}En++,vn.onFail==null||vn.onFail(En,gs),sleep$1(d0).then(()=>{if(is())return ps()}).then(()=>{fn?us(gs):bs()})})};return canFetch(vn.networkMode)?bs():ps().then(bs),{promise:xa,cancel:$a,continue:()=>(_i==null?void 0:_i())?xa:Promise.resolve(),cancelRetry:rs,continueRetry:ts}}const defaultLogger=console;function createNotifyManager(){let vn=[],fn=0,En=ts=>{ts()},Cn=ts=>{ts()};const _i=ts=>{let is;fn++;try{is=ts()}finally{fn--,fn||xa()}return is},An=ts=>{fn?vn.push(ts):scheduleMicrotask(()=>{En(ts)})},ba=ts=>(...is)=>{An(()=>{ts(...is)})},xa=()=>{const ts=vn;vn=[],ts.length&&scheduleMicrotask(()=>{Cn(()=>{ts.forEach(is=>{En(is)})})})};return{batch:_i,batchCalls:ba,schedule:An,setNotifyFunction:ts=>{En=ts},setBatchNotifyFunction:ts=>{Cn=ts}}}const notifyManager=createNotifyManager();class Removable{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(fn){this.cacheTime=Math.max(this.cacheTime||0,fn??(isServer?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Query extends Removable{constructor(fn){super(),this.abortSignalConsumed=!1,this.defaultOptions=fn.defaultOptions,this.setOptions(fn.options),this.observers=[],this.cache=fn.cache,this.logger=fn.logger||defaultLogger,this.queryKey=fn.queryKey,this.queryHash=fn.queryHash,this.initialState=fn.state||getDefaultState$1(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(fn){this.options={...this.defaultOptions,...fn},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(fn,En){const Cn=replaceData(this.state.data,fn,this.options);return this.dispatch({data:Cn,type:"success",dataUpdatedAt:En==null?void 0:En.updatedAt,manual:En==null?void 0:En.manual}),Cn}setState(fn,En){this.dispatch({type:"setState",state:fn,setStateOptions:En})}cancel(fn){var En;const Cn=this.promise;return(En=this.retryer)==null||En.cancel(fn),Cn?Cn.then(noop$4).catch(noop$4):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(fn=>fn.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(fn=>fn.getCurrentResult().isStale)}isStaleByTime(fn=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,fn)}onFocus(){var fn;const En=this.observers.find(Cn=>Cn.shouldFetchOnWindowFocus());En&&En.refetch({cancelRefetch:!1}),(fn=this.retryer)==null||fn.continue()}onOnline(){var fn;const En=this.observers.find(Cn=>Cn.shouldFetchOnReconnect());En&&En.refetch({cancelRefetch:!1}),(fn=this.retryer)==null||fn.continue()}addObserver(fn){this.observers.includes(fn)||(this.observers.push(fn),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:fn}))}removeObserver(fn){this.observers.includes(fn)&&(this.observers=this.observers.filter(En=>En!==fn),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:fn}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(fn,En){var Cn,_i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&En!=null&&En.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var An;return(An=this.retryer)==null||An.continueRetry(),this.promise}}if(fn&&this.setOptions(fn),!this.options.queryFn){const us=this.observers.find(ps=>ps.options.queryFn);us&&this.setOptions(us.options)}const ba=getAbortController(),xa={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},$a=us=>{Object.defineProperty(us,"signal",{enumerable:!0,get:()=>{if(ba)return this.abortSignalConsumed=!0,ba.signal}})};$a(xa);const rs=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(xa)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),ts={fetchOptions:En,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:rs};if($a(ts),(Cn=this.options.behavior)==null||Cn.onFetch(ts),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((_i=ts.fetchOptions)==null?void 0:_i.meta)){var is;this.dispatch({type:"fetch",meta:(is=ts.fetchOptions)==null?void 0:is.meta})}const cs=us=>{if(isCancelledError(us)&&us.silent||this.dispatch({type:"error",error:us}),!isCancelledError(us)){var ps,bs,e0,gs;(ps=(bs=this.cache.config).onError)==null||ps.call(bs,us,this),(e0=(gs=this.cache.config).onSettled)==null||e0.call(gs,this.state.data,us,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=createRetryer({fn:ts.fetchFn,abort:ba==null?void 0:ba.abort.bind(ba),onSuccess:us=>{var ps,bs,e0,gs;if(typeof us>"u"){cs(new Error(this.queryHash+" data is undefined"));return}this.setData(us),(ps=(bs=this.cache.config).onSuccess)==null||ps.call(bs,us,this),(e0=(gs=this.cache.config).onSettled)==null||e0.call(gs,us,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:cs,onFail:(us,ps)=>{this.dispatch({type:"failed",failureCount:us,error:ps})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:ts.options.retry,retryDelay:ts.options.retryDelay,networkMode:ts.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(fn){const En=Cn=>{var _i,An;switch(fn.type){case"failed":return{...Cn,fetchFailureCount:fn.failureCount,fetchFailureReason:fn.error};case"pause":return{...Cn,fetchStatus:"paused"};case"continue":return{...Cn,fetchStatus:"fetching"};case"fetch":return{...Cn,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(_i=fn.meta)!=null?_i:null,fetchStatus:canFetch(this.options.networkMode)?"fetching":"paused",...!Cn.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...Cn,data:fn.data,dataUpdateCount:Cn.dataUpdateCount+1,dataUpdatedAt:(An=fn.dataUpdatedAt)!=null?An:Date.now(),error:null,isInvalidated:!1,status:"success",...!fn.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const ba=fn.error;return isCancelledError(ba)&&ba.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...Cn,error:ba,errorUpdateCount:Cn.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:Cn.fetchFailureCount+1,fetchFailureReason:ba,fetchStatus:"idle",status:"error"};case"invalidate":return{...Cn,isInvalidated:!0};case"setState":return{...Cn,...fn.state}}};this.state=En(this.state),notifyManager.batch(()=>{this.observers.forEach(Cn=>{Cn.onQueryUpdate(fn)}),this.cache.notify({query:this,type:"updated",action:fn})})}}function getDefaultState$1(vn){const fn=typeof vn.initialData=="function"?vn.initialData():vn.initialData,En=typeof fn<"u",Cn=En?typeof vn.initialDataUpdatedAt=="function"?vn.initialDataUpdatedAt():vn.initialDataUpdatedAt:0;return{data:fn,dataUpdateCount:0,dataUpdatedAt:En?Cn??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:En?"success":"loading",fetchStatus:"idle"}}class QueryCache extends Subscribable{constructor(fn){super(),this.config=fn||{},this.queries=[],this.queriesMap={}}build(fn,En,Cn){var _i;const An=En.queryKey,ba=(_i=En.queryHash)!=null?_i:hashQueryKeyByOptions(An,En);let xa=this.get(ba);return xa||(xa=new Query({cache:this,logger:fn.getLogger(),queryKey:An,queryHash:ba,options:fn.defaultQueryOptions(En),state:Cn,defaultOptions:fn.getQueryDefaults(An)}),this.add(xa)),xa}add(fn){this.queriesMap[fn.queryHash]||(this.queriesMap[fn.queryHash]=fn,this.queries.push(fn),this.notify({type:"added",query:fn}))}remove(fn){const En=this.queriesMap[fn.queryHash];En&&(fn.destroy(),this.queries=this.queries.filter(Cn=>Cn!==fn),En===fn&&delete this.queriesMap[fn.queryHash],this.notify({type:"removed",query:fn}))}clear(){notifyManager.batch(()=>{this.queries.forEach(fn=>{this.remove(fn)})})}get(fn){return this.queriesMap[fn]}getAll(){return this.queries}find(fn,En){const[Cn]=parseFilterArgs(fn,En);return typeof Cn.exact>"u"&&(Cn.exact=!0),this.queries.find(_i=>matchQuery(Cn,_i))}findAll(fn,En){const[Cn]=parseFilterArgs(fn,En);return Object.keys(Cn).length>0?this.queries.filter(_i=>matchQuery(Cn,_i)):this.queries}notify(fn){notifyManager.batch(()=>{this.listeners.forEach(({listener:En})=>{En(fn)})})}onFocus(){notifyManager.batch(()=>{this.queries.forEach(fn=>{fn.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.queries.forEach(fn=>{fn.onOnline()})})}}class Mutation extends Removable{constructor(fn){super(),this.defaultOptions=fn.defaultOptions,this.mutationId=fn.mutationId,this.mutationCache=fn.mutationCache,this.logger=fn.logger||defaultLogger,this.observers=[],this.state=fn.state||getDefaultState(),this.setOptions(fn.options),this.scheduleGc()}setOptions(fn){this.options={...this.defaultOptions,...fn},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(fn){this.dispatch({type:"setState",state:fn})}addObserver(fn){this.observers.includes(fn)||(this.observers.push(fn),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:fn}))}removeObserver(fn){this.observers=this.observers.filter(En=>En!==fn),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:fn})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var fn,En;return(fn=(En=this.retryer)==null?void 0:En.continue())!=null?fn:this.execute()}async execute(){const fn=()=>{var o0;return this.retryer=createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(g0,w0)=>{this.dispatch({type:"failed",failureCount:g0,error:w0})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(o0=this.options.retry)!=null?o0:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},En=this.state.status==="loading";try{var Cn,_i,An,ba,xa,$a,rs,ts;if(!En){var is,cs,us,ps;this.dispatch({type:"loading",variables:this.options.variables}),await((is=(cs=this.mutationCache.config).onMutate)==null?void 0:is.call(cs,this.state.variables,this));const g0=await((us=(ps=this.options).onMutate)==null?void 0:us.call(ps,this.state.variables));g0!==this.state.context&&this.dispatch({type:"loading",context:g0,variables:this.state.variables})}const o0=await fn();return await((Cn=(_i=this.mutationCache.config).onSuccess)==null?void 0:Cn.call(_i,o0,this.state.variables,this.state.context,this)),await((An=(ba=this.options).onSuccess)==null?void 0:An.call(ba,o0,this.state.variables,this.state.context)),await((xa=($a=this.mutationCache.config).onSettled)==null?void 0:xa.call($a,o0,null,this.state.variables,this.state.context,this)),await((rs=(ts=this.options).onSettled)==null?void 0:rs.call(ts,o0,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:o0}),o0}catch(o0){try{var bs,e0,gs,Ds,i0,n0,c0,d0;throw await((bs=(e0=this.mutationCache.config).onError)==null?void 0:bs.call(e0,o0,this.state.variables,this.state.context,this)),await((gs=(Ds=this.options).onError)==null?void 0:gs.call(Ds,o0,this.state.variables,this.state.context)),await((i0=(n0=this.mutationCache.config).onSettled)==null?void 0:i0.call(n0,void 0,o0,this.state.variables,this.state.context,this)),await((c0=(d0=this.options).onSettled)==null?void 0:c0.call(d0,void 0,o0,this.state.variables,this.state.context)),o0}finally{this.dispatch({type:"error",error:o0})}}}dispatch(fn){const En=Cn=>{switch(fn.type){case"failed":return{...Cn,failureCount:fn.failureCount,failureReason:fn.error};case"pause":return{...Cn,isPaused:!0};case"continue":return{...Cn,isPaused:!1};case"loading":return{...Cn,context:fn.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!canFetch(this.options.networkMode),status:"loading",variables:fn.variables};case"success":return{...Cn,data:fn.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...Cn,data:void 0,error:fn.error,failureCount:Cn.failureCount+1,failureReason:fn.error,isPaused:!1,status:"error"};case"setState":return{...Cn,...fn.state}}};this.state=En(this.state),notifyManager.batch(()=>{this.observers.forEach(Cn=>{Cn.onMutationUpdate(fn)}),this.mutationCache.notify({mutation:this,type:"updated",action:fn})})}}function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class MutationCache extends Subscribable{constructor(fn){super(),this.config=fn||{},this.mutations=[],this.mutationId=0}build(fn,En,Cn){const _i=new Mutation({mutationCache:this,logger:fn.getLogger(),mutationId:++this.mutationId,options:fn.defaultMutationOptions(En),state:Cn,defaultOptions:En.mutationKey?fn.getMutationDefaults(En.mutationKey):void 0});return this.add(_i),_i}add(fn){this.mutations.push(fn),this.notify({type:"added",mutation:fn})}remove(fn){this.mutations=this.mutations.filter(En=>En!==fn),this.notify({type:"removed",mutation:fn})}clear(){notifyManager.batch(()=>{this.mutations.forEach(fn=>{this.remove(fn)})})}getAll(){return this.mutations}find(fn){return typeof fn.exact>"u"&&(fn.exact=!0),this.mutations.find(En=>matchMutation(fn,En))}findAll(fn){return this.mutations.filter(En=>matchMutation(fn,En))}notify(fn){notifyManager.batch(()=>{this.listeners.forEach(({listener:En})=>{En(fn)})})}resumePausedMutations(){var fn;return this.resuming=((fn=this.resuming)!=null?fn:Promise.resolve()).then(()=>{const En=this.mutations.filter(Cn=>Cn.state.isPaused);return notifyManager.batch(()=>En.reduce((Cn,_i)=>Cn.then(()=>_i.continue().catch(noop$4)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function infiniteQueryBehavior(){return{onFetch:vn=>{vn.fetchFn=()=>{var fn,En,Cn,_i,An,ba;const xa=(fn=vn.fetchOptions)==null||(En=fn.meta)==null?void 0:En.refetchPage,$a=(Cn=vn.fetchOptions)==null||(_i=Cn.meta)==null?void 0:_i.fetchMore,rs=$a==null?void 0:$a.pageParam,ts=($a==null?void 0:$a.direction)==="forward",is=($a==null?void 0:$a.direction)==="backward",cs=((An=vn.state.data)==null?void 0:An.pages)||[],us=((ba=vn.state.data)==null?void 0:ba.pageParams)||[];let ps=us,bs=!1;const e0=d0=>{Object.defineProperty(d0,"signal",{enumerable:!0,get:()=>{var o0;if((o0=vn.signal)!=null&&o0.aborted)bs=!0;else{var g0;(g0=vn.signal)==null||g0.addEventListener("abort",()=>{bs=!0})}return vn.signal}})},gs=vn.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+vn.options.queryHash+"'")),Ds=(d0,o0,g0,w0)=>(ps=w0?[o0,...ps]:[...ps,o0],w0?[g0,...d0]:[...d0,g0]),i0=(d0,o0,g0,w0)=>{if(bs)return Promise.reject("Cancelled");if(typeof g0>"u"&&!o0&&d0.length)return Promise.resolve(d0);const M0={queryKey:vn.queryKey,pageParam:g0,meta:vn.options.meta};e0(M0);const ds=gs(M0);return Promise.resolve(ds).then(_a=>Ds(d0,g0,_a,w0))};let n0;if(!cs.length)n0=i0([]);else if(ts){const d0=typeof rs<"u",o0=d0?rs:getNextPageParam(vn.options,cs);n0=i0(cs,d0,o0)}else if(is){const d0=typeof rs<"u",o0=d0?rs:getPreviousPageParam(vn.options,cs);n0=i0(cs,d0,o0,!0)}else{ps=[];const d0=typeof vn.options.getNextPageParam>"u";n0=(xa&&cs[0]?xa(cs[0],0,cs):!0)?i0([],d0,us[0]):Promise.resolve(Ds([],us[0],cs[0]));for(let g0=1;g0<cs.length;g0++)n0=n0.then(w0=>{if(xa&&cs[g0]?xa(cs[g0],g0,cs):!0){const ds=d0?us[g0]:getNextPageParam(vn.options,w0);return i0(w0,d0,ds)}return Promise.resolve(Ds(w0,us[g0],cs[g0]))})}return n0.then(d0=>({pages:d0,pageParams:ps}))}}}}function getNextPageParam(vn,fn){return vn.getNextPageParam==null?void 0:vn.getNextPageParam(fn[fn.length-1],fn)}function getPreviousPageParam(vn,fn){return vn.getPreviousPageParam==null?void 0:vn.getPreviousPageParam(fn[0],fn)}class QueryClient{constructor(fn={}){this.queryCache=fn.queryCache||new QueryCache,this.mutationCache=fn.mutationCache||new MutationCache,this.logger=fn.logger||defaultLogger,this.defaultOptions=fn.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=focusManager.subscribe(()=>{focusManager.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=onlineManager.subscribe(()=>{onlineManager.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var fn,En;this.mountCount--,this.mountCount===0&&((fn=this.unsubscribeFocus)==null||fn.call(this),this.unsubscribeFocus=void 0,(En=this.unsubscribeOnline)==null||En.call(this),this.unsubscribeOnline=void 0)}isFetching(fn,En){const[Cn]=parseFilterArgs(fn,En);return Cn.fetchStatus="fetching",this.queryCache.findAll(Cn).length}isMutating(fn){return this.mutationCache.findAll({...fn,fetching:!0}).length}getQueryData(fn,En){var Cn;return(Cn=this.queryCache.find(fn,En))==null?void 0:Cn.state.data}ensureQueryData(fn,En,Cn){const _i=parseQueryArgs(fn,En,Cn),An=this.getQueryData(_i.queryKey);return An?Promise.resolve(An):this.fetchQuery(_i)}getQueriesData(fn){return this.getQueryCache().findAll(fn).map(({queryKey:En,state:Cn})=>{const _i=Cn.data;return[En,_i]})}setQueryData(fn,En,Cn){const _i=this.queryCache.find(fn),An=_i==null?void 0:_i.state.data,ba=functionalUpdate(En,An);if(typeof ba>"u")return;const xa=parseQueryArgs(fn),$a=this.defaultQueryOptions(xa);return this.queryCache.build(this,$a).setData(ba,{...Cn,manual:!0})}setQueriesData(fn,En,Cn){return notifyManager.batch(()=>this.getQueryCache().findAll(fn).map(({queryKey:_i})=>[_i,this.setQueryData(_i,En,Cn)]))}getQueryState(fn,En){var Cn;return(Cn=this.queryCache.find(fn,En))==null?void 0:Cn.state}removeQueries(fn,En){const[Cn]=parseFilterArgs(fn,En),_i=this.queryCache;notifyManager.batch(()=>{_i.findAll(Cn).forEach(An=>{_i.remove(An)})})}resetQueries(fn,En,Cn){const[_i,An]=parseFilterArgs(fn,En,Cn),ba=this.queryCache,xa={type:"active",..._i};return notifyManager.batch(()=>(ba.findAll(_i).forEach($a=>{$a.reset()}),this.refetchQueries(xa,An)))}cancelQueries(fn,En,Cn){const[_i,An={}]=parseFilterArgs(fn,En,Cn);typeof An.revert>"u"&&(An.revert=!0);const ba=notifyManager.batch(()=>this.queryCache.findAll(_i).map(xa=>xa.cancel(An)));return Promise.all(ba).then(noop$4).catch(noop$4)}invalidateQueries(fn,En,Cn){const[_i,An]=parseFilterArgs(fn,En,Cn);return notifyManager.batch(()=>{var ba,xa;if(this.queryCache.findAll(_i).forEach(rs=>{rs.invalidate()}),_i.refetchType==="none")return Promise.resolve();const $a={..._i,type:(ba=(xa=_i.refetchType)!=null?xa:_i.type)!=null?ba:"active"};return this.refetchQueries($a,An)})}refetchQueries(fn,En,Cn){const[_i,An]=parseFilterArgs(fn,En,Cn),ba=notifyManager.batch(()=>this.queryCache.findAll(_i).filter($a=>!$a.isDisabled()).map($a=>{var rs;return $a.fetch(void 0,{...An,cancelRefetch:(rs=An==null?void 0:An.cancelRefetch)!=null?rs:!0,meta:{refetchPage:_i.refetchPage}})}));let xa=Promise.all(ba).then(noop$4);return An!=null&&An.throwOnError||(xa=xa.catch(noop$4)),xa}fetchQuery(fn,En,Cn){const _i=parseQueryArgs(fn,En,Cn),An=this.defaultQueryOptions(_i);typeof An.retry>"u"&&(An.retry=!1);const ba=this.queryCache.build(this,An);return ba.isStaleByTime(An.staleTime)?ba.fetch(An):Promise.resolve(ba.state.data)}prefetchQuery(fn,En,Cn){return this.fetchQuery(fn,En,Cn).then(noop$4).catch(noop$4)}fetchInfiniteQuery(fn,En,Cn){const _i=parseQueryArgs(fn,En,Cn);return _i.behavior=infiniteQueryBehavior(),this.fetchQuery(_i)}prefetchInfiniteQuery(fn,En,Cn){return this.fetchInfiniteQuery(fn,En,Cn).then(noop$4).catch(noop$4)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(fn){this.defaultOptions=fn}setQueryDefaults(fn,En){const Cn=this.queryDefaults.find(_i=>hashQueryKey(fn)===hashQueryKey(_i.queryKey));Cn?Cn.defaultOptions=En:this.queryDefaults.push({queryKey:fn,defaultOptions:En})}getQueryDefaults(fn){if(!fn)return;const En=this.queryDefaults.find(Cn=>partialMatchKey(fn,Cn.queryKey));return En==null?void 0:En.defaultOptions}setMutationDefaults(fn,En){const Cn=this.mutationDefaults.find(_i=>hashQueryKey(fn)===hashQueryKey(_i.mutationKey));Cn?Cn.defaultOptions=En:this.mutationDefaults.push({mutationKey:fn,defaultOptions:En})}getMutationDefaults(fn){if(!fn)return;const En=this.mutationDefaults.find(Cn=>partialMatchKey(fn,Cn.mutationKey));return En==null?void 0:En.defaultOptions}defaultQueryOptions(fn){if(fn!=null&&fn._defaulted)return fn;const En={...this.defaultOptions.queries,...this.getQueryDefaults(fn==null?void 0:fn.queryKey),...fn,_defaulted:!0};return!En.queryHash&&En.queryKey&&(En.queryHash=hashQueryKeyByOptions(En.queryKey,En)),typeof En.refetchOnReconnect>"u"&&(En.refetchOnReconnect=En.networkMode!=="always"),typeof En.useErrorBoundary>"u"&&(En.useErrorBoundary=!!En.suspense),En}defaultMutationOptions(fn){return fn!=null&&fn._defaulted?fn:{...this.defaultOptions.mutations,...this.getMutationDefaults(fn==null?void 0:fn.mutationKey),...fn,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class QueryObserver extends Subscribable{constructor(fn,En){super(),this.client=fn,this.options=En,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(En)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),shouldFetchOnMount(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(fn,En){const Cn=this.options,_i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(fn),shallowEqualObjects(Cn,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=Cn.queryKey),this.updateQuery();const An=this.hasListeners();An&&shouldFetchOptionally(this.currentQuery,_i,this.options,Cn)&&this.executeFetch(),this.updateResult(En),An&&(this.currentQuery!==_i||this.options.enabled!==Cn.enabled||this.options.staleTime!==Cn.staleTime)&&this.updateStaleTimeout();const ba=this.computeRefetchInterval();An&&(this.currentQuery!==_i||this.options.enabled!==Cn.enabled||ba!==this.currentRefetchInterval)&&this.updateRefetchInterval(ba)}getOptimisticResult(fn){const En=this.client.getQueryCache().build(this.client,fn),Cn=this.createResult(En,fn);return shouldAssignObserverCurrentProperties(this,Cn,fn)&&(this.currentResult=Cn,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),Cn}getCurrentResult(){return this.currentResult}trackResult(fn){const En={};return Object.keys(fn).forEach(Cn=>{Object.defineProperty(En,Cn,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(Cn),fn[Cn])})}),En}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:fn,...En}={}){return this.fetch({...En,meta:{refetchPage:fn}})}fetchOptimistic(fn){const En=this.client.defaultQueryOptions(fn),Cn=this.client.getQueryCache().build(this.client,En);return Cn.isFetchingOptimistic=!0,Cn.fetch().then(()=>this.createResult(Cn,En))}fetch(fn){var En;return this.executeFetch({...fn,cancelRefetch:(En=fn.cancelRefetch)!=null?En:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(fn){this.updateQuery();let En=this.currentQuery.fetch(this.options,fn);return fn!=null&&fn.throwOnError||(En=En.catch(noop$4)),En}updateStaleTimeout(){if(this.clearStaleTimeout(),isServer||this.currentResult.isStale||!isValidTimeout(this.options.staleTime))return;const En=timeUntilStale(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},En)}computeRefetchInterval(){var fn;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(fn=this.options.refetchInterval)!=null?fn:!1}updateRefetchInterval(fn){this.clearRefetchInterval(),this.currentRefetchInterval=fn,!(isServer||this.options.enabled===!1||!isValidTimeout(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(fn,En){const Cn=this.currentQuery,_i=this.options,An=this.currentResult,ba=this.currentResultState,xa=this.currentResultOptions,$a=fn!==Cn,rs=$a?fn.state:this.currentQueryInitialState,ts=$a?this.currentResult:this.previousQueryResult,{state:is}=fn;let{dataUpdatedAt:cs,error:us,errorUpdatedAt:ps,fetchStatus:bs,status:e0}=is,gs=!1,Ds=!1,i0;if(En._optimisticResults){const g0=this.hasListeners(),w0=!g0&&shouldFetchOnMount(fn,En),M0=g0&&shouldFetchOptionally(fn,Cn,En,_i);(w0||M0)&&(bs=canFetch(fn.options.networkMode)?"fetching":"paused",cs||(e0="loading")),En._optimisticResults==="isRestoring"&&(bs="idle")}if(En.keepPreviousData&&!is.dataUpdatedAt&&ts!=null&&ts.isSuccess&&e0!=="error")i0=ts.data,cs=ts.dataUpdatedAt,e0=ts.status,gs=!0;else if(En.select&&typeof is.data<"u")if(An&&is.data===(ba==null?void 0:ba.data)&&En.select===this.selectFn)i0=this.selectResult;else try{this.selectFn=En.select,i0=En.select(is.data),i0=replaceData(An==null?void 0:An.data,i0,En),this.selectResult=i0,this.selectError=null}catch(g0){this.selectError=g0}else i0=is.data;if(typeof En.placeholderData<"u"&&typeof i0>"u"&&e0==="loading"){let g0;if(An!=null&&An.isPlaceholderData&&En.placeholderData===(xa==null?void 0:xa.placeholderData))g0=An.data;else if(g0=typeof En.placeholderData=="function"?En.placeholderData():En.placeholderData,En.select&&typeof g0<"u")try{g0=En.select(g0),this.selectError=null}catch(w0){this.selectError=w0}typeof g0<"u"&&(e0="success",i0=replaceData(An==null?void 0:An.data,g0,En),Ds=!0)}this.selectError&&(us=this.selectError,i0=this.selectResult,ps=Date.now(),e0="error");const n0=bs==="fetching",c0=e0==="loading",d0=e0==="error";return{status:e0,fetchStatus:bs,isLoading:c0,isSuccess:e0==="success",isError:d0,isInitialLoading:c0&&n0,data:i0,dataUpdatedAt:cs,error:us,errorUpdatedAt:ps,failureCount:is.fetchFailureCount,failureReason:is.fetchFailureReason,errorUpdateCount:is.errorUpdateCount,isFetched:is.dataUpdateCount>0||is.errorUpdateCount>0,isFetchedAfterMount:is.dataUpdateCount>rs.dataUpdateCount||is.errorUpdateCount>rs.errorUpdateCount,isFetching:n0,isRefetching:n0&&!c0,isLoadingError:d0&&is.dataUpdatedAt===0,isPaused:bs==="paused",isPlaceholderData:Ds,isPreviousData:gs,isRefetchError:d0&&is.dataUpdatedAt!==0,isStale:isStale(fn,En),refetch:this.refetch,remove:this.remove}}updateResult(fn){const En=this.currentResult,Cn=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,shallowEqualObjects(Cn,En))return;this.currentResult=Cn;const _i={cache:!0},An=()=>{if(!En)return!0;const{notifyOnChangeProps:ba}=this.options,xa=typeof ba=="function"?ba():ba;if(xa==="all"||!xa&&!this.trackedProps.size)return!0;const $a=new Set(xa??this.trackedProps);return this.options.useErrorBoundary&&$a.add("error"),Object.keys(this.currentResult).some(rs=>{const ts=rs;return this.currentResult[ts]!==En[ts]&&$a.has(ts)})};(fn==null?void 0:fn.listeners)!==!1&&An()&&(_i.listeners=!0),this.notify({..._i,...fn})}updateQuery(){const fn=this.client.getQueryCache().build(this.client,this.options);if(fn===this.currentQuery)return;const En=this.currentQuery;this.currentQuery=fn,this.currentQueryInitialState=fn.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(En==null||En.removeObserver(this),fn.addObserver(this))}onQueryUpdate(fn){const En={};fn.type==="success"?En.onSuccess=!fn.manual:fn.type==="error"&&!isCancelledError(fn.error)&&(En.onError=!0),this.updateResult(En),this.hasListeners()&&this.updateTimers()}notify(fn){notifyManager.batch(()=>{if(fn.onSuccess){var En,Cn,_i,An;(En=(Cn=this.options).onSuccess)==null||En.call(Cn,this.currentResult.data),(_i=(An=this.options).onSettled)==null||_i.call(An,this.currentResult.data,null)}else if(fn.onError){var ba,xa,$a,rs;(ba=(xa=this.options).onError)==null||ba.call(xa,this.currentResult.error),($a=(rs=this.options).onSettled)==null||$a.call(rs,void 0,this.currentResult.error)}fn.listeners&&this.listeners.forEach(({listener:ts})=>{ts(this.currentResult)}),fn.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function shouldLoadOnMount(vn,fn){return fn.enabled!==!1&&!vn.state.dataUpdatedAt&&!(vn.state.status==="error"&&fn.retryOnMount===!1)}function shouldFetchOnMount(vn,fn){return shouldLoadOnMount(vn,fn)||vn.state.dataUpdatedAt>0&&shouldFetchOn(vn,fn,fn.refetchOnMount)}function shouldFetchOn(vn,fn,En){if(fn.enabled!==!1){const Cn=typeof En=="function"?En(vn):En;return Cn==="always"||Cn!==!1&&isStale(vn,fn)}return!1}function shouldFetchOptionally(vn,fn,En,Cn){return En.enabled!==!1&&(vn!==fn||Cn.enabled===!1)&&(!En.suspense||vn.state.status!=="error")&&isStale(vn,En)}function isStale(vn,fn){return vn.isStaleByTime(fn.staleTime)}function shouldAssignObserverCurrentProperties(vn,fn,En){return En.keepPreviousData?!1:En.placeholderData!==void 0?fn.isPlaceholderData:!shallowEqualObjects(vn.getCurrentResult(),fn)}let MutationObserver$1=class extends Subscribable{constructor(fn,En){super(),this.client=fn,this.setOptions(En),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(fn){var En;const Cn=this.options;this.options=this.client.defaultMutationOptions(fn),shallowEqualObjects(Cn,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(En=this.currentMutation)==null||En.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var fn;(fn=this.currentMutation)==null||fn.removeObserver(this)}}onMutationUpdate(fn){this.updateResult();const En={listeners:!0};fn.type==="success"?En.onSuccess=!0:fn.type==="error"&&(En.onError=!0),this.notify(En)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(fn,En){return this.mutateOptions=En,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof fn<"u"?fn:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const fn=this.currentMutation?this.currentMutation.state:getDefaultState(),En={...fn,isLoading:fn.status==="loading",isSuccess:fn.status==="success",isError:fn.status==="error",isIdle:fn.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=En}notify(fn){notifyManager.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(fn.onSuccess){var En,Cn,_i,An;(En=(Cn=this.mutateOptions).onSuccess)==null||En.call(Cn,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(_i=(An=this.mutateOptions).onSettled)==null||_i.call(An,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(fn.onError){var ba,xa,$a,rs;(ba=(xa=this.mutateOptions).onError)==null||ba.call(xa,this.currentResult.error,this.currentResult.variables,this.currentResult.context),($a=(rs=this.mutateOptions).onSettled)==null||$a.call(rs,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}fn.listeners&&this.listeners.forEach(({listener:ts})=>{ts(this.currentResult)})})}};var shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$2=reactExports;function h$4(vn,fn){return vn===fn&&(vn!==0||1/vn===1/fn)||vn!==vn&&fn!==fn}var k$5=typeof Object.is=="function"?Object.is:h$4,l$3=e$2.useState,m$1=e$2.useEffect,n$6=e$2.useLayoutEffect,p$4=e$2.useDebugValue;function q$1(vn,fn){var En=fn(),Cn=l$3({inst:{value:En,getSnapshot:fn}}),_i=Cn[0].inst,An=Cn[1];return n$6(function(){_i.value=En,_i.getSnapshot=fn,r$5(_i)&&An({inst:_i})},[vn,En,fn]),m$1(function(){return r$5(_i)&&An({inst:_i}),vn(function(){r$5(_i)&&An({inst:_i})})},[vn]),p$4(En),En}function r$5(vn){var fn=vn.getSnapshot;vn=vn.value;try{var En=fn();return!k$5(vn,En)}catch{return!0}}function t(vn,fn){return fn()}var u$2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t:q$1;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$2.useSyncExternalStore!==void 0?e$2.useSyncExternalStore:u$2;shim.exports=useSyncExternalStoreShim_production_min;var shimExports=shim.exports;const useSyncExternalStore=shimExports.useSyncExternalStore,defaultContext=reactExports.createContext(void 0),QueryClientSharingContext=reactExports.createContext(!1);function getQueryClientContext(vn,fn){return vn||(fn&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=defaultContext),window.ReactQueryClientContext):defaultContext)}const useQueryClient=({context:vn}={})=>{const fn=reactExports.useContext(getQueryClientContext(vn,reactExports.useContext(QueryClientSharingContext)));if(!fn)throw new Error("No QueryClient set, use QueryClientProvider to set one");return fn},QueryClientProvider=({client:vn,children:fn,context:En,contextSharing:Cn=!1})=>{reactExports.useEffect(()=>(vn.mount(),()=>{vn.unmount()}),[vn]);const _i=getQueryClientContext(En,Cn);return reactExports.createElement(QueryClientSharingContext.Provider,{value:!En&&Cn},reactExports.createElement(_i.Provider,{value:vn},fn))},IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let vn=!1;return{clearReset:()=>{vn=!1},reset:()=>{vn=!0},isReset:()=>vn}}const QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext);function shouldThrowError(vn,fn){return typeof vn=="function"?vn(...fn):!!vn}const ensurePreventErrorBoundaryRetry=(vn,fn)=>{(vn.suspense||vn.useErrorBoundary)&&(fn.isReset()||(vn.retryOnMount=!1))},useClearResetErrorBoundary=vn=>{reactExports.useEffect(()=>{vn.clearReset()},[vn])},getHasError=({result:vn,errorResetBoundary:fn,useErrorBoundary:En,query:Cn})=>vn.isError&&!fn.isReset()&&!vn.isFetching&&shouldThrowError(En,[vn.error,Cn]),ensureStaleTime=vn=>{vn.suspense&&typeof vn.staleTime!="number"&&(vn.staleTime=1e3)},willFetch=(vn,fn)=>vn.isLoading&&vn.isFetching&&!fn,shouldSuspend=(vn,fn,En)=>(vn==null?void 0:vn.suspense)&&willFetch(fn,En),fetchOptimistic=(vn,fn,En)=>fn.fetchOptimistic(vn).then(({data:Cn})=>{vn.onSuccess==null||vn.onSuccess(Cn),vn.onSettled==null||vn.onSettled(Cn,null)}).catch(Cn=>{En.clearReset(),vn.onError==null||vn.onError(Cn),vn.onSettled==null||vn.onSettled(void 0,Cn)});function useBaseQuery(vn,fn){const En=useQueryClient({context:vn.context}),Cn=useIsRestoring(),_i=useQueryErrorResetBoundary(),An=En.defaultQueryOptions(vn);An._optimisticResults=Cn?"isRestoring":"optimistic",An.onError&&(An.onError=notifyManager.batchCalls(An.onError)),An.onSuccess&&(An.onSuccess=notifyManager.batchCalls(An.onSuccess)),An.onSettled&&(An.onSettled=notifyManager.batchCalls(An.onSettled)),ensureStaleTime(An),ensurePreventErrorBoundaryRetry(An,_i),useClearResetErrorBoundary(_i);const[ba]=reactExports.useState(()=>new fn(En,An)),xa=ba.getOptimisticResult(An);if(useSyncExternalStore(reactExports.useCallback($a=>{const rs=Cn?()=>{}:ba.subscribe(notifyManager.batchCalls($a));return ba.updateResult(),rs},[ba,Cn]),()=>ba.getCurrentResult(),()=>ba.getCurrentResult()),reactExports.useEffect(()=>{ba.setOptions(An,{listeners:!1})},[An,ba]),shouldSuspend(An,xa,Cn))throw fetchOptimistic(An,ba,_i);if(getHasError({result:xa,errorResetBoundary:_i,useErrorBoundary:An.useErrorBoundary,query:ba.getCurrentQuery()}))throw xa.error;return An.notifyOnChangeProps?xa:ba.trackResult(xa)}function useQuery(vn,fn,En){const Cn=parseQueryArgs(vn,fn,En);return useBaseQuery(Cn,QueryObserver)}function useMutation(vn,fn,En){const Cn=parseMutationArgs(vn,fn,En),_i=useQueryClient({context:Cn.context}),[An]=reactExports.useState(()=>new MutationObserver$1(_i,Cn));reactExports.useEffect(()=>{An.setOptions(Cn)},[An,Cn]);const ba=useSyncExternalStore(reactExports.useCallback($a=>An.subscribe(notifyManager.batchCalls($a)),[An]),()=>An.getCurrentResult(),()=>An.getCurrentResult()),xa=reactExports.useCallback(($a,rs)=>{An.mutate($a,rs).catch(noop$3)},[An]);if(ba.error&&shouldThrowError(An.options.useErrorBoundary,[ba.error]))throw ba.error;return{...ba,mutate:xa,mutateAsync:ba.mutate}}function noop$3(){}var prefix$2="Invariant failed";function invariant(vn,fn){if(!vn)throw new Error(prefix$2)}function getDefaultExportFromCjs(vn){return vn&&vn.__esModule&&Object.prototype.hasOwnProperty.call(vn,"default")?vn.default:vn}var browser$h={exports:{}},process=browser$h.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(vn){if(cachedSetTimeout===setTimeout)return setTimeout(vn,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(vn,0);try{return cachedSetTimeout(vn,0)}catch{try{return cachedSetTimeout.call(null,vn,0)}catch{return cachedSetTimeout.call(this,vn,0)}}}function runClearTimeout(vn){if(cachedClearTimeout===clearTimeout)return clearTimeout(vn);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(vn);try{return cachedClearTimeout(vn)}catch{try{return cachedClearTimeout.call(null,vn)}catch{return cachedClearTimeout.call(this,vn)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var vn=runTimeout(cleanUpNextTick);draining=!0;for(var fn=queue.length;fn;){for(currentQueue=queue,queue=[];++queueIndex<fn;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,fn=queue.length}currentQueue=null,draining=!1,runClearTimeout(vn)}}process.nextTick=function(vn){var fn=new Array(arguments.length-1);if(arguments.length>1)for(var En=1;En<arguments.length;En++)fn[En-1]=arguments[En];queue.push(new Item(vn,fn)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(vn,fn){this.fun=vn,this.array=fn}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$2(){}process.on=noop$2;process.addListener=noop$2;process.once=noop$2;process.off=noop$2;process.removeListener=noop$2;process.removeAllListeners=noop$2;process.emit=noop$2;process.prependListener=noop$2;process.prependOnceListener=noop$2;process.listeners=function(vn){return[]};process.binding=function(vn){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(vn){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var browserExports=browser$h.exports;const process$1=getDefaultExportFromCjs(browserExports);var bn$b={exports:{}};const require$$0$a=getAugmentedNamespace(dist$1);bn$b.exports;(function(vn){(function(fn,En){function Cn(_a,es){if(!_a)throw new Error(es||"Assertion failed")}function _i(_a,es){_a.super_=es;var ns=function(){};ns.prototype=es.prototype,_a.prototype=new ns,_a.prototype.constructor=_a}function An(_a,es,ns){if(An.isBN(_a))return _a;this.negative=0,this.words=null,this.length=0,this.red=null,_a!==null&&((es==="le"||es==="be")&&(ns=es,es=10),this._init(_a||0,es||10,ns||"be"))}typeof fn=="object"?fn.exports=An:En.BN=An,An.BN=An,An.wordSize=26;var ba;try{typeof window<"u"&&typeof window.Buffer<"u"?ba=window.Buffer:ba=require$$0$a.Buffer}catch{}An.isBN=function(es){return es instanceof An?!0:es!==null&&typeof es=="object"&&es.constructor.wordSize===An.wordSize&&Array.isArray(es.words)},An.max=function(es,ns){return es.cmp(ns)>0?es:ns},An.min=function(es,ns){return es.cmp(ns)<0?es:ns},An.prototype._init=function(es,ns,os){if(typeof es=="number")return this._initNumber(es,ns,os);if(typeof es=="object")return this._initArray(es,ns,os);ns==="hex"&&(ns=16),Cn(ns===(ns|0)&&ns>=2&&ns<=36),es=es.toString().replace(/\s+/g,"");var ls=0;es[0]==="-"&&(ls++,this.negative=1),ls<es.length&&(ns===16?this._parseHex(es,ls,os):(this._parseBase(es,ns,ls),os==="le"&&this._initArray(this.toArray(),ns,os)))},An.prototype._initNumber=function(es,ns,os){es<0&&(this.negative=1,es=-es),es<67108864?(this.words=[es&67108863],this.length=1):es<4503599627370496?(this.words=[es&67108863,es/67108864&67108863],this.length=2):(Cn(es<9007199254740992),this.words=[es&67108863,es/67108864&67108863,1],this.length=3),os==="le"&&this._initArray(this.toArray(),ns,os)},An.prototype._initArray=function(es,ns,os){if(Cn(typeof es.length=="number"),es.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(es.length/3),this.words=new Array(this.length);for(var ls=0;ls<this.length;ls++)this.words[ls]=0;var hs,ss,ga=0;if(os==="be")for(ls=es.length-1,hs=0;ls>=0;ls-=3)ss=es[ls]|es[ls-1]<<8|es[ls-2]<<16,this.words[hs]|=ss<<ga&67108863,this.words[hs+1]=ss>>>26-ga&67108863,ga+=24,ga>=26&&(ga-=26,hs++);else if(os==="le")for(ls=0,hs=0;ls<es.length;ls+=3)ss=es[ls]|es[ls+1]<<8|es[ls+2]<<16,this.words[hs]|=ss<<ga&67108863,this.words[hs+1]=ss>>>26-ga&67108863,ga+=24,ga>=26&&(ga-=26,hs++);return this._strip()};function xa(_a,es){var ns=_a.charCodeAt(es);if(ns>=48&&ns<=57)return ns-48;if(ns>=65&&ns<=70)return ns-55;if(ns>=97&&ns<=102)return ns-87;Cn(!1,"Invalid character in "+_a)}function $a(_a,es,ns){var os=xa(_a,ns);return ns-1>=es&&(os|=xa(_a,ns-1)<<4),os}An.prototype._parseHex=function(es,ns,os){this.length=Math.ceil((es.length-ns)/6),this.words=new Array(this.length);for(var ls=0;ls<this.length;ls++)this.words[ls]=0;var hs=0,ss=0,ga;if(os==="be")for(ls=es.length-1;ls>=ns;ls-=2)ga=$a(es,ns,ls)<<hs,this.words[ss]|=ga&67108863,hs>=18?(hs-=18,ss+=1,this.words[ss]|=ga>>>26):hs+=8;else{var as=es.length-ns;for(ls=as%2===0?ns+1:ns;ls<es.length;ls+=2)ga=$a(es,ns,ls)<<hs,this.words[ss]|=ga&67108863,hs>=18?(hs-=18,ss+=1,this.words[ss]|=ga>>>26):hs+=8}this._strip()};function rs(_a,es,ns,os){for(var ls=0,hs=0,ss=Math.min(_a.length,ns),ga=es;ga<ss;ga++){var as=_a.charCodeAt(ga)-48;ls*=os,as>=49?hs=as-49+10:as>=17?hs=as-17+10:hs=as,Cn(as>=0&&hs<os,"Invalid character"),ls+=hs}return ls}An.prototype._parseBase=function(es,ns,os){this.words=[0],this.length=1;for(var ls=0,hs=1;hs<=67108863;hs*=ns)ls++;ls--,hs=hs/ns|0;for(var ss=es.length-os,ga=ss%ls,as=Math.min(ss,ss-ga)+os,r0=0,a0=os;a0<as;a0+=ls)r0=rs(es,a0,a0+ls,ns),this.imuln(hs),this.words[0]+r0<67108864?this.words[0]+=r0:this._iaddn(r0);if(ga!==0){var l0=1;for(r0=rs(es,a0,es.length,ns),a0=0;a0<ga;a0++)l0*=ns;this.imuln(l0),this.words[0]+r0<67108864?this.words[0]+=r0:this._iaddn(r0)}this._strip()},An.prototype.copy=function(es){es.words=new Array(this.length);for(var ns=0;ns<this.length;ns++)es.words[ns]=this.words[ns];es.length=this.length,es.negative=this.negative,es.red=this.red};function ts(_a,es){_a.words=es.words,_a.length=es.length,_a.negative=es.negative,_a.red=es.red}if(An.prototype._move=function(es){ts(es,this)},An.prototype.clone=function(){var es=new An(null);return this.copy(es),es},An.prototype._expand=function(es){for(;this.length<es;)this.words[this.length++]=0;return this},An.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},An.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{An.prototype[Symbol.for("nodejs.util.inspect.custom")]=is}catch{An.prototype.inspect=is}else An.prototype.inspect=is;function is(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var cs=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],us=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ps=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];An.prototype.toString=function(es,ns){es=es||10,ns=ns|0||1;var os;if(es===16||es==="hex"){os="";for(var ls=0,hs=0,ss=0;ss<this.length;ss++){var ga=this.words[ss],as=((ga<<ls|hs)&16777215).toString(16);hs=ga>>>24-ls&16777215,ls+=2,ls>=26&&(ls-=26,ss--),hs!==0||ss!==this.length-1?os=cs[6-as.length]+as+os:os=as+os}for(hs!==0&&(os=hs.toString(16)+os);os.length%ns!==0;)os="0"+os;return this.negative!==0&&(os="-"+os),os}if(es===(es|0)&&es>=2&&es<=36){var r0=us[es],a0=ps[es];os="";var l0=this.clone();for(l0.negative=0;!l0.isZero();){var s0=l0.modrn(a0).toString(es);l0=l0.idivn(a0),l0.isZero()?os=s0+os:os=cs[r0-s0.length]+s0+os}for(this.isZero()&&(os="0"+os);os.length%ns!==0;)os="0"+os;return this.negative!==0&&(os="-"+os),os}Cn(!1,"Base should be between 2 and 36")},An.prototype.toNumber=function(){var es=this.words[0];return this.length===2?es+=this.words[1]*67108864:this.length===3&&this.words[2]===1?es+=4503599627370496+this.words[1]*67108864:this.length>2&&Cn(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-es:es},An.prototype.toJSON=function(){return this.toString(16,2)},ba&&(An.prototype.toBuffer=function(es,ns){return this.toArrayLike(ba,es,ns)}),An.prototype.toArray=function(es,ns){return this.toArrayLike(Array,es,ns)};var bs=function(es,ns){return es.allocUnsafe?es.allocUnsafe(ns):new es(ns)};An.prototype.toArrayLike=function(es,ns,os){this._strip();var ls=this.byteLength(),hs=os||Math.max(1,ls);Cn(ls<=hs,"byte array longer than desired length"),Cn(hs>0,"Requested array length <= 0");var ss=bs(es,hs),ga=ns==="le"?"LE":"BE";return this["_toArrayLike"+ga](ss,ls),ss},An.prototype._toArrayLikeLE=function(es,ns){for(var os=0,ls=0,hs=0,ss=0;hs<this.length;hs++){var ga=this.words[hs]<<ss|ls;es[os++]=ga&255,os<es.length&&(es[os++]=ga>>8&255),os<es.length&&(es[os++]=ga>>16&255),ss===6?(os<es.length&&(es[os++]=ga>>24&255),ls=0,ss=0):(ls=ga>>>24,ss+=2)}if(os<es.length)for(es[os++]=ls;os<es.length;)es[os++]=0},An.prototype._toArrayLikeBE=function(es,ns){for(var os=es.length-1,ls=0,hs=0,ss=0;hs<this.length;hs++){var ga=this.words[hs]<<ss|ls;es[os--]=ga&255,os>=0&&(es[os--]=ga>>8&255),os>=0&&(es[os--]=ga>>16&255),ss===6?(os>=0&&(es[os--]=ga>>24&255),ls=0,ss=0):(ls=ga>>>24,ss+=2)}if(os>=0)for(es[os--]=ls;os>=0;)es[os--]=0},Math.clz32?An.prototype._countBits=function(es){return 32-Math.clz32(es)}:An.prototype._countBits=function(es){var ns=es,os=0;return ns>=4096&&(os+=13,ns>>>=13),ns>=64&&(os+=7,ns>>>=7),ns>=8&&(os+=4,ns>>>=4),ns>=2&&(os+=2,ns>>>=2),os+ns},An.prototype._zeroBits=function(es){if(es===0)return 26;var ns=es,os=0;return ns&8191||(os+=13,ns>>>=13),ns&127||(os+=7,ns>>>=7),ns&15||(os+=4,ns>>>=4),ns&3||(os+=2,ns>>>=2),ns&1||os++,os},An.prototype.bitLength=function(){var es=this.words[this.length-1],ns=this._countBits(es);return(this.length-1)*26+ns};function e0(_a){for(var es=new Array(_a.bitLength()),ns=0;ns<es.length;ns++){var os=ns/26|0,ls=ns%26;es[ns]=_a.words[os]>>>ls&1}return es}An.prototype.zeroBits=function(){if(this.isZero())return 0;for(var es=0,ns=0;ns<this.length;ns++){var os=this._zeroBits(this.words[ns]);if(es+=os,os!==26)break}return es},An.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},An.prototype.toTwos=function(es){return this.negative!==0?this.abs().inotn(es).iaddn(1):this.clone()},An.prototype.fromTwos=function(es){return this.testn(es-1)?this.notn(es).iaddn(1).ineg():this.clone()},An.prototype.isNeg=function(){return this.negative!==0},An.prototype.neg=function(){return this.clone().ineg()},An.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},An.prototype.iuor=function(es){for(;this.length<es.length;)this.words[this.length++]=0;for(var ns=0;ns<es.length;ns++)this.words[ns]=this.words[ns]|es.words[ns];return this._strip()},An.prototype.ior=function(es){return Cn((this.negative|es.negative)===0),this.iuor(es)},An.prototype.or=function(es){return this.length>es.length?this.clone().ior(es):es.clone().ior(this)},An.prototype.uor=function(es){return this.length>es.length?this.clone().iuor(es):es.clone().iuor(this)},An.prototype.iuand=function(es){var ns;this.length>es.length?ns=es:ns=this;for(var os=0;os<ns.length;os++)this.words[os]=this.words[os]&es.words[os];return this.length=ns.length,this._strip()},An.prototype.iand=function(es){return Cn((this.negative|es.negative)===0),this.iuand(es)},An.prototype.and=function(es){return this.length>es.length?this.clone().iand(es):es.clone().iand(this)},An.prototype.uand=function(es){return this.length>es.length?this.clone().iuand(es):es.clone().iuand(this)},An.prototype.iuxor=function(es){var ns,os;this.length>es.length?(ns=this,os=es):(ns=es,os=this);for(var ls=0;ls<os.length;ls++)this.words[ls]=ns.words[ls]^os.words[ls];if(this!==ns)for(;ls<ns.length;ls++)this.words[ls]=ns.words[ls];return this.length=ns.length,this._strip()},An.prototype.ixor=function(es){return Cn((this.negative|es.negative)===0),this.iuxor(es)},An.prototype.xor=function(es){return this.length>es.length?this.clone().ixor(es):es.clone().ixor(this)},An.prototype.uxor=function(es){return this.length>es.length?this.clone().iuxor(es):es.clone().iuxor(this)},An.prototype.inotn=function(es){Cn(typeof es=="number"&&es>=0);var ns=Math.ceil(es/26)|0,os=es%26;this._expand(ns),os>0&&ns--;for(var ls=0;ls<ns;ls++)this.words[ls]=~this.words[ls]&67108863;return os>0&&(this.words[ls]=~this.words[ls]&67108863>>26-os),this._strip()},An.prototype.notn=function(es){return this.clone().inotn(es)},An.prototype.setn=function(es,ns){Cn(typeof es=="number"&&es>=0);var os=es/26|0,ls=es%26;return this._expand(os+1),ns?this.words[os]=this.words[os]|1<<ls:this.words[os]=this.words[os]&~(1<<ls),this._strip()},An.prototype.iadd=function(es){var ns;if(this.negative!==0&&es.negative===0)return this.negative=0,ns=this.isub(es),this.negative^=1,this._normSign();if(this.negative===0&&es.negative!==0)return es.negative=0,ns=this.isub(es),es.negative=1,ns._normSign();var os,ls;this.length>es.length?(os=this,ls=es):(os=es,ls=this);for(var hs=0,ss=0;ss<ls.length;ss++)ns=(os.words[ss]|0)+(ls.words[ss]|0)+hs,this.words[ss]=ns&67108863,hs=ns>>>26;for(;hs!==0&&ss<os.length;ss++)ns=(os.words[ss]|0)+hs,this.words[ss]=ns&67108863,hs=ns>>>26;if(this.length=os.length,hs!==0)this.words[this.length]=hs,this.length++;else if(os!==this)for(;ss<os.length;ss++)this.words[ss]=os.words[ss];return this},An.prototype.add=function(es){var ns;return es.negative!==0&&this.negative===0?(es.negative=0,ns=this.sub(es),es.negative^=1,ns):es.negative===0&&this.negative!==0?(this.negative=0,ns=es.sub(this),this.negative=1,ns):this.length>es.length?this.clone().iadd(es):es.clone().iadd(this)},An.prototype.isub=function(es){if(es.negative!==0){es.negative=0;var ns=this.iadd(es);return es.negative=1,ns._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(es),this.negative=1,this._normSign();var os=this.cmp(es);if(os===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ls,hs;os>0?(ls=this,hs=es):(ls=es,hs=this);for(var ss=0,ga=0;ga<hs.length;ga++)ns=(ls.words[ga]|0)-(hs.words[ga]|0)+ss,ss=ns>>26,this.words[ga]=ns&67108863;for(;ss!==0&&ga<ls.length;ga++)ns=(ls.words[ga]|0)+ss,ss=ns>>26,this.words[ga]=ns&67108863;if(ss===0&&ga<ls.length&&ls!==this)for(;ga<ls.length;ga++)this.words[ga]=ls.words[ga];return this.length=Math.max(this.length,ga),ls!==this&&(this.negative=1),this._strip()},An.prototype.sub=function(es){return this.clone().isub(es)};function gs(_a,es,ns){ns.negative=es.negative^_a.negative;var os=_a.length+es.length|0;ns.length=os,os=os-1|0;var ls=_a.words[0]|0,hs=es.words[0]|0,ss=ls*hs,ga=ss&67108863,as=ss/67108864|0;ns.words[0]=ga;for(var r0=1;r0<os;r0++){for(var a0=as>>>26,l0=as&67108863,s0=Math.min(r0,es.length-1),b0=Math.max(0,r0-_a.length+1);b0<=s0;b0++){var f0=r0-b0|0;ls=_a.words[f0]|0,hs=es.words[b0]|0,ss=ls*hs+l0,a0+=ss/67108864|0,l0=ss&67108863}ns.words[r0]=l0|0,as=a0|0}return as!==0?ns.words[r0]=as|0:ns.length--,ns._strip()}var Ds=function(es,ns,os){var ls=es.words,hs=ns.words,ss=os.words,ga=0,as,r0,a0,l0=ls[0]|0,s0=l0&8191,b0=l0>>>13,f0=ls[1]|0,m0=f0&8191,y0=f0>>>13,t0=ls[2]|0,h0=t0&8191,p0=t0>>>13,E0=ls[3]|0,I0=E0&8191,C0=E0>>>13,$0=ls[4]|0,vo=$0&8191,P0=$0>>>13,S0=ls[5]|0,_o=S0&8191,O0=S0>>>13,B0=ls[6]|0,To=B0&8191,k0=B0>>>13,D0=ls[7]|0,Eo=D0&8191,N0=D0>>>13,F0=ls[8]|0,Co=F0&8191,x0=F0>>>13,u0=ls[9]|0,v0=u0&8191,_0=u0>>>13,T0=hs[0]|0,j0=T0&8191,A0=T0>>>13,U0=hs[1]|0,$o=U0&8191,L0=U0>>>13,V0=hs[2]|0,Mo=V0&8191,G0=V0>>>13,Z0=hs[3]|0,Io=Z0&8191,q0=Z0>>>13,Y0=hs[4]|0,Ro=Y0&8191,z0=Y0>>>13,X0=hs[5]|0,Po=X0&8191,K0=X0>>>13,bo=hs[6]|0,ko=bo&8191,W0=bo>>>13,J0=hs[7]|0,Ao=J0&8191,H0=J0>>>13,go=hs[8]|0,Bo=go&8191,Q0=go>>>13,wo=hs[9]|0,No=wo&8191,Oo=wo>>>13;os.negative=es.negative^ns.negative,os.length=19,as=Math.imul(s0,j0),r0=Math.imul(s0,A0),r0=r0+Math.imul(b0,j0)|0,a0=Math.imul(b0,A0);var jo=(ga+as|0)+((r0&8191)<<13)|0;ga=(a0+(r0>>>13)|0)+(jo>>>26)|0,jo&=67108863,as=Math.imul(m0,j0),r0=Math.imul(m0,A0),r0=r0+Math.imul(y0,j0)|0,a0=Math.imul(y0,A0),as=as+Math.imul(s0,$o)|0,r0=r0+Math.imul(s0,L0)|0,r0=r0+Math.imul(b0,$o)|0,a0=a0+Math.imul(b0,L0)|0;var Uo=(ga+as|0)+((r0&8191)<<13)|0;ga=(a0+(r0>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,as=Math.imul(h0,j0),r0=Math.imul(h0,A0),r0=r0+Math.imul(p0,j0)|0,a0=Math.imul(p0,A0),as=as+Math.imul(m0,$o)|0,r0=r0+Math.imul(m0,L0)|0,r0=r0+Math.imul(y0,$o)|0,a0=a0+Math.imul(y0,L0)|0,as=as+Math.imul(s0,Mo)|0,r0=r0+Math.imul(s0,G0)|0,r0=r0+Math.imul(b0,Mo)|0,a0=a0+Math.imul(b0,G0)|0;var zo=(ga+as|0)+((r0&8191)<<13)|0;ga=(a0+(r0>>>13)|0)+(zo>>>26)|0,zo&=67108863,as=Math.imul(I0,j0),r0=Math.imul(I0,A0),r0=r0+Math.imul(C0,j0)|0,a0=Math.imul(C0,A0),as=as+Math.imul(h0,$o)|0,r0=r0+Math.imul(h0,L0)|0,r0=r0+Math.imul(p0,$o)|0,a0=a0+Math.imul(p0,L0)|0,as=as+Math.imul(m0,Mo)|0,r0=r0+Math.imul(m0,G0)|0,r0=r0+Math.imul(y0,Mo)|0,a0=a0+Math.imul(y0,G0)|0,as=as+Math.imul(s0,Io)|0,r0=r0+Math.imul(s0,q0)|0,r0=r0+Math.imul(b0,Io)|0,a0=a0+Math.imul(b0,q0)|0;var qo=(ga+as|0)+((r0&8191)<<13)|0;ga=(a0+(r0>>>13)|0)+(qo>>>26)|0,qo&=67108863,as=Math.imul(vo,j0),r0=Math.imul(vo,A0),r0=r0+Math.imul(P0,j0)|0,a0=Math.imul(P0,A0),as=as+Math.imul(I0,$o)|0,r0=r0+Math.imul(I0,L0)|0,r0=r0+Math.imul(C0,$o)|0,a0=a0+Math.imul(C0,L0)|0,as=as+Math.imul(h0,Mo)|0,r0=r0+Math.imul(h0,G0)|0,r0=r0+Math.imul(p0,Mo)|0,a0=a0+Math.imul(p0,G0)|0,as=as+Math.imul(m0,Io)|0,r0=r0+Math.imul(m0,q0)|0,r0=r0+Math.imul(y0,Io)|0,a0=a0+Math.imul(y0,q0)|0,as=as+Math.imul(s0,Ro)|0,r0=r0+Math.imul(s0,z0)|0,r0=r0+Math.imul(b0,Ro)|0,a0=a0+Math.imul(b0,z0)|0;var Fo=(ga+as|0)+((r0&8191)<<13)|0;ga=(a0+(r0>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,as=Math.imul(_o,j0),r0=Math.imul(_o,A0),r0=r0+Math.imul(O0,j0)|0,a0=Math.imul(O0,A0),as=as+Math.imul(vo,$o)|0,r0=r0+Math.imul(vo,L0)|0,r0=r0+Math.imul(P0,$o)|0,a0=a0+Math.imul(P0,L0)|0,as=as+Math.imul(I0,Mo)|0,r0=r0+Math.imul(I0,G0)|0,r0=r0+Math.imul(C0,Mo)|0,a0=a0+Math.imul(C0,G0)|0,as=as+Math.imul(h0,Io)|0,r0=r0+Math.imul(h0,q0)|0,r0=r0+Math.imul(p0,Io)|0,a0=a0+Math.imul(p0,q0)|0,as=as+Math.imul(m0,Ro)|0,r0=r0+Math.imul(m0,z0)|0,r0=r0+Math.imul(y0,Ro)|0,a0=a0+Math.imul(y0,z0)|0,as=as+Math.imul(s0,Po)|0,r0=r0+Math.imul(s0,K0)|0,r0=r0+Math.imul(b0,Po)|0,a0=a0+Math.imul(b0,K0)|0;var Ko=(ga+as|0)+((r0&8191)<<13)|0;ga=(a0+(r0>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,as=Math.imul(To,j0),r0=Math.imul(To,A0),r0=r0+Math.imul(k0,j0)|0,a0=Math.imul(k0,A0),as=as+Math.imul(_o,$o)|0,r0=r0+Math.imul(_o,L0)|0,r0=r0+Math.imul(O0,$o)|0,a0=a0+Math.imul(O0,L0)|0,as=as+Math.imul(vo,Mo)|0,r0=r0+Math.imul(vo,G0)|0,r0=r0+Math.imul(P0,Mo)|0,a0=a0+Math.imul(P0,G0)|0,as=as+Math.imul(I0,Io)|0,r0=r0+Math.imul(I0,q0)|0,r0=r0+Math.imul(C0,Io)|0,a0=a0+Math.imul(C0,q0)|0,as=as+Math.imul(h0,Ro)|0,r0=r0+Math.imul(h0,z0)|0,r0=r0+Math.imul(p0,Ro)|0,a0=a0+Math.imul(p0,z0)|0,as=as+Math.imul(m0,Po)|0,r0=r0+Math.imul(m0,K0)|0,r0=r0+Math.imul(y0,Po)|0,a0=a0+Math.imul(y0,K0)|0,as=as+Math.imul(s0,ko)|0,r0=r0+Math.imul(s0,W0)|0,r0=r0+Math.imul(b0,ko)|0,a0=a0+Math.imul(b0,W0)|0;var Ho=(ga+as|0)+((r0&8191)<<13)|0;ga=(a0+(r0>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,as=Math.imul(Eo,j0),r0=Math.imul(Eo,A0),r0=r0+Math.imul(N0,j0)|0,a0=Math.imul(N0,A0),as=as+Math.imul(To,$o)|0,r0=r0+Math.imul(To,L0)|0,r0=r0+Math.imul(k0,$o)|0,a0=a0+Math.imul(k0,L0)|0,as=as+Math.imul(_o,Mo)|0,r0=r0+Math.imul(_o,G0)|0,r0=r0+Math.imul(O0,Mo)|0,a0=a0+Math.imul(O0,G0)|0,as=as+Math.imul(vo,Io)|0,r0=r0+Math.imul(vo,q0)|0,r0=r0+Math.imul(P0,Io)|0,a0=a0+Math.imul(P0,q0)|0,as=as+Math.imul(I0,Ro)|0,r0=r0+Math.imul(I0,z0)|0,r0=r0+Math.imul(C0,Ro)|0,a0=a0+Math.imul(C0,z0)|0,as=as+Math.imul(h0,Po)|0,r0=r0+Math.imul(h0,K0)|0,r0=r0+Math.imul(p0,Po)|0,a0=a0+Math.imul(p0,K0)|0,as=as+Math.imul(m0,ko)|0,r0=r0+Math.imul(m0,W0)|0,r0=r0+Math.imul(y0,ko)|0,a0=a0+Math.imul(y0,W0)|0,as=as+Math.imul(s0,Ao)|0,r0=r0+Math.imul(s0,H0)|0,r0=r0+Math.imul(b0,Ao)|0,a0=a0+Math.imul(b0,H0)|0;var Vo=(ga+as|0)+((r0&8191)<<13)|0;ga=(a0+(r0>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,as=Math.imul(Co,j0),r0=Math.imul(Co,A0),r0=r0+Math.imul(x0,j0)|0,a0=Math.imul(x0,A0),as=as+Math.imul(Eo,$o)|0,r0=r0+Math.imul(Eo,L0)|0,r0=r0+Math.imul(N0,$o)|0,a0=a0+Math.imul(N0,L0)|0,as=as+Math.imul(To,Mo)|0,r0=r0+Math.imul(To,G0)|0,r0=r0+Math.imul(k0,Mo)|0,a0=a0+Math.imul(k0,G0)|0,as=as+Math.imul(_o,Io)|0,r0=r0+Math.imul(_o,q0)|0,r0=r0+Math.imul(O0,Io)|0,a0=a0+Math.imul(O0,q0)|0,as=as+Math.imul(vo,Ro)|0,r0=r0+Math.imul(vo,z0)|0,r0=r0+Math.imul(P0,Ro)|0,a0=a0+Math.imul(P0,z0)|0,as=as+Math.imul(I0,Po)|0,r0=r0+Math.imul(I0,K0)|0,r0=r0+Math.imul(C0,Po)|0,a0=a0+Math.imul(C0,K0)|0,as=as+Math.imul(h0,ko)|0,r0=r0+Math.imul(h0,W0)|0,r0=r0+Math.imul(p0,ko)|0,a0=a0+Math.imul(p0,W0)|0,as=as+Math.imul(m0,Ao)|0,r0=r0+Math.imul(m0,H0)|0,r0=r0+Math.imul(y0,Ao)|0,a0=a0+Math.imul(y0,H0)|0,as=as+Math.imul(s0,Bo)|0,r0=r0+Math.imul(s0,Q0)|0,r0=r0+Math.imul(b0,Bo)|0,a0=a0+Math.imul(b0,Q0)|0;var Go=(ga+as|0)+((r0&8191)<<13)|0;ga=(a0+(r0>>>13)|0)+(Go>>>26)|0,Go&=67108863,as=Math.imul(v0,j0),r0=Math.imul(v0,A0),r0=r0+Math.imul(_0,j0)|0,a0=Math.imul(_0,A0),as=as+Math.imul(Co,$o)|0,r0=r0+Math.imul(Co,L0)|0,r0=r0+Math.imul(x0,$o)|0,a0=a0+Math.imul(x0,L0)|0,as=as+Math.imul(Eo,Mo)|0,r0=r0+Math.imul(Eo,G0)|0,r0=r0+Math.imul(N0,Mo)|0,a0=a0+Math.imul(N0,G0)|0,as=as+Math.imul(To,Io)|0,r0=r0+Math.imul(To,q0)|0,r0=r0+Math.imul(k0,Io)|0,a0=a0+Math.imul(k0,q0)|0,as=as+Math.imul(_o,Ro)|0,r0=r0+Math.imul(_o,z0)|0,r0=r0+Math.imul(O0,Ro)|0,a0=a0+Math.imul(O0,z0)|0,as=as+Math.imul(vo,Po)|0,r0=r0+Math.imul(vo,K0)|0,r0=r0+Math.imul(P0,Po)|0,a0=a0+Math.imul(P0,K0)|0,as=as+Math.imul(I0,ko)|0,r0=r0+Math.imul(I0,W0)|0,r0=r0+Math.imul(C0,ko)|0,a0=a0+Math.imul(C0,W0)|0,as=as+Math.imul(h0,Ao)|0,r0=r0+Math.imul(h0,H0)|0,r0=r0+Math.imul(p0,Ao)|0,a0=a0+Math.imul(p0,H0)|0,as=as+Math.imul(m0,Bo)|0,r0=r0+Math.imul(m0,Q0)|0,r0=r0+Math.imul(y0,Bo)|0,a0=a0+Math.imul(y0,Q0)|0,as=as+Math.imul(s0,No)|0,r0=r0+Math.imul(s0,Oo)|0,r0=r0+Math.imul(b0,No)|0,a0=a0+Math.imul(b0,Oo)|0;var Zo=(ga+as|0)+((r0&8191)<<13)|0;ga=(a0+(r0>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,as=Math.imul(v0,$o),r0=Math.imul(v0,L0),r0=r0+Math.imul(_0,$o)|0,a0=Math.imul(_0,L0),as=as+Math.imul(Co,Mo)|0,r0=r0+Math.imul(Co,G0)|0,r0=r0+Math.imul(x0,Mo)|0,a0=a0+Math.imul(x0,G0)|0,as=as+Math.imul(Eo,Io)|0,r0=r0+Math.imul(Eo,q0)|0,r0=r0+Math.imul(N0,Io)|0,a0=a0+Math.imul(N0,q0)|0,as=as+Math.imul(To,Ro)|0,r0=r0+Math.imul(To,z0)|0,r0=r0+Math.imul(k0,Ro)|0,a0=a0+Math.imul(k0,z0)|0,as=as+Math.imul(_o,Po)|0,r0=r0+Math.imul(_o,K0)|0,r0=r0+Math.imul(O0,Po)|0,a0=a0+Math.imul(O0,K0)|0,as=as+Math.imul(vo,ko)|0,r0=r0+Math.imul(vo,W0)|0,r0=r0+Math.imul(P0,ko)|0,a0=a0+Math.imul(P0,W0)|0,as=as+Math.imul(I0,Ao)|0,r0=r0+Math.imul(I0,H0)|0,r0=r0+Math.imul(C0,Ao)|0,a0=a0+Math.imul(C0,H0)|0,as=as+Math.imul(h0,Bo)|0,r0=r0+Math.imul(h0,Q0)|0,r0=r0+Math.imul(p0,Bo)|0,a0=a0+Math.imul(p0,Q0)|0,as=as+Math.imul(m0,No)|0,r0=r0+Math.imul(m0,Oo)|0,r0=r0+Math.imul(y0,No)|0,a0=a0+Math.imul(y0,Oo)|0;var Jo=(ga+as|0)+((r0&8191)<<13)|0;ga=(a0+(r0>>>13)|0)+(Jo>>>26)|0,Jo&=67108863,as=Math.imul(v0,Mo),r0=Math.imul(v0,G0),r0=r0+Math.imul(_0,Mo)|0,a0=Math.imul(_0,G0),as=as+Math.imul(Co,Io)|0,r0=r0+Math.imul(Co,q0)|0,r0=r0+Math.imul(x0,Io)|0,a0=a0+Math.imul(x0,q0)|0,as=as+Math.imul(Eo,Ro)|0,r0=r0+Math.imul(Eo,z0)|0,r0=r0+Math.imul(N0,Ro)|0,a0=a0+Math.imul(N0,z0)|0,as=as+Math.imul(To,Po)|0,r0=r0+Math.imul(To,K0)|0,r0=r0+Math.imul(k0,Po)|0,a0=a0+Math.imul(k0,K0)|0,as=as+Math.imul(_o,ko)|0,r0=r0+Math.imul(_o,W0)|0,r0=r0+Math.imul(O0,ko)|0,a0=a0+Math.imul(O0,W0)|0,as=as+Math.imul(vo,Ao)|0,r0=r0+Math.imul(vo,H0)|0,r0=r0+Math.imul(P0,Ao)|0,a0=a0+Math.imul(P0,H0)|0,as=as+Math.imul(I0,Bo)|0,r0=r0+Math.imul(I0,Q0)|0,r0=r0+Math.imul(C0,Bo)|0,a0=a0+Math.imul(C0,Q0)|0,as=as+Math.imul(h0,No)|0,r0=r0+Math.imul(h0,Oo)|0,r0=r0+Math.imul(p0,No)|0,a0=a0+Math.imul(p0,Oo)|0;var Qo=(ga+as|0)+((r0&8191)<<13)|0;ga=(a0+(r0>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,as=Math.imul(v0,Io),r0=Math.imul(v0,q0),r0=r0+Math.imul(_0,Io)|0,a0=Math.imul(_0,q0),as=as+Math.imul(Co,Ro)|0,r0=r0+Math.imul(Co,z0)|0,r0=r0+Math.imul(x0,Ro)|0,a0=a0+Math.imul(x0,z0)|0,as=as+Math.imul(Eo,Po)|0,r0=r0+Math.imul(Eo,K0)|0,r0=r0+Math.imul(N0,Po)|0,a0=a0+Math.imul(N0,K0)|0,as=as+Math.imul(To,ko)|0,r0=r0+Math.imul(To,W0)|0,r0=r0+Math.imul(k0,ko)|0,a0=a0+Math.imul(k0,W0)|0,as=as+Math.imul(_o,Ao)|0,r0=r0+Math.imul(_o,H0)|0,r0=r0+Math.imul(O0,Ao)|0,a0=a0+Math.imul(O0,H0)|0,as=as+Math.imul(vo,Bo)|0,r0=r0+Math.imul(vo,Q0)|0,r0=r0+Math.imul(P0,Bo)|0,a0=a0+Math.imul(P0,Q0)|0,as=as+Math.imul(I0,No)|0,r0=r0+Math.imul(I0,Oo)|0,r0=r0+Math.imul(C0,No)|0,a0=a0+Math.imul(C0,Oo)|0;var Xo=(ga+as|0)+((r0&8191)<<13)|0;ga=(a0+(r0>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,as=Math.imul(v0,Ro),r0=Math.imul(v0,z0),r0=r0+Math.imul(_0,Ro)|0,a0=Math.imul(_0,z0),as=as+Math.imul(Co,Po)|0,r0=r0+Math.imul(Co,K0)|0,r0=r0+Math.imul(x0,Po)|0,a0=a0+Math.imul(x0,K0)|0,as=as+Math.imul(Eo,ko)|0,r0=r0+Math.imul(Eo,W0)|0,r0=r0+Math.imul(N0,ko)|0,a0=a0+Math.imul(N0,W0)|0,as=as+Math.imul(To,Ao)|0,r0=r0+Math.imul(To,H0)|0,r0=r0+Math.imul(k0,Ao)|0,a0=a0+Math.imul(k0,H0)|0,as=as+Math.imul(_o,Bo)|0,r0=r0+Math.imul(_o,Q0)|0,r0=r0+Math.imul(O0,Bo)|0,a0=a0+Math.imul(O0,Q0)|0,as=as+Math.imul(vo,No)|0,r0=r0+Math.imul(vo,Oo)|0,r0=r0+Math.imul(P0,No)|0,a0=a0+Math.imul(P0,Oo)|0;var Wo=(ga+as|0)+((r0&8191)<<13)|0;ga=(a0+(r0>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,as=Math.imul(v0,Po),r0=Math.imul(v0,K0),r0=r0+Math.imul(_0,Po)|0,a0=Math.imul(_0,K0),as=as+Math.imul(Co,ko)|0,r0=r0+Math.imul(Co,W0)|0,r0=r0+Math.imul(x0,ko)|0,a0=a0+Math.imul(x0,W0)|0,as=as+Math.imul(Eo,Ao)|0,r0=r0+Math.imul(Eo,H0)|0,r0=r0+Math.imul(N0,Ao)|0,a0=a0+Math.imul(N0,H0)|0,as=as+Math.imul(To,Bo)|0,r0=r0+Math.imul(To,Q0)|0,r0=r0+Math.imul(k0,Bo)|0,a0=a0+Math.imul(k0,Q0)|0,as=as+Math.imul(_o,No)|0,r0=r0+Math.imul(_o,Oo)|0,r0=r0+Math.imul(O0,No)|0,a0=a0+Math.imul(O0,Oo)|0;var _f=(ga+as|0)+((r0&8191)<<13)|0;ga=(a0+(r0>>>13)|0)+(_f>>>26)|0,_f&=67108863,as=Math.imul(v0,ko),r0=Math.imul(v0,W0),r0=r0+Math.imul(_0,ko)|0,a0=Math.imul(_0,W0),as=as+Math.imul(Co,Ao)|0,r0=r0+Math.imul(Co,H0)|0,r0=r0+Math.imul(x0,Ao)|0,a0=a0+Math.imul(x0,H0)|0,as=as+Math.imul(Eo,Bo)|0,r0=r0+Math.imul(Eo,Q0)|0,r0=r0+Math.imul(N0,Bo)|0,a0=a0+Math.imul(N0,Q0)|0,as=as+Math.imul(To,No)|0,r0=r0+Math.imul(To,Oo)|0,r0=r0+Math.imul(k0,No)|0,a0=a0+Math.imul(k0,Oo)|0;var _c=(ga+as|0)+((r0&8191)<<13)|0;ga=(a0+(r0>>>13)|0)+(_c>>>26)|0,_c&=67108863,as=Math.imul(v0,Ao),r0=Math.imul(v0,H0),r0=r0+Math.imul(_0,Ao)|0,a0=Math.imul(_0,H0),as=as+Math.imul(Co,Bo)|0,r0=r0+Math.imul(Co,Q0)|0,r0=r0+Math.imul(x0,Bo)|0,a0=a0+Math.imul(x0,Q0)|0,as=as+Math.imul(Eo,No)|0,r0=r0+Math.imul(Eo,Oo)|0,r0=r0+Math.imul(N0,No)|0,a0=a0+Math.imul(N0,Oo)|0;var yl=(ga+as|0)+((r0&8191)<<13)|0;ga=(a0+(r0>>>13)|0)+(yl>>>26)|0,yl&=67108863,as=Math.imul(v0,Bo),r0=Math.imul(v0,Q0),r0=r0+Math.imul(_0,Bo)|0,a0=Math.imul(_0,Q0),as=as+Math.imul(Co,No)|0,r0=r0+Math.imul(Co,Oo)|0,r0=r0+Math.imul(x0,No)|0,a0=a0+Math.imul(x0,Oo)|0;var Ll=(ga+as|0)+((r0&8191)<<13)|0;ga=(a0+(r0>>>13)|0)+(Ll>>>26)|0,Ll&=67108863,as=Math.imul(v0,No),r0=Math.imul(v0,Oo),r0=r0+Math.imul(_0,No)|0,a0=Math.imul(_0,Oo);var Ul=(ga+as|0)+((r0&8191)<<13)|0;return ga=(a0+(r0>>>13)|0)+(Ul>>>26)|0,Ul&=67108863,ss[0]=jo,ss[1]=Uo,ss[2]=zo,ss[3]=qo,ss[4]=Fo,ss[5]=Ko,ss[6]=Ho,ss[7]=Vo,ss[8]=Go,ss[9]=Zo,ss[10]=Jo,ss[11]=Qo,ss[12]=Xo,ss[13]=Wo,ss[14]=_f,ss[15]=_c,ss[16]=yl,ss[17]=Ll,ss[18]=Ul,ga!==0&&(ss[19]=ga,os.length++),os};Math.imul||(Ds=gs);function i0(_a,es,ns){ns.negative=es.negative^_a.negative,ns.length=_a.length+es.length;for(var os=0,ls=0,hs=0;hs<ns.length-1;hs++){var ss=ls;ls=0;for(var ga=os&67108863,as=Math.min(hs,es.length-1),r0=Math.max(0,hs-_a.length+1);r0<=as;r0++){var a0=hs-r0,l0=_a.words[a0]|0,s0=es.words[r0]|0,b0=l0*s0,f0=b0&67108863;ss=ss+(b0/67108864|0)|0,f0=f0+ga|0,ga=f0&67108863,ss=ss+(f0>>>26)|0,ls+=ss>>>26,ss&=67108863}ns.words[hs]=ga,os=ss,ss=ls}return os!==0?ns.words[hs]=os:ns.length--,ns._strip()}function n0(_a,es,ns){return i0(_a,es,ns)}An.prototype.mulTo=function(es,ns){var os,ls=this.length+es.length;return this.length===10&&es.length===10?os=Ds(this,es,ns):ls<63?os=gs(this,es,ns):ls<1024?os=i0(this,es,ns):os=n0(this,es,ns),os},An.prototype.mul=function(es){var ns=new An(null);return ns.words=new Array(this.length+es.length),this.mulTo(es,ns)},An.prototype.mulf=function(es){var ns=new An(null);return ns.words=new Array(this.length+es.length),n0(this,es,ns)},An.prototype.imul=function(es){return this.clone().mulTo(es,this)},An.prototype.imuln=function(es){var ns=es<0;ns&&(es=-es),Cn(typeof es=="number"),Cn(es<67108864);for(var os=0,ls=0;ls<this.length;ls++){var hs=(this.words[ls]|0)*es,ss=(hs&67108863)+(os&67108863);os>>=26,os+=hs/67108864|0,os+=ss>>>26,this.words[ls]=ss&67108863}return os!==0&&(this.words[ls]=os,this.length++),ns?this.ineg():this},An.prototype.muln=function(es){return this.clone().imuln(es)},An.prototype.sqr=function(){return this.mul(this)},An.prototype.isqr=function(){return this.imul(this.clone())},An.prototype.pow=function(es){var ns=e0(es);if(ns.length===0)return new An(1);for(var os=this,ls=0;ls<ns.length&&ns[ls]===0;ls++,os=os.sqr());if(++ls<ns.length)for(var hs=os.sqr();ls<ns.length;ls++,hs=hs.sqr())ns[ls]!==0&&(os=os.mul(hs));return os},An.prototype.iushln=function(es){Cn(typeof es=="number"&&es>=0);var ns=es%26,os=(es-ns)/26,ls=67108863>>>26-ns<<26-ns,hs;if(ns!==0){var ss=0;for(hs=0;hs<this.length;hs++){var ga=this.words[hs]&ls,as=(this.words[hs]|0)-ga<<ns;this.words[hs]=as|ss,ss=ga>>>26-ns}ss&&(this.words[hs]=ss,this.length++)}if(os!==0){for(hs=this.length-1;hs>=0;hs--)this.words[hs+os]=this.words[hs];for(hs=0;hs<os;hs++)this.words[hs]=0;this.length+=os}return this._strip()},An.prototype.ishln=function(es){return Cn(this.negative===0),this.iushln(es)},An.prototype.iushrn=function(es,ns,os){Cn(typeof es=="number"&&es>=0);var ls;ns?ls=(ns-ns%26)/26:ls=0;var hs=es%26,ss=Math.min((es-hs)/26,this.length),ga=67108863^67108863>>>hs<<hs,as=os;if(ls-=ss,ls=Math.max(0,ls),as){for(var r0=0;r0<ss;r0++)as.words[r0]=this.words[r0];as.length=ss}if(ss!==0)if(this.length>ss)for(this.length-=ss,r0=0;r0<this.length;r0++)this.words[r0]=this.words[r0+ss];else this.words[0]=0,this.length=1;var a0=0;for(r0=this.length-1;r0>=0&&(a0!==0||r0>=ls);r0--){var l0=this.words[r0]|0;this.words[r0]=a0<<26-hs|l0>>>hs,a0=l0&ga}return as&&a0!==0&&(as.words[as.length++]=a0),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},An.prototype.ishrn=function(es,ns,os){return Cn(this.negative===0),this.iushrn(es,ns,os)},An.prototype.shln=function(es){return this.clone().ishln(es)},An.prototype.ushln=function(es){return this.clone().iushln(es)},An.prototype.shrn=function(es){return this.clone().ishrn(es)},An.prototype.ushrn=function(es){return this.clone().iushrn(es)},An.prototype.testn=function(es){Cn(typeof es=="number"&&es>=0);var ns=es%26,os=(es-ns)/26,ls=1<<ns;if(this.length<=os)return!1;var hs=this.words[os];return!!(hs&ls)},An.prototype.imaskn=function(es){Cn(typeof es=="number"&&es>=0);var ns=es%26,os=(es-ns)/26;if(Cn(this.negative===0,"imaskn works only with positive numbers"),this.length<=os)return this;if(ns!==0&&os++,this.length=Math.min(os,this.length),ns!==0){var ls=67108863^67108863>>>ns<<ns;this.words[this.length-1]&=ls}return this._strip()},An.prototype.maskn=function(es){return this.clone().imaskn(es)},An.prototype.iaddn=function(es){return Cn(typeof es=="number"),Cn(es<67108864),es<0?this.isubn(-es):this.negative!==0?this.length===1&&(this.words[0]|0)<=es?(this.words[0]=es-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(es),this.negative=1,this):this._iaddn(es)},An.prototype._iaddn=function(es){this.words[0]+=es;for(var ns=0;ns<this.length&&this.words[ns]>=67108864;ns++)this.words[ns]-=67108864,ns===this.length-1?this.words[ns+1]=1:this.words[ns+1]++;return this.length=Math.max(this.length,ns+1),this},An.prototype.isubn=function(es){if(Cn(typeof es=="number"),Cn(es<67108864),es<0)return this.iaddn(-es);if(this.negative!==0)return this.negative=0,this.iaddn(es),this.negative=1,this;if(this.words[0]-=es,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ns=0;ns<this.length&&this.words[ns]<0;ns++)this.words[ns]+=67108864,this.words[ns+1]-=1;return this._strip()},An.prototype.addn=function(es){return this.clone().iaddn(es)},An.prototype.subn=function(es){return this.clone().isubn(es)},An.prototype.iabs=function(){return this.negative=0,this},An.prototype.abs=function(){return this.clone().iabs()},An.prototype._ishlnsubmul=function(es,ns,os){var ls=es.length+os,hs;this._expand(ls);var ss,ga=0;for(hs=0;hs<es.length;hs++){ss=(this.words[hs+os]|0)+ga;var as=(es.words[hs]|0)*ns;ss-=as&67108863,ga=(ss>>26)-(as/67108864|0),this.words[hs+os]=ss&67108863}for(;hs<this.length-os;hs++)ss=(this.words[hs+os]|0)+ga,ga=ss>>26,this.words[hs+os]=ss&67108863;if(ga===0)return this._strip();for(Cn(ga===-1),ga=0,hs=0;hs<this.length;hs++)ss=-(this.words[hs]|0)+ga,ga=ss>>26,this.words[hs]=ss&67108863;return this.negative=1,this._strip()},An.prototype._wordDiv=function(es,ns){var os=this.length-es.length,ls=this.clone(),hs=es,ss=hs.words[hs.length-1]|0,ga=this._countBits(ss);os=26-ga,os!==0&&(hs=hs.ushln(os),ls.iushln(os),ss=hs.words[hs.length-1]|0);var as=ls.length-hs.length,r0;if(ns!=="mod"){r0=new An(null),r0.length=as+1,r0.words=new Array(r0.length);for(var a0=0;a0<r0.length;a0++)r0.words[a0]=0}var l0=ls.clone()._ishlnsubmul(hs,1,as);l0.negative===0&&(ls=l0,r0&&(r0.words[as]=1));for(var s0=as-1;s0>=0;s0--){var b0=(ls.words[hs.length+s0]|0)*67108864+(ls.words[hs.length+s0-1]|0);for(b0=Math.min(b0/ss|0,67108863),ls._ishlnsubmul(hs,b0,s0);ls.negative!==0;)b0--,ls.negative=0,ls._ishlnsubmul(hs,1,s0),ls.isZero()||(ls.negative^=1);r0&&(r0.words[s0]=b0)}return r0&&r0._strip(),ls._strip(),ns!=="div"&&os!==0&&ls.iushrn(os),{div:r0||null,mod:ls}},An.prototype.divmod=function(es,ns,os){if(Cn(!es.isZero()),this.isZero())return{div:new An(0),mod:new An(0)};var ls,hs,ss;return this.negative!==0&&es.negative===0?(ss=this.neg().divmod(es,ns),ns!=="mod"&&(ls=ss.div.neg()),ns!=="div"&&(hs=ss.mod.neg(),os&&hs.negative!==0&&hs.iadd(es)),{div:ls,mod:hs}):this.negative===0&&es.negative!==0?(ss=this.divmod(es.neg(),ns),ns!=="mod"&&(ls=ss.div.neg()),{div:ls,mod:ss.mod}):this.negative&es.negative?(ss=this.neg().divmod(es.neg(),ns),ns!=="div"&&(hs=ss.mod.neg(),os&&hs.negative!==0&&hs.isub(es)),{div:ss.div,mod:hs}):es.length>this.length||this.cmp(es)<0?{div:new An(0),mod:this}:es.length===1?ns==="div"?{div:this.divn(es.words[0]),mod:null}:ns==="mod"?{div:null,mod:new An(this.modrn(es.words[0]))}:{div:this.divn(es.words[0]),mod:new An(this.modrn(es.words[0]))}:this._wordDiv(es,ns)},An.prototype.div=function(es){return this.divmod(es,"div",!1).div},An.prototype.mod=function(es){return this.divmod(es,"mod",!1).mod},An.prototype.umod=function(es){return this.divmod(es,"mod",!0).mod},An.prototype.divRound=function(es){var ns=this.divmod(es);if(ns.mod.isZero())return ns.div;var os=ns.div.negative!==0?ns.mod.isub(es):ns.mod,ls=es.ushrn(1),hs=es.andln(1),ss=os.cmp(ls);return ss<0||hs===1&&ss===0?ns.div:ns.div.negative!==0?ns.div.isubn(1):ns.div.iaddn(1)},An.prototype.modrn=function(es){var ns=es<0;ns&&(es=-es),Cn(es<=67108863);for(var os=(1<<26)%es,ls=0,hs=this.length-1;hs>=0;hs--)ls=(os*ls+(this.words[hs]|0))%es;return ns?-ls:ls},An.prototype.modn=function(es){return this.modrn(es)},An.prototype.idivn=function(es){var ns=es<0;ns&&(es=-es),Cn(es<=67108863);for(var os=0,ls=this.length-1;ls>=0;ls--){var hs=(this.words[ls]|0)+os*67108864;this.words[ls]=hs/es|0,os=hs%es}return this._strip(),ns?this.ineg():this},An.prototype.divn=function(es){return this.clone().idivn(es)},An.prototype.egcd=function(es){Cn(es.negative===0),Cn(!es.isZero());var ns=this,os=es.clone();ns.negative!==0?ns=ns.umod(es):ns=ns.clone();for(var ls=new An(1),hs=new An(0),ss=new An(0),ga=new An(1),as=0;ns.isEven()&&os.isEven();)ns.iushrn(1),os.iushrn(1),++as;for(var r0=os.clone(),a0=ns.clone();!ns.isZero();){for(var l0=0,s0=1;!(ns.words[0]&s0)&&l0<26;++l0,s0<<=1);if(l0>0)for(ns.iushrn(l0);l0-- >0;)(ls.isOdd()||hs.isOdd())&&(ls.iadd(r0),hs.isub(a0)),ls.iushrn(1),hs.iushrn(1);for(var b0=0,f0=1;!(os.words[0]&f0)&&b0<26;++b0,f0<<=1);if(b0>0)for(os.iushrn(b0);b0-- >0;)(ss.isOdd()||ga.isOdd())&&(ss.iadd(r0),ga.isub(a0)),ss.iushrn(1),ga.iushrn(1);ns.cmp(os)>=0?(ns.isub(os),ls.isub(ss),hs.isub(ga)):(os.isub(ns),ss.isub(ls),ga.isub(hs))}return{a:ss,b:ga,gcd:os.iushln(as)}},An.prototype._invmp=function(es){Cn(es.negative===0),Cn(!es.isZero());var ns=this,os=es.clone();ns.negative!==0?ns=ns.umod(es):ns=ns.clone();for(var ls=new An(1),hs=new An(0),ss=os.clone();ns.cmpn(1)>0&&os.cmpn(1)>0;){for(var ga=0,as=1;!(ns.words[0]&as)&&ga<26;++ga,as<<=1);if(ga>0)for(ns.iushrn(ga);ga-- >0;)ls.isOdd()&&ls.iadd(ss),ls.iushrn(1);for(var r0=0,a0=1;!(os.words[0]&a0)&&r0<26;++r0,a0<<=1);if(r0>0)for(os.iushrn(r0);r0-- >0;)hs.isOdd()&&hs.iadd(ss),hs.iushrn(1);ns.cmp(os)>=0?(ns.isub(os),ls.isub(hs)):(os.isub(ns),hs.isub(ls))}var l0;return ns.cmpn(1)===0?l0=ls:l0=hs,l0.cmpn(0)<0&&l0.iadd(es),l0},An.prototype.gcd=function(es){if(this.isZero())return es.abs();if(es.isZero())return this.abs();var ns=this.clone(),os=es.clone();ns.negative=0,os.negative=0;for(var ls=0;ns.isEven()&&os.isEven();ls++)ns.iushrn(1),os.iushrn(1);do{for(;ns.isEven();)ns.iushrn(1);for(;os.isEven();)os.iushrn(1);var hs=ns.cmp(os);if(hs<0){var ss=ns;ns=os,os=ss}else if(hs===0||os.cmpn(1)===0)break;ns.isub(os)}while(!0);return os.iushln(ls)},An.prototype.invm=function(es){return this.egcd(es).a.umod(es)},An.prototype.isEven=function(){return(this.words[0]&1)===0},An.prototype.isOdd=function(){return(this.words[0]&1)===1},An.prototype.andln=function(es){return this.words[0]&es},An.prototype.bincn=function(es){Cn(typeof es=="number");var ns=es%26,os=(es-ns)/26,ls=1<<ns;if(this.length<=os)return this._expand(os+1),this.words[os]|=ls,this;for(var hs=ls,ss=os;hs!==0&&ss<this.length;ss++){var ga=this.words[ss]|0;ga+=hs,hs=ga>>>26,ga&=67108863,this.words[ss]=ga}return hs!==0&&(this.words[ss]=hs,this.length++),this},An.prototype.isZero=function(){return this.length===1&&this.words[0]===0},An.prototype.cmpn=function(es){var ns=es<0;if(this.negative!==0&&!ns)return-1;if(this.negative===0&&ns)return 1;this._strip();var os;if(this.length>1)os=1;else{ns&&(es=-es),Cn(es<=67108863,"Number is too big");var ls=this.words[0]|0;os=ls===es?0:ls<es?-1:1}return this.negative!==0?-os|0:os},An.prototype.cmp=function(es){if(this.negative!==0&&es.negative===0)return-1;if(this.negative===0&&es.negative!==0)return 1;var ns=this.ucmp(es);return this.negative!==0?-ns|0:ns},An.prototype.ucmp=function(es){if(this.length>es.length)return 1;if(this.length<es.length)return-1;for(var ns=0,os=this.length-1;os>=0;os--){var ls=this.words[os]|0,hs=es.words[os]|0;if(ls!==hs){ls<hs?ns=-1:ls>hs&&(ns=1);break}}return ns},An.prototype.gtn=function(es){return this.cmpn(es)===1},An.prototype.gt=function(es){return this.cmp(es)===1},An.prototype.gten=function(es){return this.cmpn(es)>=0},An.prototype.gte=function(es){return this.cmp(es)>=0},An.prototype.ltn=function(es){return this.cmpn(es)===-1},An.prototype.lt=function(es){return this.cmp(es)===-1},An.prototype.lten=function(es){return this.cmpn(es)<=0},An.prototype.lte=function(es){return this.cmp(es)<=0},An.prototype.eqn=function(es){return this.cmpn(es)===0},An.prototype.eq=function(es){return this.cmp(es)===0},An.red=function(es){return new ds(es)},An.prototype.toRed=function(es){return Cn(!this.red,"Already a number in reduction context"),Cn(this.negative===0,"red works only with positives"),es.convertTo(this)._forceRed(es)},An.prototype.fromRed=function(){return Cn(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},An.prototype._forceRed=function(es){return this.red=es,this},An.prototype.forceRed=function(es){return Cn(!this.red,"Already a number in reduction context"),this._forceRed(es)},An.prototype.redAdd=function(es){return Cn(this.red,"redAdd works only with red numbers"),this.red.add(this,es)},An.prototype.redIAdd=function(es){return Cn(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,es)},An.prototype.redSub=function(es){return Cn(this.red,"redSub works only with red numbers"),this.red.sub(this,es)},An.prototype.redISub=function(es){return Cn(this.red,"redISub works only with red numbers"),this.red.isub(this,es)},An.prototype.redShl=function(es){return Cn(this.red,"redShl works only with red numbers"),this.red.shl(this,es)},An.prototype.redMul=function(es){return Cn(this.red,"redMul works only with red numbers"),this.red._verify2(this,es),this.red.mul(this,es)},An.prototype.redIMul=function(es){return Cn(this.red,"redMul works only with red numbers"),this.red._verify2(this,es),this.red.imul(this,es)},An.prototype.redSqr=function(){return Cn(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},An.prototype.redISqr=function(){return Cn(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},An.prototype.redSqrt=function(){return Cn(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},An.prototype.redInvm=function(){return Cn(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},An.prototype.redNeg=function(){return Cn(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},An.prototype.redPow=function(es){return Cn(this.red&&!es.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,es)};var c0={k256:null,p224:null,p192:null,p25519:null};function d0(_a,es){this.name=_a,this.p=new An(es,16),this.n=this.p.bitLength(),this.k=new An(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}d0.prototype._tmp=function(){var es=new An(null);return es.words=new Array(Math.ceil(this.n/13)),es},d0.prototype.ireduce=function(es){var ns=es,os;do this.split(ns,this.tmp),ns=this.imulK(ns),ns=ns.iadd(this.tmp),os=ns.bitLength();while(os>this.n);var ls=os<this.n?-1:ns.ucmp(this.p);return ls===0?(ns.words[0]=0,ns.length=1):ls>0?ns.isub(this.p):ns.strip!==void 0?ns.strip():ns._strip(),ns},d0.prototype.split=function(es,ns){es.iushrn(this.n,0,ns)},d0.prototype.imulK=function(es){return es.imul(this.k)};function o0(){d0.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}_i(o0,d0),o0.prototype.split=function(es,ns){for(var os=4194303,ls=Math.min(es.length,9),hs=0;hs<ls;hs++)ns.words[hs]=es.words[hs];if(ns.length=ls,es.length<=9){es.words[0]=0,es.length=1;return}var ss=es.words[9];for(ns.words[ns.length++]=ss&os,hs=10;hs<es.length;hs++){var ga=es.words[hs]|0;es.words[hs-10]=(ga&os)<<4|ss>>>22,ss=ga}ss>>>=22,es.words[hs-10]=ss,ss===0&&es.length>10?es.length-=10:es.length-=9},o0.prototype.imulK=function(es){es.words[es.length]=0,es.words[es.length+1]=0,es.length+=2;for(var ns=0,os=0;os<es.length;os++){var ls=es.words[os]|0;ns+=ls*977,es.words[os]=ns&67108863,ns=ls*64+(ns/67108864|0)}return es.words[es.length-1]===0&&(es.length--,es.words[es.length-1]===0&&es.length--),es};function g0(){d0.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}_i(g0,d0);function w0(){d0.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}_i(w0,d0);function M0(){d0.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}_i(M0,d0),M0.prototype.imulK=function(es){for(var ns=0,os=0;os<es.length;os++){var ls=(es.words[os]|0)*19+ns,hs=ls&67108863;ls>>>=26,es.words[os]=hs,ns=ls}return ns!==0&&(es.words[es.length++]=ns),es},An._prime=function(es){if(c0[es])return c0[es];var ns;if(es==="k256")ns=new o0;else if(es==="p224")ns=new g0;else if(es==="p192")ns=new w0;else if(es==="p25519")ns=new M0;else throw new Error("Unknown prime "+es);return c0[es]=ns,ns};function ds(_a){if(typeof _a=="string"){var es=An._prime(_a);this.m=es.p,this.prime=es}else Cn(_a.gtn(1),"modulus must be greater than 1"),this.m=_a,this.prime=null}ds.prototype._verify1=function(es){Cn(es.negative===0,"red works only with positives"),Cn(es.red,"red works only with red numbers")},ds.prototype._verify2=function(es,ns){Cn((es.negative|ns.negative)===0,"red works only with positives"),Cn(es.red&&es.red===ns.red,"red works only with red numbers")},ds.prototype.imod=function(es){return this.prime?this.prime.ireduce(es)._forceRed(this):(ts(es,es.umod(this.m)._forceRed(this)),es)},ds.prototype.neg=function(es){return es.isZero()?es.clone():this.m.sub(es)._forceRed(this)},ds.prototype.add=function(es,ns){this._verify2(es,ns);var os=es.add(ns);return os.cmp(this.m)>=0&&os.isub(this.m),os._forceRed(this)},ds.prototype.iadd=function(es,ns){this._verify2(es,ns);var os=es.iadd(ns);return os.cmp(this.m)>=0&&os.isub(this.m),os},ds.prototype.sub=function(es,ns){this._verify2(es,ns);var os=es.sub(ns);return os.cmpn(0)<0&&os.iadd(this.m),os._forceRed(this)},ds.prototype.isub=function(es,ns){this._verify2(es,ns);var os=es.isub(ns);return os.cmpn(0)<0&&os.iadd(this.m),os},ds.prototype.shl=function(es,ns){return this._verify1(es),this.imod(es.ushln(ns))},ds.prototype.imul=function(es,ns){return this._verify2(es,ns),this.imod(es.imul(ns))},ds.prototype.mul=function(es,ns){return this._verify2(es,ns),this.imod(es.mul(ns))},ds.prototype.isqr=function(es){return this.imul(es,es.clone())},ds.prototype.sqr=function(es){return this.mul(es,es)},ds.prototype.sqrt=function(es){if(es.isZero())return es.clone();var ns=this.m.andln(3);if(Cn(ns%2===1),ns===3){var os=this.m.add(new An(1)).iushrn(2);return this.pow(es,os)}for(var ls=this.m.subn(1),hs=0;!ls.isZero()&&ls.andln(1)===0;)hs++,ls.iushrn(1);Cn(!ls.isZero());var ss=new An(1).toRed(this),ga=ss.redNeg(),as=this.m.subn(1).iushrn(1),r0=this.m.bitLength();for(r0=new An(2*r0*r0).toRed(this);this.pow(r0,as).cmp(ga)!==0;)r0.redIAdd(ga);for(var a0=this.pow(r0,ls),l0=this.pow(es,ls.addn(1).iushrn(1)),s0=this.pow(es,ls),b0=hs;s0.cmp(ss)!==0;){for(var f0=s0,m0=0;f0.cmp(ss)!==0;m0++)f0=f0.redSqr();Cn(m0<b0);var y0=this.pow(a0,new An(1).iushln(b0-m0-1));l0=l0.redMul(y0),a0=y0.redSqr(),s0=s0.redMul(a0),b0=m0}return l0},ds.prototype.invm=function(es){var ns=es._invmp(this.m);return ns.negative!==0?(ns.negative=0,this.imod(ns).redNeg()):this.imod(ns)},ds.prototype.pow=function(es,ns){if(ns.isZero())return new An(1).toRed(this);if(ns.cmpn(1)===0)return es.clone();var os=4,ls=new Array(1<<os);ls[0]=new An(1).toRed(this),ls[1]=es;for(var hs=2;hs<ls.length;hs++)ls[hs]=this.mul(ls[hs-1],es);var ss=ls[0],ga=0,as=0,r0=ns.bitLength()%26;for(r0===0&&(r0=26),hs=ns.length-1;hs>=0;hs--){for(var a0=ns.words[hs],l0=r0-1;l0>=0;l0--){var s0=a0>>l0&1;if(ss!==ls[0]&&(ss=this.sqr(ss)),s0===0&&ga===0){as=0;continue}ga<<=1,ga|=s0,as++,!(as!==os&&(hs!==0||l0!==0))&&(ss=this.mul(ss,ls[ga]),as=0,ga=0)}r0=26}return ss},ds.prototype.convertTo=function(es){var ns=es.umod(this.m);return ns===es?ns.clone():ns},ds.prototype.convertFrom=function(es){var ns=es.clone();return ns.red=null,ns},An.mont=function(es){return new na(es)};function na(_a){ds.call(this,_a),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new An(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_i(na,ds),na.prototype.convertTo=function(es){return this.imod(es.ushln(this.shift))},na.prototype.convertFrom=function(es){var ns=this.imod(es.mul(this.rinv));return ns.red=null,ns},na.prototype.imul=function(es,ns){if(es.isZero()||ns.isZero())return es.words[0]=0,es.length=1,es;var os=es.imul(ns),ls=os.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),hs=os.isub(ls).iushrn(this.shift),ss=hs;return hs.cmp(this.m)>=0?ss=hs.isub(this.m):hs.cmpn(0)<0&&(ss=hs.iadd(this.m)),ss._forceRed(this)},na.prototype.mul=function(es,ns){if(es.isZero()||ns.isZero())return new An(0)._forceRed(this);var os=es.mul(ns),ls=os.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),hs=os.isub(ls).iushrn(this.shift),ss=hs;return hs.cmp(this.m)>=0?ss=hs.isub(this.m):hs.cmpn(0)<0&&(ss=hs.iadd(this.m)),ss._forceRed(this)},na.prototype.invm=function(es){var ns=this.imod(es._invmp(this.m).mul(this.r2));return ns._forceRed(this)}})(vn,commonjsGlobal)})(bn$b);var bnExports$2=bn$b.exports;const BN$h=getDefaultExportFromCjs$1(bnExports$2),version$u="logger/5.7.0";let _permanentCensorErrors=!1,_censorErrors=!1;const LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel=LogLevels.default,_globalLogger=null;function _checkNormalize(){try{const vn=[];if(["NFD","NFC","NFKD","NFKC"].forEach(fn=>{try{if("test".normalize(fn)!=="test")throw new Error("bad normalize")}catch{vn.push(fn)}}),vn.length)throw new Error("missing "+vn.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(vn){return vn.message}return null}const _normalizeError=_checkNormalize();var LogLevel;(function(vn){vn.DEBUG="DEBUG",vn.INFO="INFO",vn.WARNING="WARNING",vn.ERROR="ERROR",vn.OFF="OFF"})(LogLevel||(LogLevel={}));var ErrorCode;(function(vn){vn.UNKNOWN_ERROR="UNKNOWN_ERROR",vn.NOT_IMPLEMENTED="NOT_IMPLEMENTED",vn.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",vn.NETWORK_ERROR="NETWORK_ERROR",vn.SERVER_ERROR="SERVER_ERROR",vn.TIMEOUT="TIMEOUT",vn.BUFFER_OVERRUN="BUFFER_OVERRUN",vn.NUMERIC_FAULT="NUMERIC_FAULT",vn.MISSING_NEW="MISSING_NEW",vn.INVALID_ARGUMENT="INVALID_ARGUMENT",vn.MISSING_ARGUMENT="MISSING_ARGUMENT",vn.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",vn.CALL_EXCEPTION="CALL_EXCEPTION",vn.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",vn.NONCE_EXPIRED="NONCE_EXPIRED",vn.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",vn.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",vn.TRANSACTION_REPLACED="TRANSACTION_REPLACED",vn.ACTION_REJECTED="ACTION_REJECTED"})(ErrorCode||(ErrorCode={}));const HEX="0123456789abcdef";class Logger{constructor(fn){Object.defineProperty(this,"version",{enumerable:!0,value:fn,writable:!1})}_log(fn,En){const Cn=fn.toLowerCase();LogLevels[Cn]==null&&this.throwArgumentError("invalid log level name","logLevel",fn),!(_logLevel>LogLevels[Cn])&&console.log.apply(console,En)}debug(...fn){this._log(Logger.levels.DEBUG,fn)}info(...fn){this._log(Logger.levels.INFO,fn)}warn(...fn){this._log(Logger.levels.WARNING,fn)}makeError(fn,En,Cn){if(_censorErrors)return this.makeError("censored error",En,{});En||(En=Logger.errors.UNKNOWN_ERROR),Cn||(Cn={});const _i=[];Object.keys(Cn).forEach($a=>{const rs=Cn[$a];try{if(rs instanceof Uint8Array){let ts="";for(let is=0;is<rs.length;is++)ts+=HEX[rs[is]>>4],ts+=HEX[rs[is]&15];_i.push($a+"=Uint8Array(0x"+ts+")")}else _i.push($a+"="+JSON.stringify(rs))}catch{_i.push($a+"="+JSON.stringify(Cn[$a].toString()))}}),_i.push(`code=${En}`),_i.push(`version=${this.version}`);const An=fn;let ba="";switch(En){case ErrorCode.NUMERIC_FAULT:{ba="NUMERIC_FAULT";const $a=fn;switch($a){case"overflow":case"underflow":case"division-by-zero":ba+="-"+$a;break;case"negative-power":case"negative-width":ba+="-unsupported";break;case"unbound-bitwise-result":ba+="-unbound-result";break}break}case ErrorCode.CALL_EXCEPTION:case ErrorCode.INSUFFICIENT_FUNDS:case ErrorCode.MISSING_NEW:case ErrorCode.NONCE_EXPIRED:case ErrorCode.REPLACEMENT_UNDERPRICED:case ErrorCode.TRANSACTION_REPLACED:case ErrorCode.UNPREDICTABLE_GAS_LIMIT:ba=En;break}ba&&(fn+=" [ See: https://links.ethers.org/v5-errors-"+ba+" ]"),_i.length&&(fn+=" ("+_i.join(", ")+")");const xa=new Error(fn);return xa.reason=An,xa.code=En,Object.keys(Cn).forEach(function($a){xa[$a]=Cn[$a]}),xa}throwError(fn,En,Cn){throw this.makeError(fn,En,Cn)}throwArgumentError(fn,En,Cn){return this.throwError(fn,Logger.errors.INVALID_ARGUMENT,{argument:En,value:Cn})}assert(fn,En,Cn,_i){fn||this.throwError(En,Cn,_i)}assertArgument(fn,En,Cn,_i){fn||this.throwArgumentError(En,Cn,_i)}checkNormalize(fn){_normalizeError&&this.throwError("platform missing String.prototype.normalize",Logger.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}checkSafeUint53(fn,En){typeof fn=="number"&&(En==null&&(En="value not safe"),(fn<0||fn>=9007199254740991)&&this.throwError(En,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:fn}),fn%1&&this.throwError(En,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:fn}))}checkArgumentCount(fn,En,Cn){Cn?Cn=": "+Cn:Cn="",fn<En&&this.throwError("missing argument"+Cn,Logger.errors.MISSING_ARGUMENT,{count:fn,expectedCount:En}),fn>En&&this.throwError("too many arguments"+Cn,Logger.errors.UNEXPECTED_ARGUMENT,{count:fn,expectedCount:En})}checkNew(fn,En){(fn===Object||fn==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:En.name})}checkAbstract(fn,En){fn===En?this.throwError("cannot instantiate abstract class "+JSON.stringify(En.name)+" directly; use a sub-class",Logger.errors.UNSUPPORTED_OPERATION,{name:fn.name,operation:"new"}):(fn===Object||fn==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:En.name})}static globalLogger(){return _globalLogger||(_globalLogger=new Logger(version$u)),_globalLogger}static setCensorship(fn,En){if(!fn&&En&&this.globalLogger().throwError("cannot permanently disable censorship",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors){if(!fn)return;this.globalLogger().throwError("error censorship permanent",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!fn,_permanentCensorErrors=!!En}static setLogLevel(fn){const En=LogLevels[fn.toLowerCase()];if(En==null){Logger.globalLogger().warn("invalid log level - "+fn);return}_logLevel=En}static from(fn){return new Logger(fn)}}Logger.errors=ErrorCode;Logger.levels=LogLevel;const lib_esm$o=Object.freeze(Object.defineProperty({__proto__:null,get ErrorCode(){return ErrorCode},get LogLevel(){return LogLevel},Logger},Symbol.toStringTag,{value:"Module"})),version$t="bytes/5.7.0",logger$J=new Logger(version$t);function isHexable(vn){return!!vn.toHexString}function addSlice(vn){return vn.slice||(vn.slice=function(){const fn=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(vn,fn)))}),vn}function isBytesLike(vn){return isHexString(vn)&&!(vn.length%2)||isBytes$1(vn)}function isInteger(vn){return typeof vn=="number"&&vn==vn&&vn%1===0}function isBytes$1(vn){if(vn==null)return!1;if(vn.constructor===Uint8Array)return!0;if(typeof vn=="string"||!isInteger(vn.length)||vn.length<0)return!1;for(let fn=0;fn<vn.length;fn++){const En=vn[fn];if(!isInteger(En)||En<0||En>=256)return!1}return!0}function arrayify(vn,fn){if(fn||(fn={}),typeof vn=="number"){logger$J.checkSafeUint53(vn,"invalid arrayify value");const En=[];for(;vn;)En.unshift(vn&255),vn=parseInt(String(vn/256));return En.length===0&&En.push(0),addSlice(new Uint8Array(En))}if(fn.allowMissingPrefix&&typeof vn=="string"&&vn.substring(0,2)!=="0x"&&(vn="0x"+vn),isHexable(vn)&&(vn=vn.toHexString()),isHexString(vn)){let En=vn.substring(2);En.length%2&&(fn.hexPad==="left"?En="0"+En:fn.hexPad==="right"?En+="0":logger$J.throwArgumentError("hex data is odd-length","value",vn));const Cn=[];for(let _i=0;_i<En.length;_i+=2)Cn.push(parseInt(En.substring(_i,_i+2),16));return addSlice(new Uint8Array(Cn))}return isBytes$1(vn)?addSlice(new Uint8Array(vn)):logger$J.throwArgumentError("invalid arrayify value","value",vn)}function concat$3(vn){const fn=vn.map(_i=>arrayify(_i)),En=fn.reduce((_i,An)=>_i+An.length,0),Cn=new Uint8Array(En);return fn.reduce((_i,An)=>(Cn.set(An,_i),_i+An.length),0),addSlice(Cn)}function stripZeros(vn){let fn=arrayify(vn);if(fn.length===0)return fn;let En=0;for(;En<fn.length&&fn[En]===0;)En++;return En&&(fn=fn.slice(En)),fn}function zeroPad(vn,fn){vn=arrayify(vn),vn.length>fn&&logger$J.throwArgumentError("value out of range","value",arguments[0]);const En=new Uint8Array(fn);return En.set(vn,fn-vn.length),addSlice(En)}function isHexString(vn,fn){return!(typeof vn!="string"||!vn.match(/^0x[0-9A-Fa-f]*$/)||fn&&vn.length!==2+2*fn)}const HexCharacters="0123456789abcdef";function hexlify(vn,fn){if(fn||(fn={}),typeof vn=="number"){logger$J.checkSafeUint53(vn,"invalid hexlify value");let En="";for(;vn;)En=HexCharacters[vn&15]+En,vn=Math.floor(vn/16);return En.length?(En.length%2&&(En="0"+En),"0x"+En):"0x00"}if(typeof vn=="bigint")return vn=vn.toString(16),vn.length%2?"0x0"+vn:"0x"+vn;if(fn.allowMissingPrefix&&typeof vn=="string"&&vn.substring(0,2)!=="0x"&&(vn="0x"+vn),isHexable(vn))return vn.toHexString();if(isHexString(vn))return vn.length%2&&(fn.hexPad==="left"?vn="0x0"+vn.substring(2):fn.hexPad==="right"?vn+="0":logger$J.throwArgumentError("hex data is odd-length","value",vn)),vn.toLowerCase();if(isBytes$1(vn)){let En="0x";for(let Cn=0;Cn<vn.length;Cn++){let _i=vn[Cn];En+=HexCharacters[(_i&240)>>4]+HexCharacters[_i&15]}return En}return logger$J.throwArgumentError("invalid hexlify value","value",vn)}function hexDataLength(vn){if(typeof vn!="string")vn=hexlify(vn);else if(!isHexString(vn)||vn.length%2)return null;return(vn.length-2)/2}function hexDataSlice(vn,fn,En){return typeof vn!="string"?vn=hexlify(vn):(!isHexString(vn)||vn.length%2)&&logger$J.throwArgumentError("invalid hexData","value",vn),fn=2+2*fn,En!=null?"0x"+vn.substring(fn,2+2*En):"0x"+vn.substring(fn)}function hexConcat(vn){let fn="0x";return vn.forEach(En=>{fn+=hexlify(En).substring(2)}),fn}function hexValue(vn){const fn=hexStripZeros(hexlify(vn,{hexPad:"left"}));return fn==="0x"?"0x0":fn}function hexStripZeros(vn){typeof vn!="string"&&(vn=hexlify(vn)),isHexString(vn)||logger$J.throwArgumentError("invalid hex string","value",vn),vn=vn.substring(2);let fn=0;for(;fn<vn.length&&vn[fn]==="0";)fn++;return"0x"+vn.substring(fn)}function hexZeroPad(vn,fn){for(typeof vn!="string"?vn=hexlify(vn):isHexString(vn)||logger$J.throwArgumentError("invalid hex string","value",vn),vn.length>2*fn+2&&logger$J.throwArgumentError("value out of range","value",arguments[1]);vn.length<2*fn+2;)vn="0x0"+vn.substring(2);return vn}function splitSignature(vn){const fn={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike(vn)){let En=arrayify(vn);En.length===64?(fn.v=27+(En[32]>>7),En[32]&=127,fn.r=hexlify(En.slice(0,32)),fn.s=hexlify(En.slice(32,64))):En.length===65?(fn.r=hexlify(En.slice(0,32)),fn.s=hexlify(En.slice(32,64)),fn.v=En[64]):logger$J.throwArgumentError("invalid signature string","signature",vn),fn.v<27&&(fn.v===0||fn.v===1?fn.v+=27:logger$J.throwArgumentError("signature invalid v byte","signature",vn)),fn.recoveryParam=1-fn.v%2,fn.recoveryParam&&(En[32]|=128),fn._vs=hexlify(En.slice(32,64))}else{if(fn.r=vn.r,fn.s=vn.s,fn.v=vn.v,fn.recoveryParam=vn.recoveryParam,fn._vs=vn._vs,fn._vs!=null){const _i=zeroPad(arrayify(fn._vs),32);fn._vs=hexlify(_i);const An=_i[0]>=128?1:0;fn.recoveryParam==null?fn.recoveryParam=An:fn.recoveryParam!==An&&logger$J.throwArgumentError("signature recoveryParam mismatch _vs","signature",vn),_i[0]&=127;const ba=hexlify(_i);fn.s==null?fn.s=ba:fn.s!==ba&&logger$J.throwArgumentError("signature v mismatch _vs","signature",vn)}if(fn.recoveryParam==null)fn.v==null?logger$J.throwArgumentError("signature missing v and recoveryParam","signature",vn):fn.v===0||fn.v===1?fn.recoveryParam=fn.v:fn.recoveryParam=1-fn.v%2;else if(fn.v==null)fn.v=27+fn.recoveryParam;else{const _i=fn.v===0||fn.v===1?fn.v:1-fn.v%2;fn.recoveryParam!==_i&&logger$J.throwArgumentError("signature recoveryParam mismatch v","signature",vn)}fn.r==null||!isHexString(fn.r)?logger$J.throwArgumentError("signature missing or invalid r","signature",vn):fn.r=hexZeroPad(fn.r,32),fn.s==null||!isHexString(fn.s)?logger$J.throwArgumentError("signature missing or invalid s","signature",vn):fn.s=hexZeroPad(fn.s,32);const En=arrayify(fn.s);En[0]>=128&&logger$J.throwArgumentError("signature s out of range","signature",vn),fn.recoveryParam&&(En[0]|=128);const Cn=hexlify(En);fn._vs&&(isHexString(fn._vs)||logger$J.throwArgumentError("signature invalid _vs","signature",vn),fn._vs=hexZeroPad(fn._vs,32)),fn._vs==null?fn._vs=Cn:fn._vs!==Cn&&logger$J.throwArgumentError("signature _vs mismatch v and s","signature",vn)}return fn.yParityAndS=fn._vs,fn.compact=fn.r+fn.yParityAndS.substring(2),fn}function joinSignature(vn){return vn=splitSignature(vn),hexlify(concat$3([vn.r,vn.s,vn.recoveryParam?"0x1c":"0x1b"]))}const lib_esm$n=Object.freeze(Object.defineProperty({__proto__:null,arrayify,concat:concat$3,hexConcat,hexDataLength,hexDataSlice,hexStripZeros,hexValue,hexZeroPad,hexlify,isBytes:isBytes$1,isBytesLike,isHexString,joinSignature,splitSignature,stripZeros,zeroPad},Symbol.toStringTag,{value:"Module"})),version$s="bignumber/5.7.0";var BN$g=BN$h.BN;const logger$I=new Logger(version$s),_constructorGuard$4={},MAX_SAFE=9007199254740991;function isBigNumberish(vn){return vn!=null&&(BigNumber.isBigNumber(vn)||typeof vn=="number"&&vn%1===0||typeof vn=="string"&&!!vn.match(/^-?[0-9]+$/)||isHexString(vn)||typeof vn=="bigint"||isBytes$1(vn))}let _warnedToStringRadix=!1;class BigNumber{constructor(fn,En){fn!==_constructorGuard$4&&logger$I.throwError("cannot call constructor directly; use BigNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=En,this._isBigNumber=!0,Object.freeze(this)}fromTwos(fn){return toBigNumber(toBN(this).fromTwos(fn))}toTwos(fn){return toBigNumber(toBN(this).toTwos(fn))}abs(){return this._hex[0]==="-"?BigNumber.from(this._hex.substring(1)):this}add(fn){return toBigNumber(toBN(this).add(toBN(fn)))}sub(fn){return toBigNumber(toBN(this).sub(toBN(fn)))}div(fn){return BigNumber.from(fn).isZero()&&throwFault$1("division-by-zero","div"),toBigNumber(toBN(this).div(toBN(fn)))}mul(fn){return toBigNumber(toBN(this).mul(toBN(fn)))}mod(fn){const En=toBN(fn);return En.isNeg()&&throwFault$1("division-by-zero","mod"),toBigNumber(toBN(this).umod(En))}pow(fn){const En=toBN(fn);return En.isNeg()&&throwFault$1("negative-power","pow"),toBigNumber(toBN(this).pow(En))}and(fn){const En=toBN(fn);return(this.isNegative()||En.isNeg())&&throwFault$1("unbound-bitwise-result","and"),toBigNumber(toBN(this).and(En))}or(fn){const En=toBN(fn);return(this.isNegative()||En.isNeg())&&throwFault$1("unbound-bitwise-result","or"),toBigNumber(toBN(this).or(En))}xor(fn){const En=toBN(fn);return(this.isNegative()||En.isNeg())&&throwFault$1("unbound-bitwise-result","xor"),toBigNumber(toBN(this).xor(En))}mask(fn){return(this.isNegative()||fn<0)&&throwFault$1("negative-width","mask"),toBigNumber(toBN(this).maskn(fn))}shl(fn){return(this.isNegative()||fn<0)&&throwFault$1("negative-width","shl"),toBigNumber(toBN(this).shln(fn))}shr(fn){return(this.isNegative()||fn<0)&&throwFault$1("negative-width","shr"),toBigNumber(toBN(this).shrn(fn))}eq(fn){return toBN(this).eq(toBN(fn))}lt(fn){return toBN(this).lt(toBN(fn))}lte(fn){return toBN(this).lte(toBN(fn))}gt(fn){return toBN(this).gt(toBN(fn))}gte(fn){return toBN(this).gte(toBN(fn))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN(this).isZero()}toNumber(){try{return toBN(this).toNumber()}catch{throwFault$1("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return logger$I.throwError("this platform does not support BigInt",Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?_warnedToStringRadix||(_warnedToStringRadix=!0,logger$I.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?logger$I.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger.errors.UNEXPECTED_ARGUMENT,{}):logger$I.throwError("BigNumber.toString does not accept parameters",Logger.errors.UNEXPECTED_ARGUMENT,{})),toBN(this).toString(10)}toHexString(){return this._hex}toJSON(fn){return{type:"BigNumber",hex:this.toHexString()}}static from(fn){if(fn instanceof BigNumber)return fn;if(typeof fn=="string")return fn.match(/^-?0x[0-9a-f]+$/i)?new BigNumber(_constructorGuard$4,toHex$2(fn)):fn.match(/^-?[0-9]+$/)?new BigNumber(_constructorGuard$4,toHex$2(new BN$g(fn))):logger$I.throwArgumentError("invalid BigNumber string","value",fn);if(typeof fn=="number")return fn%1&&throwFault$1("underflow","BigNumber.from",fn),(fn>=MAX_SAFE||fn<=-MAX_SAFE)&&throwFault$1("overflow","BigNumber.from",fn),BigNumber.from(String(fn));const En=fn;if(typeof En=="bigint")return BigNumber.from(En.toString());if(isBytes$1(En))return BigNumber.from(hexlify(En));if(En)if(En.toHexString){const Cn=En.toHexString();if(typeof Cn=="string")return BigNumber.from(Cn)}else{let Cn=En._hex;if(Cn==null&&En.type==="BigNumber"&&(Cn=En.hex),typeof Cn=="string"&&(isHexString(Cn)||Cn[0]==="-"&&isHexString(Cn.substring(1))))return BigNumber.from(Cn)}return logger$I.throwArgumentError("invalid BigNumber value","value",fn)}static isBigNumber(fn){return!!(fn&&fn._isBigNumber)}}function toHex$2(vn){if(typeof vn!="string")return toHex$2(vn.toString(16));if(vn[0]==="-")return vn=vn.substring(1),vn[0]==="-"&&logger$I.throwArgumentError("invalid hex","value",vn),vn=toHex$2(vn),vn==="0x00"?vn:"-"+vn;if(vn.substring(0,2)!=="0x"&&(vn="0x"+vn),vn==="0x")return"0x00";for(vn.length%2&&(vn="0x0"+vn.substring(2));vn.length>4&&vn.substring(0,4)==="0x00";)vn="0x"+vn.substring(4);return vn}function toBigNumber(vn){return BigNumber.from(toHex$2(vn))}function toBN(vn){const fn=BigNumber.from(vn).toHexString();return fn[0]==="-"?new BN$g("-"+fn.substring(3),16):new BN$g(fn.substring(2),16)}function throwFault$1(vn,fn,En){const Cn={fault:vn,operation:fn};return En!=null&&(Cn.value=En),logger$I.throwError(vn,Logger.errors.NUMERIC_FAULT,Cn)}function _base36To16(vn){return new BN$g(vn,36).toString(16)}function _base16To36(vn){return new BN$g(vn,16).toString(36)}const logger$H=new Logger(version$s),_constructorGuard$3={},Zero$2=BigNumber.from(0),NegativeOne$2=BigNumber.from(-1);function throwFault(vn,fn,En,Cn){const _i={fault:fn,operation:En};return Cn!==void 0&&(_i.value=Cn),logger$H.throwError(vn,Logger.errors.NUMERIC_FAULT,_i)}let zeros="0";for(;zeros.length<256;)zeros+=zeros;function getMultiplier(vn){if(typeof vn!="number")try{vn=BigNumber.from(vn).toNumber()}catch{}return typeof vn=="number"&&vn>=0&&vn<=256&&!(vn%1)?"1"+zeros.substring(0,vn):logger$H.throwArgumentError("invalid decimal size","decimals",vn)}function formatFixed(vn,fn){fn==null&&(fn=0);const En=getMultiplier(fn);vn=BigNumber.from(vn);const Cn=vn.lt(Zero$2);Cn&&(vn=vn.mul(NegativeOne$2));let _i=vn.mod(En).toString();for(;_i.length<En.length-1;)_i="0"+_i;_i=_i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const An=vn.div(En).toString();return En.length===1?vn=An:vn=An+"."+_i,Cn&&(vn="-"+vn),vn}function parseFixed(vn,fn){fn==null&&(fn=0);const En=getMultiplier(fn);(typeof vn!="string"||!vn.match(/^-?[0-9.]+$/))&&logger$H.throwArgumentError("invalid decimal value","value",vn);const Cn=vn.substring(0,1)==="-";Cn&&(vn=vn.substring(1)),vn==="."&&logger$H.throwArgumentError("missing value","value",vn);const _i=vn.split(".");_i.length>2&&logger$H.throwArgumentError("too many decimal points","value",vn);let An=_i[0],ba=_i[1];for(An||(An="0"),ba||(ba="0");ba[ba.length-1]==="0";)ba=ba.substring(0,ba.length-1);for(ba.length>En.length-1&&throwFault("fractional component exceeds decimals","underflow","parseFixed"),ba===""&&(ba="0");ba.length<En.length-1;)ba+="0";const xa=BigNumber.from(An),$a=BigNumber.from(ba);let rs=xa.mul(En).add($a);return Cn&&(rs=rs.mul(NegativeOne$2)),rs}class FixedFormat{constructor(fn,En,Cn,_i){fn!==_constructorGuard$3&&logger$H.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=En,this.width=Cn,this.decimals=_i,this.name=(En?"":"u")+"fixed"+String(Cn)+"x"+String(_i),this._multiplier=getMultiplier(_i),Object.freeze(this)}static from(fn){if(fn instanceof FixedFormat)return fn;typeof fn=="number"&&(fn=`fixed128x${fn}`);let En=!0,Cn=128,_i=18;if(typeof fn=="string"){if(fn!=="fixed")if(fn==="ufixed")En=!1;else{const An=fn.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);An||logger$H.throwArgumentError("invalid fixed format","format",fn),En=An[1]!=="u",Cn=parseInt(An[2]),_i=parseInt(An[3])}}else if(fn){const An=(ba,xa,$a)=>fn[ba]==null?$a:(typeof fn[ba]!==xa&&logger$H.throwArgumentError("invalid fixed format ("+ba+" not "+xa+")","format."+ba,fn[ba]),fn[ba]);En=An("signed","boolean",En),Cn=An("width","number",Cn),_i=An("decimals","number",_i)}return Cn%8&&logger$H.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",Cn),_i>80&&logger$H.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",_i),new FixedFormat(_constructorGuard$3,En,Cn,_i)}}class FixedNumber{constructor(fn,En,Cn,_i){fn!==_constructorGuard$3&&logger$H.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=_i,this._hex=En,this._value=Cn,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(fn){this.format.name!==fn.format.name&&logger$H.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",fn)}addUnsafe(fn){this._checkFormat(fn);const En=parseFixed(this._value,this.format.decimals),Cn=parseFixed(fn._value,fn.format.decimals);return FixedNumber.fromValue(En.add(Cn),this.format.decimals,this.format)}subUnsafe(fn){this._checkFormat(fn);const En=parseFixed(this._value,this.format.decimals),Cn=parseFixed(fn._value,fn.format.decimals);return FixedNumber.fromValue(En.sub(Cn),this.format.decimals,this.format)}mulUnsafe(fn){this._checkFormat(fn);const En=parseFixed(this._value,this.format.decimals),Cn=parseFixed(fn._value,fn.format.decimals);return FixedNumber.fromValue(En.mul(Cn).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(fn){this._checkFormat(fn);const En=parseFixed(this._value,this.format.decimals),Cn=parseFixed(fn._value,fn.format.decimals);return FixedNumber.fromValue(En.mul(this.format._multiplier).div(Cn),this.format.decimals,this.format)}floor(){const fn=this.toString().split(".");fn.length===1&&fn.push("0");let En=FixedNumber.from(fn[0],this.format);const Cn=!fn[1].match(/^(0*)$/);return this.isNegative()&&Cn&&(En=En.subUnsafe(ONE.toFormat(En.format))),En}ceiling(){const fn=this.toString().split(".");fn.length===1&&fn.push("0");let En=FixedNumber.from(fn[0],this.format);const Cn=!fn[1].match(/^(0*)$/);return!this.isNegative()&&Cn&&(En=En.addUnsafe(ONE.toFormat(En.format))),En}round(fn){fn==null&&(fn=0);const En=this.toString().split(".");if(En.length===1&&En.push("0"),(fn<0||fn>80||fn%1)&&logger$H.throwArgumentError("invalid decimal count","decimals",fn),En[1].length<=fn)return this;const Cn=FixedNumber.from("1"+zeros.substring(0,fn),this.format),_i=BUMP.toFormat(this.format);return this.mulUnsafe(Cn).addUnsafe(_i).floor().divUnsafe(Cn)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(fn){if(fn==null)return this._hex;fn%8&&logger$H.throwArgumentError("invalid byte width","width",fn);const En=BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(fn).toHexString();return hexZeroPad(En,fn/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(fn){return FixedNumber.fromString(this._value,fn)}static fromValue(fn,En,Cn){return Cn==null&&En!=null&&!isBigNumberish(En)&&(Cn=En,En=null),En==null&&(En=0),Cn==null&&(Cn="fixed"),FixedNumber.fromString(formatFixed(fn,En),FixedFormat.from(Cn))}static fromString(fn,En){En==null&&(En="fixed");const Cn=FixedFormat.from(En),_i=parseFixed(fn,Cn.decimals);!Cn.signed&&_i.lt(Zero$2)&&throwFault("unsigned value cannot be negative","overflow","value",fn);let An=null;Cn.signed?An=_i.toTwos(Cn.width).toHexString():(An=_i.toHexString(),An=hexZeroPad(An,Cn.width/8));const ba=formatFixed(_i,Cn.decimals);return new FixedNumber(_constructorGuard$3,An,ba,Cn)}static fromBytes(fn,En){En==null&&(En="fixed");const Cn=FixedFormat.from(En);if(arrayify(fn).length>Cn.width/8)throw new Error("overflow");let _i=BigNumber.from(fn);Cn.signed&&(_i=_i.fromTwos(Cn.width));const An=_i.toTwos((Cn.signed?0:1)+Cn.width).toHexString(),ba=formatFixed(_i,Cn.decimals);return new FixedNumber(_constructorGuard$3,An,ba,Cn)}static from(fn,En){if(typeof fn=="string")return FixedNumber.fromString(fn,En);if(isBytes$1(fn))return FixedNumber.fromBytes(fn,En);try{return FixedNumber.fromValue(fn,0,En)}catch(Cn){if(Cn.code!==Logger.errors.INVALID_ARGUMENT)throw Cn}return logger$H.throwArgumentError("invalid FixedNumber value","value",fn)}static isFixedNumber(fn){return!!(fn&&fn._isFixedNumber)}}const ONE=FixedNumber.from(1),BUMP=FixedNumber.from("0.5"),version$r="properties/5.7.0";var __awaiter$g=function(vn,fn,En,Cn){function _i(An){return An instanceof En?An:new En(function(ba){ba(An)})}return new(En||(En=Promise))(function(An,ba){function xa(ts){try{rs(Cn.next(ts))}catch(is){ba(is)}}function $a(ts){try{rs(Cn.throw(ts))}catch(is){ba(is)}}function rs(ts){ts.done?An(ts.value):_i(ts.value).then(xa,$a)}rs((Cn=Cn.apply(vn,fn||[])).next())})};const logger$G=new Logger(version$r);function defineReadOnly(vn,fn,En){Object.defineProperty(vn,fn,{enumerable:!0,value:En,writable:!1})}function getStatic(vn,fn){for(let En=0;En<32;En++){if(vn[fn])return vn[fn];if(!vn.prototype||typeof vn.prototype!="object")break;vn=Object.getPrototypeOf(vn.prototype).constructor}return null}function resolveProperties(vn){return __awaiter$g(this,void 0,void 0,function*(){const fn=Object.keys(vn).map(Cn=>{const _i=vn[Cn];return Promise.resolve(_i).then(An=>({key:Cn,value:An}))});return(yield Promise.all(fn)).reduce((Cn,_i)=>(Cn[_i.key]=_i.value,Cn),{})})}function checkProperties(vn,fn){(!vn||typeof vn!="object")&&logger$G.throwArgumentError("invalid object","object",vn),Object.keys(vn).forEach(En=>{fn[En]||logger$G.throwArgumentError("invalid object key - "+En,"transaction:"+En,vn)})}function shallowCopy(vn){const fn={};for(const En in vn)fn[En]=vn[En];return fn}const opaque={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _isFrozen(vn){if(vn==null||opaque[typeof vn])return!0;if(Array.isArray(vn)||typeof vn=="object"){if(!Object.isFrozen(vn))return!1;const fn=Object.keys(vn);for(let En=0;En<fn.length;En++){let Cn=null;try{Cn=vn[fn[En]]}catch{continue}if(!_isFrozen(Cn))return!1}return!0}return logger$G.throwArgumentError(`Cannot deepCopy ${typeof vn}`,"object",vn)}function _deepCopy(vn){if(_isFrozen(vn))return vn;if(Array.isArray(vn))return Object.freeze(vn.map(fn=>deepCopy(fn)));if(typeof vn=="object"){const fn={};for(const En in vn){const Cn=vn[En];Cn!==void 0&&defineReadOnly(fn,En,deepCopy(Cn))}return fn}return logger$G.throwArgumentError(`Cannot deepCopy ${typeof vn}`,"object",vn)}function deepCopy(vn){return _deepCopy(vn)}class Description{constructor(fn){for(const En in fn)this[En]=deepCopy(fn[En])}}const lib_esm$m=Object.freeze(Object.defineProperty({__proto__:null,Description,checkProperties,deepCopy,defineReadOnly,getStatic,resolveProperties,shallowCopy},Symbol.toStringTag,{value:"Module"})),version$q="abi/5.7.0",logger$F=new Logger(version$q),_constructorGuard$2={};let ModifiersBytes={calldata:!0,memory:!0,storage:!0},ModifiersNest={calldata:!0,memory:!0};function checkModifier(vn,fn){if(vn==="bytes"||vn==="string"){if(ModifiersBytes[fn])return!0}else if(vn==="address"){if(fn==="payable")return!0}else if((vn.indexOf("[")>=0||vn==="tuple")&&ModifiersNest[fn])return!0;return(ModifiersBytes[fn]||fn==="payable")&&logger$F.throwArgumentError("invalid modifier","name",fn),!1}function parseParamType(vn,fn){let En=vn;function Cn(xa){logger$F.throwArgumentError(`unexpected character at position ${xa}`,"param",vn)}vn=vn.replace(/\s/g," ");function _i(xa){let $a={type:"",name:"",parent:xa,state:{allowType:!0}};return fn&&($a.indexed=!1),$a}let An={type:"",name:"",state:{allowType:!0}},ba=An;for(let xa=0;xa<vn.length;xa++){let $a=vn[xa];switch($a){case"(":ba.state.allowType&&ba.type===""?ba.type="tuple":ba.state.allowParams||Cn(xa),ba.state.allowType=!1,ba.type=verifyType(ba.type),ba.components=[_i(ba)],ba=ba.components[0];break;case")":delete ba.state,ba.name==="indexed"&&(fn||Cn(xa),ba.indexed=!0,ba.name=""),checkModifier(ba.type,ba.name)&&(ba.name=""),ba.type=verifyType(ba.type);let rs=ba;ba=ba.parent,ba||Cn(xa),delete rs.parent,ba.state.allowParams=!1,ba.state.allowName=!0,ba.state.allowArray=!0;break;case",":delete ba.state,ba.name==="indexed"&&(fn||Cn(xa),ba.indexed=!0,ba.name=""),checkModifier(ba.type,ba.name)&&(ba.name=""),ba.type=verifyType(ba.type);let ts=_i(ba.parent);ba.parent.components.push(ts),delete ba.parent,ba=ts;break;case" ":ba.state.allowType&&ba.type!==""&&(ba.type=verifyType(ba.type),delete ba.state.allowType,ba.state.allowName=!0,ba.state.allowParams=!0),ba.state.allowName&&ba.name!==""&&(ba.name==="indexed"?(fn||Cn(xa),ba.indexed&&Cn(xa),ba.indexed=!0,ba.name=""):checkModifier(ba.type,ba.name)?ba.name="":ba.state.allowName=!1);break;case"[":ba.state.allowArray||Cn(xa),ba.type+=$a,ba.state.allowArray=!1,ba.state.allowName=!1,ba.state.readArray=!0;break;case"]":ba.state.readArray||Cn(xa),ba.type+=$a,ba.state.readArray=!1,ba.state.allowArray=!0,ba.state.allowName=!0;break;default:ba.state.allowType?(ba.type+=$a,ba.state.allowParams=!0,ba.state.allowArray=!0):ba.state.allowName?(ba.name+=$a,delete ba.state.allowArray):ba.state.readArray?ba.type+=$a:Cn(xa)}}return ba.parent&&logger$F.throwArgumentError("unexpected eof","param",vn),delete An.state,ba.name==="indexed"?(fn||Cn(En.length-7),ba.indexed&&Cn(En.length-7),ba.indexed=!0,ba.name=""):checkModifier(ba.type,ba.name)&&(ba.name=""),An.type=verifyType(An.type),An}function populate(vn,fn){for(let En in fn)defineReadOnly(vn,En,fn[En])}const FormatTypes=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),paramTypeArray=new RegExp(/^(.*)\[([0-9]*)\]$/);class ParamType{constructor(fn,En){fn!==_constructorGuard$2&&logger$F.throwError("use fromString",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),populate(this,En);let Cn=this.type.match(paramTypeArray);Cn?populate(this,{arrayLength:parseInt(Cn[2]||"-1"),arrayChildren:ParamType.fromObject({type:Cn[1],components:this.components}),baseType:"array"}):populate(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(fn){if(fn||(fn=FormatTypes.sighash),FormatTypes[fn]||logger$F.throwArgumentError("invalid format type","format",fn),fn===FormatTypes.json){let Cn={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(Cn.indexed=this.indexed),this.components&&(Cn.components=this.components.map(_i=>JSON.parse(_i.format(fn)))),JSON.stringify(Cn)}let En="";return this.baseType==="array"?(En+=this.arrayChildren.format(fn),En+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(fn!==FormatTypes.sighash&&(En+=this.type),En+="("+this.components.map(Cn=>Cn.format(fn)).join(fn===FormatTypes.full?", ":",")+")"):En+=this.type,fn!==FormatTypes.sighash&&(this.indexed===!0&&(En+=" indexed"),fn===FormatTypes.full&&this.name&&(En+=" "+this.name)),En}static from(fn,En){return typeof fn=="string"?ParamType.fromString(fn,En):ParamType.fromObject(fn)}static fromObject(fn){return ParamType.isParamType(fn)?fn:new ParamType(_constructorGuard$2,{name:fn.name||null,type:verifyType(fn.type),indexed:fn.indexed==null?null:!!fn.indexed,components:fn.components?fn.components.map(ParamType.fromObject):null})}static fromString(fn,En){function Cn(_i){return ParamType.fromObject({name:_i.name,type:_i.type,indexed:_i.indexed,components:_i.components})}return Cn(parseParamType(fn,!!En))}static isParamType(fn){return!!(fn!=null&&fn._isParamType)}}function parseParams(vn,fn){return splitNesting(vn).map(En=>ParamType.fromString(En,fn))}class Fragment{constructor(fn,En){fn!==_constructorGuard$2&&logger$F.throwError("use a static from method",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),populate(this,En),this._isFragment=!0,Object.freeze(this)}static from(fn){return Fragment.isFragment(fn)?fn:typeof fn=="string"?Fragment.fromString(fn):Fragment.fromObject(fn)}static fromObject(fn){if(Fragment.isFragment(fn))return fn;switch(fn.type){case"function":return FunctionFragment.fromObject(fn);case"event":return EventFragment.fromObject(fn);case"constructor":return ConstructorFragment.fromObject(fn);case"error":return ErrorFragment.fromObject(fn);case"fallback":case"receive":return null}return logger$F.throwArgumentError("invalid fragment object","value",fn)}static fromString(fn){return fn=fn.replace(/\s/g," "),fn=fn.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),fn=fn.trim(),fn.split(" ")[0]==="event"?EventFragment.fromString(fn.substring(5).trim()):fn.split(" ")[0]==="function"?FunctionFragment.fromString(fn.substring(8).trim()):fn.split("(")[0].trim()==="constructor"?ConstructorFragment.fromString(fn.trim()):fn.split(" ")[0]==="error"?ErrorFragment.fromString(fn.substring(5).trim()):logger$F.throwArgumentError("unsupported fragment","value",fn)}static isFragment(fn){return!!(fn&&fn._isFragment)}}class EventFragment extends Fragment{format(fn){if(fn||(fn=FormatTypes.sighash),FormatTypes[fn]||logger$F.throwArgumentError("invalid format type","format",fn),fn===FormatTypes.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(Cn=>JSON.parse(Cn.format(fn)))});let En="";return fn!==FormatTypes.sighash&&(En+="event "),En+=this.name+"("+this.inputs.map(Cn=>Cn.format(fn)).join(fn===FormatTypes.full?", ":",")+") ",fn!==FormatTypes.sighash&&this.anonymous&&(En+="anonymous "),En.trim()}static from(fn){return typeof fn=="string"?EventFragment.fromString(fn):EventFragment.fromObject(fn)}static fromObject(fn){if(EventFragment.isEventFragment(fn))return fn;fn.type!=="event"&&logger$F.throwArgumentError("invalid event object","value",fn);const En={name:verifyIdentifier(fn.name),anonymous:fn.anonymous,inputs:fn.inputs?fn.inputs.map(ParamType.fromObject):[],type:"event"};return new EventFragment(_constructorGuard$2,En)}static fromString(fn){let En=fn.match(regexParen);En||logger$F.throwArgumentError("invalid event string","value",fn);let Cn=!1;return En[3].split(" ").forEach(_i=>{switch(_i.trim()){case"anonymous":Cn=!0;break;case"":break;default:logger$F.warn("unknown modifier: "+_i)}}),EventFragment.fromObject({name:En[1].trim(),anonymous:Cn,inputs:parseParams(En[2],!0),type:"event"})}static isEventFragment(fn){return fn&&fn._isFragment&&fn.type==="event"}}function parseGas(vn,fn){fn.gas=null;let En=vn.split("@");return En.length!==1?(En.length>2&&logger$F.throwArgumentError("invalid human-readable ABI signature","value",vn),En[1].match(/^[0-9]+$/)||logger$F.throwArgumentError("invalid human-readable ABI signature gas","value",vn),fn.gas=BigNumber.from(En[1]),En[0]):vn}function parseModifiers(vn,fn){fn.constant=!1,fn.payable=!1,fn.stateMutability="nonpayable",vn.split(" ").forEach(En=>{switch(En.trim()){case"constant":fn.constant=!0;break;case"payable":fn.payable=!0,fn.stateMutability="payable";break;case"nonpayable":fn.payable=!1,fn.stateMutability="nonpayable";break;case"pure":fn.constant=!0,fn.stateMutability="pure";break;case"view":fn.constant=!0,fn.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+En)}})}function verifyState(vn){let fn={constant:!1,payable:!0,stateMutability:"payable"};return vn.stateMutability!=null?(fn.stateMutability=vn.stateMutability,fn.constant=fn.stateMutability==="view"||fn.stateMutability==="pure",vn.constant!=null&&!!vn.constant!==fn.constant&&logger$F.throwArgumentError("cannot have constant function with mutability "+fn.stateMutability,"value",vn),fn.payable=fn.stateMutability==="payable",vn.payable!=null&&!!vn.payable!==fn.payable&&logger$F.throwArgumentError("cannot have payable function with mutability "+fn.stateMutability,"value",vn)):vn.payable!=null?(fn.payable=!!vn.payable,vn.constant==null&&!fn.payable&&vn.type!=="constructor"&&logger$F.throwArgumentError("unable to determine stateMutability","value",vn),fn.constant=!!vn.constant,fn.constant?fn.stateMutability="view":fn.stateMutability=fn.payable?"payable":"nonpayable",fn.payable&&fn.constant&&logger$F.throwArgumentError("cannot have constant payable function","value",vn)):vn.constant!=null?(fn.constant=!!vn.constant,fn.payable=!fn.constant,fn.stateMutability=fn.constant?"view":"payable"):vn.type!=="constructor"&&logger$F.throwArgumentError("unable to determine stateMutability","value",vn),fn}class ConstructorFragment extends Fragment{format(fn){if(fn||(fn=FormatTypes.sighash),FormatTypes[fn]||logger$F.throwArgumentError("invalid format type","format",fn),fn===FormatTypes.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(Cn=>JSON.parse(Cn.format(fn)))});fn===FormatTypes.sighash&&logger$F.throwError("cannot format a constructor for sighash",Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let En="constructor("+this.inputs.map(Cn=>Cn.format(fn)).join(fn===FormatTypes.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(En+=this.stateMutability+" "),En.trim()}static from(fn){return typeof fn=="string"?ConstructorFragment.fromString(fn):ConstructorFragment.fromObject(fn)}static fromObject(fn){if(ConstructorFragment.isConstructorFragment(fn))return fn;fn.type!=="constructor"&&logger$F.throwArgumentError("invalid constructor object","value",fn);let En=verifyState(fn);En.constant&&logger$F.throwArgumentError("constructor cannot be constant","value",fn);const Cn={name:null,type:fn.type,inputs:fn.inputs?fn.inputs.map(ParamType.fromObject):[],payable:En.payable,stateMutability:En.stateMutability,gas:fn.gas?BigNumber.from(fn.gas):null};return new ConstructorFragment(_constructorGuard$2,Cn)}static fromString(fn){let En={type:"constructor"};fn=parseGas(fn,En);let Cn=fn.match(regexParen);return(!Cn||Cn[1].trim()!=="constructor")&&logger$F.throwArgumentError("invalid constructor string","value",fn),En.inputs=parseParams(Cn[2].trim(),!1),parseModifiers(Cn[3].trim(),En),ConstructorFragment.fromObject(En)}static isConstructorFragment(fn){return fn&&fn._isFragment&&fn.type==="constructor"}}class FunctionFragment extends ConstructorFragment{format(fn){if(fn||(fn=FormatTypes.sighash),FormatTypes[fn]||logger$F.throwArgumentError("invalid format type","format",fn),fn===FormatTypes.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(Cn=>JSON.parse(Cn.format(fn))),outputs:this.outputs.map(Cn=>JSON.parse(Cn.format(fn)))});let En="";return fn!==FormatTypes.sighash&&(En+="function "),En+=this.name+"("+this.inputs.map(Cn=>Cn.format(fn)).join(fn===FormatTypes.full?", ":",")+") ",fn!==FormatTypes.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(En+=this.stateMutability+" "):this.constant&&(En+="view "),this.outputs&&this.outputs.length&&(En+="returns ("+this.outputs.map(Cn=>Cn.format(fn)).join(", ")+") "),this.gas!=null&&(En+="@"+this.gas.toString()+" ")),En.trim()}static from(fn){return typeof fn=="string"?FunctionFragment.fromString(fn):FunctionFragment.fromObject(fn)}static fromObject(fn){if(FunctionFragment.isFunctionFragment(fn))return fn;fn.type!=="function"&&logger$F.throwArgumentError("invalid function object","value",fn);let En=verifyState(fn);const Cn={type:fn.type,name:verifyIdentifier(fn.name),constant:En.constant,inputs:fn.inputs?fn.inputs.map(ParamType.fromObject):[],outputs:fn.outputs?fn.outputs.map(ParamType.fromObject):[],payable:En.payable,stateMutability:En.stateMutability,gas:fn.gas?BigNumber.from(fn.gas):null};return new FunctionFragment(_constructorGuard$2,Cn)}static fromString(fn){let En={type:"function"};fn=parseGas(fn,En);let Cn=fn.split(" returns ");Cn.length>2&&logger$F.throwArgumentError("invalid function string","value",fn);let _i=Cn[0].match(regexParen);if(_i||logger$F.throwArgumentError("invalid function signature","value",fn),En.name=_i[1].trim(),En.name&&verifyIdentifier(En.name),En.inputs=parseParams(_i[2],!1),parseModifiers(_i[3].trim(),En),Cn.length>1){let An=Cn[1].match(regexParen);(An[1].trim()!=""||An[3].trim()!="")&&logger$F.throwArgumentError("unexpected tokens","value",fn),En.outputs=parseParams(An[2],!1)}else En.outputs=[];return FunctionFragment.fromObject(En)}static isFunctionFragment(fn){return fn&&fn._isFragment&&fn.type==="function"}}function checkForbidden(vn){const fn=vn.format();return(fn==="Error(string)"||fn==="Panic(uint256)")&&logger$F.throwArgumentError(`cannot specify user defined ${fn} error`,"fragment",vn),vn}class ErrorFragment extends Fragment{format(fn){if(fn||(fn=FormatTypes.sighash),FormatTypes[fn]||logger$F.throwArgumentError("invalid format type","format",fn),fn===FormatTypes.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(Cn=>JSON.parse(Cn.format(fn)))});let En="";return fn!==FormatTypes.sighash&&(En+="error "),En+=this.name+"("+this.inputs.map(Cn=>Cn.format(fn)).join(fn===FormatTypes.full?", ":",")+") ",En.trim()}static from(fn){return typeof fn=="string"?ErrorFragment.fromString(fn):ErrorFragment.fromObject(fn)}static fromObject(fn){if(ErrorFragment.isErrorFragment(fn))return fn;fn.type!=="error"&&logger$F.throwArgumentError("invalid error object","value",fn);const En={type:fn.type,name:verifyIdentifier(fn.name),inputs:fn.inputs?fn.inputs.map(ParamType.fromObject):[]};return checkForbidden(new ErrorFragment(_constructorGuard$2,En))}static fromString(fn){let En={type:"error"},Cn=fn.match(regexParen);return Cn||logger$F.throwArgumentError("invalid error signature","value",fn),En.name=Cn[1].trim(),En.name&&verifyIdentifier(En.name),En.inputs=parseParams(Cn[2],!1),checkForbidden(ErrorFragment.fromObject(En))}static isErrorFragment(fn){return fn&&fn._isFragment&&fn.type==="error"}}function verifyType(vn){return vn.match(/^uint($|[^1-9])/)?vn="uint256"+vn.substring(4):vn.match(/^int($|[^1-9])/)&&(vn="int256"+vn.substring(3)),vn}const regexIdentifier=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function verifyIdentifier(vn){return(!vn||!vn.match(regexIdentifier))&&logger$F.throwArgumentError(`invalid identifier "${vn}"`,"value",vn),vn}const regexParen=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function splitNesting(vn){vn=vn.trim();let fn=[],En="",Cn=0;for(let _i=0;_i<vn.length;_i++){let An=vn[_i];An===","&&Cn===0?(fn.push(En),En=""):(En+=An,An==="("?Cn++:An===")"&&(Cn--,Cn===-1&&logger$F.throwArgumentError("unbalanced parenthesis","value",vn)))}return En&&fn.push(En),fn}const logger$E=new Logger(version$q);function checkResultErrors(vn){const fn=[],En=function(Cn,_i){if(Array.isArray(_i))for(let An in _i){const ba=Cn.slice();ba.push(An);try{En(ba,_i[An])}catch(xa){fn.push({path:ba,error:xa})}}};return En([],vn),fn}class Coder{constructor(fn,En,Cn,_i){this.name=fn,this.type=En,this.localName=Cn,this.dynamic=_i}_throwError(fn,En){logger$E.throwArgumentError(fn,this.localName,En)}}class Writer{constructor(fn){defineReadOnly(this,"wordSize",fn||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(fn)}get data(){return hexConcat(this._data)}get length(){return this._dataLength}_writeData(fn){return this._data.push(fn),this._dataLength+=fn.length,fn.length}appendWriter(fn){return this._writeData(concat$3(fn._data))}writeBytes(fn){let En=arrayify(fn);const Cn=En.length%this.wordSize;return Cn&&(En=concat$3([En,this._padding.slice(Cn)])),this._writeData(En)}_getValue(fn){let En=arrayify(BigNumber.from(fn));return En.length>this.wordSize&&logger$E.throwError("value out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:En.length}),En.length%this.wordSize&&(En=concat$3([this._padding.slice(En.length%this.wordSize),En])),En}writeValue(fn){return this._writeData(this._getValue(fn))}writeUpdatableValue(){const fn=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,En=>{this._data[fn]=this._getValue(En)}}}class Reader{constructor(fn,En,Cn,_i){defineReadOnly(this,"_data",arrayify(fn)),defineReadOnly(this,"wordSize",En||32),defineReadOnly(this,"_coerceFunc",Cn),defineReadOnly(this,"allowLoose",_i),this._offset=0}get data(){return hexlify(this._data)}get consumed(){return this._offset}static coerce(fn,En){let Cn=fn.match("^u?int([0-9]+)$");return Cn&&parseInt(Cn[1])<=48&&(En=En.toNumber()),En}coerce(fn,En){return this._coerceFunc?this._coerceFunc(fn,En):Reader.coerce(fn,En)}_peekBytes(fn,En,Cn){let _i=Math.ceil(En/this.wordSize)*this.wordSize;return this._offset+_i>this._data.length&&(this.allowLoose&&Cn&&this._offset+En<=this._data.length?_i=En:logger$E.throwError("data out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+_i})),this._data.slice(this._offset,this._offset+_i)}subReader(fn){return new Reader(this._data.slice(this._offset+fn),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(fn,En){let Cn=this._peekBytes(0,fn,!!En);return this._offset+=Cn.length,Cn.slice(0,fn)}readValue(){return BigNumber.from(this.readBytes(this.wordSize))}}var sha3$2={exports:{}};(function(vn){(function(){var fn="input is invalid type",En="finalize already called",Cn=typeof window=="object",_i=Cn?window:{};_i.JS_SHA3_NO_WINDOW&&(Cn=!1);var An=!Cn&&typeof self=="object",ba=!_i.JS_SHA3_NO_NODE_JS&&typeof process$1=="object"&&process$1.versions&&process$1.versions.node;ba?_i=commonjsGlobal:An&&(_i=self);var xa=!_i.JS_SHA3_NO_COMMON_JS&&!0&&vn.exports,$a=!_i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",rs="0123456789abcdef".split(""),ts=[31,7936,2031616,520093696],is=[4,1024,262144,67108864],cs=[1,256,65536,16777216],us=[6,1536,393216,100663296],ps=[0,8,16,24],bs=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],e0=[224,256,384,512],gs=[128,256],Ds=["hex","buffer","arrayBuffer","array","digest"],i0={128:168,256:136};(_i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(s0){return Object.prototype.toString.call(s0)==="[object Array]"}),$a&&(_i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(s0){return typeof s0=="object"&&s0.buffer&&s0.buffer.constructor===ArrayBuffer});for(var n0=function(s0,b0,f0){return function(m0){return new r0(s0,b0,s0).update(m0)[f0]()}},c0=function(s0,b0,f0){return function(m0,y0){return new r0(s0,b0,y0).update(m0)[f0]()}},d0=function(s0,b0,f0){return function(m0,y0,t0,h0){return es["cshake"+s0].update(m0,y0,t0,h0)[f0]()}},o0=function(s0,b0,f0){return function(m0,y0,t0,h0){return es["kmac"+s0].update(m0,y0,t0,h0)[f0]()}},g0=function(s0,b0,f0,m0){for(var y0=0;y0<Ds.length;++y0){var t0=Ds[y0];s0[t0]=b0(f0,m0,t0)}return s0},w0=function(s0,b0){var f0=n0(s0,b0,"hex");return f0.create=function(){return new r0(s0,b0,s0)},f0.update=function(m0){return f0.create().update(m0)},g0(f0,n0,s0,b0)},M0=function(s0,b0){var f0=c0(s0,b0,"hex");return f0.create=function(m0){return new r0(s0,b0,m0)},f0.update=function(m0,y0){return f0.create(y0).update(m0)},g0(f0,c0,s0,b0)},ds=function(s0,b0){var f0=i0[s0],m0=d0(s0,b0,"hex");return m0.create=function(y0,t0,h0){return!t0&&!h0?es["shake"+s0].create(y0):new r0(s0,b0,y0).bytepad([t0,h0],f0)},m0.update=function(y0,t0,h0,p0){return m0.create(t0,h0,p0).update(y0)},g0(m0,d0,s0,b0)},na=function(s0,b0){var f0=i0[s0],m0=o0(s0,b0,"hex");return m0.create=function(y0,t0,h0){return new a0(s0,b0,t0).bytepad(["KMAC",h0],f0).bytepad([y0],f0)},m0.update=function(y0,t0,h0,p0){return m0.create(y0,h0,p0).update(t0)},g0(m0,o0,s0,b0)},_a=[{name:"keccak",padding:cs,bits:e0,createMethod:w0},{name:"sha3",padding:us,bits:e0,createMethod:w0},{name:"shake",padding:ts,bits:gs,createMethod:M0},{name:"cshake",padding:is,bits:gs,createMethod:ds},{name:"kmac",padding:is,bits:gs,createMethod:na}],es={},ns=[],os=0;os<_a.length;++os)for(var ls=_a[os],hs=ls.bits,ss=0;ss<hs.length;++ss){var ga=ls.name+"_"+hs[ss];if(ns.push(ga),es[ga]=ls.createMethod(hs[ss],ls.padding),ls.name!=="sha3"){var as=ls.name+hs[ss];ns.push(as),es[as]=es[ga]}}function r0(s0,b0,f0){this.blocks=[],this.s=[],this.padding=b0,this.outputBits=f0,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(s0<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=f0>>5,this.extraBytes=(f0&31)>>3;for(var m0=0;m0<50;++m0)this.s[m0]=0}r0.prototype.update=function(s0){if(this.finalized)throw new Error(En);var b0,f0=typeof s0;if(f0!=="string"){if(f0==="object"){if(s0===null)throw new Error(fn);if($a&&s0.constructor===ArrayBuffer)s0=new Uint8Array(s0);else if(!Array.isArray(s0)&&(!$a||!ArrayBuffer.isView(s0)))throw new Error(fn)}else throw new Error(fn);b0=!0}for(var m0=this.blocks,y0=this.byteCount,t0=s0.length,h0=this.blockCount,p0=0,E0=this.s,I0,C0;p0<t0;){if(this.reset)for(this.reset=!1,m0[0]=this.block,I0=1;I0<h0+1;++I0)m0[I0]=0;if(b0)for(I0=this.start;p0<t0&&I0<y0;++p0)m0[I0>>2]|=s0[p0]<<ps[I0++&3];else for(I0=this.start;p0<t0&&I0<y0;++p0)C0=s0.charCodeAt(p0),C0<128?m0[I0>>2]|=C0<<ps[I0++&3]:C0<2048?(m0[I0>>2]|=(192|C0>>6)<<ps[I0++&3],m0[I0>>2]|=(128|C0&63)<<ps[I0++&3]):C0<55296||C0>=57344?(m0[I0>>2]|=(224|C0>>12)<<ps[I0++&3],m0[I0>>2]|=(128|C0>>6&63)<<ps[I0++&3],m0[I0>>2]|=(128|C0&63)<<ps[I0++&3]):(C0=65536+((C0&1023)<<10|s0.charCodeAt(++p0)&1023),m0[I0>>2]|=(240|C0>>18)<<ps[I0++&3],m0[I0>>2]|=(128|C0>>12&63)<<ps[I0++&3],m0[I0>>2]|=(128|C0>>6&63)<<ps[I0++&3],m0[I0>>2]|=(128|C0&63)<<ps[I0++&3]);if(this.lastByteIndex=I0,I0>=y0){for(this.start=I0-y0,this.block=m0[h0],I0=0;I0<h0;++I0)E0[I0]^=m0[I0];l0(E0),this.reset=!0}else this.start=I0}return this},r0.prototype.encode=function(s0,b0){var f0=s0&255,m0=1,y0=[f0];for(s0=s0>>8,f0=s0&255;f0>0;)y0.unshift(f0),s0=s0>>8,f0=s0&255,++m0;return b0?y0.push(m0):y0.unshift(m0),this.update(y0),y0.length},r0.prototype.encodeString=function(s0){var b0,f0=typeof s0;if(f0!=="string"){if(f0==="object"){if(s0===null)throw new Error(fn);if($a&&s0.constructor===ArrayBuffer)s0=new Uint8Array(s0);else if(!Array.isArray(s0)&&(!$a||!ArrayBuffer.isView(s0)))throw new Error(fn)}else throw new Error(fn);b0=!0}var m0=0,y0=s0.length;if(b0)m0=y0;else for(var t0=0;t0<s0.length;++t0){var h0=s0.charCodeAt(t0);h0<128?m0+=1:h0<2048?m0+=2:h0<55296||h0>=57344?m0+=3:(h0=65536+((h0&1023)<<10|s0.charCodeAt(++t0)&1023),m0+=4)}return m0+=this.encode(m0*8),this.update(s0),m0},r0.prototype.bytepad=function(s0,b0){for(var f0=this.encode(b0),m0=0;m0<s0.length;++m0)f0+=this.encodeString(s0[m0]);var y0=b0-f0%b0,t0=[];return t0.length=y0,this.update(t0),this},r0.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var s0=this.blocks,b0=this.lastByteIndex,f0=this.blockCount,m0=this.s;if(s0[b0>>2]|=this.padding[b0&3],this.lastByteIndex===this.byteCount)for(s0[0]=s0[f0],b0=1;b0<f0+1;++b0)s0[b0]=0;for(s0[f0-1]|=2147483648,b0=0;b0<f0;++b0)m0[b0]^=s0[b0];l0(m0)}},r0.prototype.toString=r0.prototype.hex=function(){this.finalize();for(var s0=this.blockCount,b0=this.s,f0=this.outputBlocks,m0=this.extraBytes,y0=0,t0=0,h0="",p0;t0<f0;){for(y0=0;y0<s0&&t0<f0;++y0,++t0)p0=b0[y0],h0+=rs[p0>>4&15]+rs[p0&15]+rs[p0>>12&15]+rs[p0>>8&15]+rs[p0>>20&15]+rs[p0>>16&15]+rs[p0>>28&15]+rs[p0>>24&15];t0%s0===0&&(l0(b0),y0=0)}return m0&&(p0=b0[y0],h0+=rs[p0>>4&15]+rs[p0&15],m0>1&&(h0+=rs[p0>>12&15]+rs[p0>>8&15]),m0>2&&(h0+=rs[p0>>20&15]+rs[p0>>16&15])),h0},r0.prototype.arrayBuffer=function(){this.finalize();var s0=this.blockCount,b0=this.s,f0=this.outputBlocks,m0=this.extraBytes,y0=0,t0=0,h0=this.outputBits>>3,p0;m0?p0=new ArrayBuffer(f0+1<<2):p0=new ArrayBuffer(h0);for(var E0=new Uint32Array(p0);t0<f0;){for(y0=0;y0<s0&&t0<f0;++y0,++t0)E0[t0]=b0[y0];t0%s0===0&&l0(b0)}return m0&&(E0[y0]=b0[y0],p0=p0.slice(0,h0)),p0},r0.prototype.buffer=r0.prototype.arrayBuffer,r0.prototype.digest=r0.prototype.array=function(){this.finalize();for(var s0=this.blockCount,b0=this.s,f0=this.outputBlocks,m0=this.extraBytes,y0=0,t0=0,h0=[],p0,E0;t0<f0;){for(y0=0;y0<s0&&t0<f0;++y0,++t0)p0=t0<<2,E0=b0[y0],h0[p0]=E0&255,h0[p0+1]=E0>>8&255,h0[p0+2]=E0>>16&255,h0[p0+3]=E0>>24&255;t0%s0===0&&l0(b0)}return m0&&(p0=t0<<2,E0=b0[y0],h0[p0]=E0&255,m0>1&&(h0[p0+1]=E0>>8&255),m0>2&&(h0[p0+2]=E0>>16&255)),h0};function a0(s0,b0,f0){r0.call(this,s0,b0,f0)}a0.prototype=new r0,a0.prototype.finalize=function(){return this.encode(this.outputBits,!0),r0.prototype.finalize.call(this)};var l0=function(s0){var b0,f0,m0,y0,t0,h0,p0,E0,I0,C0,$0,vo,P0,S0,_o,O0,B0,To,k0,D0,Eo,N0,F0,Co,x0,u0,v0,_0,T0,j0,A0,U0,$o,L0,V0,Mo,G0,Z0,Io,q0,Y0,Ro,z0,X0,Po,K0,bo,ko,W0,J0,Ao,H0,go,Bo,Q0,wo,No,Oo,jo,Uo,zo,qo,Fo;for(m0=0;m0<48;m0+=2)y0=s0[0]^s0[10]^s0[20]^s0[30]^s0[40],t0=s0[1]^s0[11]^s0[21]^s0[31]^s0[41],h0=s0[2]^s0[12]^s0[22]^s0[32]^s0[42],p0=s0[3]^s0[13]^s0[23]^s0[33]^s0[43],E0=s0[4]^s0[14]^s0[24]^s0[34]^s0[44],I0=s0[5]^s0[15]^s0[25]^s0[35]^s0[45],C0=s0[6]^s0[16]^s0[26]^s0[36]^s0[46],$0=s0[7]^s0[17]^s0[27]^s0[37]^s0[47],vo=s0[8]^s0[18]^s0[28]^s0[38]^s0[48],P0=s0[9]^s0[19]^s0[29]^s0[39]^s0[49],b0=vo^(h0<<1|p0>>>31),f0=P0^(p0<<1|h0>>>31),s0[0]^=b0,s0[1]^=f0,s0[10]^=b0,s0[11]^=f0,s0[20]^=b0,s0[21]^=f0,s0[30]^=b0,s0[31]^=f0,s0[40]^=b0,s0[41]^=f0,b0=y0^(E0<<1|I0>>>31),f0=t0^(I0<<1|E0>>>31),s0[2]^=b0,s0[3]^=f0,s0[12]^=b0,s0[13]^=f0,s0[22]^=b0,s0[23]^=f0,s0[32]^=b0,s0[33]^=f0,s0[42]^=b0,s0[43]^=f0,b0=h0^(C0<<1|$0>>>31),f0=p0^($0<<1|C0>>>31),s0[4]^=b0,s0[5]^=f0,s0[14]^=b0,s0[15]^=f0,s0[24]^=b0,s0[25]^=f0,s0[34]^=b0,s0[35]^=f0,s0[44]^=b0,s0[45]^=f0,b0=E0^(vo<<1|P0>>>31),f0=I0^(P0<<1|vo>>>31),s0[6]^=b0,s0[7]^=f0,s0[16]^=b0,s0[17]^=f0,s0[26]^=b0,s0[27]^=f0,s0[36]^=b0,s0[37]^=f0,s0[46]^=b0,s0[47]^=f0,b0=C0^(y0<<1|t0>>>31),f0=$0^(t0<<1|y0>>>31),s0[8]^=b0,s0[9]^=f0,s0[18]^=b0,s0[19]^=f0,s0[28]^=b0,s0[29]^=f0,s0[38]^=b0,s0[39]^=f0,s0[48]^=b0,s0[49]^=f0,S0=s0[0],_o=s0[1],K0=s0[11]<<4|s0[10]>>>28,bo=s0[10]<<4|s0[11]>>>28,_0=s0[20]<<3|s0[21]>>>29,T0=s0[21]<<3|s0[20]>>>29,Uo=s0[31]<<9|s0[30]>>>23,zo=s0[30]<<9|s0[31]>>>23,Ro=s0[40]<<18|s0[41]>>>14,z0=s0[41]<<18|s0[40]>>>14,L0=s0[2]<<1|s0[3]>>>31,V0=s0[3]<<1|s0[2]>>>31,O0=s0[13]<<12|s0[12]>>>20,B0=s0[12]<<12|s0[13]>>>20,ko=s0[22]<<10|s0[23]>>>22,W0=s0[23]<<10|s0[22]>>>22,j0=s0[33]<<13|s0[32]>>>19,A0=s0[32]<<13|s0[33]>>>19,qo=s0[42]<<2|s0[43]>>>30,Fo=s0[43]<<2|s0[42]>>>30,Bo=s0[5]<<30|s0[4]>>>2,Q0=s0[4]<<30|s0[5]>>>2,Mo=s0[14]<<6|s0[15]>>>26,G0=s0[15]<<6|s0[14]>>>26,To=s0[25]<<11|s0[24]>>>21,k0=s0[24]<<11|s0[25]>>>21,J0=s0[34]<<15|s0[35]>>>17,Ao=s0[35]<<15|s0[34]>>>17,U0=s0[45]<<29|s0[44]>>>3,$o=s0[44]<<29|s0[45]>>>3,Co=s0[6]<<28|s0[7]>>>4,x0=s0[7]<<28|s0[6]>>>4,wo=s0[17]<<23|s0[16]>>>9,No=s0[16]<<23|s0[17]>>>9,Z0=s0[26]<<25|s0[27]>>>7,Io=s0[27]<<25|s0[26]>>>7,D0=s0[36]<<21|s0[37]>>>11,Eo=s0[37]<<21|s0[36]>>>11,H0=s0[47]<<24|s0[46]>>>8,go=s0[46]<<24|s0[47]>>>8,X0=s0[8]<<27|s0[9]>>>5,Po=s0[9]<<27|s0[8]>>>5,u0=s0[18]<<20|s0[19]>>>12,v0=s0[19]<<20|s0[18]>>>12,Oo=s0[29]<<7|s0[28]>>>25,jo=s0[28]<<7|s0[29]>>>25,q0=s0[38]<<8|s0[39]>>>24,Y0=s0[39]<<8|s0[38]>>>24,N0=s0[48]<<14|s0[49]>>>18,F0=s0[49]<<14|s0[48]>>>18,s0[0]=S0^~O0&To,s0[1]=_o^~B0&k0,s0[10]=Co^~u0&_0,s0[11]=x0^~v0&T0,s0[20]=L0^~Mo&Z0,s0[21]=V0^~G0&Io,s0[30]=X0^~K0&ko,s0[31]=Po^~bo&W0,s0[40]=Bo^~wo&Oo,s0[41]=Q0^~No&jo,s0[2]=O0^~To&D0,s0[3]=B0^~k0&Eo,s0[12]=u0^~_0&j0,s0[13]=v0^~T0&A0,s0[22]=Mo^~Z0&q0,s0[23]=G0^~Io&Y0,s0[32]=K0^~ko&J0,s0[33]=bo^~W0&Ao,s0[42]=wo^~Oo&Uo,s0[43]=No^~jo&zo,s0[4]=To^~D0&N0,s0[5]=k0^~Eo&F0,s0[14]=_0^~j0&U0,s0[15]=T0^~A0&$o,s0[24]=Z0^~q0&Ro,s0[25]=Io^~Y0&z0,s0[34]=ko^~J0&H0,s0[35]=W0^~Ao&go,s0[44]=Oo^~Uo&qo,s0[45]=jo^~zo&Fo,s0[6]=D0^~N0&S0,s0[7]=Eo^~F0&_o,s0[16]=j0^~U0&Co,s0[17]=A0^~$o&x0,s0[26]=q0^~Ro&L0,s0[27]=Y0^~z0&V0,s0[36]=J0^~H0&X0,s0[37]=Ao^~go&Po,s0[46]=Uo^~qo&Bo,s0[47]=zo^~Fo&Q0,s0[8]=N0^~S0&O0,s0[9]=F0^~_o&B0,s0[18]=U0^~Co&u0,s0[19]=$o^~x0&v0,s0[28]=Ro^~L0&Mo,s0[29]=z0^~V0&G0,s0[38]=H0^~X0&K0,s0[39]=go^~Po&bo,s0[48]=qo^~Bo&wo,s0[49]=Fo^~Q0&No,s0[0]^=bs[m0],s0[1]^=bs[m0+1]};if(xa)vn.exports=es;else for(os=0;os<ns.length;++os)_i[ns[os]]=es[ns[os]]})()})(sha3$2);var sha3Exports=sha3$2.exports;const sha3$1=getDefaultExportFromCjs$1(sha3Exports);function keccak256$1(vn){return"0x"+sha3$1.keccak_256(arrayify(vn))}const lib_esm$l=Object.freeze(Object.defineProperty({__proto__:null,keccak256:keccak256$1},Symbol.toStringTag,{value:"Module"})),version$p="rlp/5.7.0",logger$D=new Logger(version$p);function arrayifyInteger(vn){const fn=[];for(;vn;)fn.unshift(vn&255),vn>>=8;return fn}function unarrayifyInteger(vn,fn,En){let Cn=0;for(let _i=0;_i<En;_i++)Cn=Cn*256+vn[fn+_i];return Cn}function _encode(vn){if(Array.isArray(vn)){let Cn=[];if(vn.forEach(function(An){Cn=Cn.concat(_encode(An))}),Cn.length<=55)return Cn.unshift(192+Cn.length),Cn;const _i=arrayifyInteger(Cn.length);return _i.unshift(247+_i.length),_i.concat(Cn)}isBytesLike(vn)||logger$D.throwArgumentError("RLP object must be BytesLike","object",vn);const fn=Array.prototype.slice.call(arrayify(vn));if(fn.length===1&&fn[0]<=127)return fn;if(fn.length<=55)return fn.unshift(128+fn.length),fn;const En=arrayifyInteger(fn.length);return En.unshift(183+En.length),En.concat(fn)}function encode$c(vn){return hexlify(_encode(vn))}function _decodeChildren(vn,fn,En,Cn){const _i=[];for(;En<fn+1+Cn;){const An=_decode(vn,En);_i.push(An.result),En+=An.consumed,En>fn+1+Cn&&logger$D.throwError("child data too short",Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+Cn,result:_i}}function _decode(vn,fn){if(vn.length===0&&logger$D.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{}),vn[fn]>=248){const En=vn[fn]-247;fn+1+En>vn.length&&logger$D.throwError("data short segment too short",Logger.errors.BUFFER_OVERRUN,{});const Cn=unarrayifyInteger(vn,fn+1,En);return fn+1+En+Cn>vn.length&&logger$D.throwError("data long segment too short",Logger.errors.BUFFER_OVERRUN,{}),_decodeChildren(vn,fn,fn+1+En,En+Cn)}else if(vn[fn]>=192){const En=vn[fn]-192;return fn+1+En>vn.length&&logger$D.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{}),_decodeChildren(vn,fn,fn+1,En)}else if(vn[fn]>=184){const En=vn[fn]-183;fn+1+En>vn.length&&logger$D.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const Cn=unarrayifyInteger(vn,fn+1,En);fn+1+En+Cn>vn.length&&logger$D.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const _i=hexlify(vn.slice(fn+1+En,fn+1+En+Cn));return{consumed:1+En+Cn,result:_i}}else if(vn[fn]>=128){const En=vn[fn]-128;fn+1+En>vn.length&&logger$D.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{});const Cn=hexlify(vn.slice(fn+1,fn+1+En));return{consumed:1+En,result:Cn}}return{consumed:1,result:hexlify(vn[fn])}}function decode$f(vn){const fn=arrayify(vn),En=_decode(fn,0);return En.consumed!==fn.length&&logger$D.throwArgumentError("invalid rlp data","data",vn),En.result}const lib_esm$k=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$f,encode:encode$c},Symbol.toStringTag,{value:"Module"})),version$o="address/5.7.0",logger$C=new Logger(version$o);function getChecksumAddress(vn){isHexString(vn,20)||logger$C.throwArgumentError("invalid address","address",vn),vn=vn.toLowerCase();const fn=vn.substring(2).split(""),En=new Uint8Array(40);for(let _i=0;_i<40;_i++)En[_i]=fn[_i].charCodeAt(0);const Cn=arrayify(keccak256$1(En));for(let _i=0;_i<40;_i+=2)Cn[_i>>1]>>4>=8&&(fn[_i]=fn[_i].toUpperCase()),(Cn[_i>>1]&15)>=8&&(fn[_i+1]=fn[_i+1].toUpperCase());return"0x"+fn.join("")}const MAX_SAFE_INTEGER=9007199254740991;function log10(vn){return Math.log10?Math.log10(vn):Math.log(vn)/Math.LN10}const ibanLookup={};for(let vn=0;vn<10;vn++)ibanLookup[String(vn)]=String(vn);for(let vn=0;vn<26;vn++)ibanLookup[String.fromCharCode(65+vn)]=String(10+vn);const safeDigits=Math.floor(log10(MAX_SAFE_INTEGER));function ibanChecksum(vn){vn=vn.toUpperCase(),vn=vn.substring(4)+vn.substring(0,2)+"00";let fn=vn.split("").map(Cn=>ibanLookup[Cn]).join("");for(;fn.length>=safeDigits;){let Cn=fn.substring(0,safeDigits);fn=parseInt(Cn,10)%97+fn.substring(Cn.length)}let En=String(98-parseInt(fn,10)%97);for(;En.length<2;)En="0"+En;return En}function getAddress(vn){let fn=null;if(typeof vn!="string"&&logger$C.throwArgumentError("invalid address","address",vn),vn.match(/^(0x)?[0-9a-fA-F]{40}$/))vn.substring(0,2)!=="0x"&&(vn="0x"+vn),fn=getChecksumAddress(vn),vn.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&fn!==vn&&logger$C.throwArgumentError("bad address checksum","address",vn);else if(vn.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(vn.substring(2,4)!==ibanChecksum(vn)&&logger$C.throwArgumentError("bad icap checksum","address",vn),fn=_base36To16(vn.substring(4));fn.length<40;)fn="0"+fn;fn=getChecksumAddress("0x"+fn)}else logger$C.throwArgumentError("invalid address","address",vn);return fn}function isAddress(vn){try{return getAddress(vn),!0}catch{}return!1}function getIcapAddress(vn){let fn=_base16To36(getAddress(vn).substring(2)).toUpperCase();for(;fn.length<30;)fn="0"+fn;return"XE"+ibanChecksum("XE00"+fn)+fn}function getContractAddress(vn){let fn=null;try{fn=getAddress(vn.from)}catch{logger$C.throwArgumentError("missing from address","transaction",vn)}const En=stripZeros(arrayify(BigNumber.from(vn.nonce).toHexString()));return getAddress(hexDataSlice(keccak256$1(encode$c([fn,En])),12))}function getCreate2Address(vn,fn,En){return hexDataLength(fn)!==32&&logger$C.throwArgumentError("salt must be 32 bytes","salt",fn),hexDataLength(En)!==32&&logger$C.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",En),getAddress(hexDataSlice(keccak256$1(concat$3(["0xff",getAddress(vn),fn,En])),12))}const lib_esm$j=Object.freeze(Object.defineProperty({__proto__:null,getAddress,getContractAddress,getCreate2Address,getIcapAddress,isAddress},Symbol.toStringTag,{value:"Module"}));class AddressCoder extends Coder{constructor(fn){super("address","address",fn,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(fn,En){try{En=getAddress(En)}catch(Cn){this._throwError(Cn.message,En)}return fn.writeValue(En)}decode(fn){return getAddress(hexZeroPad(fn.readValue().toHexString(),20))}}class AnonymousCoder extends Coder{constructor(fn){super(fn.name,fn.type,void 0,fn.dynamic),this.coder=fn}defaultValue(){return this.coder.defaultValue()}encode(fn,En){return this.coder.encode(fn,En)}decode(fn){return this.coder.decode(fn)}}const logger$B=new Logger(version$q);function pack$1(vn,fn,En){let Cn=null;if(Array.isArray(En))Cn=En;else if(En&&typeof En=="object"){let $a={};Cn=fn.map(rs=>{const ts=rs.localName;return ts||logger$B.throwError("cannot encode object for signature with missing names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:rs,value:En}),$a[ts]&&logger$B.throwError("cannot encode object for signature with duplicate names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:rs,value:En}),$a[ts]=!0,En[ts]})}else logger$B.throwArgumentError("invalid tuple value","tuple",En);fn.length!==Cn.length&&logger$B.throwArgumentError("types/value length mismatch","tuple",En);let _i=new Writer(vn.wordSize),An=new Writer(vn.wordSize),ba=[];fn.forEach(($a,rs)=>{let ts=Cn[rs];if($a.dynamic){let is=An.length;$a.encode(An,ts);let cs=_i.writeUpdatableValue();ba.push(us=>{cs(us+is)})}else $a.encode(_i,ts)}),ba.forEach($a=>{$a(_i.length)});let xa=vn.appendWriter(_i);return xa+=vn.appendWriter(An),xa}function unpack(vn,fn){let En=[],Cn=vn.subReader(0);fn.forEach(An=>{let ba=null;if(An.dynamic){let xa=vn.readValue(),$a=Cn.subReader(xa.toNumber());try{ba=An.decode($a)}catch(rs){if(rs.code===Logger.errors.BUFFER_OVERRUN)throw rs;ba=rs,ba.baseType=An.name,ba.name=An.localName,ba.type=An.type}}else try{ba=An.decode(vn)}catch(xa){if(xa.code===Logger.errors.BUFFER_OVERRUN)throw xa;ba=xa,ba.baseType=An.name,ba.name=An.localName,ba.type=An.type}ba!=null&&En.push(ba)});const _i=fn.reduce((An,ba)=>{const xa=ba.localName;return xa&&(An[xa]||(An[xa]=0),An[xa]++),An},{});fn.forEach((An,ba)=>{let xa=An.localName;if(!xa||_i[xa]!==1||(xa==="length"&&(xa="_length"),En[xa]!=null))return;const $a=En[ba];$a instanceof Error?Object.defineProperty(En,xa,{enumerable:!0,get:()=>{throw $a}}):En[xa]=$a});for(let An=0;An<En.length;An++){const ba=En[An];ba instanceof Error&&Object.defineProperty(En,An,{enumerable:!0,get:()=>{throw ba}})}return Object.freeze(En)}class ArrayCoder extends Coder{constructor(fn,En,Cn){const _i=fn.type+"["+(En>=0?En:"")+"]",An=En===-1||fn.dynamic;super("array",_i,Cn,An),this.coder=fn,this.length=En}defaultValue(){const fn=this.coder.defaultValue(),En=[];for(let Cn=0;Cn<this.length;Cn++)En.push(fn);return En}encode(fn,En){Array.isArray(En)||this._throwError("expected array value",En);let Cn=this.length;Cn===-1&&(Cn=En.length,fn.writeValue(En.length)),logger$B.checkArgumentCount(En.length,Cn,"coder array"+(this.localName?" "+this.localName:""));let _i=[];for(let An=0;An<En.length;An++)_i.push(this.coder);return pack$1(fn,_i,En)}decode(fn){let En=this.length;En===-1&&(En=fn.readValue().toNumber(),En*32>fn._data.length&&logger$B.throwError("insufficient data length",Logger.errors.BUFFER_OVERRUN,{length:fn._data.length,count:En}));let Cn=[];for(let _i=0;_i<En;_i++)Cn.push(new AnonymousCoder(this.coder));return fn.coerce(this.name,unpack(fn,Cn))}}class BooleanCoder extends Coder{constructor(fn){super("bool","bool",fn,!1)}defaultValue(){return!1}encode(fn,En){return fn.writeValue(En?1:0)}decode(fn){return fn.coerce(this.type,!fn.readValue().isZero())}}class DynamicBytesCoder extends Coder{constructor(fn,En){super(fn,fn,En,!0)}defaultValue(){return"0x"}encode(fn,En){En=arrayify(En);let Cn=fn.writeValue(En.length);return Cn+=fn.writeBytes(En),Cn}decode(fn){return fn.readBytes(fn.readValue().toNumber(),!0)}}class BytesCoder extends DynamicBytesCoder{constructor(fn){super("bytes",fn)}decode(fn){return fn.coerce(this.name,hexlify(super.decode(fn)))}}class FixedBytesCoder extends Coder{constructor(fn,En){let Cn="bytes"+String(fn);super(Cn,Cn,En,!1),this.size=fn}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(fn,En){let Cn=arrayify(En);return Cn.length!==this.size&&this._throwError("incorrect data length",En),fn.writeBytes(Cn)}decode(fn){return fn.coerce(this.name,hexlify(fn.readBytes(this.size)))}}class NullCoder extends Coder{constructor(fn){super("null","",fn,!1)}defaultValue(){return null}encode(fn,En){return En!=null&&this._throwError("not null",En),fn.writeBytes([])}decode(fn){return fn.readBytes(0),fn.coerce(this.name,null)}}const AddressZero$1="0x0000000000000000000000000000000000000000",NegativeOne$1=BigNumber.from(-1),Zero$1=BigNumber.from(0),One$1=BigNumber.from(1),Two=BigNumber.from(2),WeiPerEther=BigNumber.from("1000000000000000000"),MaxUint256$1=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),MinInt256=BigNumber.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),MaxInt256=BigNumber.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),HashZero="0x0000000000000000000000000000000000000000000000000000000000000000",EtherSymbol="",lib_esm$i=Object.freeze(Object.defineProperty({__proto__:null,AddressZero:AddressZero$1,EtherSymbol,HashZero,MaxInt256,MaxUint256:MaxUint256$1,MinInt256,NegativeOne:NegativeOne$1,One:One$1,Two,WeiPerEther,Zero:Zero$1},Symbol.toStringTag,{value:"Module"}));class NumberCoder extends Coder{constructor(fn,En,Cn){const _i=(En?"int":"uint")+fn*8;super(_i,_i,Cn,!1),this.size=fn,this.signed=En}defaultValue(){return 0}encode(fn,En){let Cn=BigNumber.from(En),_i=MaxUint256$1.mask(fn.wordSize*8);if(this.signed){let An=_i.mask(this.size*8-1);(Cn.gt(An)||Cn.lt(An.add(One$1).mul(NegativeOne$1)))&&this._throwError("value out-of-bounds",En)}else(Cn.lt(Zero$1)||Cn.gt(_i.mask(this.size*8)))&&this._throwError("value out-of-bounds",En);return Cn=Cn.toTwos(this.size*8).mask(this.size*8),this.signed&&(Cn=Cn.fromTwos(this.size*8).toTwos(8*fn.wordSize)),fn.writeValue(Cn)}decode(fn){let En=fn.readValue().mask(this.size*8);return this.signed&&(En=En.fromTwos(this.size*8)),fn.coerce(this.name,En)}}const version$n="strings/5.7.0",logger$A=new Logger(version$n);var UnicodeNormalizationForm;(function(vn){vn.current="",vn.NFC="NFC",vn.NFD="NFD",vn.NFKC="NFKC",vn.NFKD="NFKD"})(UnicodeNormalizationForm||(UnicodeNormalizationForm={}));var Utf8ErrorReason;(function(vn){vn.UNEXPECTED_CONTINUE="unexpected continuation byte",vn.BAD_PREFIX="bad codepoint prefix",vn.OVERRUN="string overrun",vn.MISSING_CONTINUE="missing continuation byte",vn.OUT_OF_RANGE="out of UTF-8 range",vn.UTF16_SURROGATE="UTF-16 surrogate",vn.OVERLONG="overlong representation"})(Utf8ErrorReason||(Utf8ErrorReason={}));function errorFunc(vn,fn,En,Cn,_i){return logger$A.throwArgumentError(`invalid codepoint at offset ${fn}; ${vn}`,"bytes",En)}function ignoreFunc(vn,fn,En,Cn,_i){if(vn===Utf8ErrorReason.BAD_PREFIX||vn===Utf8ErrorReason.UNEXPECTED_CONTINUE){let An=0;for(let ba=fn+1;ba<En.length&&En[ba]>>6===2;ba++)An++;return An}return vn===Utf8ErrorReason.OVERRUN?En.length-fn-1:0}function replaceFunc(vn,fn,En,Cn,_i){return vn===Utf8ErrorReason.OVERLONG?(Cn.push(_i),0):(Cn.push(65533),ignoreFunc(vn,fn,En))}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(vn,fn){fn==null&&(fn=Utf8ErrorFuncs.error),vn=arrayify(vn);const En=[];let Cn=0;for(;Cn<vn.length;){const _i=vn[Cn++];if(!(_i>>7)){En.push(_i);continue}let An=null,ba=null;if((_i&224)===192)An=1,ba=127;else if((_i&240)===224)An=2,ba=2047;else if((_i&248)===240)An=3,ba=65535;else{(_i&192)===128?Cn+=fn(Utf8ErrorReason.UNEXPECTED_CONTINUE,Cn-1,vn,En):Cn+=fn(Utf8ErrorReason.BAD_PREFIX,Cn-1,vn,En);continue}if(Cn-1+An>=vn.length){Cn+=fn(Utf8ErrorReason.OVERRUN,Cn-1,vn,En);continue}let xa=_i&(1<<8-An-1)-1;for(let $a=0;$a<An;$a++){let rs=vn[Cn];if((rs&192)!=128){Cn+=fn(Utf8ErrorReason.MISSING_CONTINUE,Cn,vn,En),xa=null;break}xa=xa<<6|rs&63,Cn++}if(xa!==null){if(xa>1114111){Cn+=fn(Utf8ErrorReason.OUT_OF_RANGE,Cn-1-An,vn,En,xa);continue}if(xa>=55296&&xa<=57343){Cn+=fn(Utf8ErrorReason.UTF16_SURROGATE,Cn-1-An,vn,En,xa);continue}if(xa<=ba){Cn+=fn(Utf8ErrorReason.OVERLONG,Cn-1-An,vn,En,xa);continue}En.push(xa)}}return En}function toUtf8Bytes(vn,fn=UnicodeNormalizationForm.current){fn!=UnicodeNormalizationForm.current&&(logger$A.checkNormalize(),vn=vn.normalize(fn));let En=[];for(let Cn=0;Cn<vn.length;Cn++){const _i=vn.charCodeAt(Cn);if(_i<128)En.push(_i);else if(_i<2048)En.push(_i>>6|192),En.push(_i&63|128);else if((_i&64512)==55296){Cn++;const An=vn.charCodeAt(Cn);if(Cn>=vn.length||(An&64512)!==56320)throw new Error("invalid utf-8 string");const ba=65536+((_i&1023)<<10)+(An&1023);En.push(ba>>18|240),En.push(ba>>12&63|128),En.push(ba>>6&63|128),En.push(ba&63|128)}else En.push(_i>>12|224),En.push(_i>>6&63|128),En.push(_i&63|128)}return arrayify(En)}function escapeChar(vn){const fn="0000"+vn.toString(16);return"\\u"+fn.substring(fn.length-4)}function _toEscapedUtf8String(vn,fn){return'"'+getUtf8CodePoints(vn,fn).map(En=>{if(En<256){switch(En){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(En>=32&&En<127)return String.fromCharCode(En)}return En<=65535?escapeChar(En):(En-=65536,escapeChar((En>>10&1023)+55296)+escapeChar((En&1023)+56320))}).join("")+'"'}function _toUtf8String(vn){return vn.map(fn=>fn<=65535?String.fromCharCode(fn):(fn-=65536,String.fromCharCode((fn>>10&1023)+55296,(fn&1023)+56320))).join("")}function toUtf8String(vn,fn){return _toUtf8String(getUtf8CodePoints(vn,fn))}function toUtf8CodePoints(vn,fn=UnicodeNormalizationForm.current){return getUtf8CodePoints(toUtf8Bytes(vn,fn))}function formatBytes32String(vn){const fn=toUtf8Bytes(vn);if(fn.length>31)throw new Error("bytes32 string must be less than 32 bytes");return hexlify(concat$3([fn,HashZero]).slice(0,32))}function parseBytes32String(vn){const fn=arrayify(vn);if(fn.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(fn[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let En=31;for(;fn[En-1]===0;)En--;return toUtf8String(fn.slice(0,En))}function bytes2(vn){if(vn.length%4!==0)throw new Error("bad data");let fn=[];for(let En=0;En<vn.length;En+=4)fn.push(parseInt(vn.substring(En,En+4),16));return fn}function createTable(vn,fn){fn||(fn=function(_i){return[parseInt(_i,16)]});let En=0,Cn={};return vn.split(",").forEach(_i=>{let An=_i.split(":");En+=parseInt(An[0],16),Cn[En]=fn(An[1])}),Cn}function createRangeTable(vn){let fn=0;return vn.split(",").map(En=>{let Cn=En.split("-");Cn.length===1?Cn[1]="0":Cn[1]===""&&(Cn[1]="1");let _i=fn+parseInt(Cn[0],16);return fn=parseInt(Cn[1],16),{l:_i,h:fn}})}function matchMap(vn,fn){let En=0;for(let Cn=0;Cn<fn.length;Cn++){let _i=fn[Cn];if(En+=_i.l,vn>=En&&vn<=En+_i.h&&(vn-En)%(_i.d||1)===0){if(_i.e&&_i.e.indexOf(vn-En)!==-1)continue;return _i}}return null}const Table_A_1_ranges=createRangeTable("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Table_B_1_flags="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(vn=>parseInt(vn,16)),Table_B_2_ranges=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Table_B_2_lut_abs=createTable("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Table_B_2_lut_rel=createTable("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Table_B_2_complex=createTable("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",bytes2),Table_C_ranges=createRangeTable("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function flatten(vn){return vn.reduce((fn,En)=>(En.forEach(Cn=>{fn.push(Cn)}),fn),[])}function _nameprepTableA1(vn){return!!matchMap(vn,Table_A_1_ranges)}function _nameprepTableB2(vn){let fn=matchMap(vn,Table_B_2_ranges);if(fn)return[vn+fn.s];let En=Table_B_2_lut_abs[vn];if(En)return En;let Cn=Table_B_2_lut_rel[vn];if(Cn)return[vn+Cn[0]];let _i=Table_B_2_complex[vn];return _i||null}function _nameprepTableC(vn){return!!matchMap(vn,Table_C_ranges)}function nameprep(vn){if(vn.match(/^[a-z0-9-]*$/i)&&vn.length<=59)return vn.toLowerCase();let fn=toUtf8CodePoints(vn);fn=flatten(fn.map(Cn=>{if(Table_B_1_flags.indexOf(Cn)>=0)return[];if(Cn>=65024&&Cn<=65039)return[];let _i=_nameprepTableB2(Cn);return _i||[Cn]})),fn=toUtf8CodePoints(_toUtf8String(fn),UnicodeNormalizationForm.NFKC),fn.forEach(Cn=>{if(_nameprepTableC(Cn))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),fn.forEach(Cn=>{if(_nameprepTableA1(Cn))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let En=_toUtf8String(fn);if(En.substring(0,1)==="-"||En.substring(2,4)==="--"||En.substring(En.length-1)==="-")throw new Error("invalid hyphen");return En}const lib_esm$h=Object.freeze(Object.defineProperty({__proto__:null,get UnicodeNormalizationForm(){return UnicodeNormalizationForm},Utf8ErrorFuncs,get Utf8ErrorReason(){return Utf8ErrorReason},_toEscapedUtf8String,formatBytes32String,nameprep,parseBytes32String,toUtf8Bytes,toUtf8CodePoints,toUtf8String},Symbol.toStringTag,{value:"Module"}));class StringCoder extends DynamicBytesCoder{constructor(fn){super("string",fn)}defaultValue(){return""}encode(fn,En){return super.encode(fn,toUtf8Bytes(En))}decode(fn){return toUtf8String(super.decode(fn))}}class TupleCoder extends Coder{constructor(fn,En){let Cn=!1;const _i=[];fn.forEach(ba=>{ba.dynamic&&(Cn=!0),_i.push(ba.type)});const An="tuple("+_i.join(",")+")";super("tuple",An,En,Cn),this.coders=fn}defaultValue(){const fn=[];this.coders.forEach(Cn=>{fn.push(Cn.defaultValue())});const En=this.coders.reduce((Cn,_i)=>{const An=_i.localName;return An&&(Cn[An]||(Cn[An]=0),Cn[An]++),Cn},{});return this.coders.forEach((Cn,_i)=>{let An=Cn.localName;!An||En[An]!==1||(An==="length"&&(An="_length"),fn[An]==null&&(fn[An]=fn[_i]))}),Object.freeze(fn)}encode(fn,En){return pack$1(fn,this.coders,En)}decode(fn){return fn.coerce(this.name,unpack(fn,this.coders))}}const logger$z=new Logger(version$q),paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);class AbiCoder{constructor(fn){defineReadOnly(this,"coerceFunc",fn||null)}_getCoder(fn){switch(fn.baseType){case"address":return new AddressCoder(fn.name);case"bool":return new BooleanCoder(fn.name);case"string":return new StringCoder(fn.name);case"bytes":return new BytesCoder(fn.name);case"array":return new ArrayCoder(this._getCoder(fn.arrayChildren),fn.arrayLength,fn.name);case"tuple":return new TupleCoder((fn.components||[]).map(Cn=>this._getCoder(Cn)),fn.name);case"":return new NullCoder(fn.name)}let En=fn.type.match(paramTypeNumber);if(En){let Cn=parseInt(En[2]||"256");return(Cn===0||Cn>256||Cn%8!==0)&&logger$z.throwArgumentError("invalid "+En[1]+" bit length","param",fn),new NumberCoder(Cn/8,En[1]==="int",fn.name)}if(En=fn.type.match(paramTypeBytes),En){let Cn=parseInt(En[1]);return(Cn===0||Cn>32)&&logger$z.throwArgumentError("invalid bytes length","param",fn),new FixedBytesCoder(Cn,fn.name)}return logger$z.throwArgumentError("invalid type","type",fn.type)}_getWordSize(){return 32}_getReader(fn,En){return new Reader(fn,this._getWordSize(),this.coerceFunc,En)}_getWriter(){return new Writer(this._getWordSize())}getDefaultValue(fn){const En=fn.map(_i=>this._getCoder(ParamType.from(_i)));return new TupleCoder(En,"_").defaultValue()}encode(fn,En){fn.length!==En.length&&logger$z.throwError("types/values length mismatch",Logger.errors.INVALID_ARGUMENT,{count:{types:fn.length,values:En.length},value:{types:fn,values:En}});const Cn=fn.map(ba=>this._getCoder(ParamType.from(ba))),_i=new TupleCoder(Cn,"_"),An=this._getWriter();return _i.encode(An,En),An.data}decode(fn,En,Cn){const _i=fn.map(ba=>this._getCoder(ParamType.from(ba)));return new TupleCoder(_i,"_").decode(this._getReader(arrayify(En),Cn))}}const defaultAbiCoder=new AbiCoder;function id(vn){return keccak256$1(toUtf8Bytes(vn))}const version$m="hash/5.7.0";function decode$e(vn){vn=atob(vn);const fn=[];for(let En=0;En<vn.length;En++)fn.push(vn.charCodeAt(En));return arrayify(fn)}function encode$b(vn){vn=arrayify(vn);let fn="";for(let En=0;En<vn.length;En++)fn+=String.fromCharCode(vn[En]);return btoa(fn)}const lib_esm$g=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$e,encode:encode$b},Symbol.toStringTag,{value:"Module"}));function flat(vn,fn){fn==null&&(fn=1);const En=[],Cn=En.forEach,_i=function(An,ba){Cn.call(An,function(xa){ba>0&&Array.isArray(xa)?_i(xa,ba-1):En.push(xa)})};return _i(vn,fn),En}function fromEntries(vn){const fn={};for(let En=0;En<vn.length;En++){const Cn=vn[En];fn[Cn[0]]=Cn[1]}return fn}function decode_arithmetic(vn){let fn=0;function En(){return vn[fn++]<<8|vn[fn++]}let Cn=En(),_i=1,An=[0,1];for(let c0=1;c0<Cn;c0++)An.push(_i+=En());let ba=En(),xa=fn;fn+=ba;let $a=0,rs=0;function ts(){return $a==0&&(rs=rs<<8|vn[fn++],$a=8),rs>>--$a&1}const is=31,cs=Math.pow(2,is),us=cs>>>1,ps=us>>1,bs=cs-1;let e0=0;for(let c0=0;c0<is;c0++)e0=e0<<1|ts();let gs=[],Ds=0,i0=cs;for(;;){let c0=Math.floor(((e0-Ds+1)*_i-1)/i0),d0=0,o0=Cn;for(;o0-d0>1;){let M0=d0+o0>>>1;c0<An[M0]?o0=M0:d0=M0}if(d0==0)break;gs.push(d0);let g0=Ds+Math.floor(i0*An[d0]/_i),w0=Ds+Math.floor(i0*An[d0+1]/_i)-1;for(;!((g0^w0)&us);)e0=e0<<1&bs|ts(),g0=g0<<1&bs,w0=w0<<1&bs|1;for(;g0&~w0&ps;)e0=e0&us|e0<<1&bs>>>1|ts(),g0=g0<<1^us,w0=(w0^us)<<1|us|1;Ds=g0,i0=1+w0-g0}let n0=Cn-4;return gs.map(c0=>{switch(c0-n0){case 3:return n0+65792+(vn[xa++]<<16|vn[xa++]<<8|vn[xa++]);case 2:return n0+256+(vn[xa++]<<8|vn[xa++]);case 1:return n0+vn[xa++];default:return c0-1}})}function read_payload(vn){let fn=0;return()=>vn[fn++]}function read_compressed_payload(vn){return read_payload(decode_arithmetic(vn))}function signed(vn){return vn&1?~vn>>1:vn>>1}function read_counts(vn,fn){let En=Array(vn);for(let Cn=0;Cn<vn;Cn++)En[Cn]=1+fn();return En}function read_ascending(vn,fn){let En=Array(vn);for(let Cn=0,_i=-1;Cn<vn;Cn++)En[Cn]=_i+=1+fn();return En}function read_deltas(vn,fn){let En=Array(vn);for(let Cn=0,_i=0;Cn<vn;Cn++)En[Cn]=_i+=signed(fn());return En}function read_member_array(vn,fn){let En=read_ascending(vn(),vn),Cn=vn(),_i=read_ascending(Cn,vn),An=read_counts(Cn,vn);for(let ba=0;ba<Cn;ba++)for(let xa=0;xa<An[ba];xa++)En.push(_i[ba]+xa);return fn?En.map(ba=>fn[ba]):En}function read_mapped_map(vn){let fn=[];for(;;){let En=vn();if(En==0)break;fn.push(read_linear_table(En,vn))}for(;;){let En=vn()-1;if(En<0)break;fn.push(read_replacement_table(En,vn))}return fromEntries(flat(fn))}function read_zero_terminated_array(vn){let fn=[];for(;;){let En=vn();if(En==0)break;fn.push(En)}return fn}function read_transposed(vn,fn,En){let Cn=Array(vn).fill(void 0).map(()=>[]);for(let _i=0;_i<fn;_i++)read_deltas(vn,En).forEach((An,ba)=>Cn[ba].push(An));return Cn}function read_linear_table(vn,fn){let En=1+fn(),Cn=fn(),_i=read_zero_terminated_array(fn),An=read_transposed(_i.length,1+vn,fn);return flat(An.map((ba,xa)=>{const $a=ba[0],rs=ba.slice(1);return Array(_i[xa]).fill(void 0).map((ts,is)=>{let cs=is*Cn;return[$a+is*En,rs.map(us=>us+cs)]})}))}function read_replacement_table(vn,fn){let En=1+fn();return read_transposed(En,1+vn,fn).map(_i=>[_i[0],_i.slice(1)])}function read_emoji_trie(vn){let fn=read_member_array(vn).sort((Cn,_i)=>Cn-_i);return En();function En(){let Cn=[];for(;;){let rs=read_member_array(vn,fn);if(rs.length==0)break;Cn.push({set:new Set(rs),node:En()})}Cn.sort((rs,ts)=>ts.set.size-rs.set.size);let _i=vn(),An=_i%3;_i=_i/3|0;let ba=!!(_i&1);_i>>=1;let xa=_i==1,$a=_i==2;return{branches:Cn,valid:An,fe0f:ba,save:xa,check:$a}}}function getData(){return read_compressed_payload(decode$e("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const r$4=getData(),VALID=new Set(read_member_array(r$4)),IGNORED=new Set(read_member_array(r$4)),MAPPED=read_mapped_map(r$4),EMOJI_ROOT=read_emoji_trie(r$4),HYPHEN=45,UNDERSCORE=95;function explode_cp(vn){return toUtf8CodePoints(vn)}function filter_fe0f(vn){return vn.filter(fn=>fn!=65039)}function ens_normalize_post_check(vn){for(let fn of vn.split(".")){let En=explode_cp(fn);try{for(let Cn=En.lastIndexOf(UNDERSCORE)-1;Cn>=0;Cn--)if(En[Cn]!==UNDERSCORE)throw new Error("underscore only allowed at start");if(En.length>=4&&En.every(Cn=>Cn<128)&&En[2]===HYPHEN&&En[3]===HYPHEN)throw new Error("invalid label extension")}catch(Cn){throw new Error(`Invalid label "${fn}": ${Cn.message}`)}}return vn}function ens_normalize(vn){return ens_normalize_post_check(normalize(vn,filter_fe0f))}function normalize(vn,fn){let En=explode_cp(vn).reverse(),Cn=[];for(;En.length;){let _i=consume_emoji_reversed(En);if(_i){Cn.push(...fn(_i));continue}let An=En.pop();if(VALID.has(An)){Cn.push(An);continue}if(IGNORED.has(An))continue;let ba=MAPPED[An];if(ba){Cn.push(...ba);continue}throw new Error(`Disallowed codepoint: 0x${An.toString(16).toUpperCase()}`)}return ens_normalize_post_check(nfc(String.fromCodePoint(...Cn)))}function nfc(vn){return vn.normalize("NFC")}function consume_emoji_reversed(vn,fn){var En;let Cn=EMOJI_ROOT,_i,An,ba=[],xa=vn.length;for(;xa;){let $a=vn[--xa];if(Cn=(En=Cn.branches.find(rs=>rs.set.has($a)))===null||En===void 0?void 0:En.node,!Cn)break;if(Cn.save)An=$a;else if(Cn.check&&$a===An)break;ba.push($a),Cn.fe0f&&(ba.push(65039),xa>0&&vn[xa-1]==65039&&xa--),Cn.valid&&(_i=ba.slice(),Cn.valid==2&&_i.splice(1,1),vn.length=xa)}return _i}const logger$y=new Logger(version$m),Zeros$1=new Uint8Array(32);Zeros$1.fill(0);function checkComponent(vn){if(vn.length===0)throw new Error("invalid ENS name; empty component");return vn}function ensNameSplit(vn){const fn=toUtf8Bytes(ens_normalize(vn)),En=[];if(vn.length===0)return En;let Cn=0;for(let _i=0;_i<fn.length;_i++)fn[_i]===46&&(En.push(checkComponent(fn.slice(Cn,_i))),Cn=_i+1);if(Cn>=fn.length)throw new Error("invalid ENS name; empty component");return En.push(checkComponent(fn.slice(Cn))),En}function ensNormalize(vn){return ensNameSplit(vn).map(fn=>toUtf8String(fn)).join(".")}function isValidName(vn){try{return ensNameSplit(vn).length!==0}catch{}return!1}function namehash(vn){typeof vn!="string"&&logger$y.throwArgumentError("invalid ENS name; not a string","name",vn);let fn=Zeros$1;const En=ensNameSplit(vn);for(;En.length;)fn=keccak256$1(concat$3([fn,keccak256$1(En.pop())]));return hexlify(fn)}function dnsEncode(vn){return hexlify(concat$3(ensNameSplit(vn).map(fn=>{if(fn.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const En=new Uint8Array(fn.length+1);return En.set(fn,1),En[0]=En.length-1,En})))+"00"}const messagePrefix=`Ethereum Signed Message:
`;function hashMessage(vn){return typeof vn=="string"&&(vn=toUtf8Bytes(vn)),keccak256$1(concat$3([toUtf8Bytes(messagePrefix),toUtf8Bytes(String(vn.length)),vn]))}var __awaiter$f=function(vn,fn,En,Cn){function _i(An){return An instanceof En?An:new En(function(ba){ba(An)})}return new(En||(En=Promise))(function(An,ba){function xa(ts){try{rs(Cn.next(ts))}catch(is){ba(is)}}function $a(ts){try{rs(Cn.throw(ts))}catch(is){ba(is)}}function rs(ts){ts.done?An(ts.value):_i(ts.value).then(xa,$a)}rs((Cn=Cn.apply(vn,fn||[])).next())})};const logger$x=new Logger(version$m),padding=new Uint8Array(32);padding.fill(0);const NegativeOne=BigNumber.from(-1),Zero=BigNumber.from(0),One=BigNumber.from(1),MaxUint256=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight(vn){const fn=arrayify(vn),En=fn.length%32;return En?hexConcat([fn,padding.slice(En)]):hexlify(fn)}const hexTrue=hexZeroPad(One.toHexString(),32),hexFalse=hexZeroPad(Zero.toHexString(),32),domainFieldTypes={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames=["name","version","chainId","verifyingContract","salt"];function checkString(vn){return function(fn){return typeof fn!="string"&&logger$x.throwArgumentError(`invalid domain value for ${JSON.stringify(vn)}`,`domain.${vn}`,fn),fn}}const domainChecks={name:checkString("name"),version:checkString("version"),chainId:function(vn){try{return BigNumber.from(vn).toString()}catch{}return logger$x.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",vn)},verifyingContract:function(vn){try{return getAddress(vn).toLowerCase()}catch{}return logger$x.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",vn)},salt:function(vn){try{const fn=arrayify(vn);if(fn.length!==32)throw new Error("bad length");return hexlify(fn)}catch{}return logger$x.throwArgumentError('invalid domain value "salt"',"domain.salt",vn)}};function getBaseEncoder(vn){{const fn=vn.match(/^(u?)int(\d*)$/);if(fn){const En=fn[1]==="",Cn=parseInt(fn[2]||"256");(Cn%8!==0||Cn>256||fn[2]&&fn[2]!==String(Cn))&&logger$x.throwArgumentError("invalid numeric width","type",vn);const _i=MaxUint256.mask(En?Cn-1:Cn),An=En?_i.add(One).mul(NegativeOne):Zero;return function(ba){const xa=BigNumber.from(ba);return(xa.lt(An)||xa.gt(_i))&&logger$x.throwArgumentError(`value out-of-bounds for ${vn}`,"value",ba),hexZeroPad(xa.toTwos(256).toHexString(),32)}}}{const fn=vn.match(/^bytes(\d+)$/);if(fn){const En=parseInt(fn[1]);return(En===0||En>32||fn[1]!==String(En))&&logger$x.throwArgumentError("invalid bytes width","type",vn),function(Cn){return arrayify(Cn).length!==En&&logger$x.throwArgumentError(`invalid length for ${vn}`,"value",Cn),hexPadRight(Cn)}}}switch(vn){case"address":return function(fn){return hexZeroPad(getAddress(fn),32)};case"bool":return function(fn){return fn?hexTrue:hexFalse};case"bytes":return function(fn){return keccak256$1(fn)};case"string":return function(fn){return id(fn)}}return null}function encodeType(vn,fn){return`${vn}(${fn.map(({name:En,type:Cn})=>Cn+" "+En).join(",")})`}class TypedDataEncoder{constructor(fn){defineReadOnly(this,"types",Object.freeze(deepCopy(fn))),defineReadOnly(this,"_encoderCache",{}),defineReadOnly(this,"_types",{});const En={},Cn={},_i={};Object.keys(fn).forEach(xa=>{En[xa]={},Cn[xa]=[],_i[xa]={}});for(const xa in fn){const $a={};fn[xa].forEach(rs=>{$a[rs.name]&&logger$x.throwArgumentError(`duplicate variable name ${JSON.stringify(rs.name)} in ${JSON.stringify(xa)}`,"types",fn),$a[rs.name]=!0;const ts=rs.type.match(/^([^\x5b]*)(\x5b|$)/)[1];ts===xa&&logger$x.throwArgumentError(`circular type reference to ${JSON.stringify(ts)}`,"types",fn),!getBaseEncoder(ts)&&(Cn[ts]||logger$x.throwArgumentError(`unknown type ${JSON.stringify(ts)}`,"types",fn),Cn[ts].push(xa),En[xa][ts]=!0)})}const An=Object.keys(Cn).filter(xa=>Cn[xa].length===0);An.length===0?logger$x.throwArgumentError("missing primary type","types",fn):An.length>1&&logger$x.throwArgumentError(`ambiguous primary types or unused types: ${An.map(xa=>JSON.stringify(xa)).join(", ")}`,"types",fn),defineReadOnly(this,"primaryType",An[0]);function ba(xa,$a){$a[xa]&&logger$x.throwArgumentError(`circular type reference to ${JSON.stringify(xa)}`,"types",fn),$a[xa]=!0,Object.keys(En[xa]).forEach(rs=>{Cn[rs]&&(ba(rs,$a),Object.keys($a).forEach(ts=>{_i[ts][rs]=!0}))}),delete $a[xa]}ba(this.primaryType,{});for(const xa in _i){const $a=Object.keys(_i[xa]);$a.sort(),this._types[xa]=encodeType(xa,fn[xa])+$a.map(rs=>encodeType(rs,fn[rs])).join("")}}getEncoder(fn){let En=this._encoderCache[fn];return En||(En=this._encoderCache[fn]=this._getEncoder(fn)),En}_getEncoder(fn){{const _i=getBaseEncoder(fn);if(_i)return _i}const En=fn.match(/^(.*)(\x5b(\d*)\x5d)$/);if(En){const _i=En[1],An=this.getEncoder(_i),ba=parseInt(En[3]);return xa=>{ba>=0&&xa.length!==ba&&logger$x.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",xa);let $a=xa.map(An);return this._types[_i]&&($a=$a.map(keccak256$1)),keccak256$1(hexConcat($a))}}const Cn=this.types[fn];if(Cn){const _i=id(this._types[fn]);return An=>{const ba=Cn.map(({name:xa,type:$a})=>{const rs=this.getEncoder($a)(An[xa]);return this._types[$a]?keccak256$1(rs):rs});return ba.unshift(_i),hexConcat(ba)}}return logger$x.throwArgumentError(`unknown type: ${fn}`,"type",fn)}encodeType(fn){const En=this._types[fn];return En||logger$x.throwArgumentError(`unknown type: ${JSON.stringify(fn)}`,"name",fn),En}encodeData(fn,En){return this.getEncoder(fn)(En)}hashStruct(fn,En){return keccak256$1(this.encodeData(fn,En))}encode(fn){return this.encodeData(this.primaryType,fn)}hash(fn){return this.hashStruct(this.primaryType,fn)}_visit(fn,En,Cn){if(getBaseEncoder(fn))return Cn(fn,En);const _i=fn.match(/^(.*)(\x5b(\d*)\x5d)$/);if(_i){const ba=_i[1],xa=parseInt(_i[3]);return xa>=0&&En.length!==xa&&logger$x.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",En),En.map($a=>this._visit(ba,$a,Cn))}const An=this.types[fn];return An?An.reduce((ba,{name:xa,type:$a})=>(ba[xa]=this._visit($a,En[xa],Cn),ba),{}):logger$x.throwArgumentError(`unknown type: ${fn}`,"type",fn)}visit(fn,En){return this._visit(this.primaryType,fn,En)}static from(fn){return new TypedDataEncoder(fn)}static getPrimaryType(fn){return TypedDataEncoder.from(fn).primaryType}static hashStruct(fn,En,Cn){return TypedDataEncoder.from(En).hashStruct(fn,Cn)}static hashDomain(fn){const En=[];for(const Cn in fn){const _i=domainFieldTypes[Cn];_i||logger$x.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(Cn)}`,"domain",fn),En.push({name:Cn,type:_i})}return En.sort((Cn,_i)=>domainFieldNames.indexOf(Cn.name)-domainFieldNames.indexOf(_i.name)),TypedDataEncoder.hashStruct("EIP712Domain",{EIP712Domain:En},fn)}static encode(fn,En,Cn){return hexConcat(["0x1901",TypedDataEncoder.hashDomain(fn),TypedDataEncoder.from(En).hash(Cn)])}static hash(fn,En,Cn){return keccak256$1(TypedDataEncoder.encode(fn,En,Cn))}static resolveNames(fn,En,Cn,_i){return __awaiter$f(this,void 0,void 0,function*(){fn=shallowCopy(fn);const An={};fn.verifyingContract&&!isHexString(fn.verifyingContract,20)&&(An[fn.verifyingContract]="0x");const ba=TypedDataEncoder.from(En);ba.visit(Cn,(xa,$a)=>(xa==="address"&&!isHexString($a,20)&&(An[$a]="0x"),$a));for(const xa in An)An[xa]=yield _i(xa);return fn.verifyingContract&&An[fn.verifyingContract]&&(fn.verifyingContract=An[fn.verifyingContract]),Cn=ba.visit(Cn,(xa,$a)=>xa==="address"&&An[$a]?An[$a]:$a),{domain:fn,value:Cn}})}static getPayload(fn,En,Cn){TypedDataEncoder.hashDomain(fn);const _i={},An=[];domainFieldNames.forEach($a=>{const rs=fn[$a];rs!=null&&(_i[$a]=domainChecks[$a](rs),An.push({name:$a,type:domainFieldTypes[$a]}))});const ba=TypedDataEncoder.from(En),xa=shallowCopy(En);return xa.EIP712Domain?logger$x.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",En):xa.EIP712Domain=An,ba.encode(Cn),{types:xa,domain:_i,primaryType:ba.primaryType,message:ba.visit(Cn,($a,rs)=>{if($a.match(/^bytes(\d*)/))return hexlify(arrayify(rs));if($a.match(/^u?int/))return BigNumber.from(rs).toString();switch($a){case"address":return rs.toLowerCase();case"bool":return!!rs;case"string":return typeof rs!="string"&&logger$x.throwArgumentError("invalid string","value",rs),rs}return logger$x.throwArgumentError("unsupported type","type",$a)})}}}const lib_esm$f=Object.freeze(Object.defineProperty({__proto__:null,_TypedDataEncoder:TypedDataEncoder,dnsEncode,ensNormalize,hashMessage,id,isValidName,messagePrefix,namehash},Symbol.toStringTag,{value:"Module"})),logger$w=new Logger(version$q);class LogDescription extends Description{}class TransactionDescription extends Description{}class ErrorDescription extends Description{}class Indexed extends Description{static isIndexed(fn){return!!(fn&&fn._isIndexed)}}const BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wrapAccessError(vn,fn){const En=new Error(`deferred error during ABI decoding triggered accessing ${vn}`);return En.error=fn,En}class Interface{constructor(fn){let En=[];typeof fn=="string"?En=JSON.parse(fn):En=fn,defineReadOnly(this,"fragments",En.map(Cn=>Fragment.from(Cn)).filter(Cn=>Cn!=null)),defineReadOnly(this,"_abiCoder",getStatic(new.target,"getAbiCoder")()),defineReadOnly(this,"functions",{}),defineReadOnly(this,"errors",{}),defineReadOnly(this,"events",{}),defineReadOnly(this,"structs",{}),this.fragments.forEach(Cn=>{let _i=null;switch(Cn.type){case"constructor":if(this.deploy){logger$w.warn("duplicate definition - constructor");return}defineReadOnly(this,"deploy",Cn);return;case"function":_i=this.functions;break;case"event":_i=this.events;break;case"error":_i=this.errors;break;default:return}let An=Cn.format();if(_i[An]){logger$w.warn("duplicate definition - "+An);return}_i[An]=Cn}),this.deploy||defineReadOnly(this,"deploy",ConstructorFragment.from({payable:!1,type:"constructor"})),defineReadOnly(this,"_isInterface",!0)}format(fn){fn||(fn=FormatTypes.full),fn===FormatTypes.sighash&&logger$w.throwArgumentError("interface does not support formatting sighash","format",fn);const En=this.fragments.map(Cn=>Cn.format(fn));return fn===FormatTypes.json?JSON.stringify(En.map(Cn=>JSON.parse(Cn))):En}static getAbiCoder(){return defaultAbiCoder}static getAddress(fn){return getAddress(fn)}static getSighash(fn){return hexDataSlice(id(fn.format()),0,4)}static getEventTopic(fn){return id(fn.format())}getFunction(fn){if(isHexString(fn)){for(const Cn in this.functions)if(fn===this.getSighash(Cn))return this.functions[Cn];logger$w.throwArgumentError("no matching function","sighash",fn)}if(fn.indexOf("(")===-1){const Cn=fn.trim(),_i=Object.keys(this.functions).filter(An=>An.split("(")[0]===Cn);return _i.length===0?logger$w.throwArgumentError("no matching function","name",Cn):_i.length>1&&logger$w.throwArgumentError("multiple matching functions","name",Cn),this.functions[_i[0]]}const En=this.functions[FunctionFragment.fromString(fn).format()];return En||logger$w.throwArgumentError("no matching function","signature",fn),En}getEvent(fn){if(isHexString(fn)){const Cn=fn.toLowerCase();for(const _i in this.events)if(Cn===this.getEventTopic(_i))return this.events[_i];logger$w.throwArgumentError("no matching event","topichash",Cn)}if(fn.indexOf("(")===-1){const Cn=fn.trim(),_i=Object.keys(this.events).filter(An=>An.split("(")[0]===Cn);return _i.length===0?logger$w.throwArgumentError("no matching event","name",Cn):_i.length>1&&logger$w.throwArgumentError("multiple matching events","name",Cn),this.events[_i[0]]}const En=this.events[EventFragment.fromString(fn).format()];return En||logger$w.throwArgumentError("no matching event","signature",fn),En}getError(fn){if(isHexString(fn)){const Cn=getStatic(this.constructor,"getSighash");for(const _i in this.errors){const An=this.errors[_i];if(fn===Cn(An))return this.errors[_i]}logger$w.throwArgumentError("no matching error","sighash",fn)}if(fn.indexOf("(")===-1){const Cn=fn.trim(),_i=Object.keys(this.errors).filter(An=>An.split("(")[0]===Cn);return _i.length===0?logger$w.throwArgumentError("no matching error","name",Cn):_i.length>1&&logger$w.throwArgumentError("multiple matching errors","name",Cn),this.errors[_i[0]]}const En=this.errors[FunctionFragment.fromString(fn).format()];return En||logger$w.throwArgumentError("no matching error","signature",fn),En}getSighash(fn){if(typeof fn=="string")try{fn=this.getFunction(fn)}catch(En){try{fn=this.getError(fn)}catch{throw En}}return getStatic(this.constructor,"getSighash")(fn)}getEventTopic(fn){return typeof fn=="string"&&(fn=this.getEvent(fn)),getStatic(this.constructor,"getEventTopic")(fn)}_decodeParams(fn,En){return this._abiCoder.decode(fn,En)}_encodeParams(fn,En){return this._abiCoder.encode(fn,En)}encodeDeploy(fn){return this._encodeParams(this.deploy.inputs,fn||[])}decodeErrorResult(fn,En){typeof fn=="string"&&(fn=this.getError(fn));const Cn=arrayify(En);return hexlify(Cn.slice(0,4))!==this.getSighash(fn)&&logger$w.throwArgumentError(`data signature does not match error ${fn.name}.`,"data",hexlify(Cn)),this._decodeParams(fn.inputs,Cn.slice(4))}encodeErrorResult(fn,En){return typeof fn=="string"&&(fn=this.getError(fn)),hexlify(concat$3([this.getSighash(fn),this._encodeParams(fn.inputs,En||[])]))}decodeFunctionData(fn,En){typeof fn=="string"&&(fn=this.getFunction(fn));const Cn=arrayify(En);return hexlify(Cn.slice(0,4))!==this.getSighash(fn)&&logger$w.throwArgumentError(`data signature does not match function ${fn.name}.`,"data",hexlify(Cn)),this._decodeParams(fn.inputs,Cn.slice(4))}encodeFunctionData(fn,En){return typeof fn=="string"&&(fn=this.getFunction(fn)),hexlify(concat$3([this.getSighash(fn),this._encodeParams(fn.inputs,En||[])]))}decodeFunctionResult(fn,En){typeof fn=="string"&&(fn=this.getFunction(fn));let Cn=arrayify(En),_i=null,An="",ba=null,xa=null,$a=null;switch(Cn.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(fn.outputs,Cn)}catch{}break;case 4:{const rs=hexlify(Cn.slice(0,4)),ts=BuiltinErrors[rs];if(ts)ba=this._abiCoder.decode(ts.inputs,Cn.slice(4)),xa=ts.name,$a=ts.signature,ts.reason&&(_i=ba[0]),xa==="Error"?An=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(ba[0])}`:xa==="Panic"&&(An=`; VM Exception while processing transaction: reverted with panic code ${ba[0]}`);else try{const is=this.getError(rs);ba=this._abiCoder.decode(is.inputs,Cn.slice(4)),xa=is.name,$a=is.format()}catch{}break}}return logger$w.throwError("call revert exception"+An,Logger.errors.CALL_EXCEPTION,{method:fn.format(),data:hexlify(En),errorArgs:ba,errorName:xa,errorSignature:$a,reason:_i})}encodeFunctionResult(fn,En){return typeof fn=="string"&&(fn=this.getFunction(fn)),hexlify(this._abiCoder.encode(fn.outputs,En||[]))}encodeFilterTopics(fn,En){typeof fn=="string"&&(fn=this.getEvent(fn)),En.length>fn.inputs.length&&logger$w.throwError("too many arguments for "+fn.format(),Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:En});let Cn=[];fn.anonymous||Cn.push(this.getEventTopic(fn));const _i=(An,ba)=>An.type==="string"?id(ba):An.type==="bytes"?keccak256$1(hexlify(ba)):(An.type==="bool"&&typeof ba=="boolean"&&(ba=ba?"0x01":"0x00"),An.type.match(/^u?int/)&&(ba=BigNumber.from(ba).toHexString()),An.type==="address"&&this._abiCoder.encode(["address"],[ba]),hexZeroPad(hexlify(ba),32));for(En.forEach((An,ba)=>{let xa=fn.inputs[ba];if(!xa.indexed){An!=null&&logger$w.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+xa.name,An);return}An==null?Cn.push(null):xa.baseType==="array"||xa.baseType==="tuple"?logger$w.throwArgumentError("filtering with tuples or arrays not supported","contract."+xa.name,An):Array.isArray(An)?Cn.push(An.map($a=>_i(xa,$a))):Cn.push(_i(xa,An))});Cn.length&&Cn[Cn.length-1]===null;)Cn.pop();return Cn}encodeEventLog(fn,En){typeof fn=="string"&&(fn=this.getEvent(fn));const Cn=[],_i=[],An=[];return fn.anonymous||Cn.push(this.getEventTopic(fn)),En.length!==fn.inputs.length&&logger$w.throwArgumentError("event arguments/values mismatch","values",En),fn.inputs.forEach((ba,xa)=>{const $a=En[xa];if(ba.indexed)if(ba.type==="string")Cn.push(id($a));else if(ba.type==="bytes")Cn.push(keccak256$1($a));else{if(ba.baseType==="tuple"||ba.baseType==="array")throw new Error("not implemented");Cn.push(this._abiCoder.encode([ba.type],[$a]))}else _i.push(ba),An.push($a)}),{data:this._abiCoder.encode(_i,An),topics:Cn}}decodeEventLog(fn,En,Cn){if(typeof fn=="string"&&(fn=this.getEvent(fn)),Cn!=null&&!fn.anonymous){let cs=this.getEventTopic(fn);(!isHexString(Cn[0],32)||Cn[0].toLowerCase()!==cs)&&logger$w.throwError("fragment/topic mismatch",Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:cs,value:Cn[0]}),Cn=Cn.slice(1)}let _i=[],An=[],ba=[];fn.inputs.forEach((cs,us)=>{cs.indexed?cs.type==="string"||cs.type==="bytes"||cs.baseType==="tuple"||cs.baseType==="array"?(_i.push(ParamType.fromObject({type:"bytes32",name:cs.name})),ba.push(!0)):(_i.push(cs),ba.push(!1)):(An.push(cs),ba.push(!1))});let xa=Cn!=null?this._abiCoder.decode(_i,concat$3(Cn)):null,$a=this._abiCoder.decode(An,En,!0),rs=[],ts=0,is=0;fn.inputs.forEach((cs,us)=>{if(cs.indexed)if(xa==null)rs[us]=new Indexed({_isIndexed:!0,hash:null});else if(ba[us])rs[us]=new Indexed({_isIndexed:!0,hash:xa[is++]});else try{rs[us]=xa[is++]}catch(ps){rs[us]=ps}else try{rs[us]=$a[ts++]}catch(ps){rs[us]=ps}if(cs.name&&rs[cs.name]==null){const ps=rs[us];ps instanceof Error?Object.defineProperty(rs,cs.name,{enumerable:!0,get:()=>{throw wrapAccessError(`property ${JSON.stringify(cs.name)}`,ps)}}):rs[cs.name]=ps}});for(let cs=0;cs<rs.length;cs++){const us=rs[cs];us instanceof Error&&Object.defineProperty(rs,cs,{enumerable:!0,get:()=>{throw wrapAccessError(`index ${cs}`,us)}})}return Object.freeze(rs)}parseTransaction(fn){let En=this.getFunction(fn.data.substring(0,10).toLowerCase());return En?new TransactionDescription({args:this._abiCoder.decode(En.inputs,"0x"+fn.data.substring(10)),functionFragment:En,name:En.name,signature:En.format(),sighash:this.getSighash(En),value:BigNumber.from(fn.value||"0")}):null}parseLog(fn){let En=this.getEvent(fn.topics[0]);return!En||En.anonymous?null:new LogDescription({eventFragment:En,name:En.name,signature:En.format(),topic:this.getEventTopic(En),args:this.decodeEventLog(En,fn.data,fn.topics)})}parseError(fn){const En=hexlify(fn);let Cn=this.getError(En.substring(0,10).toLowerCase());return Cn?new ErrorDescription({args:this._abiCoder.decode(Cn.inputs,"0x"+En.substring(10)),errorFragment:Cn,name:Cn.name,signature:Cn.format(),sighash:this.getSighash(Cn)}):null}static isInterface(fn){return!!(fn&&fn._isInterface)}}const lib_esm$e=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder,ConstructorFragment,ErrorFragment,EventFragment,FormatTypes,Fragment,FunctionFragment,Indexed,Interface,LogDescription,ParamType,TransactionDescription,checkResultErrors,defaultAbiCoder},Symbol.toStringTag,{value:"Module"})),version$l="abstract-provider/5.7.0";var __awaiter$e=function(vn,fn,En,Cn){function _i(An){return An instanceof En?An:new En(function(ba){ba(An)})}return new(En||(En=Promise))(function(An,ba){function xa(ts){try{rs(Cn.next(ts))}catch(is){ba(is)}}function $a(ts){try{rs(Cn.throw(ts))}catch(is){ba(is)}}function rs(ts){ts.done?An(ts.value):_i(ts.value).then(xa,$a)}rs((Cn=Cn.apply(vn,fn||[])).next())})};const logger$v=new Logger(version$l);class ForkEvent extends Description{static isForkEvent(fn){return!!(fn&&fn._isForkEvent)}}class BlockForkEvent extends ForkEvent{constructor(fn,En){isHexString(fn,32)||logger$v.throwArgumentError("invalid blockHash","blockHash",fn),super({_isForkEvent:!0,_isBlockForkEvent:!0,expiry:En||0,blockHash:fn})}}class TransactionForkEvent extends ForkEvent{constructor(fn,En){isHexString(fn,32)||logger$v.throwArgumentError("invalid transaction hash","hash",fn),super({_isForkEvent:!0,_isTransactionForkEvent:!0,expiry:En||0,hash:fn})}}class TransactionOrderForkEvent extends ForkEvent{constructor(fn,En,Cn){isHexString(fn,32)||logger$v.throwArgumentError("invalid transaction hash","beforeHash",fn),isHexString(En,32)||logger$v.throwArgumentError("invalid transaction hash","afterHash",En),super({_isForkEvent:!0,_isTransactionOrderForkEvent:!0,expiry:Cn||0,beforeHash:fn,afterHash:En})}}class Provider{constructor(){logger$v.checkAbstract(new.target,Provider),defineReadOnly(this,"_isProvider",!0)}getFeeData(){return __awaiter$e(this,void 0,void 0,function*(){const{block:fn,gasPrice:En}=yield resolveProperties({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(ba=>null)});let Cn=null,_i=null,An=null;return fn&&fn.baseFeePerGas&&(Cn=fn.baseFeePerGas,An=BigNumber.from("1500000000"),_i=fn.baseFeePerGas.mul(2).add(An)),{lastBaseFeePerGas:Cn,maxFeePerGas:_i,maxPriorityFeePerGas:An,gasPrice:En}})}addListener(fn,En){return this.on(fn,En)}removeListener(fn,En){return this.off(fn,En)}static isProvider(fn){return!!(fn&&fn._isProvider)}}const lib_esm$d=Object.freeze(Object.defineProperty({__proto__:null,BlockForkEvent,ForkEvent,Provider,TransactionForkEvent,TransactionOrderForkEvent},Symbol.toStringTag,{value:"Module"})),version$k="abstract-signer/5.7.0";var __awaiter$d=function(vn,fn,En,Cn){function _i(An){return An instanceof En?An:new En(function(ba){ba(An)})}return new(En||(En=Promise))(function(An,ba){function xa(ts){try{rs(Cn.next(ts))}catch(is){ba(is)}}function $a(ts){try{rs(Cn.throw(ts))}catch(is){ba(is)}}function rs(ts){ts.done?An(ts.value):_i(ts.value).then(xa,$a)}rs((Cn=Cn.apply(vn,fn||[])).next())})};const logger$u=new Logger(version$k),allowedTransactionKeys$3=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],forwardErrors=[Logger.errors.INSUFFICIENT_FUNDS,Logger.errors.NONCE_EXPIRED,Logger.errors.REPLACEMENT_UNDERPRICED];class Signer{constructor(){logger$u.checkAbstract(new.target,Signer),defineReadOnly(this,"_isSigner",!0)}getBalance(fn){return __awaiter$d(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),fn)})}getTransactionCount(fn){return __awaiter$d(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),fn)})}estimateGas(fn){return __awaiter$d(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const En=yield resolveProperties(this.checkTransaction(fn));return yield this.provider.estimateGas(En)})}call(fn,En){return __awaiter$d(this,void 0,void 0,function*(){this._checkProvider("call");const Cn=yield resolveProperties(this.checkTransaction(fn));return yield this.provider.call(Cn,En)})}sendTransaction(fn){return __awaiter$d(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const En=yield this.populateTransaction(fn),Cn=yield this.signTransaction(En);return yield this.provider.sendTransaction(Cn)})}getChainId(){return __awaiter$d(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return __awaiter$d(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return __awaiter$d(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(fn){return __awaiter$d(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(fn)})}checkTransaction(fn){for(const Cn in fn)allowedTransactionKeys$3.indexOf(Cn)===-1&&logger$u.throwArgumentError("invalid transaction key: "+Cn,"transaction",fn);const En=shallowCopy(fn);return En.from==null?En.from=this.getAddress():En.from=Promise.all([Promise.resolve(En.from),this.getAddress()]).then(Cn=>(Cn[0].toLowerCase()!==Cn[1].toLowerCase()&&logger$u.throwArgumentError("from address mismatch","transaction",fn),Cn[0])),En}populateTransaction(fn){return __awaiter$d(this,void 0,void 0,function*(){const En=yield resolveProperties(this.checkTransaction(fn));En.to!=null&&(En.to=Promise.resolve(En.to).then(_i=>__awaiter$d(this,void 0,void 0,function*(){if(_i==null)return null;const An=yield this.resolveName(_i);return An==null&&logger$u.throwArgumentError("provided ENS name resolves to null","tx.to",_i),An})),En.to.catch(_i=>{}));const Cn=En.maxFeePerGas!=null||En.maxPriorityFeePerGas!=null;if(En.gasPrice!=null&&(En.type===2||Cn)?logger$u.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",fn):(En.type===0||En.type===1)&&Cn&&logger$u.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",fn),(En.type===2||En.type==null)&&En.maxFeePerGas!=null&&En.maxPriorityFeePerGas!=null)En.type=2;else if(En.type===0||En.type===1)En.gasPrice==null&&(En.gasPrice=this.getGasPrice());else{const _i=yield this.getFeeData();if(En.type==null)if(_i.maxFeePerGas!=null&&_i.maxPriorityFeePerGas!=null)if(En.type=2,En.gasPrice!=null){const An=En.gasPrice;delete En.gasPrice,En.maxFeePerGas=An,En.maxPriorityFeePerGas=An}else En.maxFeePerGas==null&&(En.maxFeePerGas=_i.maxFeePerGas),En.maxPriorityFeePerGas==null&&(En.maxPriorityFeePerGas=_i.maxPriorityFeePerGas);else _i.gasPrice!=null?(Cn&&logger$u.throwError("network does not support EIP-1559",Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),En.gasPrice==null&&(En.gasPrice=_i.gasPrice),En.type=0):logger$u.throwError("failed to get consistent fee data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else En.type===2&&(En.maxFeePerGas==null&&(En.maxFeePerGas=_i.maxFeePerGas),En.maxPriorityFeePerGas==null&&(En.maxPriorityFeePerGas=_i.maxPriorityFeePerGas))}return En.nonce==null&&(En.nonce=this.getTransactionCount("pending")),En.gasLimit==null&&(En.gasLimit=this.estimateGas(En).catch(_i=>{if(forwardErrors.indexOf(_i.code)>=0)throw _i;return logger$u.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:_i,tx:En})})),En.chainId==null?En.chainId=this.getChainId():En.chainId=Promise.all([Promise.resolve(En.chainId),this.getChainId()]).then(_i=>(_i[1]!==0&&_i[0]!==_i[1]&&logger$u.throwArgumentError("chainId address mismatch","transaction",fn),_i[0])),yield resolveProperties(En)})}_checkProvider(fn){this.provider||logger$u.throwError("missing provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:fn||"_checkProvider"})}static isSigner(fn){return!!(fn&&fn._isSigner)}}class VoidSigner extends Signer{constructor(fn,En){super(),defineReadOnly(this,"address",fn),defineReadOnly(this,"provider",En||null)}getAddress(){return Promise.resolve(this.address)}_fail(fn,En){return Promise.resolve().then(()=>{logger$u.throwError(fn,Logger.errors.UNSUPPORTED_OPERATION,{operation:En})})}signMessage(fn){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(fn){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(fn,En,Cn){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(fn){return new VoidSigner(this.address,fn)}}const lib_esm$c=Object.freeze(Object.defineProperty({__proto__:null,Signer,VoidSigner},Symbol.toStringTag,{value:"Module"})),global$1=globalThis||void 0||self;var hash$6={},utils$E={},minimalisticAssert$1=assert$p;function assert$p(vn,fn){if(!vn)throw new Error(fn||"Assertion failed")}assert$p.equal=function(fn,En,Cn){if(fn!=En)throw new Error(Cn||"Assertion failed: "+fn+" != "+En)};var inherits_browser$1={exports:{}};typeof Object.create=="function"?inherits_browser$1.exports=function(fn,En){En&&(fn.super_=En,fn.prototype=Object.create(En.prototype,{constructor:{value:fn,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser$1.exports=function(fn,En){if(En){fn.super_=En;var Cn=function(){};Cn.prototype=En.prototype,fn.prototype=new Cn,fn.prototype.constructor=fn}};var inherits_browserExports=inherits_browser$1.exports,assert$o=minimalisticAssert$1,inherits$c=inherits_browserExports;utils$E.inherits=inherits$c;function isSurrogatePair(vn,fn){return(vn.charCodeAt(fn)&64512)!==55296||fn<0||fn+1>=vn.length?!1:(vn.charCodeAt(fn+1)&64512)===56320}function toArray(vn,fn){if(Array.isArray(vn))return vn.slice();if(!vn)return[];var En=[];if(typeof vn=="string")if(fn){if(fn==="hex")for(vn=vn.replace(/[^a-z0-9]+/ig,""),vn.length%2!==0&&(vn="0"+vn),_i=0;_i<vn.length;_i+=2)En.push(parseInt(vn[_i]+vn[_i+1],16))}else for(var Cn=0,_i=0;_i<vn.length;_i++){var An=vn.charCodeAt(_i);An<128?En[Cn++]=An:An<2048?(En[Cn++]=An>>6|192,En[Cn++]=An&63|128):isSurrogatePair(vn,_i)?(An=65536+((An&1023)<<10)+(vn.charCodeAt(++_i)&1023),En[Cn++]=An>>18|240,En[Cn++]=An>>12&63|128,En[Cn++]=An>>6&63|128,En[Cn++]=An&63|128):(En[Cn++]=An>>12|224,En[Cn++]=An>>6&63|128,En[Cn++]=An&63|128)}else for(_i=0;_i<vn.length;_i++)En[_i]=vn[_i]|0;return En}utils$E.toArray=toArray;function toHex$1(vn){for(var fn="",En=0;En<vn.length;En++)fn+=zero2(vn[En].toString(16));return fn}utils$E.toHex=toHex$1;function htonl(vn){var fn=vn>>>24|vn>>>8&65280|vn<<8&16711680|(vn&255)<<24;return fn>>>0}utils$E.htonl=htonl;function toHex32(vn,fn){for(var En="",Cn=0;Cn<vn.length;Cn++){var _i=vn[Cn];fn==="little"&&(_i=htonl(_i)),En+=zero8(_i.toString(16))}return En}utils$E.toHex32=toHex32;function zero2(vn){return vn.length===1?"0"+vn:vn}utils$E.zero2=zero2;function zero8(vn){return vn.length===7?"0"+vn:vn.length===6?"00"+vn:vn.length===5?"000"+vn:vn.length===4?"0000"+vn:vn.length===3?"00000"+vn:vn.length===2?"000000"+vn:vn.length===1?"0000000"+vn:vn}utils$E.zero8=zero8;function join32(vn,fn,En,Cn){var _i=En-fn;assert$o(_i%4===0);for(var An=new Array(_i/4),ba=0,xa=fn;ba<An.length;ba++,xa+=4){var $a;Cn==="big"?$a=vn[xa]<<24|vn[xa+1]<<16|vn[xa+2]<<8|vn[xa+3]:$a=vn[xa+3]<<24|vn[xa+2]<<16|vn[xa+1]<<8|vn[xa],An[ba]=$a>>>0}return An}utils$E.join32=join32;function split32(vn,fn){for(var En=new Array(vn.length*4),Cn=0,_i=0;Cn<vn.length;Cn++,_i+=4){var An=vn[Cn];fn==="big"?(En[_i]=An>>>24,En[_i+1]=An>>>16&255,En[_i+2]=An>>>8&255,En[_i+3]=An&255):(En[_i+3]=An>>>24,En[_i+2]=An>>>16&255,En[_i+1]=An>>>8&255,En[_i]=An&255)}return En}utils$E.split32=split32;function rotr32$1(vn,fn){return vn>>>fn|vn<<32-fn}utils$E.rotr32=rotr32$1;function rotl32$2(vn,fn){return vn<<fn|vn>>>32-fn}utils$E.rotl32=rotl32$2;function sum32$3(vn,fn){return vn+fn>>>0}utils$E.sum32=sum32$3;function sum32_3$1(vn,fn,En){return vn+fn+En>>>0}utils$E.sum32_3=sum32_3$1;function sum32_4$2(vn,fn,En,Cn){return vn+fn+En+Cn>>>0}utils$E.sum32_4=sum32_4$2;function sum32_5$2(vn,fn,En,Cn,_i){return vn+fn+En+Cn+_i>>>0}utils$E.sum32_5=sum32_5$2;function sum64$1(vn,fn,En,Cn){var _i=vn[fn],An=vn[fn+1],ba=Cn+An>>>0,xa=(ba<Cn?1:0)+En+_i;vn[fn]=xa>>>0,vn[fn+1]=ba}utils$E.sum64=sum64$1;function sum64_hi$1(vn,fn,En,Cn){var _i=fn+Cn>>>0,An=(_i<fn?1:0)+vn+En;return An>>>0}utils$E.sum64_hi=sum64_hi$1;function sum64_lo$1(vn,fn,En,Cn){var _i=fn+Cn;return _i>>>0}utils$E.sum64_lo=sum64_lo$1;function sum64_4_hi$1(vn,fn,En,Cn,_i,An,ba,xa){var $a=0,rs=fn;rs=rs+Cn>>>0,$a+=rs<fn?1:0,rs=rs+An>>>0,$a+=rs<An?1:0,rs=rs+xa>>>0,$a+=rs<xa?1:0;var ts=vn+En+_i+ba+$a;return ts>>>0}utils$E.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(vn,fn,En,Cn,_i,An,ba,xa){var $a=fn+Cn+An+xa;return $a>>>0}utils$E.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(vn,fn,En,Cn,_i,An,ba,xa,$a,rs){var ts=0,is=fn;is=is+Cn>>>0,ts+=is<fn?1:0,is=is+An>>>0,ts+=is<An?1:0,is=is+xa>>>0,ts+=is<xa?1:0,is=is+rs>>>0,ts+=is<rs?1:0;var cs=vn+En+_i+ba+$a+ts;return cs>>>0}utils$E.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(vn,fn,En,Cn,_i,An,ba,xa,$a,rs){var ts=fn+Cn+An+xa+rs;return ts>>>0}utils$E.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(vn,fn,En){var Cn=fn<<32-En|vn>>>En;return Cn>>>0}utils$E.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(vn,fn,En){var Cn=vn<<32-En|fn>>>En;return Cn>>>0}utils$E.rotr64_lo=rotr64_lo$1;function shr64_hi$1(vn,fn,En){return vn>>>En}utils$E.shr64_hi=shr64_hi$1;function shr64_lo$1(vn,fn,En){var Cn=vn<<32-En|fn>>>En;return Cn>>>0}utils$E.shr64_lo=shr64_lo$1;var common$5={},utils$D=utils$E,assert$n=minimalisticAssert$1;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function(fn,En){if(fn=utils$D.toArray(fn,En),this.pending?this.pending=this.pending.concat(fn):this.pending=fn,this.pendingTotal+=fn.length,this.pending.length>=this._delta8){fn=this.pending;var Cn=fn.length%this._delta8;this.pending=fn.slice(fn.length-Cn,fn.length),this.pending.length===0&&(this.pending=null),fn=utils$D.join32(fn,0,fn.length-Cn,this.endian);for(var _i=0;_i<fn.length;_i+=this._delta32)this._update(fn,_i,_i+this._delta32)}return this};BlockHash$4.prototype.digest=function(fn){return this.update(this._pad()),assert$n(this.pending===null),this._digest(fn)};BlockHash$4.prototype._pad=function(){var fn=this.pendingTotal,En=this._delta8,Cn=En-(fn+this.padLength)%En,_i=new Array(Cn+this.padLength);_i[0]=128;for(var An=1;An<Cn;An++)_i[An]=0;if(fn<<=3,this.endian==="big"){for(var ba=8;ba<this.padLength;ba++)_i[An++]=0;_i[An++]=0,_i[An++]=0,_i[An++]=0,_i[An++]=0,_i[An++]=fn>>>24&255,_i[An++]=fn>>>16&255,_i[An++]=fn>>>8&255,_i[An++]=fn&255}else for(_i[An++]=fn&255,_i[An++]=fn>>>8&255,_i[An++]=fn>>>16&255,_i[An++]=fn>>>24&255,_i[An++]=0,_i[An++]=0,_i[An++]=0,_i[An++]=0,ba=8;ba<this.padLength;ba++)_i[An++]=0;return _i};var sha$2={},common$4={},utils$C=utils$E,rotr32=utils$C.rotr32;function ft_1$1(vn,fn,En,Cn){if(vn===0)return ch32$1(fn,En,Cn);if(vn===1||vn===3)return p32(fn,En,Cn);if(vn===2)return maj32$1(fn,En,Cn)}common$4.ft_1=ft_1$1;function ch32$1(vn,fn,En){return vn&fn^~vn&En}common$4.ch32=ch32$1;function maj32$1(vn,fn,En){return vn&fn^vn&En^fn&En}common$4.maj32=maj32$1;function p32(vn,fn,En){return vn^fn^En}common$4.p32=p32;function s0_256$1(vn){return rotr32(vn,2)^rotr32(vn,13)^rotr32(vn,22)}common$4.s0_256=s0_256$1;function s1_256$1(vn){return rotr32(vn,6)^rotr32(vn,11)^rotr32(vn,25)}common$4.s1_256=s1_256$1;function g0_256$1(vn){return rotr32(vn,7)^rotr32(vn,18)^vn>>>3}common$4.g0_256=g0_256$1;function g1_256$1(vn){return rotr32(vn,17)^rotr32(vn,19)^vn>>>10}common$4.g1_256=g1_256$1;var utils$B=utils$E,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$B.rotl32,sum32$2=utils$B.sum32,sum32_5$1=utils$B.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$B.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function(fn,En){for(var Cn=this.W,_i=0;_i<16;_i++)Cn[_i]=fn[En+_i];for(;_i<Cn.length;_i++)Cn[_i]=rotl32$1(Cn[_i-3]^Cn[_i-8]^Cn[_i-14]^Cn[_i-16],1);var An=this.h[0],ba=this.h[1],xa=this.h[2],$a=this.h[3],rs=this.h[4];for(_i=0;_i<Cn.length;_i++){var ts=~~(_i/20),is=sum32_5$1(rotl32$1(An,5),ft_1(ts,ba,xa,$a),rs,Cn[_i],sha1_K[ts]);rs=$a,$a=xa,xa=rotl32$1(ba,30),ba=An,An=is}this.h[0]=sum32$2(this.h[0],An),this.h[1]=sum32$2(this.h[1],ba),this.h[2]=sum32$2(this.h[2],xa),this.h[3]=sum32$2(this.h[3],$a),this.h[4]=sum32$2(this.h[4],rs)};SHA1.prototype._digest=function(fn){return fn==="hex"?utils$B.toHex32(this.h,"big"):utils$B.split32(this.h,"big")};var utils$A=utils$E,common$2=common$5,shaCommon=common$4,assert$m=minimalisticAssert$1,sum32$1=utils$A.sum32,sum32_4$1=utils$A.sum32_4,sum32_5=utils$A.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$2(){if(!(this instanceof SHA256$2))return new SHA256$2;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$A.inherits(SHA256$2,BlockHash$2);var _256=SHA256$2;SHA256$2.blockSize=512;SHA256$2.outSize=256;SHA256$2.hmacStrength=192;SHA256$2.padLength=64;SHA256$2.prototype._update=function(fn,En){for(var Cn=this.W,_i=0;_i<16;_i++)Cn[_i]=fn[En+_i];for(;_i<Cn.length;_i++)Cn[_i]=sum32_4$1(g1_256(Cn[_i-2]),Cn[_i-7],g0_256(Cn[_i-15]),Cn[_i-16]);var An=this.h[0],ba=this.h[1],xa=this.h[2],$a=this.h[3],rs=this.h[4],ts=this.h[5],is=this.h[6],cs=this.h[7];for(assert$m(this.k.length===Cn.length),_i=0;_i<Cn.length;_i++){var us=sum32_5(cs,s1_256(rs),ch32(rs,ts,is),this.k[_i],Cn[_i]),ps=sum32$1(s0_256(An),maj32(An,ba,xa));cs=is,is=ts,ts=rs,rs=sum32$1($a,us),$a=xa,xa=ba,ba=An,An=sum32$1(us,ps)}this.h[0]=sum32$1(this.h[0],An),this.h[1]=sum32$1(this.h[1],ba),this.h[2]=sum32$1(this.h[2],xa),this.h[3]=sum32$1(this.h[3],$a),this.h[4]=sum32$1(this.h[4],rs),this.h[5]=sum32$1(this.h[5],ts),this.h[6]=sum32$1(this.h[6],is),this.h[7]=sum32$1(this.h[7],cs)};SHA256$2.prototype._digest=function(fn){return fn==="hex"?utils$A.toHex32(this.h,"big"):utils$A.split32(this.h,"big")};var utils$z=utils$E,SHA256$1=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256$1.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$z.inherits(SHA224,SHA256$1);var _224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function(fn){return fn==="hex"?utils$z.toHex32(this.h.slice(0,7),"big"):utils$z.split32(this.h.slice(0,7),"big")};var utils$y=utils$E,common$1=common$5,assert$l=minimalisticAssert$1,rotr64_hi=utils$y.rotr64_hi,rotr64_lo=utils$y.rotr64_lo,shr64_hi=utils$y.shr64_hi,shr64_lo=utils$y.shr64_lo,sum64=utils$y.sum64,sum64_hi=utils$y.sum64_hi,sum64_lo=utils$y.sum64_lo,sum64_4_hi=utils$y.sum64_4_hi,sum64_4_lo=utils$y.sum64_4_lo,sum64_5_hi=utils$y.sum64_5_hi,sum64_5_lo=utils$y.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$2(){if(!(this instanceof SHA512$2))return new SHA512$2;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$y.inherits(SHA512$2,BlockHash$1);var _512=SHA512$2;SHA512$2.blockSize=1024;SHA512$2.outSize=512;SHA512$2.hmacStrength=192;SHA512$2.padLength=128;SHA512$2.prototype._prepareBlock=function(fn,En){for(var Cn=this.W,_i=0;_i<32;_i++)Cn[_i]=fn[En+_i];for(;_i<Cn.length;_i+=2){var An=g1_512_hi(Cn[_i-4],Cn[_i-3]),ba=g1_512_lo(Cn[_i-4],Cn[_i-3]),xa=Cn[_i-14],$a=Cn[_i-13],rs=g0_512_hi(Cn[_i-30],Cn[_i-29]),ts=g0_512_lo(Cn[_i-30],Cn[_i-29]),is=Cn[_i-32],cs=Cn[_i-31];Cn[_i]=sum64_4_hi(An,ba,xa,$a,rs,ts,is,cs),Cn[_i+1]=sum64_4_lo(An,ba,xa,$a,rs,ts,is,cs)}};SHA512$2.prototype._update=function(fn,En){this._prepareBlock(fn,En);var Cn=this.W,_i=this.h[0],An=this.h[1],ba=this.h[2],xa=this.h[3],$a=this.h[4],rs=this.h[5],ts=this.h[6],is=this.h[7],cs=this.h[8],us=this.h[9],ps=this.h[10],bs=this.h[11],e0=this.h[12],gs=this.h[13],Ds=this.h[14],i0=this.h[15];assert$l(this.k.length===Cn.length);for(var n0=0;n0<Cn.length;n0+=2){var c0=Ds,d0=i0,o0=s1_512_hi(cs,us),g0=s1_512_lo(cs,us),w0=ch64_hi(cs,us,ps,bs,e0),M0=ch64_lo(cs,us,ps,bs,e0,gs),ds=this.k[n0],na=this.k[n0+1],_a=Cn[n0],es=Cn[n0+1],ns=sum64_5_hi(c0,d0,o0,g0,w0,M0,ds,na,_a,es),os=sum64_5_lo(c0,d0,o0,g0,w0,M0,ds,na,_a,es);c0=s0_512_hi(_i,An),d0=s0_512_lo(_i,An),o0=maj64_hi(_i,An,ba,xa,$a),g0=maj64_lo(_i,An,ba,xa,$a,rs);var ls=sum64_hi(c0,d0,o0,g0),hs=sum64_lo(c0,d0,o0,g0);Ds=e0,i0=gs,e0=ps,gs=bs,ps=cs,bs=us,cs=sum64_hi(ts,is,ns,os),us=sum64_lo(is,is,ns,os),ts=$a,is=rs,$a=ba,rs=xa,ba=_i,xa=An,_i=sum64_hi(ns,os,ls,hs),An=sum64_lo(ns,os,ls,hs)}sum64(this.h,0,_i,An),sum64(this.h,2,ba,xa),sum64(this.h,4,$a,rs),sum64(this.h,6,ts,is),sum64(this.h,8,cs,us),sum64(this.h,10,ps,bs),sum64(this.h,12,e0,gs),sum64(this.h,14,Ds,i0)};SHA512$2.prototype._digest=function(fn){return fn==="hex"?utils$y.toHex32(this.h,"big"):utils$y.split32(this.h,"big")};function ch64_hi(vn,fn,En,Cn,_i){var An=vn&En^~vn&_i;return An<0&&(An+=4294967296),An}function ch64_lo(vn,fn,En,Cn,_i,An){var ba=fn&Cn^~fn&An;return ba<0&&(ba+=4294967296),ba}function maj64_hi(vn,fn,En,Cn,_i){var An=vn&En^vn&_i^En&_i;return An<0&&(An+=4294967296),An}function maj64_lo(vn,fn,En,Cn,_i,An){var ba=fn&Cn^fn&An^Cn&An;return ba<0&&(ba+=4294967296),ba}function s0_512_hi(vn,fn){var En=rotr64_hi(vn,fn,28),Cn=rotr64_hi(fn,vn,2),_i=rotr64_hi(fn,vn,7),An=En^Cn^_i;return An<0&&(An+=4294967296),An}function s0_512_lo(vn,fn){var En=rotr64_lo(vn,fn,28),Cn=rotr64_lo(fn,vn,2),_i=rotr64_lo(fn,vn,7),An=En^Cn^_i;return An<0&&(An+=4294967296),An}function s1_512_hi(vn,fn){var En=rotr64_hi(vn,fn,14),Cn=rotr64_hi(vn,fn,18),_i=rotr64_hi(fn,vn,9),An=En^Cn^_i;return An<0&&(An+=4294967296),An}function s1_512_lo(vn,fn){var En=rotr64_lo(vn,fn,14),Cn=rotr64_lo(vn,fn,18),_i=rotr64_lo(fn,vn,9),An=En^Cn^_i;return An<0&&(An+=4294967296),An}function g0_512_hi(vn,fn){var En=rotr64_hi(vn,fn,1),Cn=rotr64_hi(vn,fn,8),_i=shr64_hi(vn,fn,7),An=En^Cn^_i;return An<0&&(An+=4294967296),An}function g0_512_lo(vn,fn){var En=rotr64_lo(vn,fn,1),Cn=rotr64_lo(vn,fn,8),_i=shr64_lo(vn,fn,7),An=En^Cn^_i;return An<0&&(An+=4294967296),An}function g1_512_hi(vn,fn){var En=rotr64_hi(vn,fn,19),Cn=rotr64_hi(fn,vn,29),_i=shr64_hi(vn,fn,6),An=En^Cn^_i;return An<0&&(An+=4294967296),An}function g1_512_lo(vn,fn){var En=rotr64_lo(vn,fn,19),Cn=rotr64_lo(fn,vn,29),_i=shr64_lo(vn,fn,6),An=En^Cn^_i;return An<0&&(An+=4294967296),An}var utils$x=utils$E,SHA512$1=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512$1.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$x.inherits(SHA384,SHA512$1);var _384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function(fn){return fn==="hex"?utils$x.toHex32(this.h.slice(0,12),"big"):utils$x.split32(this.h.slice(0,12),"big")};sha$2.sha1=_1;sha$2.sha224=_224;sha$2.sha256=_256;sha$2.sha384=_384;sha$2.sha512=_512;var ripemd={},utils$w=utils$E,common=common$5,rotl32=utils$w.rotl32,sum32=utils$w.sum32,sum32_3=utils$w.sum32_3,sum32_4=utils$w.sum32_4,BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$w.inherits(RIPEMD160,BlockHash);ripemd.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function(fn,En){for(var Cn=this.h[0],_i=this.h[1],An=this.h[2],ba=this.h[3],xa=this.h[4],$a=Cn,rs=_i,ts=An,is=ba,cs=xa,us=0;us<80;us++){var ps=sum32(rotl32(sum32_4(Cn,f$5(us,_i,An,ba),fn[r$3[us]+En],K$9(us)),s$1[us]),xa);Cn=xa,xa=ba,ba=rotl32(An,10),An=_i,_i=ps,ps=sum32(rotl32(sum32_4($a,f$5(79-us,rs,ts,is),fn[rh[us]+En],Kh(us)),sh[us]),cs),$a=cs,cs=is,is=rotl32(ts,10),ts=rs,rs=ps}ps=sum32_3(this.h[1],An,is),this.h[1]=sum32_3(this.h[2],ba,cs),this.h[2]=sum32_3(this.h[3],xa,$a),this.h[3]=sum32_3(this.h[4],Cn,rs),this.h[4]=sum32_3(this.h[0],_i,ts),this.h[0]=ps};RIPEMD160.prototype._digest=function(fn){return fn==="hex"?utils$w.toHex32(this.h,"little"):utils$w.split32(this.h,"little")};function f$5(vn,fn,En,Cn){return vn<=15?fn^En^Cn:vn<=31?fn&En|~fn&Cn:vn<=47?(fn|~En)^Cn:vn<=63?fn&Cn|En&~Cn:fn^(En|~Cn)}function K$9(vn){return vn<=15?0:vn<=31?1518500249:vn<=47?1859775393:vn<=63?2400959708:2840853838}function Kh(vn){return vn<=15?1352829926:vn<=31?1548603684:vn<=47?1836072691:vn<=63?2053994217:0}var r$3=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$1=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$v=utils$E,assert$k=minimalisticAssert$1;function Hmac(vn,fn,En){if(!(this instanceof Hmac))return new Hmac(vn,fn,En);this.Hash=vn,this.blockSize=vn.blockSize/8,this.outSize=vn.outSize/8,this.inner=null,this.outer=null,this._init(utils$v.toArray(fn,En))}var hmac$2=Hmac;Hmac.prototype._init=function(fn){fn.length>this.blockSize&&(fn=new this.Hash().update(fn).digest()),assert$k(fn.length<=this.blockSize);for(var En=fn.length;En<this.blockSize;En++)fn.push(0);for(En=0;En<fn.length;En++)fn[En]^=54;for(this.inner=new this.Hash().update(fn),En=0;En<fn.length;En++)fn[En]^=106;this.outer=new this.Hash().update(fn)};Hmac.prototype.update=function(fn,En){return this.inner.update(fn,En),this};Hmac.prototype.digest=function(fn){return this.outer.update(this.inner.digest()),this.outer.digest(fn)};(function(vn){var fn=vn;fn.utils=utils$E,fn.common=common$5,fn.sha=sha$2,fn.ripemd=ripemd,fn.hmac=hmac$2,fn.sha1=fn.sha.sha1,fn.sha256=fn.sha.sha256,fn.sha224=fn.sha.sha224,fn.sha384=fn.sha.sha384,fn.sha512=fn.sha.sha512,fn.ripemd160=fn.ripemd.ripemd160})(hash$6);const hash$5=getDefaultExportFromCjs$1(hash$6);function createCommonjsModule(vn,fn,En){return En={path:fn,exports:{},require:function(Cn,_i){return commonjsRequire$1(Cn,_i??En.path)}},vn(En,En.exports),En.exports}function commonjsRequire$1(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var minimalisticAssert=assert$j;function assert$j(vn,fn){if(!vn)throw new Error(fn||"Assertion failed")}assert$j.equal=function(fn,En,Cn){if(fn!=En)throw new Error(Cn||"Assertion failed: "+fn+" != "+En)};var utils_1=createCommonjsModule(function(vn,fn){var En=fn;function Cn(ba,xa){if(Array.isArray(ba))return ba.slice();if(!ba)return[];var $a=[];if(typeof ba!="string"){for(var rs=0;rs<ba.length;rs++)$a[rs]=ba[rs]|0;return $a}if(xa==="hex"){ba=ba.replace(/[^a-z0-9]+/ig,""),ba.length%2!==0&&(ba="0"+ba);for(var rs=0;rs<ba.length;rs+=2)$a.push(parseInt(ba[rs]+ba[rs+1],16))}else for(var rs=0;rs<ba.length;rs++){var ts=ba.charCodeAt(rs),is=ts>>8,cs=ts&255;is?$a.push(is,cs):$a.push(cs)}return $a}En.toArray=Cn;function _i(ba){return ba.length===1?"0"+ba:ba}En.zero2=_i;function An(ba){for(var xa="",$a=0;$a<ba.length;$a++)xa+=_i(ba[$a].toString(16));return xa}En.toHex=An,En.encode=function(xa,$a){return $a==="hex"?An(xa):xa}}),utils_1$1=createCommonjsModule(function(vn,fn){var En=fn;En.assert=minimalisticAssert,En.toArray=utils_1.toArray,En.zero2=utils_1.zero2,En.toHex=utils_1.toHex,En.encode=utils_1.encode;function Cn($a,rs,ts){var is=new Array(Math.max($a.bitLength(),ts)+1);is.fill(0);for(var cs=1<<rs+1,us=$a.clone(),ps=0;ps<is.length;ps++){var bs,e0=us.andln(cs-1);us.isOdd()?(e0>(cs>>1)-1?bs=(cs>>1)-e0:bs=e0,us.isubn(bs)):bs=0,is[ps]=bs,us.iushrn(1)}return is}En.getNAF=Cn;function _i($a,rs){var ts=[[],[]];$a=$a.clone(),rs=rs.clone();for(var is=0,cs=0,us;$a.cmpn(-is)>0||rs.cmpn(-cs)>0;){var ps=$a.andln(3)+is&3,bs=rs.andln(3)+cs&3;ps===3&&(ps=-1),bs===3&&(bs=-1);var e0;ps&1?(us=$a.andln(7)+is&7,(us===3||us===5)&&bs===2?e0=-ps:e0=ps):e0=0,ts[0].push(e0);var gs;bs&1?(us=rs.andln(7)+cs&7,(us===3||us===5)&&ps===2?gs=-bs:gs=bs):gs=0,ts[1].push(gs),2*is===e0+1&&(is=1-is),2*cs===gs+1&&(cs=1-cs),$a.iushrn(1),rs.iushrn(1)}return ts}En.getJSF=_i;function An($a,rs,ts){var is="_"+rs;$a.prototype[rs]=function(){return this[is]!==void 0?this[is]:this[is]=ts.call(this)}}En.cachedProperty=An;function ba($a){return typeof $a=="string"?En.toArray($a,"hex"):$a}En.parseBytes=ba;function xa($a){return new BN$h($a,"hex","le")}En.intFromLE=xa}),getNAF$2=utils_1$1.getNAF,getJSF$2=utils_1$1.getJSF,assert$1$1=utils_1$1.assert;function BaseCurve$2(vn,fn){this.type=vn,this.p=new BN$h(fn.p,16),this.red=fn.prime?BN$h.red(fn.prime):BN$h.mont(this.p),this.zero=new BN$h(0).toRed(this.red),this.one=new BN$h(1).toRed(this.red),this.two=new BN$h(2).toRed(this.red),this.n=fn.n&&new BN$h(fn.n,16),this.g=fn.g&&this.pointFromJSON(fn.g,fn.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var En=this.n&&this.p.div(this.n);!En||En.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$8=BaseCurve$2;BaseCurve$2.prototype.point=function(){throw new Error("Not implemented")};BaseCurve$2.prototype.validate=function(){throw new Error("Not implemented")};BaseCurve$2.prototype._fixedNafMul=function(fn,En){assert$1$1(fn.precomputed);var Cn=fn._getDoubles(),_i=getNAF$2(En,1,this._bitLength),An=(1<<Cn.step+1)-(Cn.step%2===0?2:1);An/=3;var ba=[],xa,$a;for(xa=0;xa<_i.length;xa+=Cn.step){$a=0;for(var rs=xa+Cn.step-1;rs>=xa;rs--)$a=($a<<1)+_i[rs];ba.push($a)}for(var ts=this.jpoint(null,null,null),is=this.jpoint(null,null,null),cs=An;cs>0;cs--){for(xa=0;xa<ba.length;xa++)$a=ba[xa],$a===cs?is=is.mixedAdd(Cn.points[xa]):$a===-cs&&(is=is.mixedAdd(Cn.points[xa].neg()));ts=ts.add(is)}return ts.toP()};BaseCurve$2.prototype._wnafMul=function(fn,En){var Cn=4,_i=fn._getNAFPoints(Cn);Cn=_i.wnd;for(var An=_i.points,ba=getNAF$2(En,Cn,this._bitLength),xa=this.jpoint(null,null,null),$a=ba.length-1;$a>=0;$a--){for(var rs=0;$a>=0&&ba[$a]===0;$a--)rs++;if($a>=0&&rs++,xa=xa.dblp(rs),$a<0)break;var ts=ba[$a];assert$1$1(ts!==0),fn.type==="affine"?ts>0?xa=xa.mixedAdd(An[ts-1>>1]):xa=xa.mixedAdd(An[-ts-1>>1].neg()):ts>0?xa=xa.add(An[ts-1>>1]):xa=xa.add(An[-ts-1>>1].neg())}return fn.type==="affine"?xa.toP():xa};BaseCurve$2.prototype._wnafMulAdd=function(fn,En,Cn,_i,An){var ba=this._wnafT1,xa=this._wnafT2,$a=this._wnafT3,rs=0,ts,is,cs;for(ts=0;ts<_i;ts++){cs=En[ts];var us=cs._getNAFPoints(fn);ba[ts]=us.wnd,xa[ts]=us.points}for(ts=_i-1;ts>=1;ts-=2){var ps=ts-1,bs=ts;if(ba[ps]!==1||ba[bs]!==1){$a[ps]=getNAF$2(Cn[ps],ba[ps],this._bitLength),$a[bs]=getNAF$2(Cn[bs],ba[bs],this._bitLength),rs=Math.max($a[ps].length,rs),rs=Math.max($a[bs].length,rs);continue}var e0=[En[ps],null,null,En[bs]];En[ps].y.cmp(En[bs].y)===0?(e0[1]=En[ps].add(En[bs]),e0[2]=En[ps].toJ().mixedAdd(En[bs].neg())):En[ps].y.cmp(En[bs].y.redNeg())===0?(e0[1]=En[ps].toJ().mixedAdd(En[bs]),e0[2]=En[ps].add(En[bs].neg())):(e0[1]=En[ps].toJ().mixedAdd(En[bs]),e0[2]=En[ps].toJ().mixedAdd(En[bs].neg()));var gs=[-3,-1,-5,-7,0,7,5,1,3],Ds=getJSF$2(Cn[ps],Cn[bs]);for(rs=Math.max(Ds[0].length,rs),$a[ps]=new Array(rs),$a[bs]=new Array(rs),is=0;is<rs;is++){var i0=Ds[0][is]|0,n0=Ds[1][is]|0;$a[ps][is]=gs[(i0+1)*3+(n0+1)],$a[bs][is]=0,xa[ps]=e0}}var c0=this.jpoint(null,null,null),d0=this._wnafT4;for(ts=rs;ts>=0;ts--){for(var o0=0;ts>=0;){var g0=!0;for(is=0;is<_i;is++)d0[is]=$a[is][ts]|0,d0[is]!==0&&(g0=!1);if(!g0)break;o0++,ts--}if(ts>=0&&o0++,c0=c0.dblp(o0),ts<0)break;for(is=0;is<_i;is++){var w0=d0[is];w0!==0&&(w0>0?cs=xa[is][w0-1>>1]:w0<0&&(cs=xa[is][-w0-1>>1].neg()),cs.type==="affine"?c0=c0.mixedAdd(cs):c0=c0.add(cs))}}for(ts=0;ts<_i;ts++)xa[ts]=null;return An?c0:c0.toP()};function BasePoint$2(vn,fn){this.curve=vn,this.type=fn,this.precomputed=null}BaseCurve$2.BasePoint=BasePoint$2;BasePoint$2.prototype.eq=function(){throw new Error("Not implemented")};BasePoint$2.prototype.validate=function(){return this.curve.validate(this)};BaseCurve$2.prototype.decodePoint=function(fn,En){fn=utils_1$1.toArray(fn,En);var Cn=this.p.byteLength();if((fn[0]===4||fn[0]===6||fn[0]===7)&&fn.length-1===2*Cn){fn[0]===6?assert$1$1(fn[fn.length-1]%2===0):fn[0]===7&&assert$1$1(fn[fn.length-1]%2===1);var _i=this.point(fn.slice(1,1+Cn),fn.slice(1+Cn,1+2*Cn));return _i}else if((fn[0]===2||fn[0]===3)&&fn.length-1===Cn)return this.pointFromX(fn.slice(1,1+Cn),fn[0]===3);throw new Error("Unknown point format")};BasePoint$2.prototype.encodeCompressed=function(fn){return this.encode(fn,!0)};BasePoint$2.prototype._encode=function(fn){var En=this.curve.p.byteLength(),Cn=this.getX().toArray("be",En);return fn?[this.getY().isEven()?2:3].concat(Cn):[4].concat(Cn,this.getY().toArray("be",En))};BasePoint$2.prototype.encode=function(fn,En){return utils_1$1.encode(this._encode(En),fn)};BasePoint$2.prototype.precompute=function(fn){if(this.precomputed)return this;var En={doubles:null,naf:null,beta:null};return En.naf=this._getNAFPoints(8),En.doubles=this._getDoubles(4,fn),En.beta=this._getBeta(),this.precomputed=En,this};BasePoint$2.prototype._hasDoubles=function(fn){if(!this.precomputed)return!1;var En=this.precomputed.doubles;return En?En.points.length>=Math.ceil((fn.bitLength()+1)/En.step):!1};BasePoint$2.prototype._getDoubles=function(fn,En){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var Cn=[this],_i=this,An=0;An<En;An+=fn){for(var ba=0;ba<fn;ba++)_i=_i.dbl();Cn.push(_i)}return{step:fn,points:Cn}};BasePoint$2.prototype._getNAFPoints=function(fn){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var En=[this],Cn=(1<<fn)-1,_i=Cn===1?null:this.dbl(),An=1;An<Cn;An++)En[An]=En[An-1].add(_i);return{wnd:fn,points:En}};BasePoint$2.prototype._getBeta=function(){return null};BasePoint$2.prototype.dblp=function(fn){for(var En=this,Cn=0;Cn<fn;Cn++)En=En.dbl();return En};var inherits_browser=createCommonjsModule(function(vn){typeof Object.create=="function"?vn.exports=function(En,Cn){Cn&&(En.super_=Cn,En.prototype=Object.create(Cn.prototype,{constructor:{value:En,enumerable:!1,writable:!0,configurable:!0}}))}:vn.exports=function(En,Cn){if(Cn){En.super_=Cn;var _i=function(){};_i.prototype=Cn.prototype,En.prototype=new _i,En.prototype.constructor=En}}}),assert$2$1=utils_1$1.assert;function ShortCurve$2(vn){base$8.call(this,"short",vn),this.a=new BN$h(vn.a,16).toRed(this.red),this.b=new BN$h(vn.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(vn),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits_browser(ShortCurve$2,base$8);var short_1=ShortCurve$2;ShortCurve$2.prototype._getEndomorphism=function(fn){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var En,Cn;if(fn.beta)En=new BN$h(fn.beta,16).toRed(this.red);else{var _i=this._getEndoRoots(this.p);En=_i[0].cmp(_i[1])<0?_i[0]:_i[1],En=En.toRed(this.red)}if(fn.lambda)Cn=new BN$h(fn.lambda,16);else{var An=this._getEndoRoots(this.n);this.g.mul(An[0]).x.cmp(this.g.x.redMul(En))===0?Cn=An[0]:(Cn=An[1],assert$2$1(this.g.mul(Cn).x.cmp(this.g.x.redMul(En))===0))}var ba;return fn.basis?ba=fn.basis.map(function(xa){return{a:new BN$h(xa.a,16),b:new BN$h(xa.b,16)}}):ba=this._getEndoBasis(Cn),{beta:En,lambda:Cn,basis:ba}}};ShortCurve$2.prototype._getEndoRoots=function(fn){var En=fn===this.p?this.red:BN$h.mont(fn),Cn=new BN$h(2).toRed(En).redInvm(),_i=Cn.redNeg(),An=new BN$h(3).toRed(En).redNeg().redSqrt().redMul(Cn),ba=_i.redAdd(An).fromRed(),xa=_i.redSub(An).fromRed();return[ba,xa]};ShortCurve$2.prototype._getEndoBasis=function(fn){for(var En=this.n.ushrn(Math.floor(this.n.bitLength()/2)),Cn=fn,_i=this.n.clone(),An=new BN$h(1),ba=new BN$h(0),xa=new BN$h(0),$a=new BN$h(1),rs,ts,is,cs,us,ps,bs,e0=0,gs,Ds;Cn.cmpn(0)!==0;){var i0=_i.div(Cn);gs=_i.sub(i0.mul(Cn)),Ds=xa.sub(i0.mul(An));var n0=$a.sub(i0.mul(ba));if(!is&&gs.cmp(En)<0)rs=bs.neg(),ts=An,is=gs.neg(),cs=Ds;else if(is&&++e0===2)break;bs=gs,_i=Cn,Cn=gs,xa=An,An=Ds,$a=ba,ba=n0}us=gs.neg(),ps=Ds;var c0=is.sqr().add(cs.sqr()),d0=us.sqr().add(ps.sqr());return d0.cmp(c0)>=0&&(us=rs,ps=ts),is.negative&&(is=is.neg(),cs=cs.neg()),us.negative&&(us=us.neg(),ps=ps.neg()),[{a:is,b:cs},{a:us,b:ps}]};ShortCurve$2.prototype._endoSplit=function(fn){var En=this.endo.basis,Cn=En[0],_i=En[1],An=_i.b.mul(fn).divRound(this.n),ba=Cn.b.neg().mul(fn).divRound(this.n),xa=An.mul(Cn.a),$a=ba.mul(_i.a),rs=An.mul(Cn.b),ts=ba.mul(_i.b),is=fn.sub(xa).sub($a),cs=rs.add(ts).neg();return{k1:is,k2:cs}};ShortCurve$2.prototype.pointFromX=function(fn,En){fn=new BN$h(fn,16),fn.red||(fn=fn.toRed(this.red));var Cn=fn.redSqr().redMul(fn).redIAdd(fn.redMul(this.a)).redIAdd(this.b),_i=Cn.redSqrt();if(_i.redSqr().redSub(Cn).cmp(this.zero)!==0)throw new Error("invalid point");var An=_i.fromRed().isOdd();return(En&&!An||!En&&An)&&(_i=_i.redNeg()),this.point(fn,_i)};ShortCurve$2.prototype.validate=function(fn){if(fn.inf)return!0;var En=fn.x,Cn=fn.y,_i=this.a.redMul(En),An=En.redSqr().redMul(En).redIAdd(_i).redIAdd(this.b);return Cn.redSqr().redISub(An).cmpn(0)===0};ShortCurve$2.prototype._endoWnafMulAdd=function(fn,En,Cn){for(var _i=this._endoWnafT1,An=this._endoWnafT2,ba=0;ba<fn.length;ba++){var xa=this._endoSplit(En[ba]),$a=fn[ba],rs=$a._getBeta();xa.k1.negative&&(xa.k1.ineg(),$a=$a.neg(!0)),xa.k2.negative&&(xa.k2.ineg(),rs=rs.neg(!0)),_i[ba*2]=$a,_i[ba*2+1]=rs,An[ba*2]=xa.k1,An[ba*2+1]=xa.k2}for(var ts=this._wnafMulAdd(1,_i,An,ba*2,Cn),is=0;is<ba*2;is++)_i[is]=null,An[is]=null;return ts};function Point$6(vn,fn,En,Cn){base$8.BasePoint.call(this,vn,"affine"),fn===null&&En===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$h(fn,16),this.y=new BN$h(En,16),Cn&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits_browser(Point$6,base$8.BasePoint);ShortCurve$2.prototype.point=function(fn,En,Cn){return new Point$6(this,fn,En,Cn)};ShortCurve$2.prototype.pointFromJSON=function(fn,En){return Point$6.fromJSON(this,fn,En)};Point$6.prototype._getBeta=function(){if(this.curve.endo){var fn=this.precomputed;if(fn&&fn.beta)return fn.beta;var En=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(fn){var Cn=this.curve,_i=function(An){return Cn.point(An.x.redMul(Cn.endo.beta),An.y)};fn.beta=En,En.precomputed={beta:null,naf:fn.naf&&{wnd:fn.naf.wnd,points:fn.naf.points.map(_i)},doubles:fn.doubles&&{step:fn.doubles.step,points:fn.doubles.points.map(_i)}}}return En}};Point$6.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point$6.fromJSON=function(fn,En,Cn){typeof En=="string"&&(En=JSON.parse(En));var _i=fn.point(En[0],En[1],Cn);if(!En[2])return _i;function An(xa){return fn.point(xa[0],xa[1],Cn)}var ba=En[2];return _i.precomputed={beta:null,doubles:ba.doubles&&{step:ba.doubles.step,points:[_i].concat(ba.doubles.points.map(An))},naf:ba.naf&&{wnd:ba.naf.wnd,points:[_i].concat(ba.naf.points.map(An))}},_i};Point$6.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$6.prototype.isInfinity=function(){return this.inf};Point$6.prototype.add=function(fn){if(this.inf)return fn;if(fn.inf)return this;if(this.eq(fn))return this.dbl();if(this.neg().eq(fn))return this.curve.point(null,null);if(this.x.cmp(fn.x)===0)return this.curve.point(null,null);var En=this.y.redSub(fn.y);En.cmpn(0)!==0&&(En=En.redMul(this.x.redSub(fn.x).redInvm()));var Cn=En.redSqr().redISub(this.x).redISub(fn.x),_i=En.redMul(this.x.redSub(Cn)).redISub(this.y);return this.curve.point(Cn,_i)};Point$6.prototype.dbl=function(){if(this.inf)return this;var fn=this.y.redAdd(this.y);if(fn.cmpn(0)===0)return this.curve.point(null,null);var En=this.curve.a,Cn=this.x.redSqr(),_i=fn.redInvm(),An=Cn.redAdd(Cn).redIAdd(Cn).redIAdd(En).redMul(_i),ba=An.redSqr().redISub(this.x.redAdd(this.x)),xa=An.redMul(this.x.redSub(ba)).redISub(this.y);return this.curve.point(ba,xa)};Point$6.prototype.getX=function(){return this.x.fromRed()};Point$6.prototype.getY=function(){return this.y.fromRed()};Point$6.prototype.mul=function(fn){return fn=new BN$h(fn,16),this.isInfinity()?this:this._hasDoubles(fn)?this.curve._fixedNafMul(this,fn):this.curve.endo?this.curve._endoWnafMulAdd([this],[fn]):this.curve._wnafMul(this,fn)};Point$6.prototype.mulAdd=function(fn,En,Cn){var _i=[this,En],An=[fn,Cn];return this.curve.endo?this.curve._endoWnafMulAdd(_i,An):this.curve._wnafMulAdd(1,_i,An,2)};Point$6.prototype.jmulAdd=function(fn,En,Cn){var _i=[this,En],An=[fn,Cn];return this.curve.endo?this.curve._endoWnafMulAdd(_i,An,!0):this.curve._wnafMulAdd(1,_i,An,2,!0)};Point$6.prototype.eq=function(fn){return this===fn||this.inf===fn.inf&&(this.inf||this.x.cmp(fn.x)===0&&this.y.cmp(fn.y)===0)};Point$6.prototype.neg=function(fn){if(this.inf)return this;var En=this.curve.point(this.x,this.y.redNeg());if(fn&&this.precomputed){var Cn=this.precomputed,_i=function(An){return An.neg()};En.precomputed={naf:Cn.naf&&{wnd:Cn.naf.wnd,points:Cn.naf.points.map(_i)},doubles:Cn.doubles&&{step:Cn.doubles.step,points:Cn.doubles.points.map(_i)}}}return En};Point$6.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var fn=this.curve.jpoint(this.x,this.y,this.curve.one);return fn};function JPoint$2(vn,fn,En,Cn){base$8.BasePoint.call(this,vn,"jacobian"),fn===null&&En===null&&Cn===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$h(0)):(this.x=new BN$h(fn,16),this.y=new BN$h(En,16),this.z=new BN$h(Cn,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits_browser(JPoint$2,base$8.BasePoint);ShortCurve$2.prototype.jpoint=function(fn,En,Cn){return new JPoint$2(this,fn,En,Cn)};JPoint$2.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var fn=this.z.redInvm(),En=fn.redSqr(),Cn=this.x.redMul(En),_i=this.y.redMul(En).redMul(fn);return this.curve.point(Cn,_i)};JPoint$2.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint$2.prototype.add=function(fn){if(this.isInfinity())return fn;if(fn.isInfinity())return this;var En=fn.z.redSqr(),Cn=this.z.redSqr(),_i=this.x.redMul(En),An=fn.x.redMul(Cn),ba=this.y.redMul(En.redMul(fn.z)),xa=fn.y.redMul(Cn.redMul(this.z)),$a=_i.redSub(An),rs=ba.redSub(xa);if($a.cmpn(0)===0)return rs.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ts=$a.redSqr(),is=ts.redMul($a),cs=_i.redMul(ts),us=rs.redSqr().redIAdd(is).redISub(cs).redISub(cs),ps=rs.redMul(cs.redISub(us)).redISub(ba.redMul(is)),bs=this.z.redMul(fn.z).redMul($a);return this.curve.jpoint(us,ps,bs)};JPoint$2.prototype.mixedAdd=function(fn){if(this.isInfinity())return fn.toJ();if(fn.isInfinity())return this;var En=this.z.redSqr(),Cn=this.x,_i=fn.x.redMul(En),An=this.y,ba=fn.y.redMul(En).redMul(this.z),xa=Cn.redSub(_i),$a=An.redSub(ba);if(xa.cmpn(0)===0)return $a.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var rs=xa.redSqr(),ts=rs.redMul(xa),is=Cn.redMul(rs),cs=$a.redSqr().redIAdd(ts).redISub(is).redISub(is),us=$a.redMul(is.redISub(cs)).redISub(An.redMul(ts)),ps=this.z.redMul(xa);return this.curve.jpoint(cs,us,ps)};JPoint$2.prototype.dblp=function(fn){if(fn===0)return this;if(this.isInfinity())return this;if(!fn)return this.dbl();var En;if(this.curve.zeroA||this.curve.threeA){var Cn=this;for(En=0;En<fn;En++)Cn=Cn.dbl();return Cn}var _i=this.curve.a,An=this.curve.tinv,ba=this.x,xa=this.y,$a=this.z,rs=$a.redSqr().redSqr(),ts=xa.redAdd(xa);for(En=0;En<fn;En++){var is=ba.redSqr(),cs=ts.redSqr(),us=cs.redSqr(),ps=is.redAdd(is).redIAdd(is).redIAdd(_i.redMul(rs)),bs=ba.redMul(cs),e0=ps.redSqr().redISub(bs.redAdd(bs)),gs=bs.redISub(e0),Ds=ps.redMul(gs);Ds=Ds.redIAdd(Ds).redISub(us);var i0=ts.redMul($a);En+1<fn&&(rs=rs.redMul(us)),ba=e0,$a=i0,ts=Ds}return this.curve.jpoint(ba,ts.redMul(An),$a)};JPoint$2.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint$2.prototype._zeroDbl=function(){var fn,En,Cn;if(this.zOne){var _i=this.x.redSqr(),An=this.y.redSqr(),ba=An.redSqr(),xa=this.x.redAdd(An).redSqr().redISub(_i).redISub(ba);xa=xa.redIAdd(xa);var $a=_i.redAdd(_i).redIAdd(_i),rs=$a.redSqr().redISub(xa).redISub(xa),ts=ba.redIAdd(ba);ts=ts.redIAdd(ts),ts=ts.redIAdd(ts),fn=rs,En=$a.redMul(xa.redISub(rs)).redISub(ts),Cn=this.y.redAdd(this.y)}else{var is=this.x.redSqr(),cs=this.y.redSqr(),us=cs.redSqr(),ps=this.x.redAdd(cs).redSqr().redISub(is).redISub(us);ps=ps.redIAdd(ps);var bs=is.redAdd(is).redIAdd(is),e0=bs.redSqr(),gs=us.redIAdd(us);gs=gs.redIAdd(gs),gs=gs.redIAdd(gs),fn=e0.redISub(ps).redISub(ps),En=bs.redMul(ps.redISub(fn)).redISub(gs),Cn=this.y.redMul(this.z),Cn=Cn.redIAdd(Cn)}return this.curve.jpoint(fn,En,Cn)};JPoint$2.prototype._threeDbl=function(){var fn,En,Cn;if(this.zOne){var _i=this.x.redSqr(),An=this.y.redSqr(),ba=An.redSqr(),xa=this.x.redAdd(An).redSqr().redISub(_i).redISub(ba);xa=xa.redIAdd(xa);var $a=_i.redAdd(_i).redIAdd(_i).redIAdd(this.curve.a),rs=$a.redSqr().redISub(xa).redISub(xa);fn=rs;var ts=ba.redIAdd(ba);ts=ts.redIAdd(ts),ts=ts.redIAdd(ts),En=$a.redMul(xa.redISub(rs)).redISub(ts),Cn=this.y.redAdd(this.y)}else{var is=this.z.redSqr(),cs=this.y.redSqr(),us=this.x.redMul(cs),ps=this.x.redSub(is).redMul(this.x.redAdd(is));ps=ps.redAdd(ps).redIAdd(ps);var bs=us.redIAdd(us);bs=bs.redIAdd(bs);var e0=bs.redAdd(bs);fn=ps.redSqr().redISub(e0),Cn=this.y.redAdd(this.z).redSqr().redISub(cs).redISub(is);var gs=cs.redSqr();gs=gs.redIAdd(gs),gs=gs.redIAdd(gs),gs=gs.redIAdd(gs),En=ps.redMul(bs.redISub(fn)).redISub(gs)}return this.curve.jpoint(fn,En,Cn)};JPoint$2.prototype._dbl=function(){var fn=this.curve.a,En=this.x,Cn=this.y,_i=this.z,An=_i.redSqr().redSqr(),ba=En.redSqr(),xa=Cn.redSqr(),$a=ba.redAdd(ba).redIAdd(ba).redIAdd(fn.redMul(An)),rs=En.redAdd(En);rs=rs.redIAdd(rs);var ts=rs.redMul(xa),is=$a.redSqr().redISub(ts.redAdd(ts)),cs=ts.redISub(is),us=xa.redSqr();us=us.redIAdd(us),us=us.redIAdd(us),us=us.redIAdd(us);var ps=$a.redMul(cs).redISub(us),bs=Cn.redAdd(Cn).redMul(_i);return this.curve.jpoint(is,ps,bs)};JPoint$2.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var fn=this.x.redSqr(),En=this.y.redSqr(),Cn=this.z.redSqr(),_i=En.redSqr(),An=fn.redAdd(fn).redIAdd(fn),ba=An.redSqr(),xa=this.x.redAdd(En).redSqr().redISub(fn).redISub(_i);xa=xa.redIAdd(xa),xa=xa.redAdd(xa).redIAdd(xa),xa=xa.redISub(ba);var $a=xa.redSqr(),rs=_i.redIAdd(_i);rs=rs.redIAdd(rs),rs=rs.redIAdd(rs),rs=rs.redIAdd(rs);var ts=An.redIAdd(xa).redSqr().redISub(ba).redISub($a).redISub(rs),is=En.redMul(ts);is=is.redIAdd(is),is=is.redIAdd(is);var cs=this.x.redMul($a).redISub(is);cs=cs.redIAdd(cs),cs=cs.redIAdd(cs);var us=this.y.redMul(ts.redMul(rs.redISub(ts)).redISub(xa.redMul($a)));us=us.redIAdd(us),us=us.redIAdd(us),us=us.redIAdd(us);var ps=this.z.redAdd(xa).redSqr().redISub(Cn).redISub($a);return this.curve.jpoint(cs,us,ps)};JPoint$2.prototype.mul=function(fn,En){return fn=new BN$h(fn,En),this.curve._wnafMul(this,fn)};JPoint$2.prototype.eq=function(fn){if(fn.type==="affine")return this.eq(fn.toJ());if(this===fn)return!0;var En=this.z.redSqr(),Cn=fn.z.redSqr();if(this.x.redMul(Cn).redISub(fn.x.redMul(En)).cmpn(0)!==0)return!1;var _i=En.redMul(this.z),An=Cn.redMul(fn.z);return this.y.redMul(An).redISub(fn.y.redMul(_i)).cmpn(0)===0};JPoint$2.prototype.eqXToP=function(fn){var En=this.z.redSqr(),Cn=fn.toRed(this.curve.red).redMul(En);if(this.x.cmp(Cn)===0)return!0;for(var _i=fn.clone(),An=this.curve.redN.redMul(En);;){if(_i.iadd(this.curve.n),_i.cmp(this.curve.p)>=0)return!1;if(Cn.redIAdd(An),this.x.cmp(Cn)===0)return!0}};JPoint$2.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint$2.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var curve_1=createCommonjsModule(function(vn,fn){var En=fn;En.base=base$8,En.short=short_1,En.mont=null,En.edwards=null}),curves_1=createCommonjsModule(function(vn,fn){var En=fn,Cn=utils_1$1.assert;function _i(xa){xa.type==="short"?this.curve=new curve_1.short(xa):xa.type==="edwards"?this.curve=new curve_1.edwards(xa):this.curve=new curve_1.mont(xa),this.g=this.curve.g,this.n=this.curve.n,this.hash=xa.hash,Cn(this.g.validate(),"Invalid curve"),Cn(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}En.PresetCurve=_i;function An(xa,$a){Object.defineProperty(En,xa,{configurable:!0,enumerable:!0,get:function(){var rs=new _i($a);return Object.defineProperty(En,xa,{configurable:!0,enumerable:!0,value:rs}),rs}})}An("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash$5.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),An("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash$5.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),An("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash$5.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),An("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash$5.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),An("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash$5.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),An("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$5.sha256,gRed:!1,g:["9"]}),An("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$5.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var ba;try{ba=null.crash()}catch{ba=void 0}An("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash$5.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",ba]})});function HmacDRBG$3(vn){if(!(this instanceof HmacDRBG$3))return new HmacDRBG$3(vn);this.hash=vn.hash,this.predResist=!!vn.predResist,this.outLen=this.hash.outSize,this.minEntropy=vn.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var fn=utils_1.toArray(vn.entropy,vn.entropyEnc||"hex"),En=utils_1.toArray(vn.nonce,vn.nonceEnc||"hex"),Cn=utils_1.toArray(vn.pers,vn.persEnc||"hex");minimalisticAssert(fn.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(fn,En,Cn)}var hmacDrbg$1=HmacDRBG$3;HmacDRBG$3.prototype._init=function(fn,En,Cn){var _i=fn.concat(En).concat(Cn);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var An=0;An<this.V.length;An++)this.K[An]=0,this.V[An]=1;this._update(_i),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG$3.prototype._hmac=function(){return new hash$5.hmac(this.hash,this.K)};HmacDRBG$3.prototype._update=function(fn){var En=this._hmac().update(this.V).update([0]);fn&&(En=En.update(fn)),this.K=En.digest(),this.V=this._hmac().update(this.V).digest(),fn&&(this.K=this._hmac().update(this.V).update([1]).update(fn).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG$3.prototype.reseed=function(fn,En,Cn,_i){typeof En!="string"&&(_i=Cn,Cn=En,En=null),fn=utils_1.toArray(fn,En),Cn=utils_1.toArray(Cn,_i),minimalisticAssert(fn.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(fn.concat(Cn||[])),this._reseed=1};HmacDRBG$3.prototype.generate=function(fn,En,Cn,_i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof En!="string"&&(_i=Cn,Cn=En,En=null),Cn&&(Cn=utils_1.toArray(Cn,_i||"hex"),this._update(Cn));for(var An=[];An.length<fn;)this.V=this._hmac().update(this.V).digest(),An=An.concat(this.V);var ba=An.slice(0,fn);return this._update(Cn),this._reseed++,utils_1.encode(ba,En)};var assert$3$1=utils_1$1.assert;function KeyPair$8(vn,fn){this.ec=vn,this.priv=null,this.pub=null,fn.priv&&this._importPrivate(fn.priv,fn.privEnc),fn.pub&&this._importPublic(fn.pub,fn.pubEnc)}var key$6=KeyPair$8;KeyPair$8.fromPublic=function(fn,En,Cn){return En instanceof KeyPair$8?En:new KeyPair$8(fn,{pub:En,pubEnc:Cn})};KeyPair$8.fromPrivate=function(fn,En,Cn){return En instanceof KeyPair$8?En:new KeyPair$8(fn,{priv:En,privEnc:Cn})};KeyPair$8.prototype.validate=function(){var fn=this.getPublic();return fn.isInfinity()?{result:!1,reason:"Invalid public key"}:fn.validate()?fn.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair$8.prototype.getPublic=function(fn,En){return typeof fn=="string"&&(En=fn,fn=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),En?this.pub.encode(En,fn):this.pub};KeyPair$8.prototype.getPrivate=function(fn){return fn==="hex"?this.priv.toString(16,2):this.priv};KeyPair$8.prototype._importPrivate=function(fn,En){this.priv=new BN$h(fn,En||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$8.prototype._importPublic=function(fn,En){if(fn.x||fn.y){this.ec.curve.type==="mont"?assert$3$1(fn.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$3$1(fn.x&&fn.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(fn.x,fn.y);return}this.pub=this.ec.curve.decodePoint(fn,En)};KeyPair$8.prototype.derive=function(fn){return fn.validate()||assert$3$1(fn.validate(),"public point not validated"),fn.mul(this.priv).getX()};KeyPair$8.prototype.sign=function(fn,En,Cn){return this.ec.sign(fn,this,En,Cn)};KeyPair$8.prototype.verify=function(fn,En){return this.ec.verify(fn,En,this)};KeyPair$8.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$4$1=utils_1$1.assert;function Signature$8(vn,fn){if(vn instanceof Signature$8)return vn;this._importDER(vn,fn)||(assert$4$1(vn.r&&vn.s,"Signature without r or s"),this.r=new BN$h(vn.r,16),this.s=new BN$h(vn.s,16),vn.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=vn.recoveryParam)}var signature$6=Signature$8;function Position$2(){this.place=0}function getLength$2(vn,fn){var En=vn[fn.place++];if(!(En&128))return En;var Cn=En&15;if(Cn===0||Cn>4)return!1;for(var _i=0,An=0,ba=fn.place;An<Cn;An++,ba++)_i<<=8,_i|=vn[ba],_i>>>=0;return _i<=127?!1:(fn.place=ba,_i)}function rmPadding$2(vn){for(var fn=0,En=vn.length-1;!vn[fn]&&!(vn[fn+1]&128)&&fn<En;)fn++;return fn===0?vn:vn.slice(fn)}Signature$8.prototype._importDER=function(fn,En){fn=utils_1$1.toArray(fn,En);var Cn=new Position$2;if(fn[Cn.place++]!==48)return!1;var _i=getLength$2(fn,Cn);if(_i===!1||_i+Cn.place!==fn.length||fn[Cn.place++]!==2)return!1;var An=getLength$2(fn,Cn);if(An===!1)return!1;var ba=fn.slice(Cn.place,An+Cn.place);if(Cn.place+=An,fn[Cn.place++]!==2)return!1;var xa=getLength$2(fn,Cn);if(xa===!1||fn.length!==xa+Cn.place)return!1;var $a=fn.slice(Cn.place,xa+Cn.place);if(ba[0]===0)if(ba[1]&128)ba=ba.slice(1);else return!1;if($a[0]===0)if($a[1]&128)$a=$a.slice(1);else return!1;return this.r=new BN$h(ba),this.s=new BN$h($a),this.recoveryParam=null,!0};function constructLength$2(vn,fn){if(fn<128){vn.push(fn);return}var En=1+(Math.log(fn)/Math.LN2>>>3);for(vn.push(En|128);--En;)vn.push(fn>>>(En<<3)&255);vn.push(fn)}Signature$8.prototype.toDER=function(fn){var En=this.r.toArray(),Cn=this.s.toArray();for(En[0]&128&&(En=[0].concat(En)),Cn[0]&128&&(Cn=[0].concat(Cn)),En=rmPadding$2(En),Cn=rmPadding$2(Cn);!Cn[0]&&!(Cn[1]&128);)Cn=Cn.slice(1);var _i=[2];constructLength$2(_i,En.length),_i=_i.concat(En),_i.push(2),constructLength$2(_i,Cn.length);var An=_i.concat(Cn),ba=[48];return constructLength$2(ba,An.length),ba=ba.concat(An),utils_1$1.encode(ba,fn)};var rand$2=function(){throw new Error("unsupported")},assert$5$1=utils_1$1.assert;function EC$2(vn){if(!(this instanceof EC$2))return new EC$2(vn);typeof vn=="string"&&(assert$5$1(Object.prototype.hasOwnProperty.call(curves_1,vn),"Unknown curve "+vn),vn=curves_1[vn]),vn instanceof curves_1.PresetCurve&&(vn={curve:vn}),this.curve=vn.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=vn.curve.g,this.g.precompute(vn.curve.n.bitLength()+1),this.hash=vn.hash||vn.curve.hash}var ec$3=EC$2;EC$2.prototype.keyPair=function(fn){return new key$6(this,fn)};EC$2.prototype.keyFromPrivate=function(fn,En){return key$6.fromPrivate(this,fn,En)};EC$2.prototype.keyFromPublic=function(fn,En){return key$6.fromPublic(this,fn,En)};EC$2.prototype.genKeyPair=function(fn){fn||(fn={});for(var En=new hmacDrbg$1({hash:this.hash,pers:fn.pers,persEnc:fn.persEnc||"utf8",entropy:fn.entropy||rand$2(this.hash.hmacStrength),entropyEnc:fn.entropy&&fn.entropyEnc||"utf8",nonce:this.n.toArray()}),Cn=this.n.byteLength(),_i=this.n.sub(new BN$h(2));;){var An=new BN$h(En.generate(Cn));if(!(An.cmp(_i)>0))return An.iaddn(1),this.keyFromPrivate(An)}};EC$2.prototype._truncateToN=function(fn,En){var Cn=fn.byteLength()*8-this.n.bitLength();return Cn>0&&(fn=fn.ushrn(Cn)),!En&&fn.cmp(this.n)>=0?fn.sub(this.n):fn};EC$2.prototype.sign=function(fn,En,Cn,_i){typeof Cn=="object"&&(_i=Cn,Cn=null),_i||(_i={}),En=this.keyFromPrivate(En,Cn),fn=this._truncateToN(new BN$h(fn,16));for(var An=this.n.byteLength(),ba=En.getPrivate().toArray("be",An),xa=fn.toArray("be",An),$a=new hmacDrbg$1({hash:this.hash,entropy:ba,nonce:xa,pers:_i.pers,persEnc:_i.persEnc||"utf8"}),rs=this.n.sub(new BN$h(1)),ts=0;;ts++){var is=_i.k?_i.k(ts):new BN$h($a.generate(this.n.byteLength()));if(is=this._truncateToN(is,!0),!(is.cmpn(1)<=0||is.cmp(rs)>=0)){var cs=this.g.mul(is);if(!cs.isInfinity()){var us=cs.getX(),ps=us.umod(this.n);if(ps.cmpn(0)!==0){var bs=is.invm(this.n).mul(ps.mul(En.getPrivate()).iadd(fn));if(bs=bs.umod(this.n),bs.cmpn(0)!==0){var e0=(cs.getY().isOdd()?1:0)|(us.cmp(ps)!==0?2:0);return _i.canonical&&bs.cmp(this.nh)>0&&(bs=this.n.sub(bs),e0^=1),new signature$6({r:ps,s:bs,recoveryParam:e0})}}}}}};EC$2.prototype.verify=function(fn,En,Cn,_i){fn=this._truncateToN(new BN$h(fn,16)),Cn=this.keyFromPublic(Cn,_i),En=new signature$6(En,"hex");var An=En.r,ba=En.s;if(An.cmpn(1)<0||An.cmp(this.n)>=0||ba.cmpn(1)<0||ba.cmp(this.n)>=0)return!1;var xa=ba.invm(this.n),$a=xa.mul(fn).umod(this.n),rs=xa.mul(An).umod(this.n),ts;return this.curve._maxwellTrick?(ts=this.g.jmulAdd($a,Cn.getPublic(),rs),ts.isInfinity()?!1:ts.eqXToP(An)):(ts=this.g.mulAdd($a,Cn.getPublic(),rs),ts.isInfinity()?!1:ts.getX().umod(this.n).cmp(An)===0)};EC$2.prototype.recoverPubKey=function(vn,fn,En,Cn){assert$5$1((3&En)===En,"The recovery param is more than two bits"),fn=new signature$6(fn,Cn);var _i=this.n,An=new BN$h(vn),ba=fn.r,xa=fn.s,$a=En&1,rs=En>>1;if(ba.cmp(this.curve.p.umod(this.curve.n))>=0&&rs)throw new Error("Unable to find sencond key candinate");rs?ba=this.curve.pointFromX(ba.add(this.curve.n),$a):ba=this.curve.pointFromX(ba,$a);var ts=fn.r.invm(_i),is=_i.sub(An).mul(ts).umod(_i),cs=xa.mul(ts).umod(_i);return this.g.mulAdd(is,ba,cs)};EC$2.prototype.getKeyRecoveryParam=function(vn,fn,En,Cn){if(fn=new signature$6(fn,Cn),fn.recoveryParam!==null)return fn.recoveryParam;for(var _i=0;_i<4;_i++){var An;try{An=this.recoverPubKey(vn,fn,_i)}catch{continue}if(An.eq(En))return _i}throw new Error("Unable to find valid recovery factor")};var elliptic_1=createCommonjsModule(function(vn,fn){var En=fn;En.version="6.5.4",En.utils=utils_1$1,En.rand=function(){throw new Error("unsupported")},En.curve=curve_1,En.curves=curves_1,En.ec=ec$3,En.eddsa=null}),EC$1$1=elliptic_1.ec;const version$j="signing-key/5.7.0",logger$t=new Logger(version$j);let _curve=null;function getCurve(){return _curve||(_curve=new EC$1$1("secp256k1")),_curve}class SigningKey{constructor(fn){defineReadOnly(this,"curve","secp256k1"),defineReadOnly(this,"privateKey",hexlify(fn)),hexDataLength(this.privateKey)!==32&&logger$t.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const En=getCurve().keyFromPrivate(arrayify(this.privateKey));defineReadOnly(this,"publicKey","0x"+En.getPublic(!1,"hex")),defineReadOnly(this,"compressedPublicKey","0x"+En.getPublic(!0,"hex")),defineReadOnly(this,"_isSigningKey",!0)}_addPoint(fn){const En=getCurve().keyFromPublic(arrayify(this.publicKey)),Cn=getCurve().keyFromPublic(arrayify(fn));return"0x"+En.pub.add(Cn.pub).encodeCompressed("hex")}signDigest(fn){const En=getCurve().keyFromPrivate(arrayify(this.privateKey)),Cn=arrayify(fn);Cn.length!==32&&logger$t.throwArgumentError("bad digest length","digest",fn);const _i=En.sign(Cn,{canonical:!0});return splitSignature({recoveryParam:_i.recoveryParam,r:hexZeroPad("0x"+_i.r.toString(16),32),s:hexZeroPad("0x"+_i.s.toString(16),32)})}computeSharedSecret(fn){const En=getCurve().keyFromPrivate(arrayify(this.privateKey)),Cn=getCurve().keyFromPublic(arrayify(computePublicKey(fn)));return hexZeroPad("0x"+En.derive(Cn.getPublic()).toString(16),32)}static isSigningKey(fn){return!!(fn&&fn._isSigningKey)}}function recoverPublicKey(vn,fn){const En=splitSignature(fn),Cn={r:arrayify(En.r),s:arrayify(En.s)};return"0x"+getCurve().recoverPubKey(arrayify(vn),Cn,En.recoveryParam).encode("hex",!1)}function computePublicKey(vn,fn){const En=arrayify(vn);if(En.length===32){const Cn=new SigningKey(En);return fn?"0x"+getCurve().keyFromPrivate(En).getPublic(!0,"hex"):Cn.publicKey}else{if(En.length===33)return fn?hexlify(En):"0x"+getCurve().keyFromPublic(En).getPublic(!1,"hex");if(En.length===65)return fn?"0x"+getCurve().keyFromPublic(En).getPublic(!0,"hex"):hexlify(En)}return logger$t.throwArgumentError("invalid public or private key","key","[REDACTED]")}const lib_esm$b=Object.freeze(Object.defineProperty({__proto__:null,SigningKey,computePublicKey,recoverPublicKey},Symbol.toStringTag,{value:"Module"})),version$i="transactions/5.7.0",logger$s=new Logger(version$i);var TransactionTypes;(function(vn){vn[vn.legacy=0]="legacy",vn[vn.eip2930=1]="eip2930",vn[vn.eip1559=2]="eip1559"})(TransactionTypes||(TransactionTypes={}));function handleAddress(vn){return vn==="0x"?null:getAddress(vn)}function handleNumber(vn){return vn==="0x"?Zero$1:BigNumber.from(vn)}const transactionFields=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],allowedTransactionKeys$2={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function computeAddress(vn){const fn=computePublicKey(vn);return getAddress(hexDataSlice(keccak256$1(hexDataSlice(fn,1)),12))}function recoverAddress(vn,fn){return computeAddress(recoverPublicKey(arrayify(vn),fn))}function formatNumber(vn,fn){const En=stripZeros(BigNumber.from(vn).toHexString());return En.length>32&&logger$s.throwArgumentError("invalid length for "+fn,"transaction:"+fn,vn),En}function accessSetify(vn,fn){return{address:getAddress(vn),storageKeys:(fn||[]).map((En,Cn)=>(hexDataLength(En)!==32&&logger$s.throwArgumentError("invalid access list storageKey",`accessList[${vn}:${Cn}]`,En),En.toLowerCase()))}}function accessListify(vn){if(Array.isArray(vn))return vn.map((En,Cn)=>Array.isArray(En)?(En.length>2&&logger$s.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${Cn}]`,En),accessSetify(En[0],En[1])):accessSetify(En.address,En.storageKeys));const fn=Object.keys(vn).map(En=>{const Cn=vn[En].reduce((_i,An)=>(_i[An]=!0,_i),{});return accessSetify(En,Object.keys(Cn).sort())});return fn.sort((En,Cn)=>En.address.localeCompare(Cn.address)),fn}function formatAccessList(vn){return accessListify(vn).map(fn=>[fn.address,fn.storageKeys])}function _serializeEip1559(vn,fn){if(vn.gasPrice!=null){const Cn=BigNumber.from(vn.gasPrice),_i=BigNumber.from(vn.maxFeePerGas||0);Cn.eq(_i)||logger$s.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:Cn,maxFeePerGas:_i})}const En=[formatNumber(vn.chainId||0,"chainId"),formatNumber(vn.nonce||0,"nonce"),formatNumber(vn.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(vn.maxFeePerGas||0,"maxFeePerGas"),formatNumber(vn.gasLimit||0,"gasLimit"),vn.to!=null?getAddress(vn.to):"0x",formatNumber(vn.value||0,"value"),vn.data||"0x",formatAccessList(vn.accessList||[])];if(fn){const Cn=splitSignature(fn);En.push(formatNumber(Cn.recoveryParam,"recoveryParam")),En.push(stripZeros(Cn.r)),En.push(stripZeros(Cn.s))}return hexConcat(["0x02",encode$c(En)])}function _serializeEip2930(vn,fn){const En=[formatNumber(vn.chainId||0,"chainId"),formatNumber(vn.nonce||0,"nonce"),formatNumber(vn.gasPrice||0,"gasPrice"),formatNumber(vn.gasLimit||0,"gasLimit"),vn.to!=null?getAddress(vn.to):"0x",formatNumber(vn.value||0,"value"),vn.data||"0x",formatAccessList(vn.accessList||[])];if(fn){const Cn=splitSignature(fn);En.push(formatNumber(Cn.recoveryParam,"recoveryParam")),En.push(stripZeros(Cn.r)),En.push(stripZeros(Cn.s))}return hexConcat(["0x01",encode$c(En)])}function _serialize(vn,fn){checkProperties(vn,allowedTransactionKeys$2);const En=[];transactionFields.forEach(function(ba){let xa=vn[ba.name]||[];const $a={};ba.numeric&&($a.hexPad="left"),xa=arrayify(hexlify(xa,$a)),ba.length&&xa.length!==ba.length&&xa.length>0&&logger$s.throwArgumentError("invalid length for "+ba.name,"transaction:"+ba.name,xa),ba.maxLength&&(xa=stripZeros(xa),xa.length>ba.maxLength&&logger$s.throwArgumentError("invalid length for "+ba.name,"transaction:"+ba.name,xa)),En.push(hexlify(xa))});let Cn=0;if(vn.chainId!=null?(Cn=vn.chainId,typeof Cn!="number"&&logger$s.throwArgumentError("invalid transaction.chainId","transaction",vn)):fn&&!isBytesLike(fn)&&fn.v>28&&(Cn=Math.floor((fn.v-35)/2)),Cn!==0&&(En.push(hexlify(Cn)),En.push("0x"),En.push("0x")),!fn)return encode$c(En);const _i=splitSignature(fn);let An=27+_i.recoveryParam;return Cn!==0?(En.pop(),En.pop(),En.pop(),An+=Cn*2+8,_i.v>28&&_i.v!==An&&logger$s.throwArgumentError("transaction.chainId/signature.v mismatch","signature",fn)):_i.v!==An&&logger$s.throwArgumentError("transaction.chainId/signature.v mismatch","signature",fn),En.push(hexlify(An)),En.push(stripZeros(arrayify(_i.r))),En.push(stripZeros(arrayify(_i.s))),encode$c(En)}function serialize$1(vn,fn){if(vn.type==null||vn.type===0)return vn.accessList!=null&&logger$s.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",vn),_serialize(vn,fn);switch(vn.type){case 1:return _serializeEip2930(vn,fn);case 2:return _serializeEip1559(vn,fn)}return logger$s.throwError(`unsupported transaction type: ${vn.type}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:vn.type})}function _parseEipSignature(vn,fn,En){try{const Cn=handleNumber(fn[0]).toNumber();if(Cn!==0&&Cn!==1)throw new Error("bad recid");vn.v=Cn}catch{logger$s.throwArgumentError("invalid v for transaction type: 1","v",fn[0])}vn.r=hexZeroPad(fn[1],32),vn.s=hexZeroPad(fn[2],32);try{const Cn=keccak256$1(En(vn));vn.from=recoverAddress(Cn,{r:vn.r,s:vn.s,recoveryParam:vn.v})}catch{}}function _parseEip1559(vn){const fn=decode$f(vn.slice(1));fn.length!==9&&fn.length!==12&&logger$s.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify(vn));const En=handleNumber(fn[2]),Cn=handleNumber(fn[3]),_i={type:2,chainId:handleNumber(fn[0]).toNumber(),nonce:handleNumber(fn[1]).toNumber(),maxPriorityFeePerGas:En,maxFeePerGas:Cn,gasPrice:null,gasLimit:handleNumber(fn[4]),to:handleAddress(fn[5]),value:handleNumber(fn[6]),data:fn[7],accessList:accessListify(fn[8])};return fn.length===9||(_i.hash=keccak256$1(vn),_parseEipSignature(_i,fn.slice(9),_serializeEip1559)),_i}function _parseEip2930(vn){const fn=decode$f(vn.slice(1));fn.length!==8&&fn.length!==11&&logger$s.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify(vn));const En={type:1,chainId:handleNumber(fn[0]).toNumber(),nonce:handleNumber(fn[1]).toNumber(),gasPrice:handleNumber(fn[2]),gasLimit:handleNumber(fn[3]),to:handleAddress(fn[4]),value:handleNumber(fn[5]),data:fn[6],accessList:accessListify(fn[7])};return fn.length===8||(En.hash=keccak256$1(vn),_parseEipSignature(En,fn.slice(8),_serializeEip2930)),En}function _parse(vn){const fn=decode$f(vn);fn.length!==9&&fn.length!==6&&logger$s.throwArgumentError("invalid raw transaction","rawTransaction",vn);const En={nonce:handleNumber(fn[0]).toNumber(),gasPrice:handleNumber(fn[1]),gasLimit:handleNumber(fn[2]),to:handleAddress(fn[3]),value:handleNumber(fn[4]),data:fn[5],chainId:0};if(fn.length===6)return En;try{En.v=BigNumber.from(fn[6]).toNumber()}catch{return En}if(En.r=hexZeroPad(fn[7],32),En.s=hexZeroPad(fn[8],32),BigNumber.from(En.r).isZero()&&BigNumber.from(En.s).isZero())En.chainId=En.v,En.v=0;else{En.chainId=Math.floor((En.v-35)/2),En.chainId<0&&(En.chainId=0);let Cn=En.v-27;const _i=fn.slice(0,6);En.chainId!==0&&(_i.push(hexlify(En.chainId)),_i.push("0x"),_i.push("0x"),Cn-=En.chainId*2+8);const An=keccak256$1(encode$c(_i));try{En.from=recoverAddress(An,{r:hexlify(En.r),s:hexlify(En.s),recoveryParam:Cn})}catch{}En.hash=keccak256$1(vn)}return En.type=null,En}function parse$1(vn){const fn=arrayify(vn);if(fn[0]>127)return _parse(fn);switch(fn[0]){case 1:return _parseEip2930(fn);case 2:return _parseEip1559(fn)}return logger$s.throwError(`unsupported transaction type: ${fn[0]}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:fn[0]})}const lib_esm$a=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return TransactionTypes},accessListify,computeAddress,parse:parse$1,recoverAddress,serialize:serialize$1},Symbol.toStringTag,{value:"Module"})),version$h="contracts/5.7.0";var __awaiter$c=function(vn,fn,En,Cn){function _i(An){return An instanceof En?An:new En(function(ba){ba(An)})}return new(En||(En=Promise))(function(An,ba){function xa(ts){try{rs(Cn.next(ts))}catch(is){ba(is)}}function $a(ts){try{rs(Cn.throw(ts))}catch(is){ba(is)}}function rs(ts){ts.done?An(ts.value):_i(ts.value).then(xa,$a)}rs((Cn=Cn.apply(vn,fn||[])).next())})};const logger$r=new Logger(version$h),allowedTransactionKeys$1={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function resolveName(vn,fn){return __awaiter$c(this,void 0,void 0,function*(){const En=yield fn;typeof En!="string"&&logger$r.throwArgumentError("invalid address or ENS name","name",En);try{return getAddress(En)}catch{}vn||logger$r.throwError("a provider or signer is needed to resolve ENS names",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const Cn=yield vn.resolveName(En);return Cn==null&&logger$r.throwArgumentError("resolver or addr is not configured for ENS name","name",En),Cn})}function resolveAddresses(vn,fn,En){return __awaiter$c(this,void 0,void 0,function*(){return Array.isArray(En)?yield Promise.all(En.map((Cn,_i)=>resolveAddresses(vn,Array.isArray(fn)?fn[_i]:fn[Cn.name],Cn))):En.type==="address"?yield resolveName(vn,fn):En.type==="tuple"?yield resolveAddresses(vn,fn,En.components):En.baseType==="array"?Array.isArray(fn)?yield Promise.all(fn.map(Cn=>resolveAddresses(vn,Cn,En.arrayChildren))):Promise.reject(logger$r.makeError("invalid value for array",Logger.errors.INVALID_ARGUMENT,{argument:"value",value:fn})):fn})}function populateTransaction(vn,fn,En){return __awaiter$c(this,void 0,void 0,function*(){let Cn={};En.length===fn.inputs.length+1&&typeof En[En.length-1]=="object"&&(Cn=shallowCopy(En.pop())),logger$r.checkArgumentCount(En.length,fn.inputs.length,"passed to contract"),vn.signer?Cn.from?Cn.from=resolveProperties({override:resolveName(vn.signer,Cn.from),signer:vn.signer.getAddress()}).then(rs=>__awaiter$c(this,void 0,void 0,function*(){return getAddress(rs.signer)!==rs.override&&logger$r.throwError("Contract with a Signer cannot override from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),rs.override})):Cn.from=vn.signer.getAddress():Cn.from&&(Cn.from=resolveName(vn.provider,Cn.from));const _i=yield resolveProperties({args:resolveAddresses(vn.signer||vn.provider,En,fn.inputs),address:vn.resolvedAddress,overrides:resolveProperties(Cn)||{}}),An=vn.interface.encodeFunctionData(fn,_i.args),ba={data:An,to:_i.address},xa=_i.overrides;if(xa.nonce!=null&&(ba.nonce=BigNumber.from(xa.nonce).toNumber()),xa.gasLimit!=null&&(ba.gasLimit=BigNumber.from(xa.gasLimit)),xa.gasPrice!=null&&(ba.gasPrice=BigNumber.from(xa.gasPrice)),xa.maxFeePerGas!=null&&(ba.maxFeePerGas=BigNumber.from(xa.maxFeePerGas)),xa.maxPriorityFeePerGas!=null&&(ba.maxPriorityFeePerGas=BigNumber.from(xa.maxPriorityFeePerGas)),xa.from!=null&&(ba.from=xa.from),xa.type!=null&&(ba.type=xa.type),xa.accessList!=null&&(ba.accessList=accessListify(xa.accessList)),ba.gasLimit==null&&fn.gas!=null){let rs=21e3;const ts=arrayify(An);for(let is=0;is<ts.length;is++)rs+=4,ts[is]&&(rs+=64);ba.gasLimit=BigNumber.from(fn.gas).add(rs)}if(xa.value){const rs=BigNumber.from(xa.value);!rs.isZero()&&!fn.payable&&logger$r.throwError("non-payable method cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:Cn.value}),ba.value=rs}xa.customData&&(ba.customData=shallowCopy(xa.customData)),xa.ccipReadEnabled&&(ba.ccipReadEnabled=!!xa.ccipReadEnabled),delete Cn.nonce,delete Cn.gasLimit,delete Cn.gasPrice,delete Cn.from,delete Cn.value,delete Cn.type,delete Cn.accessList,delete Cn.maxFeePerGas,delete Cn.maxPriorityFeePerGas,delete Cn.customData,delete Cn.ccipReadEnabled;const $a=Object.keys(Cn).filter(rs=>Cn[rs]!=null);return $a.length&&logger$r.throwError(`cannot override ${$a.map(rs=>JSON.stringify(rs)).join(",")}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:$a}),ba})}function buildPopulate(vn,fn){return function(...En){return populateTransaction(vn,fn,En)}}function buildEstimate(vn,fn){const En=vn.signer||vn.provider;return function(...Cn){return __awaiter$c(this,void 0,void 0,function*(){En||logger$r.throwError("estimate require a provider or signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const _i=yield populateTransaction(vn,fn,Cn);return yield En.estimateGas(_i)})}}function addContractWait(vn,fn){const En=fn.wait.bind(fn);fn.wait=Cn=>En(Cn).then(_i=>(_i.events=_i.logs.map(An=>{let ba=deepCopy(An),xa=null;try{xa=vn.interface.parseLog(An)}catch{}return xa&&(ba.args=xa.args,ba.decode=($a,rs)=>vn.interface.decodeEventLog(xa.eventFragment,$a,rs),ba.event=xa.name,ba.eventSignature=xa.signature),ba.removeListener=()=>vn.provider,ba.getBlock=()=>vn.provider.getBlock(_i.blockHash),ba.getTransaction=()=>vn.provider.getTransaction(_i.transactionHash),ba.getTransactionReceipt=()=>Promise.resolve(_i),ba}),_i))}function buildCall(vn,fn,En){const Cn=vn.signer||vn.provider;return function(..._i){return __awaiter$c(this,void 0,void 0,function*(){let An;if(_i.length===fn.inputs.length+1&&typeof _i[_i.length-1]=="object"){const $a=shallowCopy(_i.pop());$a.blockTag!=null&&(An=yield $a.blockTag),delete $a.blockTag,_i.push($a)}vn.deployTransaction!=null&&(yield vn._deployed(An));const ba=yield populateTransaction(vn,fn,_i),xa=yield Cn.call(ba,An);try{let $a=vn.interface.decodeFunctionResult(fn,xa);return En&&fn.outputs.length===1&&($a=$a[0]),$a}catch($a){throw $a.code===Logger.errors.CALL_EXCEPTION&&($a.address=vn.address,$a.args=_i,$a.transaction=ba),$a}})}}function buildSend(vn,fn){return function(...En){return __awaiter$c(this,void 0,void 0,function*(){vn.signer||logger$r.throwError("sending a transaction requires a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),vn.deployTransaction!=null&&(yield vn._deployed());const Cn=yield populateTransaction(vn,fn,En),_i=yield vn.signer.sendTransaction(Cn);return addContractWait(vn,_i),_i})}}function buildDefault(vn,fn,En){return fn.constant?buildCall(vn,fn,En):buildSend(vn,fn)}function getEventTag$1(vn){return vn.address&&(vn.topics==null||vn.topics.length===0)?"*":(vn.address||"*")+"@"+(vn.topics?vn.topics.map(fn=>Array.isArray(fn)?fn.join("|"):fn).join(":"):"")}class RunningEvent{constructor(fn,En){defineReadOnly(this,"tag",fn),defineReadOnly(this,"filter",En),this._listeners=[]}addListener(fn,En){this._listeners.push({listener:fn,once:En})}removeListener(fn){let En=!1;this._listeners=this._listeners.filter(Cn=>En||Cn.listener!==fn?!0:(En=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(fn=>fn.listener)}listenerCount(){return this._listeners.length}run(fn){const En=this.listenerCount();return this._listeners=this._listeners.filter(Cn=>{const _i=fn.slice();return setTimeout(()=>{Cn.listener.apply(this,_i)},0),!Cn.once}),En}prepareEvent(fn){}getEmit(fn){return[fn]}}class ErrorRunningEvent extends RunningEvent{constructor(){super("error",null)}}class FragmentRunningEvent extends RunningEvent{constructor(fn,En,Cn,_i){const An={address:fn};let ba=En.getEventTopic(Cn);_i?(ba!==_i[0]&&logger$r.throwArgumentError("topic mismatch","topics",_i),An.topics=_i.slice()):An.topics=[ba],super(getEventTag$1(An),An),defineReadOnly(this,"address",fn),defineReadOnly(this,"interface",En),defineReadOnly(this,"fragment",Cn)}prepareEvent(fn){super.prepareEvent(fn),fn.event=this.fragment.name,fn.eventSignature=this.fragment.format(),fn.decode=(En,Cn)=>this.interface.decodeEventLog(this.fragment,En,Cn);try{fn.args=this.interface.decodeEventLog(this.fragment,fn.data,fn.topics)}catch(En){fn.args=null,fn.decodeError=En}}getEmit(fn){const En=checkResultErrors(fn.args);if(En.length)throw En[0].error;const Cn=(fn.args||[]).slice();return Cn.push(fn),Cn}}class WildcardRunningEvent extends RunningEvent{constructor(fn,En){super("*",{address:fn}),defineReadOnly(this,"address",fn),defineReadOnly(this,"interface",En)}prepareEvent(fn){super.prepareEvent(fn);try{const En=this.interface.parseLog(fn);fn.event=En.name,fn.eventSignature=En.signature,fn.decode=(Cn,_i)=>this.interface.decodeEventLog(En.eventFragment,Cn,_i),fn.args=En.args}catch{}}}class BaseContract{constructor(fn,En,Cn){defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(En)),Cn==null?(defineReadOnly(this,"provider",null),defineReadOnly(this,"signer",null)):Signer.isSigner(Cn)?(defineReadOnly(this,"provider",Cn.provider||null),defineReadOnly(this,"signer",Cn)):Provider.isProvider(Cn)?(defineReadOnly(this,"provider",Cn),defineReadOnly(this,"signer",null)):logger$r.throwArgumentError("invalid signer or provider","signerOrProvider",Cn),defineReadOnly(this,"callStatic",{}),defineReadOnly(this,"estimateGas",{}),defineReadOnly(this,"functions",{}),defineReadOnly(this,"populateTransaction",{}),defineReadOnly(this,"filters",{});{const ba={};Object.keys(this.interface.events).forEach(xa=>{const $a=this.interface.events[xa];defineReadOnly(this.filters,xa,(...rs)=>({address:this.address,topics:this.interface.encodeFilterTopics($a,rs)})),ba[$a.name]||(ba[$a.name]=[]),ba[$a.name].push(xa)}),Object.keys(ba).forEach(xa=>{const $a=ba[xa];$a.length===1?defineReadOnly(this.filters,xa,this.filters[$a[0]]):logger$r.warn(`Duplicate definition of ${xa} (${$a.join(", ")})`)})}if(defineReadOnly(this,"_runningEvents",{}),defineReadOnly(this,"_wrappedEmits",{}),fn==null&&logger$r.throwArgumentError("invalid contract address or ENS name","addressOrName",fn),defineReadOnly(this,"address",fn),this.provider)defineReadOnly(this,"resolvedAddress",resolveName(this.provider,fn));else try{defineReadOnly(this,"resolvedAddress",Promise.resolve(getAddress(fn)))}catch{logger$r.throwError("provider is required to use ENS name as contract address",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(ba=>{});const _i={},An={};Object.keys(this.interface.functions).forEach(ba=>{const xa=this.interface.functions[ba];if(An[ba]){logger$r.warn(`Duplicate ABI entry for ${JSON.stringify(ba)}`);return}An[ba]=!0;{const $a=xa.name;_i[`%${$a}`]||(_i[`%${$a}`]=[]),_i[`%${$a}`].push(ba)}this[ba]==null&&defineReadOnly(this,ba,buildDefault(this,xa,!0)),this.functions[ba]==null&&defineReadOnly(this.functions,ba,buildDefault(this,xa,!1)),this.callStatic[ba]==null&&defineReadOnly(this.callStatic,ba,buildCall(this,xa,!0)),this.populateTransaction[ba]==null&&defineReadOnly(this.populateTransaction,ba,buildPopulate(this,xa)),this.estimateGas[ba]==null&&defineReadOnly(this.estimateGas,ba,buildEstimate(this,xa))}),Object.keys(_i).forEach(ba=>{const xa=_i[ba];if(xa.length>1)return;ba=ba.substring(1);const $a=xa[0];try{this[ba]==null&&defineReadOnly(this,ba,this[$a])}catch{}this.functions[ba]==null&&defineReadOnly(this.functions,ba,this.functions[$a]),this.callStatic[ba]==null&&defineReadOnly(this.callStatic,ba,this.callStatic[$a]),this.populateTransaction[ba]==null&&defineReadOnly(this.populateTransaction,ba,this.populateTransaction[$a]),this.estimateGas[ba]==null&&defineReadOnly(this.estimateGas,ba,this.estimateGas[$a])})}static getContractAddress(fn){return getContractAddress(fn)}static getInterface(fn){return Interface.isInterface(fn)?fn:new Interface(fn)}deployed(){return this._deployed()}_deployed(fn){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,fn).then(En=>(En==="0x"&&logger$r.throwError("contract not deployed",Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(fn){this.signer||logger$r.throwError("sending a transactions require a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const En=shallowCopy(fn||{});return["from","to"].forEach(function(Cn){En[Cn]!=null&&logger$r.throwError("cannot override "+Cn,Logger.errors.UNSUPPORTED_OPERATION,{operation:Cn})}),En.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(En))}connect(fn){typeof fn=="string"&&(fn=new VoidSigner(fn,this.provider));const En=new this.constructor(this.address,this.interface,fn);return this.deployTransaction&&defineReadOnly(En,"deployTransaction",this.deployTransaction),En}attach(fn){return new this.constructor(fn,this.interface,this.signer||this.provider)}static isIndexed(fn){return Indexed.isIndexed(fn)}_normalizeRunningEvent(fn){return this._runningEvents[fn.tag]?this._runningEvents[fn.tag]:fn}_getRunningEvent(fn){if(typeof fn=="string"){if(fn==="error")return this._normalizeRunningEvent(new ErrorRunningEvent);if(fn==="event")return this._normalizeRunningEvent(new RunningEvent("event",null));if(fn==="*")return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface));const En=this.interface.getEvent(fn);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,En))}if(fn.topics&&fn.topics.length>0){try{const Cn=fn.topics[0];if(typeof Cn!="string")throw new Error("invalid topic");const _i=this.interface.getEvent(Cn);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,_i,fn.topics))}catch{}const En={address:this.address,topics:fn.topics};return this._normalizeRunningEvent(new RunningEvent(getEventTag$1(En),En))}return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface))}_checkRunningEvents(fn){if(fn.listenerCount()===0){delete this._runningEvents[fn.tag];const En=this._wrappedEmits[fn.tag];En&&fn.filter&&(this.provider.off(fn.filter,En),delete this._wrappedEmits[fn.tag])}}_wrapEvent(fn,En,Cn){const _i=deepCopy(En);return _i.removeListener=()=>{Cn&&(fn.removeListener(Cn),this._checkRunningEvents(fn))},_i.getBlock=()=>this.provider.getBlock(En.blockHash),_i.getTransaction=()=>this.provider.getTransaction(En.transactionHash),_i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(En.transactionHash),fn.prepareEvent(_i),_i}_addEventListener(fn,En,Cn){if(this.provider||logger$r.throwError("events require a provider or a signer with a provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),fn.addListener(En,Cn),this._runningEvents[fn.tag]=fn,!this._wrappedEmits[fn.tag]){const _i=An=>{let ba=this._wrapEvent(fn,An,En);if(ba.decodeError==null)try{const xa=fn.getEmit(ba);this.emit(fn.filter,...xa)}catch(xa){ba.decodeError=xa.error}fn.filter!=null&&this.emit("event",ba),ba.decodeError!=null&&this.emit("error",ba.decodeError,ba)};this._wrappedEmits[fn.tag]=_i,fn.filter!=null&&this.provider.on(fn.filter,_i)}}queryFilter(fn,En,Cn){const _i=this._getRunningEvent(fn),An=shallowCopy(_i.filter);return typeof En=="string"&&isHexString(En,32)?(Cn!=null&&logger$r.throwArgumentError("cannot specify toBlock with blockhash","toBlock",Cn),An.blockHash=En):(An.fromBlock=En??0,An.toBlock=Cn??"latest"),this.provider.getLogs(An).then(ba=>ba.map(xa=>this._wrapEvent(_i,xa,null)))}on(fn,En){return this._addEventListener(this._getRunningEvent(fn),En,!1),this}once(fn,En){return this._addEventListener(this._getRunningEvent(fn),En,!0),this}emit(fn,...En){if(!this.provider)return!1;const Cn=this._getRunningEvent(fn),_i=Cn.run(En)>0;return this._checkRunningEvents(Cn),_i}listenerCount(fn){return this.provider?fn==null?Object.keys(this._runningEvents).reduce((En,Cn)=>En+this._runningEvents[Cn].listenerCount(),0):this._getRunningEvent(fn).listenerCount():0}listeners(fn){if(!this.provider)return[];if(fn==null){const En=[];for(let Cn in this._runningEvents)this._runningEvents[Cn].listeners().forEach(_i=>{En.push(_i)});return En}return this._getRunningEvent(fn).listeners()}removeAllListeners(fn){if(!this.provider)return this;if(fn==null){for(const Cn in this._runningEvents){const _i=this._runningEvents[Cn];_i.removeAllListeners(),this._checkRunningEvents(_i)}return this}const En=this._getRunningEvent(fn);return En.removeAllListeners(),this._checkRunningEvents(En),this}off(fn,En){if(!this.provider)return this;const Cn=this._getRunningEvent(fn);return Cn.removeListener(En),this._checkRunningEvents(Cn),this}removeListener(fn,En){return this.off(fn,En)}}class Contract extends BaseContract{}let ContractFactory$1=class{constructor(fn,En,Cn){let _i=null;typeof En=="string"?_i=En:isBytes$1(En)?_i=hexlify(En):En&&typeof En.object=="string"?_i=En.object:_i="!",_i.substring(0,2)!=="0x"&&(_i="0x"+_i),(!isHexString(_i)||_i.length%2)&&logger$r.throwArgumentError("invalid bytecode","bytecode",En),Cn&&!Signer.isSigner(Cn)&&logger$r.throwArgumentError("invalid signer","signer",Cn),defineReadOnly(this,"bytecode",_i),defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(fn)),defineReadOnly(this,"signer",Cn||null)}getDeployTransaction(...fn){let En={};if(fn.length===this.interface.deploy.inputs.length+1&&typeof fn[fn.length-1]=="object"){En=shallowCopy(fn.pop());for(const Cn in En)if(!allowedTransactionKeys$1[Cn])throw new Error("unknown transaction override "+Cn)}return["data","from","to"].forEach(Cn=>{En[Cn]!=null&&logger$r.throwError("cannot override "+Cn,Logger.errors.UNSUPPORTED_OPERATION,{operation:Cn})}),En.value&&!BigNumber.from(En.value).isZero()&&!this.interface.deploy.payable&&logger$r.throwError("non-payable constructor cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:En.value}),logger$r.checkArgumentCount(fn.length,this.interface.deploy.inputs.length," in Contract constructor"),En.data=hexlify(concat$3([this.bytecode,this.interface.encodeDeploy(fn)])),En}deploy(...fn){return __awaiter$c(this,void 0,void 0,function*(){let En={};fn.length===this.interface.deploy.inputs.length+1&&(En=fn.pop()),logger$r.checkArgumentCount(fn.length,this.interface.deploy.inputs.length," in Contract constructor");const Cn=yield resolveAddresses(this.signer,fn,this.interface.deploy.inputs);Cn.push(En);const _i=this.getDeployTransaction(...Cn),An=yield this.signer.sendTransaction(_i),ba=getStatic(this.constructor,"getContractAddress")(An),xa=getStatic(this.constructor,"getContract")(ba,this.interface,this.signer);return addContractWait(xa,An),defineReadOnly(xa,"deployTransaction",An),xa})}attach(fn){return this.constructor.getContract(fn,this.interface,this.signer)}connect(fn){return new this.constructor(this.interface,this.bytecode,fn)}static fromSolidity(fn,En){fn==null&&logger$r.throwError("missing compiler output",Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof fn=="string"&&(fn=JSON.parse(fn));const Cn=fn.abi;let _i=null;return fn.bytecode?_i=fn.bytecode:fn.evm&&fn.evm.bytecode&&(_i=fn.evm.bytecode),new this(Cn,_i,En)}static getInterface(fn){return Contract.getInterface(fn)}static getContractAddress(fn){return getContractAddress(fn)}static getContract(fn,En,Cn){return new Contract(fn,En,Cn)}};class BaseX{constructor(fn){defineReadOnly(this,"alphabet",fn),defineReadOnly(this,"base",fn.length),defineReadOnly(this,"_alphabetMap",{}),defineReadOnly(this,"_leader",fn.charAt(0));for(let En=0;En<fn.length;En++)this._alphabetMap[fn.charAt(En)]=En}encode(fn){let En=arrayify(fn);if(En.length===0)return"";let Cn=[0];for(let An=0;An<En.length;++An){let ba=En[An];for(let xa=0;xa<Cn.length;++xa)ba+=Cn[xa]<<8,Cn[xa]=ba%this.base,ba=ba/this.base|0;for(;ba>0;)Cn.push(ba%this.base),ba=ba/this.base|0}let _i="";for(let An=0;En[An]===0&&An<En.length-1;++An)_i+=this._leader;for(let An=Cn.length-1;An>=0;--An)_i+=this.alphabet[Cn[An]];return _i}decode(fn){if(typeof fn!="string")throw new TypeError("Expected String");let En=[];if(fn.length===0)return new Uint8Array(En);En.push(0);for(let Cn=0;Cn<fn.length;Cn++){let _i=this._alphabetMap[fn[Cn]];if(_i===void 0)throw new Error("Non-base"+this.base+" character");let An=_i;for(let ba=0;ba<En.length;++ba)An+=En[ba]*this.base,En[ba]=An&255,An>>=8;for(;An>0;)En.push(An&255),An>>=8}for(let Cn=0;fn[Cn]===this._leader&&Cn<fn.length-1;++Cn)En.push(0);return arrayify(new Uint8Array(En.reverse()))}}const Base32=new BaseX("abcdefghijklmnopqrstuvwxyz234567"),Base58=new BaseX("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),lib_esm$9=Object.freeze(Object.defineProperty({__proto__:null,Base32,Base58,BaseX},Symbol.toStringTag,{value:"Module"}));var SupportedAlgorithm;(function(vn){vn.sha256="sha256",vn.sha512="sha512"})(SupportedAlgorithm||(SupportedAlgorithm={}));const version$g="sha2/5.7.0",logger$q=new Logger(version$g);function ripemd160$1(vn){return"0x"+hash$5.ripemd160().update(arrayify(vn)).digest("hex")}function sha256$6(vn){return"0x"+hash$5.sha256().update(arrayify(vn)).digest("hex")}function sha512$4(vn){return"0x"+hash$5.sha512().update(arrayify(vn)).digest("hex")}function computeHmac(vn,fn,En){return SupportedAlgorithm[vn]||logger$q.throwError("unsupported algorithm "+vn,Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:vn}),"0x"+hash$5.hmac(hash$5[vn],arrayify(fn)).update(arrayify(En)).digest("hex")}const lib_esm$8=Object.freeze(Object.defineProperty({__proto__:null,get SupportedAlgorithm(){return SupportedAlgorithm},computeHmac,ripemd160:ripemd160$1,sha256:sha256$6,sha512:sha512$4},Symbol.toStringTag,{value:"Module"}));function pbkdf2$1(vn,fn,En,Cn,_i){vn=arrayify(vn),fn=arrayify(fn);let An,ba=1;const xa=new Uint8Array(Cn),$a=new Uint8Array(fn.length+4);$a.set(fn);let rs,ts;for(let is=1;is<=ba;is++){$a[fn.length]=is>>24&255,$a[fn.length+1]=is>>16&255,$a[fn.length+2]=is>>8&255,$a[fn.length+3]=is&255;let cs=arrayify(computeHmac(_i,vn,$a));An||(An=cs.length,ts=new Uint8Array(An),ba=Math.ceil(Cn/An),rs=Cn-(ba-1)*An),ts.set(cs);for(let bs=1;bs<En;bs++){cs=arrayify(computeHmac(_i,vn,cs));for(let e0=0;e0<An;e0++)ts[e0]^=cs[e0]}const us=(is-1)*An,ps=is===ba?rs:An;xa.set(arrayify(ts).slice(0,ps),us)}return hexlify(xa)}const version$f="wordlists/5.7.0",logger$p=new Logger(version$f);class Wordlist{constructor(fn){logger$p.checkAbstract(new.target,Wordlist),defineReadOnly(this,"locale",fn)}split(fn){return fn.toLowerCase().split(/ +/g)}join(fn){return fn.join(" ")}static check(fn){const En=[];for(let Cn=0;Cn<2048;Cn++){const _i=fn.getWord(Cn);if(Cn!==fn.getWordIndex(_i))return"0x";En.push(_i)}return id(En.join(`
`)+`
`)}static register(fn,En){En||(En=fn.locale)}}const words="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let wordlist=null;function loadWords(vn){if(wordlist==null&&(wordlist=words.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Wordlist.check(vn)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw wordlist=null,new Error("BIP39 Wordlist for en (English) FAILED")}class LangEn extends Wordlist{constructor(){super("en")}getWord(fn){return loadWords(this),wordlist[fn]}getWordIndex(fn){return loadWords(this),wordlist.indexOf(fn)}}const langEn=new LangEn;Wordlist.register(langEn);const wordlists={en:langEn},version$e="hdnode/5.7.0",logger$o=new Logger(version$e),N$2=BigNumber.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),MasterSecret=toUtf8Bytes("Bitcoin seed"),HardenedBit=2147483648;function getUpperMask(vn){return(1<<vn)-1<<8-vn}function getLowerMask(vn){return(1<<vn)-1}function bytes32(vn){return hexZeroPad(hexlify(vn),32)}function base58check(vn){return Base58.encode(concat$3([vn,hexDataSlice(sha256$6(sha256$6(vn)),0,4)]))}function getWordlist(vn){if(vn==null)return wordlists.en;if(typeof vn=="string"){const fn=wordlists[vn];return fn==null&&logger$o.throwArgumentError("unknown locale","wordlist",vn),fn}return vn}const _constructorGuard$1={},defaultPath="m/44'/60'/0'/0/0";class HDNode{constructor(fn,En,Cn,_i,An,ba,xa,$a){if(fn!==_constructorGuard$1)throw new Error("HDNode constructor cannot be called directly");if(En){const rs=new SigningKey(En);defineReadOnly(this,"privateKey",rs.privateKey),defineReadOnly(this,"publicKey",rs.compressedPublicKey)}else defineReadOnly(this,"privateKey",null),defineReadOnly(this,"publicKey",hexlify(Cn));defineReadOnly(this,"parentFingerprint",_i),defineReadOnly(this,"fingerprint",hexDataSlice(ripemd160$1(sha256$6(this.publicKey)),0,4)),defineReadOnly(this,"address",computeAddress(this.publicKey)),defineReadOnly(this,"chainCode",An),defineReadOnly(this,"index",ba),defineReadOnly(this,"depth",xa),$a==null?(defineReadOnly(this,"mnemonic",null),defineReadOnly(this,"path",null)):typeof $a=="string"?(defineReadOnly(this,"mnemonic",null),defineReadOnly(this,"path",$a)):(defineReadOnly(this,"mnemonic",$a),defineReadOnly(this,"path",$a.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return base58check(concat$3([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",hexlify(this.depth),this.parentFingerprint,hexZeroPad(hexlify(this.index),4),this.chainCode,this.privateKey!=null?concat$3(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new HDNode(_constructorGuard$1,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(fn){if(fn>4294967295)throw new Error("invalid index - "+String(fn));let En=this.path;En&&(En+="/"+(fn&~HardenedBit));const Cn=new Uint8Array(37);if(fn&HardenedBit){if(!this.privateKey)throw new Error("cannot derive child of neutered node");Cn.set(arrayify(this.privateKey),1),En&&(En+="'")}else Cn.set(arrayify(this.publicKey));for(let is=24;is>=0;is-=8)Cn[33+(is>>3)]=fn>>24-is&255;const _i=arrayify(computeHmac(SupportedAlgorithm.sha512,this.chainCode,Cn)),An=_i.slice(0,32),ba=_i.slice(32);let xa=null,$a=null;this.privateKey?xa=bytes32(BigNumber.from(An).add(this.privateKey).mod(N$2)):$a=new SigningKey(hexlify(An))._addPoint(this.publicKey);let rs=En;const ts=this.mnemonic;return ts&&(rs=Object.freeze({phrase:ts.phrase,path:En,locale:ts.locale||"en"})),new HDNode(_constructorGuard$1,xa,$a,this.fingerprint,bytes32(ba),fn,this.depth+1,rs)}derivePath(fn){const En=fn.split("/");if(En.length===0||En[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+fn);En[0]==="m"&&En.shift();let Cn=this;for(let _i=0;_i<En.length;_i++){const An=En[_i];if(An.match(/^[0-9]+'$/)){const ba=parseInt(An.substring(0,An.length-1));if(ba>=HardenedBit)throw new Error("invalid path index - "+An);Cn=Cn._derive(HardenedBit+ba)}else if(An.match(/^[0-9]+$/)){const ba=parseInt(An);if(ba>=HardenedBit)throw new Error("invalid path index - "+An);Cn=Cn._derive(ba)}else throw new Error("invalid path component - "+An)}return Cn}static _fromSeed(fn,En){const Cn=arrayify(fn);if(Cn.length<16||Cn.length>64)throw new Error("invalid seed");const _i=arrayify(computeHmac(SupportedAlgorithm.sha512,MasterSecret,Cn));return new HDNode(_constructorGuard$1,bytes32(_i.slice(0,32)),null,"0x00000000",bytes32(_i.slice(32)),0,0,En)}static fromMnemonic(fn,En,Cn){return Cn=getWordlist(Cn),fn=entropyToMnemonic(mnemonicToEntropy(fn,Cn),Cn),HDNode._fromSeed(mnemonicToSeed(fn,En),{phrase:fn,path:"m",locale:Cn.locale})}static fromSeed(fn){return HDNode._fromSeed(fn,null)}static fromExtendedKey(fn){const En=Base58.decode(fn);(En.length!==82||base58check(En.slice(0,78))!==fn)&&logger$o.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const Cn=En[4],_i=hexlify(En.slice(5,9)),An=parseInt(hexlify(En.slice(9,13)).substring(2),16),ba=hexlify(En.slice(13,45)),xa=En.slice(45,78);switch(hexlify(En.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new HDNode(_constructorGuard$1,null,hexlify(xa),_i,ba,An,Cn,null);case"0x0488ade4":case"0x04358394 ":if(xa[0]!==0)break;return new HDNode(_constructorGuard$1,hexlify(xa.slice(1)),null,_i,ba,An,Cn,null)}return logger$o.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function mnemonicToSeed(vn,fn){fn||(fn="");const En=toUtf8Bytes("mnemonic"+fn,UnicodeNormalizationForm.NFKD);return pbkdf2$1(toUtf8Bytes(vn,UnicodeNormalizationForm.NFKD),En,2048,64,"sha512")}function mnemonicToEntropy(vn,fn){fn=getWordlist(fn),logger$o.checkNormalize();const En=fn.split(vn);if(En.length%3!==0)throw new Error("invalid mnemonic");const Cn=arrayify(new Uint8Array(Math.ceil(11*En.length/8)));let _i=0;for(let rs=0;rs<En.length;rs++){let ts=fn.getWordIndex(En[rs].normalize("NFKD"));if(ts===-1)throw new Error("invalid mnemonic");for(let is=0;is<11;is++)ts&1<<10-is&&(Cn[_i>>3]|=1<<7-_i%8),_i++}const An=32*En.length/3,ba=En.length/3,xa=getUpperMask(ba);if((arrayify(sha256$6(Cn.slice(0,An/8)))[0]&xa)!==(Cn[Cn.length-1]&xa))throw new Error("invalid checksum");return hexlify(Cn.slice(0,An/8))}function entropyToMnemonic(vn,fn){if(fn=getWordlist(fn),vn=arrayify(vn),vn.length%4!==0||vn.length<16||vn.length>32)throw new Error("invalid entropy");const En=[0];let Cn=11;for(let ba=0;ba<vn.length;ba++)Cn>8?(En[En.length-1]<<=8,En[En.length-1]|=vn[ba],Cn-=8):(En[En.length-1]<<=Cn,En[En.length-1]|=vn[ba]>>8-Cn,En.push(vn[ba]&getLowerMask(8-Cn)),Cn+=3);const _i=vn.length/4,An=arrayify(sha256$6(vn))[0]&getUpperMask(_i);return En[En.length-1]<<=_i,En[En.length-1]|=An>>8-_i,fn.join(En.map(ba=>fn.getWord(ba)))}function isValidMnemonic(vn,fn){try{return mnemonicToEntropy(vn,fn),!0}catch{}return!1}function getAccountPath(vn){return(typeof vn!="number"||vn<0||vn>=HardenedBit||vn%1)&&logger$o.throwArgumentError("invalid account index","index",vn),`m/44'/60'/${vn}'/0/0`}const lib_esm$7=Object.freeze(Object.defineProperty({__proto__:null,HDNode,defaultPath,entropyToMnemonic,getAccountPath,isValidMnemonic,mnemonicToEntropy,mnemonicToSeed},Symbol.toStringTag,{value:"Module"})),version$d="random/5.7.0",logger$n=new Logger(version$d);function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global$1<"u")return global$1;throw new Error("unable to locate global object")}const anyGlobal=getGlobal();let crypto$2=anyGlobal.crypto||anyGlobal.msCrypto;(!crypto$2||!crypto$2.getRandomValues)&&(logger$n.warn("WARNING: Missing strong random number source"),crypto$2={getRandomValues:function(vn){return logger$n.throwError("no secure random source avaialble",Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function randomBytes(vn){(vn<=0||vn>1024||vn%1||vn!=vn)&&logger$n.throwArgumentError("invalid length","length",vn);const fn=new Uint8Array(vn);return crypto$2.getRandomValues(fn),arrayify(fn)}function shuffled(vn){vn=vn.slice();for(let fn=vn.length-1;fn>0;fn--){const En=Math.floor(Math.random()*(fn+1)),Cn=vn[fn];vn[fn]=vn[En],vn[En]=Cn}return vn}const lib_esm$6=Object.freeze(Object.defineProperty({__proto__:null,randomBytes,shuffled},Symbol.toStringTag,{value:"Module"}));var aesJs={exports:{}};(function(vn,fn){(function(En){function Cn(as){return parseInt(as)===as}function _i(as){if(!Cn(as.length))return!1;for(var r0=0;r0<as.length;r0++)if(!Cn(as[r0])||as[r0]<0||as[r0]>255)return!1;return!0}function An(as,r0){if(as.buffer&&ArrayBuffer.isView(as)&&as.name==="Uint8Array")return r0&&(as.slice?as=as.slice():as=Array.prototype.slice.call(as)),as;if(Array.isArray(as)){if(!_i(as))throw new Error("Array contains invalid value: "+as);return new Uint8Array(as)}if(Cn(as.length)&&_i(as))return new Uint8Array(as);throw new Error("unsupported array-like object")}function ba(as){return new Uint8Array(as)}function xa(as,r0,a0,l0,s0){(l0!=null||s0!=null)&&(as.slice?as=as.slice(l0,s0):as=Array.prototype.slice.call(as,l0,s0)),r0.set(as,a0)}var $a=function(){function as(a0){var l0=[],s0=0;for(a0=encodeURI(a0);s0<a0.length;){var b0=a0.charCodeAt(s0++);b0===37?(l0.push(parseInt(a0.substr(s0,2),16)),s0+=2):l0.push(b0)}return An(l0)}function r0(a0){for(var l0=[],s0=0;s0<a0.length;){var b0=a0[s0];b0<128?(l0.push(String.fromCharCode(b0)),s0++):b0>191&&b0<224?(l0.push(String.fromCharCode((b0&31)<<6|a0[s0+1]&63)),s0+=2):(l0.push(String.fromCharCode((b0&15)<<12|(a0[s0+1]&63)<<6|a0[s0+2]&63)),s0+=3)}return l0.join("")}return{toBytes:as,fromBytes:r0}}(),rs=function(){function as(l0){for(var s0=[],b0=0;b0<l0.length;b0+=2)s0.push(parseInt(l0.substr(b0,2),16));return s0}var r0="0123456789abcdef";function a0(l0){for(var s0=[],b0=0;b0<l0.length;b0++){var f0=l0[b0];s0.push(r0[(f0&240)>>4]+r0[f0&15])}return s0.join("")}return{toBytes:as,fromBytes:a0}}(),ts={16:10,24:12,32:14},is=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],cs=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],us=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],ps=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],bs=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],e0=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],gs=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],Ds=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],i0=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],n0=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],c0=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],d0=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],o0=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],g0=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],w0=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function M0(as){for(var r0=[],a0=0;a0<as.length;a0+=4)r0.push(as[a0]<<24|as[a0+1]<<16|as[a0+2]<<8|as[a0+3]);return r0}var ds=function(as){if(!(this instanceof ds))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:An(as,!0)}),this._prepare()};ds.prototype._prepare=function(){var as=ts[this.key.length];if(as==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var r0=0;r0<=as;r0++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var a0=(as+1)*4,l0=this.key.length/4,s0=M0(this.key),b0,r0=0;r0<l0;r0++)b0=r0>>2,this._Ke[b0][r0%4]=s0[r0],this._Kd[as-b0][r0%4]=s0[r0];for(var f0=0,m0=l0,y0;m0<a0;){if(y0=s0[l0-1],s0[0]^=cs[y0>>16&255]<<24^cs[y0>>8&255]<<16^cs[y0&255]<<8^cs[y0>>24&255]^is[f0]<<24,f0+=1,l0!=8)for(var r0=1;r0<l0;r0++)s0[r0]^=s0[r0-1];else{for(var r0=1;r0<l0/2;r0++)s0[r0]^=s0[r0-1];y0=s0[l0/2-1],s0[l0/2]^=cs[y0&255]^cs[y0>>8&255]<<8^cs[y0>>16&255]<<16^cs[y0>>24&255]<<24;for(var r0=l0/2+1;r0<l0;r0++)s0[r0]^=s0[r0-1]}for(var r0=0,t0,h0;r0<l0&&m0<a0;)t0=m0>>2,h0=m0%4,this._Ke[t0][h0]=s0[r0],this._Kd[as-t0][h0]=s0[r0++],m0++}for(var t0=1;t0<as;t0++)for(var h0=0;h0<4;h0++)y0=this._Kd[t0][h0],this._Kd[t0][h0]=d0[y0>>24&255]^o0[y0>>16&255]^g0[y0>>8&255]^w0[y0&255]},ds.prototype.encrypt=function(as){if(as.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var r0=this._Ke.length-1,a0=[0,0,0,0],l0=M0(as),s0=0;s0<4;s0++)l0[s0]^=this._Ke[0][s0];for(var b0=1;b0<r0;b0++){for(var s0=0;s0<4;s0++)a0[s0]=ps[l0[s0]>>24&255]^bs[l0[(s0+1)%4]>>16&255]^e0[l0[(s0+2)%4]>>8&255]^gs[l0[(s0+3)%4]&255]^this._Ke[b0][s0];l0=a0.slice()}for(var f0=ba(16),m0,s0=0;s0<4;s0++)m0=this._Ke[r0][s0],f0[4*s0]=(cs[l0[s0]>>24&255]^m0>>24)&255,f0[4*s0+1]=(cs[l0[(s0+1)%4]>>16&255]^m0>>16)&255,f0[4*s0+2]=(cs[l0[(s0+2)%4]>>8&255]^m0>>8)&255,f0[4*s0+3]=(cs[l0[(s0+3)%4]&255]^m0)&255;return f0},ds.prototype.decrypt=function(as){if(as.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var r0=this._Kd.length-1,a0=[0,0,0,0],l0=M0(as),s0=0;s0<4;s0++)l0[s0]^=this._Kd[0][s0];for(var b0=1;b0<r0;b0++){for(var s0=0;s0<4;s0++)a0[s0]=Ds[l0[s0]>>24&255]^i0[l0[(s0+3)%4]>>16&255]^n0[l0[(s0+2)%4]>>8&255]^c0[l0[(s0+1)%4]&255]^this._Kd[b0][s0];l0=a0.slice()}for(var f0=ba(16),m0,s0=0;s0<4;s0++)m0=this._Kd[r0][s0],f0[4*s0]=(us[l0[s0]>>24&255]^m0>>24)&255,f0[4*s0+1]=(us[l0[(s0+3)%4]>>16&255]^m0>>16)&255,f0[4*s0+2]=(us[l0[(s0+2)%4]>>8&255]^m0>>8)&255,f0[4*s0+3]=(us[l0[(s0+1)%4]&255]^m0)&255;return f0};var na=function(as){if(!(this instanceof na))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new ds(as)};na.prototype.encrypt=function(as){if(as=An(as),as.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var r0=ba(as.length),a0=ba(16),l0=0;l0<as.length;l0+=16)xa(as,a0,0,l0,l0+16),a0=this._aes.encrypt(a0),xa(a0,r0,l0);return r0},na.prototype.decrypt=function(as){if(as=An(as),as.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var r0=ba(as.length),a0=ba(16),l0=0;l0<as.length;l0+=16)xa(as,a0,0,l0,l0+16),a0=this._aes.decrypt(a0),xa(a0,r0,l0);return r0};var _a=function(as,r0){if(!(this instanceof _a))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!r0)r0=ba(16);else if(r0.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=An(r0,!0),this._aes=new ds(as)};_a.prototype.encrypt=function(as){if(as=An(as),as.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var r0=ba(as.length),a0=ba(16),l0=0;l0<as.length;l0+=16){xa(as,a0,0,l0,l0+16);for(var s0=0;s0<16;s0++)a0[s0]^=this._lastCipherblock[s0];this._lastCipherblock=this._aes.encrypt(a0),xa(this._lastCipherblock,r0,l0)}return r0},_a.prototype.decrypt=function(as){if(as=An(as),as.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var r0=ba(as.length),a0=ba(16),l0=0;l0<as.length;l0+=16){xa(as,a0,0,l0,l0+16),a0=this._aes.decrypt(a0);for(var s0=0;s0<16;s0++)r0[l0+s0]=a0[s0]^this._lastCipherblock[s0];xa(as,this._lastCipherblock,0,l0,l0+16)}return r0};var es=function(as,r0,a0){if(!(this instanceof es))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!r0)r0=ba(16);else if(r0.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");a0||(a0=1),this.segmentSize=a0,this._shiftRegister=An(r0,!0),this._aes=new ds(as)};es.prototype.encrypt=function(as){if(as.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var r0=An(as,!0),a0,l0=0;l0<r0.length;l0+=this.segmentSize){a0=this._aes.encrypt(this._shiftRegister);for(var s0=0;s0<this.segmentSize;s0++)r0[l0+s0]^=a0[s0];xa(this._shiftRegister,this._shiftRegister,0,this.segmentSize),xa(r0,this._shiftRegister,16-this.segmentSize,l0,l0+this.segmentSize)}return r0},es.prototype.decrypt=function(as){if(as.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var r0=An(as,!0),a0,l0=0;l0<r0.length;l0+=this.segmentSize){a0=this._aes.encrypt(this._shiftRegister);for(var s0=0;s0<this.segmentSize;s0++)r0[l0+s0]^=a0[s0];xa(this._shiftRegister,this._shiftRegister,0,this.segmentSize),xa(as,this._shiftRegister,16-this.segmentSize,l0,l0+this.segmentSize)}return r0};var ns=function(as,r0){if(!(this instanceof ns))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!r0)r0=ba(16);else if(r0.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=An(r0,!0),this._lastPrecipherIndex=16,this._aes=new ds(as)};ns.prototype.encrypt=function(as){for(var r0=An(as,!0),a0=0;a0<r0.length;a0++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),r0[a0]^=this._lastPrecipher[this._lastPrecipherIndex++];return r0},ns.prototype.decrypt=ns.prototype.encrypt;var os=function(as){if(!(this instanceof os))throw Error("Counter must be instanitated with `new`");as!==0&&!as&&(as=1),typeof as=="number"?(this._counter=ba(16),this.setValue(as)):this.setBytes(as)};os.prototype.setValue=function(as){if(typeof as!="number"||parseInt(as)!=as)throw new Error("invalid counter value (must be an integer)");for(var r0=15;r0>=0;--r0)this._counter[r0]=as%256,as=as>>8},os.prototype.setBytes=function(as){if(as=An(as,!0),as.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=as},os.prototype.increment=function(){for(var as=15;as>=0;as--)if(this._counter[as]===255)this._counter[as]=0;else{this._counter[as]++;break}};var ls=function(as,r0){if(!(this instanceof ls))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",r0 instanceof os||(r0=new os(r0)),this._counter=r0,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new ds(as)};ls.prototype.encrypt=function(as){for(var r0=An(as,!0),a0=0;a0<r0.length;a0++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),r0[a0]^=this._remainingCounter[this._remainingCounterIndex++];return r0},ls.prototype.decrypt=ls.prototype.encrypt;function hs(as){as=An(as,!0);var r0=16-as.length%16,a0=ba(as.length+r0);xa(as,a0);for(var l0=as.length;l0<a0.length;l0++)a0[l0]=r0;return a0}function ss(as){if(as=An(as,!0),as.length<16)throw new Error("PKCS#7 invalid length");var r0=as[as.length-1];if(r0>16)throw new Error("PKCS#7 padding byte out of range");for(var a0=as.length-r0,l0=0;l0<r0;l0++)if(as[a0+l0]!==r0)throw new Error("PKCS#7 invalid padding byte");var s0=ba(a0);return xa(as,s0,0,0,a0),s0}var ga={AES:ds,Counter:os,ModeOfOperation:{ecb:na,cbc:_a,cfb:es,ofb:ns,ctr:ls},utils:{hex:rs,utf8:$a},padding:{pkcs7:{pad:hs,strip:ss}},_arrayTest:{coerceArray:An,createArray:ba,copyArray:xa}};vn.exports=ga})()})(aesJs);var aesJsExports=aesJs.exports;const aes$1=getDefaultExportFromCjs$1(aesJsExports),version$c="json-wallets/5.7.0";function looseArrayify(vn){return typeof vn=="string"&&vn.substring(0,2)!=="0x"&&(vn="0x"+vn),arrayify(vn)}function zpad(vn,fn){for(vn=String(vn);vn.length<fn;)vn="0"+vn;return vn}function getPassword(vn){return typeof vn=="string"?toUtf8Bytes(vn,UnicodeNormalizationForm.NFKC):arrayify(vn)}function searchPath(vn,fn){let En=vn;const Cn=fn.toLowerCase().split("/");for(let _i=0;_i<Cn.length;_i++){let An=null;for(const ba in En)if(ba.toLowerCase()===Cn[_i]){An=En[ba];break}if(An===null)return null;En=An}return En}function uuidV4(vn){const fn=arrayify(vn);fn[6]=fn[6]&15|64,fn[8]=fn[8]&63|128;const En=hexlify(fn);return[En.substring(2,10),En.substring(10,14),En.substring(14,18),En.substring(18,22),En.substring(22,34)].join("-")}const logger$m=new Logger(version$c);class CrowdsaleAccount extends Description{isCrowdsaleAccount(fn){return!!(fn&&fn._isCrowdsaleAccount)}}function decrypt$1(vn,fn){const En=JSON.parse(vn);fn=getPassword(fn);const Cn=getAddress(searchPath(En,"ethaddr")),_i=looseArrayify(searchPath(En,"encseed"));(!_i||_i.length%16!==0)&&logger$m.throwArgumentError("invalid encseed","json",vn);const An=arrayify(pbkdf2$1(fn,fn,2e3,32,"sha256")).slice(0,16),ba=_i.slice(0,16),xa=_i.slice(16),$a=new aes$1.ModeOfOperation.cbc(An,ba),rs=aes$1.padding.pkcs7.strip(arrayify($a.decrypt(xa)));let ts="";for(let us=0;us<rs.length;us++)ts+=String.fromCharCode(rs[us]);const is=toUtf8Bytes(ts),cs=keccak256$1(is);return new CrowdsaleAccount({_isCrowdsaleAccount:!0,address:Cn,privateKey:cs})}function isCrowdsaleWallet(vn){let fn=null;try{fn=JSON.parse(vn)}catch{return!1}return fn.encseed&&fn.ethaddr}function isKeystoreWallet(vn){let fn=null;try{fn=JSON.parse(vn)}catch{return!1}return!(!fn.version||parseInt(fn.version)!==fn.version||parseInt(fn.version)!==3)}function getJsonWalletAddress(vn){if(isCrowdsaleWallet(vn))try{return getAddress(JSON.parse(vn).ethaddr)}catch{return null}if(isKeystoreWallet(vn))try{return getAddress(JSON.parse(vn).address)}catch{return null}return null}var scrypt$1={exports:{}};(function(vn,fn){(function(En){function _i(bs){const e0=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let gs=1779033703,Ds=3144134277,i0=1013904242,n0=2773480762,c0=1359893119,d0=2600822924,o0=528734635,g0=1541459225;const w0=new Uint32Array(64);function M0(ls){let hs=0,ss=ls.length;for(;ss>=64;){let ga=gs,as=Ds,r0=i0,a0=n0,l0=c0,s0=d0,b0=o0,f0=g0,m0,y0,t0,h0,p0;for(y0=0;y0<16;y0++)t0=hs+y0*4,w0[y0]=(ls[t0]&255)<<24|(ls[t0+1]&255)<<16|(ls[t0+2]&255)<<8|ls[t0+3]&255;for(y0=16;y0<64;y0++)m0=w0[y0-2],h0=(m0>>>17|m0<<15)^(m0>>>19|m0<<13)^m0>>>10,m0=w0[y0-15],p0=(m0>>>7|m0<<25)^(m0>>>18|m0<<14)^m0>>>3,w0[y0]=(h0+w0[y0-7]|0)+(p0+w0[y0-16]|0)|0;for(y0=0;y0<64;y0++)h0=(((l0>>>6|l0<<26)^(l0>>>11|l0<<21)^(l0>>>25|l0<<7))+(l0&s0^~l0&b0)|0)+(f0+(e0[y0]+w0[y0]|0)|0)|0,p0=((ga>>>2|ga<<30)^(ga>>>13|ga<<19)^(ga>>>22|ga<<10))+(ga&as^ga&r0^as&r0)|0,f0=b0,b0=s0,s0=l0,l0=a0+h0|0,a0=r0,r0=as,as=ga,ga=h0+p0|0;gs=gs+ga|0,Ds=Ds+as|0,i0=i0+r0|0,n0=n0+a0|0,c0=c0+l0|0,d0=d0+s0|0,o0=o0+b0|0,g0=g0+f0|0,hs+=64,ss-=64}}M0(bs);let ds,na=bs.length%64,_a=bs.length/536870912|0,es=bs.length<<3,ns=na<56?56:120,os=bs.slice(bs.length-na,bs.length);for(os.push(128),ds=na+1;ds<ns;ds++)os.push(0);return os.push(_a>>>24&255),os.push(_a>>>16&255),os.push(_a>>>8&255),os.push(_a>>>0&255),os.push(es>>>24&255),os.push(es>>>16&255),os.push(es>>>8&255),os.push(es>>>0&255),M0(os),[gs>>>24&255,gs>>>16&255,gs>>>8&255,gs>>>0&255,Ds>>>24&255,Ds>>>16&255,Ds>>>8&255,Ds>>>0&255,i0>>>24&255,i0>>>16&255,i0>>>8&255,i0>>>0&255,n0>>>24&255,n0>>>16&255,n0>>>8&255,n0>>>0&255,c0>>>24&255,c0>>>16&255,c0>>>8&255,c0>>>0&255,d0>>>24&255,d0>>>16&255,d0>>>8&255,d0>>>0&255,o0>>>24&255,o0>>>16&255,o0>>>8&255,o0>>>0&255,g0>>>24&255,g0>>>16&255,g0>>>8&255,g0>>>0&255]}function An(bs,e0,gs){bs=bs.length<=64?bs:_i(bs);const Ds=64+e0.length+4,i0=new Array(Ds),n0=new Array(64);let c0,d0=[];for(c0=0;c0<64;c0++)i0[c0]=54;for(c0=0;c0<bs.length;c0++)i0[c0]^=bs[c0];for(c0=0;c0<e0.length;c0++)i0[64+c0]=e0[c0];for(c0=Ds-4;c0<Ds;c0++)i0[c0]=0;for(c0=0;c0<64;c0++)n0[c0]=92;for(c0=0;c0<bs.length;c0++)n0[c0]^=bs[c0];function o0(){for(let g0=Ds-1;g0>=Ds-4;g0--){if(i0[g0]++,i0[g0]<=255)return;i0[g0]=0}}for(;gs>=32;)o0(),d0=d0.concat(_i(n0.concat(_i(i0)))),gs-=32;return gs>0&&(o0(),d0=d0.concat(_i(n0.concat(_i(i0))).slice(0,gs))),d0}function ba(bs,e0,gs,Ds,i0){let n0;for(ts(bs,(2*gs-1)*16,i0,0,16),n0=0;n0<2*gs;n0++)rs(bs,n0*16,i0,16),$a(i0,Ds),ts(i0,0,bs,e0+n0*16,16);for(n0=0;n0<gs;n0++)ts(bs,e0+n0*2*16,bs,n0*16,16);for(n0=0;n0<gs;n0++)ts(bs,e0+(n0*2+1)*16,bs,(n0+gs)*16,16)}function xa(bs,e0){return bs<<e0|bs>>>32-e0}function $a(bs,e0){ts(bs,0,e0,0,16);for(let gs=8;gs>0;gs-=2)e0[4]^=xa(e0[0]+e0[12],7),e0[8]^=xa(e0[4]+e0[0],9),e0[12]^=xa(e0[8]+e0[4],13),e0[0]^=xa(e0[12]+e0[8],18),e0[9]^=xa(e0[5]+e0[1],7),e0[13]^=xa(e0[9]+e0[5],9),e0[1]^=xa(e0[13]+e0[9],13),e0[5]^=xa(e0[1]+e0[13],18),e0[14]^=xa(e0[10]+e0[6],7),e0[2]^=xa(e0[14]+e0[10],9),e0[6]^=xa(e0[2]+e0[14],13),e0[10]^=xa(e0[6]+e0[2],18),e0[3]^=xa(e0[15]+e0[11],7),e0[7]^=xa(e0[3]+e0[15],9),e0[11]^=xa(e0[7]+e0[3],13),e0[15]^=xa(e0[11]+e0[7],18),e0[1]^=xa(e0[0]+e0[3],7),e0[2]^=xa(e0[1]+e0[0],9),e0[3]^=xa(e0[2]+e0[1],13),e0[0]^=xa(e0[3]+e0[2],18),e0[6]^=xa(e0[5]+e0[4],7),e0[7]^=xa(e0[6]+e0[5],9),e0[4]^=xa(e0[7]+e0[6],13),e0[5]^=xa(e0[4]+e0[7],18),e0[11]^=xa(e0[10]+e0[9],7),e0[8]^=xa(e0[11]+e0[10],9),e0[9]^=xa(e0[8]+e0[11],13),e0[10]^=xa(e0[9]+e0[8],18),e0[12]^=xa(e0[15]+e0[14],7),e0[13]^=xa(e0[12]+e0[15],9),e0[14]^=xa(e0[13]+e0[12],13),e0[15]^=xa(e0[14]+e0[13],18);for(let gs=0;gs<16;++gs)bs[gs]+=e0[gs]}function rs(bs,e0,gs,Ds){for(let i0=0;i0<Ds;i0++)gs[i0]^=bs[e0+i0]}function ts(bs,e0,gs,Ds,i0){for(;i0--;)gs[Ds++]=bs[e0++]}function is(bs){if(!bs||typeof bs.length!="number")return!1;for(let e0=0;e0<bs.length;e0++){const gs=bs[e0];if(typeof gs!="number"||gs%1||gs<0||gs>=256)return!1}return!0}function cs(bs,e0){if(typeof bs!="number"||bs%1)throw new Error("invalid "+e0);return bs}function us(bs,e0,gs,Ds,i0,n0,c0){if(gs=cs(gs,"N"),Ds=cs(Ds,"r"),i0=cs(i0,"p"),n0=cs(n0,"dkLen"),gs===0||gs&gs-1)throw new Error("N must be power of 2");if(gs>2147483647/128/Ds)throw new Error("N too large");if(Ds>2147483647/128/i0)throw new Error("r too large");if(!is(bs))throw new Error("password must be an array or buffer");if(bs=Array.prototype.slice.call(bs),!is(e0))throw new Error("salt must be an array or buffer");e0=Array.prototype.slice.call(e0);let d0=An(bs,e0,i0*128*Ds);const o0=new Uint32Array(i0*32*Ds);for(let l0=0;l0<o0.length;l0++){const s0=l0*4;o0[l0]=(d0[s0+3]&255)<<24|(d0[s0+2]&255)<<16|(d0[s0+1]&255)<<8|(d0[s0+0]&255)<<0}const g0=new Uint32Array(64*Ds),w0=new Uint32Array(32*Ds*gs),M0=32*Ds,ds=new Uint32Array(16),na=new Uint32Array(16),_a=i0*gs*2;let es=0,ns=null,os=!1,ls=0,hs=0,ss,ga;const as=c0?parseInt(1e3/Ds):4294967295,r0=typeof setImmediate<"u"?setImmediate:setTimeout,a0=function(){if(os)return c0(new Error("cancelled"),es/_a);let l0;switch(ls){case 0:ga=hs*32*Ds,ts(o0,ga,g0,0,M0),ls=1,ss=0;case 1:l0=gs-ss,l0>as&&(l0=as);for(let b0=0;b0<l0;b0++)ts(g0,0,w0,(ss+b0)*M0,M0),ba(g0,M0,Ds,ds,na);if(ss+=l0,es+=l0,c0){const b0=parseInt(1e3*es/_a);if(b0!==ns){if(os=c0(null,es/_a),os)break;ns=b0}}if(ss<gs)break;ss=0,ls=2;case 2:l0=gs-ss,l0>as&&(l0=as);for(let b0=0;b0<l0;b0++){const f0=(2*Ds-1)*16,m0=g0[f0]&gs-1;rs(w0,m0*M0,g0,M0),ba(g0,M0,Ds,ds,na)}if(ss+=l0,es+=l0,c0){const b0=parseInt(1e3*es/_a);if(b0!==ns){if(os=c0(null,es/_a),os)break;ns=b0}}if(ss<gs)break;if(ts(g0,0,o0,ga,M0),hs++,hs<i0){ls=0;break}d0=[];for(let b0=0;b0<o0.length;b0++)d0.push(o0[b0]>>0&255),d0.push(o0[b0]>>8&255),d0.push(o0[b0]>>16&255),d0.push(o0[b0]>>24&255);const s0=An(bs,d0,n0);return c0&&c0(null,1,s0),s0}c0&&r0(a0)};if(!c0)for(;;){const l0=a0();if(l0!=null)return l0}a0()}const ps={scrypt:function(bs,e0,gs,Ds,i0,n0,c0){return new Promise(function(d0,o0){let g0=0;c0&&c0(0),us(bs,e0,gs,Ds,i0,n0,function(w0,M0,ds){if(w0)o0(w0);else if(ds)c0&&g0!==1&&c0(1),d0(new Uint8Array(ds));else if(c0&&M0!==g0)return g0=M0,c0(M0)})})},syncScrypt:function(bs,e0,gs,Ds,i0,n0){return new Uint8Array(us(bs,e0,gs,Ds,i0,n0))}};vn.exports=ps})()})(scrypt$1);var scryptExports=scrypt$1.exports;const scrypt=getDefaultExportFromCjs$1(scryptExports);var __awaiter$b=function(vn,fn,En,Cn){function _i(An){return An instanceof En?An:new En(function(ba){ba(An)})}return new(En||(En=Promise))(function(An,ba){function xa(ts){try{rs(Cn.next(ts))}catch(is){ba(is)}}function $a(ts){try{rs(Cn.throw(ts))}catch(is){ba(is)}}function rs(ts){ts.done?An(ts.value):_i(ts.value).then(xa,$a)}rs((Cn=Cn.apply(vn,fn||[])).next())})};const logger$l=new Logger(version$c);function hasMnemonic$1(vn){return vn!=null&&vn.mnemonic&&vn.mnemonic.phrase}class KeystoreAccount extends Description{isKeystoreAccount(fn){return!!(fn&&fn._isKeystoreAccount)}}function _decrypt(vn,fn,En){if(searchPath(vn,"crypto/cipher")==="aes-128-ctr"){const _i=looseArrayify(searchPath(vn,"crypto/cipherparams/iv")),An=new aes$1.Counter(_i),ba=new aes$1.ModeOfOperation.ctr(fn,An);return arrayify(ba.decrypt(En))}return null}function _getAccount(vn,fn){const En=looseArrayify(searchPath(vn,"crypto/ciphertext"));if(hexlify(keccak256$1(concat$3([fn.slice(16,32),En]))).substring(2)!==searchPath(vn,"crypto/mac").toLowerCase())throw new Error("invalid password");const _i=_decrypt(vn,fn.slice(0,16),En);_i||logger$l.throwError("unsupported cipher",Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const An=fn.slice(32,64),ba=computeAddress(_i);if(vn.address){let $a=vn.address.toLowerCase();if($a.substring(0,2)!=="0x"&&($a="0x"+$a),getAddress($a)!==ba)throw new Error("address mismatch")}const xa={_isKeystoreAccount:!0,address:ba,privateKey:hexlify(_i)};if(searchPath(vn,"x-ethers/version")==="0.1"){const $a=looseArrayify(searchPath(vn,"x-ethers/mnemonicCiphertext")),rs=looseArrayify(searchPath(vn,"x-ethers/mnemonicCounter")),ts=new aes$1.Counter(rs),is=new aes$1.ModeOfOperation.ctr(An,ts),cs=searchPath(vn,"x-ethers/path")||defaultPath,us=searchPath(vn,"x-ethers/locale")||"en",ps=arrayify(is.decrypt($a));try{const bs=entropyToMnemonic(ps,us),e0=HDNode.fromMnemonic(bs,null,us).derivePath(cs);if(e0.privateKey!=xa.privateKey)throw new Error("mnemonic mismatch");xa.mnemonic=e0.mnemonic}catch(bs){if(bs.code!==Logger.errors.INVALID_ARGUMENT||bs.argument!=="wordlist")throw bs}}return new KeystoreAccount(xa)}function pbkdf2Sync(vn,fn,En,Cn,_i){return arrayify(pbkdf2$1(vn,fn,En,Cn,_i))}function pbkdf2(vn,fn,En,Cn,_i){return Promise.resolve(pbkdf2Sync(vn,fn,En,Cn,_i))}function _computeKdfKey(vn,fn,En,Cn,_i){const An=getPassword(fn),ba=searchPath(vn,"crypto/kdf");if(ba&&typeof ba=="string"){const xa=function($a,rs){return logger$l.throwArgumentError("invalid key-derivation function parameters",$a,rs)};if(ba.toLowerCase()==="scrypt"){const $a=looseArrayify(searchPath(vn,"crypto/kdfparams/salt")),rs=parseInt(searchPath(vn,"crypto/kdfparams/n")),ts=parseInt(searchPath(vn,"crypto/kdfparams/r")),is=parseInt(searchPath(vn,"crypto/kdfparams/p"));(!rs||!ts||!is)&&xa("kdf",ba),rs&rs-1&&xa("N",rs);const cs=parseInt(searchPath(vn,"crypto/kdfparams/dklen"));return cs!==32&&xa("dklen",cs),Cn(An,$a,rs,ts,is,64,_i)}else if(ba.toLowerCase()==="pbkdf2"){const $a=looseArrayify(searchPath(vn,"crypto/kdfparams/salt"));let rs=null;const ts=searchPath(vn,"crypto/kdfparams/prf");ts==="hmac-sha256"?rs="sha256":ts==="hmac-sha512"?rs="sha512":xa("prf",ts);const is=parseInt(searchPath(vn,"crypto/kdfparams/c")),cs=parseInt(searchPath(vn,"crypto/kdfparams/dklen"));return cs!==32&&xa("dklen",cs),En(An,$a,is,cs,rs)}}return logger$l.throwArgumentError("unsupported key-derivation function","kdf",ba)}function decryptSync(vn,fn){const En=JSON.parse(vn),Cn=_computeKdfKey(En,fn,pbkdf2Sync,scrypt.syncScrypt);return _getAccount(En,Cn)}function decrypt(vn,fn,En){return __awaiter$b(this,void 0,void 0,function*(){const Cn=JSON.parse(vn),_i=yield _computeKdfKey(Cn,fn,pbkdf2,scrypt.scrypt,En);return _getAccount(Cn,_i)})}function encrypt(vn,fn,En,Cn){try{if(getAddress(vn.address)!==computeAddress(vn.privateKey))throw new Error("address/privateKey mismatch");if(hasMnemonic$1(vn)){const e0=vn.mnemonic;if(HDNode.fromMnemonic(e0.phrase,null,e0.locale).derivePath(e0.path||defaultPath).privateKey!=vn.privateKey)throw new Error("mnemonic mismatch")}}catch(e0){return Promise.reject(e0)}typeof En=="function"&&!Cn&&(Cn=En,En={}),En||(En={});const _i=arrayify(vn.privateKey),An=getPassword(fn);let ba=null,xa=null,$a=null;if(hasMnemonic$1(vn)){const e0=vn.mnemonic;ba=arrayify(mnemonicToEntropy(e0.phrase,e0.locale||"en")),xa=e0.path||defaultPath,$a=e0.locale||"en"}let rs=En.client;rs||(rs="ethers.js");let ts=null;En.salt?ts=arrayify(En.salt):ts=randomBytes(32);let is=null;if(En.iv){if(is=arrayify(En.iv),is.length!==16)throw new Error("invalid iv")}else is=randomBytes(16);let cs=null;if(En.uuid){if(cs=arrayify(En.uuid),cs.length!==16)throw new Error("invalid uuid")}else cs=randomBytes(16);let us=1<<17,ps=8,bs=1;return En.scrypt&&(En.scrypt.N&&(us=En.scrypt.N),En.scrypt.r&&(ps=En.scrypt.r),En.scrypt.p&&(bs=En.scrypt.p)),scrypt.scrypt(An,ts,us,ps,bs,64,Cn).then(e0=>{e0=arrayify(e0);const gs=e0.slice(0,16),Ds=e0.slice(16,32),i0=e0.slice(32,64),n0=new aes$1.Counter(is),c0=new aes$1.ModeOfOperation.ctr(gs,n0),d0=arrayify(c0.encrypt(_i)),o0=keccak256$1(concat$3([Ds,d0])),g0={address:vn.address.substring(2).toLowerCase(),id:uuidV4(cs),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:hexlify(is).substring(2)},ciphertext:hexlify(d0).substring(2),kdf:"scrypt",kdfparams:{salt:hexlify(ts).substring(2),n:us,dklen:32,p:bs,r:ps},mac:o0.substring(2)}};if(ba){const w0=randomBytes(16),M0=new aes$1.Counter(w0),ds=new aes$1.ModeOfOperation.ctr(i0,M0),na=arrayify(ds.encrypt(ba)),_a=new Date,es=_a.getUTCFullYear()+"-"+zpad(_a.getUTCMonth()+1,2)+"-"+zpad(_a.getUTCDate(),2)+"T"+zpad(_a.getUTCHours(),2)+"-"+zpad(_a.getUTCMinutes(),2)+"-"+zpad(_a.getUTCSeconds(),2)+".0Z";g0["x-ethers"]={client:rs,gethFilename:"UTC--"+es+"--"+g0.address,mnemonicCounter:hexlify(w0).substring(2),mnemonicCiphertext:hexlify(na).substring(2),path:xa,locale:$a,version:"0.1"}}return JSON.stringify(g0)})}function decryptJsonWallet(vn,fn,En){if(isCrowdsaleWallet(vn)){En&&En(0);const Cn=decrypt$1(vn,fn);return En&&En(1),Promise.resolve(Cn)}return isKeystoreWallet(vn)?decrypt(vn,fn,En):Promise.reject(new Error("invalid JSON wallet"))}function decryptJsonWalletSync(vn,fn){if(isCrowdsaleWallet(vn))return decrypt$1(vn,fn);if(isKeystoreWallet(vn))return decryptSync(vn,fn);throw new Error("invalid JSON wallet")}const lib_esm$5=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:decrypt$1,decryptJsonWallet,decryptJsonWalletSync,decryptKeystore:decrypt,decryptKeystoreSync:decryptSync,encryptKeystore:encrypt,getJsonWalletAddress,isCrowdsaleWallet,isKeystoreWallet},Symbol.toStringTag,{value:"Module"})),version$b="wallet/5.7.0";var __awaiter$a=function(vn,fn,En,Cn){function _i(An){return An instanceof En?An:new En(function(ba){ba(An)})}return new(En||(En=Promise))(function(An,ba){function xa(ts){try{rs(Cn.next(ts))}catch(is){ba(is)}}function $a(ts){try{rs(Cn.throw(ts))}catch(is){ba(is)}}function rs(ts){ts.done?An(ts.value):_i(ts.value).then(xa,$a)}rs((Cn=Cn.apply(vn,fn||[])).next())})};const logger$k=new Logger(version$b);function isAccount(vn){return vn!=null&&isHexString(vn.privateKey,32)&&vn.address!=null}function hasMnemonic(vn){const fn=vn.mnemonic;return fn&&fn.phrase}class Wallet extends Signer{constructor(fn,En){if(super(),isAccount(fn)){const Cn=new SigningKey(fn.privateKey);if(defineReadOnly(this,"_signingKey",()=>Cn),defineReadOnly(this,"address",computeAddress(this.publicKey)),this.address!==getAddress(fn.address)&&logger$k.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),hasMnemonic(fn)){const _i=fn.mnemonic;defineReadOnly(this,"_mnemonic",()=>({phrase:_i.phrase,path:_i.path||defaultPath,locale:_i.locale||"en"}));const An=this.mnemonic,ba=HDNode.fromMnemonic(An.phrase,null,An.locale).derivePath(An.path);computeAddress(ba.privateKey)!==this.address&&logger$k.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else defineReadOnly(this,"_mnemonic",()=>null)}else{if(SigningKey.isSigningKey(fn))fn.curve!=="secp256k1"&&logger$k.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),defineReadOnly(this,"_signingKey",()=>fn);else{typeof fn=="string"&&fn.match(/^[0-9a-f]*$/i)&&fn.length===64&&(fn="0x"+fn);const Cn=new SigningKey(fn);defineReadOnly(this,"_signingKey",()=>Cn)}defineReadOnly(this,"_mnemonic",()=>null),defineReadOnly(this,"address",computeAddress(this.publicKey))}En&&!Provider.isProvider(En)&&logger$k.throwArgumentError("invalid provider","provider",En),defineReadOnly(this,"provider",En||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(fn){return new Wallet(this,fn)}signTransaction(fn){return resolveProperties(fn).then(En=>{En.from!=null&&(getAddress(En.from)!==this.address&&logger$k.throwArgumentError("transaction from address mismatch","transaction.from",fn.from),delete En.from);const Cn=this._signingKey().signDigest(keccak256$1(serialize$1(En)));return serialize$1(En,Cn)})}signMessage(fn){return __awaiter$a(this,void 0,void 0,function*(){return joinSignature(this._signingKey().signDigest(hashMessage(fn)))})}_signTypedData(fn,En,Cn){return __awaiter$a(this,void 0,void 0,function*(){const _i=yield TypedDataEncoder.resolveNames(fn,En,Cn,An=>(this.provider==null&&logger$k.throwError("cannot resolve ENS names without a provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:An}),this.provider.resolveName(An)));return joinSignature(this._signingKey().signDigest(TypedDataEncoder.hash(_i.domain,En,_i.value)))})}encrypt(fn,En,Cn){if(typeof En=="function"&&!Cn&&(Cn=En,En={}),Cn&&typeof Cn!="function")throw new Error("invalid callback");return En||(En={}),encrypt(this,fn,En,Cn)}static createRandom(fn){let En=randomBytes(16);fn||(fn={}),fn.extraEntropy&&(En=arrayify(hexDataSlice(keccak256$1(concat$3([En,fn.extraEntropy])),0,16)));const Cn=entropyToMnemonic(En,fn.locale);return Wallet.fromMnemonic(Cn,fn.path,fn.locale)}static fromEncryptedJson(fn,En,Cn){return decryptJsonWallet(fn,En,Cn).then(_i=>new Wallet(_i))}static fromEncryptedJsonSync(fn,En){return new Wallet(decryptJsonWalletSync(fn,En))}static fromMnemonic(fn,En,Cn){return En||(En=defaultPath),new Wallet(HDNode.fromMnemonic(fn,null,Cn).derivePath(En))}}function verifyMessage(vn,fn){return recoverAddress(hashMessage(vn),fn)}function verifyTypedData(vn,fn,En,Cn){return recoverAddress(TypedDataEncoder.hash(vn,fn,En),Cn)}const lib_esm$4=Object.freeze(Object.defineProperty({__proto__:null,Wallet,verifyMessage,verifyTypedData},Symbol.toStringTag,{value:"Module"})),version$a="networks/5.7.1",logger$j=new Logger(version$a);function isRenetworkable(vn){return vn&&typeof vn.renetwork=="function"}function ethDefaultProvider(vn){const fn=function(En,Cn){Cn==null&&(Cn={});const _i=[];if(En.InfuraProvider&&Cn.infura!=="-")try{_i.push(new En.InfuraProvider(vn,Cn.infura))}catch{}if(En.EtherscanProvider&&Cn.etherscan!=="-")try{_i.push(new En.EtherscanProvider(vn,Cn.etherscan))}catch{}if(En.AlchemyProvider&&Cn.alchemy!=="-")try{_i.push(new En.AlchemyProvider(vn,Cn.alchemy))}catch{}if(En.PocketProvider&&Cn.pocket!=="-"){const An=["goerli","ropsten","rinkeby","sepolia"];try{const ba=new En.PocketProvider(vn,Cn.pocket);ba.network&&An.indexOf(ba.network.name)===-1&&_i.push(ba)}catch{}}if(En.CloudflareProvider&&Cn.cloudflare!=="-")try{_i.push(new En.CloudflareProvider(vn))}catch{}if(En.AnkrProvider&&Cn.ankr!=="-")try{const An=["ropsten"],ba=new En.AnkrProvider(vn,Cn.ankr);ba.network&&An.indexOf(ba.network.name)===-1&&_i.push(ba)}catch{}if(_i.length===0)return null;if(En.FallbackProvider){let An=1;return Cn.quorum!=null?An=Cn.quorum:vn==="homestead"&&(An=2),new En.FallbackProvider(_i,An)}return _i[0]};return fn.renetwork=function(En){return ethDefaultProvider(En)},fn}function etcDefaultProvider(vn,fn){const En=function(Cn,_i){return Cn.JsonRpcProvider?new Cn.JsonRpcProvider(vn,fn):null};return En.renetwork=function(Cn){return etcDefaultProvider(vn,Cn)},En}const homestead={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ethDefaultProvider("homestead")},ropsten={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ethDefaultProvider("ropsten")},classicMordor={chainId:63,name:"classicMordor",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/mordor","classicMordor")},networks={unspecified:{chainId:0,name:"unspecified"},homestead,mainnet:homestead,morden:{chainId:2,name:"morden"},ropsten,testnet:ropsten,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ethDefaultProvider("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ethDefaultProvider("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ethDefaultProvider("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:ethDefaultProvider("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor,classicTestnet:classicMordor,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ethDefaultProvider("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:ethDefaultProvider("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function getNetwork(vn){if(vn==null)return null;if(typeof vn=="number"){for(const Cn in networks){const _i=networks[Cn];if(_i.chainId===vn)return{name:_i.name,chainId:_i.chainId,ensAddress:_i.ensAddress||null,_defaultProvider:_i._defaultProvider||null}}return{chainId:vn,name:"unknown"}}if(typeof vn=="string"){const Cn=networks[vn];return Cn==null?null:{name:Cn.name,chainId:Cn.chainId,ensAddress:Cn.ensAddress,_defaultProvider:Cn._defaultProvider||null}}const fn=networks[vn.name];if(!fn)return typeof vn.chainId!="number"&&logger$j.throwArgumentError("invalid network chainId","network",vn),vn;vn.chainId!==0&&vn.chainId!==fn.chainId&&logger$j.throwArgumentError("network chainId mismatch","network",vn);let En=vn._defaultProvider||null;return En==null&&fn._defaultProvider&&(isRenetworkable(fn._defaultProvider)?En=fn._defaultProvider.renetwork(vn):En=fn._defaultProvider),{name:vn.name,chainId:fn.chainId,ensAddress:vn.ensAddress||fn.ensAddress||null,_defaultProvider:En}}const version$9="web/5.7.1";var __awaiter$9=function(vn,fn,En,Cn){function _i(An){return An instanceof En?An:new En(function(ba){ba(An)})}return new(En||(En=Promise))(function(An,ba){function xa(ts){try{rs(Cn.next(ts))}catch(is){ba(is)}}function $a(ts){try{rs(Cn.throw(ts))}catch(is){ba(is)}}function rs(ts){ts.done?An(ts.value):_i(ts.value).then(xa,$a)}rs((Cn=Cn.apply(vn,fn||[])).next())})};function getUrl(vn,fn){return __awaiter$9(this,void 0,void 0,function*(){fn==null&&(fn={});const En={method:fn.method||"GET",headers:fn.headers||{},body:fn.body||void 0};if(fn.skipFetchSetup!==!0&&(En.mode="cors",En.cache="no-cache",En.credentials="same-origin",En.redirect="follow",En.referrer="client"),fn.fetchOptions!=null){const ba=fn.fetchOptions;ba.mode&&(En.mode=ba.mode),ba.cache&&(En.cache=ba.cache),ba.credentials&&(En.credentials=ba.credentials),ba.redirect&&(En.redirect=ba.redirect),ba.referrer&&(En.referrer=ba.referrer)}const Cn=yield fetch(vn,En),_i=yield Cn.arrayBuffer(),An={};return Cn.headers.forEach?Cn.headers.forEach((ba,xa)=>{An[xa.toLowerCase()]=ba}):Cn.headers.keys().forEach(ba=>{An[ba.toLowerCase()]=Cn.headers.get(ba)}),{headers:An,statusCode:Cn.status,statusMessage:Cn.statusText,body:arrayify(new Uint8Array(_i))}})}var __awaiter$8=function(vn,fn,En,Cn){function _i(An){return An instanceof En?An:new En(function(ba){ba(An)})}return new(En||(En=Promise))(function(An,ba){function xa(ts){try{rs(Cn.next(ts))}catch(is){ba(is)}}function $a(ts){try{rs(Cn.throw(ts))}catch(is){ba(is)}}function rs(ts){ts.done?An(ts.value):_i(ts.value).then(xa,$a)}rs((Cn=Cn.apply(vn,fn||[])).next())})};const logger$i=new Logger(version$9);function staller(vn){return new Promise(fn=>{setTimeout(fn,vn)})}function bodyify(vn,fn){if(vn==null)return null;if(typeof vn=="string")return vn;if(isBytesLike(vn)){if(fn&&(fn.split("/")[0]==="text"||fn.split(";")[0].trim()==="application/json"))try{return toUtf8String(vn)}catch{}return hexlify(vn)}return vn}function unpercent(vn){return toUtf8Bytes(vn.replace(/%([0-9a-f][0-9a-f])/gi,(fn,En)=>String.fromCharCode(parseInt(En,16))))}function _fetchData(vn,fn,En){const Cn=typeof vn=="object"&&vn.throttleLimit!=null?vn.throttleLimit:12;logger$i.assertArgument(Cn>0&&Cn%1===0,"invalid connection throttle limit","connection.throttleLimit",Cn);const _i=typeof vn=="object"?vn.throttleCallback:null,An=typeof vn=="object"&&typeof vn.throttleSlotInterval=="number"?vn.throttleSlotInterval:100;logger$i.assertArgument(An>0&&An%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",An);const ba=typeof vn=="object"?!!vn.errorPassThrough:!1,xa={};let $a=null;const rs={method:"GET"};let ts=!1,is=2*60*1e3;if(typeof vn=="string")$a=vn;else if(typeof vn=="object"){if((vn==null||vn.url==null)&&logger$i.throwArgumentError("missing URL","connection.url",vn),$a=vn.url,typeof vn.timeout=="number"&&vn.timeout>0&&(is=vn.timeout),vn.headers)for(const gs in vn.headers)xa[gs.toLowerCase()]={key:gs,value:String(vn.headers[gs])},["if-none-match","if-modified-since"].indexOf(gs.toLowerCase())>=0&&(ts=!0);if(rs.allowGzip=!!vn.allowGzip,vn.user!=null&&vn.password!=null){$a.substring(0,6)!=="https:"&&vn.allowInsecureAuthentication!==!0&&logger$i.throwError("basic authentication requires a secure https url",Logger.errors.INVALID_ARGUMENT,{argument:"url",url:$a,user:vn.user,password:"[REDACTED]"});const gs=vn.user+":"+vn.password;xa.authorization={key:"Authorization",value:"Basic "+encode$b(toUtf8Bytes(gs))}}vn.skipFetchSetup!=null&&(rs.skipFetchSetup=!!vn.skipFetchSetup),vn.fetchOptions!=null&&(rs.fetchOptions=shallowCopy(vn.fetchOptions))}const cs=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),us=$a?$a.match(cs):null;if(us)try{const gs={statusCode:200,statusMessage:"OK",headers:{"content-type":us[1]||"text/plain"},body:us[2]?decode$e(us[3]):unpercent(us[3])};let Ds=gs.body;return En&&(Ds=En(gs.body,gs)),Promise.resolve(Ds)}catch(gs){logger$i.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify(us[1],us[2]),error:gs,requestBody:null,requestMethod:"GET",url:$a})}fn&&(rs.method="POST",rs.body=fn,xa["content-type"]==null&&(xa["content-type"]={key:"Content-Type",value:"application/octet-stream"}),xa["content-length"]==null&&(xa["content-length"]={key:"Content-Length",value:String(fn.length)}));const ps={};Object.keys(xa).forEach(gs=>{const Ds=xa[gs];ps[Ds.key]=Ds.value}),rs.headers=ps;const bs=function(){let gs=null;return{promise:new Promise(function(n0,c0){is&&(gs=setTimeout(()=>{gs!=null&&(gs=null,c0(logger$i.makeError("timeout",Logger.errors.TIMEOUT,{requestBody:bodyify(rs.body,ps["content-type"]),requestMethod:rs.method,timeout:is,url:$a})))},is))}),cancel:function(){gs!=null&&(clearTimeout(gs),gs=null)}}}(),e0=function(){return __awaiter$8(this,void 0,void 0,function*(){for(let gs=0;gs<Cn;gs++){let Ds=null;try{if(Ds=yield getUrl($a,rs),gs<Cn){if(Ds.statusCode===301||Ds.statusCode===302){const n0=Ds.headers.location||"";if(rs.method==="GET"&&n0.match(/^https:/)){$a=Ds.headers.location;continue}}else if(Ds.statusCode===429){let n0=!0;if(_i&&(n0=yield _i(gs,$a)),n0){let c0=0;const d0=Ds.headers["retry-after"];typeof d0=="string"&&d0.match(/^[1-9][0-9]*$/)?c0=parseInt(d0)*1e3:c0=An*parseInt(String(Math.random()*Math.pow(2,gs))),yield staller(c0);continue}}}}catch(n0){Ds=n0.response,Ds==null&&(bs.cancel(),logger$i.throwError("missing response",Logger.errors.SERVER_ERROR,{requestBody:bodyify(rs.body,ps["content-type"]),requestMethod:rs.method,serverError:n0,url:$a}))}let i0=Ds.body;if(ts&&Ds.statusCode===304?i0=null:!ba&&(Ds.statusCode<200||Ds.statusCode>=300)&&(bs.cancel(),logger$i.throwError("bad response",Logger.errors.SERVER_ERROR,{status:Ds.statusCode,headers:Ds.headers,body:bodyify(i0,Ds.headers?Ds.headers["content-type"]:null),requestBody:bodyify(rs.body,ps["content-type"]),requestMethod:rs.method,url:$a})),En)try{const n0=yield En(i0,Ds);return bs.cancel(),n0}catch(n0){if(n0.throttleRetry&&gs<Cn){let c0=!0;if(_i&&(c0=yield _i(gs,$a)),c0){const d0=An*parseInt(String(Math.random()*Math.pow(2,gs)));yield staller(d0);continue}}bs.cancel(),logger$i.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify(i0,Ds.headers?Ds.headers["content-type"]:null),error:n0,requestBody:bodyify(rs.body,ps["content-type"]),requestMethod:rs.method,url:$a})}return bs.cancel(),i0}return logger$i.throwError("failed response",Logger.errors.SERVER_ERROR,{requestBody:bodyify(rs.body,ps["content-type"]),requestMethod:rs.method,url:$a})})}();return Promise.race([bs.promise,e0])}function fetchJson(vn,fn,En){let Cn=(An,ba)=>{let xa=null;if(An!=null)try{xa=JSON.parse(toUtf8String(An))}catch($a){logger$i.throwError("invalid JSON",Logger.errors.SERVER_ERROR,{body:An,error:$a})}return En&&(xa=En(xa,ba)),xa},_i=null;if(fn!=null){_i=toUtf8Bytes(fn);const An=typeof vn=="string"?{url:vn}:shallowCopy(vn);An.headers?Object.keys(An.headers).filter(xa=>xa.toLowerCase()==="content-type").length!==0||(An.headers=shallowCopy(An.headers),An.headers["content-type"]="application/json"):An.headers={"content-type":"application/json"},vn=An}return _fetchData(vn,_i,Cn)}function poll(vn,fn){return fn||(fn={}),fn=shallowCopy(fn),fn.floor==null&&(fn.floor=0),fn.ceiling==null&&(fn.ceiling=1e4),fn.interval==null&&(fn.interval=250),new Promise(function(En,Cn){let _i=null,An=!1;const ba=()=>An?!1:(An=!0,_i&&clearTimeout(_i),!0);fn.timeout&&(_i=setTimeout(()=>{ba()&&Cn(new Error("timeout"))},fn.timeout));const xa=fn.retryLimit;let $a=0;function rs(){return vn().then(function(ts){if(ts!==void 0)ba()&&En(ts);else if(fn.oncePoll)fn.oncePoll.once("poll",rs);else if(fn.onceBlock)fn.onceBlock.once("block",rs);else if(!An){if($a++,$a>xa){ba()&&Cn(new Error("retry limit reached"));return}let is=fn.interval*parseInt(String(Math.random()*Math.pow(2,$a)));is<fn.floor&&(is=fn.floor),is>fn.ceiling&&(is=fn.ceiling),setTimeout(rs,is)}return null},function(ts){ba()&&Cn(ts)})}rs()})}const lib_esm$3=Object.freeze(Object.defineProperty({__proto__:null,_fetchData,fetchJson,poll},Symbol.toStringTag,{value:"Module"}));var ALPHABET$1="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ALPHABET_MAP={};for(var z$9=0;z$9<ALPHABET$1.length;z$9++){var x$9=ALPHABET$1.charAt(z$9);if(ALPHABET_MAP[x$9]!==void 0)throw new TypeError(x$9+" is ambiguous");ALPHABET_MAP[x$9]=z$9}function polymodStep(vn){var fn=vn>>25;return(vn&33554431)<<5^-(fn>>0&1)&996825010^-(fn>>1&1)&642813549^-(fn>>2&1)&513874426^-(fn>>3&1)&1027748829^-(fn>>4&1)&705979059}function prefixChk(vn){for(var fn=1,En=0;En<vn.length;++En){var Cn=vn.charCodeAt(En);if(Cn<33||Cn>126)return"Invalid prefix ("+vn+")";fn=polymodStep(fn)^Cn>>5}for(fn=polymodStep(fn),En=0;En<vn.length;++En){var _i=vn.charCodeAt(En);fn=polymodStep(fn)^_i&31}return fn}function encode$a(vn,fn,En){if(En=En||90,vn.length+7+fn.length>En)throw new TypeError("Exceeds length limit");vn=vn.toLowerCase();var Cn=prefixChk(vn);if(typeof Cn=="string")throw new Error(Cn);for(var _i=vn+"1",An=0;An<fn.length;++An){var ba=fn[An];if(ba>>5)throw new Error("Non 5-bit word");Cn=polymodStep(Cn)^ba,_i+=ALPHABET$1.charAt(ba)}for(An=0;An<6;++An)Cn=polymodStep(Cn);for(Cn^=1,An=0;An<6;++An){var xa=Cn>>(5-An)*5&31;_i+=ALPHABET$1.charAt(xa)}return _i}function __decode(vn,fn){if(fn=fn||90,vn.length<8)return vn+" too short";if(vn.length>fn)return"Exceeds length limit";var En=vn.toLowerCase(),Cn=vn.toUpperCase();if(vn!==En&&vn!==Cn)return"Mixed-case string "+vn;vn=En;var _i=vn.lastIndexOf("1");if(_i===-1)return"No separator character for "+vn;if(_i===0)return"Missing prefix for "+vn;var An=vn.slice(0,_i),ba=vn.slice(_i+1);if(ba.length<6)return"Data too short";var xa=prefixChk(An);if(typeof xa=="string")return xa;for(var $a=[],rs=0;rs<ba.length;++rs){var ts=ba.charAt(rs),is=ALPHABET_MAP[ts];if(is===void 0)return"Unknown character "+ts;xa=polymodStep(xa)^is,!(rs+6>=ba.length)&&$a.push(is)}return xa!==1?"Invalid checksum for "+vn:{prefix:An,words:$a}}function decodeUnsafe(){var vn=__decode.apply(null,arguments);if(typeof vn=="object")return vn}function decode$d(vn){var fn=__decode.apply(null,arguments);if(typeof fn=="object")return fn;throw new Error(fn)}function convert$1(vn,fn,En,Cn){for(var _i=0,An=0,ba=(1<<En)-1,xa=[],$a=0;$a<vn.length;++$a)for(_i=_i<<fn|vn[$a],An+=fn;An>=En;)An-=En,xa.push(_i>>An&ba);if(Cn)An>0&&xa.push(_i<<En-An&ba);else{if(An>=fn)return"Excess padding";if(_i<<En-An&ba)return"Non-zero padding"}return xa}function toWordsUnsafe(vn){var fn=convert$1(vn,8,5,!0);if(Array.isArray(fn))return fn}function toWords(vn){var fn=convert$1(vn,8,5,!0);if(Array.isArray(fn))return fn;throw new Error(fn)}function fromWordsUnsafe(vn){var fn=convert$1(vn,5,8,!1);if(Array.isArray(fn))return fn}function fromWords(vn){var fn=convert$1(vn,5,8,!1);if(Array.isArray(fn))return fn;throw new Error(fn)}var bech32={decodeUnsafe,decode:decode$d,encode:encode$a,toWordsUnsafe,toWords,fromWordsUnsafe,fromWords};const bech32$1=getDefaultExportFromCjs$1(bech32),version$8="providers/5.7.2",logger$h=new Logger(version$8);class Formatter{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const fn={},En=this.address.bind(this),Cn=this.bigNumber.bind(this),_i=this.blockTag.bind(this),An=this.data.bind(this),ba=this.hash.bind(this),xa=this.hex.bind(this),$a=this.number.bind(this),rs=this.type.bind(this),ts=is=>this.data(is,!0);return fn.transaction={hash:ba,type:rs,accessList:Formatter.allowNull(this.accessList.bind(this),null),blockHash:Formatter.allowNull(ba,null),blockNumber:Formatter.allowNull($a,null),transactionIndex:Formatter.allowNull($a,null),confirmations:Formatter.allowNull($a,null),from:En,gasPrice:Formatter.allowNull(Cn),maxPriorityFeePerGas:Formatter.allowNull(Cn),maxFeePerGas:Formatter.allowNull(Cn),gasLimit:Cn,to:Formatter.allowNull(En,null),value:Cn,nonce:$a,data:An,r:Formatter.allowNull(this.uint256),s:Formatter.allowNull(this.uint256),v:Formatter.allowNull($a),creates:Formatter.allowNull(En,null),raw:Formatter.allowNull(An)},fn.transactionRequest={from:Formatter.allowNull(En),nonce:Formatter.allowNull($a),gasLimit:Formatter.allowNull(Cn),gasPrice:Formatter.allowNull(Cn),maxPriorityFeePerGas:Formatter.allowNull(Cn),maxFeePerGas:Formatter.allowNull(Cn),to:Formatter.allowNull(En),value:Formatter.allowNull(Cn),data:Formatter.allowNull(ts),type:Formatter.allowNull($a),accessList:Formatter.allowNull(this.accessList.bind(this),null)},fn.receiptLog={transactionIndex:$a,blockNumber:$a,transactionHash:ba,address:En,topics:Formatter.arrayOf(ba),data:An,logIndex:$a,blockHash:ba},fn.receipt={to:Formatter.allowNull(this.address,null),from:Formatter.allowNull(this.address,null),contractAddress:Formatter.allowNull(En,null),transactionIndex:$a,root:Formatter.allowNull(xa),gasUsed:Cn,logsBloom:Formatter.allowNull(An),blockHash:ba,transactionHash:ba,logs:Formatter.arrayOf(this.receiptLog.bind(this)),blockNumber:$a,confirmations:Formatter.allowNull($a,null),cumulativeGasUsed:Cn,effectiveGasPrice:Formatter.allowNull(Cn),status:Formatter.allowNull($a),type:rs},fn.block={hash:Formatter.allowNull(ba),parentHash:ba,number:$a,timestamp:$a,nonce:Formatter.allowNull(xa),difficulty:this.difficulty.bind(this),gasLimit:Cn,gasUsed:Cn,miner:Formatter.allowNull(En),extraData:An,transactions:Formatter.allowNull(Formatter.arrayOf(ba)),baseFeePerGas:Formatter.allowNull(Cn)},fn.blockWithTransactions=shallowCopy(fn.block),fn.blockWithTransactions.transactions=Formatter.allowNull(Formatter.arrayOf(this.transactionResponse.bind(this))),fn.filter={fromBlock:Formatter.allowNull(_i,void 0),toBlock:Formatter.allowNull(_i,void 0),blockHash:Formatter.allowNull(ba,void 0),address:Formatter.allowNull(En,void 0),topics:Formatter.allowNull(this.topics.bind(this),void 0)},fn.filterLog={blockNumber:Formatter.allowNull($a),blockHash:Formatter.allowNull(ba),transactionIndex:$a,removed:Formatter.allowNull(this.boolean.bind(this)),address:En,data:Formatter.allowFalsish(An,"0x"),topics:Formatter.arrayOf(ba),transactionHash:ba,logIndex:$a},fn}accessList(fn){return accessListify(fn||[])}number(fn){return fn==="0x"?0:BigNumber.from(fn).toNumber()}type(fn){return fn==="0x"||fn==null?0:BigNumber.from(fn).toNumber()}bigNumber(fn){return BigNumber.from(fn)}boolean(fn){if(typeof fn=="boolean")return fn;if(typeof fn=="string"){if(fn=fn.toLowerCase(),fn==="true")return!0;if(fn==="false")return!1}throw new Error("invalid boolean - "+fn)}hex(fn,En){return typeof fn=="string"&&(!En&&fn.substring(0,2)!=="0x"&&(fn="0x"+fn),isHexString(fn))?fn.toLowerCase():logger$h.throwArgumentError("invalid hash","value",fn)}data(fn,En){const Cn=this.hex(fn,En);if(Cn.length%2!==0)throw new Error("invalid data; odd-length - "+fn);return Cn}address(fn){return getAddress(fn)}callAddress(fn){if(!isHexString(fn,32))return null;const En=getAddress(hexDataSlice(fn,12));return En===AddressZero$1?null:En}contractAddress(fn){return getContractAddress(fn)}blockTag(fn){if(fn==null)return"latest";if(fn==="earliest")return"0x0";switch(fn){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return fn}if(typeof fn=="number"||isHexString(fn))return hexValue(fn);throw new Error("invalid blockTag")}hash(fn,En){const Cn=this.hex(fn,En);return hexDataLength(Cn)!==32?logger$h.throwArgumentError("invalid hash","value",fn):Cn}difficulty(fn){if(fn==null)return null;const En=BigNumber.from(fn);try{return En.toNumber()}catch{}return null}uint256(fn){if(!isHexString(fn))throw new Error("invalid uint256");return hexZeroPad(fn,32)}_block(fn,En){fn.author!=null&&fn.miner==null&&(fn.miner=fn.author);const Cn=fn._difficulty!=null?fn._difficulty:fn.difficulty,_i=Formatter.check(En,fn);return _i._difficulty=Cn==null?null:BigNumber.from(Cn),_i}block(fn){return this._block(fn,this.formats.block)}blockWithTransactions(fn){return this._block(fn,this.formats.blockWithTransactions)}transactionRequest(fn){return Formatter.check(this.formats.transactionRequest,fn)}transactionResponse(fn){fn.gas!=null&&fn.gasLimit==null&&(fn.gasLimit=fn.gas),fn.to&&BigNumber.from(fn.to).isZero()&&(fn.to="0x0000000000000000000000000000000000000000"),fn.input!=null&&fn.data==null&&(fn.data=fn.input),fn.to==null&&fn.creates==null&&(fn.creates=this.contractAddress(fn)),(fn.type===1||fn.type===2)&&fn.accessList==null&&(fn.accessList=[]);const En=Formatter.check(this.formats.transaction,fn);if(fn.chainId!=null){let Cn=fn.chainId;isHexString(Cn)&&(Cn=BigNumber.from(Cn).toNumber()),En.chainId=Cn}else{let Cn=fn.networkId;Cn==null&&En.v==null&&(Cn=fn.chainId),isHexString(Cn)&&(Cn=BigNumber.from(Cn).toNumber()),typeof Cn!="number"&&En.v!=null&&(Cn=(En.v-35)/2,Cn<0&&(Cn=0),Cn=parseInt(Cn)),typeof Cn!="number"&&(Cn=0),En.chainId=Cn}return En.blockHash&&En.blockHash.replace(/0/g,"")==="x"&&(En.blockHash=null),En}transaction(fn){return parse$1(fn)}receiptLog(fn){return Formatter.check(this.formats.receiptLog,fn)}receipt(fn){const En=Formatter.check(this.formats.receipt,fn);if(En.root!=null)if(En.root.length<=4){const Cn=BigNumber.from(En.root).toNumber();Cn===0||Cn===1?(En.status!=null&&En.status!==Cn&&logger$h.throwArgumentError("alt-root-status/status mismatch","value",{root:En.root,status:En.status}),En.status=Cn,delete En.root):logger$h.throwArgumentError("invalid alt-root-status","value.root",En.root)}else En.root.length!==66&&logger$h.throwArgumentError("invalid root hash","value.root",En.root);return En.status!=null&&(En.byzantium=!0),En}topics(fn){return Array.isArray(fn)?fn.map(En=>this.topics(En)):fn!=null?this.hash(fn,!0):null}filter(fn){return Formatter.check(this.formats.filter,fn)}filterLog(fn){return Formatter.check(this.formats.filterLog,fn)}static check(fn,En){const Cn={};for(const _i in fn)try{const An=fn[_i](En[_i]);An!==void 0&&(Cn[_i]=An)}catch(An){throw An.checkKey=_i,An.checkValue=En[_i],An}return Cn}static allowNull(fn,En){return function(Cn){return Cn==null?En:fn(Cn)}}static allowFalsish(fn,En){return function(Cn){return Cn?fn(Cn):En}}static arrayOf(fn){return function(En){if(!Array.isArray(En))throw new Error("not an array");const Cn=[];return En.forEach(function(_i){Cn.push(fn(_i))}),Cn}}}function isCommunityResourcable(vn){return vn&&typeof vn.isCommunityResource=="function"}function isCommunityResource(vn){return isCommunityResourcable(vn)&&vn.isCommunityResource()}let throttleMessage=!1;function showThrottleMessage(){throttleMessage||(throttleMessage=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var __awaiter$7=function(vn,fn,En,Cn){function _i(An){return An instanceof En?An:new En(function(ba){ba(An)})}return new(En||(En=Promise))(function(An,ba){function xa(ts){try{rs(Cn.next(ts))}catch(is){ba(is)}}function $a(ts){try{rs(Cn.throw(ts))}catch(is){ba(is)}}function rs(ts){ts.done?An(ts.value):_i(ts.value).then(xa,$a)}rs((Cn=Cn.apply(vn,fn||[])).next())})};const logger$g=new Logger(version$8),MAX_CCIP_REDIRECTS=10;function checkTopic(vn){return vn==null?"null":(hexDataLength(vn)!==32&&logger$g.throwArgumentError("invalid topic","topic",vn),vn.toLowerCase())}function serializeTopics(vn){for(vn=vn.slice();vn.length>0&&vn[vn.length-1]==null;)vn.pop();return vn.map(fn=>{if(Array.isArray(fn)){const En={};fn.forEach(_i=>{En[checkTopic(_i)]=!0});const Cn=Object.keys(En);return Cn.sort(),Cn.join("|")}else return checkTopic(fn)}).join("&")}function deserializeTopics(vn){return vn===""?[]:vn.split(/&/g).map(fn=>{if(fn==="")return[];const En=fn.split("|").map(Cn=>Cn==="null"?null:Cn);return En.length===1?En[0]:En})}function getEventTag(vn){if(typeof vn=="string"){if(vn=vn.toLowerCase(),hexDataLength(vn)===32)return"tx:"+vn;if(vn.indexOf(":")===-1)return vn}else{if(Array.isArray(vn))return"filter:*:"+serializeTopics(vn);if(ForkEvent.isForkEvent(vn))throw logger$g.warn("not implemented"),new Error("not implemented");if(vn&&typeof vn=="object")return"filter:"+(vn.address||"*")+":"+serializeTopics(vn.topics||[])}throw new Error("invalid event - "+vn)}function getTime(){return new Date().getTime()}function stall$1(vn){return new Promise(fn=>{setTimeout(fn,vn)})}const PollableEvents=["block","network","pending","poll"];let Event$1=class{constructor(fn,En,Cn){defineReadOnly(this,"tag",fn),defineReadOnly(this,"listener",En),defineReadOnly(this,"once",Cn),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const fn=this.tag.split(":");return fn[0]!=="tx"?null:fn[1]}get filter(){const fn=this.tag.split(":");if(fn[0]!=="filter")return null;const En=fn[1],Cn=deserializeTopics(fn[2]),_i={};return Cn.length>0&&(_i.topics=Cn),En&&En!=="*"&&(_i.address=En),_i}pollable(){return this.tag.indexOf(":")>=0||PollableEvents.indexOf(this.tag)>=0}};const coinInfos={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function bytes32ify(vn){return hexZeroPad(BigNumber.from(vn).toHexString(),32)}function base58Encode(vn){return Base58.encode(concat$3([vn,hexDataSlice(sha256$6(sha256$6(vn)),0,4)]))}const matcherIpfs=new RegExp("^(ipfs)://(.*)$","i"),matchers=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),matcherIpfs,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function _parseString(vn,fn){try{return toUtf8String(_parseBytes(vn,fn))}catch{}return null}function _parseBytes(vn,fn){if(vn==="0x")return null;const En=BigNumber.from(hexDataSlice(vn,fn,fn+32)).toNumber(),Cn=BigNumber.from(hexDataSlice(vn,En,En+32)).toNumber();return hexDataSlice(vn,En+32,En+32+Cn)}function getIpfsLink(vn){return vn.match(/^ipfs:\/\/ipfs\//i)?vn=vn.substring(12):vn.match(/^ipfs:\/\//i)?vn=vn.substring(7):logger$g.throwArgumentError("unsupported IPFS format","link",vn),`https://gateway.ipfs.io/ipfs/${vn}`}function numPad(vn){const fn=arrayify(vn);if(fn.length>32)throw new Error("internal; should not happen");const En=new Uint8Array(32);return En.set(fn,32-fn.length),En}function bytesPad(vn){if(vn.length%32===0)return vn;const fn=new Uint8Array(Math.ceil(vn.length/32)*32);return fn.set(vn),fn}function encodeBytes(vn){const fn=[];let En=0;for(let Cn=0;Cn<vn.length;Cn++)fn.push(null),En+=32;for(let Cn=0;Cn<vn.length;Cn++){const _i=arrayify(vn[Cn]);fn[Cn]=numPad(En),fn.push(numPad(_i.length)),fn.push(bytesPad(_i)),En+=32+Math.ceil(_i.length/32)*32}return hexConcat(fn)}class Resolver{constructor(fn,En,Cn,_i){defineReadOnly(this,"provider",fn),defineReadOnly(this,"name",Cn),defineReadOnly(this,"address",fn.formatter.address(En)),defineReadOnly(this,"_resolvedAddress",_i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(fn=>BigNumber.from(fn).eq(1)).catch(fn=>{if(fn.code===Logger.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,fn})),this._supportsEip2544}_fetch(fn,En){return __awaiter$7(this,void 0,void 0,function*(){const Cn={to:this.address,ccipReadEnabled:!0,data:hexConcat([fn,namehash(this.name),En||"0x"])};let _i=!1;(yield this.supportsWildcard())&&(_i=!0,Cn.data=hexConcat(["0x9061b923",encodeBytes([dnsEncode(this.name),Cn.data])]));try{let An=yield this.provider.call(Cn);return arrayify(An).length%32===4&&logger$g.throwError("resolver threw error",Logger.errors.CALL_EXCEPTION,{transaction:Cn,data:An}),_i&&(An=_parseBytes(An,0)),An}catch(An){if(An.code===Logger.errors.CALL_EXCEPTION)return null;throw An}})}_fetchBytes(fn,En){return __awaiter$7(this,void 0,void 0,function*(){const Cn=yield this._fetch(fn,En);return Cn!=null?_parseBytes(Cn,0):null})}_getAddress(fn,En){const Cn=coinInfos[String(fn)];if(Cn==null&&logger$g.throwError(`unsupported coin type: ${fn}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${fn})`}),Cn.ilk==="eth")return this.provider.formatter.address(En);const _i=arrayify(En);if(Cn.p2pkh!=null){const An=En.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(An){const ba=parseInt(An[1],16);if(An[2].length===ba*2&&ba>=1&&ba<=75)return base58Encode(concat$3([[Cn.p2pkh],"0x"+An[2]]))}}if(Cn.p2sh!=null){const An=En.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(An){const ba=parseInt(An[1],16);if(An[2].length===ba*2&&ba>=1&&ba<=75)return base58Encode(concat$3([[Cn.p2sh],"0x"+An[2]]))}}if(Cn.prefix!=null){const An=_i[1];let ba=_i[0];if(ba===0?An!==20&&An!==32&&(ba=-1):ba=-1,ba>=0&&_i.length===2+An&&An>=1&&An<=75){const xa=bech32$1.toWords(_i.slice(2));return xa.unshift(ba),bech32$1.encode(Cn.prefix,xa)}}return null}getAddress(fn){return __awaiter$7(this,void 0,void 0,function*(){if(fn==null&&(fn=60),fn===60)try{const _i=yield this._fetch("0x3b3b57de");return _i==="0x"||_i===HashZero?null:this.provider.formatter.callAddress(_i)}catch(_i){if(_i.code===Logger.errors.CALL_EXCEPTION)return null;throw _i}const En=yield this._fetchBytes("0xf1cb7e06",bytes32ify(fn));if(En==null||En==="0x")return null;const Cn=this._getAddress(fn,En);return Cn==null&&logger$g.throwError("invalid or unsupported coin data",Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${fn})`,coinType:fn,data:En}),Cn})}getAvatar(){return __awaiter$7(this,void 0,void 0,function*(){const fn=[{type:"name",content:this.name}];try{const En=yield this.getText("avatar");if(En==null)return null;for(let Cn=0;Cn<matchers.length;Cn++){const _i=En.match(matchers[Cn]);if(_i==null)continue;const An=_i[1].toLowerCase();switch(An){case"https":return fn.push({type:"url",content:En}),{linkage:fn,url:En};case"data":return fn.push({type:"data",content:En}),{linkage:fn,url:En};case"ipfs":return fn.push({type:"ipfs",content:En}),{linkage:fn,url:getIpfsLink(En)};case"erc721":case"erc1155":{const ba=An==="erc721"?"0xc87b56dd":"0x0e89341c";fn.push({type:An,content:En});const xa=this._resolvedAddress||(yield this.getAddress()),$a=(_i[2]||"").split("/");if($a.length!==2)return null;const rs=yield this.provider.formatter.address($a[0]),ts=hexZeroPad(BigNumber.from($a[1]).toHexString(),32);if(An==="erc721"){const bs=this.provider.formatter.callAddress(yield this.provider.call({to:rs,data:hexConcat(["0x6352211e",ts])}));if(xa!==bs)return null;fn.push({type:"owner",content:bs})}else if(An==="erc1155"){const bs=BigNumber.from(yield this.provider.call({to:rs,data:hexConcat(["0x00fdd58e",hexZeroPad(xa,32),ts])}));if(bs.isZero())return null;fn.push({type:"balance",content:bs.toString()})}const is={to:this.provider.formatter.address($a[0]),data:hexConcat([ba,ts])};let cs=_parseString(yield this.provider.call(is),0);if(cs==null)return null;fn.push({type:"metadata-url-base",content:cs}),An==="erc1155"&&(cs=cs.replace("{id}",ts.substring(2)),fn.push({type:"metadata-url-expanded",content:cs})),cs.match(/^ipfs:/i)&&(cs=getIpfsLink(cs)),fn.push({type:"metadata-url",content:cs});const us=yield fetchJson(cs);if(!us)return null;fn.push({type:"metadata",content:JSON.stringify(us)});let ps=us.image;if(typeof ps!="string")return null;if(!ps.match(/^(https:\/\/|data:)/i)){if(ps.match(matcherIpfs)==null)return null;fn.push({type:"url-ipfs",content:ps}),ps=getIpfsLink(ps)}return fn.push({type:"url",content:ps}),{linkage:fn,url:ps}}}}}catch{}return null})}getContentHash(){return __awaiter$7(this,void 0,void 0,function*(){const fn=yield this._fetchBytes("0xbc1c58d1");if(fn==null||fn==="0x")return null;const En=fn.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(En){const ba=parseInt(En[3],16);if(En[4].length===ba*2)return"ipfs://"+Base58.encode("0x"+En[1])}const Cn=fn.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(Cn){const ba=parseInt(Cn[3],16);if(Cn[4].length===ba*2)return"ipns://"+Base58.encode("0x"+Cn[1])}const _i=fn.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(_i&&_i[1].length===32*2)return"bzz://"+_i[1];const An=fn.match(/^0x90b2c605([0-9a-f]*)$/);if(An&&An[1].length===34*2){const ba={"=":"","+":"-","/":"_"};return"sia://"+encode$b("0x"+An[1]).replace(/[=+\/]/g,$a=>ba[$a])}return logger$g.throwError("invalid or unsupported content hash data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:fn})})}getText(fn){return __awaiter$7(this,void 0,void 0,function*(){let En=toUtf8Bytes(fn);En=concat$3([bytes32ify(64),bytes32ify(En.length),En]),En.length%32!==0&&(En=concat$3([En,hexZeroPad("0x",32-fn.length%32)]));const Cn=yield this._fetchBytes("0x59d1d43c",hexlify(En));return Cn==null||Cn==="0x"?null:toUtf8String(Cn)})}}let defaultFormatter=null,nextPollId=1;class BaseProvider extends Provider{constructor(fn){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),defineReadOnly(this,"anyNetwork",fn==="any"),this.anyNetwork&&(fn=this.detectNetwork()),fn instanceof Promise)this._networkPromise=fn,fn.catch(En=>{}),this._ready().catch(En=>{});else{const En=getStatic(new.target,"getNetwork")(fn);En?(defineReadOnly(this,"_network",En),this.emit("network",En,null)):logger$g.throwArgumentError("invalid network","network",fn)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return __awaiter$7(this,void 0,void 0,function*(){if(this._network==null){let fn=null;if(this._networkPromise)try{fn=yield this._networkPromise}catch{}fn==null&&(fn=yield this.detectNetwork()),fn||logger$g.throwError("no network detected",Logger.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=fn:defineReadOnly(this,"_network",fn),this.emit("network",fn,null))}return this._network})}get ready(){return poll(()=>this._ready().then(fn=>fn,fn=>{if(!(fn.code===Logger.errors.NETWORK_ERROR&&fn.event==="noNetwork"))throw fn}))}static getFormatter(){return defaultFormatter==null&&(defaultFormatter=new Formatter),defaultFormatter}static getNetwork(fn){return getNetwork(fn??"homestead")}ccipReadFetch(fn,En,Cn){return __awaiter$7(this,void 0,void 0,function*(){if(this.disableCcipRead||Cn.length===0)return null;const _i=fn.to.toLowerCase(),An=En.toLowerCase(),ba=[];for(let xa=0;xa<Cn.length;xa++){const $a=Cn[xa],rs=$a.replace("{sender}",_i).replace("{data}",An),ts=$a.indexOf("{data}")>=0?null:JSON.stringify({data:An,sender:_i}),is=yield fetchJson({url:rs,errorPassThrough:!0},ts,(us,ps)=>(us.status=ps.statusCode,us));if(is.data)return is.data;const cs=is.message||"unknown error";if(is.status>=400&&is.status<500)return logger$g.throwError(`response not found during CCIP fetch: ${cs}`,Logger.errors.SERVER_ERROR,{url:$a,errorMessage:cs});ba.push(cs)}return logger$g.throwError(`error encountered during CCIP fetch: ${ba.map(xa=>JSON.stringify(xa)).join(", ")}`,Logger.errors.SERVER_ERROR,{urls:Cn,errorMessages:ba})})}_getInternalBlockNumber(fn){return __awaiter$7(this,void 0,void 0,function*(){if(yield this._ready(),fn>0)for(;this._internalBlockNumber;){const _i=this._internalBlockNumber;try{const An=yield _i;if(getTime()-An.respTime<=fn)return An.blockNumber;break}catch{if(this._internalBlockNumber===_i)break}}const En=getTime(),Cn=resolveProperties({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(_i=>null,_i=>_i)}).then(({blockNumber:_i,networkError:An})=>{if(An)throw this._internalBlockNumber===Cn&&(this._internalBlockNumber=null),An;const ba=getTime();return _i=BigNumber.from(_i).toNumber(),_i<this._maxInternalBlockNumber&&(_i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=_i,this._setFastBlockNumber(_i),{blockNumber:_i,reqTime:En,respTime:ba}});return this._internalBlockNumber=Cn,Cn.catch(_i=>{this._internalBlockNumber===Cn&&(this._internalBlockNumber=null)}),(yield Cn).blockNumber})}poll(){return __awaiter$7(this,void 0,void 0,function*(){const fn=nextPollId++,En=[];let Cn=null;try{Cn=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(_i){this.emit("error",_i);return}if(this._setFastBlockNumber(Cn),this.emit("poll",fn,Cn),Cn===this._lastBlockNumber){this.emit("didPoll",fn);return}if(this._emitted.block===-2&&(this._emitted.block=Cn-1),Math.abs(this._emitted.block-Cn)>1e3)logger$g.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${Cn})`),this.emit("error",logger$g.makeError("network block skew detected",Logger.errors.NETWORK_ERROR,{blockNumber:Cn,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",Cn);else for(let _i=this._emitted.block+1;_i<=Cn;_i++)this.emit("block",_i);this._emitted.block!==Cn&&(this._emitted.block=Cn,Object.keys(this._emitted).forEach(_i=>{if(_i==="block")return;const An=this._emitted[_i];An!=="pending"&&Cn-An>12&&delete this._emitted[_i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=Cn-1),this._events.forEach(_i=>{switch(_i.type){case"tx":{const An=_i.hash;let ba=this.getTransactionReceipt(An).then(xa=>(!xa||xa.blockNumber==null||(this._emitted["t:"+An]=xa.blockNumber,this.emit(An,xa)),null)).catch(xa=>{this.emit("error",xa)});En.push(ba);break}case"filter":{if(!_i._inflight){_i._inflight=!0,_i._lastBlockNumber===-2&&(_i._lastBlockNumber=Cn-1);const An=_i.filter;An.fromBlock=_i._lastBlockNumber+1,An.toBlock=Cn;const ba=An.toBlock-this._maxFilterBlockRange;ba>An.fromBlock&&(An.fromBlock=ba),An.fromBlock<0&&(An.fromBlock=0);const xa=this.getLogs(An).then($a=>{_i._inflight=!1,$a.length!==0&&$a.forEach(rs=>{rs.blockNumber>_i._lastBlockNumber&&(_i._lastBlockNumber=rs.blockNumber),this._emitted["b:"+rs.blockHash]=rs.blockNumber,this._emitted["t:"+rs.transactionHash]=rs.blockNumber,this.emit(An,rs)})}).catch($a=>{this.emit("error",$a),_i._inflight=!1});En.push(xa)}break}}}),this._lastBlockNumber=Cn,Promise.all(En).then(()=>{this.emit("didPoll",fn)}).catch(_i=>{this.emit("error",_i)})})}resetEventsBlock(fn){this._lastBlockNumber=fn-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return __awaiter$7(this,void 0,void 0,function*(){return logger$g.throwError("provider does not support network detection",Logger.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return __awaiter$7(this,void 0,void 0,function*(){const fn=yield this._ready(),En=yield this.detectNetwork();if(fn.chainId!==En.chainId){if(this.anyNetwork)return this._network=En,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",En,fn),yield stall$1(0),this._network;const Cn=logger$g.makeError("underlying network changed",Logger.errors.NETWORK_ERROR,{event:"changed",network:fn,detectedNetwork:En});throw this.emit("error",Cn),Cn}return fn})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(fn=>{this._setFastBlockNumber(fn)},fn=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(fn){fn&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!fn&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(fn){if(typeof fn!="number"||fn<=0||parseInt(String(fn))!=fn)throw new Error("invalid polling interval");this._pollingInterval=fn,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const fn=getTime();return fn-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=fn,this._fastBlockNumberPromise=this.getBlockNumber().then(En=>((this._fastBlockNumber==null||En>this._fastBlockNumber)&&(this._fastBlockNumber=En),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(fn){this._fastBlockNumber!=null&&fn<this._fastBlockNumber||(this._fastQueryDate=getTime(),(this._fastBlockNumber==null||fn>this._fastBlockNumber)&&(this._fastBlockNumber=fn,this._fastBlockNumberPromise=Promise.resolve(fn)))}waitForTransaction(fn,En,Cn){return __awaiter$7(this,void 0,void 0,function*(){return this._waitForTransaction(fn,En??1,Cn||0,null)})}_waitForTransaction(fn,En,Cn,_i){return __awaiter$7(this,void 0,void 0,function*(){const An=yield this.getTransactionReceipt(fn);return(An?An.confirmations:0)>=En?An:new Promise((ba,xa)=>{const $a=[];let rs=!1;const ts=function(){return rs?!0:(rs=!0,$a.forEach(cs=>{cs()}),!1)},is=cs=>{cs.confirmations<En||ts()||ba(cs)};if(this.on(fn,is),$a.push(()=>{this.removeListener(fn,is)}),_i){let cs=_i.startBlock,us=null;const ps=bs=>__awaiter$7(this,void 0,void 0,function*(){rs||(yield stall$1(1e3),this.getTransactionCount(_i.from).then(e0=>__awaiter$7(this,void 0,void 0,function*(){if(!rs){if(e0<=_i.nonce)cs=bs;else{{const gs=yield this.getTransaction(fn);if(gs&&gs.blockNumber!=null)return}for(us==null&&(us=cs-3,us<_i.startBlock&&(us=_i.startBlock));us<=bs;){if(rs)return;const gs=yield this.getBlockWithTransactions(us);for(let Ds=0;Ds<gs.transactions.length;Ds++){const i0=gs.transactions[Ds];if(i0.hash===fn)return;if(i0.from===_i.from&&i0.nonce===_i.nonce){if(rs)return;const n0=yield this.waitForTransaction(i0.hash,En);if(ts())return;let c0="replaced";i0.data===_i.data&&i0.to===_i.to&&i0.value.eq(_i.value)?c0="repriced":i0.data==="0x"&&i0.from===i0.to&&i0.value.isZero()&&(c0="cancelled"),xa(logger$g.makeError("transaction was replaced",Logger.errors.TRANSACTION_REPLACED,{cancelled:c0==="replaced"||c0==="cancelled",reason:c0,replacement:this._wrapTransaction(i0),hash:fn,receipt:n0}));return}}us++}}rs||this.once("block",ps)}}),e0=>{rs||this.once("block",ps)}))});if(rs)return;this.once("block",ps),$a.push(()=>{this.removeListener("block",ps)})}if(typeof Cn=="number"&&Cn>0){const cs=setTimeout(()=>{ts()||xa(logger$g.makeError("timeout exceeded",Logger.errors.TIMEOUT,{timeout:Cn}))},Cn);cs.unref&&cs.unref(),$a.push(()=>{clearTimeout(cs)})}})})}getBlockNumber(){return __awaiter$7(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork();const fn=yield this.perform("getGasPrice",{});try{return BigNumber.from(fn)}catch(En){return logger$g.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getGasPrice",result:fn,error:En})}})}getBalance(fn,En){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork();const Cn=yield resolveProperties({address:this._getAddress(fn),blockTag:this._getBlockTag(En)}),_i=yield this.perform("getBalance",Cn);try{return BigNumber.from(_i)}catch(An){return logger$g.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getBalance",params:Cn,result:_i,error:An})}})}getTransactionCount(fn,En){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork();const Cn=yield resolveProperties({address:this._getAddress(fn),blockTag:this._getBlockTag(En)}),_i=yield this.perform("getTransactionCount",Cn);try{return BigNumber.from(_i).toNumber()}catch(An){return logger$g.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getTransactionCount",params:Cn,result:_i,error:An})}})}getCode(fn,En){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork();const Cn=yield resolveProperties({address:this._getAddress(fn),blockTag:this._getBlockTag(En)}),_i=yield this.perform("getCode",Cn);try{return hexlify(_i)}catch(An){return logger$g.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getCode",params:Cn,result:_i,error:An})}})}getStorageAt(fn,En,Cn){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork();const _i=yield resolveProperties({address:this._getAddress(fn),blockTag:this._getBlockTag(Cn),position:Promise.resolve(En).then(ba=>hexValue(ba))}),An=yield this.perform("getStorageAt",_i);try{return hexlify(An)}catch(ba){return logger$g.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getStorageAt",params:_i,result:An,error:ba})}})}_wrapTransaction(fn,En,Cn){if(En!=null&&hexDataLength(En)!==32)throw new Error("invalid response - sendTransaction");const _i=fn;return En!=null&&fn.hash!==En&&logger$g.throwError("Transaction hash mismatch from Provider.sendTransaction.",Logger.errors.UNKNOWN_ERROR,{expectedHash:fn.hash,returnedHash:En}),_i.wait=(An,ba)=>__awaiter$7(this,void 0,void 0,function*(){An==null&&(An=1),ba==null&&(ba=0);let xa;An!==0&&Cn!=null&&(xa={data:fn.data,from:fn.from,nonce:fn.nonce,to:fn.to,value:fn.value,startBlock:Cn});const $a=yield this._waitForTransaction(fn.hash,An,ba,xa);return $a==null&&An===0?null:(this._emitted["t:"+fn.hash]=$a.blockNumber,$a.status===0&&logger$g.throwError("transaction failed",Logger.errors.CALL_EXCEPTION,{transactionHash:fn.hash,transaction:fn,receipt:$a}),$a)}),_i}sendTransaction(fn){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork();const En=yield Promise.resolve(fn).then(An=>hexlify(An)),Cn=this.formatter.transaction(fn);Cn.confirmations==null&&(Cn.confirmations=0);const _i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const An=yield this.perform("sendTransaction",{signedTransaction:En});return this._wrapTransaction(Cn,An,_i)}catch(An){throw An.transaction=Cn,An.transactionHash=Cn.hash,An}})}_getTransactionRequest(fn){return __awaiter$7(this,void 0,void 0,function*(){const En=yield fn,Cn={};return["from","to"].forEach(_i=>{En[_i]!=null&&(Cn[_i]=Promise.resolve(En[_i]).then(An=>An?this._getAddress(An):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(_i=>{En[_i]!=null&&(Cn[_i]=Promise.resolve(En[_i]).then(An=>An?BigNumber.from(An):null))}),["type"].forEach(_i=>{En[_i]!=null&&(Cn[_i]=Promise.resolve(En[_i]).then(An=>An??null))}),En.accessList&&(Cn.accessList=this.formatter.accessList(En.accessList)),["data"].forEach(_i=>{En[_i]!=null&&(Cn[_i]=Promise.resolve(En[_i]).then(An=>An?hexlify(An):null))}),this.formatter.transactionRequest(yield resolveProperties(Cn))})}_getFilter(fn){return __awaiter$7(this,void 0,void 0,function*(){fn=yield fn;const En={};return fn.address!=null&&(En.address=this._getAddress(fn.address)),["blockHash","topics"].forEach(Cn=>{fn[Cn]!=null&&(En[Cn]=fn[Cn])}),["fromBlock","toBlock"].forEach(Cn=>{fn[Cn]!=null&&(En[Cn]=this._getBlockTag(fn[Cn]))}),this.formatter.filter(yield resolveProperties(En))})}_call(fn,En,Cn){return __awaiter$7(this,void 0,void 0,function*(){Cn>=MAX_CCIP_REDIRECTS&&logger$g.throwError("CCIP read exceeded maximum redirections",Logger.errors.SERVER_ERROR,{redirects:Cn,transaction:fn});const _i=fn.to,An=yield this.perform("call",{transaction:fn,blockTag:En});if(Cn>=0&&En==="latest"&&_i!=null&&An.substring(0,10)==="0x556f1830"&&hexDataLength(An)%32===4)try{const ba=hexDataSlice(An,4),xa=hexDataSlice(ba,0,32);BigNumber.from(xa).eq(_i)||logger$g.throwError("CCIP Read sender did not match",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:fn,data:An});const $a=[],rs=BigNumber.from(hexDataSlice(ba,32,64)).toNumber(),ts=BigNumber.from(hexDataSlice(ba,rs,rs+32)).toNumber(),is=hexDataSlice(ba,rs+32);for(let gs=0;gs<ts;gs++){const Ds=_parseString(is,gs*32);Ds==null&&logger$g.throwError("CCIP Read contained corrupt URL string",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:fn,data:An}),$a.push(Ds)}const cs=_parseBytes(ba,64);BigNumber.from(hexDataSlice(ba,100,128)).isZero()||logger$g.throwError("CCIP Read callback selector included junk",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:fn,data:An});const us=hexDataSlice(ba,96,100),ps=_parseBytes(ba,128),bs=yield this.ccipReadFetch(fn,cs,$a);bs==null&&logger$g.throwError("CCIP Read disabled or provided no URLs",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:fn,data:An});const e0={to:_i,data:hexConcat([us,encodeBytes([bs,ps])])};return this._call(e0,En,Cn+1)}catch(ba){if(ba.code===Logger.errors.SERVER_ERROR)throw ba}try{return hexlify(An)}catch(ba){return logger$g.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"call",params:{transaction:fn,blockTag:En},result:An,error:ba})}})}call(fn,En){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork();const Cn=yield resolveProperties({transaction:this._getTransactionRequest(fn),blockTag:this._getBlockTag(En),ccipReadEnabled:Promise.resolve(fn.ccipReadEnabled)});return this._call(Cn.transaction,Cn.blockTag,Cn.ccipReadEnabled?0:-1)})}estimateGas(fn){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork();const En=yield resolveProperties({transaction:this._getTransactionRequest(fn)}),Cn=yield this.perform("estimateGas",En);try{return BigNumber.from(Cn)}catch(_i){return logger$g.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"estimateGas",params:En,result:Cn,error:_i})}})}_getAddress(fn){return __awaiter$7(this,void 0,void 0,function*(){fn=yield fn,typeof fn!="string"&&logger$g.throwArgumentError("invalid address or ENS name","name",fn);const En=yield this.resolveName(fn);return En==null&&logger$g.throwError("ENS name not configured",Logger.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(fn)})`}),En})}_getBlock(fn,En){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork(),fn=yield fn;let Cn=-128;const _i={includeTransactions:!!En};if(isHexString(fn,32))_i.blockHash=fn;else try{_i.blockTag=yield this._getBlockTag(fn),isHexString(_i.blockTag)&&(Cn=parseInt(_i.blockTag.substring(2),16))}catch{logger$g.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",fn)}return poll(()=>__awaiter$7(this,void 0,void 0,function*(){const An=yield this.perform("getBlock",_i);if(An==null)return _i.blockHash!=null&&this._emitted["b:"+_i.blockHash]==null||_i.blockTag!=null&&Cn>this._emitted.block?null:void 0;if(En){let ba=null;for(let $a=0;$a<An.transactions.length;$a++){const rs=An.transactions[$a];if(rs.blockNumber==null)rs.confirmations=0;else if(rs.confirmations==null){ba==null&&(ba=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let ts=ba-rs.blockNumber+1;ts<=0&&(ts=1),rs.confirmations=ts}}const xa=this.formatter.blockWithTransactions(An);return xa.transactions=xa.transactions.map($a=>this._wrapTransaction($a)),xa}return this.formatter.block(An)}),{oncePoll:this})})}getBlock(fn){return this._getBlock(fn,!1)}getBlockWithTransactions(fn){return this._getBlock(fn,!0)}getTransaction(fn){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork(),fn=yield fn;const En={transactionHash:this.formatter.hash(fn,!0)};return poll(()=>__awaiter$7(this,void 0,void 0,function*(){const Cn=yield this.perform("getTransaction",En);if(Cn==null)return this._emitted["t:"+fn]==null?null:void 0;const _i=this.formatter.transactionResponse(Cn);if(_i.blockNumber==null)_i.confirmations=0;else if(_i.confirmations==null){let ba=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-_i.blockNumber+1;ba<=0&&(ba=1),_i.confirmations=ba}return this._wrapTransaction(_i)}),{oncePoll:this})})}getTransactionReceipt(fn){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork(),fn=yield fn;const En={transactionHash:this.formatter.hash(fn,!0)};return poll(()=>__awaiter$7(this,void 0,void 0,function*(){const Cn=yield this.perform("getTransactionReceipt",En);if(Cn==null)return this._emitted["t:"+fn]==null?null:void 0;if(Cn.blockHash==null)return;const _i=this.formatter.receipt(Cn);if(_i.blockNumber==null)_i.confirmations=0;else if(_i.confirmations==null){let ba=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-_i.blockNumber+1;ba<=0&&(ba=1),_i.confirmations=ba}return _i}),{oncePoll:this})})}getLogs(fn){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork();const En=yield resolveProperties({filter:this._getFilter(fn)}),Cn=yield this.perform("getLogs",En);return Cn.forEach(_i=>{_i.removed==null&&(_i.removed=!1)}),Formatter.arrayOf(this.formatter.filterLog.bind(this.formatter))(Cn)})}getEtherPrice(){return __awaiter$7(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(fn){return __awaiter$7(this,void 0,void 0,function*(){if(fn=yield fn,typeof fn=="number"&&fn<0){fn%1&&logger$g.throwArgumentError("invalid BlockTag","blockTag",fn);let En=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return En+=fn,En<0&&(En=0),this.formatter.blockTag(En)}return this.formatter.blockTag(fn)})}getResolver(fn){return __awaiter$7(this,void 0,void 0,function*(){let En=fn;for(;;){if(En===""||En==="."||fn!=="eth"&&En==="eth")return null;const Cn=yield this._getResolver(En,"getResolver");if(Cn!=null){const _i=new Resolver(this,Cn,fn);return En!==fn&&!(yield _i.supportsWildcard())?null:_i}En=En.split(".").slice(1).join(".")}})}_getResolver(fn,En){return __awaiter$7(this,void 0,void 0,function*(){En==null&&(En="ENS");const Cn=yield this.getNetwork();Cn.ensAddress||logger$g.throwError("network does not support ENS",Logger.errors.UNSUPPORTED_OPERATION,{operation:En,network:Cn.name});try{const _i=yield this.call({to:Cn.ensAddress,data:"0x0178b8bf"+namehash(fn).substring(2)});return this.formatter.callAddress(_i)}catch{}return null})}resolveName(fn){return __awaiter$7(this,void 0,void 0,function*(){fn=yield fn;try{return Promise.resolve(this.formatter.address(fn))}catch(Cn){if(isHexString(fn))throw Cn}typeof fn!="string"&&logger$g.throwArgumentError("invalid ENS name","name",fn);const En=yield this.getResolver(fn);return En?yield En.getAddress():null})}lookupAddress(fn){return __awaiter$7(this,void 0,void 0,function*(){fn=yield fn,fn=this.formatter.address(fn);const En=fn.substring(2).toLowerCase()+".addr.reverse",Cn=yield this._getResolver(En,"lookupAddress");if(Cn==null)return null;const _i=_parseString(yield this.call({to:Cn,data:"0x691f3431"+namehash(En).substring(2)}),0);return(yield this.resolveName(_i))!=fn?null:_i})}getAvatar(fn){return __awaiter$7(this,void 0,void 0,function*(){let En=null;if(isHexString(fn)){const An=this.formatter.address(fn).substring(2).toLowerCase()+".addr.reverse",ba=yield this._getResolver(An,"getAvatar");if(!ba)return null;En=new Resolver(this,ba,An);try{const xa=yield En.getAvatar();if(xa)return xa.url}catch(xa){if(xa.code!==Logger.errors.CALL_EXCEPTION)throw xa}try{const xa=_parseString(yield this.call({to:ba,data:"0x691f3431"+namehash(An).substring(2)}),0);En=yield this.getResolver(xa)}catch(xa){if(xa.code!==Logger.errors.CALL_EXCEPTION)throw xa;return null}}else if(En=yield this.getResolver(fn),!En)return null;const Cn=yield En.getAvatar();return Cn==null?null:Cn.url})}perform(fn,En){return logger$g.throwError(fn+" not implemented",Logger.errors.NOT_IMPLEMENTED,{operation:fn})}_startEvent(fn){this.polling=this._events.filter(En=>En.pollable()).length>0}_stopEvent(fn){this.polling=this._events.filter(En=>En.pollable()).length>0}_addEventListener(fn,En,Cn){const _i=new Event$1(getEventTag(fn),En,Cn);return this._events.push(_i),this._startEvent(_i),this}on(fn,En){return this._addEventListener(fn,En,!1)}once(fn,En){return this._addEventListener(fn,En,!0)}emit(fn,...En){let Cn=!1,_i=[],An=getEventTag(fn);return this._events=this._events.filter(ba=>ba.tag!==An?!0:(setTimeout(()=>{ba.listener.apply(this,En)},0),Cn=!0,ba.once?(_i.push(ba),!1):!0)),_i.forEach(ba=>{this._stopEvent(ba)}),Cn}listenerCount(fn){if(!fn)return this._events.length;let En=getEventTag(fn);return this._events.filter(Cn=>Cn.tag===En).length}listeners(fn){if(fn==null)return this._events.map(Cn=>Cn.listener);let En=getEventTag(fn);return this._events.filter(Cn=>Cn.tag===En).map(Cn=>Cn.listener)}off(fn,En){if(En==null)return this.removeAllListeners(fn);const Cn=[];let _i=!1,An=getEventTag(fn);return this._events=this._events.filter(ba=>ba.tag!==An||ba.listener!=En||_i?!0:(_i=!0,Cn.push(ba),!1)),Cn.forEach(ba=>{this._stopEvent(ba)}),this}removeAllListeners(fn){let En=[];if(fn==null)En=this._events,this._events=[];else{const Cn=getEventTag(fn);this._events=this._events.filter(_i=>_i.tag!==Cn?!0:(En.push(_i),!1))}return En.forEach(Cn=>{this._stopEvent(Cn)}),this}}var __awaiter$6=function(vn,fn,En,Cn){function _i(An){return An instanceof En?An:new En(function(ba){ba(An)})}return new(En||(En=Promise))(function(An,ba){function xa(ts){try{rs(Cn.next(ts))}catch(is){ba(is)}}function $a(ts){try{rs(Cn.throw(ts))}catch(is){ba(is)}}function rs(ts){ts.done?An(ts.value):_i(ts.value).then(xa,$a)}rs((Cn=Cn.apply(vn,fn||[])).next())})};const logger$f=new Logger(version$8),errorGas=["call","estimateGas"];function spelunk(vn,fn){if(vn==null)return null;if(typeof vn.message=="string"&&vn.message.match("reverted")){const En=isHexString(vn.data)?vn.data:null;if(!fn||En)return{message:vn.message,data:En}}if(typeof vn=="object"){for(const En in vn){const Cn=spelunk(vn[En],fn);if(Cn)return Cn}return null}if(typeof vn=="string")try{return spelunk(JSON.parse(vn),fn)}catch{}return null}function checkError$1(vn,fn,En){const Cn=En.transaction||En.signedTransaction;if(vn==="call"){const An=spelunk(fn,!0);if(An)return An.data;logger$f.throwError("missing revert data in call exception; Transaction reverted without a reason string",Logger.errors.CALL_EXCEPTION,{data:"0x",transaction:Cn,error:fn})}if(vn==="estimateGas"){let An=spelunk(fn.body,!1);An==null&&(An=spelunk(fn,!1)),An&&logger$f.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:An.message,method:vn,transaction:Cn,error:fn})}let _i=fn.message;throw fn.code===Logger.errors.SERVER_ERROR&&fn.error&&typeof fn.error.message=="string"?_i=fn.error.message:typeof fn.body=="string"?_i=fn.body:typeof fn.responseText=="string"&&(_i=fn.responseText),_i=(_i||"").toLowerCase(),_i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&logger$f.throwError("insufficient funds for intrinsic transaction cost",Logger.errors.INSUFFICIENT_FUNDS,{error:fn,method:vn,transaction:Cn}),_i.match(/nonce (is )?too low/i)&&logger$f.throwError("nonce has already been used",Logger.errors.NONCE_EXPIRED,{error:fn,method:vn,transaction:Cn}),_i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&logger$f.throwError("replacement fee too low",Logger.errors.REPLACEMENT_UNDERPRICED,{error:fn,method:vn,transaction:Cn}),_i.match(/only replay-protected/i)&&logger$f.throwError("legacy pre-eip-155 transactions not supported",Logger.errors.UNSUPPORTED_OPERATION,{error:fn,method:vn,transaction:Cn}),errorGas.indexOf(vn)>=0&&_i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&logger$f.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:fn,method:vn,transaction:Cn}),fn}function timer(vn){return new Promise(function(fn){setTimeout(fn,vn)})}function getResult$1(vn){if(vn.error){const fn=new Error(vn.error.message);throw fn.code=vn.error.code,fn.data=vn.error.data,fn}return vn.result}function getLowerCase(vn){return vn&&vn.toLowerCase()}const _constructorGuard={};class JsonRpcSigner extends Signer{constructor(fn,En,Cn){if(super(),fn!==_constructorGuard)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");defineReadOnly(this,"provider",En),Cn==null&&(Cn=0),typeof Cn=="string"?(defineReadOnly(this,"_address",this.provider.formatter.address(Cn)),defineReadOnly(this,"_index",null)):typeof Cn=="number"?(defineReadOnly(this,"_index",Cn),defineReadOnly(this,"_address",null)):logger$f.throwArgumentError("invalid address or index","addressOrIndex",Cn)}connect(fn){return logger$f.throwError("cannot alter JSON-RPC Signer connection",Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new UncheckedJsonRpcSigner(_constructorGuard,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(fn=>(fn.length<=this._index&&logger$f.throwError("unknown account #"+this._index,Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(fn[this._index])))}sendUncheckedTransaction(fn){fn=shallowCopy(fn);const En=this.getAddress().then(Cn=>(Cn&&(Cn=Cn.toLowerCase()),Cn));if(fn.gasLimit==null){const Cn=shallowCopy(fn);Cn.from=En,fn.gasLimit=this.provider.estimateGas(Cn)}return fn.to!=null&&(fn.to=Promise.resolve(fn.to).then(Cn=>__awaiter$6(this,void 0,void 0,function*(){if(Cn==null)return null;const _i=yield this.provider.resolveName(Cn);return _i==null&&logger$f.throwArgumentError("provided ENS name resolves to null","tx.to",Cn),_i}))),resolveProperties({tx:resolveProperties(fn),sender:En}).then(({tx:Cn,sender:_i})=>{Cn.from!=null?Cn.from.toLowerCase()!==_i&&logger$f.throwArgumentError("from address mismatch","transaction",fn):Cn.from=_i;const An=this.provider.constructor.hexlifyTransaction(Cn,{from:!0});return this.provider.send("eth_sendTransaction",[An]).then(ba=>ba,ba=>(typeof ba.message=="string"&&ba.message.match(/user denied/i)&&logger$f.throwError("user rejected transaction",Logger.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:Cn}),checkError$1("sendTransaction",ba,An)))})}signTransaction(fn){return logger$f.throwError("signing transactions is unsupported",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(fn){return __awaiter$6(this,void 0,void 0,function*(){const En=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),Cn=yield this.sendUncheckedTransaction(fn);try{return yield poll(()=>__awaiter$6(this,void 0,void 0,function*(){const _i=yield this.provider.getTransaction(Cn);if(_i!==null)return this.provider._wrapTransaction(_i,Cn,En)}),{oncePoll:this.provider})}catch(_i){throw _i.transactionHash=Cn,_i}})}signMessage(fn){return __awaiter$6(this,void 0,void 0,function*(){const En=typeof fn=="string"?toUtf8Bytes(fn):fn,Cn=yield this.getAddress();try{return yield this.provider.send("personal_sign",[hexlify(En),Cn.toLowerCase()])}catch(_i){throw typeof _i.message=="string"&&_i.message.match(/user denied/i)&&logger$f.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"signMessage",from:Cn,messageData:fn}),_i}})}_legacySignMessage(fn){return __awaiter$6(this,void 0,void 0,function*(){const En=typeof fn=="string"?toUtf8Bytes(fn):fn,Cn=yield this.getAddress();try{return yield this.provider.send("eth_sign",[Cn.toLowerCase(),hexlify(En)])}catch(_i){throw typeof _i.message=="string"&&_i.message.match(/user denied/i)&&logger$f.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:Cn,messageData:fn}),_i}})}_signTypedData(fn,En,Cn){return __awaiter$6(this,void 0,void 0,function*(){const _i=yield TypedDataEncoder.resolveNames(fn,En,Cn,ba=>this.provider.resolveName(ba)),An=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[An.toLowerCase(),JSON.stringify(TypedDataEncoder.getPayload(_i.domain,En,_i.value))])}catch(ba){throw typeof ba.message=="string"&&ba.message.match(/user denied/i)&&logger$f.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"_signTypedData",from:An,messageData:{domain:_i.domain,types:En,value:_i.value}}),ba}})}unlock(fn){return __awaiter$6(this,void 0,void 0,function*(){const En=this.provider,Cn=yield this.getAddress();return En.send("personal_unlockAccount",[Cn.toLowerCase(),fn,null])})}}class UncheckedJsonRpcSigner extends JsonRpcSigner{sendTransaction(fn){return this.sendUncheckedTransaction(fn).then(En=>({hash:En,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:Cn=>this.provider.waitForTransaction(En,Cn)}))}}const allowedTransactionKeys={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class JsonRpcProvider extends BaseProvider{constructor(fn,En){let Cn=En;Cn==null&&(Cn=new Promise((_i,An)=>{setTimeout(()=>{this.detectNetwork().then(ba=>{_i(ba)},ba=>{An(ba)})},0)})),super(Cn),fn||(fn=getStatic(this.constructor,"defaultUrl")()),typeof fn=="string"?defineReadOnly(this,"connection",Object.freeze({url:fn})):defineReadOnly(this,"connection",Object.freeze(shallowCopy(fn))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return __awaiter$6(this,void 0,void 0,function*(){yield timer(0);let fn=null;try{fn=yield this.send("eth_chainId",[])}catch{try{fn=yield this.send("net_version",[])}catch{}}if(fn!=null){const En=getStatic(this.constructor,"getNetwork");try{return En(BigNumber.from(fn).toNumber())}catch(Cn){return logger$f.throwError("could not detect network",Logger.errors.NETWORK_ERROR,{chainId:fn,event:"invalidNetwork",serverError:Cn})}}return logger$f.throwError("could not detect network",Logger.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(fn){return new JsonRpcSigner(_constructorGuard,this,fn)}getUncheckedSigner(fn){return this.getSigner(fn).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(fn=>fn.map(En=>this.formatter.address(En)))}send(fn,En){const Cn={method:fn,params:En,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:deepCopy(Cn),provider:this});const _i=["eth_chainId","eth_blockNumber"].indexOf(fn)>=0;if(_i&&this._cache[fn])return this._cache[fn];const An=fetchJson(this.connection,JSON.stringify(Cn),getResult$1).then(ba=>(this.emit("debug",{action:"response",request:Cn,response:ba,provider:this}),ba),ba=>{throw this.emit("debug",{action:"response",error:ba,request:Cn,provider:this}),ba});return _i&&(this._cache[fn]=An,setTimeout(()=>{this._cache[fn]=null},0)),An}prepareRequest(fn,En){switch(fn){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[getLowerCase(En.address),En.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[getLowerCase(En.address),En.blockTag]];case"getCode":return["eth_getCode",[getLowerCase(En.address),En.blockTag]];case"getStorageAt":return["eth_getStorageAt",[getLowerCase(En.address),hexZeroPad(En.position,32),En.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[En.signedTransaction]];case"getBlock":return En.blockTag?["eth_getBlockByNumber",[En.blockTag,!!En.includeTransactions]]:En.blockHash?["eth_getBlockByHash",[En.blockHash,!!En.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[En.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[En.transactionHash]];case"call":return["eth_call",[getStatic(this.constructor,"hexlifyTransaction")(En.transaction,{from:!0}),En.blockTag]];case"estimateGas":return["eth_estimateGas",[getStatic(this.constructor,"hexlifyTransaction")(En.transaction,{from:!0})]];case"getLogs":return En.filter&&En.filter.address!=null&&(En.filter.address=getLowerCase(En.filter.address)),["eth_getLogs",[En.filter]]}return null}perform(fn,En){return __awaiter$6(this,void 0,void 0,function*(){if(fn==="call"||fn==="estimateGas"){const _i=En.transaction;if(_i&&_i.type!=null&&BigNumber.from(_i.type).isZero()&&_i.maxFeePerGas==null&&_i.maxPriorityFeePerGas==null){const An=yield this.getFeeData();An.maxFeePerGas==null&&An.maxPriorityFeePerGas==null&&(En=shallowCopy(En),En.transaction=shallowCopy(_i),delete En.transaction.type)}}const Cn=this.prepareRequest(fn,En);Cn==null&&logger$f.throwError(fn+" not implemented",Logger.errors.NOT_IMPLEMENTED,{operation:fn});try{return yield this.send(Cn[0],Cn[1])}catch(_i){return checkError$1(fn,_i,En)}})}_startEvent(fn){fn.tag==="pending"&&this._startPending(),super._startEvent(fn)}_startPending(){if(this._pendingFilter!=null)return;const fn=this,En=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=En,En.then(function(Cn){function _i(){fn.send("eth_getFilterChanges",[Cn]).then(function(An){if(fn._pendingFilter!=En)return null;let ba=Promise.resolve();return An.forEach(function(xa){fn._emitted["t:"+xa.toLowerCase()]="pending",ba=ba.then(function(){return fn.getTransaction(xa).then(function($a){return fn.emit("pending",$a),null})})}),ba.then(function(){return timer(1e3)})}).then(function(){if(fn._pendingFilter!=En){fn.send("eth_uninstallFilter",[Cn]);return}return setTimeout(function(){_i()},0),null}).catch(An=>{})}return _i(),Cn}).catch(Cn=>{})}_stopEvent(fn){fn.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(fn)}static hexlifyTransaction(fn,En){const Cn=shallowCopy(allowedTransactionKeys);if(En)for(const An in En)En[An]&&(Cn[An]=!0);checkProperties(fn,Cn);const _i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(An){if(fn[An]==null)return;const ba=hexValue(BigNumber.from(fn[An]));An==="gasLimit"&&(An="gas"),_i[An]=ba}),["from","to","data"].forEach(function(An){fn[An]!=null&&(_i[An]=hexlify(fn[An]))}),fn.accessList&&(_i.accessList=accessListify(fn.accessList)),_i}}let WS=null;try{if(WS=WebSocket,WS==null)throw new Error("inject please")}catch{const fn=new Logger(version$8);WS=function(){fn.throwError("WebSockets not supported in this environment",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var __awaiter$5=function(vn,fn,En,Cn){function _i(An){return An instanceof En?An:new En(function(ba){ba(An)})}return new(En||(En=Promise))(function(An,ba){function xa(ts){try{rs(Cn.next(ts))}catch(is){ba(is)}}function $a(ts){try{rs(Cn.throw(ts))}catch(is){ba(is)}}function rs(ts){ts.done?An(ts.value):_i(ts.value).then(xa,$a)}rs((Cn=Cn.apply(vn,fn||[])).next())})};const logger$e=new Logger(version$8);let NextId=1;class WebSocketProvider extends JsonRpcProvider{constructor(fn,En){En==="any"&&logger$e.throwError("WebSocketProvider does not support 'any' network yet",Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof fn=="string"?super(fn,En):super("_websocket",En),this._pollingInterval=-1,this._wsReady=!1,typeof fn=="string"?defineReadOnly(this,"_websocket",new WS(this.connection.url)):defineReadOnly(this,"_websocket",fn),defineReadOnly(this,"_requests",{}),defineReadOnly(this,"_subs",{}),defineReadOnly(this,"_subIds",{}),defineReadOnly(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(_i=>{this.websocket.send(this._requests[_i].payload)})},this.websocket.onmessage=_i=>{const An=_i.data,ba=JSON.parse(An);if(ba.id!=null){const xa=String(ba.id),$a=this._requests[xa];if(delete this._requests[xa],ba.result!==void 0)$a.callback(null,ba.result),this.emit("debug",{action:"response",request:JSON.parse($a.payload),response:ba.result,provider:this});else{let rs=null;ba.error?(rs=new Error(ba.error.message||"unknown error"),defineReadOnly(rs,"code",ba.error.code||null),defineReadOnly(rs,"response",An)):rs=new Error("unknown error"),$a.callback(rs,void 0),this.emit("debug",{action:"response",error:rs,request:JSON.parse($a.payload),provider:this})}}else if(ba.method==="eth_subscription"){const xa=this._subs[ba.params.subscription];xa&&xa.processFunc(ba.params.result)}else console.warn("this should not happen")};const Cn=setInterval(()=>{this.emit("poll")},1e3);Cn.unref&&Cn.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(fn){logger$e.throwError("cannot reset events block on WebSocketProvider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(fn){logger$e.throwError("cannot set polling interval on WebSocketProvider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return __awaiter$5(this,void 0,void 0,function*(){return null})}set polling(fn){fn&&logger$e.throwError("cannot set polling on WebSocketProvider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(fn,En){const Cn=NextId++;return new Promise((_i,An)=>{function ba($a,rs){return $a?An($a):_i(rs)}const xa=JSON.stringify({method:fn,params:En,id:Cn,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(xa),provider:this}),this._requests[String(Cn)]={callback:ba,payload:xa},this._wsReady&&this.websocket.send(xa)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(fn,En,Cn){return __awaiter$5(this,void 0,void 0,function*(){let _i=this._subIds[fn];_i==null&&(_i=Promise.all(En).then(ba=>this.send("eth_subscribe",ba)),this._subIds[fn]=_i);const An=yield _i;this._subs[An]={tag:fn,processFunc:Cn}})}_startEvent(fn){switch(fn.type){case"block":this._subscribe("block",["newHeads"],En=>{const Cn=BigNumber.from(En.number).toNumber();this._emitted.block=Cn,this.emit("block",Cn)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],En=>{this.emit("pending",En)});break;case"filter":this._subscribe(fn.tag,["logs",this._getFilter(fn.filter)],En=>{En.removed==null&&(En.removed=!1),this.emit(fn.filter,this.formatter.filterLog(En))});break;case"tx":{const En=Cn=>{const _i=Cn.hash;this.getTransactionReceipt(_i).then(An=>{An&&this.emit(_i,An)})};En(fn),this._subscribe("tx",["newHeads"],Cn=>{this._events.filter(_i=>_i.type==="tx").forEach(En)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",fn);break}}_stopEvent(fn){let En=fn.tag;if(fn.type==="tx"){if(this._events.filter(_i=>_i.type==="tx").length)return;En="tx"}else if(this.listenerCount(fn.event))return;const Cn=this._subIds[En];Cn&&(delete this._subIds[En],Cn.then(_i=>{this._subs[_i]&&(delete this._subs[_i],this.send("eth_unsubscribe",[_i]))}))}destroy(){return __awaiter$5(this,void 0,void 0,function*(){this.websocket.readyState===WS.CONNECTING&&(yield new Promise(fn=>{this.websocket.onopen=function(){fn(!0)},this.websocket.onerror=function(){fn(!1)}})),this.websocket.close(1e3)})}}var __awaiter$4=function(vn,fn,En,Cn){function _i(An){return An instanceof En?An:new En(function(ba){ba(An)})}return new(En||(En=Promise))(function(An,ba){function xa(ts){try{rs(Cn.next(ts))}catch(is){ba(is)}}function $a(ts){try{rs(Cn.throw(ts))}catch(is){ba(is)}}function rs(ts){ts.done?An(ts.value):_i(ts.value).then(xa,$a)}rs((Cn=Cn.apply(vn,fn||[])).next())})};const logger$d=new Logger(version$8);class StaticJsonRpcProvider extends JsonRpcProvider{detectNetwork(){const fn=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return __awaiter$4(this,void 0,void 0,function*(){let En=this.network;return En==null&&(En=yield fn.detectNetwork.call(this),En||logger$d.throwError("no network detected",Logger.errors.UNKNOWN_ERROR,{}),this._network==null&&(defineReadOnly(this,"_network",En),this.emit("network",En,null))),En})}}class UrlJsonRpcProvider extends StaticJsonRpcProvider{constructor(fn,En){logger$d.checkAbstract(new.target,UrlJsonRpcProvider),fn=getStatic(new.target,"getNetwork")(fn),En=getStatic(new.target,"getApiKey")(En);const Cn=getStatic(new.target,"getUrl")(fn,En);super(Cn,fn),typeof En=="string"?defineReadOnly(this,"apiKey",En):En!=null&&Object.keys(En).forEach(_i=>{defineReadOnly(this,_i,En[_i])})}_startPending(){logger$d.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(fn){return logger$d.throwError("API provider does not support signing",Logger.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(fn){return fn}static getUrl(fn,En){return logger$d.throwError("not implemented; sub-classes must override getUrl",Logger.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const logger$c=new Logger(version$8),defaultApiKey$2="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class AlchemyWebSocketProvider extends WebSocketProvider{constructor(fn,En){const Cn=new AlchemyProvider(fn,En),_i=Cn.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(_i,Cn.network),defineReadOnly(this,"apiKey",Cn.apiKey)}isCommunityResource(){return this.apiKey===defaultApiKey$2}}class AlchemyProvider extends UrlJsonRpcProvider{static getWebSocketProvider(fn,En){return new AlchemyWebSocketProvider(fn,En)}static getApiKey(fn){return fn==null?defaultApiKey$2:(fn&&typeof fn!="string"&&logger$c.throwArgumentError("invalid apiKey","apiKey",fn),fn)}static getUrl(fn,En){let Cn=null;switch(fn.name){case"homestead":Cn="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":Cn="eth-goerli.g.alchemy.com/v2/";break;case"matic":Cn="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":Cn="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":Cn="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":Cn="arb-goerli.g.alchemy.com/v2/";break;case"optimism":Cn="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":Cn="opt-goerli.g.alchemy.com/v2/";break;default:logger$c.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+Cn+En,throttleCallback:(_i,An)=>(En===defaultApiKey$2&&showThrottleMessage(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===defaultApiKey$2}}const logger$b=new Logger(version$8),defaultApiKey$1="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function getHost(vn){switch(vn){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return logger$b.throwArgumentError("unsupported network","name",vn)}class AnkrProvider extends UrlJsonRpcProvider{isCommunityResource(){return this.apiKey===defaultApiKey$1}static getApiKey(fn){return fn??defaultApiKey$1}static getUrl(fn,En){En==null&&(En=defaultApiKey$1);const Cn={allowGzip:!0,url:"https://"+getHost(fn.name)+En,throttleCallback:(_i,An)=>(En.apiKey===defaultApiKey$1&&showThrottleMessage(),Promise.resolve(!0))};return En.projectSecret!=null&&(Cn.user="",Cn.password=En.projectSecret),Cn}}var __awaiter$3=function(vn,fn,En,Cn){function _i(An){return An instanceof En?An:new En(function(ba){ba(An)})}return new(En||(En=Promise))(function(An,ba){function xa(ts){try{rs(Cn.next(ts))}catch(is){ba(is)}}function $a(ts){try{rs(Cn.throw(ts))}catch(is){ba(is)}}function rs(ts){ts.done?An(ts.value):_i(ts.value).then(xa,$a)}rs((Cn=Cn.apply(vn,fn||[])).next())})};const logger$a=new Logger(version$8);class CloudflareProvider extends UrlJsonRpcProvider{static getApiKey(fn){return fn!=null&&logger$a.throwArgumentError("apiKey not supported for cloudflare","apiKey",fn),null}static getUrl(fn,En){let Cn=null;switch(fn.name){case"homestead":Cn="https://cloudflare-eth.com/";break;default:logger$a.throwArgumentError("unsupported network","network",arguments[0])}return Cn}perform(fn,En){const Cn=Object.create(null,{perform:{get:()=>super.perform}});return __awaiter$3(this,void 0,void 0,function*(){return fn==="getBlockNumber"?(yield Cn.perform.call(this,"getBlock",{blockTag:"latest"})).number:Cn.perform.call(this,fn,En)})}}var __awaiter$2=function(vn,fn,En,Cn){function _i(An){return An instanceof En?An:new En(function(ba){ba(An)})}return new(En||(En=Promise))(function(An,ba){function xa(ts){try{rs(Cn.next(ts))}catch(is){ba(is)}}function $a(ts){try{rs(Cn.throw(ts))}catch(is){ba(is)}}function rs(ts){ts.done?An(ts.value):_i(ts.value).then(xa,$a)}rs((Cn=Cn.apply(vn,fn||[])).next())})};const logger$9=new Logger(version$8);function getTransactionPostData(vn){const fn={};for(let En in vn){if(vn[En]==null)continue;let Cn=vn[En];En==="type"&&Cn===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[En]?Cn=hexValue(hexlify(Cn)):En==="accessList"?Cn="["+accessListify(Cn).map(_i=>`{address:"${_i.address}",storageKeys:["${_i.storageKeys.join('","')}"]}`).join(",")+"]":Cn=hexlify(Cn),fn[En]=Cn)}return fn}function getResult(vn){if(vn.status==0&&(vn.message==="No records found"||vn.message==="No transactions found"))return vn.result;if(vn.status!=1||typeof vn.message!="string"||!vn.message.match(/^OK/)){const fn=new Error("invalid response");throw fn.result=JSON.stringify(vn),(vn.result||"").toLowerCase().indexOf("rate limit")>=0&&(fn.throttleRetry=!0),fn}return vn.result}function getJsonResult(vn){if(vn&&vn.status==0&&vn.message=="NOTOK"&&(vn.result||"").toLowerCase().indexOf("rate limit")>=0){const fn=new Error("throttled response");throw fn.result=JSON.stringify(vn),fn.throttleRetry=!0,fn}if(vn.jsonrpc!="2.0"){const fn=new Error("invalid response");throw fn.result=JSON.stringify(vn),fn}if(vn.error){const fn=new Error(vn.error.message||"unknown error");throw vn.error.code&&(fn.code=vn.error.code),vn.error.data&&(fn.data=vn.error.data),fn}return vn.result}function checkLogTag(vn){if(vn==="pending")throw new Error("pending not supported");return vn==="latest"?vn:parseInt(vn.substring(2),16)}function checkError(vn,fn,En){if(vn==="call"&&fn.code===Logger.errors.SERVER_ERROR){const _i=fn.error;if(_i&&(_i.message.match(/reverted/i)||_i.message.match(/VM execution error/i))){let An=_i.data;if(An&&(An="0x"+An.replace(/^.*0x/i,"")),isHexString(An))return An;logger$9.throwError("missing revert data in call exception",Logger.errors.CALL_EXCEPTION,{error:fn,data:"0x"})}}let Cn=fn.message;throw fn.code===Logger.errors.SERVER_ERROR&&(fn.error&&typeof fn.error.message=="string"?Cn=fn.error.message:typeof fn.body=="string"?Cn=fn.body:typeof fn.responseText=="string"&&(Cn=fn.responseText)),Cn=(Cn||"").toLowerCase(),Cn.match(/insufficient funds/)&&logger$9.throwError("insufficient funds for intrinsic transaction cost",Logger.errors.INSUFFICIENT_FUNDS,{error:fn,method:vn,transaction:En}),Cn.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&logger$9.throwError("nonce has already been used",Logger.errors.NONCE_EXPIRED,{error:fn,method:vn,transaction:En}),Cn.match(/another transaction with same nonce/)&&logger$9.throwError("replacement fee too low",Logger.errors.REPLACEMENT_UNDERPRICED,{error:fn,method:vn,transaction:En}),Cn.match(/execution failed due to an exception|execution reverted/)&&logger$9.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:fn,method:vn,transaction:En}),fn}class EtherscanProvider extends BaseProvider{constructor(fn,En){super(fn),defineReadOnly(this,"baseUrl",this.getBaseUrl()),defineReadOnly(this,"apiKey",En||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return logger$9.throwArgumentError("unsupported network","network",this.network.name)}getUrl(fn,En){const Cn=Object.keys(En).reduce((An,ba)=>{const xa=En[ba];return xa!=null&&(An+=`&${ba}=${xa}`),An},""),_i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${fn}${Cn}${_i}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(fn,En){return En.module=fn,En.apikey=this.apiKey,En}fetch(fn,En,Cn){return __awaiter$2(this,void 0,void 0,function*(){const _i=Cn?this.getPostUrl():this.getUrl(fn,En),An=Cn?this.getPostData(fn,En):null,ba=fn==="proxy"?getJsonResult:getResult;this.emit("debug",{action:"request",request:_i,provider:this});const xa={url:_i,throttleSlotInterval:1e3,throttleCallback:(ts,is)=>(this.isCommunityResource()&&showThrottleMessage(),Promise.resolve(!0))};let $a=null;An&&(xa.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},$a=Object.keys(An).map(ts=>`${ts}=${An[ts]}`).join("&"));const rs=yield fetchJson(xa,$a,ba||getJsonResult);return this.emit("debug",{action:"response",request:_i,response:deepCopy(rs),provider:this}),rs})}detectNetwork(){return __awaiter$2(this,void 0,void 0,function*(){return this.network})}perform(fn,En){const Cn=Object.create(null,{perform:{get:()=>super.perform}});return __awaiter$2(this,void 0,void 0,function*(){switch(fn){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:En.address,tag:En.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:En.address,tag:En.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:En.address,tag:En.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:En.address,position:En.position,tag:En.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:En.signedTransaction},!0).catch(_i=>checkError("sendTransaction",_i,En.signedTransaction));case"getBlock":if(En.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:En.blockTag,boolean:En.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:En.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:En.transactionHash});case"call":{if(En.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const _i=getTransactionPostData(En.transaction);_i.module="proxy",_i.action="eth_call";try{return yield this.fetch("proxy",_i,!0)}catch(An){return checkError("call",An,En.transaction)}}case"estimateGas":{const _i=getTransactionPostData(En.transaction);_i.module="proxy",_i.action="eth_estimateGas";try{return yield this.fetch("proxy",_i,!0)}catch(An){return checkError("estimateGas",An,En.transaction)}}case"getLogs":{const _i={action:"getLogs"};if(En.filter.fromBlock&&(_i.fromBlock=checkLogTag(En.filter.fromBlock)),En.filter.toBlock&&(_i.toBlock=checkLogTag(En.filter.toBlock)),En.filter.address&&(_i.address=En.filter.address),En.filter.topics&&En.filter.topics.length>0&&(En.filter.topics.length>1&&logger$9.throwError("unsupported topic count",Logger.errors.UNSUPPORTED_OPERATION,{topics:En.filter.topics}),En.filter.topics.length===1)){const xa=En.filter.topics[0];(typeof xa!="string"||xa.length!==66)&&logger$9.throwError("unsupported topic format",Logger.errors.UNSUPPORTED_OPERATION,{topic0:xa}),_i.topic0=xa}const An=yield this.fetch("logs",_i);let ba={};for(let xa=0;xa<An.length;xa++){const $a=An[xa];if($a.blockHash==null){if(ba[$a.blockNumber]==null){const rs=yield this.getBlock($a.blockNumber);rs&&(ba[$a.blockNumber]=rs.hash)}$a.blockHash=ba[$a.blockNumber]}}return An}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return Cn.perform.call(this,fn,En)})}getHistory(fn,En,Cn){return __awaiter$2(this,void 0,void 0,function*(){const _i={action:"txlist",address:yield this.resolveName(fn),startblock:En??0,endblock:Cn??99999999,sort:"asc"};return(yield this.fetch("account",_i)).map(ba=>{["contractAddress","to"].forEach(function($a){ba[$a]==""&&delete ba[$a]}),ba.creates==null&&ba.contractAddress!=null&&(ba.creates=ba.contractAddress);const xa=this.formatter.transactionResponse(ba);return ba.timeStamp&&(xa.timestamp=parseInt(ba.timeStamp)),xa})})}isCommunityResource(){return this.apiKey==null}}var __awaiter$1=function(vn,fn,En,Cn){function _i(An){return An instanceof En?An:new En(function(ba){ba(An)})}return new(En||(En=Promise))(function(An,ba){function xa(ts){try{rs(Cn.next(ts))}catch(is){ba(is)}}function $a(ts){try{rs(Cn.throw(ts))}catch(is){ba(is)}}function rs(ts){ts.done?An(ts.value):_i(ts.value).then(xa,$a)}rs((Cn=Cn.apply(vn,fn||[])).next())})};const logger$8=new Logger(version$8);function now(){return new Date().getTime()}function checkNetworks(vn){let fn=null;for(let En=0;En<vn.length;En++){const Cn=vn[En];if(Cn==null)return null;fn?fn.name===Cn.name&&fn.chainId===Cn.chainId&&(fn.ensAddress===Cn.ensAddress||fn.ensAddress==null&&Cn.ensAddress==null)||logger$8.throwArgumentError("provider mismatch","networks",vn):fn=Cn}return fn}function median(vn,fn){vn=vn.slice().sort();const En=Math.floor(vn.length/2);if(vn.length%2)return vn[En];const Cn=vn[En-1],_i=vn[En];return fn!=null&&Math.abs(Cn-_i)>fn?null:(Cn+_i)/2}function serialize(vn){if(vn===null)return"null";if(typeof vn=="number"||typeof vn=="boolean")return JSON.stringify(vn);if(typeof vn=="string")return vn;if(BigNumber.isBigNumber(vn))return vn.toString();if(Array.isArray(vn))return JSON.stringify(vn.map(fn=>serialize(fn)));if(typeof vn=="object"){const fn=Object.keys(vn);return fn.sort(),"{"+fn.map(En=>{let Cn=vn[En];return typeof Cn=="function"?Cn="[function]":Cn=serialize(Cn),JSON.stringify(En)+":"+Cn}).join(",")+"}"}throw new Error("unknown value type: "+typeof vn)}let nextRid=1;function stall(vn){let fn=null,En=null,Cn=new Promise(ba=>{fn=function(){En&&(clearTimeout(En),En=null),ba()},En=setTimeout(fn,vn)});const _i=ba=>(Cn=Cn.then(ba),Cn);function An(){return Cn}return{cancel:fn,getPromise:An,wait:_i}}const ForwardErrors=[Logger.errors.CALL_EXCEPTION,Logger.errors.INSUFFICIENT_FUNDS,Logger.errors.NONCE_EXPIRED,Logger.errors.REPLACEMENT_UNDERPRICED,Logger.errors.UNPREDICTABLE_GAS_LIMIT],ForwardProperties=["address","args","errorArgs","errorSignature","method","transaction"];function exposeDebugConfig(vn,fn){const En={weight:vn.weight};return Object.defineProperty(En,"provider",{get:()=>vn.provider}),vn.start&&(En.start=vn.start),fn&&(En.duration=fn-vn.start),vn.done&&(vn.error?En.error=vn.error:En.result=vn.result||null),En}function normalizedTally(vn,fn){return function(En){const Cn={};En.forEach(An=>{const ba=vn(An.result);Cn[ba]||(Cn[ba]={count:0,result:An.result}),Cn[ba].count++});const _i=Object.keys(Cn);for(let An=0;An<_i.length;An++){const ba=Cn[_i[An]];if(ba.count>=fn)return ba.result}}}function getProcessFunc(vn,fn,En){let Cn=serialize;switch(fn){case"getBlockNumber":return function(_i){const An=_i.map(xa=>xa.result);let ba=median(_i.map(xa=>xa.result),2);if(ba!=null)return ba=Math.ceil(ba),An.indexOf(ba+1)>=0&&ba++,ba>=vn._highestBlockNumber&&(vn._highestBlockNumber=ba),vn._highestBlockNumber};case"getGasPrice":return function(_i){const An=_i.map(ba=>ba.result);return An.sort(),An[Math.floor(An.length/2)]};case"getEtherPrice":return function(_i){return median(_i.map(An=>An.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":Cn=function(_i){return _i==null?null:(_i=shallowCopy(_i),_i.confirmations=-1,serialize(_i))};break;case"getBlock":En.includeTransactions?Cn=function(_i){return _i==null?null:(_i=shallowCopy(_i),_i.transactions=_i.transactions.map(An=>(An=shallowCopy(An),An.confirmations=-1,An)),serialize(_i))}:Cn=function(_i){return _i==null?null:serialize(_i)};break;default:throw new Error("unknown method: "+fn)}return normalizedTally(Cn,vn.quorum)}function waitForSync(vn,fn){return __awaiter$1(this,void 0,void 0,function*(){const En=vn.provider;return En.blockNumber!=null&&En.blockNumber>=fn||fn===-1?En:poll(()=>new Promise((Cn,_i)=>{setTimeout(function(){return En.blockNumber>=fn?Cn(En):vn.cancelled?Cn(null):Cn(void 0)},0)}),{oncePoll:En})})}function getRunner(vn,fn,En,Cn){return __awaiter$1(this,void 0,void 0,function*(){let _i=vn.provider;switch(En){case"getBlockNumber":case"getGasPrice":return _i[En]();case"getEtherPrice":if(_i.getEtherPrice)return _i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return Cn.blockTag&&isHexString(Cn.blockTag)&&(_i=yield waitForSync(vn,fn)),_i[En](Cn.address,Cn.blockTag||"latest");case"getStorageAt":return Cn.blockTag&&isHexString(Cn.blockTag)&&(_i=yield waitForSync(vn,fn)),_i.getStorageAt(Cn.address,Cn.position,Cn.blockTag||"latest");case"getBlock":return Cn.blockTag&&isHexString(Cn.blockTag)&&(_i=yield waitForSync(vn,fn)),_i[Cn.includeTransactions?"getBlockWithTransactions":"getBlock"](Cn.blockTag||Cn.blockHash);case"call":case"estimateGas":return Cn.blockTag&&isHexString(Cn.blockTag)&&(_i=yield waitForSync(vn,fn)),En==="call"&&Cn.blockTag?_i[En](Cn.transaction,Cn.blockTag):_i[En](Cn.transaction);case"getTransaction":case"getTransactionReceipt":return _i[En](Cn.transactionHash);case"getLogs":{let An=Cn.filter;return(An.fromBlock&&isHexString(An.fromBlock)||An.toBlock&&isHexString(An.toBlock))&&(_i=yield waitForSync(vn,fn)),_i.getLogs(An)}}return logger$8.throwError("unknown method error",Logger.errors.UNKNOWN_ERROR,{method:En,params:Cn})})}class FallbackProvider extends BaseProvider{constructor(fn,En){fn.length===0&&logger$8.throwArgumentError("missing providers","providers",fn);const Cn=fn.map((ba,xa)=>{if(Provider.isProvider(ba)){const ts=isCommunityResource(ba)?2e3:750;return Object.freeze({provider:ba,weight:1,stallTimeout:ts,priority:1})}const $a=shallowCopy(ba);$a.priority==null&&($a.priority=1),$a.stallTimeout==null&&($a.stallTimeout=isCommunityResource(ba)?2e3:750),$a.weight==null&&($a.weight=1);const rs=$a.weight;return(rs%1||rs>512||rs<1)&&logger$8.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${xa}].weight`,rs),Object.freeze($a)}),_i=Cn.reduce((ba,xa)=>ba+xa.weight,0);En==null?En=_i/2:En>_i&&logger$8.throwArgumentError("quorum will always fail; larger than total weight","quorum",En);let An=checkNetworks(Cn.map(ba=>ba.provider.network));An==null&&(An=new Promise((ba,xa)=>{setTimeout(()=>{this.detectNetwork().then(ba,xa)},0)})),super(An),defineReadOnly(this,"providerConfigs",Object.freeze(Cn)),defineReadOnly(this,"quorum",En),this._highestBlockNumber=-1}detectNetwork(){return __awaiter$1(this,void 0,void 0,function*(){const fn=yield Promise.all(this.providerConfigs.map(En=>En.provider.getNetwork()));return checkNetworks(fn)})}perform(fn,En){return __awaiter$1(this,void 0,void 0,function*(){if(fn==="sendTransaction"){const $a=yield Promise.all(this.providerConfigs.map(rs=>rs.provider.sendTransaction(En.signedTransaction).then(ts=>ts.hash,ts=>ts)));for(let rs=0;rs<$a.length;rs++){const ts=$a[rs];if(typeof ts=="string")return ts}throw $a[0]}this._highestBlockNumber===-1&&fn!=="getBlockNumber"&&(yield this.getBlockNumber());const Cn=getProcessFunc(this,fn,En),_i=shuffled(this.providerConfigs.map(shallowCopy));_i.sort(($a,rs)=>$a.priority-rs.priority);const An=this._highestBlockNumber;let ba=0,xa=!0;for(;;){const $a=now();let rs=_i.filter(us=>us.runner&&$a-us.start<us.stallTimeout).reduce((us,ps)=>us+ps.weight,0);for(;rs<this.quorum&&ba<_i.length;){const us=_i[ba++],ps=nextRid++;us.start=now(),us.staller=stall(us.stallTimeout),us.staller.wait(()=>{us.staller=null}),us.runner=getRunner(us,An,fn,En).then(bs=>{us.done=!0,us.result=bs,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:ps,backend:exposeDebugConfig(us,now()),request:{method:fn,params:deepCopy(En)},provider:this})},bs=>{us.done=!0,us.error=bs,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:ps,backend:exposeDebugConfig(us,now()),request:{method:fn,params:deepCopy(En)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:ps,backend:exposeDebugConfig(us,null),request:{method:fn,params:deepCopy(En)},provider:this}),rs+=us.weight}const ts=[];_i.forEach(us=>{us.done||!us.runner||(ts.push(us.runner),us.staller&&ts.push(us.staller.getPromise()))}),ts.length&&(yield Promise.race(ts));const is=_i.filter(us=>us.done&&us.error==null);if(is.length>=this.quorum){const us=Cn(is);if(us!==void 0)return _i.forEach(ps=>{ps.staller&&ps.staller.cancel(),ps.cancelled=!0}),us;xa||(yield stall(100).getPromise()),xa=!1}const cs=_i.reduce((us,ps)=>{if(!ps.done||ps.error==null)return us;const bs=ps.error.code;return ForwardErrors.indexOf(bs)>=0&&(us[bs]||(us[bs]={error:ps.error,weight:0}),us[bs].weight+=ps.weight),us},{});if(Object.keys(cs).forEach(us=>{const ps=cs[us];if(ps.weight<this.quorum)return;_i.forEach(gs=>{gs.staller&&gs.staller.cancel(),gs.cancelled=!0});const bs=ps.error,e0={};ForwardProperties.forEach(gs=>{bs[gs]!=null&&(e0[gs]=bs[gs])}),logger$8.throwError(bs.reason||bs.message,us,e0)}),_i.filter(us=>!us.done).length===0)break}return _i.forEach($a=>{$a.staller&&$a.staller.cancel(),$a.cancelled=!0}),logger$8.throwError("failed to meet quorum",Logger.errors.SERVER_ERROR,{method:fn,params:En,results:_i.map($a=>exposeDebugConfig($a)),provider:this})})}}const IpcProvider=null,logger$7=new Logger(version$8),defaultProjectId="84842078b09946638c03157f83405213";class InfuraWebSocketProvider extends WebSocketProvider{constructor(fn,En){const Cn=new InfuraProvider(fn,En),_i=Cn.connection;_i.password&&logger$7.throwError("INFURA WebSocket project secrets unsupported",Logger.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const An=_i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(An,fn),defineReadOnly(this,"apiKey",Cn.projectId),defineReadOnly(this,"projectId",Cn.projectId),defineReadOnly(this,"projectSecret",Cn.projectSecret)}isCommunityResource(){return this.projectId===defaultProjectId}}class InfuraProvider extends UrlJsonRpcProvider{static getWebSocketProvider(fn,En){return new InfuraWebSocketProvider(fn,En)}static getApiKey(fn){const En={apiKey:defaultProjectId,projectId:defaultProjectId,projectSecret:null};return fn==null||(typeof fn=="string"?En.projectId=fn:fn.projectSecret!=null?(logger$7.assertArgument(typeof fn.projectId=="string","projectSecret requires a projectId","projectId",fn.projectId),logger$7.assertArgument(typeof fn.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),En.projectId=fn.projectId,En.projectSecret=fn.projectSecret):fn.projectId&&(En.projectId=fn.projectId),En.apiKey=En.projectId),En}static getUrl(fn,En){let Cn=null;switch(fn?fn.name:"unknown"){case"homestead":Cn="mainnet.infura.io";break;case"goerli":Cn="goerli.infura.io";break;case"sepolia":Cn="sepolia.infura.io";break;case"matic":Cn="polygon-mainnet.infura.io";break;case"maticmum":Cn="polygon-mumbai.infura.io";break;case"optimism":Cn="optimism-mainnet.infura.io";break;case"optimism-goerli":Cn="optimism-goerli.infura.io";break;case"arbitrum":Cn="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":Cn="arbitrum-goerli.infura.io";break;default:logger$7.throwError("unsupported network",Logger.errors.INVALID_ARGUMENT,{argument:"network",value:fn})}const _i={allowGzip:!0,url:"https://"+Cn+"/v3/"+En.projectId,throttleCallback:(An,ba)=>(En.projectId===defaultProjectId&&showThrottleMessage(),Promise.resolve(!0))};return En.projectSecret!=null&&(_i.user="",_i.password=En.projectSecret),_i}isCommunityResource(){return this.projectId===defaultProjectId}}class JsonRpcBatchProvider extends JsonRpcProvider{send(fn,En){const Cn={method:fn,params:En,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const _i={request:Cn,resolve:null,reject:null},An=new Promise((ba,xa)=>{_i.resolve=ba,_i.reject=xa});return this._pendingBatch.push(_i),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const ba=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const xa=ba.map($a=>$a.request);return this.emit("debug",{action:"requestBatch",request:deepCopy(xa),provider:this}),fetchJson(this.connection,JSON.stringify(xa)).then($a=>{this.emit("debug",{action:"response",request:xa,response:$a,provider:this}),ba.forEach((rs,ts)=>{const is=$a[ts];if(is.error){const cs=new Error(is.error.message);cs.code=is.error.code,cs.data=is.error.data,rs.reject(cs)}else rs.resolve(is.result)})},$a=>{this.emit("debug",{action:"response",error:$a,request:xa,provider:this}),ba.forEach(rs=>{rs.reject($a)})})},10)),An}}const logger$6=new Logger(version$8),defaultApiKey="ETHERS_JS_SHARED";class NodesmithProvider extends UrlJsonRpcProvider{static getApiKey(fn){return fn&&typeof fn!="string"&&logger$6.throwArgumentError("invalid apiKey","apiKey",fn),fn||defaultApiKey}static getUrl(fn,En){logger$6.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let Cn=null;switch(fn.name){case"homestead":Cn="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":Cn="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":Cn="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":Cn="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":Cn="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:logger$6.throwArgumentError("unsupported network","network",arguments[0])}return Cn+"?apiKey="+En}}const logger$5=new Logger(version$8),defaultApplicationId="62e1ad51b37b8e00394bda3b";class PocketProvider extends UrlJsonRpcProvider{static getApiKey(fn){const En={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return fn==null?En.applicationId=defaultApplicationId:typeof fn=="string"?En.applicationId=fn:fn.applicationSecretKey!=null?(En.applicationId=fn.applicationId,En.applicationSecretKey=fn.applicationSecretKey):fn.applicationId?En.applicationId=fn.applicationId:logger$5.throwArgumentError("unsupported PocketProvider apiKey","apiKey",fn),En}static getUrl(fn,En){let Cn=null;switch(fn?fn.name:"unknown"){case"goerli":Cn="eth-goerli.gateway.pokt.network";break;case"homestead":Cn="eth-mainnet.gateway.pokt.network";break;case"kovan":Cn="poa-kovan.gateway.pokt.network";break;case"matic":Cn="poly-mainnet.gateway.pokt.network";break;case"maticmum":Cn="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":Cn="eth-rinkeby.gateway.pokt.network";break;case"ropsten":Cn="eth-ropsten.gateway.pokt.network";break;default:logger$5.throwError("unsupported network",Logger.errors.INVALID_ARGUMENT,{argument:"network",value:fn})}const _i=`https://${Cn}/v1/lb/${En.applicationId}`,An={headers:{},url:_i};return En.applicationSecretKey!=null&&(An.user="",An.password=En.applicationSecretKey),An}isCommunityResource(){return this.applicationId===defaultApplicationId}}const logger$4=new Logger(version$8);let _nextId=1;function buildWeb3LegacyFetcher(vn,fn){const En="Web3LegacyFetcher";return function(Cn,_i){const An={method:Cn,params:_i,id:_nextId++,jsonrpc:"2.0"};return new Promise((ba,xa)=>{this.emit("debug",{action:"request",fetcher:En,request:deepCopy(An),provider:this}),fn(An,($a,rs)=>{if($a)return this.emit("debug",{action:"response",fetcher:En,error:$a,request:An,provider:this}),xa($a);if(this.emit("debug",{action:"response",fetcher:En,request:An,response:rs,provider:this}),rs.error){const ts=new Error(rs.error.message);return ts.code=rs.error.code,ts.data=rs.error.data,xa(ts)}ba(rs.result)})})}}function buildEip1193Fetcher(vn){return function(fn,En){En==null&&(En=[]);const Cn={method:fn,params:En};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:deepCopy(Cn),provider:this}),vn.request(Cn).then(_i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:Cn,response:_i,provider:this}),_i),_i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:Cn,error:_i,provider:this}),_i})}}class Web3Provider extends JsonRpcProvider{constructor(fn,En){fn==null&&logger$4.throwArgumentError("missing provider","provider",fn);let Cn=null,_i=null,An=null;typeof fn=="function"?(Cn="unknown:",_i=fn):(Cn=fn.host||fn.path||"",!Cn&&fn.isMetaMask&&(Cn="metamask"),An=fn,fn.request?(Cn===""&&(Cn="eip-1193:"),_i=buildEip1193Fetcher(fn)):fn.sendAsync?_i=buildWeb3LegacyFetcher(fn,fn.sendAsync.bind(fn)):fn.send?_i=buildWeb3LegacyFetcher(fn,fn.send.bind(fn)):logger$4.throwArgumentError("unsupported provider","provider",fn),Cn||(Cn="unknown:")),super(Cn,En),defineReadOnly(this,"jsonRpcFetchFunc",_i),defineReadOnly(this,"provider",An)}send(fn,En){return this.jsonRpcFetchFunc(fn,En)}}const logger$3=new Logger(version$8);function getDefaultProvider(vn,fn){if(vn==null&&(vn="homestead"),typeof vn=="string"){const Cn=vn.match(/^(ws|http)s?:/i);if(Cn)switch(Cn[1].toLowerCase()){case"http":case"https":return new JsonRpcProvider(vn);case"ws":case"wss":return new WebSocketProvider(vn);default:logger$3.throwArgumentError("unsupported URL scheme","network",vn)}}const En=getNetwork(vn);return(!En||!En._defaultProvider)&&logger$3.throwError("unsupported getDefaultProvider network",Logger.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:vn}),En._defaultProvider({FallbackProvider,AlchemyProvider,AnkrProvider,CloudflareProvider,EtherscanProvider,InfuraProvider,JsonRpcProvider,NodesmithProvider,PocketProvider,Web3Provider,IpcProvider},fn)}const index=Object.freeze(Object.defineProperty({__proto__:null,AlchemyProvider,AlchemyWebSocketProvider,AnkrProvider,BaseProvider,CloudflareProvider,EtherscanProvider,FallbackProvider,Formatter,InfuraProvider,InfuraWebSocketProvider,IpcProvider,JsonRpcBatchProvider,JsonRpcProvider,JsonRpcSigner,NodesmithProvider,PocketProvider,Provider,Resolver,StaticJsonRpcProvider,UrlJsonRpcProvider,Web3Provider,WebSocketProvider,getDefaultProvider,getNetwork,isCommunityResourcable,isCommunityResource,showThrottleMessage},Symbol.toStringTag,{value:"Module"})),version$7="solidity/5.7.0",regexBytes=new RegExp("^bytes([0-9]+)$"),regexNumber=new RegExp("^(u?int)([0-9]*)$"),regexArray=new RegExp("^(.*)\\[([0-9]*)\\]$"),Zeros="0000000000000000000000000000000000000000000000000000000000000000",logger$2=new Logger(version$7);function _pack(vn,fn,En){switch(vn){case"address":return En?zeroPad(fn,32):arrayify(fn);case"string":return toUtf8Bytes(fn);case"bytes":return arrayify(fn);case"bool":return fn=fn?"0x01":"0x00",En?zeroPad(fn,32):arrayify(fn)}let Cn=vn.match(regexNumber);if(Cn){let _i=parseInt(Cn[2]||"256");return(Cn[2]&&String(_i)!==Cn[2]||_i%8!==0||_i===0||_i>256)&&logger$2.throwArgumentError("invalid number type","type",vn),En&&(_i=256),fn=BigNumber.from(fn).toTwos(_i),zeroPad(fn,_i/8)}if(Cn=vn.match(regexBytes),Cn){const _i=parseInt(Cn[1]);return(String(_i)!==Cn[1]||_i===0||_i>32)&&logger$2.throwArgumentError("invalid bytes type","type",vn),arrayify(fn).byteLength!==_i&&logger$2.throwArgumentError(`invalid value for ${vn}`,"value",fn),En?arrayify((fn+Zeros).substring(0,66)):fn}if(Cn=vn.match(regexArray),Cn&&Array.isArray(fn)){const _i=Cn[1];parseInt(Cn[2]||String(fn.length))!=fn.length&&logger$2.throwArgumentError(`invalid array length for ${vn}`,"value",fn);const ba=[];return fn.forEach(function(xa){ba.push(_pack(_i,xa,!0))}),concat$3(ba)}return logger$2.throwArgumentError("invalid type","type",vn)}function pack(vn,fn){vn.length!=fn.length&&logger$2.throwArgumentError("wrong number of values; expected ${ types.length }","values",fn);const En=[];return vn.forEach(function(Cn,_i){En.push(_pack(Cn,fn[_i]))}),hexlify(concat$3(En))}function keccak256(vn,fn){return keccak256$1(pack(vn,fn))}function sha256$5(vn,fn){return sha256$6(pack(vn,fn))}const lib_esm$2=Object.freeze(Object.defineProperty({__proto__:null,keccak256,pack,sha256:sha256$5},Symbol.toStringTag,{value:"Module"})),version$6="units/5.7.0",logger$1=new Logger(version$6),names$3=["wei","kwei","mwei","gwei","szabo","finney","ether"];function commify(vn){const fn=String(vn).split(".");(fn.length>2||!fn[0].match(/^-?[0-9]*$/)||fn[1]&&!fn[1].match(/^[0-9]*$/)||vn==="."||vn==="-.")&&logger$1.throwArgumentError("invalid value","value",vn);let En=fn[0],Cn="";for(En.substring(0,1)==="-"&&(Cn="-",En=En.substring(1));En.substring(0,1)==="0";)En=En.substring(1);En===""&&(En="0");let _i="";for(fn.length===2&&(_i="."+(fn[1]||"0"));_i.length>2&&_i[_i.length-1]==="0";)_i=_i.substring(0,_i.length-1);const An=[];for(;En.length;)if(En.length<=3){An.unshift(En);break}else{const ba=En.length-3;An.unshift(En.substring(ba)),En=En.substring(0,ba)}return Cn+An.join(",")+_i}function formatUnits(vn,fn){if(typeof fn=="string"){const En=names$3.indexOf(fn);En!==-1&&(fn=3*En)}return formatFixed(vn,fn??18)}function parseUnits(vn,fn){if(typeof vn!="string"&&logger$1.throwArgumentError("value must be a string","value",vn),typeof fn=="string"){const En=names$3.indexOf(fn);En!==-1&&(fn=3*En)}return parseFixed(vn,fn??18)}function formatEther(vn){return formatUnits(vn,18)}function parseEther(vn){return parseUnits(vn,18)}const lib_esm$1=Object.freeze(Object.defineProperty({__proto__:null,commify,formatEther,formatUnits,parseEther,parseUnits},Symbol.toStringTag,{value:"Module"})),utils$u=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder,ConstructorFragment,ErrorFragment,EventFragment,FormatTypes,Fragment,FunctionFragment,HDNode,Indexed,Interface,LogDescription,Logger,ParamType,RLP:lib_esm$k,SigningKey,get SupportedAlgorithm(){return SupportedAlgorithm},TransactionDescription,get TransactionTypes(){return TransactionTypes},get UnicodeNormalizationForm(){return UnicodeNormalizationForm},Utf8ErrorFuncs,get Utf8ErrorReason(){return Utf8ErrorReason},_TypedDataEncoder:TypedDataEncoder,_fetchData,_toEscapedUtf8String,accessListify,arrayify,base58:Base58,base64:lib_esm$g,checkProperties,checkResultErrors,commify,computeAddress,computeHmac,computePublicKey,concat:concat$3,deepCopy,defaultAbiCoder,defaultPath,defineReadOnly,dnsEncode,entropyToMnemonic,fetchJson,formatBytes32String,formatEther,formatUnits,getAccountPath,getAddress,getContractAddress,getCreate2Address,getIcapAddress,getJsonWalletAddress,getStatic,hashMessage,hexConcat,hexDataLength,hexDataSlice,hexStripZeros,hexValue,hexZeroPad,hexlify,id,isAddress,isBytes:isBytes$1,isBytesLike,isHexString,isValidMnemonic,isValidName,joinSignature,keccak256:keccak256$1,mnemonicToEntropy,mnemonicToSeed,namehash,nameprep,parseBytes32String,parseEther,parseTransaction:parse$1,parseUnits,poll,randomBytes,recoverAddress,recoverPublicKey,resolveProperties,ripemd160:ripemd160$1,serializeTransaction:serialize$1,sha256:sha256$6,sha512:sha512$4,shallowCopy,shuffled,solidityKeccak256:keccak256,solidityPack:pack,soliditySha256:sha256$5,splitSignature,stripZeros,toUtf8Bytes,toUtf8CodePoints,toUtf8String,verifyMessage,verifyTypedData,zeroPad},Symbol.toStringTag,{value:"Module"})),version$5="ethers/5.7.2",logger=new Logger(version$5),ethers=Object.freeze(Object.defineProperty({__proto__:null,BaseContract,BigNumber,Contract,ContractFactory:ContractFactory$1,FixedNumber,Signer,VoidSigner,Wallet,Wordlist,constants:lib_esm$i,get errors(){return ErrorCode},getDefaultProvider,logger,providers:index,utils:utils$u,version:version$5,wordlists},Symbol.toStringTag,{value:"Module"}));try{const vn=window;vn._ethers==null&&(vn._ethers=ethers)}catch{}const lib_esm=Object.freeze(Object.defineProperty({__proto__:null,BaseContract,BigNumber,Contract,ContractFactory:ContractFactory$1,FixedNumber,Signer,VoidSigner,Wallet,Wordlist,constants:lib_esm$i,get errors(){return ErrorCode},ethers,getDefaultProvider,logger,providers:index,utils:utils$u,version:version$5,wordlists},Symbol.toStringTag,{value:"Module"}));var util$5;(function(vn){vn.assertEqual=_i=>_i;function fn(_i){}vn.assertIs=fn;function En(_i){throw new Error}vn.assertNever=En,vn.arrayToEnum=_i=>{const An={};for(const ba of _i)An[ba]=ba;return An},vn.getValidEnumValues=_i=>{const An=vn.objectKeys(_i).filter(xa=>typeof _i[_i[xa]]!="number"),ba={};for(const xa of An)ba[xa]=_i[xa];return vn.objectValues(ba)},vn.objectValues=_i=>vn.objectKeys(_i).map(function(An){return _i[An]}),vn.objectKeys=typeof Object.keys=="function"?_i=>Object.keys(_i):_i=>{const An=[];for(const ba in _i)Object.prototype.hasOwnProperty.call(_i,ba)&&An.push(ba);return An},vn.find=(_i,An)=>{for(const ba of _i)if(An(ba))return ba},vn.isInteger=typeof Number.isInteger=="function"?_i=>Number.isInteger(_i):_i=>typeof _i=="number"&&isFinite(_i)&&Math.floor(_i)===_i;function Cn(_i,An=" | "){return _i.map(ba=>typeof ba=="string"?`'${ba}'`:ba).join(An)}vn.joinValues=Cn,vn.jsonStringifyReplacer=(_i,An)=>typeof An=="bigint"?An.toString():An})(util$5||(util$5={}));var objectUtil;(function(vn){vn.mergeShapes=(fn,En)=>({...fn,...En})})(objectUtil||(objectUtil={}));const ZodParsedType=util$5.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=vn=>{switch(typeof vn){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(vn)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(vn)?ZodParsedType.array:vn===null?ZodParsedType.null:vn.then&&typeof vn.then=="function"&&vn.catch&&typeof vn.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&vn instanceof Map?ZodParsedType.map:typeof Set<"u"&&vn instanceof Set?ZodParsedType.set:typeof Date<"u"&&vn instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$5.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=vn=>JSON.stringify(vn,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(fn){super(),this.issues=[],this.addIssue=Cn=>{this.issues=[...this.issues,Cn]},this.addIssues=(Cn=[])=>{this.issues=[...this.issues,...Cn]};const En=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,En):this.__proto__=En,this.name="ZodError",this.issues=fn}get errors(){return this.issues}format(fn){const En=fn||function(An){return An.message},Cn={_errors:[]},_i=An=>{for(const ba of An.issues)if(ba.code==="invalid_union")ba.unionErrors.map(_i);else if(ba.code==="invalid_return_type")_i(ba.returnTypeError);else if(ba.code==="invalid_arguments")_i(ba.argumentsError);else if(ba.path.length===0)Cn._errors.push(En(ba));else{let xa=Cn,$a=0;for(;$a<ba.path.length;){const rs=ba.path[$a];$a===ba.path.length-1?(xa[rs]=xa[rs]||{_errors:[]},xa[rs]._errors.push(En(ba))):xa[rs]=xa[rs]||{_errors:[]},xa=xa[rs],$a++}}};return _i(this),Cn}static assert(fn){if(!(fn instanceof ZodError))throw new Error(`Not a ZodError: ${fn}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$5.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(fn=En=>En.message){const En={},Cn=[];for(const _i of this.issues)_i.path.length>0?(En[_i.path[0]]=En[_i.path[0]]||[],En[_i.path[0]].push(fn(_i))):Cn.push(fn(_i));return{formErrors:Cn,fieldErrors:En}}get formErrors(){return this.flatten()}}ZodError.create=vn=>new ZodError(vn);const errorMap=(vn,fn)=>{let En;switch(vn.code){case ZodIssueCode.invalid_type:vn.received===ZodParsedType.undefined?En="Required":En=`Expected ${vn.expected}, received ${vn.received}`;break;case ZodIssueCode.invalid_literal:En=`Invalid literal value, expected ${JSON.stringify(vn.expected,util$5.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:En=`Unrecognized key(s) in object: ${util$5.joinValues(vn.keys,", ")}`;break;case ZodIssueCode.invalid_union:En="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:En=`Invalid discriminator value. Expected ${util$5.joinValues(vn.options)}`;break;case ZodIssueCode.invalid_enum_value:En=`Invalid enum value. Expected ${util$5.joinValues(vn.options)}, received '${vn.received}'`;break;case ZodIssueCode.invalid_arguments:En="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:En="Invalid function return type";break;case ZodIssueCode.invalid_date:En="Invalid date";break;case ZodIssueCode.invalid_string:typeof vn.validation=="object"?"includes"in vn.validation?(En=`Invalid input: must include "${vn.validation.includes}"`,typeof vn.validation.position=="number"&&(En=`${En} at one or more positions greater than or equal to ${vn.validation.position}`)):"startsWith"in vn.validation?En=`Invalid input: must start with "${vn.validation.startsWith}"`:"endsWith"in vn.validation?En=`Invalid input: must end with "${vn.validation.endsWith}"`:util$5.assertNever(vn.validation):vn.validation!=="regex"?En=`Invalid ${vn.validation}`:En="Invalid";break;case ZodIssueCode.too_small:vn.type==="array"?En=`Array must contain ${vn.exact?"exactly":vn.inclusive?"at least":"more than"} ${vn.minimum} element(s)`:vn.type==="string"?En=`String must contain ${vn.exact?"exactly":vn.inclusive?"at least":"over"} ${vn.minimum} character(s)`:vn.type==="number"?En=`Number must be ${vn.exact?"exactly equal to ":vn.inclusive?"greater than or equal to ":"greater than "}${vn.minimum}`:vn.type==="date"?En=`Date must be ${vn.exact?"exactly equal to ":vn.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(vn.minimum))}`:En="Invalid input";break;case ZodIssueCode.too_big:vn.type==="array"?En=`Array must contain ${vn.exact?"exactly":vn.inclusive?"at most":"less than"} ${vn.maximum} element(s)`:vn.type==="string"?En=`String must contain ${vn.exact?"exactly":vn.inclusive?"at most":"under"} ${vn.maximum} character(s)`:vn.type==="number"?En=`Number must be ${vn.exact?"exactly":vn.inclusive?"less than or equal to":"less than"} ${vn.maximum}`:vn.type==="bigint"?En=`BigInt must be ${vn.exact?"exactly":vn.inclusive?"less than or equal to":"less than"} ${vn.maximum}`:vn.type==="date"?En=`Date must be ${vn.exact?"exactly":vn.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(vn.maximum))}`:En="Invalid input";break;case ZodIssueCode.custom:En="Invalid input";break;case ZodIssueCode.invalid_intersection_types:En="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:En=`Number must be a multiple of ${vn.multipleOf}`;break;case ZodIssueCode.not_finite:En="Number must be finite";break;default:En=fn.defaultError,util$5.assertNever(vn)}return{message:En}};let overrideErrorMap=errorMap;function setErrorMap(vn){overrideErrorMap=vn}function getErrorMap(){return overrideErrorMap}const makeIssue=vn=>{const{data:fn,path:En,errorMaps:Cn,issueData:_i}=vn,An=[...En,..._i.path||[]],ba={..._i,path:An};if(_i.message!==void 0)return{..._i,path:An,message:_i.message};let xa="";const $a=Cn.filter(rs=>!!rs).slice().reverse();for(const rs of $a)xa=rs(ba,{data:fn,defaultError:xa}).message;return{..._i,path:An,message:xa}},EMPTY_PATH=[];function addIssueToContext(vn,fn){const En=getErrorMap(),Cn=makeIssue({issueData:fn,data:vn.data,path:vn.path,errorMaps:[vn.common.contextualErrorMap,vn.schemaErrorMap,En,En===errorMap?void 0:errorMap].filter(_i=>!!_i)});vn.common.issues.push(Cn)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(fn,En){const Cn=[];for(const _i of En){if(_i.status==="aborted")return INVALID;_i.status==="dirty"&&fn.dirty(),Cn.push(_i.value)}return{status:fn.value,value:Cn}}static async mergeObjectAsync(fn,En){const Cn=[];for(const _i of En){const An=await _i.key,ba=await _i.value;Cn.push({key:An,value:ba})}return ParseStatus.mergeObjectSync(fn,Cn)}static mergeObjectSync(fn,En){const Cn={};for(const _i of En){const{key:An,value:ba}=_i;if(An.status==="aborted"||ba.status==="aborted")return INVALID;An.status==="dirty"&&fn.dirty(),ba.status==="dirty"&&fn.dirty(),An.value!=="__proto__"&&(typeof ba.value<"u"||_i.alwaysSet)&&(Cn[An.value]=ba.value)}return{status:fn.value,value:Cn}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=vn=>({status:"dirty",value:vn}),OK=vn=>({status:"valid",value:vn}),isAborted=vn=>vn.status==="aborted",isDirty=vn=>vn.status==="dirty",isValid=vn=>vn.status==="valid",isAsync=vn=>typeof Promise<"u"&&vn instanceof Promise;function __classPrivateFieldGet$1(vn,fn,En,Cn){if(typeof fn=="function"?vn!==fn||!Cn:!fn.has(vn))throw new TypeError("Cannot read private member from an object whose class did not declare it");return fn.get(vn)}function __classPrivateFieldSet$1(vn,fn,En,Cn,_i){if(typeof fn=="function"?vn!==fn||!_i:!fn.has(vn))throw new TypeError("Cannot write private member to an object whose class did not declare it");return fn.set(vn,En),En}typeof SuppressedError=="function"&&SuppressedError;var errorUtil;(function(vn){vn.errToObj=fn=>typeof fn=="string"?{message:fn}:fn||{},vn.toString=fn=>typeof fn=="string"?fn:fn==null?void 0:fn.message})(errorUtil||(errorUtil={}));var _ZodEnum_cache,_ZodNativeEnum_cache;class ParseInputLazyPath{constructor(fn,En,Cn,_i){this._cachedPath=[],this.parent=fn,this.data=En,this._path=Cn,this._key=_i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(vn,fn)=>{if(isValid(fn))return{success:!0,data:fn.value};if(!vn.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const En=new ZodError(vn.common.issues);return this._error=En,this._error}}};function processCreateParams(vn){if(!vn)return{};const{errorMap:fn,invalid_type_error:En,required_error:Cn,description:_i}=vn;if(fn&&(En||Cn))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return fn?{errorMap:fn,description:_i}:{errorMap:(ba,xa)=>{var $a,rs;const{message:ts}=vn;return ba.code==="invalid_enum_value"?{message:ts??xa.defaultError}:typeof xa.data>"u"?{message:($a=ts??Cn)!==null&&$a!==void 0?$a:xa.defaultError}:ba.code!=="invalid_type"?{message:xa.defaultError}:{message:(rs=ts??En)!==null&&rs!==void 0?rs:xa.defaultError}},description:_i}}class ZodType{constructor(fn){this.spa=this.safeParseAsync,this._def=fn,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(fn){return getParsedType(fn.data)}_getOrReturnCtx(fn,En){return En||{common:fn.parent.common,data:fn.data,parsedType:getParsedType(fn.data),schemaErrorMap:this._def.errorMap,path:fn.path,parent:fn.parent}}_processInputParams(fn){return{status:new ParseStatus,ctx:{common:fn.parent.common,data:fn.data,parsedType:getParsedType(fn.data),schemaErrorMap:this._def.errorMap,path:fn.path,parent:fn.parent}}}_parseSync(fn){const En=this._parse(fn);if(isAsync(En))throw new Error("Synchronous parse encountered promise.");return En}_parseAsync(fn){const En=this._parse(fn);return Promise.resolve(En)}parse(fn,En){const Cn=this.safeParse(fn,En);if(Cn.success)return Cn.data;throw Cn.error}safeParse(fn,En){var Cn;const _i={common:{issues:[],async:(Cn=En==null?void 0:En.async)!==null&&Cn!==void 0?Cn:!1,contextualErrorMap:En==null?void 0:En.errorMap},path:(En==null?void 0:En.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:fn,parsedType:getParsedType(fn)},An=this._parseSync({data:fn,path:_i.path,parent:_i});return handleResult(_i,An)}async parseAsync(fn,En){const Cn=await this.safeParseAsync(fn,En);if(Cn.success)return Cn.data;throw Cn.error}async safeParseAsync(fn,En){const Cn={common:{issues:[],contextualErrorMap:En==null?void 0:En.errorMap,async:!0},path:(En==null?void 0:En.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:fn,parsedType:getParsedType(fn)},_i=this._parse({data:fn,path:Cn.path,parent:Cn}),An=await(isAsync(_i)?_i:Promise.resolve(_i));return handleResult(Cn,An)}refine(fn,En){const Cn=_i=>typeof En=="string"||typeof En>"u"?{message:En}:typeof En=="function"?En(_i):En;return this._refinement((_i,An)=>{const ba=fn(_i),xa=()=>An.addIssue({code:ZodIssueCode.custom,...Cn(_i)});return typeof Promise<"u"&&ba instanceof Promise?ba.then($a=>$a?!0:(xa(),!1)):ba?!0:(xa(),!1)})}refinement(fn,En){return this._refinement((Cn,_i)=>fn(Cn)?!0:(_i.addIssue(typeof En=="function"?En(Cn,_i):En),!1))}_refinement(fn){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:fn}})}superRefine(fn){return this._refinement(fn)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(fn){return ZodUnion.create([this,fn],this._def)}and(fn){return ZodIntersection.create(this,fn,this._def)}transform(fn){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:fn}})}default(fn){const En=typeof fn=="function"?fn:()=>fn;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:En,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(fn){const En=typeof fn=="function"?fn:()=>fn;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:En,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(fn){const En=this.constructor;return new En({...this._def,description:fn})}pipe(fn){return ZodPipeline.create(this,fn)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(vn){let fn="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return vn.precision?fn=`${fn}\\.\\d{${vn.precision}}`:vn.precision==null&&(fn=`${fn}(\\.\\d+)?`),fn}function timeRegex(vn){return new RegExp(`^${timeRegexSource(vn)}$`)}function datetimeRegex(vn){let fn=`${dateRegexSource}T${timeRegexSource(vn)}`;const En=[];return En.push(vn.local?"Z?":"Z"),vn.offset&&En.push("([+-]\\d{2}:?\\d{2})"),fn=`${fn}(${En.join("|")})`,new RegExp(`^${fn}$`)}function isValidIP(vn,fn){return!!((fn==="v4"||!fn)&&ipv4Regex.test(vn)||(fn==="v6"||!fn)&&ipv6Regex.test(vn))}class ZodString extends ZodType{_parse(fn){if(this._def.coerce&&(fn.data=String(fn.data)),this._getType(fn)!==ZodParsedType.string){const An=this._getOrReturnCtx(fn);return addIssueToContext(An,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:An.parsedType}),INVALID}const Cn=new ParseStatus;let _i;for(const An of this._def.checks)if(An.kind==="min")fn.data.length<An.value&&(_i=this._getOrReturnCtx(fn,_i),addIssueToContext(_i,{code:ZodIssueCode.too_small,minimum:An.value,type:"string",inclusive:!0,exact:!1,message:An.message}),Cn.dirty());else if(An.kind==="max")fn.data.length>An.value&&(_i=this._getOrReturnCtx(fn,_i),addIssueToContext(_i,{code:ZodIssueCode.too_big,maximum:An.value,type:"string",inclusive:!0,exact:!1,message:An.message}),Cn.dirty());else if(An.kind==="length"){const ba=fn.data.length>An.value,xa=fn.data.length<An.value;(ba||xa)&&(_i=this._getOrReturnCtx(fn,_i),ba?addIssueToContext(_i,{code:ZodIssueCode.too_big,maximum:An.value,type:"string",inclusive:!0,exact:!0,message:An.message}):xa&&addIssueToContext(_i,{code:ZodIssueCode.too_small,minimum:An.value,type:"string",inclusive:!0,exact:!0,message:An.message}),Cn.dirty())}else if(An.kind==="email")emailRegex.test(fn.data)||(_i=this._getOrReturnCtx(fn,_i),addIssueToContext(_i,{validation:"email",code:ZodIssueCode.invalid_string,message:An.message}),Cn.dirty());else if(An.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(fn.data)||(_i=this._getOrReturnCtx(fn,_i),addIssueToContext(_i,{validation:"emoji",code:ZodIssueCode.invalid_string,message:An.message}),Cn.dirty());else if(An.kind==="uuid")uuidRegex.test(fn.data)||(_i=this._getOrReturnCtx(fn,_i),addIssueToContext(_i,{validation:"uuid",code:ZodIssueCode.invalid_string,message:An.message}),Cn.dirty());else if(An.kind==="nanoid")nanoidRegex.test(fn.data)||(_i=this._getOrReturnCtx(fn,_i),addIssueToContext(_i,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:An.message}),Cn.dirty());else if(An.kind==="cuid")cuidRegex.test(fn.data)||(_i=this._getOrReturnCtx(fn,_i),addIssueToContext(_i,{validation:"cuid",code:ZodIssueCode.invalid_string,message:An.message}),Cn.dirty());else if(An.kind==="cuid2")cuid2Regex.test(fn.data)||(_i=this._getOrReturnCtx(fn,_i),addIssueToContext(_i,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:An.message}),Cn.dirty());else if(An.kind==="ulid")ulidRegex.test(fn.data)||(_i=this._getOrReturnCtx(fn,_i),addIssueToContext(_i,{validation:"ulid",code:ZodIssueCode.invalid_string,message:An.message}),Cn.dirty());else if(An.kind==="url")try{new URL(fn.data)}catch{_i=this._getOrReturnCtx(fn,_i),addIssueToContext(_i,{validation:"url",code:ZodIssueCode.invalid_string,message:An.message}),Cn.dirty()}else An.kind==="regex"?(An.regex.lastIndex=0,An.regex.test(fn.data)||(_i=this._getOrReturnCtx(fn,_i),addIssueToContext(_i,{validation:"regex",code:ZodIssueCode.invalid_string,message:An.message}),Cn.dirty())):An.kind==="trim"?fn.data=fn.data.trim():An.kind==="includes"?fn.data.includes(An.value,An.position)||(_i=this._getOrReturnCtx(fn,_i),addIssueToContext(_i,{code:ZodIssueCode.invalid_string,validation:{includes:An.value,position:An.position},message:An.message}),Cn.dirty()):An.kind==="toLowerCase"?fn.data=fn.data.toLowerCase():An.kind==="toUpperCase"?fn.data=fn.data.toUpperCase():An.kind==="startsWith"?fn.data.startsWith(An.value)||(_i=this._getOrReturnCtx(fn,_i),addIssueToContext(_i,{code:ZodIssueCode.invalid_string,validation:{startsWith:An.value},message:An.message}),Cn.dirty()):An.kind==="endsWith"?fn.data.endsWith(An.value)||(_i=this._getOrReturnCtx(fn,_i),addIssueToContext(_i,{code:ZodIssueCode.invalid_string,validation:{endsWith:An.value},message:An.message}),Cn.dirty()):An.kind==="datetime"?datetimeRegex(An).test(fn.data)||(_i=this._getOrReturnCtx(fn,_i),addIssueToContext(_i,{code:ZodIssueCode.invalid_string,validation:"datetime",message:An.message}),Cn.dirty()):An.kind==="date"?dateRegex.test(fn.data)||(_i=this._getOrReturnCtx(fn,_i),addIssueToContext(_i,{code:ZodIssueCode.invalid_string,validation:"date",message:An.message}),Cn.dirty()):An.kind==="time"?timeRegex(An).test(fn.data)||(_i=this._getOrReturnCtx(fn,_i),addIssueToContext(_i,{code:ZodIssueCode.invalid_string,validation:"time",message:An.message}),Cn.dirty()):An.kind==="duration"?durationRegex.test(fn.data)||(_i=this._getOrReturnCtx(fn,_i),addIssueToContext(_i,{validation:"duration",code:ZodIssueCode.invalid_string,message:An.message}),Cn.dirty()):An.kind==="ip"?isValidIP(fn.data,An.version)||(_i=this._getOrReturnCtx(fn,_i),addIssueToContext(_i,{validation:"ip",code:ZodIssueCode.invalid_string,message:An.message}),Cn.dirty()):An.kind==="base64"?base64Regex.test(fn.data)||(_i=this._getOrReturnCtx(fn,_i),addIssueToContext(_i,{validation:"base64",code:ZodIssueCode.invalid_string,message:An.message}),Cn.dirty()):util$5.assertNever(An);return{status:Cn.value,value:fn.data}}_regex(fn,En,Cn){return this.refinement(_i=>fn.test(_i),{validation:En,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(Cn)})}_addCheck(fn){return new ZodString({...this._def,checks:[...this._def.checks,fn]})}email(fn){return this._addCheck({kind:"email",...errorUtil.errToObj(fn)})}url(fn){return this._addCheck({kind:"url",...errorUtil.errToObj(fn)})}emoji(fn){return this._addCheck({kind:"emoji",...errorUtil.errToObj(fn)})}uuid(fn){return this._addCheck({kind:"uuid",...errorUtil.errToObj(fn)})}nanoid(fn){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(fn)})}cuid(fn){return this._addCheck({kind:"cuid",...errorUtil.errToObj(fn)})}cuid2(fn){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(fn)})}ulid(fn){return this._addCheck({kind:"ulid",...errorUtil.errToObj(fn)})}base64(fn){return this._addCheck({kind:"base64",...errorUtil.errToObj(fn)})}ip(fn){return this._addCheck({kind:"ip",...errorUtil.errToObj(fn)})}datetime(fn){var En,Cn;return typeof fn=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:fn}):this._addCheck({kind:"datetime",precision:typeof(fn==null?void 0:fn.precision)>"u"?null:fn==null?void 0:fn.precision,offset:(En=fn==null?void 0:fn.offset)!==null&&En!==void 0?En:!1,local:(Cn=fn==null?void 0:fn.local)!==null&&Cn!==void 0?Cn:!1,...errorUtil.errToObj(fn==null?void 0:fn.message)})}date(fn){return this._addCheck({kind:"date",message:fn})}time(fn){return typeof fn=="string"?this._addCheck({kind:"time",precision:null,message:fn}):this._addCheck({kind:"time",precision:typeof(fn==null?void 0:fn.precision)>"u"?null:fn==null?void 0:fn.precision,...errorUtil.errToObj(fn==null?void 0:fn.message)})}duration(fn){return this._addCheck({kind:"duration",...errorUtil.errToObj(fn)})}regex(fn,En){return this._addCheck({kind:"regex",regex:fn,...errorUtil.errToObj(En)})}includes(fn,En){return this._addCheck({kind:"includes",value:fn,position:En==null?void 0:En.position,...errorUtil.errToObj(En==null?void 0:En.message)})}startsWith(fn,En){return this._addCheck({kind:"startsWith",value:fn,...errorUtil.errToObj(En)})}endsWith(fn,En){return this._addCheck({kind:"endsWith",value:fn,...errorUtil.errToObj(En)})}min(fn,En){return this._addCheck({kind:"min",value:fn,...errorUtil.errToObj(En)})}max(fn,En){return this._addCheck({kind:"max",value:fn,...errorUtil.errToObj(En)})}length(fn,En){return this._addCheck({kind:"length",value:fn,...errorUtil.errToObj(En)})}nonempty(fn){return this.min(1,errorUtil.errToObj(fn))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(fn=>fn.kind==="datetime")}get isDate(){return!!this._def.checks.find(fn=>fn.kind==="date")}get isTime(){return!!this._def.checks.find(fn=>fn.kind==="time")}get isDuration(){return!!this._def.checks.find(fn=>fn.kind==="duration")}get isEmail(){return!!this._def.checks.find(fn=>fn.kind==="email")}get isURL(){return!!this._def.checks.find(fn=>fn.kind==="url")}get isEmoji(){return!!this._def.checks.find(fn=>fn.kind==="emoji")}get isUUID(){return!!this._def.checks.find(fn=>fn.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(fn=>fn.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(fn=>fn.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(fn=>fn.kind==="cuid2")}get isULID(){return!!this._def.checks.find(fn=>fn.kind==="ulid")}get isIP(){return!!this._def.checks.find(fn=>fn.kind==="ip")}get isBase64(){return!!this._def.checks.find(fn=>fn.kind==="base64")}get minLength(){let fn=null;for(const En of this._def.checks)En.kind==="min"&&(fn===null||En.value>fn)&&(fn=En.value);return fn}get maxLength(){let fn=null;for(const En of this._def.checks)En.kind==="max"&&(fn===null||En.value<fn)&&(fn=En.value);return fn}}ZodString.create=vn=>{var fn;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(fn=vn==null?void 0:vn.coerce)!==null&&fn!==void 0?fn:!1,...processCreateParams(vn)})};function floatSafeRemainder(vn,fn){const En=(vn.toString().split(".")[1]||"").length,Cn=(fn.toString().split(".")[1]||"").length,_i=En>Cn?En:Cn,An=parseInt(vn.toFixed(_i).replace(".","")),ba=parseInt(fn.toFixed(_i).replace(".",""));return An%ba/Math.pow(10,_i)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(fn){if(this._def.coerce&&(fn.data=Number(fn.data)),this._getType(fn)!==ZodParsedType.number){const An=this._getOrReturnCtx(fn);return addIssueToContext(An,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:An.parsedType}),INVALID}let Cn;const _i=new ParseStatus;for(const An of this._def.checks)An.kind==="int"?util$5.isInteger(fn.data)||(Cn=this._getOrReturnCtx(fn,Cn),addIssueToContext(Cn,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:An.message}),_i.dirty()):An.kind==="min"?(An.inclusive?fn.data<An.value:fn.data<=An.value)&&(Cn=this._getOrReturnCtx(fn,Cn),addIssueToContext(Cn,{code:ZodIssueCode.too_small,minimum:An.value,type:"number",inclusive:An.inclusive,exact:!1,message:An.message}),_i.dirty()):An.kind==="max"?(An.inclusive?fn.data>An.value:fn.data>=An.value)&&(Cn=this._getOrReturnCtx(fn,Cn),addIssueToContext(Cn,{code:ZodIssueCode.too_big,maximum:An.value,type:"number",inclusive:An.inclusive,exact:!1,message:An.message}),_i.dirty()):An.kind==="multipleOf"?floatSafeRemainder(fn.data,An.value)!==0&&(Cn=this._getOrReturnCtx(fn,Cn),addIssueToContext(Cn,{code:ZodIssueCode.not_multiple_of,multipleOf:An.value,message:An.message}),_i.dirty()):An.kind==="finite"?Number.isFinite(fn.data)||(Cn=this._getOrReturnCtx(fn,Cn),addIssueToContext(Cn,{code:ZodIssueCode.not_finite,message:An.message}),_i.dirty()):util$5.assertNever(An);return{status:_i.value,value:fn.data}}gte(fn,En){return this.setLimit("min",fn,!0,errorUtil.toString(En))}gt(fn,En){return this.setLimit("min",fn,!1,errorUtil.toString(En))}lte(fn,En){return this.setLimit("max",fn,!0,errorUtil.toString(En))}lt(fn,En){return this.setLimit("max",fn,!1,errorUtil.toString(En))}setLimit(fn,En,Cn,_i){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:fn,value:En,inclusive:Cn,message:errorUtil.toString(_i)}]})}_addCheck(fn){return new ZodNumber({...this._def,checks:[...this._def.checks,fn]})}int(fn){return this._addCheck({kind:"int",message:errorUtil.toString(fn)})}positive(fn){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(fn)})}negative(fn){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(fn)})}nonpositive(fn){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(fn)})}nonnegative(fn){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(fn)})}multipleOf(fn,En){return this._addCheck({kind:"multipleOf",value:fn,message:errorUtil.toString(En)})}finite(fn){return this._addCheck({kind:"finite",message:errorUtil.toString(fn)})}safe(fn){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(fn)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(fn)})}get minValue(){let fn=null;for(const En of this._def.checks)En.kind==="min"&&(fn===null||En.value>fn)&&(fn=En.value);return fn}get maxValue(){let fn=null;for(const En of this._def.checks)En.kind==="max"&&(fn===null||En.value<fn)&&(fn=En.value);return fn}get isInt(){return!!this._def.checks.find(fn=>fn.kind==="int"||fn.kind==="multipleOf"&&util$5.isInteger(fn.value))}get isFinite(){let fn=null,En=null;for(const Cn of this._def.checks){if(Cn.kind==="finite"||Cn.kind==="int"||Cn.kind==="multipleOf")return!0;Cn.kind==="min"?(En===null||Cn.value>En)&&(En=Cn.value):Cn.kind==="max"&&(fn===null||Cn.value<fn)&&(fn=Cn.value)}return Number.isFinite(En)&&Number.isFinite(fn)}}ZodNumber.create=vn=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(vn==null?void 0:vn.coerce)||!1,...processCreateParams(vn)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(fn){if(this._def.coerce&&(fn.data=BigInt(fn.data)),this._getType(fn)!==ZodParsedType.bigint){const An=this._getOrReturnCtx(fn);return addIssueToContext(An,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:An.parsedType}),INVALID}let Cn;const _i=new ParseStatus;for(const An of this._def.checks)An.kind==="min"?(An.inclusive?fn.data<An.value:fn.data<=An.value)&&(Cn=this._getOrReturnCtx(fn,Cn),addIssueToContext(Cn,{code:ZodIssueCode.too_small,type:"bigint",minimum:An.value,inclusive:An.inclusive,message:An.message}),_i.dirty()):An.kind==="max"?(An.inclusive?fn.data>An.value:fn.data>=An.value)&&(Cn=this._getOrReturnCtx(fn,Cn),addIssueToContext(Cn,{code:ZodIssueCode.too_big,type:"bigint",maximum:An.value,inclusive:An.inclusive,message:An.message}),_i.dirty()):An.kind==="multipleOf"?fn.data%An.value!==BigInt(0)&&(Cn=this._getOrReturnCtx(fn,Cn),addIssueToContext(Cn,{code:ZodIssueCode.not_multiple_of,multipleOf:An.value,message:An.message}),_i.dirty()):util$5.assertNever(An);return{status:_i.value,value:fn.data}}gte(fn,En){return this.setLimit("min",fn,!0,errorUtil.toString(En))}gt(fn,En){return this.setLimit("min",fn,!1,errorUtil.toString(En))}lte(fn,En){return this.setLimit("max",fn,!0,errorUtil.toString(En))}lt(fn,En){return this.setLimit("max",fn,!1,errorUtil.toString(En))}setLimit(fn,En,Cn,_i){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:fn,value:En,inclusive:Cn,message:errorUtil.toString(_i)}]})}_addCheck(fn){return new ZodBigInt({...this._def,checks:[...this._def.checks,fn]})}positive(fn){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(fn)})}negative(fn){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(fn)})}nonpositive(fn){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(fn)})}nonnegative(fn){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(fn)})}multipleOf(fn,En){return this._addCheck({kind:"multipleOf",value:fn,message:errorUtil.toString(En)})}get minValue(){let fn=null;for(const En of this._def.checks)En.kind==="min"&&(fn===null||En.value>fn)&&(fn=En.value);return fn}get maxValue(){let fn=null;for(const En of this._def.checks)En.kind==="max"&&(fn===null||En.value<fn)&&(fn=En.value);return fn}}ZodBigInt.create=vn=>{var fn;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(fn=vn==null?void 0:vn.coerce)!==null&&fn!==void 0?fn:!1,...processCreateParams(vn)})};class ZodBoolean extends ZodType{_parse(fn){if(this._def.coerce&&(fn.data=!!fn.data),this._getType(fn)!==ZodParsedType.boolean){const Cn=this._getOrReturnCtx(fn);return addIssueToContext(Cn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:Cn.parsedType}),INVALID}return OK(fn.data)}}ZodBoolean.create=vn=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(vn==null?void 0:vn.coerce)||!1,...processCreateParams(vn)});class ZodDate extends ZodType{_parse(fn){if(this._def.coerce&&(fn.data=new Date(fn.data)),this._getType(fn)!==ZodParsedType.date){const An=this._getOrReturnCtx(fn);return addIssueToContext(An,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:An.parsedType}),INVALID}if(isNaN(fn.data.getTime())){const An=this._getOrReturnCtx(fn);return addIssueToContext(An,{code:ZodIssueCode.invalid_date}),INVALID}const Cn=new ParseStatus;let _i;for(const An of this._def.checks)An.kind==="min"?fn.data.getTime()<An.value&&(_i=this._getOrReturnCtx(fn,_i),addIssueToContext(_i,{code:ZodIssueCode.too_small,message:An.message,inclusive:!0,exact:!1,minimum:An.value,type:"date"}),Cn.dirty()):An.kind==="max"?fn.data.getTime()>An.value&&(_i=this._getOrReturnCtx(fn,_i),addIssueToContext(_i,{code:ZodIssueCode.too_big,message:An.message,inclusive:!0,exact:!1,maximum:An.value,type:"date"}),Cn.dirty()):util$5.assertNever(An);return{status:Cn.value,value:new Date(fn.data.getTime())}}_addCheck(fn){return new ZodDate({...this._def,checks:[...this._def.checks,fn]})}min(fn,En){return this._addCheck({kind:"min",value:fn.getTime(),message:errorUtil.toString(En)})}max(fn,En){return this._addCheck({kind:"max",value:fn.getTime(),message:errorUtil.toString(En)})}get minDate(){let fn=null;for(const En of this._def.checks)En.kind==="min"&&(fn===null||En.value>fn)&&(fn=En.value);return fn!=null?new Date(fn):null}get maxDate(){let fn=null;for(const En of this._def.checks)En.kind==="max"&&(fn===null||En.value<fn)&&(fn=En.value);return fn!=null?new Date(fn):null}}ZodDate.create=vn=>new ZodDate({checks:[],coerce:(vn==null?void 0:vn.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(vn)});class ZodSymbol extends ZodType{_parse(fn){if(this._getType(fn)!==ZodParsedType.symbol){const Cn=this._getOrReturnCtx(fn);return addIssueToContext(Cn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:Cn.parsedType}),INVALID}return OK(fn.data)}}ZodSymbol.create=vn=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(vn)});class ZodUndefined extends ZodType{_parse(fn){if(this._getType(fn)!==ZodParsedType.undefined){const Cn=this._getOrReturnCtx(fn);return addIssueToContext(Cn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:Cn.parsedType}),INVALID}return OK(fn.data)}}ZodUndefined.create=vn=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(vn)});class ZodNull extends ZodType{_parse(fn){if(this._getType(fn)!==ZodParsedType.null){const Cn=this._getOrReturnCtx(fn);return addIssueToContext(Cn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:Cn.parsedType}),INVALID}return OK(fn.data)}}ZodNull.create=vn=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(vn)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(fn){return OK(fn.data)}}ZodAny.create=vn=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(vn)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(fn){return OK(fn.data)}}ZodUnknown.create=vn=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(vn)});class ZodNever extends ZodType{_parse(fn){const En=this._getOrReturnCtx(fn);return addIssueToContext(En,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:En.parsedType}),INVALID}}ZodNever.create=vn=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(vn)});class ZodVoid extends ZodType{_parse(fn){if(this._getType(fn)!==ZodParsedType.undefined){const Cn=this._getOrReturnCtx(fn);return addIssueToContext(Cn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:Cn.parsedType}),INVALID}return OK(fn.data)}}ZodVoid.create=vn=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(vn)});class ZodArray extends ZodType{_parse(fn){const{ctx:En,status:Cn}=this._processInputParams(fn),_i=this._def;if(En.parsedType!==ZodParsedType.array)return addIssueToContext(En,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:En.parsedType}),INVALID;if(_i.exactLength!==null){const ba=En.data.length>_i.exactLength.value,xa=En.data.length<_i.exactLength.value;(ba||xa)&&(addIssueToContext(En,{code:ba?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:xa?_i.exactLength.value:void 0,maximum:ba?_i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:_i.exactLength.message}),Cn.dirty())}if(_i.minLength!==null&&En.data.length<_i.minLength.value&&(addIssueToContext(En,{code:ZodIssueCode.too_small,minimum:_i.minLength.value,type:"array",inclusive:!0,exact:!1,message:_i.minLength.message}),Cn.dirty()),_i.maxLength!==null&&En.data.length>_i.maxLength.value&&(addIssueToContext(En,{code:ZodIssueCode.too_big,maximum:_i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:_i.maxLength.message}),Cn.dirty()),En.common.async)return Promise.all([...En.data].map((ba,xa)=>_i.type._parseAsync(new ParseInputLazyPath(En,ba,En.path,xa)))).then(ba=>ParseStatus.mergeArray(Cn,ba));const An=[...En.data].map((ba,xa)=>_i.type._parseSync(new ParseInputLazyPath(En,ba,En.path,xa)));return ParseStatus.mergeArray(Cn,An)}get element(){return this._def.type}min(fn,En){return new ZodArray({...this._def,minLength:{value:fn,message:errorUtil.toString(En)}})}max(fn,En){return new ZodArray({...this._def,maxLength:{value:fn,message:errorUtil.toString(En)}})}length(fn,En){return new ZodArray({...this._def,exactLength:{value:fn,message:errorUtil.toString(En)}})}nonempty(fn){return this.min(1,fn)}}ZodArray.create=(vn,fn)=>new ZodArray({type:vn,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(fn)});function deepPartialify(vn){if(vn instanceof ZodObject){const fn={};for(const En in vn.shape){const Cn=vn.shape[En];fn[En]=ZodOptional.create(deepPartialify(Cn))}return new ZodObject({...vn._def,shape:()=>fn})}else return vn instanceof ZodArray?new ZodArray({...vn._def,type:deepPartialify(vn.element)}):vn instanceof ZodOptional?ZodOptional.create(deepPartialify(vn.unwrap())):vn instanceof ZodNullable?ZodNullable.create(deepPartialify(vn.unwrap())):vn instanceof ZodTuple?ZodTuple.create(vn.items.map(fn=>deepPartialify(fn))):vn}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const fn=this._def.shape(),En=util$5.objectKeys(fn);return this._cached={shape:fn,keys:En}}_parse(fn){if(this._getType(fn)!==ZodParsedType.object){const rs=this._getOrReturnCtx(fn);return addIssueToContext(rs,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:rs.parsedType}),INVALID}const{status:Cn,ctx:_i}=this._processInputParams(fn),{shape:An,keys:ba}=this._getCached(),xa=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const rs in _i.data)ba.includes(rs)||xa.push(rs);const $a=[];for(const rs of ba){const ts=An[rs],is=_i.data[rs];$a.push({key:{status:"valid",value:rs},value:ts._parse(new ParseInputLazyPath(_i,is,_i.path,rs)),alwaysSet:rs in _i.data})}if(this._def.catchall instanceof ZodNever){const rs=this._def.unknownKeys;if(rs==="passthrough")for(const ts of xa)$a.push({key:{status:"valid",value:ts},value:{status:"valid",value:_i.data[ts]}});else if(rs==="strict")xa.length>0&&(addIssueToContext(_i,{code:ZodIssueCode.unrecognized_keys,keys:xa}),Cn.dirty());else if(rs!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const rs=this._def.catchall;for(const ts of xa){const is=_i.data[ts];$a.push({key:{status:"valid",value:ts},value:rs._parse(new ParseInputLazyPath(_i,is,_i.path,ts)),alwaysSet:ts in _i.data})}}return _i.common.async?Promise.resolve().then(async()=>{const rs=[];for(const ts of $a){const is=await ts.key,cs=await ts.value;rs.push({key:is,value:cs,alwaysSet:ts.alwaysSet})}return rs}).then(rs=>ParseStatus.mergeObjectSync(Cn,rs)):ParseStatus.mergeObjectSync(Cn,$a)}get shape(){return this._def.shape()}strict(fn){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...fn!==void 0?{errorMap:(En,Cn)=>{var _i,An,ba,xa;const $a=(ba=(An=(_i=this._def).errorMap)===null||An===void 0?void 0:An.call(_i,En,Cn).message)!==null&&ba!==void 0?ba:Cn.defaultError;return En.code==="unrecognized_keys"?{message:(xa=errorUtil.errToObj(fn).message)!==null&&xa!==void 0?xa:$a}:{message:$a}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(fn){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...fn})})}merge(fn){return new ZodObject({unknownKeys:fn._def.unknownKeys,catchall:fn._def.catchall,shape:()=>({...this._def.shape(),...fn._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(fn,En){return this.augment({[fn]:En})}catchall(fn){return new ZodObject({...this._def,catchall:fn})}pick(fn){const En={};return util$5.objectKeys(fn).forEach(Cn=>{fn[Cn]&&this.shape[Cn]&&(En[Cn]=this.shape[Cn])}),new ZodObject({...this._def,shape:()=>En})}omit(fn){const En={};return util$5.objectKeys(this.shape).forEach(Cn=>{fn[Cn]||(En[Cn]=this.shape[Cn])}),new ZodObject({...this._def,shape:()=>En})}deepPartial(){return deepPartialify(this)}partial(fn){const En={};return util$5.objectKeys(this.shape).forEach(Cn=>{const _i=this.shape[Cn];fn&&!fn[Cn]?En[Cn]=_i:En[Cn]=_i.optional()}),new ZodObject({...this._def,shape:()=>En})}required(fn){const En={};return util$5.objectKeys(this.shape).forEach(Cn=>{if(fn&&!fn[Cn])En[Cn]=this.shape[Cn];else{let An=this.shape[Cn];for(;An instanceof ZodOptional;)An=An._def.innerType;En[Cn]=An}}),new ZodObject({...this._def,shape:()=>En})}keyof(){return createZodEnum(util$5.objectKeys(this.shape))}}ZodObject.create=(vn,fn)=>new ZodObject({shape:()=>vn,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(fn)});ZodObject.strictCreate=(vn,fn)=>new ZodObject({shape:()=>vn,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(fn)});ZodObject.lazycreate=(vn,fn)=>new ZodObject({shape:vn,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(fn)});class ZodUnion extends ZodType{_parse(fn){const{ctx:En}=this._processInputParams(fn),Cn=this._def.options;function _i(An){for(const xa of An)if(xa.result.status==="valid")return xa.result;for(const xa of An)if(xa.result.status==="dirty")return En.common.issues.push(...xa.ctx.common.issues),xa.result;const ba=An.map(xa=>new ZodError(xa.ctx.common.issues));return addIssueToContext(En,{code:ZodIssueCode.invalid_union,unionErrors:ba}),INVALID}if(En.common.async)return Promise.all(Cn.map(async An=>{const ba={...En,common:{...En.common,issues:[]},parent:null};return{result:await An._parseAsync({data:En.data,path:En.path,parent:ba}),ctx:ba}})).then(_i);{let An;const ba=[];for(const $a of Cn){const rs={...En,common:{...En.common,issues:[]},parent:null},ts=$a._parseSync({data:En.data,path:En.path,parent:rs});if(ts.status==="valid")return ts;ts.status==="dirty"&&!An&&(An={result:ts,ctx:rs}),rs.common.issues.length&&ba.push(rs.common.issues)}if(An)return En.common.issues.push(...An.ctx.common.issues),An.result;const xa=ba.map($a=>new ZodError($a));return addIssueToContext(En,{code:ZodIssueCode.invalid_union,unionErrors:xa}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(vn,fn)=>new ZodUnion({options:vn,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(fn)});const getDiscriminator=vn=>vn instanceof ZodLazy?getDiscriminator(vn.schema):vn instanceof ZodEffects?getDiscriminator(vn.innerType()):vn instanceof ZodLiteral?[vn.value]:vn instanceof ZodEnum?vn.options:vn instanceof ZodNativeEnum?util$5.objectValues(vn.enum):vn instanceof ZodDefault?getDiscriminator(vn._def.innerType):vn instanceof ZodUndefined?[void 0]:vn instanceof ZodNull?[null]:vn instanceof ZodOptional?[void 0,...getDiscriminator(vn.unwrap())]:vn instanceof ZodNullable?[null,...getDiscriminator(vn.unwrap())]:vn instanceof ZodBranded||vn instanceof ZodReadonly?getDiscriminator(vn.unwrap()):vn instanceof ZodCatch?getDiscriminator(vn._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(fn){const{ctx:En}=this._processInputParams(fn);if(En.parsedType!==ZodParsedType.object)return addIssueToContext(En,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:En.parsedType}),INVALID;const Cn=this.discriminator,_i=En.data[Cn],An=this.optionsMap.get(_i);return An?En.common.async?An._parseAsync({data:En.data,path:En.path,parent:En}):An._parseSync({data:En.data,path:En.path,parent:En}):(addIssueToContext(En,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[Cn]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(fn,En,Cn){const _i=new Map;for(const An of En){const ba=getDiscriminator(An.shape[fn]);if(!ba.length)throw new Error(`A discriminator value for key \`${fn}\` could not be extracted from all schema options`);for(const xa of ba){if(_i.has(xa))throw new Error(`Discriminator property ${String(fn)} has duplicate value ${String(xa)}`);_i.set(xa,An)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:fn,options:En,optionsMap:_i,...processCreateParams(Cn)})}}function mergeValues(vn,fn){const En=getParsedType(vn),Cn=getParsedType(fn);if(vn===fn)return{valid:!0,data:vn};if(En===ZodParsedType.object&&Cn===ZodParsedType.object){const _i=util$5.objectKeys(fn),An=util$5.objectKeys(vn).filter(xa=>_i.indexOf(xa)!==-1),ba={...vn,...fn};for(const xa of An){const $a=mergeValues(vn[xa],fn[xa]);if(!$a.valid)return{valid:!1};ba[xa]=$a.data}return{valid:!0,data:ba}}else if(En===ZodParsedType.array&&Cn===ZodParsedType.array){if(vn.length!==fn.length)return{valid:!1};const _i=[];for(let An=0;An<vn.length;An++){const ba=vn[An],xa=fn[An],$a=mergeValues(ba,xa);if(!$a.valid)return{valid:!1};_i.push($a.data)}return{valid:!0,data:_i}}else return En===ZodParsedType.date&&Cn===ZodParsedType.date&&+vn==+fn?{valid:!0,data:vn}:{valid:!1}}class ZodIntersection extends ZodType{_parse(fn){const{status:En,ctx:Cn}=this._processInputParams(fn),_i=(An,ba)=>{if(isAborted(An)||isAborted(ba))return INVALID;const xa=mergeValues(An.value,ba.value);return xa.valid?((isDirty(An)||isDirty(ba))&&En.dirty(),{status:En.value,value:xa.data}):(addIssueToContext(Cn,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return Cn.common.async?Promise.all([this._def.left._parseAsync({data:Cn.data,path:Cn.path,parent:Cn}),this._def.right._parseAsync({data:Cn.data,path:Cn.path,parent:Cn})]).then(([An,ba])=>_i(An,ba)):_i(this._def.left._parseSync({data:Cn.data,path:Cn.path,parent:Cn}),this._def.right._parseSync({data:Cn.data,path:Cn.path,parent:Cn}))}}ZodIntersection.create=(vn,fn,En)=>new ZodIntersection({left:vn,right:fn,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(En)});class ZodTuple extends ZodType{_parse(fn){const{status:En,ctx:Cn}=this._processInputParams(fn);if(Cn.parsedType!==ZodParsedType.array)return addIssueToContext(Cn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:Cn.parsedType}),INVALID;if(Cn.data.length<this._def.items.length)return addIssueToContext(Cn,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&Cn.data.length>this._def.items.length&&(addIssueToContext(Cn,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),En.dirty());const An=[...Cn.data].map((ba,xa)=>{const $a=this._def.items[xa]||this._def.rest;return $a?$a._parse(new ParseInputLazyPath(Cn,ba,Cn.path,xa)):null}).filter(ba=>!!ba);return Cn.common.async?Promise.all(An).then(ba=>ParseStatus.mergeArray(En,ba)):ParseStatus.mergeArray(En,An)}get items(){return this._def.items}rest(fn){return new ZodTuple({...this._def,rest:fn})}}ZodTuple.create=(vn,fn)=>{if(!Array.isArray(vn))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:vn,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(fn)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(fn){const{status:En,ctx:Cn}=this._processInputParams(fn);if(Cn.parsedType!==ZodParsedType.object)return addIssueToContext(Cn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:Cn.parsedType}),INVALID;const _i=[],An=this._def.keyType,ba=this._def.valueType;for(const xa in Cn.data)_i.push({key:An._parse(new ParseInputLazyPath(Cn,xa,Cn.path,xa)),value:ba._parse(new ParseInputLazyPath(Cn,Cn.data[xa],Cn.path,xa)),alwaysSet:xa in Cn.data});return Cn.common.async?ParseStatus.mergeObjectAsync(En,_i):ParseStatus.mergeObjectSync(En,_i)}get element(){return this._def.valueType}static create(fn,En,Cn){return En instanceof ZodType?new ZodRecord({keyType:fn,valueType:En,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(Cn)}):new ZodRecord({keyType:ZodString.create(),valueType:fn,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(En)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(fn){const{status:En,ctx:Cn}=this._processInputParams(fn);if(Cn.parsedType!==ZodParsedType.map)return addIssueToContext(Cn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:Cn.parsedType}),INVALID;const _i=this._def.keyType,An=this._def.valueType,ba=[...Cn.data.entries()].map(([xa,$a],rs)=>({key:_i._parse(new ParseInputLazyPath(Cn,xa,Cn.path,[rs,"key"])),value:An._parse(new ParseInputLazyPath(Cn,$a,Cn.path,[rs,"value"]))}));if(Cn.common.async){const xa=new Map;return Promise.resolve().then(async()=>{for(const $a of ba){const rs=await $a.key,ts=await $a.value;if(rs.status==="aborted"||ts.status==="aborted")return INVALID;(rs.status==="dirty"||ts.status==="dirty")&&En.dirty(),xa.set(rs.value,ts.value)}return{status:En.value,value:xa}})}else{const xa=new Map;for(const $a of ba){const rs=$a.key,ts=$a.value;if(rs.status==="aborted"||ts.status==="aborted")return INVALID;(rs.status==="dirty"||ts.status==="dirty")&&En.dirty(),xa.set(rs.value,ts.value)}return{status:En.value,value:xa}}}}ZodMap.create=(vn,fn,En)=>new ZodMap({valueType:fn,keyType:vn,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(En)});class ZodSet extends ZodType{_parse(fn){const{status:En,ctx:Cn}=this._processInputParams(fn);if(Cn.parsedType!==ZodParsedType.set)return addIssueToContext(Cn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:Cn.parsedType}),INVALID;const _i=this._def;_i.minSize!==null&&Cn.data.size<_i.minSize.value&&(addIssueToContext(Cn,{code:ZodIssueCode.too_small,minimum:_i.minSize.value,type:"set",inclusive:!0,exact:!1,message:_i.minSize.message}),En.dirty()),_i.maxSize!==null&&Cn.data.size>_i.maxSize.value&&(addIssueToContext(Cn,{code:ZodIssueCode.too_big,maximum:_i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:_i.maxSize.message}),En.dirty());const An=this._def.valueType;function ba($a){const rs=new Set;for(const ts of $a){if(ts.status==="aborted")return INVALID;ts.status==="dirty"&&En.dirty(),rs.add(ts.value)}return{status:En.value,value:rs}}const xa=[...Cn.data.values()].map(($a,rs)=>An._parse(new ParseInputLazyPath(Cn,$a,Cn.path,rs)));return Cn.common.async?Promise.all(xa).then($a=>ba($a)):ba(xa)}min(fn,En){return new ZodSet({...this._def,minSize:{value:fn,message:errorUtil.toString(En)}})}max(fn,En){return new ZodSet({...this._def,maxSize:{value:fn,message:errorUtil.toString(En)}})}size(fn,En){return this.min(fn,En).max(fn,En)}nonempty(fn){return this.min(1,fn)}}ZodSet.create=(vn,fn)=>new ZodSet({valueType:vn,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(fn)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(fn){const{ctx:En}=this._processInputParams(fn);if(En.parsedType!==ZodParsedType.function)return addIssueToContext(En,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:En.parsedType}),INVALID;function Cn(xa,$a){return makeIssue({data:xa,path:En.path,errorMaps:[En.common.contextualErrorMap,En.schemaErrorMap,getErrorMap(),errorMap].filter(rs=>!!rs),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:$a}})}function _i(xa,$a){return makeIssue({data:xa,path:En.path,errorMaps:[En.common.contextualErrorMap,En.schemaErrorMap,getErrorMap(),errorMap].filter(rs=>!!rs),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:$a}})}const An={errorMap:En.common.contextualErrorMap},ba=En.data;if(this._def.returns instanceof ZodPromise){const xa=this;return OK(async function(...$a){const rs=new ZodError([]),ts=await xa._def.args.parseAsync($a,An).catch(us=>{throw rs.addIssue(Cn($a,us)),rs}),is=await Reflect.apply(ba,this,ts);return await xa._def.returns._def.type.parseAsync(is,An).catch(us=>{throw rs.addIssue(_i(is,us)),rs})})}else{const xa=this;return OK(function(...$a){const rs=xa._def.args.safeParse($a,An);if(!rs.success)throw new ZodError([Cn($a,rs.error)]);const ts=Reflect.apply(ba,this,rs.data),is=xa._def.returns.safeParse(ts,An);if(!is.success)throw new ZodError([_i(ts,is.error)]);return is.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...fn){return new ZodFunction({...this._def,args:ZodTuple.create(fn).rest(ZodUnknown.create())})}returns(fn){return new ZodFunction({...this._def,returns:fn})}implement(fn){return this.parse(fn)}strictImplement(fn){return this.parse(fn)}static create(fn,En,Cn){return new ZodFunction({args:fn||ZodTuple.create([]).rest(ZodUnknown.create()),returns:En||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(Cn)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(fn){const{ctx:En}=this._processInputParams(fn);return this._def.getter()._parse({data:En.data,path:En.path,parent:En})}}ZodLazy.create=(vn,fn)=>new ZodLazy({getter:vn,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(fn)});class ZodLiteral extends ZodType{_parse(fn){if(fn.data!==this._def.value){const En=this._getOrReturnCtx(fn);return addIssueToContext(En,{received:En.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:fn.data}}get value(){return this._def.value}}ZodLiteral.create=(vn,fn)=>new ZodLiteral({value:vn,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(fn)});function createZodEnum(vn,fn){return new ZodEnum({values:vn,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(fn)})}class ZodEnum extends ZodType{constructor(){super(...arguments),_ZodEnum_cache.set(this,void 0)}_parse(fn){if(typeof fn.data!="string"){const En=this._getOrReturnCtx(fn),Cn=this._def.values;return addIssueToContext(En,{expected:util$5.joinValues(Cn),received:En.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet$1(this,_ZodEnum_cache)||__classPrivateFieldSet$1(this,_ZodEnum_cache,new Set(this._def.values)),!__classPrivateFieldGet$1(this,_ZodEnum_cache).has(fn.data)){const En=this._getOrReturnCtx(fn),Cn=this._def.values;return addIssueToContext(En,{received:En.data,code:ZodIssueCode.invalid_enum_value,options:Cn}),INVALID}return OK(fn.data)}get options(){return this._def.values}get enum(){const fn={};for(const En of this._def.values)fn[En]=En;return fn}get Values(){const fn={};for(const En of this._def.values)fn[En]=En;return fn}get Enum(){const fn={};for(const En of this._def.values)fn[En]=En;return fn}extract(fn,En=this._def){return ZodEnum.create(fn,{...this._def,...En})}exclude(fn,En=this._def){return ZodEnum.create(this.options.filter(Cn=>!fn.includes(Cn)),{...this._def,...En})}}_ZodEnum_cache=new WeakMap;ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_ZodNativeEnum_cache.set(this,void 0)}_parse(fn){const En=util$5.getValidEnumValues(this._def.values),Cn=this._getOrReturnCtx(fn);if(Cn.parsedType!==ZodParsedType.string&&Cn.parsedType!==ZodParsedType.number){const _i=util$5.objectValues(En);return addIssueToContext(Cn,{expected:util$5.joinValues(_i),received:Cn.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet$1(this,_ZodNativeEnum_cache)||__classPrivateFieldSet$1(this,_ZodNativeEnum_cache,new Set(util$5.getValidEnumValues(this._def.values))),!__classPrivateFieldGet$1(this,_ZodNativeEnum_cache).has(fn.data)){const _i=util$5.objectValues(En);return addIssueToContext(Cn,{received:Cn.data,code:ZodIssueCode.invalid_enum_value,options:_i}),INVALID}return OK(fn.data)}get enum(){return this._def.values}}_ZodNativeEnum_cache=new WeakMap;ZodNativeEnum.create=(vn,fn)=>new ZodNativeEnum({values:vn,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(fn)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(fn){const{ctx:En}=this._processInputParams(fn);if(En.parsedType!==ZodParsedType.promise&&En.common.async===!1)return addIssueToContext(En,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:En.parsedType}),INVALID;const Cn=En.parsedType===ZodParsedType.promise?En.data:Promise.resolve(En.data);return OK(Cn.then(_i=>this._def.type.parseAsync(_i,{path:En.path,errorMap:En.common.contextualErrorMap})))}}ZodPromise.create=(vn,fn)=>new ZodPromise({type:vn,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(fn)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(fn){const{status:En,ctx:Cn}=this._processInputParams(fn),_i=this._def.effect||null,An={addIssue:ba=>{addIssueToContext(Cn,ba),ba.fatal?En.abort():En.dirty()},get path(){return Cn.path}};if(An.addIssue=An.addIssue.bind(An),_i.type==="preprocess"){const ba=_i.transform(Cn.data,An);if(Cn.common.async)return Promise.resolve(ba).then(async xa=>{if(En.value==="aborted")return INVALID;const $a=await this._def.schema._parseAsync({data:xa,path:Cn.path,parent:Cn});return $a.status==="aborted"?INVALID:$a.status==="dirty"||En.value==="dirty"?DIRTY($a.value):$a});{if(En.value==="aborted")return INVALID;const xa=this._def.schema._parseSync({data:ba,path:Cn.path,parent:Cn});return xa.status==="aborted"?INVALID:xa.status==="dirty"||En.value==="dirty"?DIRTY(xa.value):xa}}if(_i.type==="refinement"){const ba=xa=>{const $a=_i.refinement(xa,An);if(Cn.common.async)return Promise.resolve($a);if($a instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return xa};if(Cn.common.async===!1){const xa=this._def.schema._parseSync({data:Cn.data,path:Cn.path,parent:Cn});return xa.status==="aborted"?INVALID:(xa.status==="dirty"&&En.dirty(),ba(xa.value),{status:En.value,value:xa.value})}else return this._def.schema._parseAsync({data:Cn.data,path:Cn.path,parent:Cn}).then(xa=>xa.status==="aborted"?INVALID:(xa.status==="dirty"&&En.dirty(),ba(xa.value).then(()=>({status:En.value,value:xa.value}))))}if(_i.type==="transform")if(Cn.common.async===!1){const ba=this._def.schema._parseSync({data:Cn.data,path:Cn.path,parent:Cn});if(!isValid(ba))return ba;const xa=_i.transform(ba.value,An);if(xa instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:En.value,value:xa}}else return this._def.schema._parseAsync({data:Cn.data,path:Cn.path,parent:Cn}).then(ba=>isValid(ba)?Promise.resolve(_i.transform(ba.value,An)).then(xa=>({status:En.value,value:xa})):ba);util$5.assertNever(_i)}}ZodEffects.create=(vn,fn,En)=>new ZodEffects({schema:vn,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:fn,...processCreateParams(En)});ZodEffects.createWithPreprocess=(vn,fn,En)=>new ZodEffects({schema:fn,effect:{type:"preprocess",transform:vn},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(En)});class ZodOptional extends ZodType{_parse(fn){return this._getType(fn)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(fn)}unwrap(){return this._def.innerType}}ZodOptional.create=(vn,fn)=>new ZodOptional({innerType:vn,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(fn)});class ZodNullable extends ZodType{_parse(fn){return this._getType(fn)===ZodParsedType.null?OK(null):this._def.innerType._parse(fn)}unwrap(){return this._def.innerType}}ZodNullable.create=(vn,fn)=>new ZodNullable({innerType:vn,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(fn)});class ZodDefault extends ZodType{_parse(fn){const{ctx:En}=this._processInputParams(fn);let Cn=En.data;return En.parsedType===ZodParsedType.undefined&&(Cn=this._def.defaultValue()),this._def.innerType._parse({data:Cn,path:En.path,parent:En})}removeDefault(){return this._def.innerType}}ZodDefault.create=(vn,fn)=>new ZodDefault({innerType:vn,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof fn.default=="function"?fn.default:()=>fn.default,...processCreateParams(fn)});class ZodCatch extends ZodType{_parse(fn){const{ctx:En}=this._processInputParams(fn),Cn={...En,common:{...En.common,issues:[]}},_i=this._def.innerType._parse({data:Cn.data,path:Cn.path,parent:{...Cn}});return isAsync(_i)?_i.then(An=>({status:"valid",value:An.status==="valid"?An.value:this._def.catchValue({get error(){return new ZodError(Cn.common.issues)},input:Cn.data})})):{status:"valid",value:_i.status==="valid"?_i.value:this._def.catchValue({get error(){return new ZodError(Cn.common.issues)},input:Cn.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(vn,fn)=>new ZodCatch({innerType:vn,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof fn.catch=="function"?fn.catch:()=>fn.catch,...processCreateParams(fn)});class ZodNaN extends ZodType{_parse(fn){if(this._getType(fn)!==ZodParsedType.nan){const Cn=this._getOrReturnCtx(fn);return addIssueToContext(Cn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:Cn.parsedType}),INVALID}return{status:"valid",value:fn.data}}}ZodNaN.create=vn=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(vn)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(fn){const{ctx:En}=this._processInputParams(fn),Cn=En.data;return this._def.type._parse({data:Cn,path:En.path,parent:En})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(fn){const{status:En,ctx:Cn}=this._processInputParams(fn);if(Cn.common.async)return(async()=>{const An=await this._def.in._parseAsync({data:Cn.data,path:Cn.path,parent:Cn});return An.status==="aborted"?INVALID:An.status==="dirty"?(En.dirty(),DIRTY(An.value)):this._def.out._parseAsync({data:An.value,path:Cn.path,parent:Cn})})();{const _i=this._def.in._parseSync({data:Cn.data,path:Cn.path,parent:Cn});return _i.status==="aborted"?INVALID:_i.status==="dirty"?(En.dirty(),{status:"dirty",value:_i.value}):this._def.out._parseSync({data:_i.value,path:Cn.path,parent:Cn})}}static create(fn,En){return new ZodPipeline({in:fn,out:En,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(fn){const En=this._def.innerType._parse(fn),Cn=_i=>(isValid(_i)&&(_i.value=Object.freeze(_i.value)),_i);return isAsync(En)?En.then(_i=>Cn(_i)):Cn(En)}unwrap(){return this._def.innerType}}ZodReadonly.create=(vn,fn)=>new ZodReadonly({innerType:vn,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(fn)});function custom(vn,fn={},En){return vn?ZodAny.create().superRefine((Cn,_i)=>{var An,ba;if(!vn(Cn)){const xa=typeof fn=="function"?fn(Cn):typeof fn=="string"?{message:fn}:fn,$a=(ba=(An=xa.fatal)!==null&&An!==void 0?An:En)!==null&&ba!==void 0?ba:!0,rs=typeof xa=="string"?{message:xa}:xa;_i.addIssue({code:"custom",...rs,fatal:$a})}}):ZodAny.create()}const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(vn){vn.ZodString="ZodString",vn.ZodNumber="ZodNumber",vn.ZodNaN="ZodNaN",vn.ZodBigInt="ZodBigInt",vn.ZodBoolean="ZodBoolean",vn.ZodDate="ZodDate",vn.ZodSymbol="ZodSymbol",vn.ZodUndefined="ZodUndefined",vn.ZodNull="ZodNull",vn.ZodAny="ZodAny",vn.ZodUnknown="ZodUnknown",vn.ZodNever="ZodNever",vn.ZodVoid="ZodVoid",vn.ZodArray="ZodArray",vn.ZodObject="ZodObject",vn.ZodUnion="ZodUnion",vn.ZodDiscriminatedUnion="ZodDiscriminatedUnion",vn.ZodIntersection="ZodIntersection",vn.ZodTuple="ZodTuple",vn.ZodRecord="ZodRecord",vn.ZodMap="ZodMap",vn.ZodSet="ZodSet",vn.ZodFunction="ZodFunction",vn.ZodLazy="ZodLazy",vn.ZodLiteral="ZodLiteral",vn.ZodEnum="ZodEnum",vn.ZodEffects="ZodEffects",vn.ZodNativeEnum="ZodNativeEnum",vn.ZodOptional="ZodOptional",vn.ZodNullable="ZodNullable",vn.ZodDefault="ZodDefault",vn.ZodCatch="ZodCatch",vn.ZodPromise="ZodPromise",vn.ZodBranded="ZodBranded",vn.ZodPipeline="ZodPipeline",vn.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(vn,fn={message:`Input not instance of ${vn.name}`})=>custom(En=>En instanceof vn,fn),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce$1={string:vn=>ZodString.create({...vn,coerce:!0}),number:vn=>ZodNumber.create({...vn,coerce:!0}),boolean:vn=>ZodBoolean.create({...vn,coerce:!0}),bigint:vn=>ZodBigInt.create({...vn,coerce:!0}),date:vn=>ZodDate.create({...vn,coerce:!0})},NEVER=INVALID;var z$8=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util$5},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,datetimeRegex,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce:coerce$1,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError});function isBytes(vn){return vn instanceof Uint8Array||vn!=null&&typeof vn=="object"&&vn.constructor.name==="Uint8Array"}function bytes$1(vn,...fn){if(!isBytes(vn))throw new Error("Uint8Array expected");if(fn.length>0&&!fn.includes(vn.length))throw new Error(`Uint8Array expected of length ${fn}, not of length=${vn.length}`)}function exists(vn,fn=!0){if(vn.destroyed)throw new Error("Hash instance has been destroyed");if(fn&&vn.finished)throw new Error("Hash#digest() has already been called")}function output(vn,fn){bytes$1(vn);const En=fn.outputLen;if(vn.length<En)throw new Error(`digestInto() expects output buffer of length at least ${En}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const createView=vn=>new DataView(vn.buffer,vn.byteOffset,vn.byteLength),rotr=(vn,fn)=>vn<<32-fn|vn>>>fn;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function utf8ToBytes(vn){if(typeof vn!="string")throw new Error(`utf8ToBytes expected string, got ${typeof vn}`);return new Uint8Array(new TextEncoder().encode(vn))}function toBytes(vn){return typeof vn=="string"&&(vn=utf8ToBytes(vn)),bytes$1(vn),vn}let Hash$7=class{clone(){return this._cloneInto()}};function wrapConstructor(vn){const fn=Cn=>vn().update(toBytes(Cn)).digest(),En=vn();return fn.outputLen=En.outputLen,fn.blockLen=En.blockLen,fn.create=()=>vn(),fn}function setBigUint64(vn,fn,En,Cn){if(typeof vn.setBigUint64=="function")return vn.setBigUint64(fn,En,Cn);const _i=BigInt(32),An=BigInt(4294967295),ba=Number(En>>_i&An),xa=Number(En&An),$a=Cn?4:0,rs=Cn?0:4;vn.setUint32(fn+$a,ba,Cn),vn.setUint32(fn+rs,xa,Cn)}const Chi=(vn,fn,En)=>vn&fn^~vn&En,Maj=(vn,fn,En)=>vn&fn^vn&En^fn&En;class HashMD extends Hash$7{constructor(fn,En,Cn,_i){super(),this.blockLen=fn,this.outputLen=En,this.padOffset=Cn,this.isLE=_i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(fn),this.view=createView(this.buffer)}update(fn){exists(this);const{view:En,buffer:Cn,blockLen:_i}=this;fn=toBytes(fn);const An=fn.length;for(let ba=0;ba<An;){const xa=Math.min(_i-this.pos,An-ba);if(xa===_i){const $a=createView(fn);for(;_i<=An-ba;ba+=_i)this.process($a,ba);continue}Cn.set(fn.subarray(ba,ba+xa),this.pos),this.pos+=xa,ba+=xa,this.pos===_i&&(this.process(En,0),this.pos=0)}return this.length+=fn.length,this.roundClean(),this}digestInto(fn){exists(this),output(fn,this),this.finished=!0;const{buffer:En,view:Cn,blockLen:_i,isLE:An}=this;let{pos:ba}=this;En[ba++]=128,this.buffer.subarray(ba).fill(0),this.padOffset>_i-ba&&(this.process(Cn,0),ba=0);for(let is=ba;is<_i;is++)En[is]=0;setBigUint64(Cn,_i-8,BigInt(this.length*8),An),this.process(Cn,0);const xa=createView(fn),$a=this.outputLen;if($a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const rs=$a/4,ts=this.get();if(rs>ts.length)throw new Error("_sha2: outputLen bigger than state");for(let is=0;is<rs;is++)xa.setUint32(4*is,ts[is],An)}digest(){const{buffer:fn,outputLen:En}=this;this.digestInto(fn);const Cn=fn.slice(0,En);return this.destroy(),Cn}_cloneInto(fn){fn||(fn=new this.constructor),fn.set(...this.get());const{blockLen:En,buffer:Cn,length:_i,finished:An,destroyed:ba,pos:xa}=this;return fn.length=_i,fn.pos=xa,fn.finished=An,fn.destroyed=ba,_i%En&&fn.buffer.set(Cn),fn}}const SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends HashMD{constructor(){super(64,32,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:fn,B:En,C:Cn,D:_i,E:An,F:ba,G:xa,H:$a}=this;return[fn,En,Cn,_i,An,ba,xa,$a]}set(fn,En,Cn,_i,An,ba,xa,$a){this.A=fn|0,this.B=En|0,this.C=Cn|0,this.D=_i|0,this.E=An|0,this.F=ba|0,this.G=xa|0,this.H=$a|0}process(fn,En){for(let is=0;is<16;is++,En+=4)SHA256_W[is]=fn.getUint32(En,!1);for(let is=16;is<64;is++){const cs=SHA256_W[is-15],us=SHA256_W[is-2],ps=rotr(cs,7)^rotr(cs,18)^cs>>>3,bs=rotr(us,17)^rotr(us,19)^us>>>10;SHA256_W[is]=bs+SHA256_W[is-7]+ps+SHA256_W[is-16]|0}let{A:Cn,B:_i,C:An,D:ba,E:xa,F:$a,G:rs,H:ts}=this;for(let is=0;is<64;is++){const cs=rotr(xa,6)^rotr(xa,11)^rotr(xa,25),us=ts+cs+Chi(xa,$a,rs)+SHA256_K[is]+SHA256_W[is]|0,bs=(rotr(Cn,2)^rotr(Cn,13)^rotr(Cn,22))+Maj(Cn,_i,An)|0;ts=rs,rs=$a,$a=xa,xa=ba+us|0,ba=An,An=_i,_i=Cn,Cn=us+bs|0}Cn=Cn+this.A|0,_i=_i+this.B|0,An=An+this.C|0,ba=ba+this.D|0,xa=xa+this.E|0,$a=$a+this.F|0,rs=rs+this.G|0,ts=ts+this.H|0,this.set(Cn,_i,An,ba,xa,$a,rs,ts)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256$4=wrapConstructor(()=>new SHA256);var sha3={exports:{}};(function(vn){(function(){var fn="input is invalid type",En="finalize already called",Cn=typeof window=="object",_i=Cn?window:{};_i.JS_SHA3_NO_WINDOW&&(Cn=!1);var An=!Cn&&typeof self=="object",ba=!_i.JS_SHA3_NO_NODE_JS&&typeof process$1=="object"&&process$1.versions&&process$1.versions.node;ba?_i=commonjsGlobal:An&&(_i=self);for(var xa=!_i.JS_SHA3_NO_COMMON_JS&&!0&&vn.exports,$a=!_i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",rs="0123456789abcdef".split(""),ts=[31,7936,2031616,520093696],is=[4,1024,262144,67108864],cs=[1,256,65536,16777216],us=[6,1536,393216,100663296],ps=[0,8,16,24],bs=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],e0=[224,256,384,512],gs=[128,256],Ds=["hex","buffer","arrayBuffer","array","digest"],i0={128:168,256:136},n0=_i.JS_SHA3_NO_NODE_JS||!Array.isArray?function(t0){return Object.prototype.toString.call(t0)==="[object Array]"}:Array.isArray,c0=$a&&(_i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)?function(t0){return typeof t0=="object"&&t0.buffer&&t0.buffer.constructor===ArrayBuffer}:ArrayBuffer.isView,d0=function(t0){var h0=typeof t0;if(h0==="string")return[t0,!0];if(h0!=="object"||t0===null)throw new Error(fn);if($a&&t0.constructor===ArrayBuffer)return[new Uint8Array(t0),!1];if(!n0(t0)&&!c0(t0))throw new Error(fn);return[t0,!1]},o0=function(t0){return d0(t0)[0].length===0},g0=function(t0){for(var h0=[],p0=0;p0<t0.length;++p0)h0[p0]=t0[p0];return h0},w0=function(t0,h0,p0){return function(E0){return new f0(t0,h0,t0).update(E0)[p0]()}},M0=function(t0,h0,p0){return function(E0,I0){return new f0(t0,h0,I0).update(E0)[p0]()}},ds=function(t0,h0,p0){return function(E0,I0,C0,$0){return ss["cshake"+t0].update(E0,I0,C0,$0)[p0]()}},na=function(t0,h0,p0){return function(E0,I0,C0,$0){return ss["kmac"+t0].update(E0,I0,C0,$0)[p0]()}},_a=function(t0,h0,p0,E0){for(var I0=0;I0<Ds.length;++I0){var C0=Ds[I0];t0[C0]=h0(p0,E0,C0)}return t0},es=function(t0,h0){var p0=w0(t0,h0,"hex");return p0.create=function(){return new f0(t0,h0,t0)},p0.update=function(E0){return p0.create().update(E0)},_a(p0,w0,t0,h0)},ns=function(t0,h0){var p0=M0(t0,h0,"hex");return p0.create=function(E0){return new f0(t0,h0,E0)},p0.update=function(E0,I0){return p0.create(I0).update(E0)},_a(p0,M0,t0,h0)},os=function(t0,h0){var p0=i0[t0],E0=ds(t0,h0,"hex");return E0.create=function(I0,C0,$0){return o0(C0)&&o0($0)?ss["shake"+t0].create(I0):new f0(t0,h0,I0).bytepad([C0,$0],p0)},E0.update=function(I0,C0,$0,vo){return E0.create(C0,$0,vo).update(I0)},_a(E0,ds,t0,h0)},ls=function(t0,h0){var p0=i0[t0],E0=na(t0,h0,"hex");return E0.create=function(I0,C0,$0){return new m0(t0,h0,C0).bytepad(["KMAC",$0],p0).bytepad([I0],p0)},E0.update=function(I0,C0,$0,vo){return E0.create(I0,$0,vo).update(C0)},_a(E0,na,t0,h0)},hs=[{name:"keccak",padding:cs,bits:e0,createMethod:es},{name:"sha3",padding:us,bits:e0,createMethod:es},{name:"shake",padding:ts,bits:gs,createMethod:ns},{name:"cshake",padding:is,bits:gs,createMethod:os},{name:"kmac",padding:is,bits:gs,createMethod:ls}],ss={},ga=[],as=0;as<hs.length;++as)for(var r0=hs[as],a0=r0.bits,l0=0;l0<a0.length;++l0){var s0=r0.name+"_"+a0[l0];if(ga.push(s0),ss[s0]=r0.createMethod(a0[l0],r0.padding),r0.name!=="sha3"){var b0=r0.name+a0[l0];ga.push(b0),ss[b0]=ss[s0]}}function f0(t0,h0,p0){this.blocks=[],this.s=[],this.padding=h0,this.outputBits=p0,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t0<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=p0>>5,this.extraBytes=(p0&31)>>3;for(var E0=0;E0<50;++E0)this.s[E0]=0}f0.prototype.update=function(t0){if(this.finalized)throw new Error(En);var h0=d0(t0);t0=h0[0];for(var p0=h0[1],E0=this.blocks,I0=this.byteCount,C0=t0.length,$0=this.blockCount,vo=0,P0=this.s,S0,_o;vo<C0;){if(this.reset)for(this.reset=!1,E0[0]=this.block,S0=1;S0<$0+1;++S0)E0[S0]=0;if(p0)for(S0=this.start;vo<C0&&S0<I0;++vo)_o=t0.charCodeAt(vo),_o<128?E0[S0>>2]|=_o<<ps[S0++&3]:_o<2048?(E0[S0>>2]|=(192|_o>>6)<<ps[S0++&3],E0[S0>>2]|=(128|_o&63)<<ps[S0++&3]):_o<55296||_o>=57344?(E0[S0>>2]|=(224|_o>>12)<<ps[S0++&3],E0[S0>>2]|=(128|_o>>6&63)<<ps[S0++&3],E0[S0>>2]|=(128|_o&63)<<ps[S0++&3]):(_o=65536+((_o&1023)<<10|t0.charCodeAt(++vo)&1023),E0[S0>>2]|=(240|_o>>18)<<ps[S0++&3],E0[S0>>2]|=(128|_o>>12&63)<<ps[S0++&3],E0[S0>>2]|=(128|_o>>6&63)<<ps[S0++&3],E0[S0>>2]|=(128|_o&63)<<ps[S0++&3]);else for(S0=this.start;vo<C0&&S0<I0;++vo)E0[S0>>2]|=t0[vo]<<ps[S0++&3];if(this.lastByteIndex=S0,S0>=I0){for(this.start=S0-I0,this.block=E0[$0],S0=0;S0<$0;++S0)P0[S0]^=E0[S0];y0(P0),this.reset=!0}else this.start=S0}return this},f0.prototype.encode=function(t0,h0){var p0=t0&255,E0=1,I0=[p0];for(t0=t0>>8,p0=t0&255;p0>0;)I0.unshift(p0),t0=t0>>8,p0=t0&255,++E0;return h0?I0.push(E0):I0.unshift(E0),this.update(I0),I0.length},f0.prototype.encodeString=function(t0){var h0=d0(t0);t0=h0[0];var p0=h0[1],E0=0,I0=t0.length;if(p0)for(var C0=0;C0<t0.length;++C0){var $0=t0.charCodeAt(C0);$0<128?E0+=1:$0<2048?E0+=2:$0<55296||$0>=57344?E0+=3:($0=65536+(($0&1023)<<10|t0.charCodeAt(++C0)&1023),E0+=4)}else E0=I0;return E0+=this.encode(E0*8),this.update(t0),E0},f0.prototype.bytepad=function(t0,h0){for(var p0=this.encode(h0),E0=0;E0<t0.length;++E0)p0+=this.encodeString(t0[E0]);var I0=(h0-p0%h0)%h0,C0=[];return C0.length=I0,this.update(C0),this},f0.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t0=this.blocks,h0=this.lastByteIndex,p0=this.blockCount,E0=this.s;if(t0[h0>>2]|=this.padding[h0&3],this.lastByteIndex===this.byteCount)for(t0[0]=t0[p0],h0=1;h0<p0+1;++h0)t0[h0]=0;for(t0[p0-1]|=2147483648,h0=0;h0<p0;++h0)E0[h0]^=t0[h0];y0(E0)}},f0.prototype.toString=f0.prototype.hex=function(){this.finalize();for(var t0=this.blockCount,h0=this.s,p0=this.outputBlocks,E0=this.extraBytes,I0=0,C0=0,$0="",vo;C0<p0;){for(I0=0;I0<t0&&C0<p0;++I0,++C0)vo=h0[I0],$0+=rs[vo>>4&15]+rs[vo&15]+rs[vo>>12&15]+rs[vo>>8&15]+rs[vo>>20&15]+rs[vo>>16&15]+rs[vo>>28&15]+rs[vo>>24&15];C0%t0===0&&(h0=g0(h0),y0(h0),I0=0)}return E0&&(vo=h0[I0],$0+=rs[vo>>4&15]+rs[vo&15],E0>1&&($0+=rs[vo>>12&15]+rs[vo>>8&15]),E0>2&&($0+=rs[vo>>20&15]+rs[vo>>16&15])),$0},f0.prototype.arrayBuffer=function(){this.finalize();var t0=this.blockCount,h0=this.s,p0=this.outputBlocks,E0=this.extraBytes,I0=0,C0=0,$0=this.outputBits>>3,vo;E0?vo=new ArrayBuffer(p0+1<<2):vo=new ArrayBuffer($0);for(var P0=new Uint32Array(vo);C0<p0;){for(I0=0;I0<t0&&C0<p0;++I0,++C0)P0[C0]=h0[I0];C0%t0===0&&(h0=g0(h0),y0(h0))}return E0&&(P0[C0]=h0[I0],vo=vo.slice(0,$0)),vo},f0.prototype.buffer=f0.prototype.arrayBuffer,f0.prototype.digest=f0.prototype.array=function(){this.finalize();for(var t0=this.blockCount,h0=this.s,p0=this.outputBlocks,E0=this.extraBytes,I0=0,C0=0,$0=[],vo,P0;C0<p0;){for(I0=0;I0<t0&&C0<p0;++I0,++C0)vo=C0<<2,P0=h0[I0],$0[vo]=P0&255,$0[vo+1]=P0>>8&255,$0[vo+2]=P0>>16&255,$0[vo+3]=P0>>24&255;C0%t0===0&&(h0=g0(h0),y0(h0))}return E0&&(vo=C0<<2,P0=h0[I0],$0[vo]=P0&255,E0>1&&($0[vo+1]=P0>>8&255),E0>2&&($0[vo+2]=P0>>16&255)),$0};function m0(t0,h0,p0){f0.call(this,t0,h0,p0)}m0.prototype=new f0,m0.prototype.finalize=function(){return this.encode(this.outputBits,!0),f0.prototype.finalize.call(this)};var y0=function(t0){var h0,p0,E0,I0,C0,$0,vo,P0,S0,_o,O0,B0,To,k0,D0,Eo,N0,F0,Co,x0,u0,v0,_0,T0,j0,A0,U0,$o,L0,V0,Mo,G0,Z0,Io,q0,Y0,Ro,z0,X0,Po,K0,bo,ko,W0,J0,Ao,H0,go,Bo,Q0,wo,No,Oo,jo,Uo,zo,qo,Fo,Ko,Ho,Vo,Go,Zo;for(E0=0;E0<48;E0+=2)I0=t0[0]^t0[10]^t0[20]^t0[30]^t0[40],C0=t0[1]^t0[11]^t0[21]^t0[31]^t0[41],$0=t0[2]^t0[12]^t0[22]^t0[32]^t0[42],vo=t0[3]^t0[13]^t0[23]^t0[33]^t0[43],P0=t0[4]^t0[14]^t0[24]^t0[34]^t0[44],S0=t0[5]^t0[15]^t0[25]^t0[35]^t0[45],_o=t0[6]^t0[16]^t0[26]^t0[36]^t0[46],O0=t0[7]^t0[17]^t0[27]^t0[37]^t0[47],B0=t0[8]^t0[18]^t0[28]^t0[38]^t0[48],To=t0[9]^t0[19]^t0[29]^t0[39]^t0[49],h0=B0^($0<<1|vo>>>31),p0=To^(vo<<1|$0>>>31),t0[0]^=h0,t0[1]^=p0,t0[10]^=h0,t0[11]^=p0,t0[20]^=h0,t0[21]^=p0,t0[30]^=h0,t0[31]^=p0,t0[40]^=h0,t0[41]^=p0,h0=I0^(P0<<1|S0>>>31),p0=C0^(S0<<1|P0>>>31),t0[2]^=h0,t0[3]^=p0,t0[12]^=h0,t0[13]^=p0,t0[22]^=h0,t0[23]^=p0,t0[32]^=h0,t0[33]^=p0,t0[42]^=h0,t0[43]^=p0,h0=$0^(_o<<1|O0>>>31),p0=vo^(O0<<1|_o>>>31),t0[4]^=h0,t0[5]^=p0,t0[14]^=h0,t0[15]^=p0,t0[24]^=h0,t0[25]^=p0,t0[34]^=h0,t0[35]^=p0,t0[44]^=h0,t0[45]^=p0,h0=P0^(B0<<1|To>>>31),p0=S0^(To<<1|B0>>>31),t0[6]^=h0,t0[7]^=p0,t0[16]^=h0,t0[17]^=p0,t0[26]^=h0,t0[27]^=p0,t0[36]^=h0,t0[37]^=p0,t0[46]^=h0,t0[47]^=p0,h0=_o^(I0<<1|C0>>>31),p0=O0^(C0<<1|I0>>>31),t0[8]^=h0,t0[9]^=p0,t0[18]^=h0,t0[19]^=p0,t0[28]^=h0,t0[29]^=p0,t0[38]^=h0,t0[39]^=p0,t0[48]^=h0,t0[49]^=p0,k0=t0[0],D0=t0[1],Ao=t0[11]<<4|t0[10]>>>28,H0=t0[10]<<4|t0[11]>>>28,$o=t0[20]<<3|t0[21]>>>29,L0=t0[21]<<3|t0[20]>>>29,Ho=t0[31]<<9|t0[30]>>>23,Vo=t0[30]<<9|t0[31]>>>23,bo=t0[40]<<18|t0[41]>>>14,ko=t0[41]<<18|t0[40]>>>14,Io=t0[2]<<1|t0[3]>>>31,q0=t0[3]<<1|t0[2]>>>31,Eo=t0[13]<<12|t0[12]>>>20,N0=t0[12]<<12|t0[13]>>>20,go=t0[22]<<10|t0[23]>>>22,Bo=t0[23]<<10|t0[22]>>>22,V0=t0[33]<<13|t0[32]>>>19,Mo=t0[32]<<13|t0[33]>>>19,Go=t0[42]<<2|t0[43]>>>30,Zo=t0[43]<<2|t0[42]>>>30,jo=t0[5]<<30|t0[4]>>>2,Uo=t0[4]<<30|t0[5]>>>2,Y0=t0[14]<<6|t0[15]>>>26,Ro=t0[15]<<6|t0[14]>>>26,F0=t0[25]<<11|t0[24]>>>21,Co=t0[24]<<11|t0[25]>>>21,Q0=t0[34]<<15|t0[35]>>>17,wo=t0[35]<<15|t0[34]>>>17,G0=t0[45]<<29|t0[44]>>>3,Z0=t0[44]<<29|t0[45]>>>3,T0=t0[6]<<28|t0[7]>>>4,j0=t0[7]<<28|t0[6]>>>4,zo=t0[17]<<23|t0[16]>>>9,qo=t0[16]<<23|t0[17]>>>9,z0=t0[26]<<25|t0[27]>>>7,X0=t0[27]<<25|t0[26]>>>7,x0=t0[36]<<21|t0[37]>>>11,u0=t0[37]<<21|t0[36]>>>11,No=t0[47]<<24|t0[46]>>>8,Oo=t0[46]<<24|t0[47]>>>8,W0=t0[8]<<27|t0[9]>>>5,J0=t0[9]<<27|t0[8]>>>5,A0=t0[18]<<20|t0[19]>>>12,U0=t0[19]<<20|t0[18]>>>12,Fo=t0[29]<<7|t0[28]>>>25,Ko=t0[28]<<7|t0[29]>>>25,Po=t0[38]<<8|t0[39]>>>24,K0=t0[39]<<8|t0[38]>>>24,v0=t0[48]<<14|t0[49]>>>18,_0=t0[49]<<14|t0[48]>>>18,t0[0]=k0^~Eo&F0,t0[1]=D0^~N0&Co,t0[10]=T0^~A0&$o,t0[11]=j0^~U0&L0,t0[20]=Io^~Y0&z0,t0[21]=q0^~Ro&X0,t0[30]=W0^~Ao&go,t0[31]=J0^~H0&Bo,t0[40]=jo^~zo&Fo,t0[41]=Uo^~qo&Ko,t0[2]=Eo^~F0&x0,t0[3]=N0^~Co&u0,t0[12]=A0^~$o&V0,t0[13]=U0^~L0&Mo,t0[22]=Y0^~z0&Po,t0[23]=Ro^~X0&K0,t0[32]=Ao^~go&Q0,t0[33]=H0^~Bo&wo,t0[42]=zo^~Fo&Ho,t0[43]=qo^~Ko&Vo,t0[4]=F0^~x0&v0,t0[5]=Co^~u0&_0,t0[14]=$o^~V0&G0,t0[15]=L0^~Mo&Z0,t0[24]=z0^~Po&bo,t0[25]=X0^~K0&ko,t0[34]=go^~Q0&No,t0[35]=Bo^~wo&Oo,t0[44]=Fo^~Ho&Go,t0[45]=Ko^~Vo&Zo,t0[6]=x0^~v0&k0,t0[7]=u0^~_0&D0,t0[16]=V0^~G0&T0,t0[17]=Mo^~Z0&j0,t0[26]=Po^~bo&Io,t0[27]=K0^~ko&q0,t0[36]=Q0^~No&W0,t0[37]=wo^~Oo&J0,t0[46]=Ho^~Go&jo,t0[47]=Vo^~Zo&Uo,t0[8]=v0^~k0&Eo,t0[9]=_0^~D0&N0,t0[18]=G0^~T0&A0,t0[19]=Z0^~j0&U0,t0[28]=bo^~Io&Y0,t0[29]=ko^~q0&Ro,t0[38]=No^~W0&Ao,t0[39]=Oo^~J0&H0,t0[48]=Go^~jo&zo,t0[49]=Zo^~Uo&qo,t0[0]^=bs[E0],t0[1]^=bs[E0+1]};if(xa)vn.exports=ss;else for(as=0;as<ga.length;++as)_i[ga[as]]=ss[ga[as]]})()})(sha3);class TextProcessorCache{get encoder(){return this._encoder||(this._encoder=new TextEncoder),this._encoder}get decoder(){return this._decoder||(this._decoder=new TextDecoder),this._decoder}}const textProcessorSingleton=new TextProcessorCache;function getCachedTextEncoder(){return textProcessorSingleton.encoder}function getCachedTextDecoder(){return textProcessorSingleton.decoder}/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.8.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2023
 * @license MIT
 */const INPUT_ERROR="input is invalid type",FINALIZE_ERROR="finalize already called",EXTRA=[128,32768,8388608,-2147483648];function formatMessage(vn){const fn=typeof vn;if(typeof vn=="string")return[vn,!0];if(fn!=="object"||vn===null)throw new Error(INPUT_ERROR);if(vn instanceof ArrayBuffer)return[new Uint8Array(vn),!1];if(!Array.isArray(vn)&&!ArrayBuffer.isView(vn))throw new Error(INPUT_ERROR);return[vn,!1]}class Md5{constructor(){Lo(this,"lastByteIndex",0);const fn=new ArrayBuffer(68);this.buffer8=new Uint8Array(fn),this.blocks=new Uint32Array(fn),this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}update(fn){if(this.finalized)throw new Error(FINALIZE_ERROR);const[En,Cn]=formatMessage(fn),_i=this.blocks;let An=0;ArrayBuffer.isView(En)?An=En.byteLength:An=En.length;let ba,xa=0,$a;const rs=this.buffer8;for(;xa<An;){if(this.hashed&&(this.hashed=!1,_i[0]=_i[16],_i[16]=_i[1]=_i[2]=_i[3]=_i[4]=_i[5]=_i[6]=_i[7]=_i[8]=_i[9]=_i[10]=_i[11]=_i[12]=_i[13]=_i[14]=_i[15]=0),Cn)for($a=this.start;xa<An&&$a<64;++xa)ba=En.charCodeAt(xa),ba<128?rs[$a++]=ba:ba<2048?(rs[$a++]=192|ba>>>6,rs[$a++]=128|ba&63):ba<55296||ba>=57344?(rs[$a++]=224|ba>>>12,rs[$a++]=128|ba>>>6&63,rs[$a++]=128|ba&63):(ba=65536+((ba&1023)<<10|En.charCodeAt(++xa)&1023),rs[$a++]=240|ba>>>18,rs[$a++]=128|ba>>>12&63,rs[$a++]=128|ba>>>6&63,rs[$a++]=128|ba&63);else for($a=this.start;xa<An&&$a<64;++xa)rs[$a++]=En[xa];this.lastByteIndex=$a,this.bytes+=$a-this.start,$a>=64?(this.start=$a-64,this.hash(),this.hashed=!0):this.start=$a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}finalize(){if(this.finalized)return;this.finalized=!0;const fn=this.blocks,En=this.lastByteIndex;fn[En>>>2]|=EXTRA[En&3],En>=56&&(this.hashed||this.hash(),fn[0]=fn[16],fn[16]=fn[1]=fn[2]=fn[3]=fn[4]=fn[5]=fn[6]=fn[7]=fn[8]=fn[9]=fn[10]=fn[11]=fn[12]=fn[13]=fn[14]=fn[15]=0),fn[14]=this.bytes<<3,fn[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}hash(){const fn=this.blocks;let En,Cn,_i,An,ba,xa;this.first?(En=fn[0]-680876937,En=(En<<7|En>>>25)-271733879<<0,An=(-1732584194^En&2004318071)+fn[1]-117830708,An=(An<<12|An>>>20)+En<<0,_i=(-271733879^An&(En^-271733879))+fn[2]-1126478375,_i=(_i<<17|_i>>>15)+An<<0,Cn=(En^_i&(An^En))+fn[3]-1316259209,Cn=(Cn<<22|Cn>>>10)+_i<<0):(En=this.h0,Cn=this.h1,_i=this.h2,An=this.h3,En+=(An^Cn&(_i^An))+fn[0]-680876936,En=(En<<7|En>>>25)+Cn<<0,An+=(_i^En&(Cn^_i))+fn[1]-389564586,An=(An<<12|An>>>20)+En<<0,_i+=(Cn^An&(En^Cn))+fn[2]+606105819,_i=(_i<<17|_i>>>15)+An<<0,Cn+=(En^_i&(An^En))+fn[3]-1044525330,Cn=(Cn<<22|Cn>>>10)+_i<<0),En+=(An^Cn&(_i^An))+fn[4]-176418897,En=(En<<7|En>>>25)+Cn<<0,An+=(_i^En&(Cn^_i))+fn[5]+1200080426,An=(An<<12|An>>>20)+En<<0,_i+=(Cn^An&(En^Cn))+fn[6]-1473231341,_i=(_i<<17|_i>>>15)+An<<0,Cn+=(En^_i&(An^En))+fn[7]-45705983,Cn=(Cn<<22|Cn>>>10)+_i<<0,En+=(An^Cn&(_i^An))+fn[8]+1770035416,En=(En<<7|En>>>25)+Cn<<0,An+=(_i^En&(Cn^_i))+fn[9]-1958414417,An=(An<<12|An>>>20)+En<<0,_i+=(Cn^An&(En^Cn))+fn[10]-42063,_i=(_i<<17|_i>>>15)+An<<0,Cn+=(En^_i&(An^En))+fn[11]-1990404162,Cn=(Cn<<22|Cn>>>10)+_i<<0,En+=(An^Cn&(_i^An))+fn[12]+1804603682,En=(En<<7|En>>>25)+Cn<<0,An+=(_i^En&(Cn^_i))+fn[13]-40341101,An=(An<<12|An>>>20)+En<<0,_i+=(Cn^An&(En^Cn))+fn[14]-1502002290,_i=(_i<<17|_i>>>15)+An<<0,Cn+=(En^_i&(An^En))+fn[15]+1236535329,Cn=(Cn<<22|Cn>>>10)+_i<<0,En+=(_i^An&(Cn^_i))+fn[1]-165796510,En=(En<<5|En>>>27)+Cn<<0,An+=(Cn^_i&(En^Cn))+fn[6]-1069501632,An=(An<<9|An>>>23)+En<<0,_i+=(En^Cn&(An^En))+fn[11]+643717713,_i=(_i<<14|_i>>>18)+An<<0,Cn+=(An^En&(_i^An))+fn[0]-373897302,Cn=(Cn<<20|Cn>>>12)+_i<<0,En+=(_i^An&(Cn^_i))+fn[5]-701558691,En=(En<<5|En>>>27)+Cn<<0,An+=(Cn^_i&(En^Cn))+fn[10]+38016083,An=(An<<9|An>>>23)+En<<0,_i+=(En^Cn&(An^En))+fn[15]-660478335,_i=(_i<<14|_i>>>18)+An<<0,Cn+=(An^En&(_i^An))+fn[4]-405537848,Cn=(Cn<<20|Cn>>>12)+_i<<0,En+=(_i^An&(Cn^_i))+fn[9]+568446438,En=(En<<5|En>>>27)+Cn<<0,An+=(Cn^_i&(En^Cn))+fn[14]-1019803690,An=(An<<9|An>>>23)+En<<0,_i+=(En^Cn&(An^En))+fn[3]-187363961,_i=(_i<<14|_i>>>18)+An<<0,Cn+=(An^En&(_i^An))+fn[8]+1163531501,Cn=(Cn<<20|Cn>>>12)+_i<<0,En+=(_i^An&(Cn^_i))+fn[13]-1444681467,En=(En<<5|En>>>27)+Cn<<0,An+=(Cn^_i&(En^Cn))+fn[2]-51403784,An=(An<<9|An>>>23)+En<<0,_i+=(En^Cn&(An^En))+fn[7]+1735328473,_i=(_i<<14|_i>>>18)+An<<0,Cn+=(An^En&(_i^An))+fn[12]-1926607734,Cn=(Cn<<20|Cn>>>12)+_i<<0,ba=Cn^_i,En+=(ba^An)+fn[5]-378558,En=(En<<4|En>>>28)+Cn<<0,An+=(ba^En)+fn[8]-2022574463,An=(An<<11|An>>>21)+En<<0,xa=An^En,_i+=(xa^Cn)+fn[11]+1839030562,_i=(_i<<16|_i>>>16)+An<<0,Cn+=(xa^_i)+fn[14]-35309556,Cn=(Cn<<23|Cn>>>9)+_i<<0,ba=Cn^_i,En+=(ba^An)+fn[1]-1530992060,En=(En<<4|En>>>28)+Cn<<0,An+=(ba^En)+fn[4]+1272893353,An=(An<<11|An>>>21)+En<<0,xa=An^En,_i+=(xa^Cn)+fn[7]-155497632,_i=(_i<<16|_i>>>16)+An<<0,Cn+=(xa^_i)+fn[10]-1094730640,Cn=(Cn<<23|Cn>>>9)+_i<<0,ba=Cn^_i,En+=(ba^An)+fn[13]+681279174,En=(En<<4|En>>>28)+Cn<<0,An+=(ba^En)+fn[0]-358537222,An=(An<<11|An>>>21)+En<<0,xa=An^En,_i+=(xa^Cn)+fn[3]-722521979,_i=(_i<<16|_i>>>16)+An<<0,Cn+=(xa^_i)+fn[6]+76029189,Cn=(Cn<<23|Cn>>>9)+_i<<0,ba=Cn^_i,En+=(ba^An)+fn[9]-640364487,En=(En<<4|En>>>28)+Cn<<0,An+=(ba^En)+fn[12]-421815835,An=(An<<11|An>>>21)+En<<0,xa=An^En,_i+=(xa^Cn)+fn[15]+530742520,_i=(_i<<16|_i>>>16)+An<<0,Cn+=(xa^_i)+fn[2]-995338651,Cn=(Cn<<23|Cn>>>9)+_i<<0,En+=(_i^(Cn|~An))+fn[0]-198630844,En=(En<<6|En>>>26)+Cn<<0,An+=(Cn^(En|~_i))+fn[7]+1126891415,An=(An<<10|An>>>22)+En<<0,_i+=(En^(An|~Cn))+fn[14]-1416354905,_i=(_i<<15|_i>>>17)+An<<0,Cn+=(An^(_i|~En))+fn[5]-57434055,Cn=(Cn<<21|Cn>>>11)+_i<<0,En+=(_i^(Cn|~An))+fn[12]+1700485571,En=(En<<6|En>>>26)+Cn<<0,An+=(Cn^(En|~_i))+fn[3]-1894986606,An=(An<<10|An>>>22)+En<<0,_i+=(En^(An|~Cn))+fn[10]-1051523,_i=(_i<<15|_i>>>17)+An<<0,Cn+=(An^(_i|~En))+fn[1]-2054922799,Cn=(Cn<<21|Cn>>>11)+_i<<0,En+=(_i^(Cn|~An))+fn[8]+1873313359,En=(En<<6|En>>>26)+Cn<<0,An+=(Cn^(En|~_i))+fn[15]-30611744,An=(An<<10|An>>>22)+En<<0,_i+=(En^(An|~Cn))+fn[6]-1560198380,_i=(_i<<15|_i>>>17)+An<<0,Cn+=(An^(_i|~En))+fn[13]+1309151649,Cn=(Cn<<21|Cn>>>11)+_i<<0,En+=(_i^(Cn|~An))+fn[4]-145523070,En=(En<<6|En>>>26)+Cn<<0,An+=(Cn^(En|~_i))+fn[11]-1120210379,An=(An<<10|An>>>22)+En<<0,_i+=(En^(An|~Cn))+fn[2]+718787259,_i=(_i<<15|_i>>>17)+An<<0,Cn+=(An^(_i|~En))+fn[9]-343485551,Cn=(Cn<<21|Cn>>>11)+_i<<0,this.first?(this.h0=En+1732584193<<0,this.h1=Cn-271733879<<0,this.h2=_i-1732584194<<0,this.h3=An+271733878<<0,this.first=!1):(this.h0=this.h0+En<<0,this.h1=this.h1+Cn<<0,this.h2=this.h2+_i<<0,this.h3=this.h3+An<<0)}arrayBuffer(){this.finalize();const fn=new ArrayBuffer(16),En=new Uint32Array(fn);return En[0]=this.h0,En[1]=this.h1,En[2]=this.h2,En[3]=this.h3,fn}}function arrayBuffer(vn){const fn=new Md5;return fn.update(vn),fn.arrayBuffer()}const objectToString=Object.prototype.toString,uint8ArrayStringified="[object Uint8Array]";function isUint8Array(vn){return vn?vn.constructor===Uint8Array?!0:objectToString.call(vn)===uint8ArrayStringified:!1}function assertUint8Array(vn){if(!isUint8Array(vn))throw new TypeError(`Expected \`Uint8Array\`, got \`${typeof vn}\``)}function concatUint8Arrays(vn,fn){if(vn.length===0)return new Uint8Array(0);fn==null&&(fn=vn.reduce((_i,An)=>_i+An.length,0));const En=new Uint8Array(fn);let Cn=0;for(const _i of vn)assertUint8Array(_i),En.set(_i,Cn),Cn+=_i.length;return En}function assertString(vn){if(typeof vn!="string")throw new TypeError(`Expected \`string\`, got \`${typeof vn}\``)}function base64ToBase64Url(vn){return vn.replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}function base64UrlToBase64(vn){return vn.replaceAll("-","+").replaceAll("_","/")}const MAX_BLOCK_SIZE=65535;function uint8ArrayToBase64(vn){let{urlSafe:fn=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};assertUint8Array(vn);let En;if(vn.length<MAX_BLOCK_SIZE)En=globalThis.btoa(String.fromCodePoint.apply(this,vn));else{En="";for(const Cn of vn)En+=String.fromCodePoint(Cn);En=globalThis.btoa(En)}return fn?base64ToBase64Url(En):En}function base64ToUint8Array(vn){return assertString(vn),Uint8Array.from(globalThis.atob(base64UrlToBase64(vn)),fn=>fn.codePointAt(0))}const byteToHexLookupTable=Array.from({length:256},(vn,fn)=>fn.toString(16).padStart(2,"0"));function uint8ArrayToHex(vn){assertUint8Array(vn);let fn="";for(let En=0;En<vn.length;En++)fn+=byteToHexLookupTable[vn[En]];return fn}async function universalCrypto(){if("crypto"in globalThis)return globalThis.crypto;const vn="pto";return(await __vitePreload(async()=>{const{webcrypto:fn}=await import("node:cry"+vn);return{webcrypto:fn}},[])).webcrypto}const HEAD_SIZE_DWORD=2,SALT_SIZE_DWORD=2;async function decryptCryptoJSCipherBase64(vn,fn,En){let{keySizeDWORD:Cn=256/32,ivSizeDWORD:_i=128/32,iterations:An=1}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const ba=await universalCrypto(),{key:xa,iv:$a}=await dangerouslyDeriveParameters(En,vn,Cn,_i,An);try{const rs=await ba.subtle.decrypt({name:"AES-CBC",iv:$a},xa,fn);return getCachedTextDecoder().decode(rs)}catch{throw new Error("Decrypt failed")}}function parseCryptoJSCipherBase64(vn){let fn=null,En=base64ToUint8Array(vn);const[Cn,_i]=splitUint8Array(En,HEAD_SIZE_DWORD*4),An=new DataView(Cn.buffer);return An.getInt32(0)===1398893684&&An.getInt32(4)===1701076831&&([fn,En]=splitUint8Array(_i,SALT_SIZE_DWORD*4)),{ciphertext:En,salt:fn}}async function dangerouslyDeriveParameters(vn,fn,En,Cn,_i){const An=await universalCrypto(),ba=getCachedTextEncoder().encode(vn),xa=dangerousEVPKDF(ba,fn,En+Cn,_i),[$a,rs]=splitUint8Array(xa,En*4);return{key:await An.subtle.importKey("raw",$a,"AES-CBC",!1,["decrypt"]),iv:rs}}function dangerousEVPKDF(vn,fn,En,Cn){let _i=new Uint8Array,An=new Uint8Array;for(;_i.byteLength<En*4;){An=new Uint8Array(arrayBuffer(concatUint8Arrays([An,vn,fn])));for(let ba=1;ba<Cn;ba++)An=new Uint8Array(arrayBuffer(An));_i=concatUint8Arrays([_i,An])}return _i}function splitUint8Array(vn,fn){return[vn.subarray(0,fn),vn.subarray(fn,vn.length)]}async function aesDecrypt(vn,fn){const En=await universalCrypto(),Cn=getCachedTextEncoder().encode(fn),_i=await En.subtle.digest("SHA-256",Cn),An=base64ToUint8Array(vn),xa={name:"AES-GCM",iv:An.slice(0,12)},$a=await En.subtle.importKey("raw",_i,xa,!1,["decrypt"]),rs=An.slice(12);try{const ts=await En.subtle.decrypt(xa,$a,rs);return getCachedTextDecoder().decode(ts)}catch{throw new Error("Decrypt failed")}}async function aesDecryptCompat(vn,fn){const En=parseCryptoJSCipherBase64(vn);return En.salt&&En.ciphertext?decryptCryptoJSCipherBase64(En.salt,En.ciphertext,fn):aesDecrypt(vn,fn)}async function aesEncrypt(vn,fn){const En=await universalCrypto(),Cn=getCachedTextEncoder(),_i=Cn.encode(fn),An=await En.subtle.digest("SHA-256",_i),ba=En.getRandomValues(new Uint8Array(12)),xa={name:"AES-GCM",iv:ba},$a=await En.subtle.importKey("raw",An,xa,!1,["encrypt"]),rs=Cn.encode(vn),ts=await En.subtle.encrypt(xa,$a,rs);return uint8ArrayToBase64(concatUint8Arrays([ba,new Uint8Array(ts)]))}function sha256Sync(vn){return sha256$4(vn)}function sha256HexSync(vn){return uint8ArrayToHex(sha256Sync(vn))}function base$7(vn){if(vn.length>=255)throw new TypeError("Alphabet too long");for(var fn=new Uint8Array(256),En=0;En<fn.length;En++)fn[En]=255;for(var Cn=0;Cn<vn.length;Cn++){var _i=vn.charAt(Cn),An=_i.charCodeAt(0);if(fn[An]!==255)throw new TypeError(_i+" is ambiguous");fn[An]=Cn}var ba=vn.length,xa=vn.charAt(0),$a=Math.log(ba)/Math.log(256),rs=Math.log(256)/Math.log(ba);function ts(us){if(us instanceof Uint8Array||(ArrayBuffer.isView(us)?us=new Uint8Array(us.buffer,us.byteOffset,us.byteLength):Array.isArray(us)&&(us=Uint8Array.from(us))),!(us instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(us.length===0)return"";for(var ps=0,bs=0,e0=0,gs=us.length;e0!==gs&&us[e0]===0;)e0++,ps++;for(var Ds=(gs-e0)*rs+1>>>0,i0=new Uint8Array(Ds);e0!==gs;){for(var n0=us[e0],c0=0,d0=Ds-1;(n0!==0||c0<bs)&&d0!==-1;d0--,c0++)n0+=256*i0[d0]>>>0,i0[d0]=n0%ba>>>0,n0=n0/ba>>>0;if(n0!==0)throw new Error("Non-zero carry");bs=c0,e0++}for(var o0=Ds-bs;o0!==Ds&&i0[o0]===0;)o0++;for(var g0=xa.repeat(ps);o0<Ds;++o0)g0+=vn.charAt(i0[o0]);return g0}function is(us){if(typeof us!="string")throw new TypeError("Expected String");if(us.length===0)return new Uint8Array;for(var ps=0,bs=0,e0=0;us[ps]===xa;)bs++,ps++;for(var gs=(us.length-ps)*$a+1>>>0,Ds=new Uint8Array(gs);us[ps];){var i0=fn[us.charCodeAt(ps)];if(i0===255)return;for(var n0=0,c0=gs-1;(i0!==0||n0<e0)&&c0!==-1;c0--,n0++)i0+=ba*Ds[c0]>>>0,Ds[c0]=i0%256>>>0,i0=i0/256>>>0;if(i0!==0)throw new Error("Non-zero carry");e0=n0,ps++}for(var d0=gs-e0;d0!==gs&&Ds[d0]===0;)d0++;for(var o0=new Uint8Array(bs+(gs-d0)),g0=bs;d0!==gs;)o0[g0++]=Ds[d0++];return o0}function cs(us){var ps=is(us);if(ps)return ps;throw new Error("Non-base"+ba+" character")}return{encode:ts,decodeUnsafe:is,decode:cs}}var src$8=base$7;const basex=src$8,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var bs58=basex(ALPHABET);const bs58$1=getDefaultExportFromCjs$1(bs58),IBurnableERC20Abi=[{type:"function",name:"burn",inputs:[{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"burnFrom",inputs:[{name:"account",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"}],IDrop=[{type:"function",name:"claim",inputs:[{name:"receiver",type:"address",internalType:"address"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"allowlistProof",type:"tuple",internalType:"struct IDrop.AllowlistProof",components:[{name:"proof",type:"bytes32[]",internalType:"bytes32[]"},{name:"quantityLimitPerWallet",type:"uint256",internalType:"uint256"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"}]},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"setClaimConditions",inputs:[{name:"phases",type:"tuple[]",internalType:"struct IClaimCondition.ClaimCondition[]",components:[{name:"startTimestamp",type:"uint256",internalType:"uint256"},{name:"maxClaimableSupply",type:"uint256",internalType:"uint256"},{name:"supplyClaimed",type:"uint256",internalType:"uint256"},{name:"quantityLimitPerWallet",type:"uint256",internalType:"uint256"},{name:"merkleRoot",type:"bytes32",internalType:"bytes32"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"metadata",type:"string",internalType:"string"}]},{name:"resetClaimEligibility",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"ClaimConditionsUpdated",inputs:[{name:"claimConditions",type:"tuple[]",indexed:!1,internalType:"struct IClaimCondition.ClaimCondition[]",components:[{name:"startTimestamp",type:"uint256",internalType:"uint256"},{name:"maxClaimableSupply",type:"uint256",internalType:"uint256"},{name:"supplyClaimed",type:"uint256",internalType:"uint256"},{name:"quantityLimitPerWallet",type:"uint256",internalType:"uint256"},{name:"merkleRoot",type:"bytes32",internalType:"bytes32"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"metadata",type:"string",internalType:"string"}]},{name:"resetEligibility",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"TokensClaimed",inputs:[{name:"claimConditionIndex",type:"uint256",indexed:!0,internalType:"uint256"},{name:"claimer",type:"address",indexed:!0,internalType:"address"},{name:"receiver",type:"address",indexed:!0,internalType:"address"},{name:"startTokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"quantityClaimed",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],DropERC20_V2Abi=[{type:"function",name:"allowance",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"spender",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"claim",inputs:[{name:"receiver",type:"address",internalType:"address"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"proofs",type:"bytes32[]",internalType:"bytes32[]"},{name:"proofMaxQuantityPerTransaction",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"setClaimConditions",inputs:[{name:"phases",type:"tuple[]",internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",components:[{name:"startTimestamp",type:"uint256",internalType:"uint256"},{name:"maxClaimableSupply",type:"uint256",internalType:"uint256"},{name:"supplyClaimed",type:"uint256",internalType:"uint256"},{name:"quantityLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"waitTimeInSecondsBetweenClaims",type:"uint256",internalType:"uint256"},{name:"merkleRoot",type:"bytes32",internalType:"bytes32"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"}]},{name:"resetClaimEligibility",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"to",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"ClaimConditionsUpdated",inputs:[{name:"claimConditions",type:"tuple[]",indexed:!1,internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",components:[{name:"startTimestamp",type:"uint256",internalType:"uint256"},{name:"maxClaimableSupply",type:"uint256",internalType:"uint256"},{name:"supplyClaimed",type:"uint256",internalType:"uint256"},{name:"quantityLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"waitTimeInSecondsBetweenClaims",type:"uint256",internalType:"uint256"},{name:"merkleRoot",type:"bytes32",internalType:"bytes32"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"}]}],anonymous:!1},{type:"event",name:"ContractURIUpdated",inputs:[{name:"prevURI",type:"string",indexed:!1,internalType:"string"},{name:"newURI",type:"string",indexed:!1,internalType:"string"}],anonymous:!1},{type:"event",name:"MaxTotalSupplyUpdated",inputs:[{name:"maxTotalSupply",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"MaxWalletClaimCountUpdated",inputs:[{name:"count",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"TokensClaimed",inputs:[{name:"claimConditionIndex",type:"uint256",indexed:!0,internalType:"uint256"},{name:"claimer",type:"address",indexed:!0,internalType:"address"},{name:"receiver",type:"address",indexed:!0,internalType:"address"},{name:"quantityClaimed",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"WalletClaimCountUpdated",inputs:[{name:"wallet",type:"address",indexed:!0,internalType:"address"},{name:"count",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],IDropSinglePhase=[{type:"function",name:"claim",inputs:[{name:"receiver",type:"address",internalType:"address"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"allowlistProof",type:"tuple",internalType:"struct IDropSinglePhase.AllowlistProof",components:[{name:"proof",type:"bytes32[]",internalType:"bytes32[]"},{name:"quantityLimitPerWallet",type:"uint256",internalType:"uint256"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"}]},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"setClaimConditions",inputs:[{name:"phase",type:"tuple",internalType:"struct IClaimCondition.ClaimCondition",components:[{name:"startTimestamp",type:"uint256",internalType:"uint256"},{name:"maxClaimableSupply",type:"uint256",internalType:"uint256"},{name:"supplyClaimed",type:"uint256",internalType:"uint256"},{name:"quantityLimitPerWallet",type:"uint256",internalType:"uint256"},{name:"merkleRoot",type:"bytes32",internalType:"bytes32"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"metadata",type:"string",internalType:"string"}]},{name:"resetClaimEligibility",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"ClaimConditionUpdated",inputs:[{name:"condition",type:"tuple",indexed:!1,internalType:"struct IClaimCondition.ClaimCondition",components:[{name:"startTimestamp",type:"uint256",internalType:"uint256"},{name:"maxClaimableSupply",type:"uint256",internalType:"uint256"},{name:"supplyClaimed",type:"uint256",internalType:"uint256"},{name:"quantityLimitPerWallet",type:"uint256",internalType:"uint256"},{name:"merkleRoot",type:"bytes32",internalType:"bytes32"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"metadata",type:"string",internalType:"string"}]},{name:"resetEligibility",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"TokensClaimed",inputs:[{name:"claimer",type:"address",indexed:!0,internalType:"address"},{name:"receiver",type:"address",indexed:!0,internalType:"address"},{name:"startTokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"quantityClaimed",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],IDropSinglePhaseV1=[{type:"function",name:"claim",inputs:[{name:"receiver",type:"address",internalType:"address"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"allowlistProof",type:"tuple",internalType:"struct IDropSinglePhase_V1.AllowlistProof",components:[{name:"proof",type:"bytes32[]",internalType:"bytes32[]"},{name:"maxQuantityInAllowlist",type:"uint256",internalType:"uint256"}]},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"setClaimConditions",inputs:[{name:"phase",type:"tuple",internalType:"struct IClaimCondition_V1.ClaimCondition",components:[{name:"startTimestamp",type:"uint256",internalType:"uint256"},{name:"maxClaimableSupply",type:"uint256",internalType:"uint256"},{name:"supplyClaimed",type:"uint256",internalType:"uint256"},{name:"quantityLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"waitTimeInSecondsBetweenClaims",type:"uint256",internalType:"uint256"},{name:"merkleRoot",type:"bytes32",internalType:"bytes32"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"}]},{name:"resetClaimEligibility",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"ClaimConditionUpdated",inputs:[{name:"condition",type:"tuple",indexed:!1,internalType:"struct IClaimCondition_V1.ClaimCondition",components:[{name:"startTimestamp",type:"uint256",internalType:"uint256"},{name:"maxClaimableSupply",type:"uint256",internalType:"uint256"},{name:"supplyClaimed",type:"uint256",internalType:"uint256"},{name:"quantityLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"waitTimeInSecondsBetweenClaims",type:"uint256",internalType:"uint256"},{name:"merkleRoot",type:"bytes32",internalType:"bytes32"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"}]},{name:"resetEligibility",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"TokensClaimed",inputs:[{name:"claimer",type:"address",indexed:!0,internalType:"address"},{name:"receiver",type:"address",indexed:!0,internalType:"address"},{name:"startTokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"quantityClaimed",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],ERC20Abi=[{type:"function",name:"allowance",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"spender",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"who",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],IERC20=Object.freeze(Object.defineProperty({__proto__:null,default:ERC20Abi},Symbol.toStringTag,{value:"Module"})),IERC20PermitAbi=[{type:"function",name:"DOMAIN_SEPARATOR",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"nonces",inputs:[{name:"owner",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"permit",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"deadline",type:"uint256",internalType:"uint256"},{name:"v",type:"uint8",internalType:"uint8"},{name:"r",type:"bytes32",internalType:"bytes32"},{name:"s",type:"bytes32",internalType:"bytes32"}],outputs:[],stateMutability:"nonpayable"}],IMintableERC20Abi=[{type:"function",name:"mintTo",inputs:[{name:"to",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"TokensMinted",inputs:[{name:"mintedTo",type:"address",indexed:!0,internalType:"address"},{name:"quantityMinted",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],MulticallAbi=[{type:"function",name:"multicall",inputs:[{name:"data",type:"bytes[]",internalType:"bytes[]"}],outputs:[{name:"results",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"nonpayable"}],ISignatureMintERC20Abi=[{type:"function",name:"mintWithSignature",inputs:[{name:"req",type:"tuple",internalType:"struct ISignatureMintERC20.MintRequest",components:[{name:"to",type:"address",internalType:"address"},{name:"primarySaleRecipient",type:"address",internalType:"address"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"price",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"validityStartTimestamp",type:"uint128",internalType:"uint128"},{name:"validityEndTimestamp",type:"uint128",internalType:"uint128"},{name:"uid",type:"bytes32",internalType:"bytes32"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"signer",type:"address",internalType:"address"}],stateMutability:"payable"},{type:"function",name:"verify",inputs:[{name:"req",type:"tuple",internalType:"struct ISignatureMintERC20.MintRequest",components:[{name:"to",type:"address",internalType:"address"},{name:"primarySaleRecipient",type:"address",internalType:"address"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"price",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"validityStartTimestamp",type:"uint128",internalType:"uint128"},{name:"validityEndTimestamp",type:"uint128",internalType:"uint128"},{name:"uid",type:"bytes32",internalType:"bytes32"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"success",type:"bool",internalType:"bool"},{name:"signer",type:"address",internalType:"address"}],stateMutability:"view"},{type:"event",name:"TokensMintedWithSignature",inputs:[{name:"signer",type:"address",indexed:!0,internalType:"address"},{name:"mintedTo",type:"address",indexed:!0,internalType:"address"},{name:"mintRequest",type:"tuple",indexed:!1,internalType:"struct ISignatureMintERC20.MintRequest",components:[{name:"to",type:"address",internalType:"address"},{name:"primarySaleRecipient",type:"address",internalType:"address"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"price",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"validityStartTimestamp",type:"uint128",internalType:"uint128"},{name:"validityEndTimestamp",type:"uint128",internalType:"uint128"},{name:"uid",type:"bytes32",internalType:"bytes32"}]}],anonymous:!1}],IERC20MetadataAbi=[{type:"function",name:"decimals",inputs:[],outputs:[{name:"",type:"uint8",internalType:"uint8"}],stateMutability:"view"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"}],IERC20Metadata=Object.freeze(Object.defineProperty({__proto__:null,default:IERC20MetadataAbi},Symbol.toStringTag,{value:"Module"})),IBurnableERC721Abi=[{type:"function",name:"burn",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"}],IClaimableERC721=[{type:"function",name:"claim",inputs:[{name:"_receiver",type:"address",internalType:"address"},{name:"_quantity",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"verifyClaim",inputs:[{name:"_claimer",type:"address",internalType:"address"},{name:"_quantity",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"view"},{type:"event",name:"TokensClaimed",inputs:[{name:"claimer",type:"address",indexed:!0,internalType:"address"},{name:"receiver",type:"address",indexed:!0,internalType:"address"},{name:"startTokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"quantityClaimed",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],DelayedRevealAbi=[{type:"function",name:"encryptDecrypt",inputs:[{name:"data",type:"bytes",internalType:"bytes"},{name:"key",type:"bytes",internalType:"bytes"}],outputs:[{name:"result",type:"bytes",internalType:"bytes"}],stateMutability:"pure"},{type:"function",name:"reveal",inputs:[{name:"identifier",type:"uint256",internalType:"uint256"},{name:"key",type:"bytes",internalType:"bytes"}],outputs:[{name:"revealedURI",type:"string",internalType:"string"}],stateMutability:"nonpayable"},{type:"event",name:"TokenURIRevealed",inputs:[{name:"index",type:"uint256",indexed:!0,internalType:"uint256"},{name:"revealedURI",type:"string",indexed:!1,internalType:"string"}],anonymous:!1}],DropERC721_V3Abi=[{type:"function",name:"approve",inputs:[{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"owner",type:"address",internalType:"address"}],outputs:[{name:"balance",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"claim",inputs:[{name:"receiver",type:"address",internalType:"address"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"proofs",type:"bytes32[]",internalType:"bytes32[]"},{name:"proofMaxQuantityPerTransaction",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"getApproved",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"operator",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"isApprovedForAll",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"operator",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"lazyMint",inputs:[{name:"amount",type:"uint256",internalType:"uint256"},{name:"baseURIForTokens",type:"string",internalType:"string"},{name:"encryptedBaseURI",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"ownerOf",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"owner",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setApprovalForAll",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"approved",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setClaimConditions",inputs:[{name:"phases",type:"tuple[]",internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",components:[{name:"startTimestamp",type:"uint256",internalType:"uint256"},{name:"maxClaimableSupply",type:"uint256",internalType:"uint256"},{name:"supplyClaimed",type:"uint256",internalType:"uint256"},{name:"quantityLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"waitTimeInSecondsBetweenClaims",type:"uint256",internalType:"uint256"},{name:"merkleRoot",type:"bytes32",internalType:"bytes32"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"}]},{name:"resetClaimEligibility",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"ApprovalForAll",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"ClaimConditionsUpdated",inputs:[{name:"claimConditions",type:"tuple[]",indexed:!1,internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",components:[{name:"startTimestamp",type:"uint256",internalType:"uint256"},{name:"maxClaimableSupply",type:"uint256",internalType:"uint256"},{name:"supplyClaimed",type:"uint256",internalType:"uint256"},{name:"quantityLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"waitTimeInSecondsBetweenClaims",type:"uint256",internalType:"uint256"},{name:"merkleRoot",type:"bytes32",internalType:"bytes32"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"}]}],anonymous:!1},{type:"event",name:"MaxTotalSupplyUpdated",inputs:[{name:"maxTotalSupply",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"MaxWalletClaimCountUpdated",inputs:[{name:"count",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"NFTRevealed",inputs:[{name:"endTokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"revealedURI",type:"string",indexed:!1,internalType:"string"}],anonymous:!1},{type:"event",name:"TokensClaimed",inputs:[{name:"claimConditionIndex",type:"uint256",indexed:!0,internalType:"uint256"},{name:"claimer",type:"address",indexed:!0,internalType:"address"},{name:"receiver",type:"address",indexed:!0,internalType:"address"},{name:"startTokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"quantityClaimed",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"TokensLazyMinted",inputs:[{name:"startTokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"endTokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"baseURI",type:"string",indexed:!1,internalType:"string"},{name:"encryptedBaseURI",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"WalletClaimCountUpdated",inputs:[{name:"wallet",type:"address",indexed:!0,internalType:"address"},{name:"count",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],Erc721Abi=[{type:"function",name:"approve",inputs:[{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"owner",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getApproved",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"isApprovedForAll",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"operator",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"ownerOf",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setApprovalForAll",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"_approved",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"ApprovalForAll",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1}],IERC721=Object.freeze(Object.defineProperty({__proto__:null,default:Erc721Abi},Symbol.toStringTag,{value:"Module"})),Erc721EnumerableAbi=[{type:"function",name:"tokenByIndex",inputs:[{name:"_index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"tokenOfOwnerByIndex",inputs:[{name:"_owner",type:"address",internalType:"address"},{name:"_index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],Erc721AQueryableAbi=[{type:"function",name:"approve",inputs:[{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"balanceOf",inputs:[{name:"owner",type:"address",internalType:"address"}],outputs:[{name:"balance",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"explicitOwnershipOf",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"tuple",internalType:"struct IERC721AUpgradeable.TokenOwnership",components:[{name:"addr",type:"address",internalType:"address"},{name:"startTimestamp",type:"uint64",internalType:"uint64"},{name:"burned",type:"bool",internalType:"bool"},{name:"extraData",type:"uint24",internalType:"uint24"}]}],stateMutability:"view"},{type:"function",name:"getApproved",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"operator",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"isApprovedForAll",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"operator",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"ownerOf",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"owner",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"setApprovalForAll",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"_approved",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"tokenURI",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"tokensOfOwner",inputs:[{name:"owner",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"tokensOfOwnerIn",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"start",type:"uint256",internalType:"uint256"},{name:"stop",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"ApprovalForAll",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"ConsecutiveTransfer",inputs:[{name:"fromTokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"toTokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"error",name:"ApprovalCallerNotOwnerNorApproved",inputs:[]},{type:"error",name:"ApprovalQueryForNonexistentToken",inputs:[]},{type:"error",name:"BalanceQueryForZeroAddress",inputs:[]},{type:"error",name:"InvalidQueryRange",inputs:[]},{type:"error",name:"MintERC2309QuantityExceedsLimit",inputs:[]},{type:"error",name:"MintToZeroAddress",inputs:[]},{type:"error",name:"MintZeroQuantity",inputs:[]},{type:"error",name:"OwnerQueryForNonexistentToken",inputs:[]},{type:"error",name:"OwnershipNotInitializedForExtraData",inputs:[]},{type:"error",name:"TransferCallerNotOwnerNorApproved",inputs:[]},{type:"error",name:"TransferFromIncorrectOwner",inputs:[]},{type:"error",name:"TransferToNonERC721ReceiverImplementer",inputs:[]},{type:"error",name:"TransferToZeroAddress",inputs:[]},{type:"error",name:"URIQueryForNonexistentToken",inputs:[]}],Erc721SupplyAbi=[{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],ILazyMintAbi=[{type:"function",name:"lazyMint",inputs:[{name:"amount",type:"uint256",internalType:"uint256"},{name:"baseURIForTokens",type:"string",internalType:"string"},{name:"extraData",type:"bytes",internalType:"bytes"}],outputs:[{name:"batchId",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"event",name:"TokensLazyMinted",inputs:[{name:"startTokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"endTokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"baseURI",type:"string",indexed:!1,internalType:"string"},{name:"encryptedBaseURI",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1}],IMintableERC721Abi=[{type:"function",name:"mintTo",inputs:[{name:"to",type:"address",internalType:"address"},{name:"uri",type:"string",internalType:"string"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"event",name:"TokensMinted",inputs:[{name:"mintedTo",type:"address",indexed:!0,internalType:"address"},{name:"tokenIdMinted",type:"uint256",indexed:!0,internalType:"uint256"},{name:"uri",type:"string",indexed:!1,internalType:"string"}],anonymous:!1}],SignatureMintERC721Abi=[{type:"function",name:"mintWithSignature",inputs:[{name:"req",type:"tuple",internalType:"struct ISignatureMintERC721.MintRequest",components:[{name:"to",type:"address",internalType:"address"},{name:"royaltyRecipient",type:"address",internalType:"address"},{name:"royaltyBps",type:"uint256",internalType:"uint256"},{name:"primarySaleRecipient",type:"address",internalType:"address"},{name:"uri",type:"string",internalType:"string"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"validityStartTimestamp",type:"uint128",internalType:"uint128"},{name:"validityEndTimestamp",type:"uint128",internalType:"uint128"},{name:"uid",type:"bytes32",internalType:"bytes32"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"signer",type:"address",internalType:"address"}],stateMutability:"payable"},{type:"function",name:"verify",inputs:[{name:"req",type:"tuple",internalType:"struct ISignatureMintERC721.MintRequest",components:[{name:"to",type:"address",internalType:"address"},{name:"royaltyRecipient",type:"address",internalType:"address"},{name:"royaltyBps",type:"uint256",internalType:"uint256"},{name:"primarySaleRecipient",type:"address",internalType:"address"},{name:"uri",type:"string",internalType:"string"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"validityStartTimestamp",type:"uint128",internalType:"uint128"},{name:"validityEndTimestamp",type:"uint128",internalType:"uint128"},{name:"uid",type:"bytes32",internalType:"bytes32"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"success",type:"bool",internalType:"bool"},{name:"signer",type:"address",internalType:"address"}],stateMutability:"view"},{type:"event",name:"TokensMintedWithSignature",inputs:[{name:"signer",type:"address",indexed:!0,internalType:"address"},{name:"mintedTo",type:"address",indexed:!0,internalType:"address"},{name:"tokenIdMinted",type:"uint256",indexed:!0,internalType:"uint256"},{name:"mintRequest",type:"tuple",indexed:!1,internalType:"struct ISignatureMintERC721.MintRequest",components:[{name:"to",type:"address",internalType:"address"},{name:"royaltyRecipient",type:"address",internalType:"address"},{name:"royaltyBps",type:"uint256",internalType:"uint256"},{name:"primarySaleRecipient",type:"address",internalType:"address"},{name:"uri",type:"string",internalType:"string"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"validityStartTimestamp",type:"uint128",internalType:"uint128"},{name:"validityEndTimestamp",type:"uint128",internalType:"uint128"},{name:"uid",type:"bytes32",internalType:"bytes32"}]}],anonymous:!1}],SignatureMintERC721_V1Abi=[{type:"function",name:"mintWithSignature",inputs:[{name:"_req",type:"tuple",internalType:"struct ITokenERC721.MintRequest",components:[{name:"to",type:"address",internalType:"address"},{name:"royaltyRecipient",type:"address",internalType:"address"},{name:"royaltyBps",type:"uint256",internalType:"uint256"},{name:"primarySaleRecipient",type:"address",internalType:"address"},{name:"uri",type:"string",internalType:"string"},{name:"price",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"validityStartTimestamp",type:"uint128",internalType:"uint128"},{name:"validityEndTimestamp",type:"uint128",internalType:"uint128"},{name:"uid",type:"bytes32",internalType:"bytes32"}]},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"tokenIdMinted",type:"uint256",internalType:"uint256"}],stateMutability:"payable"},{type:"function",name:"verify",inputs:[{name:"_req",type:"tuple",internalType:"struct ITokenERC721.MintRequest",components:[{name:"to",type:"address",internalType:"address"},{name:"royaltyRecipient",type:"address",internalType:"address"},{name:"royaltyBps",type:"uint256",internalType:"uint256"},{name:"primarySaleRecipient",type:"address",internalType:"address"},{name:"uri",type:"string",internalType:"string"},{name:"price",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"validityStartTimestamp",type:"uint128",internalType:"uint128"},{name:"validityEndTimestamp",type:"uint128",internalType:"uint128"},{name:"uid",type:"bytes32",internalType:"bytes32"}]},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bool",internalType:"bool"},{name:"",type:"address",internalType:"address"}],stateMutability:"view"}],TieredDropAbi=[{type:"function",name:"getBaseURICount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getBatchIdAtIndex",inputs:[{name:"_index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getMetadataForAllTiers",inputs:[],outputs:[{name:"metadataForAllTiers",type:"tuple[]",internalType:"struct LazyMintWithTier_V1.TierMetadata[]",components:[{name:"tier",type:"string",internalType:"string"},{name:"ranges",type:"tuple[]",internalType:"struct LazyMintWithTier_V1.TokenRange[]",components:[{name:"startIdInclusive",type:"uint256",internalType:"uint256"},{name:"endIdNonInclusive",type:"uint256",internalType:"uint256"}]},{name:"baseURIs",type:"string[]",internalType:"string[]"}]}],stateMutability:"view"},{type:"function",name:"lazyMint",inputs:[{name:"_amount",type:"uint256",internalType:"uint256"},{name:"_baseURIForTokens",type:"string",internalType:"string"},{name:"_tier",type:"string",internalType:"string"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[{name:"batchId",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"event",name:"TokensLazyMinted",inputs:[{name:"tier",type:"string",indexed:!0,internalType:"string"},{name:"startTokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"endTokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"baseURI",type:"string",indexed:!1,internalType:"string"},{name:"encryptedBaseURI",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1}],SharedMetadataAbi=[{type:"function",name:"setSharedMetadata",inputs:[{name:"_metadata",type:"tuple",internalType:"struct ISharedMetadata.SharedMetadataInfo",components:[{name:"name",type:"string",internalType:"string"},{name:"description",type:"string",internalType:"string"},{name:"imageURI",type:"string",internalType:"string"},{name:"animationURI",type:"string",internalType:"string"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"sharedMetadata",inputs:[],outputs:[{name:"name",type:"string",internalType:"string"},{name:"description",type:"string",internalType:"string"},{name:"imageURI",type:"string",internalType:"string"},{name:"animationURI",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"event",name:"BatchMetadataUpdate",inputs:[{name:"_fromTokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"_toTokenId",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"MetadataUpdate",inputs:[{name:"_tokenId",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"SharedMetadataUpdated",inputs:[{name:"name",type:"string",indexed:!1,internalType:"string"},{name:"description",type:"string",indexed:!1,internalType:"string"},{name:"imageURI",type:"string",indexed:!1,internalType:"string"},{name:"animationURI",type:"string",indexed:!1,internalType:"string"}],anonymous:!1}],zora_IDropERC721=[{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"Access_MissingRoleOrAdmin",type:"error"},{inputs:[],name:"Access_OnlyAdmin",type:"error"},{inputs:[],name:"Access_WithdrawNotAllowed",type:"error"},{inputs:[{internalType:"address",name:"proposedAddress",type:"address"}],name:"Admin_InvalidUpgradeAddress",type:"error"},{inputs:[],name:"Admin_UnableToFinalizeNotOpenEdition",type:"error"},{inputs:[],name:"ExternalMetadataRenderer_CallFailed",type:"error"},{inputs:[],name:"InvalidMintSchedule",type:"error"},{inputs:[],name:"MarketFilterDAOAddressNotSupportedForChain",type:"error"},{inputs:[],name:"MintFee_FundsSendFailure",type:"error"},{inputs:[],name:"Mint_SoldOut",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"OperatorNotAllowed",type:"error"},{inputs:[],name:"Presale_Inactive",type:"error"},{inputs:[],name:"Presale_MerkleNotApproved",type:"error"},{inputs:[],name:"Presale_TooManyForAddress",type:"error"},{inputs:[],name:"Purchase_TooManyForAddress",type:"error"},{inputs:[{internalType:"uint256",name:"correctPrice",type:"uint256"}],name:"Purchase_WrongPrice",type:"error"},{inputs:[],name:"RemoteOperatorFilterRegistryCallFailed",type:"error"},{inputs:[],name:"Sale_Inactive",type:"error"},{inputs:[{internalType:"uint16",name:"maxRoyaltyBPS",type:"uint16"}],name:"Setup_RoyaltyPercentageTooHigh",type:"error"},{inputs:[],name:"Withdraw_FundsSendFailure",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newAddress",type:"address"},{indexed:!0,internalType:"address",name:"changedBy",type:"address"}],name:"FundsRecipientChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"withdrawnBy",type:"address"},{indexed:!0,internalType:"address",name:"withdrawnTo",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"address",name:"feeRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"feeAmount",type:"uint256"}],name:"FundsWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"tokenContract",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantity",type:"uint256"},{indexed:!1,internalType:"string",name:"comment",type:"string"}],name:"MintComment",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"mintFeeAmount",type:"uint256"},{indexed:!1,internalType:"address",name:"mintFeeRecipient",type:"address"},{indexed:!1,internalType:"bool",name:"success",type:"bool"}],name:"MintFeePayout",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"numberOfMints",type:"uint256"}],name:"OpenMintFinalized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"quantity",type:"uint256"},{indexed:!0,internalType:"uint256",name:"pricePerToken",type:"uint256"},{indexed:!1,internalType:"uint256",name:"firstPurchasedTokenId",type:"uint256"}],name:"Sale",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"changedBy",type:"address"}],name:"SalesConfigChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"contract IMetadataRenderer",name:"renderer",type:"address"}],name:"UpdatedMetadataRenderer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"}],name:"adminMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"to",type:"address[]"}],name:"adminMintAirdrop",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"isAdmin",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"mintedPerAddress",outputs:[{components:[{internalType:"uint256",name:"totalMints",type:"uint256"},{internalType:"uint256",name:"presaleMints",type:"uint256"},{internalType:"uint256",name:"publicMints",type:"uint256"}],internalType:"struct IERC721Drop.AddressMintDetails",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"purchase",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"maxQuantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"}],name:"purchasePresale",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"saleDetails",outputs:[{components:[{internalType:"bool",name:"publicSaleActive",type:"bool"},{internalType:"bool",name:"presaleActive",type:"bool"},{internalType:"uint256",name:"publicSalePrice",type:"uint256"},{internalType:"uint64",name:"publicSaleStart",type:"uint64"},{internalType:"uint64",name:"publicSaleEnd",type:"uint64"},{internalType:"uint64",name:"presaleStart",type:"uint64"},{internalType:"uint64",name:"presaleEnd",type:"uint64"},{internalType:"bytes32",name:"presaleMerkleRoot",type:"bytes32"},{internalType:"uint256",name:"maxSalePurchasePerAddress",type:"uint256"},{internalType:"uint256",name:"totalMinted",type:"uint256"},{internalType:"uint256",name:"maxSupply",type:"uint256"}],internalType:"struct IERC721Drop.SaleDetails",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IMetadataRenderer",name:"newRenderer",type:"address"},{internalType:"bytes",name:"setupRenderer",type:"bytes"}],name:"setMetadataRenderer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint104",name:"publicSalePrice",type:"uint104"},{internalType:"uint32",name:"maxSalePurchasePerAddress",type:"uint32"},{internalType:"uint64",name:"publicSaleStart",type:"uint64"},{internalType:"uint64",name:"publicSaleEnd",type:"uint64"},{internalType:"uint64",name:"presaleStart",type:"uint64"},{internalType:"uint64",name:"presaleEnd",type:"uint64"},{internalType:"bytes32",name:"presaleMerkleRoot",type:"bytes32"}],name:"setSaleConfiguration",outputs:[],stateMutability:"nonpayable",type:"function"}],ILoyaltyCardAbi=[{type:"function",name:"cancel",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"mintTo",inputs:[{name:"to",type:"address",internalType:"address"},{name:"uri",type:"string",internalType:"string"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"revoke",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"TokensMinted",inputs:[{name:"mintedTo",type:"address",indexed:!0,internalType:"address"},{name:"tokenIdMinted",type:"uint256",indexed:!0,internalType:"uint256"},{name:"uri",type:"string",indexed:!1,internalType:"string"}],anonymous:!1}],INFTMetadataAbi=[{type:"function",name:"freezeMetadata",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setTokenURI",inputs:[{name:"_tokenId",type:"uint256",internalType:"uint256"},{name:"_uri",type:"string",internalType:"string"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"event",name:"BatchMetadataUpdate",inputs:[{name:"_fromTokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"_toTokenId",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"MetadataFrozen",inputs:[],anonymous:!1},{type:"event",name:"MetadataUpdate",inputs:[{name:"_tokenId",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],IERC721MetadataAbi=[{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"tokenURI",inputs:[{name:"_tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"}],IERC721Metadata=Object.freeze(Object.defineProperty({__proto__:null,default:IERC721MetadataAbi},Symbol.toStringTag,{value:"Module"})),IBurnableERC1155Abi=[{type:"function",name:"burn",inputs:[{name:"account",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"burnBatch",inputs:[{name:"account",type:"address",internalType:"address"},{name:"ids",type:"uint256[]",internalType:"uint256[]"},{name:"values",type:"uint256[]",internalType:"uint256[]"}],outputs:[],stateMutability:"nonpayable"}],IClaimableERC1155=[{type:"function",name:"claim",inputs:[{name:"_receiver",type:"address",internalType:"address"},{name:"_tokenId",type:"uint256",internalType:"uint256"},{name:"_quantity",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"verifyClaim",inputs:[{name:"_claimer",type:"address",internalType:"address"},{name:"_tokenId",type:"uint256",internalType:"uint256"},{name:"_quantity",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"view"},{type:"event",name:"TokensClaimed",inputs:[{name:"claimer",type:"address",indexed:!0,internalType:"address"},{name:"receiver",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"quantityClaimed",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],IDropMultiPhase1155=[{type:"function",name:"claim",inputs:[{name:"receiver",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"allowlistProof",type:"tuple",internalType:"struct IDrop1155.AllowlistProof",components:[{name:"proof",type:"bytes32[]",internalType:"bytes32[]"},{name:"quantityLimitPerWallet",type:"uint256",internalType:"uint256"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"}]},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"setClaimConditions",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"phases",type:"tuple[]",internalType:"struct IClaimCondition.ClaimCondition[]",components:[{name:"startTimestamp",type:"uint256",internalType:"uint256"},{name:"maxClaimableSupply",type:"uint256",internalType:"uint256"},{name:"supplyClaimed",type:"uint256",internalType:"uint256"},{name:"quantityLimitPerWallet",type:"uint256",internalType:"uint256"},{name:"merkleRoot",type:"bytes32",internalType:"bytes32"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"metadata",type:"string",internalType:"string"}]},{name:"resetClaimEligibility",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"ClaimConditionsUpdated",inputs:[{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"claimConditions",type:"tuple[]",indexed:!1,internalType:"struct IClaimCondition.ClaimCondition[]",components:[{name:"startTimestamp",type:"uint256",internalType:"uint256"},{name:"maxClaimableSupply",type:"uint256",internalType:"uint256"},{name:"supplyClaimed",type:"uint256",internalType:"uint256"},{name:"quantityLimitPerWallet",type:"uint256",internalType:"uint256"},{name:"merkleRoot",type:"bytes32",internalType:"bytes32"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"metadata",type:"string",internalType:"string"}]},{name:"resetEligibility",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"TokensClaimed",inputs:[{name:"claimConditionIndex",type:"uint256",indexed:!0,internalType:"uint256"},{name:"claimer",type:"address",indexed:!0,internalType:"address"},{name:"receiver",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"quantityClaimed",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],DropERC1155_V2Abi=[{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"balanceOfBatch",inputs:[{name:"accounts",type:"address[]",internalType:"address[]"},{name:"ids",type:"uint256[]",internalType:"uint256[]"}],outputs:[{name:"",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"claim",inputs:[{name:"receiver",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"proofs",type:"bytes32[]",internalType:"bytes32[]"},{name:"proofMaxQuantityPerTransaction",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"isApprovedForAll",inputs:[{name:"account",type:"address",internalType:"address"},{name:"operator",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"lazyMint",inputs:[{name:"amount",type:"uint256",internalType:"uint256"},{name:"baseURIForTokens",type:"string",internalType:"string"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"safeBatchTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"ids",type:"uint256[]",internalType:"uint256[]"},{name:"amounts",type:"uint256[]",internalType:"uint256[]"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"},{name:"amount",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setApprovalForAll",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"approved",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setClaimConditions",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"phases",type:"tuple[]",internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",components:[{name:"startTimestamp",type:"uint256",internalType:"uint256"},{name:"maxClaimableSupply",type:"uint256",internalType:"uint256"},{name:"supplyClaimed",type:"uint256",internalType:"uint256"},{name:"quantityLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"waitTimeInSecondsBetweenClaims",type:"uint256",internalType:"uint256"},{name:"merkleRoot",type:"bytes32",internalType:"bytes32"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"}]},{name:"resetClaimEligibility",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"event",name:"ApprovalForAll",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"ClaimConditionsUpdated",inputs:[{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"claimConditions",type:"tuple[]",indexed:!1,internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",components:[{name:"startTimestamp",type:"uint256",internalType:"uint256"},{name:"maxClaimableSupply",type:"uint256",internalType:"uint256"},{name:"supplyClaimed",type:"uint256",internalType:"uint256"},{name:"quantityLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"waitTimeInSecondsBetweenClaims",type:"uint256",internalType:"uint256"},{name:"merkleRoot",type:"bytes32",internalType:"bytes32"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"}]}],anonymous:!1},{type:"event",name:"MaxTotalSupplyUpdated",inputs:[{name:"tokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"maxTotalSupply",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"MaxWalletClaimCountUpdated",inputs:[{name:"tokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"count",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"SaleRecipientForTokenUpdated",inputs:[{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"saleRecipient",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"TokensClaimed",inputs:[{name:"claimConditionIndex",type:"uint256",indexed:!0,internalType:"uint256"},{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"claimer",type:"address",indexed:!0,internalType:"address"},{name:"receiver",type:"address",indexed:!1,internalType:"address"},{name:"quantityClaimed",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"TokensLazyMinted",inputs:[{name:"startTokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"endTokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"baseURI",type:"string",indexed:!1,internalType:"string"}],anonymous:!1},{type:"event",name:"TransferBatch",inputs:[{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"ids",type:"uint256[]",indexed:!1,internalType:"uint256[]"},{name:"values",type:"uint256[]",indexed:!1,internalType:"uint256[]"}],anonymous:!1},{type:"event",name:"TransferSingle",inputs:[{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"id",type:"uint256",indexed:!1,internalType:"uint256"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"URI",inputs:[{name:"value",type:"string",indexed:!1,internalType:"string"},{name:"id",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"WalletClaimCountUpdated",inputs:[{name:"tokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"wallet",type:"address",indexed:!0,internalType:"address"},{name:"count",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],IDropSinglePhase1155=[{type:"function",name:"claim",inputs:[{name:"receiver",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"allowlistProof",type:"tuple",internalType:"struct IDropSinglePhase1155.AllowlistProof",components:[{name:"proof",type:"bytes32[]",internalType:"bytes32[]"},{name:"quantityLimitPerWallet",type:"uint256",internalType:"uint256"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"}]},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"setClaimConditions",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"phase",type:"tuple",internalType:"struct IClaimCondition.ClaimCondition",components:[{name:"startTimestamp",type:"uint256",internalType:"uint256"},{name:"maxClaimableSupply",type:"uint256",internalType:"uint256"},{name:"supplyClaimed",type:"uint256",internalType:"uint256"},{name:"quantityLimitPerWallet",type:"uint256",internalType:"uint256"},{name:"merkleRoot",type:"bytes32",internalType:"bytes32"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"metadata",type:"string",internalType:"string"}]},{name:"resetClaimEligibility",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"ClaimConditionUpdated",inputs:[{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"condition",type:"tuple",indexed:!1,internalType:"struct IClaimCondition.ClaimCondition",components:[{name:"startTimestamp",type:"uint256",internalType:"uint256"},{name:"maxClaimableSupply",type:"uint256",internalType:"uint256"},{name:"supplyClaimed",type:"uint256",internalType:"uint256"},{name:"quantityLimitPerWallet",type:"uint256",internalType:"uint256"},{name:"merkleRoot",type:"bytes32",internalType:"bytes32"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"metadata",type:"string",internalType:"string"}]},{name:"resetEligibility",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"TokensClaimed",inputs:[{name:"claimer",type:"address",indexed:!0,internalType:"address"},{name:"receiver",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"quantityClaimed",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],IDropSinglePhase1155_V1=[{type:"function",name:"claim",inputs:[{name:"receiver",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"allowlistProof",type:"tuple",internalType:"struct IDropSinglePhase1155_V1.AllowlistProof",components:[{name:"proof",type:"bytes32[]",internalType:"bytes32[]"},{name:"maxQuantityInAllowlist",type:"uint256",internalType:"uint256"}]},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"setClaimConditions",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"phase",type:"tuple",internalType:"struct IClaimCondition_V1.ClaimCondition",components:[{name:"startTimestamp",type:"uint256",internalType:"uint256"},{name:"maxClaimableSupply",type:"uint256",internalType:"uint256"},{name:"supplyClaimed",type:"uint256",internalType:"uint256"},{name:"quantityLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"waitTimeInSecondsBetweenClaims",type:"uint256",internalType:"uint256"},{name:"merkleRoot",type:"bytes32",internalType:"bytes32"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"}]},{name:"resetClaimEligibility",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"ClaimConditionUpdated",inputs:[{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"condition",type:"tuple",indexed:!1,internalType:"struct IClaimCondition_V1.ClaimCondition",components:[{name:"startTimestamp",type:"uint256",internalType:"uint256"},{name:"maxClaimableSupply",type:"uint256",internalType:"uint256"},{name:"supplyClaimed",type:"uint256",internalType:"uint256"},{name:"quantityLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"waitTimeInSecondsBetweenClaims",type:"uint256",internalType:"uint256"},{name:"merkleRoot",type:"bytes32",internalType:"bytes32"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"}]},{name:"resetEligibility",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"TokensClaimed",inputs:[{name:"claimer",type:"address",indexed:!0,internalType:"address"},{name:"receiver",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"quantityClaimed",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],Erc1155Abi=[{type:"function",name:"balanceOf",inputs:[{name:"_owner",type:"address",internalType:"address"},{name:"_id",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"balanceOfBatch",inputs:[{name:"_owners",type:"address[]",internalType:"address[]"},{name:"_ids",type:"uint256[]",internalType:"uint256[]"}],outputs:[{name:"",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"isApprovedForAll",inputs:[{name:"_owner",type:"address",internalType:"address"},{name:"_operator",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"safeBatchTransferFrom",inputs:[{name:"_from",type:"address",internalType:"address"},{name:"_to",type:"address",internalType:"address"},{name:"_ids",type:"uint256[]",internalType:"uint256[]"},{name:"_values",type:"uint256[]",internalType:"uint256[]"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"_from",type:"address",internalType:"address"},{name:"_to",type:"address",internalType:"address"},{name:"_id",type:"uint256",internalType:"uint256"},{name:"_value",type:"uint256",internalType:"uint256"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setApprovalForAll",inputs:[{name:"_operator",type:"address",internalType:"address"},{name:"_approved",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"ApprovalForAll",inputs:[{name:"_owner",type:"address",indexed:!0,internalType:"address"},{name:"_operator",type:"address",indexed:!0,internalType:"address"},{name:"_approved",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"TransferBatch",inputs:[{name:"_operator",type:"address",indexed:!0,internalType:"address"},{name:"_from",type:"address",indexed:!0,internalType:"address"},{name:"_to",type:"address",indexed:!0,internalType:"address"},{name:"_ids",type:"uint256[]",indexed:!1,internalType:"uint256[]"},{name:"_values",type:"uint256[]",indexed:!1,internalType:"uint256[]"}],anonymous:!1},{type:"event",name:"TransferSingle",inputs:[{name:"_operator",type:"address",indexed:!0,internalType:"address"},{name:"_from",type:"address",indexed:!0,internalType:"address"},{name:"_to",type:"address",indexed:!0,internalType:"address"},{name:"_id",type:"uint256",indexed:!1,internalType:"uint256"},{name:"_value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"URI",inputs:[{name:"_value",type:"string",indexed:!1,internalType:"string"},{name:"_id",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1}],IERC1155=Object.freeze(Object.defineProperty({__proto__:null,default:Erc1155Abi},Symbol.toStringTag,{value:"Module"})),Erc1155MetadataAbi=[{type:"function",name:"uri",inputs:[{name:"_id",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"}],IERC1155Metadata=Object.freeze(Object.defineProperty({__proto__:null,default:Erc1155MetadataAbi},Symbol.toStringTag,{value:"Module"})),Erc1155SupplyAbi=[{type:"function",name:"totalSupply",inputs:[{name:"id",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],Erc1155EnumerableAbi=[{type:"function",name:"nextTokenIdToMint",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],IMintableERC1155Abi=[{type:"function",name:"mintTo",inputs:[{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"uri",type:"string",internalType:"string"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"TokensMinted",inputs:[{name:"mintedTo",type:"address",indexed:!0,internalType:"address"},{name:"tokenIdMinted",type:"uint256",indexed:!0,internalType:"uint256"},{name:"uri",type:"string",indexed:!1,internalType:"string"},{name:"quantityMinted",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],ISignatureMintERC1155Abi=[{type:"function",name:"mintWithSignature",inputs:[{name:"req",type:"tuple",internalType:"struct ISignatureMintERC1155.MintRequest",components:[{name:"to",type:"address",internalType:"address"},{name:"royaltyRecipient",type:"address",internalType:"address"},{name:"royaltyBps",type:"uint256",internalType:"uint256"},{name:"primarySaleRecipient",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"uri",type:"string",internalType:"string"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"validityStartTimestamp",type:"uint128",internalType:"uint128"},{name:"validityEndTimestamp",type:"uint128",internalType:"uint128"},{name:"uid",type:"bytes32",internalType:"bytes32"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"signer",type:"address",internalType:"address"}],stateMutability:"payable"},{type:"function",name:"verify",inputs:[{name:"req",type:"tuple",internalType:"struct ISignatureMintERC1155.MintRequest",components:[{name:"to",type:"address",internalType:"address"},{name:"royaltyRecipient",type:"address",internalType:"address"},{name:"royaltyBps",type:"uint256",internalType:"uint256"},{name:"primarySaleRecipient",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"uri",type:"string",internalType:"string"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"validityStartTimestamp",type:"uint128",internalType:"uint128"},{name:"validityEndTimestamp",type:"uint128",internalType:"uint128"},{name:"uid",type:"bytes32",internalType:"bytes32"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"success",type:"bool",internalType:"bool"},{name:"signer",type:"address",internalType:"address"}],stateMutability:"view"},{type:"event",name:"TokensMintedWithSignature",inputs:[{name:"signer",type:"address",indexed:!0,internalType:"address"},{name:"mintedTo",type:"address",indexed:!0,internalType:"address"},{name:"tokenIdMinted",type:"uint256",indexed:!0,internalType:"uint256"},{name:"mintRequest",type:"tuple",indexed:!1,internalType:"struct ISignatureMintERC1155.MintRequest",components:[{name:"to",type:"address",internalType:"address"},{name:"royaltyRecipient",type:"address",internalType:"address"},{name:"royaltyBps",type:"uint256",internalType:"uint256"},{name:"primarySaleRecipient",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"uri",type:"string",internalType:"string"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"validityStartTimestamp",type:"uint128",internalType:"uint128"},{name:"validityEndTimestamp",type:"uint128",internalType:"uint128"},{name:"uid",type:"bytes32",internalType:"bytes32"}]}],anonymous:!1}],IERC2771ContextAbi=[{type:"function",name:"isTrustedForwarder",inputs:[{name:"forwarder",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"}],IAppURI=[{type:"function",name:"appURI",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"setAppURI",inputs:[{name:"_uri",type:"string",internalType:"string"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"AppURIUpdated",inputs:[{name:"prevURI",type:"string",indexed:!1,internalType:"string"},{name:"newURI",type:"string",indexed:!1,internalType:"string"}],anonymous:!1}],IContractMetadataAbi=[{type:"function",name:"contractURI",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"setContractURI",inputs:[{name:"_uri",type:"string",internalType:"string"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"ContractURIUpdated",inputs:[{name:"prevURI",type:"string",indexed:!1,internalType:"string"},{name:"newURI",type:"string",indexed:!1,internalType:"string"}],anonymous:!1}],IDirectListingsAbi=[{type:"function",name:"approveBuyerForListing",inputs:[{name:"_listingId",type:"uint256",internalType:"uint256"},{name:"_buyer",type:"address",internalType:"address"},{name:"_toApprove",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"approveCurrencyForListing",inputs:[{name:"_listingId",type:"uint256",internalType:"uint256"},{name:"_currency",type:"address",internalType:"address"},{name:"_pricePerTokenInCurrency",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"buyFromListing",inputs:[{name:"_listingId",type:"uint256",internalType:"uint256"},{name:"_buyFor",type:"address",internalType:"address"},{name:"_quantity",type:"uint256",internalType:"uint256"},{name:"_currency",type:"address",internalType:"address"},{name:"_expectedTotalPrice",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"cancelListing",inputs:[{name:"_listingId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"createListing",inputs:[{name:"_params",type:"tuple",internalType:"struct IDirectListings.ListingParameters",components:[{name:"assetContract",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"startTimestamp",type:"uint128",internalType:"uint128"},{name:"endTimestamp",type:"uint128",internalType:"uint128"},{name:"reserved",type:"bool",internalType:"bool"}]}],outputs:[{name:"listingId",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"getAllListings",inputs:[{name:"_startId",type:"uint256",internalType:"uint256"},{name:"_endId",type:"uint256",internalType:"uint256"}],outputs:[{name:"listings",type:"tuple[]",internalType:"struct IDirectListings.Listing[]",components:[{name:"listingId",type:"uint256",internalType:"uint256"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"startTimestamp",type:"uint128",internalType:"uint128"},{name:"endTimestamp",type:"uint128",internalType:"uint128"},{name:"listingCreator",type:"address",internalType:"address"},{name:"assetContract",type:"address",internalType:"address"},{name:"currency",type:"address",internalType:"address"},{name:"tokenType",type:"uint8",internalType:"enum IDirectListings.TokenType"},{name:"status",type:"uint8",internalType:"enum IDirectListings.Status"},{name:"reserved",type:"bool",internalType:"bool"}]}],stateMutability:"view"},{type:"function",name:"getAllValidListings",inputs:[{name:"_startId",type:"uint256",internalType:"uint256"},{name:"_endId",type:"uint256",internalType:"uint256"}],outputs:[{name:"listings",type:"tuple[]",internalType:"struct IDirectListings.Listing[]",components:[{name:"listingId",type:"uint256",internalType:"uint256"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"startTimestamp",type:"uint128",internalType:"uint128"},{name:"endTimestamp",type:"uint128",internalType:"uint128"},{name:"listingCreator",type:"address",internalType:"address"},{name:"assetContract",type:"address",internalType:"address"},{name:"currency",type:"address",internalType:"address"},{name:"tokenType",type:"uint8",internalType:"enum IDirectListings.TokenType"},{name:"status",type:"uint8",internalType:"enum IDirectListings.Status"},{name:"reserved",type:"bool",internalType:"bool"}]}],stateMutability:"view"},{type:"function",name:"getListing",inputs:[{name:"_listingId",type:"uint256",internalType:"uint256"}],outputs:[{name:"listing",type:"tuple",internalType:"struct IDirectListings.Listing",components:[{name:"listingId",type:"uint256",internalType:"uint256"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"startTimestamp",type:"uint128",internalType:"uint128"},{name:"endTimestamp",type:"uint128",internalType:"uint128"},{name:"listingCreator",type:"address",internalType:"address"},{name:"assetContract",type:"address",internalType:"address"},{name:"currency",type:"address",internalType:"address"},{name:"tokenType",type:"uint8",internalType:"enum IDirectListings.TokenType"},{name:"status",type:"uint8",internalType:"enum IDirectListings.Status"},{name:"reserved",type:"bool",internalType:"bool"}]}],stateMutability:"view"},{type:"function",name:"totalListings",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"updateListing",inputs:[{name:"_listingId",type:"uint256",internalType:"uint256"},{name:"_params",type:"tuple",internalType:"struct IDirectListings.ListingParameters",components:[{name:"assetContract",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"startTimestamp",type:"uint128",internalType:"uint128"},{name:"endTimestamp",type:"uint128",internalType:"uint128"},{name:"reserved",type:"bool",internalType:"bool"}]}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"BuyerApprovedForListing",inputs:[{name:"listingId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"buyer",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"CancelledListing",inputs:[{name:"listingCreator",type:"address",indexed:!0,internalType:"address"},{name:"listingId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"CurrencyApprovedForListing",inputs:[{name:"listingId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"currency",type:"address",indexed:!0,internalType:"address"},{name:"pricePerToken",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"NewListing",inputs:[{name:"listingCreator",type:"address",indexed:!0,internalType:"address"},{name:"listingId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"assetContract",type:"address",indexed:!0,internalType:"address"},{name:"listing",type:"tuple",indexed:!1,internalType:"struct IDirectListings.Listing",components:[{name:"listingId",type:"uint256",internalType:"uint256"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"startTimestamp",type:"uint128",internalType:"uint128"},{name:"endTimestamp",type:"uint128",internalType:"uint128"},{name:"listingCreator",type:"address",internalType:"address"},{name:"assetContract",type:"address",internalType:"address"},{name:"currency",type:"address",internalType:"address"},{name:"tokenType",type:"uint8",internalType:"enum IDirectListings.TokenType"},{name:"status",type:"uint8",internalType:"enum IDirectListings.Status"},{name:"reserved",type:"bool",internalType:"bool"}]}],anonymous:!1},{type:"event",name:"NewSale",inputs:[{name:"listingCreator",type:"address",indexed:!0,internalType:"address"},{name:"listingId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"assetContract",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"buyer",type:"address",indexed:!1,internalType:"address"},{name:"quantityBought",type:"uint256",indexed:!1,internalType:"uint256"},{name:"totalPricePaid",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UpdatedListing",inputs:[{name:"listingCreator",type:"address",indexed:!0,internalType:"address"},{name:"listingId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"assetContract",type:"address",indexed:!0,internalType:"address"},{name:"listing",type:"tuple",indexed:!1,internalType:"struct IDirectListings.Listing",components:[{name:"listingId",type:"uint256",internalType:"uint256"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"pricePerToken",type:"uint256",internalType:"uint256"},{name:"startTimestamp",type:"uint128",internalType:"uint128"},{name:"endTimestamp",type:"uint128",internalType:"uint128"},{name:"listingCreator",type:"address",internalType:"address"},{name:"assetContract",type:"address",internalType:"address"},{name:"currency",type:"address",internalType:"address"},{name:"tokenType",type:"uint8",internalType:"enum IDirectListings.TokenType"},{name:"status",type:"uint8",internalType:"enum IDirectListings.Status"},{name:"reserved",type:"bool",internalType:"bool"}]}],anonymous:!1}],IEnglishAuctionsAbi=[{type:"function",name:"bidInAuction",inputs:[{name:"_auctionId",type:"uint256",internalType:"uint256"},{name:"_bidAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"cancelAuction",inputs:[{name:"_auctionId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"collectAuctionPayout",inputs:[{name:"_auctionId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"collectAuctionTokens",inputs:[{name:"_auctionId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"createAuction",inputs:[{name:"_params",type:"tuple",internalType:"struct IEnglishAuctions.AuctionParameters",components:[{name:"assetContract",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"minimumBidAmount",type:"uint256",internalType:"uint256"},{name:"buyoutBidAmount",type:"uint256",internalType:"uint256"},{name:"timeBufferInSeconds",type:"uint64",internalType:"uint64"},{name:"bidBufferBps",type:"uint64",internalType:"uint64"},{name:"startTimestamp",type:"uint64",internalType:"uint64"},{name:"endTimestamp",type:"uint64",internalType:"uint64"}]}],outputs:[{name:"auctionId",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"getAllAuctions",inputs:[{name:"_startId",type:"uint256",internalType:"uint256"},{name:"_endId",type:"uint256",internalType:"uint256"}],outputs:[{name:"auctions",type:"tuple[]",internalType:"struct IEnglishAuctions.Auction[]",components:[{name:"auctionId",type:"uint256",internalType:"uint256"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"minimumBidAmount",type:"uint256",internalType:"uint256"},{name:"buyoutBidAmount",type:"uint256",internalType:"uint256"},{name:"timeBufferInSeconds",type:"uint64",internalType:"uint64"},{name:"bidBufferBps",type:"uint64",internalType:"uint64"},{name:"startTimestamp",type:"uint64",internalType:"uint64"},{name:"endTimestamp",type:"uint64",internalType:"uint64"},{name:"auctionCreator",type:"address",internalType:"address"},{name:"assetContract",type:"address",internalType:"address"},{name:"currency",type:"address",internalType:"address"},{name:"tokenType",type:"uint8",internalType:"enum IEnglishAuctions.TokenType"},{name:"status",type:"uint8",internalType:"enum IEnglishAuctions.Status"}]}],stateMutability:"view"},{type:"function",name:"getAllValidAuctions",inputs:[{name:"_startId",type:"uint256",internalType:"uint256"},{name:"_endId",type:"uint256",internalType:"uint256"}],outputs:[{name:"auctions",type:"tuple[]",internalType:"struct IEnglishAuctions.Auction[]",components:[{name:"auctionId",type:"uint256",internalType:"uint256"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"minimumBidAmount",type:"uint256",internalType:"uint256"},{name:"buyoutBidAmount",type:"uint256",internalType:"uint256"},{name:"timeBufferInSeconds",type:"uint64",internalType:"uint64"},{name:"bidBufferBps",type:"uint64",internalType:"uint64"},{name:"startTimestamp",type:"uint64",internalType:"uint64"},{name:"endTimestamp",type:"uint64",internalType:"uint64"},{name:"auctionCreator",type:"address",internalType:"address"},{name:"assetContract",type:"address",internalType:"address"},{name:"currency",type:"address",internalType:"address"},{name:"tokenType",type:"uint8",internalType:"enum IEnglishAuctions.TokenType"},{name:"status",type:"uint8",internalType:"enum IEnglishAuctions.Status"}]}],stateMutability:"view"},{type:"function",name:"getAuction",inputs:[{name:"_auctionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"auction",type:"tuple",internalType:"struct IEnglishAuctions.Auction",components:[{name:"auctionId",type:"uint256",internalType:"uint256"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"minimumBidAmount",type:"uint256",internalType:"uint256"},{name:"buyoutBidAmount",type:"uint256",internalType:"uint256"},{name:"timeBufferInSeconds",type:"uint64",internalType:"uint64"},{name:"bidBufferBps",type:"uint64",internalType:"uint64"},{name:"startTimestamp",type:"uint64",internalType:"uint64"},{name:"endTimestamp",type:"uint64",internalType:"uint64"},{name:"auctionCreator",type:"address",internalType:"address"},{name:"assetContract",type:"address",internalType:"address"},{name:"currency",type:"address",internalType:"address"},{name:"tokenType",type:"uint8",internalType:"enum IEnglishAuctions.TokenType"},{name:"status",type:"uint8",internalType:"enum IEnglishAuctions.Status"}]}],stateMutability:"view"},{type:"function",name:"getWinningBid",inputs:[{name:"_auctionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"bidder",type:"address",internalType:"address"},{name:"currency",type:"address",internalType:"address"},{name:"bidAmount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"isAuctionExpired",inputs:[{name:"_auctionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isNewWinningBid",inputs:[{name:"_auctionId",type:"uint256",internalType:"uint256"},{name:"_bidAmount",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"event",name:"AuctionClosed",inputs:[{name:"auctionId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"assetContract",type:"address",indexed:!0,internalType:"address"},{name:"closer",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"auctionCreator",type:"address",indexed:!1,internalType:"address"},{name:"winningBidder",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"CancelledAuction",inputs:[{name:"auctionCreator",type:"address",indexed:!0,internalType:"address"},{name:"auctionId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"NewAuction",inputs:[{name:"auctionCreator",type:"address",indexed:!0,internalType:"address"},{name:"auctionId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"assetContract",type:"address",indexed:!0,internalType:"address"},{name:"auction",type:"tuple",indexed:!1,internalType:"struct IEnglishAuctions.Auction",components:[{name:"auctionId",type:"uint256",internalType:"uint256"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"minimumBidAmount",type:"uint256",internalType:"uint256"},{name:"buyoutBidAmount",type:"uint256",internalType:"uint256"},{name:"timeBufferInSeconds",type:"uint64",internalType:"uint64"},{name:"bidBufferBps",type:"uint64",internalType:"uint64"},{name:"startTimestamp",type:"uint64",internalType:"uint64"},{name:"endTimestamp",type:"uint64",internalType:"uint64"},{name:"auctionCreator",type:"address",internalType:"address"},{name:"assetContract",type:"address",internalType:"address"},{name:"currency",type:"address",internalType:"address"},{name:"tokenType",type:"uint8",internalType:"enum IEnglishAuctions.TokenType"},{name:"status",type:"uint8",internalType:"enum IEnglishAuctions.Status"}]}],anonymous:!1},{type:"event",name:"NewBid",inputs:[{name:"auctionId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"bidder",type:"address",indexed:!0,internalType:"address"},{name:"assetContract",type:"address",indexed:!0,internalType:"address"},{name:"bidAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"auction",type:"tuple",indexed:!1,internalType:"struct IEnglishAuctions.Auction",components:[{name:"auctionId",type:"uint256",internalType:"uint256"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"minimumBidAmount",type:"uint256",internalType:"uint256"},{name:"buyoutBidAmount",type:"uint256",internalType:"uint256"},{name:"timeBufferInSeconds",type:"uint64",internalType:"uint64"},{name:"bidBufferBps",type:"uint64",internalType:"uint64"},{name:"startTimestamp",type:"uint64",internalType:"uint64"},{name:"endTimestamp",type:"uint64",internalType:"uint64"},{name:"auctionCreator",type:"address",internalType:"address"},{name:"assetContract",type:"address",internalType:"address"},{name:"currency",type:"address",internalType:"address"},{name:"tokenType",type:"uint8",internalType:"enum IEnglishAuctions.TokenType"},{name:"status",type:"uint8",internalType:"enum IEnglishAuctions.Status"}]}],anonymous:!1}],IOffersAbi=[{type:"function",name:"acceptOffer",inputs:[{name:"_offerId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"cancelOffer",inputs:[{name:"_offerId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getAllOffers",inputs:[{name:"_startId",type:"uint256",internalType:"uint256"},{name:"_endId",type:"uint256",internalType:"uint256"}],outputs:[{name:"offers",type:"tuple[]",internalType:"struct IOffers.Offer[]",components:[{name:"offerId",type:"uint256",internalType:"uint256"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"totalPrice",type:"uint256",internalType:"uint256"},{name:"expirationTimestamp",type:"uint256",internalType:"uint256"},{name:"offeror",type:"address",internalType:"address"},{name:"assetContract",type:"address",internalType:"address"},{name:"currency",type:"address",internalType:"address"},{name:"tokenType",type:"uint8",internalType:"enum IOffers.TokenType"},{name:"status",type:"uint8",internalType:"enum IOffers.Status"}]}],stateMutability:"view"},{type:"function",name:"getAllValidOffers",inputs:[{name:"_startId",type:"uint256",internalType:"uint256"},{name:"_endId",type:"uint256",internalType:"uint256"}],outputs:[{name:"offers",type:"tuple[]",internalType:"struct IOffers.Offer[]",components:[{name:"offerId",type:"uint256",internalType:"uint256"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"totalPrice",type:"uint256",internalType:"uint256"},{name:"expirationTimestamp",type:"uint256",internalType:"uint256"},{name:"offeror",type:"address",internalType:"address"},{name:"assetContract",type:"address",internalType:"address"},{name:"currency",type:"address",internalType:"address"},{name:"tokenType",type:"uint8",internalType:"enum IOffers.TokenType"},{name:"status",type:"uint8",internalType:"enum IOffers.Status"}]}],stateMutability:"view"},{type:"function",name:"getOffer",inputs:[{name:"_offerId",type:"uint256",internalType:"uint256"}],outputs:[{name:"offer",type:"tuple",internalType:"struct IOffers.Offer",components:[{name:"offerId",type:"uint256",internalType:"uint256"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"totalPrice",type:"uint256",internalType:"uint256"},{name:"expirationTimestamp",type:"uint256",internalType:"uint256"},{name:"offeror",type:"address",internalType:"address"},{name:"assetContract",type:"address",internalType:"address"},{name:"currency",type:"address",internalType:"address"},{name:"tokenType",type:"uint8",internalType:"enum IOffers.TokenType"},{name:"status",type:"uint8",internalType:"enum IOffers.Status"}]}],stateMutability:"view"},{type:"function",name:"makeOffer",inputs:[{name:"_params",type:"tuple",internalType:"struct IOffers.OfferParams",components:[{name:"assetContract",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"currency",type:"address",internalType:"address"},{name:"totalPrice",type:"uint256",internalType:"uint256"},{name:"expirationTimestamp",type:"uint256",internalType:"uint256"}]}],outputs:[{name:"offerId",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"event",name:"AcceptedOffer",inputs:[{name:"offeror",type:"address",indexed:!0,internalType:"address"},{name:"offerId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"assetContract",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"seller",type:"address",indexed:!1,internalType:"address"},{name:"quantityBought",type:"uint256",indexed:!1,internalType:"uint256"},{name:"totalPricePaid",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"CancelledOffer",inputs:[{name:"offeror",type:"address",indexed:!0,internalType:"address"},{name:"offerId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"NewOffer",inputs:[{name:"offeror",type:"address",indexed:!0,internalType:"address"},{name:"offerId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"assetContract",type:"address",indexed:!0,internalType:"address"},{name:"offer",type:"tuple",indexed:!1,internalType:"struct IOffers.Offer",components:[{name:"offerId",type:"uint256",internalType:"uint256"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"quantity",type:"uint256",internalType:"uint256"},{name:"totalPrice",type:"uint256",internalType:"uint256"},{name:"expirationTimestamp",type:"uint256",internalType:"uint256"},{name:"offeror",type:"address",internalType:"address"},{name:"assetContract",type:"address",internalType:"address"},{name:"currency",type:"address",internalType:"address"},{name:"tokenType",type:"uint8",internalType:"enum IOffers.TokenType"},{name:"status",type:"uint8",internalType:"enum IOffers.Status"}]}],anonymous:!1}],IPackVRFAbi=[{type:"function",name:"canClaimRewards",inputs:[{name:"_opener",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"claimRewards",inputs:[],outputs:[{name:"rewardUnits",type:"tuple[]",internalType:"struct ITokenBundle.Token[]",components:[{name:"assetContract",type:"address",internalType:"address"},{name:"tokenType",type:"uint8",internalType:"enum ITokenBundle.TokenType"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"totalAmount",type:"uint256",internalType:"uint256"}]}],stateMutability:"nonpayable"},{type:"function",name:"createPack",inputs:[{name:"contents",type:"tuple[]",internalType:"struct ITokenBundle.Token[]",components:[{name:"assetContract",type:"address",internalType:"address"},{name:"tokenType",type:"uint8",internalType:"enum ITokenBundle.TokenType"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"totalAmount",type:"uint256",internalType:"uint256"}]},{name:"numOfRewardUnits",type:"uint256[]",internalType:"uint256[]"},{name:"packUri",type:"string",internalType:"string"},{name:"openStartTimestamp",type:"uint128",internalType:"uint128"},{name:"amountDistributedPerOpen",type:"uint128",internalType:"uint128"},{name:"recipient",type:"address",internalType:"address"}],outputs:[{name:"packId",type:"uint256",internalType:"uint256"},{name:"packTotalSupply",type:"uint256",internalType:"uint256"}],stateMutability:"payable"},{type:"function",name:"openPack",inputs:[{name:"packId",type:"uint256",internalType:"uint256"},{name:"amountToOpen",type:"uint256",internalType:"uint256"}],outputs:[{name:"requestId",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"openPackAndClaimRewards",inputs:[{name:"_packId",type:"uint256",internalType:"uint256"},{name:"_amountToOpen",type:"uint256",internalType:"uint256"},{name:"_callBackGasLimit",type:"uint32",internalType:"uint32"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"event",name:"PackCreated",inputs:[{name:"packId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"recipient",type:"address",indexed:!1,internalType:"address"},{name:"totalPacksCreated",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"PackOpenRequested",inputs:[{name:"opener",type:"address",indexed:!0,internalType:"address"},{name:"packId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"amountToOpen",type:"uint256",indexed:!1,internalType:"uint256"},{name:"requestId",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"PackOpened",inputs:[{name:"packId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"opener",type:"address",indexed:!0,internalType:"address"},{name:"numOfPacksOpened",type:"uint256",indexed:!1,internalType:"uint256"},{name:"rewardUnitsDistributed",type:"tuple[]",indexed:!1,internalType:"struct ITokenBundle.Token[]",components:[{name:"assetContract",type:"address",internalType:"address"},{name:"tokenType",type:"uint8",internalType:"enum ITokenBundle.TokenType"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"totalAmount",type:"uint256",internalType:"uint256"}]}],anonymous:!1},{type:"event",name:"PackRandomnessFulfilled",inputs:[{name:"packId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"requestId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1}],IPermissionsAbi=[{type:"function",name:"getRoleAdmin",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"grantRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"hasRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"renounceRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"revokeRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"RoleAdminChanged",inputs:[{name:"role",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"previousAdminRole",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"newAdminRole",type:"bytes32",indexed:!0,internalType:"bytes32"}],anonymous:!1},{type:"event",name:"RoleGranted",inputs:[{name:"role",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"sender",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"RoleRevoked",inputs:[{name:"role",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"sender",type:"address",indexed:!0,internalType:"address"}],anonymous:!1}],IPermissionsEnumerableAbi=[{type:"function",name:"getRoleAdmin",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getRoleMember",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getRoleMemberCount",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"grantRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"hasRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"renounceRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"revokeRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"RoleAdminChanged",inputs:[{name:"role",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"previousAdminRole",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"newAdminRole",type:"bytes32",indexed:!0,internalType:"bytes32"}],anonymous:!1},{type:"event",name:"RoleGranted",inputs:[{name:"role",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"sender",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"RoleRevoked",inputs:[{name:"role",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"sender",type:"address",indexed:!0,internalType:"address"}],anonymous:!1}],IThirdwebPlatformFeeAbi=[{type:"function",name:"getPlatformFeeInfo",inputs:[],outputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint16",internalType:"uint16"}],stateMutability:"view"},{type:"function",name:"setPlatformFeeInfo",inputs:[{name:"_platformFeeRecipient",type:"address",internalType:"address"},{name:"_platformFeeBps",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"PlatformFeeInfoUpdated",inputs:[{name:"platformFeeRecipient",type:"address",indexed:!0,internalType:"address"},{name:"platformFeeBps",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],IThirdwebPrimarySaleAbi=[{type:"function",name:"primarySaleRecipient",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"setPrimarySaleRecipient",inputs:[{name:"_saleRecipient",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"PrimarySaleRecipientUpdated",inputs:[{name:"recipient",type:"address",indexed:!0,internalType:"address"}],anonymous:!1}],IThirdwebRoyaltyAbi=[{type:"function",name:"getDefaultRoyaltyInfo",inputs:[],outputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint16",internalType:"uint16"}],stateMutability:"view"},{type:"function",name:"getRoyaltyInfoForToken",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint16",internalType:"uint16"}],stateMutability:"view"},{type:"function",name:"royaltyInfo",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"salePrice",type:"uint256",internalType:"uint256"}],outputs:[{name:"receiver",type:"address",internalType:"address"},{name:"royaltyAmount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"setDefaultRoyaltyInfo",inputs:[{name:"_royaltyRecipient",type:"address",internalType:"address"},{name:"_royaltyBps",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setRoyaltyInfoForToken",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"recipient",type:"address",internalType:"address"},{name:"bps",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"event",name:"DefaultRoyalty",inputs:[{name:"newRoyaltyRecipient",type:"address",indexed:!0,internalType:"address"},{name:"newRoyaltyBps",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"RoyaltyForToken",inputs:[{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"royaltyRecipient",type:"address",indexed:!0,internalType:"address"},{name:"royaltyBps",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],IOwnableAbi=[{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"setOwner",inputs:[{name:"_newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"OwnerUpdated",inputs:[{name:"prevOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"OwnableUnauthorized",inputs:[]}],IAirdropERC20=[{type:"function",name:"airdropERC20",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"tokenOwner",type:"address",internalType:"address"},{name:"contents",type:"tuple[]",internalType:"struct IAirdropERC20.AirdropContent[]",components:[{name:"recipient",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}]}],outputs:[],stateMutability:"payable"},{type:"event",name:"AirdropFailed",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"tokenOwner",type:"address",indexed:!0,internalType:"address"},{name:"recipient",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],IAirdropERC721=[{type:"function",name:"airdropERC721",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"tokenOwner",type:"address",internalType:"address"},{name:"contents",type:"tuple[]",internalType:"struct IAirdropERC721.AirdropContent[]",components:[{name:"recipient",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}]}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"AirdropFailed",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"tokenOwner",type:"address",indexed:!0,internalType:"address"},{name:"recipient",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],IAirdropERC1155=[{type:"function",name:"airdropERC1155",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"tokenOwner",type:"address",internalType:"address"},{name:"contents",type:"tuple[]",internalType:"struct IAirdropERC1155.AirdropContent[]",components:[{name:"recipient",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"amount",type:"uint256",internalType:"uint256"}]}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"AirdropFailed",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"tokenOwner",type:"address",indexed:!0,internalType:"address"},{name:"recipient",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],IAccountFactoryCore=[{type:"function",name:"accountImplementation",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"createAccount",inputs:[{name:"admin",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[{name:"account",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"getAccountsOfSigner",inputs:[{name:"signer",type:"address",internalType:"address"}],outputs:[{name:"accounts",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"getAddress",inputs:[{name:"adminSigner",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getAllAccounts",inputs:[],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"event",name:"AccountCreated",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"accountAdmin",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"SignerAdded",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"signer",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"SignerRemoved",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"signer",type:"address",indexed:!0,internalType:"address"}],anonymous:!1}],IAccountPermissions=[{type:"function",name:"getAllActiveSigners",inputs:[],outputs:[{name:"signers",type:"tuple[]",internalType:"struct IAccountPermissions.SignerPermissions[]",components:[{name:"signer",type:"address",internalType:"address"},{name:"approvedTargets",type:"address[]",internalType:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"startTimestamp",type:"uint128",internalType:"uint128"},{name:"endTimestamp",type:"uint128",internalType:"uint128"}]}],stateMutability:"view"},{type:"function",name:"getAllAdmins",inputs:[],outputs:[{name:"admins",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"getAllSigners",inputs:[],outputs:[{name:"signers",type:"tuple[]",internalType:"struct IAccountPermissions.SignerPermissions[]",components:[{name:"signer",type:"address",internalType:"address"},{name:"approvedTargets",type:"address[]",internalType:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"startTimestamp",type:"uint128",internalType:"uint128"},{name:"endTimestamp",type:"uint128",internalType:"uint128"}]}],stateMutability:"view"},{type:"function",name:"getPermissionsForSigner",inputs:[{name:"signer",type:"address",internalType:"address"}],outputs:[{name:"permissions",type:"tuple",internalType:"struct IAccountPermissions.SignerPermissions",components:[{name:"signer",type:"address",internalType:"address"},{name:"approvedTargets",type:"address[]",internalType:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"startTimestamp",type:"uint128",internalType:"uint128"},{name:"endTimestamp",type:"uint128",internalType:"uint128"}]}],stateMutability:"view"},{type:"function",name:"isActiveSigner",inputs:[{name:"signer",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isAdmin",inputs:[{name:"signer",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"setPermissionsForSigner",inputs:[{name:"req",type:"tuple",internalType:"struct IAccountPermissions.SignerPermissionRequest",components:[{name:"signer",type:"address",internalType:"address"},{name:"isAdmin",type:"uint8",internalType:"uint8"},{name:"approvedTargets",type:"address[]",internalType:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"permissionStartTimestamp",type:"uint128",internalType:"uint128"},{name:"permissionEndTimestamp",type:"uint128",internalType:"uint128"},{name:"reqValidityStartTimestamp",type:"uint128",internalType:"uint128"},{name:"reqValidityEndTimestamp",type:"uint128",internalType:"uint128"},{name:"uid",type:"bytes32",internalType:"bytes32"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"verifySignerPermissionRequest",inputs:[{name:"req",type:"tuple",internalType:"struct IAccountPermissions.SignerPermissionRequest",components:[{name:"signer",type:"address",internalType:"address"},{name:"isAdmin",type:"uint8",internalType:"uint8"},{name:"approvedTargets",type:"address[]",internalType:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"permissionStartTimestamp",type:"uint128",internalType:"uint128"},{name:"permissionEndTimestamp",type:"uint128",internalType:"uint128"},{name:"reqValidityStartTimestamp",type:"uint128",internalType:"uint128"},{name:"reqValidityEndTimestamp",type:"uint128",internalType:"uint128"},{name:"uid",type:"bytes32",internalType:"bytes32"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"success",type:"bool",internalType:"bool"},{name:"signer",type:"address",internalType:"address"}],stateMutability:"view"},{type:"event",name:"AdminUpdated",inputs:[{name:"signer",type:"address",indexed:!0,internalType:"address"},{name:"isAdmin",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"SignerPermissionsUpdated",inputs:[{name:"authorizingSigner",type:"address",indexed:!0,internalType:"address"},{name:"targetSigner",type:"address",indexed:!0,internalType:"address"},{name:"permissions",type:"tuple",indexed:!1,internalType:"struct IAccountPermissions.SignerPermissionRequest",components:[{name:"signer",type:"address",internalType:"address"},{name:"isAdmin",type:"uint8",internalType:"uint8"},{name:"approvedTargets",type:"address[]",internalType:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"permissionStartTimestamp",type:"uint128",internalType:"uint128"},{name:"permissionEndTimestamp",type:"uint128",internalType:"uint128"},{name:"reqValidityStartTimestamp",type:"uint128",internalType:"uint128"},{name:"reqValidityEndTimestamp",type:"uint128",internalType:"uint128"},{name:"uid",type:"bytes32",internalType:"bytes32"}]}],anonymous:!1}],IAccountPermissionsV1=[{type:"function",name:"getAllActiveSigners",inputs:[],outputs:[{name:"signers",type:"tuple[]",internalType:"struct IAccountPermissions_V1.SignerPermissions[]",components:[{name:"signer",type:"address",internalType:"address"},{name:"approvedTargets",type:"address[]",internalType:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"startTimestamp",type:"uint128",internalType:"uint128"},{name:"endTimestamp",type:"uint128",internalType:"uint128"}]}],stateMutability:"view"},{type:"function",name:"getAllAdmins",inputs:[],outputs:[{name:"admins",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"getAllSigners",inputs:[],outputs:[{name:"signers",type:"tuple[]",internalType:"struct IAccountPermissions_V1.SignerPermissions[]",components:[{name:"signer",type:"address",internalType:"address"},{name:"approvedTargets",type:"address[]",internalType:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"startTimestamp",type:"uint128",internalType:"uint128"},{name:"endTimestamp",type:"uint128",internalType:"uint128"}]}],stateMutability:"view"},{type:"function",name:"getPermissionsForSigner",inputs:[{name:"signer",type:"address",internalType:"address"}],outputs:[{name:"permissions",type:"tuple",internalType:"struct IAccountPermissions_V1.SignerPermissions",components:[{name:"signer",type:"address",internalType:"address"},{name:"approvedTargets",type:"address[]",internalType:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"startTimestamp",type:"uint128",internalType:"uint128"},{name:"endTimestamp",type:"uint128",internalType:"uint128"}]}],stateMutability:"view"},{type:"function",name:"isActiveSigner",inputs:[{name:"signer",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isAdmin",inputs:[{name:"signer",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"setAdmin",inputs:[{name:"account",type:"address",internalType:"address"},{name:"isAdmin",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setPermissionsForSigner",inputs:[{name:"req",type:"tuple",internalType:"struct IAccountPermissions_V1.SignerPermissionRequest",components:[{name:"signer",type:"address",internalType:"address"},{name:"approvedTargets",type:"address[]",internalType:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"permissionStartTimestamp",type:"uint128",internalType:"uint128"},{name:"permissionEndTimestamp",type:"uint128",internalType:"uint128"},{name:"reqValidityStartTimestamp",type:"uint128",internalType:"uint128"},{name:"reqValidityEndTimestamp",type:"uint128",internalType:"uint128"},{name:"uid",type:"bytes32",internalType:"bytes32"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"verifySignerPermissionRequest",inputs:[{name:"req",type:"tuple",internalType:"struct IAccountPermissions_V1.SignerPermissionRequest",components:[{name:"signer",type:"address",internalType:"address"},{name:"approvedTargets",type:"address[]",internalType:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"permissionStartTimestamp",type:"uint128",internalType:"uint128"},{name:"permissionEndTimestamp",type:"uint128",internalType:"uint128"},{name:"reqValidityStartTimestamp",type:"uint128",internalType:"uint128"},{name:"reqValidityEndTimestamp",type:"uint128",internalType:"uint128"},{name:"uid",type:"bytes32",internalType:"bytes32"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"success",type:"bool",internalType:"bool"},{name:"signer",type:"address",internalType:"address"}],stateMutability:"view"},{type:"event",name:"AdminUpdated",inputs:[{name:"signer",type:"address",indexed:!0,internalType:"address"},{name:"isAdmin",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"SignerPermissionsUpdated",inputs:[{name:"authorizingSigner",type:"address",indexed:!0,internalType:"address"},{name:"targetSigner",type:"address",indexed:!0,internalType:"address"},{name:"permissions",type:"tuple",indexed:!1,internalType:"struct IAccountPermissions_V1.SignerPermissionRequest",components:[{name:"signer",type:"address",internalType:"address"},{name:"approvedTargets",type:"address[]",internalType:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"permissionStartTimestamp",type:"uint128",internalType:"uint128"},{name:"permissionEndTimestamp",type:"uint128",internalType:"uint128"},{name:"reqValidityStartTimestamp",type:"uint128",internalType:"uint128"},{name:"reqValidityEndTimestamp",type:"uint128",internalType:"uint128"},{name:"uid",type:"bytes32",internalType:"bytes32"}]}],anonymous:!1}],IAccount=[{type:"function",name:"validateUserOp",inputs:[{name:"userOp",type:"tuple",internalType:"struct UserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"callGasLimit",type:"uint256",internalType:"uint256"},{name:"verificationGasLimit",type:"uint256",internalType:"uint256"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"maxFeePerGas",type:"uint256",internalType:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256",internalType:"uint256"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"},{name:"missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"}];var utils$t={};const require$$0$9=getAugmentedNamespace(lib_esm$e),require$$1$5=getAugmentedNamespace(lib_esm$j),require$$2$4=getAugmentedNamespace(lib_esm$g),require$$3=getAugmentedNamespace(lib_esm$9),require$$0$8=getAugmentedNamespace(lib_esm$n),require$$2$3=getAugmentedNamespace(lib_esm$f),require$$6$2=getAugmentedNamespace(lib_esm$7),require$$7=getAugmentedNamespace(lib_esm$5),require$$0$7=getAugmentedNamespace(lib_esm$l),require$$9=getAugmentedNamespace(lib_esm$o),require$$10=getAugmentedNamespace(lib_esm$8),require$$1$4=getAugmentedNamespace(lib_esm$2),require$$12=getAugmentedNamespace(lib_esm$6),require$$2$2=getAugmentedNamespace(lib_esm$m),require$$4$2=getAugmentedNamespace(lib_esm$k),require$$15=getAugmentedNamespace(lib_esm$b),require$$16=getAugmentedNamespace(lib_esm$h),require$$1$3=getAugmentedNamespace(lib_esm$a),require$$18=getAugmentedNamespace(lib_esm$1),require$$19=getAugmentedNamespace(lib_esm$4),require$$1$2=getAugmentedNamespace(lib_esm$3);(function(vn){var fn=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ds,na,_a,es){es===void 0&&(es=_a),Object.defineProperty(ds,es,{enumerable:!0,get:function(){return na[_a]}})}:function(ds,na,_a,es){es===void 0&&(es=_a),ds[es]=na[_a]}),En=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ds,na){Object.defineProperty(ds,"default",{enumerable:!0,value:na})}:function(ds,na){ds.default=na}),Cn=commonjsGlobal&&commonjsGlobal.__importStar||function(ds){if(ds&&ds.__esModule)return ds;var na={};if(ds!=null)for(var _a in ds)_a!=="default"&&Object.prototype.hasOwnProperty.call(ds,_a)&&fn(na,ds,_a);return En(na,ds),na};Object.defineProperty(vn,"__esModule",{value:!0}),vn.formatBytes32String=vn.Utf8ErrorFuncs=vn.toUtf8String=vn.toUtf8CodePoints=vn.toUtf8Bytes=vn._toEscapedUtf8String=vn.nameprep=vn.hexDataSlice=vn.hexDataLength=vn.hexZeroPad=vn.hexValue=vn.hexStripZeros=vn.hexConcat=vn.isHexString=vn.hexlify=vn.base64=vn.base58=vn.TransactionDescription=vn.LogDescription=vn.Interface=vn.SigningKey=vn.HDNode=vn.defaultPath=vn.isBytesLike=vn.isBytes=vn.zeroPad=vn.stripZeros=vn.concat=vn.arrayify=vn.shallowCopy=vn.resolveProperties=vn.getStatic=vn.defineReadOnly=vn.deepCopy=vn.checkProperties=vn.poll=vn.fetchJson=vn._fetchData=vn.RLP=vn.Logger=vn.checkResultErrors=vn.FormatTypes=vn.ParamType=vn.FunctionFragment=vn.EventFragment=vn.ErrorFragment=vn.ConstructorFragment=vn.Fragment=vn.defaultAbiCoder=vn.AbiCoder=void 0,vn.Indexed=vn.Utf8ErrorReason=vn.UnicodeNormalizationForm=vn.SupportedAlgorithm=vn.mnemonicToSeed=vn.isValidMnemonic=vn.entropyToMnemonic=vn.mnemonicToEntropy=vn.getAccountPath=vn.verifyTypedData=vn.verifyMessage=vn.recoverPublicKey=vn.computePublicKey=vn.recoverAddress=vn.computeAddress=vn.getJsonWalletAddress=vn.TransactionTypes=vn.serializeTransaction=vn.parseTransaction=vn.accessListify=vn.joinSignature=vn.splitSignature=vn.soliditySha256=vn.solidityKeccak256=vn.solidityPack=vn.shuffled=vn.randomBytes=vn.sha512=vn.sha256=vn.ripemd160=vn.keccak256=vn.computeHmac=vn.commify=vn.parseUnits=vn.formatUnits=vn.parseEther=vn.formatEther=vn.isAddress=vn.getCreate2Address=vn.getContractAddress=vn.getIcapAddress=vn.getAddress=vn._TypedDataEncoder=vn.id=vn.isValidName=vn.namehash=vn.hashMessage=vn.dnsEncode=vn.parseBytes32String=void 0;var _i=require$$0$9;Object.defineProperty(vn,"AbiCoder",{enumerable:!0,get:function(){return _i.AbiCoder}}),Object.defineProperty(vn,"checkResultErrors",{enumerable:!0,get:function(){return _i.checkResultErrors}}),Object.defineProperty(vn,"ConstructorFragment",{enumerable:!0,get:function(){return _i.ConstructorFragment}}),Object.defineProperty(vn,"defaultAbiCoder",{enumerable:!0,get:function(){return _i.defaultAbiCoder}}),Object.defineProperty(vn,"ErrorFragment",{enumerable:!0,get:function(){return _i.ErrorFragment}}),Object.defineProperty(vn,"EventFragment",{enumerable:!0,get:function(){return _i.EventFragment}}),Object.defineProperty(vn,"FormatTypes",{enumerable:!0,get:function(){return _i.FormatTypes}}),Object.defineProperty(vn,"Fragment",{enumerable:!0,get:function(){return _i.Fragment}}),Object.defineProperty(vn,"FunctionFragment",{enumerable:!0,get:function(){return _i.FunctionFragment}}),Object.defineProperty(vn,"Indexed",{enumerable:!0,get:function(){return _i.Indexed}}),Object.defineProperty(vn,"Interface",{enumerable:!0,get:function(){return _i.Interface}}),Object.defineProperty(vn,"LogDescription",{enumerable:!0,get:function(){return _i.LogDescription}}),Object.defineProperty(vn,"ParamType",{enumerable:!0,get:function(){return _i.ParamType}}),Object.defineProperty(vn,"TransactionDescription",{enumerable:!0,get:function(){return _i.TransactionDescription}});var An=require$$1$5;Object.defineProperty(vn,"getAddress",{enumerable:!0,get:function(){return An.getAddress}}),Object.defineProperty(vn,"getCreate2Address",{enumerable:!0,get:function(){return An.getCreate2Address}}),Object.defineProperty(vn,"getContractAddress",{enumerable:!0,get:function(){return An.getContractAddress}}),Object.defineProperty(vn,"getIcapAddress",{enumerable:!0,get:function(){return An.getIcapAddress}}),Object.defineProperty(vn,"isAddress",{enumerable:!0,get:function(){return An.isAddress}});var ba=Cn(require$$2$4);vn.base64=ba;var xa=require$$3;Object.defineProperty(vn,"base58",{enumerable:!0,get:function(){return xa.Base58}});var $a=require$$0$8;Object.defineProperty(vn,"arrayify",{enumerable:!0,get:function(){return $a.arrayify}}),Object.defineProperty(vn,"concat",{enumerable:!0,get:function(){return $a.concat}}),Object.defineProperty(vn,"hexConcat",{enumerable:!0,get:function(){return $a.hexConcat}}),Object.defineProperty(vn,"hexDataSlice",{enumerable:!0,get:function(){return $a.hexDataSlice}}),Object.defineProperty(vn,"hexDataLength",{enumerable:!0,get:function(){return $a.hexDataLength}}),Object.defineProperty(vn,"hexlify",{enumerable:!0,get:function(){return $a.hexlify}}),Object.defineProperty(vn,"hexStripZeros",{enumerable:!0,get:function(){return $a.hexStripZeros}}),Object.defineProperty(vn,"hexValue",{enumerable:!0,get:function(){return $a.hexValue}}),Object.defineProperty(vn,"hexZeroPad",{enumerable:!0,get:function(){return $a.hexZeroPad}}),Object.defineProperty(vn,"isBytes",{enumerable:!0,get:function(){return $a.isBytes}}),Object.defineProperty(vn,"isBytesLike",{enumerable:!0,get:function(){return $a.isBytesLike}}),Object.defineProperty(vn,"isHexString",{enumerable:!0,get:function(){return $a.isHexString}}),Object.defineProperty(vn,"joinSignature",{enumerable:!0,get:function(){return $a.joinSignature}}),Object.defineProperty(vn,"zeroPad",{enumerable:!0,get:function(){return $a.zeroPad}}),Object.defineProperty(vn,"splitSignature",{enumerable:!0,get:function(){return $a.splitSignature}}),Object.defineProperty(vn,"stripZeros",{enumerable:!0,get:function(){return $a.stripZeros}});var rs=require$$2$3;Object.defineProperty(vn,"_TypedDataEncoder",{enumerable:!0,get:function(){return rs._TypedDataEncoder}}),Object.defineProperty(vn,"dnsEncode",{enumerable:!0,get:function(){return rs.dnsEncode}}),Object.defineProperty(vn,"hashMessage",{enumerable:!0,get:function(){return rs.hashMessage}}),Object.defineProperty(vn,"id",{enumerable:!0,get:function(){return rs.id}}),Object.defineProperty(vn,"isValidName",{enumerable:!0,get:function(){return rs.isValidName}}),Object.defineProperty(vn,"namehash",{enumerable:!0,get:function(){return rs.namehash}});var ts=require$$6$2;Object.defineProperty(vn,"defaultPath",{enumerable:!0,get:function(){return ts.defaultPath}}),Object.defineProperty(vn,"entropyToMnemonic",{enumerable:!0,get:function(){return ts.entropyToMnemonic}}),Object.defineProperty(vn,"getAccountPath",{enumerable:!0,get:function(){return ts.getAccountPath}}),Object.defineProperty(vn,"HDNode",{enumerable:!0,get:function(){return ts.HDNode}}),Object.defineProperty(vn,"isValidMnemonic",{enumerable:!0,get:function(){return ts.isValidMnemonic}}),Object.defineProperty(vn,"mnemonicToEntropy",{enumerable:!0,get:function(){return ts.mnemonicToEntropy}}),Object.defineProperty(vn,"mnemonicToSeed",{enumerable:!0,get:function(){return ts.mnemonicToSeed}});var is=require$$7;Object.defineProperty(vn,"getJsonWalletAddress",{enumerable:!0,get:function(){return is.getJsonWalletAddress}});var cs=require$$0$7;Object.defineProperty(vn,"keccak256",{enumerable:!0,get:function(){return cs.keccak256}});var us=require$$9;Object.defineProperty(vn,"Logger",{enumerable:!0,get:function(){return us.Logger}});var ps=require$$10;Object.defineProperty(vn,"computeHmac",{enumerable:!0,get:function(){return ps.computeHmac}}),Object.defineProperty(vn,"ripemd160",{enumerable:!0,get:function(){return ps.ripemd160}}),Object.defineProperty(vn,"sha256",{enumerable:!0,get:function(){return ps.sha256}}),Object.defineProperty(vn,"sha512",{enumerable:!0,get:function(){return ps.sha512}});var bs=require$$1$4;Object.defineProperty(vn,"solidityKeccak256",{enumerable:!0,get:function(){return bs.keccak256}}),Object.defineProperty(vn,"solidityPack",{enumerable:!0,get:function(){return bs.pack}}),Object.defineProperty(vn,"soliditySha256",{enumerable:!0,get:function(){return bs.sha256}});var e0=require$$12;Object.defineProperty(vn,"randomBytes",{enumerable:!0,get:function(){return e0.randomBytes}}),Object.defineProperty(vn,"shuffled",{enumerable:!0,get:function(){return e0.shuffled}});var gs=require$$2$2;Object.defineProperty(vn,"checkProperties",{enumerable:!0,get:function(){return gs.checkProperties}}),Object.defineProperty(vn,"deepCopy",{enumerable:!0,get:function(){return gs.deepCopy}}),Object.defineProperty(vn,"defineReadOnly",{enumerable:!0,get:function(){return gs.defineReadOnly}}),Object.defineProperty(vn,"getStatic",{enumerable:!0,get:function(){return gs.getStatic}}),Object.defineProperty(vn,"resolveProperties",{enumerable:!0,get:function(){return gs.resolveProperties}}),Object.defineProperty(vn,"shallowCopy",{enumerable:!0,get:function(){return gs.shallowCopy}});var Ds=Cn(require$$4$2);vn.RLP=Ds;var i0=require$$15;Object.defineProperty(vn,"computePublicKey",{enumerable:!0,get:function(){return i0.computePublicKey}}),Object.defineProperty(vn,"recoverPublicKey",{enumerable:!0,get:function(){return i0.recoverPublicKey}}),Object.defineProperty(vn,"SigningKey",{enumerable:!0,get:function(){return i0.SigningKey}});var n0=require$$16;Object.defineProperty(vn,"formatBytes32String",{enumerable:!0,get:function(){return n0.formatBytes32String}}),Object.defineProperty(vn,"nameprep",{enumerable:!0,get:function(){return n0.nameprep}}),Object.defineProperty(vn,"parseBytes32String",{enumerable:!0,get:function(){return n0.parseBytes32String}}),Object.defineProperty(vn,"_toEscapedUtf8String",{enumerable:!0,get:function(){return n0._toEscapedUtf8String}}),Object.defineProperty(vn,"toUtf8Bytes",{enumerable:!0,get:function(){return n0.toUtf8Bytes}}),Object.defineProperty(vn,"toUtf8CodePoints",{enumerable:!0,get:function(){return n0.toUtf8CodePoints}}),Object.defineProperty(vn,"toUtf8String",{enumerable:!0,get:function(){return n0.toUtf8String}}),Object.defineProperty(vn,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return n0.Utf8ErrorFuncs}});var c0=require$$1$3;Object.defineProperty(vn,"accessListify",{enumerable:!0,get:function(){return c0.accessListify}}),Object.defineProperty(vn,"computeAddress",{enumerable:!0,get:function(){return c0.computeAddress}}),Object.defineProperty(vn,"parseTransaction",{enumerable:!0,get:function(){return c0.parse}}),Object.defineProperty(vn,"recoverAddress",{enumerable:!0,get:function(){return c0.recoverAddress}}),Object.defineProperty(vn,"serializeTransaction",{enumerable:!0,get:function(){return c0.serialize}}),Object.defineProperty(vn,"TransactionTypes",{enumerable:!0,get:function(){return c0.TransactionTypes}});var d0=require$$18;Object.defineProperty(vn,"commify",{enumerable:!0,get:function(){return d0.commify}}),Object.defineProperty(vn,"formatEther",{enumerable:!0,get:function(){return d0.formatEther}}),Object.defineProperty(vn,"parseEther",{enumerable:!0,get:function(){return d0.parseEther}}),Object.defineProperty(vn,"formatUnits",{enumerable:!0,get:function(){return d0.formatUnits}}),Object.defineProperty(vn,"parseUnits",{enumerable:!0,get:function(){return d0.parseUnits}});var o0=require$$19;Object.defineProperty(vn,"verifyMessage",{enumerable:!0,get:function(){return o0.verifyMessage}}),Object.defineProperty(vn,"verifyTypedData",{enumerable:!0,get:function(){return o0.verifyTypedData}});var g0=require$$1$2;Object.defineProperty(vn,"_fetchData",{enumerable:!0,get:function(){return g0._fetchData}}),Object.defineProperty(vn,"fetchJson",{enumerable:!0,get:function(){return g0.fetchJson}}),Object.defineProperty(vn,"poll",{enumerable:!0,get:function(){return g0.poll}});var w0=require$$10;Object.defineProperty(vn,"SupportedAlgorithm",{enumerable:!0,get:function(){return w0.SupportedAlgorithm}});var M0=require$$16;Object.defineProperty(vn,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return M0.UnicodeNormalizationForm}}),Object.defineProperty(vn,"Utf8ErrorReason",{enumerable:!0,get:function(){return M0.Utf8ErrorReason}})})(utils$t);var eventemitter3={exports:{}};(function(vn){var fn=Object.prototype.hasOwnProperty,En="~";function Cn(){}Object.create&&(Cn.prototype=Object.create(null),new Cn().__proto__||(En=!1));function _i($a,rs,ts){this.fn=$a,this.context=rs,this.once=ts||!1}function An($a,rs,ts,is,cs){if(typeof ts!="function")throw new TypeError("The listener must be a function");var us=new _i(ts,is||$a,cs),ps=En?En+rs:rs;return $a._events[ps]?$a._events[ps].fn?$a._events[ps]=[$a._events[ps],us]:$a._events[ps].push(us):($a._events[ps]=us,$a._eventsCount++),$a}function ba($a,rs){--$a._eventsCount===0?$a._events=new Cn:delete $a._events[rs]}function xa(){this._events=new Cn,this._eventsCount=0}xa.prototype.eventNames=function(){var rs=[],ts,is;if(this._eventsCount===0)return rs;for(is in ts=this._events)fn.call(ts,is)&&rs.push(En?is.slice(1):is);return Object.getOwnPropertySymbols?rs.concat(Object.getOwnPropertySymbols(ts)):rs},xa.prototype.listeners=function(rs){var ts=En?En+rs:rs,is=this._events[ts];if(!is)return[];if(is.fn)return[is.fn];for(var cs=0,us=is.length,ps=new Array(us);cs<us;cs++)ps[cs]=is[cs].fn;return ps},xa.prototype.listenerCount=function(rs){var ts=En?En+rs:rs,is=this._events[ts];return is?is.fn?1:is.length:0},xa.prototype.emit=function(rs,ts,is,cs,us,ps){var bs=En?En+rs:rs;if(!this._events[bs])return!1;var e0=this._events[bs],gs=arguments.length,Ds,i0;if(e0.fn){switch(e0.once&&this.removeListener(rs,e0.fn,void 0,!0),gs){case 1:return e0.fn.call(e0.context),!0;case 2:return e0.fn.call(e0.context,ts),!0;case 3:return e0.fn.call(e0.context,ts,is),!0;case 4:return e0.fn.call(e0.context,ts,is,cs),!0;case 5:return e0.fn.call(e0.context,ts,is,cs,us),!0;case 6:return e0.fn.call(e0.context,ts,is,cs,us,ps),!0}for(i0=1,Ds=new Array(gs-1);i0<gs;i0++)Ds[i0-1]=arguments[i0];e0.fn.apply(e0.context,Ds)}else{var n0=e0.length,c0;for(i0=0;i0<n0;i0++)switch(e0[i0].once&&this.removeListener(rs,e0[i0].fn,void 0,!0),gs){case 1:e0[i0].fn.call(e0[i0].context);break;case 2:e0[i0].fn.call(e0[i0].context,ts);break;case 3:e0[i0].fn.call(e0[i0].context,ts,is);break;case 4:e0[i0].fn.call(e0[i0].context,ts,is,cs);break;default:if(!Ds)for(c0=1,Ds=new Array(gs-1);c0<gs;c0++)Ds[c0-1]=arguments[c0];e0[i0].fn.apply(e0[i0].context,Ds)}}return!0},xa.prototype.on=function(rs,ts,is){return An(this,rs,ts,is,!1)},xa.prototype.once=function(rs,ts,is){return An(this,rs,ts,is,!0)},xa.prototype.removeListener=function(rs,ts,is,cs){var us=En?En+rs:rs;if(!this._events[us])return this;if(!ts)return ba(this,us),this;var ps=this._events[us];if(ps.fn)ps.fn===ts&&(!cs||ps.once)&&(!is||ps.context===is)&&ba(this,us);else{for(var bs=0,e0=[],gs=ps.length;bs<gs;bs++)(ps[bs].fn!==ts||cs&&!ps[bs].once||is&&ps[bs].context!==is)&&e0.push(ps[bs]);e0.length?this._events[us]=e0.length===1?e0[0]:e0:ba(this,us)}return this},xa.prototype.removeAllListeners=function(rs){var ts;return rs?(ts=En?En+rs:rs,this._events[ts]&&ba(this,ts)):(this._events=new Cn,this._eventsCount=0),this},xa.prototype.off=xa.prototype.removeListener,xa.prototype.addListener=xa.prototype.on,xa.prefixed=En,xa.EventEmitter=xa,vn.exports=xa})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter$1=getDefaultExportFromCjs$1(eventemitter3Exports);var define_process_env_default$3={};function getProcessEnv$1(vn){let fn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof process$1<"u"&&define_process_env_default$3[vn]?define_process_env_default$3[vn]:fn}const ContractPublisher_address="0xf5b896Ddb5146D5dA77efF4efBb3Eae36E300808";function getContractPublisherAddress(){return getProcessEnv$1("contractPublisherAddress",ContractPublisher_address)}function isSigner(vn){return!!(vn&&vn._isSigner)}function isProvider(vn){return!!(vn&&vn._isProvider)}const DEFAULT_BATCH_TIME_LIMIT_MS=10,DEFAULT_BATCH_SIZE_LIMIT=200,DEFAULT_BATCH_OPTIONS={timeLimitMs:DEFAULT_BATCH_TIME_LIMIT_MS,sizeLimit:DEFAULT_BATCH_SIZE_LIMIT};class StaticJsonRpcBatchProvider extends StaticJsonRpcProvider{constructor(fn,En){let Cn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:DEFAULT_BATCH_OPTIONS;super(fn,En),this._timeLimitMs=Cn.timeLimitMs||DEFAULT_BATCH_TIME_LIMIT_MS,this._sizeLimit=Cn.sizeLimit||DEFAULT_BATCH_SIZE_LIMIT,this._pendingBatchAggregator=null,this._pendingBatch=null}sendCurrentBatch(fn){this._pendingBatchAggregator&&clearTimeout(this._pendingBatchAggregator);const En=this._pendingBatch||[];this._pendingBatch=null,this._pendingBatchAggregator=null;const Cn=En.map(_i=>_i.request);return this.emit("debug",{action:"requestBatch",request:deepCopy(fn),provider:this}),fetchJson(this.connection,JSON.stringify(Cn)).then(_i=>{this.emit("debug",{action:"response",request:Cn,response:_i,provider:this}),En.forEach((An,ba)=>{const xa=_i[ba];if(xa)if(xa.error){const $a=new Error(xa.error.message);$a.code=xa.error.code,$a.data=xa.error.data,An.reject($a)}else An.resolve(xa.result);else An.reject(new Error("No response for request"))})},_i=>{this.emit("debug",{action:"response",error:_i,request:Cn,provider:this}),En.forEach(An=>{An.reject(_i)})})}send(fn,En){const Cn={method:fn,params:En,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch===null&&(this._pendingBatch=[]);const _i={request:Cn,resolve:null,reject:null},An=new Promise((ba,xa)=>{_i.resolve=ba,_i.reject=xa});return this._pendingBatch.push(_i),this._pendingBatch.length===this._sizeLimit&&this.sendCurrentBatch(Cn),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{this.sendCurrentBatch(Cn)},this._timeLimitMs)),An}}const ChainInfoInputSchema=z$8.object({rpc:z$8.array(z$8.string().url()),chainId:z$8.number(),nativeCurrency:z$8.object({name:z$8.string(),symbol:z$8.string(),decimals:z$8.number()}),slug:z$8.string()}),SDKOptionsSchema=z$8.object({supportedChains:z$8.array(ChainInfoInputSchema).default(defaultChains),clientId:z$8.string().optional(),secretKey:z$8.string().optional(),readonlySettings:z$8.object({rpcUrl:z$8.string().url(),chainId:z$8.number().optional()}).optional(),gasSettings:z$8.object({maxPriceInGwei:z$8.number().min(1,"gas price cannot be less than 1").default(300),speed:z$8.enum(["standard","fast","fastest"]).default("fastest")}).default({maxPriceInGwei:300,speed:"fastest"}),gasless:z$8.union([z$8.object({openzeppelin:z$8.object({relayerUrl:z$8.string().url(),relayerForwarderAddress:z$8.string().optional(),useEOAForwarder:z$8.boolean().default(!1),domainName:z$8.string().default("GSNv2 Forwarder"),domainVersion:z$8.string().default("0.0.1"),domainSeparatorVersion:z$8.string().default("1")}),experimentalChainlessSupport:z$8.boolean().default(!1)}),z$8.object({biconomy:z$8.object({apiId:z$8.string(),apiKey:z$8.string(),deadlineSeconds:z$8.number().min(1,"deadlineSeconds cannot be les than 1").default(3600)})}),z$8.object({engine:z$8.object({relayerUrl:z$8.string().url().transform(vn=>vn.replace(/\/$/,"")),relayerForwarderAddress:z$8.string().optional(),domainName:z$8.string().default("GSNv2 Forwarder"),domainVersion:z$8.string().default("0.0.1"),domainSeparatorVersion:z$8.string().default("1")}),experimentalChainlessSupport:z$8.boolean().default(!1)})]).optional(),gatewayUrls:z$8.array(z$8.string()).optional(),rpcBatchSettings:z$8.object({sizeLimit:z$8.number().default(200),timeLimit:z$8.number().default(10)}).optional()}).default({gasSettings:{maxPriceInGwei:300,speed:"fastest"}});var pkg$2={name:"@thirdweb-dev/sdk",version:"4.0.99",description:"The main thirdweb SDK.",repository:"https://github.com/thirdweb-dev/js/tree/main/legacy_packages/sdk",license:"Apache-2.0",main:"dist/thirdweb-dev-sdk.cjs.js",module:"dist/thirdweb-dev-sdk.esm.js",browser:{"./dist/thirdweb-dev-sdk.esm.js":"./dist/thirdweb-dev-sdk.browser.esm.js"},exports:{".":{module:{browser:"./dist/thirdweb-dev-sdk.browser.esm.js",default:"./dist/thirdweb-dev-sdk.esm.js"},default:"./dist/thirdweb-dev-sdk.cjs.js"},"./evm":{module:{browser:"./evm/dist/thirdweb-dev-sdk-evm.browser.esm.js",default:"./evm/dist/thirdweb-dev-sdk-evm.esm.js"},default:"./evm/dist/thirdweb-dev-sdk-evm.cjs.js"},"./evm/zksync":{module:{browser:"./evm/zksync/dist/thirdweb-dev-sdk-evm-zksync.browser.esm.js",default:"./evm/zksync/dist/thirdweb-dev-sdk-evm-zksync.esm.js"},default:"./evm/zksync/dist/thirdweb-dev-sdk-evm-zksync.cjs.js"},"./evm/functions":{module:{browser:"./evm/functions/dist/thirdweb-dev-sdk-evm-functions.browser.esm.js",default:"./evm/functions/dist/thirdweb-dev-sdk-evm-functions.esm.js"},default:"./evm/functions/dist/thirdweb-dev-sdk-evm-functions.cjs.js"},"./package.json":"./package.json"},files:["dist/","evm/","server/"],preconstruct:{entrypoints:["index.ts","evm/index.ts","evm/functions/index.ts","evm/zksync/index.ts"],exports:{envConditions:["browser"]}},sideEffects:!1,scripts:{format:"prettier --write 'src/**/*'",lint:"eslint src/",fix:"eslint src/ --fix",clean:"rm -rf dist/","generate-docs":"mkdir -p etc && pnpm generate-docs:evm && pnpm generate-snippets","generate-docs:evm":"api-extractor run --local --config ./config/api-extractor-evm.json && api-documenter markdown -i ./temp -o ./docs/evm && rm -rf ./temp-evm && mv ./temp ./temp-evm","generate-snippets":"node ./scripts/generate-snippets.mjs && node ./scripts/generate-feature-snippets-evm.mjs",build:"tsc && preconstruct build","test:all":"SWC_NODE_PROJECT=./tsconfig.test.json nyc --reporter lcovonly --report-dir ./coverage/evm mocha --config './test/evm/.mocharc.json' --timeout 180000 --parallel './test/evm/**/*.test.ts'",test:"make test-evm","test:single":"SWC_NODE_PROJECT=./tsconfig.test.json mocha --config './test/evm/.mocharc.json' --timeout 90000",push:"yalc push",typedoc:"node scripts/typedoc.mjs"},devDependencies:{"@aws-sdk/client-secrets-manager":"^3.549.0","@ethersproject/abstract-provider":"^5.7.0","@microsoft/api-documenter":"^7.24.5","@microsoft/api-extractor":"^7.43.0","@microsoft/tsdoc":"^0.14.2","@nomiclabs/hardhat-ethers":"^2.2.3","@preconstruct/cli":"2.7.0","@swc-node/register":"^1.9.0","@swc/core":"^1.5.24","@thirdweb-dev/tsconfig":"^0.1.7","@types/bn.js":"^5.1.5","@types/chai":"^4.3.14","@types/deep-equal-in-any-order":"^1.0.3","@types/mocha":"^10.0.6","@types/node":"20.12.7","@types/uuid":"^9.0.8",chai:"^4.4.1","deep-equal-in-any-order":"^1.1.20","dotenv-mono":"^1.3.14",eslint:"8.57.0","eslint-config-thirdweb":"^0.1.9","eslint-plugin-better-tree-shaking":"0.0.4","eslint-plugin-import":"^2.29.1","eslint-plugin-inclusive-language":"^2.2.1","eslint-plugin-prettier":"^5.1.3","eslint-plugin-tsdoc":"^0.3.0",ethers:"^5.7.2","ethers-aws-kms-signer":"^1.3.2",hardhat:"^2.22.2",mocha:"10.4.0",nyc:"^15.1.0",rimraf:"5.0.5","typedoc-gen":"^1.0.2",typescript:"5.4.4","zksync-ethers":"^5.7.0"},peerDependencies:{"@aws-sdk/client-secrets-manager":"^3.215.0",ethers:"^5","ethers-aws-kms-signer":"^1.3.2","zksync-ethers":"^5.6.0"},peerDependenciesMeta:{"@aws-sdk/client-secrets-manager":{optional:!0},"ethers-aws-kms-signer":{optional:!0},"zksync-ethers":{optional:!0}},dependencies:{"@eth-optimism/sdk":"3.3.2","@thirdweb-dev/chains":"0.1.120","@thirdweb-dev/contracts-js":"1.3.23","@thirdweb-dev/crypto":"0.2.6","@thirdweb-dev/generated-abis":"0.0.2","@thirdweb-dev/merkletree":"0.2.6","@thirdweb-dev/storage":"2.0.15",abitype:"1.0.0","bn.js":"5.2.1",bs58:"^5.0.0",buffer:"^6.0.3",eventemitter3:"^5.0.1","fast-deep-equal":"^3.1.3",thirdweb:"5.29.6","tiny-invariant":"^1.3.3",tweetnacl:"^1.0.3",uuid:"^9.0.1",yaml:"^2.4.1",zod:"^3.22.4"},bugs:{url:"https://github.com/thirdweb-dev/js/issues"},author:"thirdweb eng <eng@thirdweb.com>",engines:{node:">=18"}};const operatingSystemRules$3=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detectOS$4(vn){for(let fn=0,En=operatingSystemRules$3.length;fn<En;fn++){const Cn=operatingSystemRules$3[fn];if(!Cn)continue;const[_i,An]=Cn;if(An.exec(vn))return _i}return null}function getOperatingSystem$2(){if(typeof navigator<"u"&&navigator.product==="ReactNative")return"";{const vn=navigator.userAgent;return detectOS$4(vn)||""}}function setAnalyticsHeaders$2(vn){const fn=getAnalyticsGlobals$3();vn["x-sdk-version"]=fn.x_sdk_version,vn["x-sdk-name"]=fn.x_sdk_name,vn["x-sdk-platform"]=fn.x_sdk_platform,vn["x-sdk-os"]=fn.x_sdk_os}function getAnalyticsHeaders$1(){const vn=getAnalyticsGlobals$3();return{"x-sdk-version":vn.x_sdk_version,"x-sdk-os":vn.x_sdk_os,"x-sdk-name":vn.x_sdk_name,"x-sdk-platform":vn.x_sdk_platform,...vn.app_bundle_id?{"x-bundle-id":vn.app_bundle_id}:{}}}function getAnalyticsGlobals$3(){return typeof globalThis>"u"?{x_sdk_name:pkg$2.name,x_sdk_platform:getPlatform$2(),x_sdk_version:pkg$2.version,x_sdk_os:getOperatingSystem$2(),app_bundle_id:void 0}:(globalThis.X_SDK_NAME===void 0&&(globalThis.X_SDK_NAME=pkg$2.name,globalThis.X_SDK_PLATFORM=getPlatform$2(),globalThis.X_SDK_VERSION=pkg$2.version,globalThis.X_SDK_OS=getOperatingSystem$2(),globalThis.APP_BUNDLE_ID=void 0),{x_sdk_name:globalThis.X_SDK_NAME,x_sdk_platform:globalThis.X_SDK_PLATFORM,x_sdk_version:globalThis.X_SDK_VERSION,x_sdk_os:globalThis.X_SDK_OS,app_bundle_id:globalThis.APP_BUNDLE_ID||""})}function getPlatform$2(){return typeof navigator<"u"&&navigator.product==="ReactNative"?"mobile":"browser"}function buildDefaultMap(vn){return vn.supportedChains.reduce((fn,En)=>(fn[En.chainId]||(fn[En.chainId]=En),fn),{})}function getChainProvider(vn,fn){if(typeof vn=="string"&&isRpcUrl(vn))return getProviderFromRpcUrl(vn,fn);const En=SDKOptionsSchema.parse(fn);isChainConfig(vn)&&(En.supportedChains=[vn,...En.supportedChains.filter(ba=>ba.chainId===vn.chainId)]);const Cn=buildDefaultMap(En);let _i="",An;try{An=getChainIdFromNetwork(vn,En),_i=getValidChainRPCs(Cn[An],En.clientId)[0]}catch{}if(_i||(_i=`https://${An||vn}.rpc.thirdweb.com/${En.clientId||""}`),!_i)throw new Error(`No rpc url found for chain ${vn}. Please provide a valid rpc url via the 'supportedChains' property of the sdk options.`);return getProviderFromRpcUrl(_i,fn,An)}function getChainIdFromNetwork(vn,fn){if(isChainConfig(vn))return vn.chainId;if(typeof vn=="number")return vn;{const En=fn.supportedChains.reduce((Cn,_i)=>(Cn[_i.slug]=_i.chainId,Cn),{});if(vn in En)return En[vn]}throw new Error(`Cannot resolve chainId from: ${vn} - please pass the chainId instead and specify it in the 'supportedChains' property of the SDK options.`)}function isChainConfig(vn){return typeof vn!="string"&&typeof vn!="number"&&!isSigner(vn)&&!isProvider(vn)}function isRpcUrl(vn){const fn=vn.match(/^(ws|http)s?:/i);if(fn)switch(fn[1].toLowerCase()){case"http":case"https":case"ws":case"wss":return!0}return!1}const RPC_PROVIDER_MAP=new Map;function getProviderFromRpcUrl(vn,fn,En){try{const Cn={};let _i="none";if(isTwUrl$1(vn)){if(fn!=null&&fn.secretKey)throw new Error("Cannot use secretKey in browser context");if(fn!=null&&fn.clientId){const xa=new URL(vn);xa.pathname=fn.clientId,Cn["x-client-id"]=fn.clientId,vn=xa.toString(),_i="clientId"}typeof globalThis<"u"&&"TW_AUTH_TOKEN"in globalThis&&typeof globalThis.TW_AUTH_TOKEN=="string"&&(Cn.authorization=`Bearer ${globalThis.TW_AUTH_TOKEN}`,_i="twAuthToken"),typeof globalThis<"u"&&"TW_CLI_AUTH_TOKEN"in globalThis&&typeof globalThis.TW_CLI_AUTH_TOKEN=="string"&&(Cn["x-authorize-wallet"]="true"),setAnalyticsHeaders$2(Cn);const ba=typeof globalThis<"u"&&"APP_BUNDLE_ID"in globalThis?globalThis.APP_BUNDLE_ID:void 0;!vn.includes("bundleId")&&ba&&(vn=vn+(ba?`?bundleId=${ba}`:""))}const An=vn.match(/^(ws|http)s?:/i);if(An)switch(An[1].toLowerCase()){case"http":case"https":const ba=`${vn}-${En||-1}-${_i}`,xa=RPC_PROVIDER_MAP.get(ba);if(xa)return xa;let $a=!1;typeof globalThis<"u"&&"TW_SKIP_FETCH_SETUP"in globalThis&&typeof globalThis.TW_SKIP_FETCH_SETUP=="boolean"&&($a=globalThis.TW_SKIP_FETCH_SETUP);const rs=En?new StaticJsonRpcBatchProvider({url:vn,headers:Cn,skipFetchSetup:$a},En,fn==null?void 0:fn.rpcBatchSettings):new JsonRpcBatchProvider({url:vn,headers:Cn,skipFetchSetup:$a});return RPC_PROVIDER_MAP.set(ba,rs),rs;case"ws":case"wss":return new WebSocketProvider(vn,En)}}catch{}return getDefaultProvider(vn)}function isTwUrl$1(vn){return new URL(vn).hostname.endsWith(".thirdweb.com")}function getSignerAndProvider(vn,fn){let En,Cn;if(isSigner(vn)?(En=vn,vn.provider&&(Cn=vn.provider)):isProvider(vn)?Cn=vn:Cn=getChainProvider(vn,fn),fn!=null&&fn.readonlySettings&&(Cn=getProviderFromRpcUrl(fn.readonlySettings.rpcUrl,fn,fn.readonlySettings.chainId)),!Cn)throw En?new Error("No provider passed to the SDK! Please make sure that your signer is connected to a provider!"):new Error("No provider found! Make sure to specify which network to connect to, or pass a signer or provider to the SDK!");return[En,Cn]}let provider;const ENS_CACHE=new Map;async function resolveEns(vn){let fn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;provider||(provider=getSignerAndProvider("ethereum")[1]);let En;ENS_CACHE.has(vn)?En=ENS_CACHE.get(vn):En=provider.resolveName(vn).then(_i=>_i?{address:_i,expirationTime:new Date(Date.now()+1e3*60*5)}:{address:null,expirationTime:new Date(Date.now()+1e3*30)});const Cn=await En;return Cn.expirationTime<new Date&&(ENS_CACHE.delete(vn),fn===0&&resolveEns(vn,fn+1)),Cn.address}const EnsSchema=z$8.custom(vn=>typeof vn=="string"&&(vn.endsWith(".eth")||vn.endsWith(".cb.id"))).transform(async vn=>resolveEns(vn)).refine(vn=>!!vn&&isAddress(vn),{message:"Provided value was not a valid ENS name"}),AddressSchema$1=z$8.custom(vn=>typeof vn=="string"&&isAddress(vn),vn=>({message:`${vn} is not a valid address`})),AddressOrEnsSchema=z$8.union([AddressSchema$1,EnsSchema],{invalid_type_error:"Provided value was not a valid address or ENS name"});async function resolveAddress(vn){return AddressOrEnsSchema.parseAsync(vn)}const FileOrBufferUnionSchema=z$8.instanceof(File),FileOrBufferSchema=z$8.union([FileOrBufferUnionSchema,z$8.object({data:z$8.union([FileOrBufferUnionSchema,z$8.string()]),name:z$8.string()})]),FileOrBufferOrStringSchema=z$8.union([FileOrBufferSchema,z$8.string()]),MAX_BPS=1e4,BytesLikeSchema=z$8.union([z$8.array(z$8.number()),z$8.string()]),BigNumberTransformSchema$1=z$8.union([z$8.bigint(),z$8.custom(vn=>BigNumber.isBigNumber(vn)),z$8.custom(vn=>BN$h.isBN(vn))]).transform(vn=>BN$h.isBN(vn)?new BN$h(vn).toString():BigNumber.from(vn).toString()),BasisPointsSchema=z$8.number().max(MAX_BPS,"Cannot exceed 100%").min(0,"Cannot be below 0%"),PercentSchema=z$8.number().max(100,"Cannot exceed 100%").min(0,"Cannot be below 0%"),HexColor=z$8.union([z$8.string().regex(/^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,"Invalid hex color"),z$8.string().regex(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,"Invalid hex color").transform(vn=>vn.replace("#","")),z$8.string().length(0)]),AmountSchema=z$8.union([z$8.string().regex(/^([0-9]+\.?[0-9]*|\.[0-9]+)$/,"Invalid amount"),z$8.number().min(0,"Amount cannot be negative")]).transform(vn=>typeof vn=="number"?vn.toString():vn),QuantitySchema=z$8.union([AmountSchema,z$8.literal("unlimited")]).default("unlimited"),MAX_LENGTH=256,NUMERIC_IDENTIFIER="0|[1-9]\\d*",MAIN_VERSION_IDENTIFIER=`(${NUMERIC_IDENTIFIER})\\.(${NUMERIC_IDENTIFIER})\\.(${NUMERIC_IDENTIFIER})`,REGEX_MAIN_VERSION=new RegExp(MAIN_VERSION_IDENTIFIER);function toSemver(vn){if(vn.length>MAX_LENGTH)throw new Error(`version is longer than ${MAX_LENGTH} characters`);const fn=vn.trim().match(REGEX_MAIN_VERSION);if(!fn||(fn==null?void 0:fn.length)!==4)throw new Error(`${vn} is not a valid semantic version. Should be in the format of major.minor.patch. Ex: 0.4.1`);const En=Number(fn[1]),Cn=Number(fn[2]),_i=Number(fn[3]),An=[En,Cn,_i].join(".");return{major:En,minor:Cn,patch:_i,versionString:An}}function isIncrementalVersion(vn,fn){const En=toSemver(vn),Cn=toSemver(fn);if(Cn.major>En.major)return!0;const _i=Cn.major===En.major;if(_i&&Cn.minor>En.minor)return!0;const An=Cn.minor===En.minor;return _i&&An&&Cn.patch>En.patch}const BigNumberSchema=z$8.union([z$8.string(),z$8.number(),z$8.bigint(),z$8.custom(vn=>BigNumber.isBigNumber(vn))]).transform(vn=>BigNumber.from(vn)),BigNumberishSchema=BigNumberSchema.transform(vn=>vn.toString()),BigNumberTransformSchema=z$8.union([z$8.bigint(),z$8.custom(vn=>BigNumber.isBigNumber(vn))]).transform(vn=>BigNumber.from(vn).toString()),CommonContractSchema=z$8.object({name:z$8.string(),description:z$8.string().optional(),image:FileOrBufferOrStringSchema.optional(),external_link:z$8.string().optional(),app_uri:z$8.string().optional(),social_urls:z$8.record(z$8.string()).optional(),defaultAdmin:AddressOrEnsSchema.optional()}).catchall(z$8.unknown()),CommonContractOutputSchema=CommonContractSchema.extend({image:z$8.string().optional()}).catchall(z$8.unknown()),CommonRoyaltySchema=z$8.object({seller_fee_basis_points:BasisPointsSchema.default(0),fee_recipient:AddressOrEnsSchema.default(AddressZero$1)}),CommonPrimarySaleSchema=z$8.object({primary_sale_recipient:AddressOrEnsSchema.default(AddressZero$1)}),CommonPlatformFeeSchema=z$8.object({platform_fee_basis_points:BasisPointsSchema.default(0),platform_fee_recipient:AddressOrEnsSchema.default(AddressZero$1)}),CommonTrustedForwarderSchema=z$8.object({trusted_forwarders:z$8.array(AddressOrEnsSchema).default([])}),CommonSymbolSchema=z$8.object({symbol:z$8.string().default("")}),MerkleSchema=z$8.object({merkle:z$8.record(z$8.string()).default({})}),SnapshotEntryInput=z$8.object({address:AddressOrEnsSchema,maxClaimable:QuantitySchema.default(0),price:QuantitySchema.optional(),currencyAddress:AddressOrEnsSchema.default(AddressZero$1).optional()}),SnapshotInputSchema=z$8.union([z$8.array(z$8.string()).transform(async vn=>await Promise.all(vn.map(fn=>SnapshotEntryInput.parseAsync({address:fn})))),z$8.array(SnapshotEntryInput)]),SnapshotEntryWithProofSchema=SnapshotEntryInput.extend({proof:z$8.array(z$8.string())}),SnapshotSchema=z$8.object({merkleRoot:z$8.string(),claims:z$8.array(SnapshotEntryWithProofSchema)}),BYOCContractMetadataSchema=CommonContractSchema.catchall(z$8.union([BigNumberTransformSchema,z$8.unknown()])),CustomContractInput=BYOCContractMetadataSchema.merge(CommonRoyaltySchema.merge(MerkleSchema).merge(CommonSymbolSchema).partial()).catchall(z$8.any()),CustomContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema.merge(MerkleSchema).merge(CommonSymbolSchema).partial()).catchall(z$8.any()),CustomContractDeploy=CustomContractInput.merge(CommonPlatformFeeSchema.merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema).partial()),CustomContractSchema={deploy:CustomContractDeploy,output:CustomContractOutput,input:CustomContractInput},AbiTypeBaseSchema=z$8.object({type:z$8.string(),name:z$8.string().default("")}).catchall(z$8.any()),AbiTypeSchema=AbiTypeBaseSchema.extend({stateMutability:z$8.string().optional(),components:z$8.array(AbiTypeBaseSchema).optional()}).catchall(z$8.any()),AbiObjectSchema=z$8.object({type:z$8.string(),name:z$8.string().default(""),inputs:z$8.array(AbiTypeSchema).default([]),outputs:z$8.array(AbiTypeSchema).default([])}).catchall(z$8.any()),AbiSchema=z$8.array(AbiObjectSchema),CompilerTypeInput=z$8.union([z$8.literal("solc"),z$8.literal("zksolc")]),PreDeployMetadata=z$8.object({name:z$8.string(),metadataUri:z$8.string(),bytecodeUri:z$8.string(),analytics:z$8.any().optional(),compilers:z$8.record(CompilerTypeInput,z$8.array(z$8.object({compilerVersion:z$8.string().optional(),evmVersion:z$8.string().optional(),metadataUri:z$8.string(),bytecodeUri:z$8.string()}))).optional()}).catchall(z$8.any()),ChainIdToAddressSchema=z$8.record(z$8.string(),z$8.string()),CustomFactoryInput=z$8.object({factoryFunction:z$8.string(),params:z$8.array(z$8.object({name:z$8.string(),type:z$8.string()})).default([]),customFactoryAddresses:ChainIdToAddressSchema}),ModularFactoryInput=z$8.object({hooksParamName:z$8.string()}),FactoryDeploymentSchema=z$8.object({implementationAddresses:ChainIdToAddressSchema,implementationInitializerFunction:z$8.string().default("initialize"),customFactoryInput:CustomFactoryInput.optional(),modularFactoryInput:ModularFactoryInput.optional(),factoryAddresses:ChainIdToAddressSchema.optional()}),DeployTypeInput=z$8.union([z$8.literal("standard"),z$8.literal("autoFactory"),z$8.literal("customFactory")]),RouterTypeInput=z$8.union([z$8.literal("none"),z$8.literal("plugin"),z$8.literal("dynamic"),z$8.literal("modular")]),DeploymentNetworkInput=z$8.object({allNetworks:z$8.boolean().optional(),networksEnabled:z$8.array(z$8.number()).default([])}),ExtraPublishMetadataSchemaInput=z$8.object({version:z$8.string().refine(vn=>{try{return toSemver(vn),!0}catch{return!1}},vn=>({message:`'${vn}' is not a valid semantic version. Should be in the format of major.minor.patch. Ex: 0.4.1`})),displayName:z$8.string().optional(),description:z$8.string().optional(),externalLinks:z$8.array(z$8.object({name:z$8.string(),url:z$8.string()})).optional(),readme:z$8.string().optional(),license:z$8.string().optional(),changelog:z$8.string().optional(),tags:z$8.array(z$8.string()).optional(),audit:FileOrBufferOrStringSchema.nullable().optional(),logo:FileOrBufferOrStringSchema.nullable().optional(),isDeployableViaFactory:z$8.boolean().optional(),isDeployableViaProxy:z$8.boolean().optional(),factoryDeploymentData:FactoryDeploymentSchema.optional(),deployType:DeployTypeInput.optional(),routerType:RouterTypeInput.optional(),defaultExtensions:z$8.array(z$8.object({extensionName:z$8.string(),extensionVersion:z$8.string().default("latest"),publisherAddress:AddressOrEnsSchema})).optional(),networksForDeployment:DeploymentNetworkInput.optional(),constructorParams:z$8.record(z$8.string(),z$8.object({displayName:z$8.string().optional(),description:z$8.string().optional(),defaultValue:z$8.string().optional(),hidden:z$8.boolean().optional()}).catchall(z$8.any())).optional(),compositeAbi:AbiSchema.optional()}).catchall(z$8.any()),ExtraPublishMetadataSchemaOutput=ExtraPublishMetadataSchemaInput.extend({audit:z$8.string().nullable().optional(),logo:z$8.string().nullable().optional()}),FullPublishMetadataSchemaInput=PreDeployMetadata.merge(ExtraPublishMetadataSchemaInput).extend({publisher:AddressOrEnsSchema.optional()}),FullPublishMetadataSchemaOutput=PreDeployMetadata.merge(ExtraPublishMetadataSchemaOutput).extend({publisher:AddressOrEnsSchema.optional()}),ProfileSchemaInput=z$8.object({name:z$8.string().optional(),bio:z$8.string().optional(),avatar:FileOrBufferOrStringSchema.nullable().optional(),website:z$8.string().optional(),twitter:z$8.string().optional(),telegram:z$8.string().optional(),facebook:z$8.string().optional(),github:z$8.string().optional(),medium:z$8.string().optional(),linkedin:z$8.string().optional(),reddit:z$8.string().optional(),discord:z$8.string().optional()}),ProfileSchemaOutput=ProfileSchemaInput.extend({avatar:z$8.string().nullable().optional()}),PublishedContractSchema=z$8.object({id:z$8.string(),timestamp:BigNumberishSchema,metadataUri:z$8.string()}),ContractInfoSchema=z$8.object({title:z$8.string().optional(),author:z$8.string().optional(),details:z$8.string().optional(),notice:z$8.string().optional()}),CompilerMetadataFetchedSchema=z$8.object({name:z$8.string(),abi:AbiSchema,metadata:z$8.record(z$8.string(),z$8.any()),info:ContractInfoSchema,licenses:z$8.array(z$8.string().optional()).default([]).transform(vn=>vn.filter(fn=>fn!==void 0)),isPartialAbi:z$8.boolean().optional()}),PreDeployMetadataFetchedSchema=PreDeployMetadata.merge(CompilerMetadataFetchedSchema).extend({bytecode:z$8.string(),fetchedMetadataUri:z$8.string(),fetchedBytecodeUri:z$8.string()});async function fetchExtendedReleaseMetadata(vn,fn){const En=await(await fn.download(vn)).text();return FullPublishMetadataSchemaOutput.parse(JSON.parse(En))}const CONTRACT_METADATA_TIMEOUT_SEC=2;async function fetchContractMetadata(vn,fn){const En=await fn.downloadJSON(vn,{timeoutInSeconds:CONTRACT_METADATA_TIMEOUT_SEC});if(!En||!En.output)throw new Error(`Could not resolve metadata for contract at ${vn}`);return formatCompilerMetadata(En)}function formatCompilerMetadata(vn){const fn=AbiSchema.parse(vn.output.abi),En=vn.settings.compilationTarget,Cn=Object.keys(En),_i=En[Cn[0]],An=ContractInfoSchema.parse({title:vn.output.devdoc.title,author:vn.output.devdoc.author,details:vn.output.devdoc.detail,notice:vn.output.userdoc.notice}),ba=[...new Set(Object.entries(vn.sources).map(xa=>{let[,$a]=xa;return $a.license}))];return{name:_i,abi:fn,metadata:vn,info:An,licenses:ba,isPartialAbi:vn.isPartialAbi}}async function fetchRawPredeployMetadata(vn,fn){return PreDeployMetadata.parse(JSON.parse(await(await fn.download(vn)).text()))}async function fetchPreDeployMetadata(vn,fn,En){const Cn=await fetchRawPredeployMetadata(vn,fn);let _i,An;_i=Cn.bytecodeUri,An=Cn.metadataUri;const[ba,xa]=await Promise.all([fn.download(_i),fetchContractMetadata(An,fn)]);return PreDeployMetadataFetchedSchema.parse({...Cn,...xa,bytecode:await ba.text(),fetchedMetadataUri:An,fetchedBytecodeUri:_i})}const isBrowser$1=()=>!0,isNode=()=>!isBrowser$1();function unique(vn,fn){if(vn.length===0||vn.length===1||!fn)return vn;for(let En=0;En<vn.length;En++)for(let Cn=En+1;Cn<vn.length;Cn++)fn(vn[En],vn[Cn])&&(vn.splice(Cn,1),Cn--);return vn}function createLruCache(vn){let fn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Map;function En(An,ba){if(fn.size>=vn){const xa=fn.keys().next().value;fn.delete(xa)}fn.set(An,ba)}function Cn(An){if(!fn.has(An))return;const xa=fn.get(An);return fn.delete(An),fn.set(An,xa),xa}function _i(An){return fn.has(An)}return{put:En,get:Cn,has:_i,maxEntries:vn,store:fn}}const deployMetadataCache=createLruCache(20);async function fetchAndCacheDeployMetadata(vn,fn,En){const _i=`default_${vn}`,An=deployMetadataCache.get(_i);if(An)return An;const ba=await fetchPreDeployMetadata(vn,fn);let xa;try{xa=await fetchExtendedReleaseMetadata(vn,fn)}catch{}const $a={compilerMetadata:ba,extendedMetadata:xa};return deployMetadataCache.put(_i,$a),$a}let supportedChains=defaultChains;function setSupportedChains(vn){vn&&vn.length>0?supportedChains=vn:supportedChains=defaultChains}function getSupportedChains(){return supportedChains}const THIRDWEB_DEPLOYER$1="0xdd99b75f095d0c4d5112aCe938e4e6ed962fb024";async function fetchPublishedContractFromPolygon(vn,fn){let En=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"latest",Cn=arguments.length>3?arguments[3]:void 0,_i=arguments.length>4?arguments[4]:void 0,An=arguments.length>5?arguments[5]:void 0;const xa=getSupportedChains().find(cs=>cs.chainId===137)||c137,$a=await resolveAddress(vn),rs=(await __vitePreload(async()=>{const{default:cs}=await Promise.resolve().then(()=>ContractPublisher$1);return{default:cs}},void 0)).default,ts=new Contract(getContractPublisherAddress(),rs,getChainProvider(xa,{clientId:_i,secretKey:An}));let is;if(!En||En==="latest"){const cs=await ts.getPublishedContract($a,fn);is=PublishedContractSchema.parse({id:cs.contractId,timestamp:cs.publishTimestamp,metadataUri:cs.publishMetadataUri})}else{const cs=(await ts.getPublishedContractVersions($a,fn)).map(bs=>PublishedContractSchema.parse({id:bs.contractId,timestamp:bs.publishTimestamp,metadataUri:bs.publishMetadataUri})),ps=(await Promise.all(cs.map(bs=>fetchAndCacheDeployMetadata(bs.metadataUri,Cn)))).map((bs,e0)=>({name:cs[e0].id,publishedTimestamp:cs[e0].timestamp,publishedMetadata:bs})).find(bs=>{var e0;return((e0=bs.publishedMetadata.extendedMetadata)==null?void 0:e0.version)===En});invariant(ps),is=cs.find(bs=>bs.timestamp===ps.publishedTimestamp)}if(!is)throw new Error(`No published contract found for ${fn} at version by '${THIRDWEB_DEPLOYER$1}'`);return is}async function getPrebuiltInfo(vn,fn){try{const En=(await __vitePreload(async()=>{const{default:xa}=await import("./IThirdwebContract-D7esr-g0.js");return{default:xa}},[])).default,Cn=new Contract(vn,En,fn),[_i,An]=await Promise.all([Cn.contractType(),Cn.contractVersion()]);return{type:toUtf8String(_i).replace(/\x00/g,""),version:An}}catch{return}}let decoder;try{decoder=new TextDecoder}catch{}let src$7,srcEnd,position=0;const LEGACY_RECORD_INLINE_ID=105,RECORD_DEFINITIONS_ID=57342,RECORD_INLINE_ID=57343,BUNDLED_STRINGS_ID=57337,PACKED_REFERENCE_TAG_ID=6,STOP_CODE={};let currentDecoder={},currentStructures,srcString,srcStringStart=0,srcStringEnd=0,bundledStrings,referenceMap,currentExtensions=[],currentExtensionRanges=[],packedValues,dataView,restoreMapsAsObject,defaultOptions={useRecords:!1,mapsAsObjects:!0},sequentialMode=!1,Decoder$1=class Ql{constructor(fn){if(fn&&((fn.keyMap||fn._keyMap)&&!fn.useRecords&&(fn.useRecords=!1,fn.mapsAsObjects=!0),fn.useRecords===!1&&fn.mapsAsObjects===void 0&&(fn.mapsAsObjects=!0),fn.getStructures&&(fn.getShared=fn.getStructures),fn.getShared&&!fn.structures&&((fn.structures=[]).uninitialized=!0),fn.keyMap)){this.mapKey=new Map;for(let[En,Cn]of Object.entries(fn.keyMap))this.mapKey.set(Cn,En)}Object.assign(this,fn)}decodeKey(fn){return this.keyMap&&this.mapKey.get(fn)||fn}decode(fn,En){if(src$7)return saveState(()=>(clearSource(),this?this.decode(fn,En):Ql.prototype.decode.call(defaultOptions,fn,En)));srcEnd=En>-1?En:fn.length,position=0,srcStringEnd=0,srcString=null,bundledStrings=null,src$7=fn;try{dataView=fn.dataView||(fn.dataView=new DataView(fn.buffer,fn.byteOffset,fn.byteLength))}catch(Cn){throw src$7=null,fn instanceof Uint8Array?Cn:new Error("Source must be a Uint8Array or Buffer but was a "+(fn&&typeof fn=="object"?fn.constructor.name:typeof fn))}if(this instanceof Ql){if(currentDecoder=this,packedValues=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return currentStructures=this.structures,checkedRead();(!currentStructures||currentStructures.length>0)&&(currentStructures=[])}else currentDecoder=defaultOptions,(!currentStructures||currentStructures.length>0)&&(currentStructures=[]),packedValues=null;return checkedRead()}};function checkedRead(){try{let vn=read$3();if(bundledStrings){if(position>=bundledStrings.postBundlePosition){let fn=new Error("Unexpected bundle position");throw fn.incomplete=!0,fn}position=bundledStrings.postBundlePosition,bundledStrings=null}if(position==srcEnd)currentStructures=null,src$7=null,referenceMap&&(referenceMap=null);else if(position>srcEnd){let fn=new Error("Unexpected end of CBOR data");throw fn.incomplete=!0,fn}else if(!sequentialMode)throw new Error("Data read, but end of buffer not reached");return vn}catch(vn){throw clearSource(),(vn instanceof RangeError||vn.message.startsWith("Unexpected end of buffer"))&&(vn.incomplete=!0),vn}}function read$3(){let vn=src$7[position++],fn=vn>>5;if(vn=vn&31,vn>23)switch(vn){case 24:vn=src$7[position++];break;case 25:if(fn==7)return getFloat16();vn=dataView.getUint16(position),position+=2;break;case 26:if(fn==7){let En=dataView.getFloat32(position);if(currentDecoder.useFloat32>2){let Cn=mult10[(src$7[position]&127)<<1|src$7[position+1]>>7];return position+=4,(Cn*En+(En>0?.5:-.5)>>0)/Cn}return position+=4,En}vn=dataView.getUint32(position),position+=4;break;case 27:if(fn==7){let En=dataView.getFloat64(position);return position+=8,En}if(fn>1){if(dataView.getUint32(position)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");vn=dataView.getUint32(position+4)}else currentDecoder.int64AsNumber?(vn=dataView.getUint32(position)*4294967296,vn+=dataView.getUint32(position+4)):vn=dataView.getBigUint64(position);position+=8;break;case 31:switch(fn){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let En=[],Cn,_i=0;for(;(Cn=read$3())!=STOP_CODE;)En[_i++]=Cn;return fn==4?En:fn==3?En.join(""):Buffer$7.concat(En);case 5:let An;if(currentDecoder.mapsAsObjects){let ba={};if(currentDecoder.keyMap)for(;(An=read$3())!=STOP_CODE;)ba[safeKey(currentDecoder.decodeKey(An))]=read$3();else for(;(An=read$3())!=STOP_CODE;)ba[safeKey(An)]=read$3();return ba}else{restoreMapsAsObject&&(currentDecoder.mapsAsObjects=!0,restoreMapsAsObject=!1);let ba=new Map;if(currentDecoder.keyMap)for(;(An=read$3())!=STOP_CODE;)ba.set(currentDecoder.decodeKey(An),read$3());else for(;(An=read$3())!=STOP_CODE;)ba.set(An,read$3());return ba}case 7:return STOP_CODE;default:throw new Error("Invalid major type for indefinite length "+fn)}default:throw new Error("Unknown token "+vn)}switch(fn){case 0:return vn;case 1:return~vn;case 2:return readBin(vn);case 3:if(srcStringEnd>=position)return srcString.slice(position-srcStringStart,(position+=vn)-srcStringStart);if(srcStringEnd==0&&srcEnd<140&&vn<32){let _i=vn<16?shortStringInJS(vn):longStringInJS(vn);if(_i!=null)return _i}return readFixedString(vn);case 4:let En=new Array(vn);for(let _i=0;_i<vn;_i++)En[_i]=read$3();return En;case 5:if(currentDecoder.mapsAsObjects){let _i={};if(currentDecoder.keyMap)for(let An=0;An<vn;An++)_i[safeKey(currentDecoder.decodeKey(read$3()))]=read$3();else for(let An=0;An<vn;An++)_i[safeKey(read$3())]=read$3();return _i}else{restoreMapsAsObject&&(currentDecoder.mapsAsObjects=!0,restoreMapsAsObject=!1);let _i=new Map;if(currentDecoder.keyMap)for(let An=0;An<vn;An++)_i.set(currentDecoder.decodeKey(read$3()),read$3());else for(let An=0;An<vn;An++)_i.set(read$3(),read$3());return _i}case 6:if(vn>=BUNDLED_STRINGS_ID){let _i=currentStructures[vn&8191];if(_i)return _i.read||(_i.read=createStructureReader(_i)),_i.read();if(vn<65536){if(vn==RECORD_INLINE_ID)return recordDefinition(read$3());if(vn==RECORD_DEFINITIONS_ID){let An=readJustLength(),ba=read$3();for(let xa=2;xa<An;xa++)recordDefinition([ba++,read$3()]);return read$3()}else if(vn==BUNDLED_STRINGS_ID)return readBundleExt();if(currentDecoder.getShared&&(loadShared(),_i=currentStructures[vn&8191],_i))return _i.read||(_i.read=createStructureReader(_i)),_i.read()}}let Cn=currentExtensions[vn];if(Cn)return Cn.handlesRead?Cn(read$3):Cn(read$3());{let _i=read$3();for(let An=0;An<currentExtensionRanges.length;An++){let ba=currentExtensionRanges[An](vn,_i);if(ba!==void 0)return ba}return new Tag(_i,vn)}case 7:switch(vn){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let _i=(packedValues||getPackedValues())[vn];if(_i!==void 0)return _i;throw new Error("Unknown token "+vn)}default:if(isNaN(vn)){let _i=new Error("Unexpected end of CBOR data");throw _i.incomplete=!0,_i}throw new Error("Unknown CBOR token "+vn)}}const validName=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function createStructureReader(vn){function fn(){let En=src$7[position++];if(En=En&31,En>23)switch(En){case 24:En=src$7[position++];break;case 25:En=dataView.getUint16(position),position+=2;break;case 26:En=dataView.getUint32(position),position+=4;break;default:throw new Error("Expected array header, but got "+src$7[position-1])}let Cn=this.compiledReader;for(;Cn;){if(Cn.propertyCount===En)return Cn(read$3);Cn=Cn.next}if(this.slowReads++>=3){let An=this.length==En?this:this.slice(0,En);return Cn=currentDecoder.keyMap?new Function("r","return {"+An.map(ba=>currentDecoder.decodeKey(ba)).map(ba=>validName.test(ba)?safeKey(ba)+":r()":"["+JSON.stringify(ba)+"]:r()").join(",")+"}"):new Function("r","return {"+An.map(ba=>validName.test(ba)?safeKey(ba)+":r()":"["+JSON.stringify(ba)+"]:r()").join(",")+"}"),this.compiledReader&&(Cn.next=this.compiledReader),Cn.propertyCount=En,this.compiledReader=Cn,Cn(read$3)}let _i={};if(currentDecoder.keyMap)for(let An=0;An<En;An++)_i[safeKey(currentDecoder.decodeKey(this[An]))]=read$3();else for(let An=0;An<En;An++)_i[safeKey(this[An])]=read$3();return _i}return vn.slowReads=0,fn}function safeKey(vn){return vn==="__proto__"?"__proto_":vn}let readFixedString=readStringJS;function readStringJS(vn){let fn;if(vn<16&&(fn=shortStringInJS(vn)))return fn;if(vn>64&&decoder)return decoder.decode(src$7.subarray(position,position+=vn));const En=position+vn,Cn=[];for(fn="";position<En;){const _i=src$7[position++];if(!(_i&128))Cn.push(_i);else if((_i&224)===192){const An=src$7[position++]&63;Cn.push((_i&31)<<6|An)}else if((_i&240)===224){const An=src$7[position++]&63,ba=src$7[position++]&63;Cn.push((_i&31)<<12|An<<6|ba)}else if((_i&248)===240){const An=src$7[position++]&63,ba=src$7[position++]&63,xa=src$7[position++]&63;let $a=(_i&7)<<18|An<<12|ba<<6|xa;$a>65535&&($a-=65536,Cn.push($a>>>10&1023|55296),$a=56320|$a&1023),Cn.push($a)}else Cn.push(_i);Cn.length>=4096&&(fn+=fromCharCode.apply(String,Cn),Cn.length=0)}return Cn.length>0&&(fn+=fromCharCode.apply(String,Cn)),fn}let fromCharCode=String.fromCharCode;function longStringInJS(vn){let fn=position,En=new Array(vn);for(let Cn=0;Cn<vn;Cn++){const _i=src$7[position++];if((_i&128)>0){position=fn;return}En[Cn]=_i}return fromCharCode.apply(String,En)}function shortStringInJS(vn){if(vn<4)if(vn<2){if(vn===0)return"";{let fn=src$7[position++];if((fn&128)>1){position-=1;return}return fromCharCode(fn)}}else{let fn=src$7[position++],En=src$7[position++];if((fn&128)>0||(En&128)>0){position-=2;return}if(vn<3)return fromCharCode(fn,En);let Cn=src$7[position++];if((Cn&128)>0){position-=3;return}return fromCharCode(fn,En,Cn)}else{let fn=src$7[position++],En=src$7[position++],Cn=src$7[position++],_i=src$7[position++];if((fn&128)>0||(En&128)>0||(Cn&128)>0||(_i&128)>0){position-=4;return}if(vn<6){if(vn===4)return fromCharCode(fn,En,Cn,_i);{let An=src$7[position++];if((An&128)>0){position-=5;return}return fromCharCode(fn,En,Cn,_i,An)}}else if(vn<8){let An=src$7[position++],ba=src$7[position++];if((An&128)>0||(ba&128)>0){position-=6;return}if(vn<7)return fromCharCode(fn,En,Cn,_i,An,ba);let xa=src$7[position++];if((xa&128)>0){position-=7;return}return fromCharCode(fn,En,Cn,_i,An,ba,xa)}else{let An=src$7[position++],ba=src$7[position++],xa=src$7[position++],$a=src$7[position++];if((An&128)>0||(ba&128)>0||(xa&128)>0||($a&128)>0){position-=8;return}if(vn<10){if(vn===8)return fromCharCode(fn,En,Cn,_i,An,ba,xa,$a);{let rs=src$7[position++];if((rs&128)>0){position-=9;return}return fromCharCode(fn,En,Cn,_i,An,ba,xa,$a,rs)}}else if(vn<12){let rs=src$7[position++],ts=src$7[position++];if((rs&128)>0||(ts&128)>0){position-=10;return}if(vn<11)return fromCharCode(fn,En,Cn,_i,An,ba,xa,$a,rs,ts);let is=src$7[position++];if((is&128)>0){position-=11;return}return fromCharCode(fn,En,Cn,_i,An,ba,xa,$a,rs,ts,is)}else{let rs=src$7[position++],ts=src$7[position++],is=src$7[position++],cs=src$7[position++];if((rs&128)>0||(ts&128)>0||(is&128)>0||(cs&128)>0){position-=12;return}if(vn<14){if(vn===12)return fromCharCode(fn,En,Cn,_i,An,ba,xa,$a,rs,ts,is,cs);{let us=src$7[position++];if((us&128)>0){position-=13;return}return fromCharCode(fn,En,Cn,_i,An,ba,xa,$a,rs,ts,is,cs,us)}}else{let us=src$7[position++],ps=src$7[position++];if((us&128)>0||(ps&128)>0){position-=14;return}if(vn<15)return fromCharCode(fn,En,Cn,_i,An,ba,xa,$a,rs,ts,is,cs,us,ps);let bs=src$7[position++];if((bs&128)>0){position-=15;return}return fromCharCode(fn,En,Cn,_i,An,ba,xa,$a,rs,ts,is,cs,us,ps,bs)}}}}}function readBin(vn){return currentDecoder.copyBuffers?Uint8Array.prototype.slice.call(src$7,position,position+=vn):src$7.subarray(position,position+=vn)}let f32Array=new Float32Array(1),u8Array=new Uint8Array(f32Array.buffer,0,4);function getFloat16(){let vn=src$7[position++],fn=src$7[position++],En=(vn&127)>>2;if(En===31)return fn||vn&3?NaN:vn&128?-1/0:1/0;if(En===0){let Cn=((vn&3)<<8|fn)/16777216;return vn&128?-Cn:Cn}return u8Array[3]=vn&128|(En>>1)+56,u8Array[2]=(vn&7)<<5|fn>>3,u8Array[1]=fn<<5,u8Array[0]=0,f32Array[0]}class Tag{constructor(fn,En){this.value=fn,this.tag=En}}currentExtensions[0]=vn=>new Date(vn);currentExtensions[1]=vn=>new Date(Math.round(vn*1e3));currentExtensions[2]=vn=>{let fn=BigInt(0);for(let En=0,Cn=vn.byteLength;En<Cn;En++)fn=BigInt(vn[En])+fn<<BigInt(8);return fn};currentExtensions[3]=vn=>BigInt(-1)-currentExtensions[2](vn);currentExtensions[4]=vn=>+(vn[1]+"e"+vn[0]);currentExtensions[5]=vn=>vn[1]*Math.exp(vn[0]*Math.log(2));const recordDefinition=vn=>{let fn=vn[0]-57344,En=vn[1],Cn=currentStructures[fn];Cn&&Cn.isShared&&((currentStructures.restoreStructures||(currentStructures.restoreStructures=[]))[fn]=Cn),currentStructures[fn]=En,En.read=createStructureReader(En);let _i={};if(currentDecoder.keyMap)for(let An=2,ba=vn.length;An<ba;An++){let xa=currentDecoder.decodeKey(En[An-2]);_i[safeKey(xa)]=vn[An]}else for(let An=2,ba=vn.length;An<ba;An++){let xa=En[An-2];_i[safeKey(xa)]=vn[An]}return _i};currentExtensions[LEGACY_RECORD_INLINE_ID]=recordDefinition;currentExtensions[14]=vn=>bundledStrings?bundledStrings[0].slice(bundledStrings.position0,bundledStrings.position0+=vn):new Tag(vn,14);currentExtensions[15]=vn=>bundledStrings?bundledStrings[1].slice(bundledStrings.position1,bundledStrings.position1+=vn):new Tag(vn,15);let glbl={Error,RegExp};currentExtensions[27]=vn=>(glbl[vn[0]]||Error)(vn[1],vn[2]);const packedTable=vn=>{if(src$7[position++]!=132)throw new Error("Packed values structure must be followed by a 4 element array");let fn=vn();return packedValues=packedValues?fn.concat(packedValues.slice(fn.length)):fn,packedValues.prefixes=vn(),packedValues.suffixes=vn(),vn()};packedTable.handlesRead=!0;currentExtensions[51]=packedTable;currentExtensions[PACKED_REFERENCE_TAG_ID]=vn=>{if(!packedValues)if(currentDecoder.getShared)loadShared();else return new Tag(vn,PACKED_REFERENCE_TAG_ID);if(typeof vn=="number")return packedValues[16+(vn>=0?2*vn:-2*vn-1)];throw new Error("No support for non-integer packed references yet")};currentExtensions[25]=vn=>stringRefs[vn];currentExtensions[256]=vn=>{stringRefs=[];try{return vn()}finally{stringRefs=null}};currentExtensions[256].handlesRead=!0;currentExtensions[28]=vn=>{referenceMap||(referenceMap=new Map,referenceMap.id=0);let fn=referenceMap.id++,En=src$7[position],Cn;En>>5==4?Cn=[]:Cn={};let _i={target:Cn};referenceMap.set(fn,_i);let An=vn();return _i.used?Object.assign(Cn,An):(_i.target=An,An)};currentExtensions[28].handlesRead=!0;currentExtensions[29]=vn=>{let fn=referenceMap.get(vn);return fn.used=!0,fn.target};currentExtensions[258]=vn=>new Set(vn);(currentExtensions[259]=vn=>(currentDecoder.mapsAsObjects&&(currentDecoder.mapsAsObjects=!1,restoreMapsAsObject=!0),vn())).handlesRead=!0;function combine(vn,fn){return typeof vn=="string"?vn+fn:vn instanceof Array?vn.concat(fn):Object.assign({},vn,fn)}function getPackedValues(){if(!packedValues)if(currentDecoder.getShared)loadShared();else throw new Error("No packed values available");return packedValues}const SHARED_DATA_TAG_ID=1399353956;currentExtensionRanges.push((vn,fn)=>{if(vn>=225&&vn<=255)return combine(getPackedValues().prefixes[vn-224],fn);if(vn>=28704&&vn<=32767)return combine(getPackedValues().prefixes[vn-28672],fn);if(vn>=1879052288&&vn<=2147483647)return combine(getPackedValues().prefixes[vn-1879048192],fn);if(vn>=216&&vn<=223)return combine(fn,getPackedValues().suffixes[vn-216]);if(vn>=27647&&vn<=28671)return combine(fn,getPackedValues().suffixes[vn-27639]);if(vn>=1811940352&&vn<=1879048191)return combine(fn,getPackedValues().suffixes[vn-1811939328]);if(vn==SHARED_DATA_TAG_ID)return{packedValues,structures:currentStructures.slice(0),version:fn};if(vn==55799)return fn});const isLittleEndianMachine=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,typedArrays$1=[Uint8Array],typedArrayTags=[64];for(let vn=0;vn<typedArrays$1.length;vn++)registerTypedArray(typedArrays$1[vn],typedArrayTags[vn]);function registerTypedArray(vn,fn){let En="get"+vn.name.slice(0,-5);typeof vn!="function"&&(vn=null);let Cn=vn.BYTES_PER_ELEMENT;for(let _i=0;_i<2;_i++){if(!_i&&Cn==1)continue;let An=Cn==2?1:Cn==4?2:3;currentExtensions[_i?fn:fn-4]=Cn==1||_i==isLittleEndianMachine?ba=>{if(!vn)throw new Error("Could not find typed array for code "+fn);return new vn(Uint8Array.prototype.slice.call(ba,0).buffer)}:ba=>{if(!vn)throw new Error("Could not find typed array for code "+fn);let xa=new DataView(ba.buffer,ba.byteOffset,ba.byteLength),$a=ba.length>>An,rs=new vn($a),ts=xa[En];for(let is=0;is<$a;is++)rs[is]=ts.call(xa,is<<An,_i);return rs}}}function readBundleExt(){let vn=readJustLength(),fn=position+read$3();for(let Cn=2;Cn<vn;Cn++){let _i=readJustLength();position+=_i}let En=position;return position=fn,bundledStrings=[readStringJS(readJustLength()),readStringJS(readJustLength())],bundledStrings.position0=0,bundledStrings.position1=0,bundledStrings.postBundlePosition=position,position=En,read$3()}function readJustLength(){let vn=src$7[position++]&31;if(vn>23)switch(vn){case 24:vn=src$7[position++];break;case 25:vn=dataView.getUint16(position),position+=2;break;case 26:vn=dataView.getUint32(position),position+=4;break}return vn}function loadShared(){if(currentDecoder.getShared){let vn=saveState(()=>(src$7=null,currentDecoder.getShared()))||{},fn=vn.structures||[];currentDecoder.sharedVersion=vn.version,packedValues=currentDecoder.sharedValues=vn.packedValues,currentStructures===!0?currentDecoder.structures=currentStructures=fn:currentStructures.splice.apply(currentStructures,[0,fn.length].concat(fn))}}function saveState(vn){let fn=srcEnd,En=position,Cn=srcStringStart,_i=srcStringEnd,An=srcString,ba=referenceMap,xa=bundledStrings,$a=new Uint8Array(src$7.slice(0,srcEnd)),rs=currentStructures,ts=currentDecoder,is=sequentialMode,cs=vn();return srcEnd=fn,position=En,srcStringStart=Cn,srcStringEnd=_i,srcString=An,referenceMap=ba,bundledStrings=xa,src$7=$a,sequentialMode=is,currentStructures=rs,currentDecoder=ts,dataView=new DataView(src$7.buffer,src$7.byteOffset,src$7.byteLength),cs}function clearSource(){src$7=null,referenceMap=null,currentStructures=null}const mult10=new Array(147);for(let vn=0;vn<256;vn++)mult10[vn]=+("1e"+Math.floor(45.15-vn*.30103));const defaultDecoder=new Decoder$1({useRecords:!1}),decode$c=defaultDecoder.decode;function hexToBytes(vn){if(vn=vn.toString(16),vn.startsWith("0x")||(vn=`0x${vn}`),!isHexStrict(vn))throw new Error(`Given value "${vn}" is not a valid hex string.`);vn=vn.replace(/^0x/i,"");const fn=[];for(let En=0;En<vn.length;En+=2)fn.push(parseInt(vn.slice(En,En+2),16));return fn}function isHexStrict(vn){return(typeof vn=="string"||typeof vn=="number")&&/^(-)?0x[0-9a-f]*$/i.test(vn.toString())}function extractIPFSHashFromBytecode(vn){const fn=hexToBytes(vn),En=fn[fn.length-2]*256+fn[fn.length-1],Cn=Uint8Array.from(fn.slice(fn.length-2-En,-2)),_i=decode$c(Cn);if("ipfs"in _i&&_i.ipfs)try{return`ipfs://${bs58$1.encode(_i.ipfs)}`}catch(An){console.warn("feature-detection ipfs cbor failed",An)}}function extractMinimalProxyImplementationAddress(vn){if(vn.startsWith("0x363d3d373d3d3d363d73"))return`0x${vn.slice(22,62)}`;if(vn.startsWith("0x36603057343d5230"))return`0x${vn.slice(122,162)}`;if(vn.startsWith("0x3d3d3d3d363d3d37363d73"))return`0x${vn.slice(24,64)}`;if(vn.startsWith("0x366000600037611000600036600073"))return`0x${vn.slice(32,72)}`;if(vn.startsWith("0x36600080376020600036600073"))return`0x${vn.slice(28,68)}`;if(vn.startsWith("0x365f5f375f5f365f73"))return`0x${vn.slice(20,60)}`}async function resolveContractUriFromAddress(vn,fn){const{bytecode:En}=await resolveImplementation(vn,fn);return extractIPFSHashFromBytecode(En)}async function resolveContractUriAndBytecode(vn,fn){const{bytecode:En}=await resolveImplementation(vn,fn);return{uri:extractIPFSHashFromBytecode(En),bytecode:En}}async function resolveImplementation(vn,fn){const[En,Cn]=await Promise.all([fetchBytecode(vn,fn),getBeaconFromStorageSlot(vn,fn)]),_i=extractMinimalProxyImplementationAddress(En);if(_i)return{address:_i,bytecode:await fetchBytecode(_i,fn)};Cn&&Cn!==AddressZero$1&&(vn=Cn);const An=await Promise.all([getImplementationFromStorageSlot(vn,fn),getImplementationFromContractCall(vn,fn)]);for(const ba of An)if(ba&&isAddress(ba)&&ba!==AddressZero$1)try{const xa=await fetchBytecode(ba,fn);return{address:ba,bytecode:xa}}catch(xa){if(xa instanceof Error&&!xa.message.includes(`Contract at ${ba} does not exist on chain`))throw xa}return{address:vn,bytecode:En}}async function fetchBytecode(vn,fn){try{const En=await fn.getCode(vn);if(En==="0x"){const Cn=await fn.getNetwork();throw new Error(`Contract at ${vn} does not exist on chain '${Cn.name}' (chainId: ${Cn.chainId})`)}return En}catch(En){throw new Error(`Failed to get bytecode for address ${vn}: ${En}`)}}async function getImplementationFromStorageSlot(vn,fn){try{return`0x${(await fn.getStorageAt(vn,BigNumber.from("0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc"))).slice(-40)}`}catch{return}}async function getBeaconFromStorageSlot(vn,fn){try{return`0x${(await fn.getStorageAt(vn,BigNumber.from("0xa3f0ad74e5423aebfd80d3ef4346578335a9a72aeaee59ff6cb3582b35133d50"))).slice(-40)}`}catch{return}}async function getImplementationFromContractCall(vn,fn){try{return await new Contract(vn,UPGRADEABLE_PROXY_ABI,fn).implementation()}catch{return}}const UPGRADEABLE_PROXY_ABI=[{type:"function",name:"implementation",inputs:[],outputs:[{type:"address",name:"",internalType:"address"}],stateMutability:"view"}],MultichainRegistry_address="0xcdAD8FA86e18538aC207872E8ff3536501431B73";function getMultichainRegistryAddress(){return getProcessEnv$1("multiChainRegistryAddress",MultichainRegistry_address)}function joinABIs(vn,fn){const Cn=vn.map(An=>AbiSchema.parse(An)).flat().filter(An=>An.type!=="constructor");fn&&Cn.push(...AbiSchema.parse(fn));const _i=unique(Cn,(An,ba)=>An.name===ba.name&&An.type===ba.type&&An.inputs.length===ba.inputs.length);return AbiSchema.parse(_i)}const FEATURE_TOKEN_CLAIM_CONDITIONS_V1={name:"ERC20ClaimConditionsV1",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"erc20claimconditions"},abis:[ERC20Abi,IDropSinglePhaseV1],features:{}},FEATURE_TOKEN_CLAIM_CONDITIONS_V2={name:"ERC20ClaimConditionsV2",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"erc20claimconditions"},abis:[ERC20Abi,IDropSinglePhase],features:{}},FEATURE_TOKEN_CLAIM_PHASES_V2={name:"ERC20ClaimPhasesV2",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"erc20claimphases"},abis:[ERC20Abi,IDrop],features:{}},FEATURE_TOKEN_CLAIM_PHASES_V1={name:"ERC20ClaimPhasesV1",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"erc20claimphases"},abis:[DropERC20_V2Abi],features:{}},FEATURE_TOKEN_BURNABLE={name:"ERC20Burnable",namespace:"token.burn",docLinks:{sdk:"sdk.erc20burnable",contracts:"erc20burnable"},abis:[ERC20Abi,IBurnableERC20Abi],features:{}},FEATURE_TOKEN_SIGNATURE_MINTABLE={name:"ERC20SignatureMintable",namespace:"token.signature",docLinks:{sdk:"sdk.erc20signaturemintable",contracts:"erc20signaturemint"},abis:[ERC20Abi,ISignatureMintERC20Abi],features:{}},FEATURE_TOKEN_BATCH_MINTABLE={name:"ERC20BatchMintable",namespace:"token.mint.batch",docLinks:{sdk:"sdk.erc20batchmintable",contracts:"erc20batchmintable"},abis:[ERC20Abi,IMintableERC20Abi,MulticallAbi],features:{}},FEATURE_TOKEN_MINTABLE={name:"ERC20Mintable",namespace:"token.mint",docLinks:{sdk:"sdk.erc20mintable",contracts:"erc20mintable"},abis:[ERC20Abi,IMintableERC20Abi],features:{[FEATURE_TOKEN_BATCH_MINTABLE.name]:FEATURE_TOKEN_BATCH_MINTABLE}},FEATURE_TOKEN_PERMIT={name:"ERC20Permit",namespace:"token.permit",docLinks:{sdk:"sdk.erc20permit",contracts:"erc20permit"},abis:[ERC20Abi,IERC20PermitAbi],features:{}},FEATURE_TOKEN={name:"ERC20",namespace:"token",docLinks:{sdk:"sdk.erc20",contracts:"erc20"},abis:[ERC20Abi,IERC20MetadataAbi],features:{[FEATURE_TOKEN_BURNABLE.name]:FEATURE_TOKEN_BURNABLE,[FEATURE_TOKEN_MINTABLE.name]:FEATURE_TOKEN_MINTABLE,[FEATURE_TOKEN_CLAIM_CONDITIONS_V1.name]:FEATURE_TOKEN_CLAIM_CONDITIONS_V1,[FEATURE_TOKEN_CLAIM_CONDITIONS_V2.name]:FEATURE_TOKEN_CLAIM_CONDITIONS_V2,[FEATURE_TOKEN_CLAIM_PHASES_V1.name]:FEATURE_TOKEN_CLAIM_PHASES_V1,[FEATURE_TOKEN_CLAIM_PHASES_V2.name]:FEATURE_TOKEN_CLAIM_PHASES_V2,[FEATURE_TOKEN_SIGNATURE_MINTABLE.name]:FEATURE_TOKEN_SIGNATURE_MINTABLE,[FEATURE_TOKEN_PERMIT.name]:FEATURE_TOKEN_PERMIT}},FEATURE_NFT_BURNABLE={name:"ERC721Burnable",namespace:"nft.burn",docLinks:{sdk:"sdk.erc721burnable",contracts:"erc721burnable"},abis:[Erc721Abi,IBurnableERC721Abi],features:{}},FEATURE_NFT_REVEALABLE={name:"ERC721Revealable",namespace:"nft.drop.revealer",docLinks:{sdk:"sdk.delayedreveal",contracts:"erc721revealable"},abis:[Erc721Abi,ILazyMintAbi,DelayedRevealAbi],features:{}},FEATURE_NFT_TIERED_DROP={name:"ERC721TieredDrop",namespace:"nft.tieredDrop",docLinks:{sdk:"sdk.erc721tiereddrop",contracts:""},abis:[Erc721Abi,TieredDropAbi],features:{}},FEATURE_NFT_CLAIM_CONDITIONS_V1={name:"ERC721ClaimConditionsV1",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"erc721claimconditions"},abis:[Erc721Abi,IDropSinglePhaseV1],features:{}},FEATURE_NFT_CLAIM_CONDITIONS_V2={name:"ERC721ClaimConditionsV2",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"erc721claimconditions"},abis:[Erc721Abi,IDropSinglePhase],features:{}},FEATURE_NFT_CLAIM_PHASES_V1={name:"ERC721ClaimPhasesV1",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"erc721claimphases"},abis:[DropERC721_V3Abi],features:{}},FEATURE_NFT_CLAIM_PHASES_V2={name:"ERC721ClaimPhasesV2",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"erc721claimphases"},abis:[Erc721Abi,IDrop],features:{}},FEATURE_NFT_CLAIM_CUSTOM={name:"ERC721ClaimCustom",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"erc721claimcustom"},abis:[Erc721Abi,IClaimableERC721],features:{}},FEATURE_NFT_CLAIM_ZORA={name:"ERC721ClaimZora",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"erc721claimzora"},abis:[Erc721Abi,zora_IDropERC721],features:{}},FEATURE_NFT_LAZY_MINTABLE={name:"ERC721LazyMintable",namespace:"nft.drop",docLinks:{sdk:"sdk.erc721lazymintable",contracts:"lazymint"},abis:[Erc721Abi,ILazyMintAbi],features:{[FEATURE_NFT_REVEALABLE.name]:FEATURE_NFT_REVEALABLE}},FEATURE_NFT_BATCH_MINTABLE={name:"ERC721BatchMintable",namespace:"nft.mint.batch",docLinks:{sdk:"sdk.erc721batchmintable",contracts:"erc721batchmintable"},abis:[Erc721Abi,IMintableERC721Abi,MulticallAbi],features:{}},FEATURE_NFT_MINTABLE={name:"ERC721Mintable",namespace:"nft.mint",docLinks:{sdk:"sdk.erc721mintable",contracts:"erc721mintable"},abis:[Erc721Abi,IMintableERC721Abi],features:{[FEATURE_NFT_BATCH_MINTABLE.name]:FEATURE_NFT_BATCH_MINTABLE}},FEATURE_NFT_SIGNATURE_MINTABLE_V2={name:"ERC721SignatureMintV2",namespace:"nft.signature",docLinks:{sdk:"sdk.erc721signaturemint",contracts:"erc721signaturemint"},abis:[Erc721Abi,SignatureMintERC721Abi],features:{}},FEATURE_NFT_SIGNATURE_MINTABLE_V1={name:"ERC721SignatureMintV1",namespace:"nft.signature",docLinks:{sdk:"sdk.erc721signaturemint",contracts:"erc721signaturemint"},abis:[SignatureMintERC721_V1Abi],features:{}},FEATURE_NFT_ENUMERABLE={name:"ERC721Enumerable",namespace:"nft.query.owned",docLinks:{sdk:"sdk.erc721enumerable",contracts:"erc721enumerable"},abis:[Erc721Abi,Erc721EnumerableAbi],features:{}},FEATURE_NFT_QUERYABLE={name:"ERC721AQueryable",namespace:"nft.query.owned",docLinks:{sdk:"",contracts:""},abis:[Erc721AQueryableAbi],features:{}},FEATURE_NFT_SUPPLY={name:"ERC721Supply",namespace:"nft.query",docLinks:{sdk:"sdk.erc721supply",contracts:"erc721supply"},abis:[Erc721Abi,Erc721SupplyAbi],features:{[FEATURE_NFT_ENUMERABLE.name]:FEATURE_NFT_ENUMERABLE,[FEATURE_NFT_QUERYABLE.name]:FEATURE_NFT_QUERYABLE}},FEATURE_NFT_SHARED_METADATA={name:"ERC721SharedMetadata",namespace:"nft.sharedmetadata",docLinks:{sdk:"sdk.sharedmetadata",contracts:"SharedMetadata"},abis:[Erc721Abi,SharedMetadataAbi],features:{}},FEATURE_NFT_LOYALTY_CARD={name:"ERC721LoyaltyCard",namespace:"nft.loyaltyCard",docLinks:{sdk:"",contracts:""},abis:[ILoyaltyCardAbi],features:{}},FEATURE_NFT_UPDATABLE_METADATA={name:"ERC721UpdatableMetadata",namespace:"nft.metadata",docLinks:{sdk:"",contracts:""},abis:[Erc721Abi,INFTMetadataAbi],features:{}},FEATURE_NFT={name:"ERC721",namespace:"nft",docLinks:{sdk:"sdk.erc721",contracts:"erc721"},abis:[Erc721Abi,IERC721MetadataAbi],features:{[FEATURE_NFT_BURNABLE.name]:FEATURE_NFT_BURNABLE,[FEATURE_NFT_SUPPLY.name]:FEATURE_NFT_SUPPLY,[FEATURE_NFT_MINTABLE.name]:FEATURE_NFT_MINTABLE,[FEATURE_NFT_LAZY_MINTABLE.name]:FEATURE_NFT_LAZY_MINTABLE,[FEATURE_NFT_SIGNATURE_MINTABLE_V1.name]:FEATURE_NFT_SIGNATURE_MINTABLE_V1,[FEATURE_NFT_SIGNATURE_MINTABLE_V2.name]:FEATURE_NFT_SIGNATURE_MINTABLE_V2,[FEATURE_NFT_TIERED_DROP.name]:FEATURE_NFT_TIERED_DROP,[FEATURE_NFT_CLAIM_CUSTOM.name]:FEATURE_NFT_CLAIM_CUSTOM,[FEATURE_NFT_CLAIM_ZORA.name]:FEATURE_NFT_CLAIM_ZORA,[FEATURE_NFT_CLAIM_CONDITIONS_V1.name]:FEATURE_NFT_CLAIM_CONDITIONS_V1,[FEATURE_NFT_CLAIM_CONDITIONS_V2.name]:FEATURE_NFT_CLAIM_CONDITIONS_V2,[FEATURE_NFT_CLAIM_PHASES_V1.name]:FEATURE_NFT_CLAIM_PHASES_V1,[FEATURE_NFT_CLAIM_PHASES_V2.name]:FEATURE_NFT_CLAIM_PHASES_V2,[FEATURE_NFT_SHARED_METADATA.name]:FEATURE_NFT_SHARED_METADATA,[FEATURE_NFT_LOYALTY_CARD.name]:FEATURE_NFT_LOYALTY_CARD,[FEATURE_NFT_UPDATABLE_METADATA.name]:FEATURE_NFT_UPDATABLE_METADATA}},NAME_SYMBOL_ABI=[{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],FEATURE_EDITION_BURNABLE={name:"ERC1155Burnable",namespace:"edition.burn",docLinks:{sdk:"sdk.erc1155burnable",contracts:"erc1155burnable"},abis:[Erc1155Abi,IBurnableERC1155Abi],features:{}},FEATURE_EDITION_CLAIM_CONDITIONS_V1={name:"ERC1155ClaimConditionsV1",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"erc1155dropsinglephase"},abis:[Erc1155Abi,IDropSinglePhase1155_V1],features:{}},FEATURE_EDITION_CLAIM_CONDITIONS_V2={name:"ERC1155ClaimConditionsV2",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"erc1155claimconditions"},abis:[Erc1155Abi,IDropSinglePhase1155],features:{}},FEATURE_EDITION_CLAIM_PHASES_V2={name:"ERC1155ClaimPhasesV2",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"erc1155claimphases"},abis:[Erc1155Abi,IDropMultiPhase1155],features:{}},FEATURE_EDITION_CLAIM_PHASES_V1={name:"ERC1155ClaimPhasesV1",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"erc1155claimphases"},abis:[DropERC1155_V2Abi],features:{}},FEATURE_EDITION_CLAIM_CUSTOM={name:"ERC1155ClaimCustom",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"erc1155claimcustom"},abis:[Erc1155Abi,IClaimableERC1155],features:{}},FEATURE_EDITION_REVEALABLE={name:"ERC1155Revealable",namespace:"edition.drop.revealer",docLinks:{sdk:"sdk.drop.delayedreveal",contracts:"erc1155revealable"},abis:[Erc1155Abi,ILazyMintAbi,DelayedRevealAbi],features:{}},FEATURE_EDITION_LAZY_MINTABLE_V2={name:"ERC1155LazyMintableV2",namespace:"edition.drop",docLinks:{sdk:"sdk.erc1155droppable",contracts:"lazymint"},abis:[Erc1155Abi,ILazyMintAbi],features:{[FEATURE_EDITION_REVEALABLE.name]:FEATURE_EDITION_REVEALABLE}},FEATURE_EDITION_LAZY_MINTABLE_V1={name:"ERC1155LazyMintableV1",namespace:"edition.drop",docLinks:{sdk:"sdk.erc1155droppable",contracts:"lazymint"},abis:[DropERC1155_V2Abi],features:{[FEATURE_EDITION_CLAIM_PHASES_V1.name]:FEATURE_EDITION_CLAIM_PHASES_V1}},FEATURE_EDITION_SIGNATURE_MINTABLE={name:"ERC1155SignatureMintable",namespace:"edition.signature",docLinks:{sdk:"sdk.erc1155signaturemintable",contracts:"erc1155signaturemint"},abis:[Erc1155Abi,ISignatureMintERC1155Abi],features:{}},FEATURE_EDITION_BATCH_MINTABLE={name:"ERC1155BatchMintable",namespace:"edition.mint.batch",docLinks:{sdk:"sdk.erc1155batchmintable",contracts:"erc1155batchmintable"},abis:[Erc1155Abi,IMintableERC1155Abi,MulticallAbi],features:{}},FEATURE_EDITION_MINTABLE={name:"ERC1155Mintable",namespace:"edition.mint",docLinks:{sdk:"sdk.erc1155mintable",contracts:"erc1155mintable"},abis:[Erc1155Abi,IMintableERC1155Abi],features:{[FEATURE_EDITION_BATCH_MINTABLE.name]:FEATURE_EDITION_BATCH_MINTABLE}},FEATURE_EDITION_ENUMERABLE={name:"ERC1155Enumerable",namespace:"edition.query",docLinks:{sdk:"sdk.erc1155",contracts:"erc1155enumerable"},abis:[Erc1155Abi,Erc1155EnumerableAbi],features:{}},FEATURE_EDITION_UPDATABLE_METADATA={name:"ERC1155UpdatableMetadata",namespace:"edition.metadata",docLinks:{sdk:"",contracts:""},abis:[Erc1155Abi,INFTMetadataAbi],features:{}},FEATURE_EDITION_SUPPLY={name:"ERC1155Supply",namespace:"edition.supply",docLinks:{sdk:"",contracts:""},abis:[Erc1155Abi,Erc1155SupplyAbi],features:{}},FEATURE_EDITION={name:"ERC1155",namespace:"edition",docLinks:{sdk:"sdk.erc1155enumerable",contracts:"erc1155"},abis:[Erc1155Abi,Erc1155MetadataAbi,NAME_SYMBOL_ABI],features:{[FEATURE_EDITION_SUPPLY.name]:FEATURE_EDITION_SUPPLY,[FEATURE_EDITION_BURNABLE.name]:FEATURE_EDITION_BURNABLE,[FEATURE_EDITION_ENUMERABLE.name]:FEATURE_EDITION_ENUMERABLE,[FEATURE_EDITION_MINTABLE.name]:FEATURE_EDITION_MINTABLE,[FEATURE_EDITION_LAZY_MINTABLE_V1.name]:FEATURE_EDITION_LAZY_MINTABLE_V1,[FEATURE_EDITION_LAZY_MINTABLE_V2.name]:FEATURE_EDITION_LAZY_MINTABLE_V2,[FEATURE_EDITION_REVEALABLE.name]:FEATURE_EDITION_REVEALABLE,[FEATURE_EDITION_SIGNATURE_MINTABLE.name]:FEATURE_EDITION_SIGNATURE_MINTABLE,[FEATURE_EDITION_CLAIM_CUSTOM.name]:FEATURE_EDITION_CLAIM_CUSTOM,[FEATURE_EDITION_CLAIM_CONDITIONS_V1.name]:FEATURE_EDITION_CLAIM_CONDITIONS_V1,[FEATURE_EDITION_CLAIM_CONDITIONS_V2.name]:FEATURE_EDITION_CLAIM_CONDITIONS_V2,[FEATURE_EDITION_CLAIM_PHASES_V2.name]:FEATURE_EDITION_CLAIM_PHASES_V2,[FEATURE_EDITION_UPDATABLE_METADATA.name]:FEATURE_EDITION_UPDATABLE_METADATA}},fallbackAbi=[{stateMutability:"payable",type:"fallback"}],getAllPluginsAbi=[{inputs:[],name:"getAllPlugins",outputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin[]",name:"registered",type:"tuple[]"}],stateMutability:"view",type:"function"}],getAllExtensionsAbi=[{inputs:[],name:"getAllExtensions",outputs:[{components:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"address",name:"implementation",type:"address"}],internalType:"struct IExtension.ExtensionMetadata",name:"metadata",type:"tuple"},{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"}],internalType:"struct IExtension.ExtensionFunction[]",name:"functions",type:"tuple[]"}],internalType:"struct IExtension.Extension[]",name:"allExtensions",type:"tuple[]"}],stateMutability:"view",type:"function"}],coreContractAbi=[{type:"fallback",stateMutability:"payable"},{type:"function",name:"cancelOwnershipHandover",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"completeOwnershipHandover",inputs:[{name:"pendingOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"getInstalledExtensions",inputs:[],outputs:[{name:"_installedExtensions",type:"tuple[]",internalType:"struct IModularCore.InstalledExtension[]",components:[{name:"implementation",type:"address",internalType:"address"},{name:"config",type:"tuple",internalType:"struct IExtensionConfig.ExtensionConfig",components:[{name:"registerInstallationCallback",type:"bool",internalType:"bool"},{name:"requiredInterfaces",type:"bytes4[]",internalType:"bytes4[]"},{name:"supportedInterfaces",type:"bytes4[]",internalType:"bytes4[]"},{name:"callbackFunctions",type:"tuple[]",internalType:"struct IExtensionConfig.CallbackFunction[]",components:[{name:"selector",type:"bytes4",internalType:"bytes4"}]},{name:"fallbackFunctions",type:"tuple[]",internalType:"struct IExtensionConfig.FallbackFunction[]",components:[{name:"selector",type:"bytes4",internalType:"bytes4"},{name:"permissionBits",type:"uint256",internalType:"uint256"}]}]}]}],stateMutability:"view"},{type:"function",name:"getSupportedCallbackFunctions",inputs:[],outputs:[{name:"",type:"tuple[]",internalType:"struct IModularCore.SupportedCallbackFunction[]",components:[{name:"selector",type:"bytes4",internalType:"bytes4"},{name:"mode",type:"uint8",internalType:"enum IModularCore.CallbackMode"}]}],stateMutability:"pure"},{type:"function",name:"grantRoles",inputs:[{name:"user",type:"address",internalType:"address"},{name:"roles",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"hasAllRoles",inputs:[{name:"user",type:"address",internalType:"address"},{name:"roles",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"hasAnyRole",inputs:[{name:"user",type:"address",internalType:"address"},{name:"roles",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"installExtension",inputs:[{name:"_extension",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"owner",inputs:[],outputs:[{name:"result",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"ownershipHandoverExpiresAt",inputs:[{name:"pendingOwner",type:"address",internalType:"address"}],outputs:[{name:"result",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"renounceRoles",inputs:[{name:"roles",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"requestOwnershipHandover",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"revokeRoles",inputs:[{name:"user",type:"address",internalType:"address"},{name:"roles",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"rolesOf",inputs:[{name:"user",type:"address",internalType:"address"}],outputs:[{name:"roles",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"uninstallExtension",inputs:[{name:"_extension",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"event",name:"ExtensionInstalled",inputs:[{name:"caller",type:"address",indexed:!1,internalType:"address"},{name:"implementation",type:"address",indexed:!1,internalType:"address"},{name:"installedExtension",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"ExtensionUninstalled",inputs:[{name:"caller",type:"address",indexed:!1,internalType:"address"},{name:"implementation",type:"address",indexed:!1,internalType:"address"},{name:"installedExtension",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"OwnershipHandoverCanceled",inputs:[{name:"pendingOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"OwnershipHandoverRequested",inputs:[{name:"pendingOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"oldOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"RolesUpdated",inputs:[{name:"user",type:"address",indexed:!0,internalType:"address"},{name:"roles",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"error",name:"AlreadyInitialized",inputs:[]},{type:"error",name:"CallbackExecutionReverted",inputs:[]},{type:"error",name:"CallbackFunctionAlreadyInstalled",inputs:[]},{type:"error",name:"CallbackFunctionNotSupported",inputs:[]},{type:"error",name:"CallbackFunctionRequired",inputs:[]},{type:"error",name:"CallbackFunctionUnauthorizedCall",inputs:[]},{type:"error",name:"ExtensionAlreadyInstalled",inputs:[]},{type:"error",name:"ExtensionInterfaceNotCompatible",inputs:[{name:"requiredInterfaceId",type:"bytes4",internalType:"bytes4"}]},{type:"error",name:"ExtensionNotInstalled",inputs:[]},{type:"error",name:"ExtensionOutOfSync",inputs:[]},{type:"error",name:"FallbackFunctionAlreadyInstalled",inputs:[]},{type:"error",name:"FallbackFunctionNotInstalled",inputs:[]},{type:"error",name:"IndexOutOfBounds",inputs:[]},{type:"error",name:"NewOwnerIsZeroAddress",inputs:[]},{type:"error",name:"NoHandoverRequest",inputs:[]},{type:"error",name:"Unauthorized",inputs:[]}],extensionContractAbi=[{type:"function",name:"getExtensionConfig",inputs:[],outputs:[{name:"",type:"tuple",internalType:"struct IExtensionConfig.ExtensionConfig",components:[{name:"registerInstallationCallback",type:"bool",internalType:"bool"},{name:"requiredInterfaces",type:"bytes4[]",internalType:"bytes4[]"},{name:"supportedInterfaces",type:"bytes4[]",internalType:"bytes4[]"},{name:"callbackFunctions",type:"tuple[]",internalType:"struct IExtensionConfig.CallbackFunction[]",components:[{name:"selector",type:"bytes4",internalType:"bytes4"}]},{name:"fallbackFunctions",type:"tuple[]",internalType:"struct IExtensionConfig.FallbackFunction[]",components:[{name:"selector",type:"bytes4",internalType:"bytes4"},{name:"permissionBits",type:"uint256",internalType:"uint256"}]}]}],stateMutability:"pure"}],FEATURE_ROYALTY={name:"Royalty",namespace:"royalty",docLinks:{sdk:"sdk.contractroyalty",contracts:"royalty"},abis:[IThirdwebRoyaltyAbi],features:{}},FEATURE_PRIMARY_SALE={name:"PrimarySale",namespace:"sales",docLinks:{sdk:"sdk.contractprimarysale",contracts:"primarysale"},abis:[IThirdwebPrimarySaleAbi],features:{}},FEATURE_PLATFORM_FEE={name:"PlatformFee",namespace:"platformFees",docLinks:{sdk:"sdk.platformfee",contracts:"platformfee"},abis:[IThirdwebPlatformFeeAbi],features:{}},FEATURE_PERMISSIONS_ENUMERABLE={name:"PermissionsEnumerable",namespace:"roles",docLinks:{sdk:"sdk.contractroles",contracts:"permissionsenumerable"},abis:[IPermissionsEnumerableAbi],features:{}},FEATURE_PERMISSIONS={name:"Permissions",namespace:"roles",docLinks:{sdk:"sdk.contractroles",contracts:"permissions"},abis:[IPermissionsAbi],features:{[FEATURE_PERMISSIONS_ENUMERABLE.name]:FEATURE_PERMISSIONS_ENUMERABLE}},FEATURE_METADATA={name:"ContractMetadata",namespace:"metadata",docLinks:{sdk:"sdk.contractmetadata",contracts:"contractmetadata"},abis:[IContractMetadataAbi],features:{}},FEATURE_APPURI={name:"AppURI",namespace:"appURI",docLinks:{sdk:"sdk.appURI",contracts:""},abis:[IAppURI],features:{}},FEATURE_OWNER={name:"Ownable",namespace:"owner",docLinks:{sdk:"sdk.owner",contracts:"ownable"},abis:[IOwnableAbi],features:{}},FEATURE_GASLESS={name:"Gasless",namespace:"gasless",docLinks:{sdk:"sdk.gaslesstransaction",contracts:"IERC2771Context"},abis:[IERC2771ContextAbi],features:{}},FEATURE_PACK_VRF={name:"PackVRF",namespace:"pack.vrf",docLinks:{sdk:"sdk.packvrf",contracts:"IPackVRF"},abis:[IPackVRFAbi],features:{}},FEATURE_PLUGIN_ROUTER={name:"PluginRouter",namespace:"plugin.router",docLinks:{sdk:"sdk.pluginrouter",contracts:"PluginRouter"},abis:[getAllPluginsAbi],features:{}},FEATURE_DYNAMIC_CONTRACT={name:"DynamicContract",namespace:"dynamic.contract",docLinks:{sdk:"",contracts:"IExtensionsManager"},abis:[getAllExtensionsAbi],features:{}},FEATURE_MODULAR_CORE={name:"ModularCore",namespace:"modular.core",docLinks:{sdk:"",contracts:""},abis:[coreContractAbi],features:{}},FEATURE_MODULAR_EXTENSION={name:"ModularExtension",namespace:"modular.extension",docLinks:{sdk:"",contracts:""},abis:[extensionContractAbi],features:{}},FEATURE_DIRECT_LISTINGS={name:"DirectListings",namespace:"direct.listings",docLinks:{sdk:"",contracts:"IDirectListings"},abis:[IDirectListingsAbi],features:{}},FEATURE_ENGLISH_AUCTIONS={name:"EnglishAuctions",namespace:"english.auctions",docLinks:{sdk:"",contracts:"IEnglishAuctions"},abis:[IEnglishAuctionsAbi],features:{}},FEATURE_OFFERS={name:"Offers",namespace:"offers",docLinks:{sdk:"",contracts:"IOffers"},abis:[IOffersAbi],features:{}},FEATURE_ACCOUNT_FACTORY={name:"AccountFactory",namespace:"accountFactory",docLinks:{sdk:"sdk.accountFactory",contracts:"IAccountFactory"},abis:[IAccountFactoryCore],features:{}},FEATURE_ACCOUNT_PERMISSIONS_V1={name:"AccountPermissionsV1",namespace:"accountPermissions",docLinks:{sdk:"sdk.account",contracts:"IAccountPermissions"},abis:[IAccountPermissionsV1],features:{}},FEATURE_ACCOUNT_PERMISSIONS={name:"AccountPermissions",namespace:"accountPermissions",docLinks:{sdk:"sdk.account",contracts:"IAccountPermissions"},abis:[IAccountPermissions],features:{}},FEATURE_ACCOUNT={name:"Account",namespace:"account",docLinks:{sdk:"sdk.account",contracts:"IAccount"},abis:[IAccount],features:{[FEATURE_ACCOUNT_PERMISSIONS.name]:FEATURE_ACCOUNT_PERMISSIONS,[FEATURE_ACCOUNT_PERMISSIONS_V1.name]:FEATURE_ACCOUNT_PERMISSIONS_V1}},FEATURE_AIRDROP_ERC20={name:"AirdropERC20",namespace:"airdrop20",docLinks:{sdk:"",contracts:"IAirdropERC20"},abis:[IAirdropERC20],features:{}},FEATURE_AIRDROP_ERC721={name:"AirdropERC721",namespace:"airdrop721",docLinks:{sdk:"",contracts:"IAirdropERC721"},abis:[IAirdropERC721],features:{}},FEATURE_AIRDROP_ERC1155={name:"AirdropERC1155",namespace:"airdrop1155",docLinks:{sdk:"",contracts:"IAirdropERC1155"},abis:[IAirdropERC1155],features:{}},FEATURE_FALLBACK={name:"Fallback",namespace:"fallback",docLinks:{sdk:"",contracts:""},abis:[fallbackAbi],features:{}},SUPPORTED_FEATURES={[FEATURE_TOKEN.name]:FEATURE_TOKEN,[FEATURE_NFT.name]:FEATURE_NFT,[FEATURE_EDITION.name]:FEATURE_EDITION,[FEATURE_ROYALTY.name]:FEATURE_ROYALTY,[FEATURE_PLATFORM_FEE.name]:FEATURE_PLATFORM_FEE,[FEATURE_PRIMARY_SALE.name]:FEATURE_PRIMARY_SALE,[FEATURE_PERMISSIONS.name]:FEATURE_PERMISSIONS,[FEATURE_METADATA.name]:FEATURE_METADATA,[FEATURE_APPURI.name]:FEATURE_APPURI,[FEATURE_OWNER.name]:FEATURE_OWNER,[FEATURE_GASLESS.name]:FEATURE_GASLESS,[FEATURE_PACK_VRF.name]:FEATURE_PACK_VRF,[FEATURE_PLUGIN_ROUTER.name]:FEATURE_PLUGIN_ROUTER,[FEATURE_DYNAMIC_CONTRACT.name]:FEATURE_DYNAMIC_CONTRACT,[FEATURE_MODULAR_CORE.name]:FEATURE_MODULAR_CORE,[FEATURE_MODULAR_EXTENSION.name]:FEATURE_MODULAR_EXTENSION,[FEATURE_DIRECT_LISTINGS.name]:FEATURE_DIRECT_LISTINGS,[FEATURE_ENGLISH_AUCTIONS.name]:FEATURE_ENGLISH_AUCTIONS,[FEATURE_OFFERS.name]:FEATURE_OFFERS,[FEATURE_AIRDROP_ERC20.name]:FEATURE_AIRDROP_ERC20,[FEATURE_AIRDROP_ERC721.name]:FEATURE_AIRDROP_ERC721,[FEATURE_AIRDROP_ERC1155.name]:FEATURE_AIRDROP_ERC1155,[FEATURE_ACCOUNT_FACTORY.name]:FEATURE_ACCOUNT_FACTORY,[FEATURE_ACCOUNT.name]:FEATURE_ACCOUNT,[FEATURE_NFT_LOYALTY_CARD.name]:FEATURE_NFT_LOYALTY_CARD,[FEATURE_NFT_UPDATABLE_METADATA.name]:FEATURE_NFT_UPDATABLE_METADATA,[FEATURE_FALLBACK.name]:FEATURE_FALLBACK};function toJSType(vn){let fn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,En=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Cn=vn.type,_i=!1;return Cn.endsWith("[]")&&(_i=!0,Cn=Cn.slice(0,-2)),Cn.startsWith("bytes")&&(Cn="BytesLike"),(Cn.startsWith("uint")||Cn.startsWith("int"))&&(Cn=fn?"BigNumber":"BigNumberish"),Cn.startsWith("bool")&&(Cn="boolean"),Cn==="address"&&(Cn="string"),Cn==="tuple"&&vn.components&&(Cn=`{ ${vn.components.map(An=>toJSType(An,!1,!0)).join(", ")} }`),_i&&(Cn+="[]"),En&&(Cn=`${vn.name}: ${Cn}`),Cn}function extractCommentFromMetadata(vn,fn,En){var Cn,_i,An,ba,xa,$a,rs,ts,is,cs;return((xa=(ba=(_i=(Cn=fn==null?void 0:fn.output)==null?void 0:Cn.userdoc)==null?void 0:_i[En])==null?void 0:ba[Object.keys(((An=fn==null?void 0:fn.output)==null?void 0:An.userdoc[En])||{}).find(us=>us.includes(vn||"unknown"))||""])==null?void 0:xa.notice)||((cs=(is=(rs=($a=fn==null?void 0:fn.output)==null?void 0:$a.devdoc)==null?void 0:rs[En])==null?void 0:is[Object.keys(((ts=fn==null?void 0:fn.output)==null?void 0:ts.devdoc[En])||{}).find(us=>us.includes(vn||"unknown"))||""])==null?void 0:cs.details)}function extractFunctionsFromAbi(vn,fn){var _i,An,ba,xa;const En=(vn||[]).filter($a=>$a.type==="function"),Cn=[];for(const $a of En){const rs=extractCommentFromMetadata($a.name,fn,"methods"),ts=((An=(_i=$a.inputs)==null?void 0:_i.map(bs=>`${bs.name||"key"}: ${toJSType(bs)}`))==null?void 0:An.join(", "))||"",is=ts?`, [${ts}]`:"",cs=(xa=(ba=$a.outputs)==null?void 0:ba.map(bs=>toJSType(bs,!0)))==null?void 0:xa.join(", "),us=cs?`: Promise<${cs}>`:": Promise<TransactionResult>",ps=`contract.call("${$a.name}"${is})${us}`;Cn.push({inputs:$a.inputs||[],outputs:$a.outputs||[],name:$a.name||"unknown",signature:ps,stateMutability:$a.stateMutability||"",comment:rs})}return Cn}function hasMatchingAbi(vn,fn){const En=extractFunctionsFromAbi(vn),Cn=fn.flatMap(An=>extractFunctionsFromAbi(An));return En.filter(An=>Cn.find(xa=>xa.name===An.name&&xa.inputs.length===An.inputs.length&&xa.inputs.every(($a,rs)=>{var ts;return $a.type==="tuple"||$a.type==="tuple[]"?$a.type===An.inputs[rs].type&&((ts=$a.components)==null?void 0:ts.every((is,cs)=>{var us,ps;return is.type===((ps=(us=An.inputs[rs].components)==null?void 0:us[cs])==null?void 0:ps.type)})):$a.type===An.inputs[rs].type}))!==void 0).length===Cn.length}function matchesAbiFromBytecode(vn,fn){const Cn=fn.map(An=>new utils$t.Interface(An)).flatMap(An=>Object.values(An.functions).map(ba=>Number(An.getSighash(ba)).toString(16)));return[...new Set(Cn)].every(An=>vn.includes(An))}const lruCache=createLruCache(10);function detectFeatures(vn){let fn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:SUPPORTED_FEATURES;const En=JSON.stringify(vn);if(lruCache.has(En))return lruCache.get(En);const Cn=detectFeaturesInternal(vn,fn);return lruCache.put(En,Cn),Cn}function detectFeaturesInternal(vn,fn){const En={};for(const Cn in fn){const _i=fn[Cn],An=matchesAbiInterface(vn,_i),ba=detectFeaturesInternal(vn,_i.features);En[Cn]={..._i,features:ba,enabled:An}}return En}function detectFeaturesFromBytecode(vn){let fn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:SUPPORTED_FEATURES;const En={};for(const Cn in fn){const _i=fn[Cn],An=matchesAbiFromBytecode(vn,_i.abis),ba=detectFeaturesFromBytecode(vn,_i.features);En[Cn]={..._i,features:ba,enabled:An}}return En}function matchesAbiInterface(vn,fn){return hasMatchingAbi(vn,fn.abis)}function extractFeatures(vn,fn){if(vn)for(const En in vn){const Cn=vn[En];Cn.enabled&&fn.push(Cn),extractFeatures(Cn.features,fn)}}function getAllDetectedExtensionsFromBytecode(vn){const fn=[];return extractFeatures(detectFeaturesFromBytecode(vn),fn),fn}function constructAbiFromBytecode(vn){let fn=getAllDetectedExtensionsFromBytecode(vn);return fn.find(Cn=>Cn.name==="ERC721")&&(fn=fn.filter(Cn=>Cn.name!=="ERC20")),joinABIs(fn.map(Cn=>joinABIs(Cn.abis)))}const CONTRACT_RESOLVER_BASE_URL="https://contract.thirdweb.com/metadata",metadataCache=createLruCache(20);let multichainRegistry;function getCacheKey(vn,fn){return`${vn}-${fn}`}function putInCache(vn,fn,En){metadataCache.put(getCacheKey(vn,fn),En)}function getContractMetadataFromCache(vn,fn){return metadataCache.get(getCacheKey(vn,fn))}async function fetchContractMetadataFromAddress(vn,fn,En){let Cn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const _i=(await fn.getNetwork()).chainId,An=getContractMetadataFromCache(vn,_i);if(An)return An;let ba;if(!(_i===31337||_i===1337))try{const $a=await fetch(`${CONTRACT_RESOLVER_BASE_URL}/${_i}/${vn}`,{headers:{...getAnalyticsHeaders$1()}});if($a.ok){const rs=await $a.json();ba=formatCompilerMetadata(rs)}}catch{}if(ba||(ba=await fetchContractMetadataFromBytecode(vn,_i,fn,En,Cn)),!ba)throw new Error(`Could not resolve contract. Try importing it by visiting: https://thirdweb.com/${_i}/${vn}`);return ba.isPartialAbi?console.warn(`Contract metadata could only be partially resolved, some contract functions might be unavailable. Try importing the contract by visiting: https://thirdweb.com/${_i}/${vn}`):putInCache(vn,_i,ba),ba}async function fetchContractMetadataFromBytecode(vn,fn,En,Cn){let _i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},An;const[ba,xa]=await Promise.all([resolveContractUriAndBytecode(vn,En).catch(()=>{}),getMetadataUriFromMultichainRegistry(vn,fn,_i).then(ts=>{if(ts)return{uri:ts,bytecode:""}}).catch(()=>{})]),$a=ba==null?void 0:ba.bytecode,rs=(xa==null?void 0:xa.uri)||(ba==null?void 0:ba.uri);if(!rs&&!$a)throw new Error(`Could not fetch bytecode for contract at ${vn} on chain ${fn}, double check that the address and chainId are correct.`);try{An=await fetchContractMetadata(rs,Cn)}catch{}if(!An&&$a){const ts=constructAbiFromBytecode($a);if(ts&&ts.length>0)return An={name:"Unimported Contract",abi:ts,metadata:{},info:{},licenses:[],isPartialAbi:!0},An}return An}async function getMetadataUriFromMultichainRegistry(vn,fn,En){var An;const Cn=(await __vitePreload(async()=>{const{default:ba}=await Promise.resolve().then(()=>TWMultichainRegistryLogic);return{default:ba}},void 0)).default;if(!multichainRegistry){const xa=((An=En==null?void 0:En.supportedChains)==null?void 0:An.find($a=>$a.chainId===137))||c137;multichainRegistry=new Contract(getMultichainRegistryAddress(),Cn,getChainProvider(xa,En))}return await multichainRegistry.getMetadataUri(fn,vn)}async function fetchAbiFromAddress(vn,fn,En){try{const Cn=await fetchContractMetadataFromAddress(vn,fn,En);if(Cn&&Cn.abi)return Cn.abi}catch{}}async function getCompositeABIfromRelease(vn,fn){const{extendedMetadata:En}=await fetchAndCacheDeployMetadata(vn,fn);return(En==null?void 0:En.compositeAbi)||[]}const ERROR_SUBSTRINGS=["eip-155","eip155","protected","invalid chain id for signer","chain id none","chain_id mismatch","recovered sender mismatch","transaction hash mismatch","chainid no support","chainid (0)","chainid(0)"],ERROR_SUBSTRINGS_COMPOSITE=[["account","not found"],["wrong","chainid"]],CUSTOM_GAS_BINS=[1,1*10**9,100*10**9,500*10**9,1e3*10**9,2500*10**9,5e3*10**9,7500*10**9,1e4*10**9,25e3*10**9,5e4*10**9,75e3*10**9,1e5*10**9,25e4*10**9,5e5*10**9,75e4*10**9,1e6*10**9],CUSTOM_GAS_FOR_CHAIN={5001:{name:"Mantle Testnet",gasPrice:1},71402:{name:"Godwoken Mainnet",gasPrice:4e4*10**9},1351057110:{name:"Chaos (SKALE Testnet)",gasPrice:1e5},361:{name:"Theta Mainnet",gasPrice:4e3*10**9},365:{name:"Theta Testnet",gasPrice:4e3*10**9},7700:{name:"Canto",gasPrice:1e3*10**9},7701:{name:"Canto Testnet",gasPrice:1e3*10**9},338:{name:"Cronos Testnet",gasPrice:2e3*10**9},47:{name:"Xpla Testnet",gasPrice:850*10**9},37:{name:"Xpla Mainnet",gasPrice:5100*10**9},199:{name:"BitTorrent Chain",gasPrice:3e5*10**9},88882:{name:"Spicy Chain",gasPrice:2500*10**9,gasLimit:2e5},88888:{name:"Chiliz Chain",gasPrice:2500*10**9,gasLimit:2e5}};function matchError(vn){return ERROR_SUBSTRINGS.some(Cn=>vn.includes(Cn))?!0:ERROR_SUBSTRINGS_COMPOSITE.some(Cn=>Cn.some(_i=>vn.includes(_i)))}const CREATE2_FACTORY_BYTECODE="0x604580600e600039806000f350fe7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe03601600081602082378035828234f58015156039578182fd5b8082525050506014600cf3",SIGNATURE={v:27,r:"0x2222222222222222222222222222222222222222222222222222222222222222",s:"0x2222222222222222222222222222222222222222222222222222222222222222"},COMMON_FACTORY="0x4e59b44847b379578588920cA78FbF26c0B4956C",GAS_LIMIT_FOR_DEPLOYER=5e6,DEPLOYER_BYTECODE="0x60806040526040516107f33803806107f383398101604081905261002291610359565b805160005b818110156100c157828181518110610041576100416104c9565b6020026020010151600001516001600160a01b03163b600014156100af576100ad838281518110610074576100746104c9565b602002602001015160200151848381518110610092576100926104c9565b6020026020010151604001516100c960201b6100091760201c565b505b806100b9816104df565b915050610027565b505050610557565b606061011183836040518060400160405280601e81526020017f416464726573733a206c6f772d6c6576656c2063616c6c206661696c6564000081525061011860201b60201c565b9392505050565b6060610127848460008561012f565b949350505050565b6060824710156101955760405162461bcd60e51b815260206004820152602660248201527f416464726573733a20696e73756666696369656e742062616c616e636520666f6044820152651c8818d85b1b60d21b60648201526084015b60405180910390fd5b6001600160a01b0385163b6101ec5760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e7472616374000000604482015260640161018c565b600080866001600160a01b031685876040516102089190610508565b60006040518083038185875af1925050503d8060008114610245576040519150601f19603f3d011682016040523d82523d6000602084013e61024a565b606091505b50909250905061025b828286610266565b979650505050505050565b60608315610275575081610111565b8251156102855782518084602001fd5b8160405162461bcd60e51b815260040161018c9190610524565b634e487b7160e01b600052604160045260246000fd5b604051606081016001600160401b03811182821017156102d7576102d761029f565b60405290565b604051601f8201601f191681016001600160401b03811182821017156103055761030561029f565b604052919050565b80516001600160a01b038116811461032457600080fd5b919050565b60005b8381101561034457818101518382015260200161032c565b83811115610353576000848401525b50505050565b6000602080838503121561036c57600080fd5b82516001600160401b038082111561038357600080fd5b818501915085601f83011261039757600080fd5b8151818111156103a9576103a961029f565b8060051b6103b88582016102dd565b91825283810185019185810190898411156103d257600080fd5b86860192505b838310156104bc578251858111156103f05760008081fd5b86016060601f19828d0381018213156104095760008081fd5b6104116102b5565b61041c8b850161030d565b8152604061042b81860161030d565b828d01529284015192898411156104425760008081fd5b83850194508e603f86011261045957600093508384fd5b8b85015193508984111561046f5761046f61029f565b61047f8c84601f870116016102dd565b92508383528e818587010111156104965760008081fd5b6104a5848d8501838801610329565b8101919091528452505091860191908601906103d8565b9998505050505050505050565b634e487b7160e01b600052603260045260246000fd5b600060001982141561050157634e487b7160e01b600052601160045260246000fd5b5060010190565b6000825161051a818460208701610329565b9190910192915050565b6020815260008251806020840152610543816040850160208701610329565b601f01601f19169190910160400192915050565b61028d806105666000396000f3fe6080604052600080fd5b606061004b83836040518060400160405280601e81526020017f416464726573733a206c6f772d6c6576656c2063616c6c206661696c65640000815250610052565b9392505050565b60606100618484600085610069565b949350505050565b6060824710156100cf5760405162461bcd60e51b815260206004820152602660248201527f416464726573733a20696e73756666696369656e742062616c616e636520666f6044820152651c8818d85b1b60d21b60648201526084015b60405180910390fd5b6001600160a01b0385163b6101265760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e747261637400000060448201526064016100c6565b600080866001600160a01b031685876040516101429190610208565b60006040518083038185875af1925050503d806000811461017f576040519150601f19603f3d011682016040523d82523d6000602084013e610184565b606091505b509150915061019482828661019f565b979650505050505050565b606083156101ae57508161004b565b8251156101be5782518084602001fd5b8160405162461bcd60e51b81526004016100c69190610224565b60005b838110156101f35781810151838201526020016101db565b83811115610202576000848401525b50505050565b6000825161021a8184602087016101d8565b9190910192915050565b60208152600082518060208401526102438160408501602087016101d8565b601f01601f1916919091016040019291505056fea26469706673582212200b524eb8ceaafe6c603273ee859fddbc2d6f1b7860c3d853dcf6f129f9d9371364736f6c634300080c0033",DEPLOYER_ABI=[{inputs:[{components:[{internalType:"address",name:"predictedAddress",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct IDeployer.Transaction[]",name:"transactions",type:"tuple[]"}],stateMutability:"payable",type:"constructor"}];async function isContractDeployed(vn,fn){const En=await fn.getCode(vn);return En!=="0x"&&En!=="0x0"}async function isEIP155Enforced(vn){try{await vn.sendTransaction("0xf8a58085174876e800830186a08080b853604580600e600039806000f350fe7fffffffffffffffafffffffffffffffffffffffffffffffffffffffffffffffe03601600081602082378035828234f58015156039578182fd5b8082525050506014600cf31ba02222222222222222222222222222222222222222222222222222222222222222a02222222222222222222222222222222222222222222222222222222222222222")}catch(fn){const En=fn.toString().toLowerCase(),Cn=JSON.stringify(fn).toLowerCase();return!!(matchError(En)||matchError(Cn))}return!1}function getKeylessTxn(vn,fn){const En=arrayify(keccak256$1(serialize$1(vn))),Cn=recoverAddress(En,fn),_i=serialize$1(vn,fn);return{signer:Cn,transaction:_i}}function getCreate2FactoryDeploymentInfo(vn,fn){const En=joinSignature(SIGNATURE),Cn=fn.gasPrice?fn.gasPrice:100*10**9,_i=fn.gasLimit?fn.gasLimit:1e5,An=getKeylessTxn({gasPrice:Cn,gasLimit:_i,nonce:0,data:CREATE2_FACTORY_BYTECODE,chainId:vn},En),ba=getContractAddress({from:An.signer,nonce:0});return{...An,deployment:ba,valueToSend:BigNumber.from(Cn).mul(_i)}}async function getCreate2FactoryAddress(vn){return(await computeCreate2FactoryTransaction(vn)).deployment}async function computeCreate2FactoryTransaction(vn){var ts,is;const fn=(await vn.getNetwork()).chainId;if(CUSTOM_GAS_FOR_CHAIN[fn]){const us=await isEIP155Enforced(vn)?fn:0,ps=(ts=CUSTOM_GAS_FOR_CHAIN[fn])==null?void 0:ts.gasPrice,bs=(is=CUSTOM_GAS_FOR_CHAIN[fn])==null?void 0:is.gasLimit,e0=getCreate2FactoryDeploymentInfo(us,{gasPrice:ps?BigNumber.from(ps):void 0,gasLimit:bs?BigNumber.from(bs):void 0});return await isContractDeployed(e0.deployment,vn)&&(e0.transaction=""),e0}const En=[...CUSTOM_GAS_BINS.map(cs=>getCreate2FactoryDeploymentInfo(fn,{gasPrice:BigNumber.from(cs)})),...CUSTOM_GAS_BINS.map(cs=>getCreate2FactoryDeploymentInfo(0,{gasPrice:BigNumber.from(cs)}))],Cn=await Promise.all(En.map(cs=>isContractDeployed(cs.deployment,vn))),_i=En.findIndex(cs=>cs.deployment===COMMON_FACTORY);if(_i&&Cn[_i])return{...En[_i],transaction:""};const An=Cn.findIndex(cs=>cs);if(An&&En[An])return{...En[An],transaction:""};const[ba,xa]=await Promise.all([isEIP155Enforced(vn),vn.getGasPrice()]),$a=ba?fn:0,rs=_getNearestGasPriceBin(xa);return getCreate2FactoryDeploymentInfo($a,{gasPrice:rs})}function _getNearestGasPriceBin(vn){const fn=CUSTOM_GAS_BINS.find(En=>BigNumber.from(En).gte(vn));return fn?BigNumber.from(fn):vn}const bytecode="0x60606040526040805190810160405280600d81526020017f57726170706564204574686572000000000000000000000000000000000000008152506000908051906020019061004f9291906100c8565b506040805190810160405280600481526020017f57455448000000000000000000000000000000000000000000000000000000008152506001908051906020019061009b9291906100c8565b506012600260006101000a81548160ff021916908360ff16021790555034156100c357600080fd5b61016d565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061010957805160ff1916838001178555610137565b82800160010185558215610137579182015b8281111561013657825182559160200191906001019061011b565b5b5090506101449190610148565b5090565b61016a91905b8082111561016657600081600090555060010161014e565b5090565b90565b610c348061017c6000396000f3006060604052600436106100af576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806306fdde03146100b9578063095ea7b31461014757806318160ddd146101a157806323b872dd146101ca5780632e1a7d4d14610243578063313ce5671461026657806370a082311461029557806395d89b41146102e2578063a9059cbb14610370578063d0e30db0146103ca578063dd62ed3e146103d4575b6100b7610440565b005b34156100c457600080fd5b6100cc6104dd565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561010c5780820151818401526020810190506100f1565b50505050905090810190601f1680156101395780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561015257600080fd5b610187600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803590602001909190505061057b565b604051808215151515815260200191505060405180910390f35b34156101ac57600080fd5b6101b461066d565b6040518082815260200191505060405180910390f35b34156101d557600080fd5b610229600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803590602001909190505061068c565b604051808215151515815260200191505060405180910390f35b341561024e57600080fd5b61026460048080359060200190919050506109d9565b005b341561027157600080fd5b610279610b05565b604051808260ff1660ff16815260200191505060405180910390f35b34156102a057600080fd5b6102cc600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610b18565b6040518082815260200191505060405180910390f35b34156102ed57600080fd5b6102f5610b30565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561033557808201518184015260208101905061031a565b50505050905090810190601f1680156103625780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561037b57600080fd5b6103b0600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050610bce565b604051808215151515815260200191505060405180910390f35b6103d2610440565b005b34156103df57600080fd5b61042a600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610be3565b6040518082815260200191505060405180910390f35b34600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055503373ffffffffffffffffffffffffffffffffffffffff167fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c346040518082815260200191505060405180910390a2565b60008054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156105735780601f1061054857610100808354040283529160200191610573565b820191906000526020600020905b81548152906001019060200180831161055657829003601f168201915b505050505081565b600081600460003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925846040518082815260200191505060405180910390a36001905092915050565b60003073ffffffffffffffffffffffffffffffffffffffff1631905090565b600081600360008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054101515156106dc57600080fd5b3373ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16141580156107b457507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff600460008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205414155b156108cf5781600460008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020541015151561084457600080fd5b81600460008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825403925050819055505b81600360008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254039250508190555081600360008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040518082815260200191505060405180910390a3600190509392505050565b80600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205410151515610a2757600080fd5b80600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825403925050819055503373ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f193505050501515610ab457600080fd5b3373ffffffffffffffffffffffffffffffffffffffff167f7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b65826040518082815260200191505060405180910390a250565b600260009054906101000a900460ff1681565b60036020528060005260406000206000915090505481565b60018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610bc65780601f10610b9b57610100808354040283529160200191610bc6565b820191906000526020600020905b815481529060010190602001808311610ba957829003601f168201915b505050505081565b6000610bdb33848461068c565b905092915050565b60046020528160005260406000206020528060005260406000206000915091505054815600a165627a7a72305820deb4c2ccab3c2fdca32ab3f46728389c2fe2c165d5fafa07661e4e004f6c344a0029";function getSaltHash(vn){const fn=vn.startsWith("0x")?vn:`0x${vn}`,Cn=`tw.${id(fn)}`;return id(Cn)}function getInitBytecodeWithSalt(vn,fn,En){const Cn=vn.startsWith("0x")?vn:`0x${vn}`,_i=En?id(En):getSaltHash(Cn);return pack(["bytes32","bytes","bytes"],[_i,Cn,fn])}function computeDeploymentAddress(vn,fn,En,Cn){const _i=vn.startsWith("0x")?vn:`0x${vn}`,An=Cn?id(Cn):getSaltHash(_i),ba=pack(["bytes","bytes"],[_i,fn]),xa=pack(["bytes1","address","bytes32","bytes32"],["0xff",En,An,keccak256(["bytes"],[ba])]);return`0x${keccak256(["bytes"],[xa]).slice(26)}`}let ChainId=function(vn){return vn[vn.Mainnet=1]="Mainnet",vn[vn.Goerli=5]="Goerli",vn[vn.Polygon=137]="Polygon",vn[vn.Mumbai=80001]="Mumbai",vn[vn.Localhost=1337]="Localhost",vn[vn.Hardhat=31337]="Hardhat",vn[vn.Fantom=250]="Fantom",vn[vn.FantomTestnet=4002]="FantomTestnet",vn[vn.Avalanche=43114]="Avalanche",vn[vn.AvalancheFujiTestnet=43113]="AvalancheFujiTestnet",vn[vn.Optimism=10]="Optimism",vn[vn.OptimismGoerli=420]="OptimismGoerli",vn[vn.Arbitrum=42161]="Arbitrum",vn[vn.ArbitrumGoerli=421613]="ArbitrumGoerli",vn[vn.BinanceSmartChainMainnet=56]="BinanceSmartChainMainnet",vn[vn.BinanceSmartChainTestnet=97]="BinanceSmartChainTestnet",vn}({});const NATIVE_TOKEN_ADDRESS="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",NATIVE_TOKENS={[ChainId.Mainnet]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",name:"Wrapped Ether",symbol:"WETH"}},[ChainId.Goerli]:{name:"Grli Ether",symbol:"GOR",decimals:18,wrapped:{address:"0xb4fbf271143f4fbf7b91a5ded31805e42b2208d6",name:"Wrapped Ether",symbol:"WETH"}},11155111:{name:"Sepolia Ether",symbol:"SEP",decimals:18,wrapped:{address:"0x7b79995e5f793A07Bc00c21412e50Ecae098E7f9",name:"Wrapped Ether",symbol:"WETH"}},[ChainId.Polygon]:{name:"Matic",symbol:"MATIC",decimals:18,wrapped:{address:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",name:"Wrapped Matic",symbol:"WMATIC"}},[ChainId.Mumbai]:{name:"Matic",symbol:"MATIC",decimals:18,wrapped:{address:"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889",name:"Wrapped Matic",symbol:"WMATIC"}},[ChainId.Avalanche]:{name:"Avalanche",symbol:"AVAX",decimals:18,wrapped:{address:"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",name:"Wrapped AVAX",symbol:"WAVAX"}},[ChainId.AvalancheFujiTestnet]:{name:"Avalanche",symbol:"AVAX",decimals:18,wrapped:{address:"0xd00ae08403B9bbb9124bB305C09058E32C39A48c",name:"Wrapped AVAX",symbol:"WAVAX"}},[ChainId.Fantom]:{name:"Fantom",symbol:"FTM",decimals:18,wrapped:{address:"0x21be370D5312f44cB42ce377BC9b8a0cEF1A4C83",name:"Wrapped Fantom",symbol:"WFTM"}},[ChainId.FantomTestnet]:{name:"Fantom",symbol:"FTM",decimals:18,wrapped:{address:"0xf1277d1Ed8AD466beddF92ef448A132661956621",name:"Wrapped Fantom",symbol:"WFTM"}},[ChainId.Arbitrum]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x82af49447d8a07e3bd95bd0d56f35241523fbab1",name:"Wrapped Ether",symbol:"WETH"}},[ChainId.ArbitrumGoerli]:{name:"Arbitrum Goerli Ether",symbol:"AGOR",decimals:18,wrapped:{address:"0xe39Ab88f8A4777030A534146A9Ca3B52bd5D43A3",name:"Wrapped Ether",symbol:"WETH"}},[ChainId.Optimism]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x4200000000000000000000000000000000000006",name:"Wrapped Ether",symbol:"WETH"}},[ChainId.OptimismGoerli]:{name:"Goerli Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x4200000000000000000000000000000000000006",name:"Wrapped Ether",symbol:"WETH"}},[ChainId.BinanceSmartChainMainnet]:{name:"Binance Chain Native Token",symbol:"BNB",decimals:18,wrapped:{address:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",name:"Wrapped Binance Chain Token",symbol:"WBNB"}},[ChainId.BinanceSmartChainTestnet]:{name:"Binance Chain Native Token",symbol:"TBNB",decimals:18,wrapped:{address:"0xae13d989daC2f0dEbFf460aC112a837C89BAa7cd",name:"Wrapped Binance Chain Testnet Token",symbol:"WBNB"}},[ChainId.Hardhat]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x5FbDB2315678afecb367f032d93F642f64180aa3",name:"Wrapped Ether",symbol:"WETH"}},[ChainId.Localhost]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x5FbDB2315678afecb367f032d93F642f64180aa3",name:"Wrapped Ether",symbol:"WETH"}},84531:{name:"Base Goerli Testnet",symbol:"ETH",decimals:18,wrapped:{address:"0x4200000000000000000000000000000000000006",name:"Wrapped Ether",symbol:"WETH"}},280:{name:"zkSync Era Testnet",symbol:"ETH",decimals:18,wrapped:{address:"0x5AEa5775959fBC2557Cc8789bC1bf90A239D9a91",name:"Wrapped Ether",symbol:"WETH"}}};function getNativeTokenByChainId(vn){const fn=getSupportedChains().find(En=>En.chainId===vn);return fn&&fn.nativeCurrency?{name:fn.nativeCurrency.name,symbol:fn.nativeCurrency.symbol,decimals:18,wrapped:{address:AddressZero$1,name:`Wrapped ${fn.nativeCurrency.name}`,symbol:`W${fn.nativeCurrency.symbol}`}}:NATIVE_TOKENS[vn]||{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:AddressZero$1,name:"Wrapped Ether",symbol:"WETH"}}}const LINK_TOKEN_ADDRESS={[ChainId.Mainnet]:"0x514910771AF9Ca656af840dff83E8264EcF986CA",[ChainId.Goerli]:"0x326C977E6efc84E512bB9C30f76E30c160eD06FB",[ChainId.BinanceSmartChainMainnet]:"0x404460C6A5EdE2D891e8297795264fDe62ADBB75",[ChainId.Polygon]:"0xb0897686c545045aFc77CF20eC7A532E3120E0F1",[ChainId.Mumbai]:"0x326C977E6efc84E512bB9C30f76E30c160eD06FB",[ChainId.Avalanche]:"0x5947BB275c521040051D82396192181b413227A3",[ChainId.AvalancheFujiTestnet]:"0x0b9d5D9136855f6FEc3c0993feE6E9CE8a297846",[ChainId.Fantom]:"0x6F43FF82CCA38001B6699a8AC47A2d0E66939407",[ChainId.FantomTestnet]:"0xfaFedb041c0DD4fA2Dc0d87a6B0979Ee6FA7af5F"};function extractConstructorParamsFromAbi(vn){const fn=AbiSchema.parse(vn||[]);for(const En of fn)if(En.type==="constructor")return En.inputs||[];return[]}const caches={deploymentPresets:{}};function getRoyaltyEngineV1ByChainId(vn){return ROYALTY_ENGINE_V1_ADDRESS[vn]||AddressZero$1}const ROYALTY_ENGINE_V1_ADDRESS={[ChainId.Mainnet]:"0x0385603ab55642cb4dd5de3ae9e306809991804f",[ChainId.Goerli]:"0xEF770dFb6D5620977213f55f99bfd781D04BBE15",[ChainId.BinanceSmartChainMainnet]:"0xEF770dFb6D5620977213f55f99bfd781D04BBE15",[ChainId.Polygon]:"0x28EdFcF0Be7E86b07493466e7631a213bDe8eEF2",[ChainId.Mumbai]:"0x0a01E11887f727D1b1Cd81251eeEE9BEE4262D07",[ChainId.Avalanche]:"0xEF770dFb6D5620977213f55f99bfd781D04BBE15",[ChainId.Optimism]:"0xEF770dFb6D5620977213f55f99bfd781D04BBE15",[ChainId.Arbitrum]:"0xEF770dFb6D5620977213f55f99bfd781D04BBE15"},AddressZero="0x0000000000000000000000000000000000000000";async function computeDeploymentInfo(vn,fn,En,Cn,_i,An,ba){const xa=_i&&_i.contractName,$a=_i&&_i.version;let rs=_i&&_i.publisherAddress,ts=_i&&_i.metadata;if(invariant(xa||ts),xa&&caches.deploymentPresets[xa])return caches.deploymentPresets[xa];if(xa==="WETH9"){const bs=computeDeploymentAddress(bytecode,[],Cn),e0=await isContractDeployed(bs,fn);let gs="";return e0||(gs=getInitBytecodeWithSalt(bytecode,[])),{name:xa,type:vn,transaction:{predictedAddress:bs,to:Cn,data:gs}}}if(!ts){invariant(xa),rs||(rs=THIRDWEB_DEPLOYER$1);const bs=await fetchPublishedContractFromPolygon(rs,xa,$a,En,An,ba);ts=(await fetchAndCacheDeployMetadata(bs.metadataUri,En)).compilerMetadata}const is=await encodeConstructorParamsForImplementation(ts,fn,En,Cn,_i==null?void 0:_i.constructorParams,An,ba),cs=computeDeploymentAddress(ts.bytecode,is,Cn),us=await isContractDeployed(cs,fn);let ps="";return us||(ps=getInitBytecodeWithSalt(ts.bytecode,is)),{name:xa,type:vn,transaction:{predictedAddress:cs,to:Cn,data:ps},encodedArgs:is}}async function encodeConstructorParamsForImplementation(vn,fn,En,Cn,_i,An,ba){const xa=extractConstructorParamsFromAbi(vn.abi),$a=xa.map(is=>is.type==="tuple[]"||is.type==="tuple"?ParamType.from(is):is.type),rs=await Promise.all(xa.map(async is=>{if(_i&&_i[is.name])return _i[is.name].type&&invariant(_i[is.name].type===is.type,`Provided type ${_i[is.name].type} doesn't match the actual type ${is.type} from Abi`),_i[is.name].value;if(is.name&&is.name.includes("nativeTokenWrapper"))return await nativeTokenInputArg(fn,En,Cn,An,ba);if(is.name&&is.name.includes("trustedForwarder")){if(vn.name==="Pack")return AddressZero;const cs=await computeDeploymentInfo("infra",fn,En,Cn,{contractName:"Forwarder"},An,ba);return caches.deploymentPresets.Forwarder||(caches.deploymentPresets.Forwarder=cs),cs.transaction.predictedAddress}else if(is.name&&is.name.includes("royaltyEngineAddress")){const cs=(await fn.getNetwork()).chainId;return getRoyaltyEngineV1ByChainId(cs)}else if(is.name&&is.name.includes("marketplaceV3Params")){const cs=(await fn.getNetwork()).chainId,us=getRoyaltyEngineV1ByChainId(cs),ps=await nativeTokenInputArg(fn,En,Cn,An,ba);return{extensions:_i?_i._extensions.value:[],royaltyEngineAddress:us,nativeTokenWrapper:ps}}else throw new Error("Can't resolve constructor arguments")}));return defaultAbiCoder.encode($a,rs)}async function nativeTokenInputArg(vn,fn,En,Cn,_i){const An=(await vn.getNetwork()).chainId;let ba=getNativeTokenByChainId(An).wrapped.address;if(ba===AddressZero$1){const xa=await computeDeploymentInfo("infra",vn,fn,En,{contractName:"WETH9"},Cn,_i);caches.deploymentPresets.WETH9||(caches.deploymentPresets.WETH9=xa),ba=xa.transaction.predictedAddress}return ba}async function computeEOAForwarderAddress(vn,fn,En,Cn,_i){return(!En||En==="")&&(En=await getCreate2FactoryAddress(vn)),(await computeDeploymentInfo("infra",vn,fn,En,{contractName:"ForwarderEOAOnly"},Cn,_i)).transaction.predictedAddress}async function computeForwarderAddress(vn,fn,En,Cn,_i){return(!En||En==="")&&(En=await getCreate2FactoryAddress(vn)),(await computeDeploymentInfo("infra",vn,fn,En,{contractName:"Forwarder"},Cn,_i)).transaction.predictedAddress}class NotFoundError extends Error{constructor(fn){super(fn?`Object with id ${fn} NOT FOUND`:"NOT_FOUND")}}class MissingRoleError extends Error{constructor(fn,En){super(`MISSING ROLE: ${fn} does not have the '${En}' role`)}}class DuplicateLeafsError extends Error{constructor(fn){super(`DUPLICATE_LEAFS${fn?` : ${fn}`:""}`)}}class AuctionAlreadyStartedError extends Error{constructor(fn){super(`Auction already started with existing bid${fn?`, id: ${fn}`:""}`)}}class ListingNotFoundError extends Error{constructor(fn,En){super(`Could not find listing.${fn?` marketplace address: ${fn}`:""}${En?` listing id: ${En}`:""}`)}}class WrongListingTypeError extends Error{constructor(fn,En,Cn,_i){super(`Incorrect listing type. Are you sure you're using the right method?.${fn?` marketplace address: ${fn}`:""}${En?` listing id: ${En}`:""}${_i?` expected type: ${_i}`:""}${Cn?` actual type: ${Cn}`:""}`)}}class AuctionHasNotEndedError extends Error{constructor(fn,En){super(`Auction has not ended yet${fn?`, id: ${fn}`:""}${En?`, end time: ${En.toString()}`:""}`)}}class ExtensionNotImplementedError extends Error{constructor(fn){super(`This functionality is not available because the contract does not implement the '${fn.name}' Extension. Learn how to unlock this functionality at https://portal.thirdweb.com/contracts/build/extensions `)}}class TransactionError extends Error{constructor(fn,En){var _i;let Cn=`



 TRANSACTION ERROR 


`;if(Cn+=`Reason: ${fn.reason}`,Cn+=`



 TRANSACTION INFORMATION 

`,Cn+=withSpaces("from",fn.from),fn.to&&(Cn+=withSpaces("to",fn.contractName?`${fn.to} (${fn.contractName})`:fn.to)),Cn+=withSpaces("chain",`${fn.network.name} (${fn.network.chainId})`),fn.rpcUrl)try{const An=new URL(fn.rpcUrl);Cn+=withSpaces("rpc",An.hostname)}catch{}if(fn.hash&&(Cn+=withSpaces("tx hash",fn.hash)),fn.value&&fn.value.gt(0)&&(Cn+=withSpaces("value",`${formatEther(fn.value)} ${((_i=NATIVE_TOKENS[fn.network.chainId])==null?void 0:_i.symbol)||""}`)),Cn+=withSpaces("data",`${fn.data}`),fn.method&&(Cn+=withSpaces("method",fn.method)),fn.sources){const An=fn.sources.find(ba=>ba.source.includes(fn.reason));if(An){const ba=An.source.split(`
`).map((rs,ts)=>`${ts+1}  ${rs}`),xa=ba.findIndex(rs=>rs.includes(fn.reason));ba[xa]+="   <-- REVERT";const $a=ba.slice(xa-8,xa+4);Cn+=`



 SOLIDITY STACK TRACE 


`,Cn+=`File: ${An.filename.replace("node_modules/","")}

`,Cn+=$a.join(`
`)}}Cn+=`



 DEBUGGING RESOURCES 


`,Cn+="Need helping debugging? Visit our support site: https://thirdweb.com/support",Cn+=`

`,super(Cn),this._reason=fn.reason,this._info=fn,this._raw=En}get reason(){return this._reason}get raw(){return this._raw}get info(){return this._info}}function parseRevertReason(vn){if(vn.reason&&!vn.reason.includes("cannot estimate gas"))return vn.reason;if(vn.error)return vn.error;let fn=vn;return typeof vn=="object"?fn=JSON.stringify(vn):typeof vn!="string"&&(fn=vn.toString()),fn.length>5e3?vn.message||"":parseMessageParts(/.*?"message":"([^"\\]*).*?/,fn)||parseMessageParts(/.*?"reason":"([^"\\]*).*?/,fn)||vn.message||""}function withSpaces(vn,fn){if(fn==="")return fn;const En=Array(10-vn.length).fill(" ").join("");return fn.includes(`
`)?fn=`

  `+fn.split(`
`).join(`
  `):fn=`${En}${fn}`,`
${vn}:${fn}`}function parseMessageParts(vn,fn){const En=fn.match(vn)||[];let Cn="";return(En==null?void 0:En.length)>0&&(Cn+=En[1]),Cn}function includesErrorMessage(vn,fn){return vn?vn&&vn.toString().includes(fn)||vn&&vn.message&&vn.message.toString().includes(fn)||vn&&vn.error&&vn.error.toString().includes(fn):!1}const ForwardRequest=[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"gas",type:"uint256"},{name:"nonce",type:"uint256"},{name:"data",type:"bytes"}],ChainAwareForwardRequest=[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"gas",type:"uint256"},{name:"nonce",type:"uint256"},{name:"data",type:"bytes"},{name:"chainid",type:"uint256"}],BiconomyForwarderAbi=[{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"batchId",type:"uint256"}],name:"getNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],_nonces={},_noncesSyncTimestamp={};async function getAndIncrementNonce(vn,fn,En){const Cn=En.join("|"),_i=_noncesSyncTimestamp[Cn],An=Date.now()-_i>=2e3;if(!(Cn in _nonces)||An){const xa=await vn.functions[fn](...En);Array.isArray(xa)&&xa.length>0?_nonces[Cn]=BigNumber.from(xa[0]):_nonces[Cn]=BigNumber.from(xa),_noncesSyncTimestamp[Cn]=Date.now()}const ba=_nonces[Cn];return _nonces[Cn]=BigNumber.from(_nonces[Cn]).add(1),ba}async function signTypedDataInternal(vn,fn,En,Cn){var rs,ts,is;let _i=vn;vn.originalSigner&&(_i=vn.originalSigner);const An=_i==null?void 0:_i.provider;if(!An)throw new Error("missing provider");const ba=TypedDataEncoder.getPayload(fn,En,Cn);let xa="";const $a=(await _i.getAddress()).toLowerCase();if((rs=An==null?void 0:An.provider)!=null&&rs.isWalletConnect)try{xa=await An.send("eth_signTypedData_v4",[$a,JSON.stringify(ba)])}catch(cs){if((ts=cs==null?void 0:cs.message)!=null&&ts.includes("eth_signTypedData_v4"))xa=await An.send("eth_signTypedData",[$a,JSON.stringify(ba)]);else throw cs}else try{xa=await _i._signTypedData(fn,En,Cn)}catch(cs){if((is=cs==null?void 0:cs.message)!=null&&is.includes("eth_signTypedData_v4"))xa=await An.send("eth_signTypedData",[$a,JSON.stringify(ba)]);else try{await An.send("eth_signTypedData_v4",[$a,JSON.stringify(ba)])}catch(us){throw us}}return{payload:ba,signature:joinSignature(splitSignature(xa))}}const NAME_ABI=[{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],DOMAIN_SEPARATOR_ABI=[{constant:!0,inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeperator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"}],NONCES_ABI=[{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getNonce",outputs:[{internalType:"uint256",name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"}];async function getSignerNonce(vn,fn){const En=new Contract(fn,NONCES_ABI,vn);try{return await En.nonces(await vn.getAddress())}catch{return await En.getNonce(await vn.getAddress())}}async function getDomainSeperator(vn,fn){const En=new Contract(fn,DOMAIN_SEPARATOR_ABI,vn);try{return await En.DOMAIN_SEPARATOR()}catch{try{return await En.getDomainSeperator()}catch(_i){console.error("Error getting domain separator",_i)}}}async function getTokenName(vn,fn){return new Contract(fn,NAME_ABI,vn).name()}async function getChainDomainSeperator(vn,fn){const En=await getDomainSeperator(vn,fn.verifyingContract),Cn={name:fn.name,version:fn.version,verifyingContract:fn.verifyingContract,salt:hexZeroPad(BigNumber.from(fn.chainId).toHexString(),32)};return TypedDataEncoder.hashDomain(Cn)===En?Cn:fn}async function signEIP2612Permit(vn,fn,En,Cn,_i,An,ba,xa){const[$a,rs,ts]=await Promise.all([getTokenName(vn,fn),vn.getChainId(),getSignerNonce(vn,fn)]),is=await getChainDomainSeperator(vn,{name:$a,version:"1",chainId:rs,verifyingContract:fn});ba=ba||ts.toString(),An=An||MaxUint256$1;const cs={owner:En,spender:Cn,value:_i,nonce:ba,deadline:An},us={Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},{signature:ps}=await signTypedDataInternal(vn,is,us,cs);return{message:cs,signature:ps}}const TWRegistry_address="0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",TWFactory_address="0x5DBC7B840baa9daBcBe9D2492E45D7244B54A2A0",OZ_DEFENDER_FORWARDER_ADDRESS="0xc82BbE41f2cF04e3a8efA18F7032BDD7f6d98a81",CONTRACT_ADDRESSES={[ChainId.Mainnet]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0x76ce2CB1Ae48Fa067f4fb8c5f803111AE0B24BEA",biconomyForwarder:"0x84a0856b038eaAd1cC7E297cF34A7e72685A8693",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:AddressZero},[ChainId.Goerli]:{openzeppelinForwarder:"0x5001A14CA6163143316a7C614e30e6041033Ac20",openzeppelinForwarderEOA:"0xe73c50cB9c5B378627ff625BB6e6725A4A5D65d2",biconomyForwarder:"0xE041608922d06a4F26C0d4c27d8bCD01daf1f792",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0xB1Bd9d7942A250BA2Dce27DD601F2ED4211A60C4"},[ChainId.Polygon]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0x4f247c69184ad61036EC2Bb3213b69F10FbEDe1F",biconomyForwarder:"0x86C80a8aa58e0A4fa09A69624c31Ab2a6CAD56b8",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0x308473Be900F4185A56587dE54bDFF5E8f7a6AE7"},[ChainId.Mumbai]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0xb1A2883fc4d287d9cB8Dbb96cFF60C76BEf2D250",biconomyForwarder:"0x9399BB24DBB5C4b782C70c2969F58716Ebbd6a3b",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0x3F17972CB27506eb4a6a3D59659e0B57a43fd16C"},[ChainId.Avalanche]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0xb1A2883fc4d287d9cB8Dbb96cFF60C76BEf2D250",biconomyForwarder:"0x64CD353384109423a966dCd3Aa30D884C9b2E057",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:AddressZero},[ChainId.AvalancheFujiTestnet]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0xe73c50cB9c5B378627ff625BB6e6725A4A5D65d2",biconomyForwarder:"0x6271Ca63D30507f2Dcbf99B52787032506D75BBF",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0x3E6eE864f850F5e5A98bc950B68E181Cf4010F23"},[ChainId.Fantom]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0xb1A2883fc4d287d9cB8Dbb96cFF60C76BEf2D250",biconomyForwarder:"0x64CD353384109423a966dCd3Aa30D884C9b2E057",twFactory:"0x97EA0Fcc552D5A8Fb5e9101316AAd0D62Ea0876B",twRegistry:TWRegistry_address,twBYOCRegistry:AddressZero},[ChainId.FantomTestnet]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0x42D3048b595B6e1c28a588d70366CcC2AA4dB47b",biconomyForwarder:"0x69FB8Dca8067A5D38703b9e8b39cf2D51473E4b4",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0x3E6eE864f850F5e5A98bc950B68E181Cf4010F23"},[ChainId.Arbitrum]:{openzeppelinForwarder:"0x4a8AC7f22DeD2CF923A51e4A1c67490bd8868add",openzeppelinForwarderEOA:"0x4f247c69184ad61036EC2Bb3213b69F10FbEDe1F",biconomyForwarder:"0xfe0fa3C06d03bDC7fb49c892BbB39113B534fB57",twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:TWRegistry_address,twBYOCRegistry:AddressZero},[ChainId.ArbitrumGoerli]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x119704314Ef304EaAAE4b3c7C9ABd59272A28310",biconomyForwarder:AddressZero,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:TWRegistry_address,twBYOCRegistry:AddressZero},[ChainId.Optimism]:{openzeppelinForwarder:"0xd85da690EF288A6976DE0E85Fb2Aad512eBAfbf7",openzeppelinForwarderEOA:"0x7e80648EB2071E26937F9D42A513ccf4815fc702",biconomyForwarder:"0xefba8a2a82ec1fb1273806174f5e28fbb917cf95",twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:TWRegistry_address,twBYOCRegistry:AddressZero},[ChainId.OptimismGoerli]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x119704314Ef304EaAAE4b3c7C9ABd59272A28310",biconomyForwarder:AddressZero,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:TWRegistry_address,twBYOCRegistry:AddressZero},[ChainId.BinanceSmartChainMainnet]:{openzeppelinForwarder:"0x7C4717039B89d5859c4Fbb85EDB19A6E2ce61171",openzeppelinForwarderEOA:"0xE8dd2Ff0212F86d3197b4AfDC6dAC6ac47eb10aC",biconomyForwarder:"0x86C80a8aa58e0A4fa09A69624c31Ab2a6CAD56b8",twBYOCRegistry:AddressZero,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:TWRegistry_address},[ChainId.BinanceSmartChainTestnet]:{openzeppelinForwarder:"0x44bE9D54B9C8b5e57a3325E8Ec9154640e7c6955",openzeppelinForwarderEOA:"0x7e80648EB2071E26937F9D42A513ccf4815fc702",biconomyForwarder:"0x61456BF1715C1415730076BB79ae118E806E74d2",twBYOCRegistry:AddressZero,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:TWRegistry_address},[ChainId.Hardhat]:{openzeppelinForwarder:AddressZero,openzeppelinForwarderEOA:AddressZero,biconomyForwarder:AddressZero,twFactory:AddressZero,twRegistry:AddressZero,twBYOCRegistry:AddressZero},[ChainId.Localhost]:{openzeppelinForwarder:AddressZero,openzeppelinForwarderEOA:AddressZero,biconomyForwarder:AddressZero,twFactory:AddressZero,twRegistry:AddressZero,twBYOCRegistry:AddressZero}};function getContractAddressByChainId(vn,fn){var En;return vn===ChainId.Hardhat||vn===ChainId.Localhost?fn==="twFactory"?getProcessEnv$1("factoryAddress"):fn==="twRegistry"?getProcessEnv$1("registryAddress"):AddressZero:(En=CONTRACT_ADDRESSES[vn])==null?void 0:En[fn]}let EventType=function(vn){return vn.Transaction="transaction",vn.Signature="signature",vn}({});const CallOverrideSchema=z$8.object({gasLimit:BigNumberishSchema.optional(),gasPrice:BigNumberishSchema.optional(),maxFeePerGas:BigNumberishSchema.optional(),maxPriorityFeePerGas:BigNumberishSchema.optional(),nonce:BigNumberishSchema.optional(),value:BigNumberishSchema.optional(),blockTag:z$8.union([z$8.string(),z$8.number()]).optional(),from:AddressOrEnsSchema.optional(),type:z$8.number().optional()}).strict();class RPCConnectionHandler extends EventEmitter$1{constructor(fn,En){super();try{this.options=SDKOptionsSchema.parse(En)}catch(An){console.error("invalid sdk options object passed, falling back to default options",An),this.options=SDKOptionsSchema.parse({})}const[Cn,_i]=getSignerAndProvider(fn,this.options);this.network=fn,this.signer=Cn,this.provider=_i}updateSignerOrProvider(fn){const[En,Cn]=getSignerAndProvider(fn,this.options);this.network=fn,this.signer=En,this.provider=Cn}isReadOnly(){return!isSigner(this.signer)}getSigner(){return this.signer}getProvider(){return this.provider}getSignerOrProvider(){return this.getSigner()||this.getProvider()}}class ContractWrapper extends RPCConnectionHandler{constructor(En,Cn,_i,An,ba){super(En,An);Lo(this,"isValidContract",!1);Lo(this,"customOverrides",()=>({}));this.abi=AbiSchema.parse(_i),this.address=Cn,this.writeContract=new Contract(Cn,_i,this.getSignerOrProvider()),this.readContract=this.writeContract.connect(this.getProvider()),this.storage=ba,this.functions=extractFunctionsFromAbi(this.abi),this.extensions=detectFeatures(this.abi)}updateSignerOrProvider(En){super.updateSignerOrProvider(En),this.writeContract=this.writeContract.connect(this.getSignerOrProvider()),this.readContract=this.writeContract.connect(this.getProvider())}updateAbi(En){this.writeContract=new Contract(this.address,En,this.getSignerOrProvider()),this.readContract=this.writeContract.connect(this.getProvider()),this.abi=AbiSchema.parse(En),this.functions=extractFunctionsFromAbi(this.abi),this.extensions=detectFeatures(this.abi)}async getChainID(){const En=this.getProvider(),{chainId:Cn}=await En.getNetwork();return Cn}async getSignerAddress(){const En=this.getSigner();if(!En)throw new Error("This action requires a connected wallet to sign the transaction. Please pass a valid signer to the SDK.");return await En.getAddress()}callStatic(){return this.writeContract.callStatic}async getCallOverrides(){return{}}emitTransactionEvent(En,Cn){this.emit(EventType.Transaction,{status:En,transactionHash:Cn})}async multiCall(En){return this.sendTransaction("multicall",[En])}async estimateGas(En,Cn){return this.writeContract.estimateGas[En](...Cn)}async populateTransaction(En,Cn){return this.writeContract.populateTransaction[En](...Cn)}withTransactionOverride(En){this.customOverrides=En}async read(En,Cn){const _i=this.functions.filter($a=>$a.name===En);if(!_i.length)throw new Error(`Function "${En.toString()}" not found in contract. Check your dashboard for the list of functions available`);const An=_i.find($a=>$a.name===En&&$a.inputs.length===Cn.length);if(!An)throw new Error(`Function "${En.toString()}" requires ${_i[0].inputs.length} arguments, but ${Cn.length} were provided.
Expected function signature: ${_i[0].signature}`);const ba=`${En.toString()}(${An.inputs.map($a=>$a.type).join()})`,xa=ba in this.readContract.functions?ba:En;if(An.stateMutability==="view"||An.stateMutability==="pure")return await this.readContract[xa.toString()](...Cn);throw new Error("Cannot call a write function with read()")}async call(En){let Cn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],_i=arguments.length>2?arguments[2]:void 0;const An=_i?await CallOverrideSchema.parseAsync(_i):void 0,ba=extractFunctionsFromAbi(AbiSchema.parse(this.abi)).filter(ts=>ts.name===En);if(!ba.length)throw new Error(`Function "${En}" not found in contract. Check your dashboard for the list of functions available`);const xa=ba.find(ts=>ts.name===En&&ts.inputs.length===Cn.length);if(!xa)throw new Error(`Function "${En}" requires ${ba[0].inputs.length} arguments, but ${Cn.length} were provided.
Expected function signature: ${ba[0].signature}`);const $a=`${En}(${xa.inputs.map(ts=>ts.type).join()})`,rs=$a in this.readContract.functions?$a:En;return xa.stateMutability==="view"||xa.stateMutability==="pure"?An?this.readContract[rs](...Cn,An):this.readContract[rs](...Cn):{receipt:await this.sendTransaction(rs,Cn,An)}}async sendTransaction(En,Cn,_i){var An;if(_i||(_i=await this.getCallOverrides()),_i={..._i,...this.customOverrides()},this.customOverrides=()=>({}),(An=this.options)!=null&&An.gasless&&("openzeppelin"in this.options.gasless||"biconomy"in this.options.gasless||"engine"in this.options.gasless)){if(En==="multicall"&&Array.isArray(Cn[0])&&Cn[0].length>0){const rs=await this.getSignerAddress();Cn[0]=Cn[0].map(ts=>pack(["bytes","address"],[ts,rs]))}const ba=this.getProvider(),xa=await this.sendGaslessTransaction(En,Cn,_i);this.emitTransactionEvent("submitted",xa);const $a=await ba.waitForTransaction(xa);return this.emitTransactionEvent("completed",xa),$a}else{if(!this.isValidContract){const $a=await this.getProvider().getCode(this.address);if(this.isValidContract=$a!=="0x",!this.isValidContract)throw new Error("The address you're trying to send a transaction to is not a smart contract. Make sure you are on the correct network and the contract address is correct")}const ba=await this.sendTransactionByFunction(En,Cn,_i);this.emitTransactionEvent("submitted",ba.hash);let xa;try{xa=await ba.wait()}catch($a){try{await this.writeContract.callStatic[En](...Cn,..._i.value?[{value:_i.value}]:[])}catch(rs){throw await this.formatError(rs,En,Cn,_i)}throw await this.formatError($a,En,Cn,_i)}return this.emitTransactionEvent("completed",ba.hash),xa}}async sendTransactionByFunction(En,Cn,_i){const An=this.writeContract.functions[En];if(!An)throw new Error(`invalid function: "${En.toString()}"`);if(!_i.gasLimit)try{_i.gasLimit=await this.writeContract.estimateGas[En](...Cn,_i)}catch{try{await this.writeContract.callStatic[En](...Cn,..._i.value?[{value:_i.value}]:[])}catch(xa){throw await this.formatError(xa,En,Cn,_i)}}try{return await An(...Cn,_i)}catch(ba){throw await this.formatError(ba,En,Cn,_i)}}async formatError(En,Cn,_i,An){var n0,c0,d0;const ba=this.getProvider(),xa=await ba.getNetwork(),$a=await(An.from||this.getSignerAddress()),rs=this.address,ts=this.readContract.interface.encodeFunctionData(Cn,_i),is=BigNumber.from(An.value||0),cs=(n0=ba.connection)==null?void 0:n0.url,us=this.readContract.interface.getFunction(Cn),ps=_i.map(o0=>JSON.stringify(o0).length<=80?JSON.stringify(o0):JSON.stringify(o0,void 0,2)),bs=ps.join(", ").length<=80?ps.join(", "):`
`+ps.map(o0=>"  "+o0.split(`
`).join(`
  `)).join(`,
`)+`
`,e0=`${us.name}(${bs})`,gs=En.transactionHash||((c0=En.transaction)==null?void 0:c0.hash)||((d0=En.receipt)==null?void 0:d0.transactionHash),Ds=parseRevertReason(En);let i0;try{const o0=(await ba.getNetwork()).chainId,g0=getContractMetadataFromCache(this.address,o0);g0!=null&&g0.name&&(i0=g0.name)}catch{}return new TransactionError({reason:Ds,from:$a,to:rs,method:e0,data:ts,network:xa,rpcUrl:cs,value:is,hash:gs,contractName:i0},En)}async sendGaslessTransaction(En){let Cn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],_i=arguments.length>2?arguments[2]:void 0;const An=this.getSigner();invariant(An);const ba=await this.getChainID(),xa=await this.getSignerAddress(),$a=this.writeContract.address,rs=(_i==null?void 0:_i.value)||0;if(BigNumber.from(rs).gt(0))throw new Error("Cannot send native token value with gasless transaction");const ts=this.writeContract.interface.encodeFunctionData(En,Cn);let is=BigNumber.from(0);try{is=(await this.readContract.estimateGas[En](...Cn)).mul(2)}catch{}is.lt(1e5)&&(is=BigNumber.from(5e5)),_i.gasLimit&&BigNumber.from(_i.gasLimit).gt(is)&&(is=BigNumber.from(_i.gasLimit));const cs={from:xa,to:$a,data:ts,chainId:ba,gasLimit:is,functionName:En.toString(),functionArgs:Cn,callOverrides:_i};return await this.defaultGaslessSendFunction(cs)}async signTypedData(En,Cn,_i,An){this.emit(EventType.Signature,{status:"submitted",message:An,signature:""});const{signature:ba}=await signTypedDataInternal(En,Cn,_i,An);return this.emit(EventType.Signature,{status:"completed",message:An,signature:ba}),ba}parseLogs(En,Cn){if(!Cn||Cn.length===0)return[];const _i=this.writeContract.interface.getEventTopic(En);return Cn.filter(ba=>ba.topics.indexOf(_i)>=0).map(ba=>this.writeContract.interface.parseLog(ba))}async defaultGaslessSendFunction(En){return this.options.gasless&&"biconomy"in this.options.gasless?this.biconomySendFunction(En):this.options.gasless&&"openzeppelin"in this.options.gasless?this.defenderSendFunction(En):this.engineSendFunction(En)}async engineSendFunction(En){var rs;invariant(this.options.gasless&&"engine"in this.options.gasless);const Cn=await this.enginePrepareRequest(En),An=await(await fetch(this.options.gasless.engine.relayerUrl,{...Cn,headers:{"Content-Type":"application/json"}})).json();if(An.error)throw new Error(((rs=An.error)==null?void 0:rs.message)||JSON.stringify(An.error));const ba=An.result.queueId,xa=this.options.gasless.engine.relayerUrl.split("/relayer/")[0],$a=Date.now();for(;;){const is=await(await fetch(`${xa}/transaction/status/${ba}`)).json();if(is.result.transactionHash)return is.result.transactionHash;if(Date.now()-$a>30*1e3)throw new Error("timeout");await new Promise(cs=>setTimeout(cs,2e3))}}async enginePrepareRequest(En){var ba;invariant(this.options.gasless&&"engine"in this.options.gasless);const Cn=this.getSigner(),_i=this.getProvider(),An=this.storage;invariant(Cn);try{const{abi:xa}=await fetchContractMetadataFromAddress(En.to,_i,An),$a=(await _i.getNetwork()).chainId,rs=new ContractWrapper(Cn,En.to,xa,{},An);if(xa.find(ts=>ts.name==="executeMetaTransaction")){const is={name:await rs.call("name",[]),version:"1",salt:"0x"+$a.toString(16).padStart(64,"0"),verifyingContract:En.to},cs={MetaTransaction:[{name:"nonce",type:"uint256"},{name:"from",type:"address"},{name:"functionSignature",type:"bytes"}]},ps={nonce:await rs.call("getNonce",[En.from]),from:En.from,functionSignature:En.data},{signature:bs}=await signTypedDataInternal(Cn,is,cs,ps);return{method:"POST",body:JSON.stringify({type:"execute-meta-transaction",request:{from:En.from,to:En.to,data:En.data},signature:bs})}}}catch{}if(En.functionName==="approve"&&En.functionArgs.length===2){const xa=En.functionArgs[0],$a=En.functionArgs[1],{message:rs,signature:ts}=await signEIP2612Permit(Cn,En.to,En.from,xa,$a,this.options.gasless.engine.domainSeparatorVersion),is={to:En.to,owner:rs.owner,spender:rs.spender,value:BigNumber.from(rs.value).toString(),nonce:BigNumber.from(rs.nonce).toString(),deadline:BigNumber.from(rs.deadline).toString()};return{method:"POST",body:JSON.stringify({type:"permit",request:is,signature:ts})}}else{const xa=this.options.gasless.engine.relayerForwarderAddress||((ba=CONTRACT_ADDRESSES[En.chainId])==null?void 0:ba.openzeppelinForwarder)||await computeForwarderAddress(_i,An),$a=(await __vitePreload(async()=>{const{default:e0}=await import("./Forwarder-B_i7Dzv1.js");return{default:e0}},[])).default,rs=new Contract(xa,$a,_i),ts=await getAndIncrementNonce(rs,"getNonce",[En.from]);let is,cs,us;this.options.gasless.experimentalChainlessSupport?(is={name:"GSNv2 Forwarder",version:"0.0.1",verifyingContract:xa},cs={ForwardRequest:ChainAwareForwardRequest},us={from:En.from,to:En.to,value:BigNumber.from(0).toString(),gas:BigNumber.from(En.gasLimit).toString(),nonce:BigNumber.from(ts).toString(),data:En.data,chainid:BigNumber.from(En.chainId).toString()}):(is={name:this.options.gasless.engine.domainName,version:this.options.gasless.engine.domainVersion,chainId:En.chainId,verifyingContract:xa},cs={ForwardRequest},us={from:En.from,to:En.to,value:BigNumber.from(0).toString(),gas:BigNumber.from(En.gasLimit).toString(),nonce:BigNumber.from(ts).toString(),data:En.data});const{signature:ps}=await signTypedDataInternal(Cn,is,cs,us);return{method:"POST",body:JSON.stringify({type:"forward",request:us,signature:ps,forwarderAddress:xa})}}}async biconomySendFunction(En){var cs,us;invariant(this.options.gasless&&"biconomy"in this.options.gasless);const Cn=this.getSigner(),_i=this.getProvider();invariant(Cn&&_i);const An=new Contract(getContractAddressByChainId(En.chainId,"biconomyForwarder"),BiconomyForwarderAbi,_i),ba=0,xa=await getAndIncrementNonce(An,"getNonce",[En.from,ba]),$a={from:En.from,to:En.to,token:AddressZero$1,txGas:En.gasLimit.toNumber(),tokenGasPrice:"0",batchId:ba,batchNonce:xa.toNumber(),deadline:Math.floor(Date.now()/1e3+(((cs=this.options)==null?void 0:cs.gasless)&&"biconomy"in this.options.gasless&&((us=this.options.gasless.biconomy)==null?void 0:us.deadlineSeconds)||3600)),data:En.data},rs=arrayify(keccak256(["address","address","address","uint256","uint256","uint256","uint256","uint256","bytes32"],[$a.from,$a.to,$a.token,$a.txGas,$a.tokenGasPrice,$a.batchId,$a.batchNonce,$a.deadline,keccak256$1($a.data)]));this.emit(EventType.Signature,{status:"submitted",message:rs,signature:""});const ts=await Cn.signMessage(rs);this.emit(EventType.Signature,{status:"completed",message:rs,signature:ts});const is=await fetch("https://api.biconomy.io/api/v2/meta-tx/native",{method:"POST",body:JSON.stringify({from:En.from,apiId:this.options.gasless.biconomy.apiId,params:[$a,ts],to:En.to,gasLimit:En.gasLimit.toHexString()}),headers:{"x-api-key":this.options.gasless.biconomy.apiKey,"Content-Type":"application/json;charset=utf-8"}});if(is.ok){const ps=await is.json();if(!ps.txHash)throw new Error(`relay transaction failed: ${ps.log}`);return ps.txHash}throw new Error(`relay transaction failed with status: ${is.status} (${is.statusText})`)}async defenderSendFunction(En){var e0,gs;invariant(this.options.gasless&&"openzeppelin"in this.options.gasless);const Cn=this.getSigner(),_i=this.getProvider();invariant(Cn),invariant(_i);const An=(await __vitePreload(async()=>{const{default:Ds}=await import("./Forwarder-B_i7Dzv1.js");return{default:Ds}},[])).default,ba=this.options.gasless.openzeppelin.relayerForwarderAddress||(this.options.gasless.openzeppelin.useEOAForwarder?((e0=CONTRACT_ADDRESSES[En.chainId])==null?void 0:e0.openzeppelinForwarderEOA)||await computeEOAForwarderAddress(this.getProvider(),this.storage,"",this.options.clientId,this.options.secretKey):((gs=CONTRACT_ADDRESSES[En.chainId])==null?void 0:gs.openzeppelinForwarder)||await computeForwarderAddress(this.getProvider(),this.storage,"",this.options.clientId,this.options.secretKey)),xa=new Contract(ba,An,_i),$a=await getAndIncrementNonce(xa,"getNonce",[En.from]);let rs,ts,is;this.options.gasless.experimentalChainlessSupport?(rs={name:"GSNv2 Forwarder",version:"0.0.1",verifyingContract:ba},ts={ForwardRequest:ChainAwareForwardRequest},is={from:En.from,to:En.to,value:BigNumber.from(0).toString(),gas:BigNumber.from(En.gasLimit).toString(),nonce:BigNumber.from($a).toString(),data:En.data,chainid:BigNumber.from(En.chainId).toString()}):(rs={name:this.options.gasless.openzeppelin.domainName,version:this.options.gasless.openzeppelin.domainVersion,chainId:En.chainId,verifyingContract:ba},ts={ForwardRequest},is={from:En.from,to:En.to,value:BigNumber.from(0).toString(),gas:BigNumber.from(En.gasLimit).toString(),nonce:BigNumber.from($a).toString(),data:En.data});let cs;if(this.emit(EventType.Signature,{status:"submitted",message:is,signature:""}),En.functionName==="approve"&&En.functionArgs.length===2){const Ds=En.functionArgs[0],i0=En.functionArgs[1],{message:n0,signature:c0}=await signEIP2612Permit(Cn,this.writeContract.address,En.from,Ds,i0,this.options.gasless.openzeppelin.domainSeparatorVersion),{r:d0,s:o0,v:g0}=splitSignature(c0);is={to:this.address,owner:n0.owner,spender:n0.spender,value:BigNumber.from(n0.value).toString(),nonce:BigNumber.from(n0.nonce).toString(),deadline:BigNumber.from(n0.deadline).toString(),r:d0,s:o0,v:g0},cs=c0}else{const{signature:Ds}=await signTypedDataInternal(Cn,rs,ts,is);cs=Ds}let us="forward";is!=null&&is.owner&&(us="permit");const ps=JSON.stringify({request:is,signature:cs,forwarderAddress:ba,type:us});this.emit(EventType.Signature,{status:"completed",message:is,signature:cs});const bs=await fetch(this.options.gasless.openzeppelin.relayerUrl,{method:"POST",body:ps});if(bs.ok){const Ds=await bs.json();if(!Ds.result)throw new Error(`Relay transaction failed: ${Ds.message}`);return JSON.parse(Ds.result).txHash}throw new Error(`relay transaction failed with status: ${bs.status} (${bs.statusText})`)}}function isFeatureEnabled(vn,fn,En){return _featureEnabled(En,fn)}function isExtensionEnabled(vn,fn,En){return isFeatureEnabled(vn,fn,En)}function _featureEnabled(vn,fn){const En=Object.keys(vn);if(!En.includes(fn)){let _i=!1;for(const An of En){const ba=vn[An];if(_i=_featureEnabled(ba.features,fn),_i)break}return _i}return vn[fn].enabled}async function getPluginABI(vn,fn,En){return(await Promise.all(vn.map(Cn=>fetchContractMetadataFromAddress(Cn,fn,En).catch(_i=>(console.error(`Failed to fetch plug-in for ${Cn}`,_i),{abi:[]}))))).map(Cn=>Cn.abi)}async function getCompositeABI(vn,fn,En,Cn,_i){let An=[];try{const ba=detectFeatures(fn),xa=isExtensionEnabled(fn,"PluginRouter",ba),$a=isExtensionEnabled(fn,"DynamicContract",ba),rs=isExtensionEnabled(fn,"ModularCore",ba),ts=isExtensionEnabled(fn,"Fallback",ba);if($a){const us=(await new ContractWrapper(En,vn,getAllExtensionsAbi,Cn,_i).call("getAllExtensions")).map(ps=>ps.metadata.implementation);An=await getPluginABI(us,En,_i)}else if(rs){const us=(await new ContractWrapper(En,vn,coreContractAbi,Cn,_i).call("getInstalledExtensions")).map(ps=>ps.implementation);An=await getPluginABI(us,En,_i)}else if(xa){const us=(await new ContractWrapper(En,vn,getAllPluginsAbi,Cn,_i).call("getAllPlugins")).map(bs=>bs.pluginAddress),ps=Array.from(new Set(us));An=await getPluginABI(ps,En,_i)}else if(ts){const is=["function facets() external view returns (tuple(address,bytes4[])[])"],ps=(await new Contract(vn,is,En).facets()).map(bs=>bs[0]);An=await getPluginABI(ps,En,_i)}}catch{}return An.length>0?joinABIs([...An],fn):fn}const roleMap={admin:"",transfer:"TRANSFER_ROLE",minter:"MINTER_ROLE",pauser:"PAUSER_ROLE",lister:"LISTER_ROLE",asset:"ASSET_ROLE",unwrap:"UNWRAP_ROLE",factory:"FACTORY_ROLE",signer:"SIGNER_ROLE",metadata:"METADATA_ROLE",revoke:"REVOKE_ROLE",migration:"MIGRATION_ROLE"},ALL_ROLES=Object.keys(roleMap);function getRoleHash(vn){return vn==="admin"?hexZeroPad([0],32):id(roleMap[vn])}const DropErc1155ContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(MerkleSchema).merge(CommonSymbolSchema),DropErc1155ContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(MerkleSchema).merge(CommonSymbolSchema),DropErc1155ContractDeploy=DropErc1155ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),DropErc1155ContractSchema={deploy:DropErc1155ContractDeploy,output:DropErc1155ContractOutput,input:DropErc1155ContractInput},DropErc20ContractInput=CommonContractSchema.merge(MerkleSchema).merge(CommonSymbolSchema),DropErc20ContractOutput=CommonContractOutputSchema.merge(MerkleSchema).merge(CommonSymbolSchema),DropErc20ContractDeploy=DropErc20ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),DropErc20ContractSchema={deploy:DropErc20ContractDeploy,output:DropErc20ContractOutput,input:DropErc20ContractInput},DropErc721ContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(MerkleSchema).merge(CommonSymbolSchema),DropErc721ContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(MerkleSchema).merge(CommonSymbolSchema),DropErc721ContractDeploy=DropErc721ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),DropErc721ContractSchema={deploy:DropErc721ContractDeploy,output:DropErc721ContractOutput,input:DropErc721ContractInput},MarketplaceContractInput=CommonContractSchema,MarketplaceContractOutput=CommonContractOutputSchema,MarketplaceContractDeploy=MarketplaceContractInput.merge(CommonPlatformFeeSchema).merge(CommonTrustedForwarderSchema),MarketplaceContractSchema={deploy:MarketplaceContractDeploy,output:MarketplaceContractOutput,input:MarketplaceContractInput},MultiwrapContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),MultiwrapContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),MultiwrapContractDeploy=MultiwrapContractInput.merge(CommonTrustedForwarderSchema),MultiwrapContractSchema={deploy:MultiwrapContractDeploy,output:MultiwrapContractOutput,input:MultiwrapContractInput},PackContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),PackContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),PackContractDeploy=PackContractInput.merge(CommonPlatformFeeSchema).merge(CommonTrustedForwarderSchema),PackContractSchema={deploy:PackContractDeploy,output:PackContractOutput,input:PackContractInput},SplitRecipientInputSchema=z$8.object({address:AddressOrEnsSchema,sharesBps:BasisPointsSchema.gt(0,"Shares must be greater than 0")}),SplitRecipientOuputSchema=SplitRecipientInputSchema.extend({address:AddressOrEnsSchema,sharesBps:BasisPointsSchema}),SplitsContractInput=CommonContractSchema.extend({recipients:z$8.array(SplitRecipientInputSchema).default([]).superRefine((vn,fn)=>{const En={};let Cn=0;for(let _i=0;_i<vn.length;_i++){const An=vn[_i];En[An.address]&&fn.addIssue({code:z$8.ZodIssueCode.custom,message:"Duplicate address.",path:[_i,"address"]}),En[An.address]=!0,Cn+=An.sharesBps,Cn>1e4&&fn.addIssue({code:z$8.ZodIssueCode.custom,message:"Total shares cannot go over 100%.",path:[_i,"sharesBps"]})}Cn!==1e4&&fn.addIssue({code:z$8.ZodIssueCode.custom,message:`Total shares need to add up to 100%. Total shares are currently ${Cn/100}%`,path:[]})})}),SplitsContractOutput=CommonContractOutputSchema.extend({recipients:z$8.array(SplitRecipientOuputSchema)}),SplitsContractDeploy=SplitsContractInput.merge(SplitsContractInput).merge(CommonTrustedForwarderSchema),SplitsContractSchema={deploy:SplitsContractDeploy,output:SplitsContractOutput,input:SplitsContractInput},TokenErc1155ContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),TokenErc1155ContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),TokenErc1155ContractDeploy=TokenErc1155ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),TokenErc1155ContractSchema={deploy:TokenErc1155ContractDeploy,output:TokenErc1155ContractOutput,input:TokenErc1155ContractInput},TokenErc20ContractInput=CommonContractSchema.merge(CommonSymbolSchema),TokenErc20ContractOutput=CommonContractOutputSchema.merge(CommonSymbolSchema),TokenErc20ContractDeploy=TokenErc20ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),TokenErc20ContractSchema={deploy:TokenErc20ContractDeploy,output:TokenErc20ContractOutput,input:TokenErc20ContractInput},TokenErc721ContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),TokenErc721ContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),TokenErc721ContractDeploy=TokenErc721ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),TokenErc721ContractSchema={deploy:TokenErc721ContractDeploy,output:TokenErc721ContractOutput,input:TokenErc721ContractInput},VoteSettingsInputSchema=z$8.object({voting_delay_in_blocks:z$8.number().min(0).default(0),voting_period_in_blocks:z$8.number().min(1).default(1),voting_token_address:AddressOrEnsSchema,voting_quorum_fraction:PercentSchema.default(0),proposal_token_threshold:BigNumberishSchema.default(1)}),VoteSettingsOuputSchema=VoteSettingsInputSchema.extend({proposal_token_threshold:BigNumberSchema}),VoteContractInput=CommonContractSchema.merge(VoteSettingsInputSchema),VoteContractOutput=CommonContractOutputSchema.merge(VoteSettingsOuputSchema),VoteContractDeploy=VoteContractInput.merge(CommonTrustedForwarderSchema),VoteContractSchema={deploy:VoteContractDeploy,output:VoteContractOutput,input:VoteContractInput},ADMIN_ROLE=["admin"],NFT_BASE_CONTRACT_ROLES=["admin","minter","transfer","metadata"],MARKETPLACE_CONTRACT_ROLES=["admin","lister","asset"],PACK_CONTRACT_ROLES=["admin","minter","asset","transfer"],TOKEN_DROP_CONTRACT_ROLES=["admin","transfer"],MULTIWRAP_CONTRACT_ROLES=["admin","transfer","minter","unwrap","asset"],prebuiltContractTypes={vote:"vote",token:"token","edition-drop":"edition-drop",edition:"edition",marketplace:"marketplace","marketplace-v3":"marketplace-v3",multiwrap:"multiwrap","nft-collection":"nft-collection","nft-drop":"nft-drop",pack:"pack","signature-drop":"signature-drop",split:"split","token-drop":"token-drop"},EditionDropInitializer={name:"DropERC1155",contractType:prebuiltContractTypes["edition-drop"],schema:DropErc1155ContractSchema,roles:NFT_BASE_CONTRACT_ROLES,initialize:async function(){for(var vn=arguments.length,fn=new Array(vn),En=0;En<vn;En++)fn[En]=arguments[En];let[Cn,_i,An,ba]=fn;const[,xa]=getSignerAndProvider(Cn,ba),[$a,rs,ts]=await Promise.all([EditionDropInitializer.getAbi(_i,xa,An),__vitePreload(()=>import("./edition-drop-294e1578.browser.esm-J252WdLf.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])),xa.getNetwork()]);return new rs.EditionDrop(Cn,_i,An,ba,$a,ts.chainId)},getAbi:async(vn,fn,En)=>{const Cn=await fetchAbiFromAddress(vn,fn,En);if(Cn)return Cn;const _i=await getContractInfo(vn,fn);return!_i||_i.version>2?(await __vitePreload(async()=>{const{default:An}=await import("./DropERC1155-Cr32X0ae.js");return{default:An}},[])).default:(await __vitePreload(async()=>{const{default:An}=await import("./DropERC1155_V2-BWn0FsVF.js");return{default:An}},[])).default}},EditionInitializer={name:"TokenERC1155",contractType:prebuiltContractTypes.edition,schema:TokenErc1155ContractSchema,roles:NFT_BASE_CONTRACT_ROLES,initialize:async function(){for(var vn=arguments.length,fn=new Array(vn),En=0;En<vn;En++)fn[En]=arguments[En];let[Cn,_i,An,ba]=fn;const[,xa]=getSignerAndProvider(Cn,ba),[$a,rs,ts]=await Promise.all([EditionInitializer.getAbi(_i,xa,An),__vitePreload(()=>import("./edition-1ccecf2c.browser.esm-B5leQNVQ.js"),__vite__mapDeps([15,1,2,3,4,5,6,7,8,9,10,11,12,13])),xa.getNetwork()]);return new rs.Edition(Cn,_i,An,ba,$a,ts.chainId)},getAbi:async(vn,fn,En)=>{const Cn=await fetchAbiFromAddress(vn,fn,En);return Cn||(await __vitePreload(async()=>{const{default:_i}=await import("./TokenERC1155-tqy0hPRZ.js");return{default:_i}},[])).default}},MarketplaceInitializer={name:"Marketplace",contractType:prebuiltContractTypes.marketplace,schema:MarketplaceContractSchema,roles:MARKETPLACE_CONTRACT_ROLES,initialize:async function(){for(var vn=arguments.length,fn=new Array(vn),En=0;En<vn;En++)fn[En]=arguments[En];let[Cn,_i,An,ba]=fn;const[,xa]=getSignerAndProvider(Cn,ba),[$a,rs,ts]=await Promise.all([MarketplaceInitializer.getAbi(_i,xa,An),__vitePreload(()=>import("./marketplace-2e2adc0e.browser.esm-Bp1LhTJI.js"),__vite__mapDeps([16,5,4,17,1,2,9,10,18])),xa.getNetwork()]);return new rs.Marketplace(Cn,_i,An,ba,$a,ts.chainId)},getAbi:async(vn,fn,En)=>{const Cn=await fetchAbiFromAddress(vn,fn,En);return Cn||(await __vitePreload(async()=>{const{default:_i}=await import("./Marketplace-DQ-Tv1V8.js");return{default:_i}},[])).default}},MarketplaceV3Initializer={name:"MarketplaceV3",contractType:prebuiltContractTypes["marketplace-v3"],schema:MarketplaceContractSchema,roles:MARKETPLACE_CONTRACT_ROLES,initialize:async function(){for(var vn=arguments.length,fn=new Array(vn),En=0;En<vn;En++)fn[En]=arguments[En];let[Cn,_i,An,ba]=fn;const[,xa]=getSignerAndProvider(Cn,ba),[$a,rs,ts]=await Promise.all([MarketplaceV3Initializer.getAbi(_i,xa,An,ba),__vitePreload(()=>import("./marketplacev3-ef469d89.browser.esm-BUmlFu-Q.js"),__vite__mapDeps([19,8,1,2,9,10,20,18,4,17,5])),xa.getNetwork()]);return new rs.MarketplaceV3(Cn,_i,An,ba,$a,ts.chainId)},getAbi:async(vn,fn,En,Cn)=>{const _i=(await fn.getNetwork()).chainId;if(_i===280||_i===300||_i===324||_i===302){const rs=(await fetchPublishedContractFromPolygon(THIRDWEB_DEPLOYER$1,"MarketplaceV3","latest",En,Cn==null?void 0:Cn.clientId,Cn==null?void 0:Cn.secretKey)).metadataUri;return await getCompositeABIfromRelease(rs,En)}const ba=await fetchAbiFromAddress(vn,fn,En);if(ba)return await getCompositeABI(vn,ba,fn,{},En);const xa=(await __vitePreload(async()=>{const{default:$a}=await import("./MarketplaceV3-q3JQORJG.js");return{default:$a}},[])).default;return await getCompositeABI(vn,AbiSchema.parse(xa||[]),fn,{},En)}},MultiwrapInitializer={name:"Multiwrap",contractType:prebuiltContractTypes.multiwrap,schema:MultiwrapContractSchema,roles:MULTIWRAP_CONTRACT_ROLES,initialize:async function(){for(var vn=arguments.length,fn=new Array(vn),En=0;En<vn;En++)fn[En]=arguments[En];let[Cn,_i,An,ba]=fn;const[,xa]=getSignerAndProvider(Cn,ba),[$a,rs,ts]=await Promise.all([MultiwrapInitializer.getAbi(_i,xa,An),__vitePreload(()=>import("./multiwrap-2e713f6c.browser.esm-Cwnk-cxF.js"),__vite__mapDeps([21,22,17,5,4,1,3,6,7,8,10,23,24,25])),xa.getNetwork()]);return new rs.Multiwrap(Cn,_i,An,ba,$a,ts.chainId)},getAbi:async(vn,fn,En)=>{const Cn=await fetchAbiFromAddress(vn,fn,En);return Cn||(await __vitePreload(async()=>{const{default:_i}=await import("./Multiwrap-DFjLwka_.js");return{default:_i}},[])).default}},NFTCollectionInitializer={name:"TokenERC721",contractType:prebuiltContractTypes["nft-collection"],schema:TokenErc721ContractSchema,roles:NFT_BASE_CONTRACT_ROLES,initialize:async function(){for(var vn=arguments.length,fn=new Array(vn),En=0;En<vn;En++)fn[En]=arguments[En];let[Cn,_i,An,ba]=fn;const[,xa]=getSignerAndProvider(Cn,ba),[$a,rs,ts]=await Promise.all([NFTCollectionInitializer.getAbi(_i,xa,An),__vitePreload(()=>import("./nft-collection-5b9d9850.browser.esm-CDy7YAYe.js"),__vite__mapDeps([26,1,2,3,4,5,6,7,8,9,10,11,23,24,25])),xa.getNetwork()]);return new rs.NFTCollection(Cn,_i,An,ba,$a,ts.chainId)},getAbi:async(vn,fn,En)=>{const Cn=await fetchAbiFromAddress(vn,fn,En);return Cn||(await __vitePreload(async()=>{const{default:_i}=await import("./TokenERC721-H_F0XAvp.js");return{default:_i}},[])).default}},NFTDropInitializer={name:"DropERC721",contractType:prebuiltContractTypes["nft-drop"],schema:DropErc721ContractSchema,roles:NFT_BASE_CONTRACT_ROLES,initialize:async function(){for(var vn=arguments.length,fn=new Array(vn),En=0;En<vn;En++)fn[En]=arguments[En];let[Cn,_i,An,ba]=fn;const[,xa]=getSignerAndProvider(Cn,ba),[$a,rs,ts]=await Promise.all([NFTDropInitializer.getAbi(_i,xa,An),__vitePreload(()=>import("./nft-drop-ee9ded99.browser.esm-CoBnPvbS.js"),__vite__mapDeps([27,5,4,1,2,3,6,7,8,9,10,11,25,23,24,14])),xa.getNetwork()]);return new rs.NFTDrop(Cn,_i,An,ba,$a,ts.chainId)},getAbi:async(vn,fn,En)=>{const Cn=await fetchAbiFromAddress(vn,fn,En);if(Cn)return Cn;const _i=await getContractInfo(vn,fn);return!_i||_i.version>3?(await __vitePreload(async()=>{const{default:An}=await import("./DropERC721-Cp6dZqNO.js");return{default:An}},[])).default:(await __vitePreload(async()=>{const{default:An}=await import("./DropERC721_V3-DhNzEnrR.js");return{default:An}},[])).default}},PackInitializer={name:"Pack",contractType:prebuiltContractTypes.pack,schema:PackContractSchema,roles:PACK_CONTRACT_ROLES,initialize:async function(){for(var vn=arguments.length,fn=new Array(vn),En=0;En<vn;En++)fn[En]=arguments[En];let[Cn,_i,An,ba]=fn;const[,xa]=getSignerAndProvider(Cn,ba),[$a,rs,ts]=await Promise.all([PackInitializer.getAbi(_i,xa,An),__vitePreload(()=>import("./pack-02f90278.browser.esm-BkxmIaX_.js"),__vite__mapDeps([28,22,8,1,17,5,4,2,3,6,7,10,13,12,29,25])),xa.getNetwork()]);return new rs.Pack(Cn,_i,An,ba,$a,ts.chainId)},getAbi:async(vn,fn,En)=>{const Cn=await fetchAbiFromAddress(vn,fn,En);return Cn||AbiSchema.parse((await __vitePreload(async()=>{const{default:_i}=await import("./Pack-DIdXB4vd.js");return{default:_i}},[])).default||[])}},SignatureDropInitializer={name:"SignatureDrop",contractType:prebuiltContractTypes["signature-drop"],schema:DropErc721ContractSchema,roles:NFT_BASE_CONTRACT_ROLES,initialize:async function(){for(var vn=arguments.length,fn=new Array(vn),En=0;En<vn;En++)fn[En]=arguments[En];let[Cn,_i,An,ba]=fn;const[,xa]=getSignerAndProvider(Cn,ba),[$a,rs,ts]=await Promise.all([SignatureDropInitializer.getAbi(_i,xa,An),__vitePreload(()=>import("./signature-drop-266c8004.browser.esm-DucuFM-_.js"),__vite__mapDeps([30,5,4,1,2,3,6,7,8,9,10,11,25,23,24,14])),xa.getNetwork()]);return new rs.SignatureDrop(Cn,_i,An,ba,$a,ts.chainId)},getAbi:async(vn,fn,En)=>{const Cn=await fetchAbiFromAddress(vn,fn,En);if(Cn)return Cn;const _i=await getContractInfo(vn,fn);return!_i||_i.version>4?(await __vitePreload(async()=>{const{default:An}=await import("./SignatureDrop-BXv23qod.js");return{default:An}},[])).default:(await __vitePreload(async()=>{const{default:An}=await import("./SignatureDrop_V4-3SR4B_km.js");return{default:An}},[])).default}},SplitInitializer={name:"Split",contractType:prebuiltContractTypes.split,schema:SplitsContractSchema,roles:ADMIN_ROLE,initialize:async function(){for(var vn=arguments.length,fn=new Array(vn),En=0;En<vn;En++)fn[En]=arguments[En];let[Cn,_i,An,ba]=fn;const[,xa]=getSignerAndProvider(Cn,ba),[$a,rs,ts]=await Promise.all([SplitInitializer.getAbi(_i,xa,An),__vitePreload(()=>import("./split-eb66a32f.browser.esm-DsihOWuK.js"),__vite__mapDeps([31,1,2,10])),xa.getNetwork()]);return new rs.Split(Cn,_i,An,ba,$a,ts.chainId)},getAbi:async(vn,fn,En)=>{const Cn=await fetchAbiFromAddress(vn,fn,En);return Cn||(await __vitePreload(async()=>{const{default:_i}=await import("./Split-DzuSeOrC.js");return{default:_i}},[])).default}},TokenDropInitializer={name:"DropERC20",contractType:prebuiltContractTypes["token-drop"],schema:DropErc20ContractSchema,roles:TOKEN_DROP_CONTRACT_ROLES,initialize:async function(){for(var vn=arguments.length,fn=new Array(vn),En=0;En<vn;En++)fn[En]=arguments[En];let[Cn,_i,An,ba]=fn;const[,xa]=getSignerAndProvider(Cn,ba),[$a,rs,ts]=await Promise.all([TokenDropInitializer.getAbi(_i,xa,An),__vitePreload(()=>import("./token-drop-889631f7.browser.esm-BtN1AdtA.js"),__vite__mapDeps([32,1,2,9,10,11,25,6,7,8,4,33,29])),xa.getNetwork()]);return new rs.TokenDrop(Cn,_i,An,ba,$a,ts.chainId)},getAbi:async(vn,fn,En)=>{const Cn=await fetchAbiFromAddress(vn,fn,En);if(Cn)return Cn;const _i=await getContractInfo(vn,fn);return!_i||_i.version>2?(await __vitePreload(async()=>{const{default:An}=await import("./DropERC20-BgyhHYMm.js");return{default:An}},[])).default:(await __vitePreload(async()=>{const{default:An}=await import("./DropERC20_V2-CBTN6_Y9.js");return{default:An}},[])).default}},TokenInitializer={name:"TokenERC20",contractType:prebuiltContractTypes.token,schema:TokenErc20ContractSchema,roles:NFT_BASE_CONTRACT_ROLES,initialize:async function(){for(var vn=arguments.length,fn=new Array(vn),En=0;En<vn;En++)fn[En]=arguments[En];let[Cn,_i,An,ba]=fn;const[,xa]=getSignerAndProvider(Cn,ba),[$a,rs,ts]=await Promise.all([TokenInitializer.getAbi(_i,xa,An),__vitePreload(()=>import("./token-1e82c71a.browser.esm-ChGzcCTz.js"),__vite__mapDeps([34,1,2,9,10,11,29,8,25,6,7,4,33])),xa.getNetwork()]);return new rs.Token(Cn,_i,An,ba,$a,ts.chainId)},getAbi:async(vn,fn,En)=>{const Cn=await fetchAbiFromAddress(vn,fn,En);return Cn||(await __vitePreload(async()=>{const{default:_i}=await import("./TokenERC20-BLtvZs_m.js");return{default:_i}},[])).default}},VoteInitializer={name:"VoteERC20",contractType:prebuiltContractTypes.vote,schema:VoteContractSchema,roles:[],initialize:async function(){for(var vn=arguments.length,fn=new Array(vn),En=0;En<vn;En++)fn[En]=arguments[En];let[Cn,_i,An,ba]=fn;const[,xa]=getSignerAndProvider(Cn,ba),[$a,rs,ts]=await Promise.all([VoteInitializer.getAbi(_i,xa,An),__vitePreload(()=>import("./vote-e5646e80.browser.esm-DwZMTFYO.js"),__vite__mapDeps([35,1,2])),xa.getNetwork()]);return new rs.Vote(Cn,_i,An,ba,$a,ts.chainId)},getAbi:async(vn,fn,En)=>{const Cn=await fetchAbiFromAddress(vn,fn,En);return Cn||(await __vitePreload(async()=>{const{default:_i}=await import("./VoteERC20-BSrApCWM.js");return{default:_i}},[])).default}};async function getContractInfo(vn,fn){try{return await getPrebuiltInfo(vn,fn)}catch{return}}const PREBUILT_CONTRACTS_MAP={[prebuiltContractTypes["edition-drop"]]:EditionDropInitializer,[prebuiltContractTypes.edition]:EditionInitializer,[prebuiltContractTypes.marketplace]:MarketplaceInitializer,[prebuiltContractTypes["marketplace-v3"]]:MarketplaceV3Initializer,[prebuiltContractTypes.multiwrap]:MultiwrapInitializer,[prebuiltContractTypes["nft-collection"]]:NFTCollectionInitializer,[prebuiltContractTypes["nft-drop"]]:NFTDropInitializer,[prebuiltContractTypes.pack]:PackInitializer,[prebuiltContractTypes["signature-drop"]]:SignatureDropInitializer,[prebuiltContractTypes.split]:SplitInitializer,[prebuiltContractTypes["token-drop"]]:TokenDropInitializer,[prebuiltContractTypes.token]:TokenInitializer,[prebuiltContractTypes.vote]:VoteInitializer},PREBUILT_CONTRACTS_APPURI_MAP={[prebuiltContractTypes["edition-drop"]]:"ipfs://QmNm3wRzpKYWo1SRtJfgfxtvudp5p2nXD6EttcsQJHwTmk",[prebuiltContractTypes.edition]:"",[prebuiltContractTypes.marketplace]:"ipfs://QmbAgC8YwY36n8H2kuvSWsRisxDZ15QZw3xGZyk9aDvcv7/marketplace.html",[prebuiltContractTypes["marketplace-v3"]]:"ipfs://QmbAgC8YwY36n8H2kuvSWsRisxDZ15QZw3xGZyk9aDvcv7/marketplace-v3.html",[prebuiltContractTypes.multiwrap]:"",[prebuiltContractTypes["nft-collection"]]:"",[prebuiltContractTypes["nft-drop"]]:"ipfs://QmZptmVipc6SGFbKAyXcxGgohzTwYRXZ9LauRX5ite1xDK",[prebuiltContractTypes.pack]:"",[prebuiltContractTypes["signature-drop"]]:"ipfs://QmZptmVipc6SGFbKAyXcxGgohzTwYRXZ9LauRX5ite1xDK",[prebuiltContractTypes.split]:"",[prebuiltContractTypes["token-drop"]]:"ipfs://QmbAgC8YwY36n8H2kuvSWsRisxDZ15QZw3xGZyk9aDvcv7/erc20.html",[prebuiltContractTypes.token]:"",[prebuiltContractTypes.vote]:""},SmartContract={name:"SmartContract",contractType:"custom",schema:{},roles:ALL_ROLES},CONTRACTS_MAP={...PREBUILT_CONTRACTS_MAP,[SmartContract.contractType]:SmartContract};function getContractTypeForRemoteName(vn){var fn;return((fn=Object.values(CONTRACTS_MAP).find(En=>En.name===vn))==null?void 0:fn.contractType)||"custom"}function getContractName(vn){var fn;return(fn=Object.values(CONTRACTS_MAP).find(En=>En.contractType===vn))==null?void 0:fn.name}class ContractEncoder{constructor(fn){this.contractWrapper=fn}encode(fn,En){return this.contractWrapper.readContract.interface.encodeFunctionData(fn,En)}decode(fn,En){return this.contractWrapper.readContract.interface.decodeFunctionData(fn,En)}decodeResult(fn,En){return this.contractWrapper.readContract.interface.decodeFunctionResult(fn,En)}}function isNativeToken(vn){return vn.toLowerCase()===NATIVE_TOKEN_ADDRESS||vn.toLowerCase()===AddressZero$1}async function fetchCurrencyMetadata(vn,fn){if(isNativeToken(fn)){const En=await vn.getNetwork(),Cn=getNativeTokenByChainId(En.chainId);return{name:Cn.name,symbol:Cn.symbol,decimals:Cn.decimals}}else{const En=(await __vitePreload(async()=>{const{default:xa}=await Promise.resolve().then(()=>IERC20Metadata);return{default:xa}},void 0)).default,Cn=new Contract(fn,En,vn),[_i,An,ba]=await Promise.all([Cn.name(),Cn.symbol(),Cn.decimals()]);return{name:_i,symbol:An,decimals:ba}}}async function fetchCurrencyValue(vn,fn,En){const Cn=await fetchCurrencyMetadata(vn,fn);return{...Cn,value:BigNumber.from(En),displayValue:formatUnits(En,Cn.decimals)}}var core$1={},src$6={exports:{}};function base$6(vn){if(vn.length>=255)throw new TypeError("Alphabet too long");for(var fn=new Uint8Array(256),En=0;En<fn.length;En++)fn[En]=255;for(var Cn=0;Cn<vn.length;Cn++){var _i=vn.charAt(Cn),An=_i.charCodeAt(0);if(fn[An]!==255)throw new TypeError(_i+" is ambiguous");fn[An]=Cn}var ba=vn.length,xa=vn.charAt(0),$a=Math.log(ba)/Math.log(256),rs=Math.log(256)/Math.log(ba);function ts(us){if(us instanceof Uint8Array||(ArrayBuffer.isView(us)?us=new Uint8Array(us.buffer,us.byteOffset,us.byteLength):Array.isArray(us)&&(us=Uint8Array.from(us))),!(us instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(us.length===0)return"";for(var ps=0,bs=0,e0=0,gs=us.length;e0!==gs&&us[e0]===0;)e0++,ps++;for(var Ds=(gs-e0)*rs+1>>>0,i0=new Uint8Array(Ds);e0!==gs;){for(var n0=us[e0],c0=0,d0=Ds-1;(n0!==0||c0<bs)&&d0!==-1;d0--,c0++)n0+=256*i0[d0]>>>0,i0[d0]=n0%ba>>>0,n0=n0/ba>>>0;if(n0!==0)throw new Error("Non-zero carry");bs=c0,e0++}for(var o0=Ds-bs;o0!==Ds&&i0[o0]===0;)o0++;for(var g0=xa.repeat(ps);o0<Ds;++o0)g0+=vn.charAt(i0[o0]);return g0}function is(us){if(typeof us!="string")throw new TypeError("Expected String");if(us.length===0)return new Uint8Array;var ps=0;if(us[ps]!==" "){for(var bs=0,e0=0;us[ps]===xa;)bs++,ps++;for(var gs=(us.length-ps)*$a+1>>>0,Ds=new Uint8Array(gs);us[ps];){var i0=fn[us.charCodeAt(ps)];if(i0===255)return;for(var n0=0,c0=gs-1;(i0!==0||n0<e0)&&c0!==-1;c0--,n0++)i0+=ba*Ds[c0]>>>0,Ds[c0]=i0%256>>>0,i0=i0/256>>>0;if(i0!==0)throw new Error("Non-zero carry");e0=n0,ps++}if(us[ps]!==" "){for(var d0=gs-e0;d0!==gs&&Ds[d0]===0;)d0++;for(var o0=new Uint8Array(bs+(gs-d0)),g0=bs;d0!==gs;)o0[g0++]=Ds[d0++];return o0}}}function cs(us){var ps=is(us);if(ps)return ps;throw new Error("Non-base"+ba+" character")}return{encode:ts,decodeUnsafe:is,decode:cs}}var src$5=base$6;const textDecoder$1=new TextDecoder,decodeText$1=vn=>textDecoder$1.decode(vn),textEncoder$1=new TextEncoder,encodeText$2=vn=>textEncoder$1.encode(vn);function concat$2(vn,fn){const En=new Uint8Array(fn);let Cn=0;for(const _i of vn)En.set(_i,Cn),Cn+=_i.length;return En}var util$4={decodeText:decodeText$1,encodeText:encodeText$2,concat:concat$2};const{encodeText:encodeText$1}=util$4;let Base$7=class{constructor(fn,En,Cn,_i){this.name=fn,this.code=En,this.codeBuf=encodeText$1(this.code),this.alphabet=_i,this.codec=Cn(_i)}encode(fn){return this.codec.encode(fn)}decode(fn){for(const En of fn)if(this.alphabet&&this.alphabet.indexOf(En)<0)throw new Error(`invalid character '${En}' in '${fn}'`);return this.codec.decode(fn)}};var base$5=Base$7;const decode$b=(vn,fn,En)=>{const Cn={};for(let rs=0;rs<fn.length;++rs)Cn[fn[rs]]=rs;let _i=vn.length;for(;vn[_i-1]==="=";)--_i;const An=new Uint8Array(_i*En/8|0);let ba=0,xa=0,$a=0;for(let rs=0;rs<_i;++rs){const ts=Cn[vn[rs]];if(ts===void 0)throw new SyntaxError("Invalid character "+vn[rs]);xa=xa<<En|ts,ba+=En,ba>=8&&(ba-=8,An[$a++]=255&xa>>ba)}if(ba>=En||255&xa<<8-ba)throw new SyntaxError("Unexpected end of data");return An},encode$9=(vn,fn,En)=>{const Cn=fn[fn.length-1]==="=",_i=(1<<En)-1;let An="",ba=0,xa=0;for(let $a=0;$a<vn.length;++$a)for(xa=xa<<8|vn[$a],ba+=8;ba>En;)ba-=En,An+=fn[_i&xa>>ba];if(ba&&(An+=fn[_i&xa<<En-ba]),Cn)for(;An.length*En&7;)An+="=";return An},rfc4648$2=vn=>fn=>({encode(En){return encode$9(En,fn,vn)},decode(En){return decode$b(En,fn,vn)}});var rfc4648_1={rfc4648:rfc4648$2};const baseX$1=src$5,Base$6=base$5,{rfc4648:rfc4648$1}=rfc4648_1,{decodeText,encodeText}=util$4,identity$3=()=>({encode:decodeText,decode:encodeText}),constants$3=[["identity","\0",identity$3,""],["base2","0",rfc4648$1(1),"01"],["base8","7",rfc4648$1(3),"01234567"],["base10","9",baseX$1,"0123456789"],["base16","f",rfc4648$1(4),"0123456789abcdef"],["base16upper","F",rfc4648$1(4),"0123456789ABCDEF"],["base32hex","v",rfc4648$1(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",rfc4648$1(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",rfc4648$1(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",rfc4648$1(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",rfc4648$1(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",rfc4648$1(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",rfc4648$1(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",rfc4648$1(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",rfc4648$1(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",baseX$1,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",baseX$1,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",baseX$1,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",baseX$1,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",rfc4648$1(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",rfc4648$1(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",rfc4648$1(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",rfc4648$1(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],names$2=constants$3.reduce((vn,fn)=>(vn[fn[0]]=new Base$6(fn[0],fn[1],fn[2],fn[3]),vn),{}),codes$1=constants$3.reduce((vn,fn)=>(vn[fn[1]]=names$2[fn[0]],vn),{});var constants_1={names:names$2,codes:codes$1};(function(vn,fn){const En=constants_1,{encodeText:Cn,decodeText:_i,concat:An}=util$4;function ba(bs,e0){if(!e0)throw new Error("requires an encoded Uint8Array");const{name:gs,codeBuf:Ds}=is(bs);return ts(gs,e0),An([Ds,e0],Ds.length+e0.length)}function xa(bs,e0){const gs=is(bs),Ds=Cn(gs.encode(e0));return An([gs.codeBuf,Ds],gs.codeBuf.length+Ds.length)}function $a(bs){bs instanceof Uint8Array&&(bs=_i(bs));const e0=bs[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e0)&&(bs=bs.toLowerCase()),is(bs[0]).decode(bs.substring(1))}function rs(bs){if(bs instanceof Uint8Array&&(bs=_i(bs)),Object.prototype.toString.call(bs)!=="[object String]")return!1;try{return is(bs[0]).name}catch{return!1}}function ts(bs,e0){is(bs).decode(_i(e0))}function is(bs){if(Object.prototype.hasOwnProperty.call(En.names,bs))return En.names[bs];if(Object.prototype.hasOwnProperty.call(En.codes,bs))return En.codes[bs];throw new Error(`Unsupported encoding: ${bs}`)}function cs(bs){return bs instanceof Uint8Array&&(bs=_i(bs)),is(bs[0])}fn=vn.exports=ba,fn.encode=xa,fn.decode=$a,fn.isEncoded=rs,fn.encoding=is,fn.encodingFromData=cs;const us=Object.freeze(En.names),ps=Object.freeze(En.codes);fn.names=us,fn.codes=ps})(src$6,src$6.exports);var srcExports=src$6.exports,encode_1$2=encode$8,MSB$4=128,REST$4=127,MSBALL$2=~REST$4,INT$2=Math.pow(2,31);function encode$8(vn,fn,En){fn=fn||[],En=En||0;for(var Cn=En;vn>=INT$2;)fn[En++]=vn&255|MSB$4,vn/=128;for(;vn&MSBALL$2;)fn[En++]=vn&255|MSB$4,vn>>>=7;return fn[En]=vn|0,encode$8.bytes=En-Cn+1,fn}var decode$a=read$2,MSB$3=128,REST$3=127;function read$2(vn,Cn){var En=0,Cn=Cn||0,_i=0,An=Cn,ba,xa=vn.length;do{if(An>=xa)throw read$2.bytes=0,new RangeError("Could not decode varint");ba=vn[An++],En+=_i<28?(ba&REST$3)<<_i:(ba&REST$3)*Math.pow(2,_i),_i+=7}while(ba>=MSB$3);return read$2.bytes=An-Cn,En}var N1$2=Math.pow(2,7),N2$2=Math.pow(2,14),N3$2=Math.pow(2,21),N4$2=Math.pow(2,28),N5$2=Math.pow(2,35),N6$2=Math.pow(2,42),N7$2=Math.pow(2,49),N8$2=Math.pow(2,56),N9$2=Math.pow(2,63),length$2=function(vn){return vn<N1$2?1:vn<N2$2?2:vn<N3$2?3:vn<N4$2?4:vn<N5$2?5:vn<N6$2?6:vn<N7$2?7:vn<N8$2?8:vn<N9$2?9:10},varint$6={encode:encode_1$2,decode:decode$a,encodingLength:length$2};const names$1=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});var constants$2={names:names$1};function base$4(vn,fn){if(vn.length>=255)throw new TypeError("Alphabet too long");for(var En=new Uint8Array(256),Cn=0;Cn<En.length;Cn++)En[Cn]=255;for(var _i=0;_i<vn.length;_i++){var An=vn.charAt(_i),ba=An.charCodeAt(0);if(En[ba]!==255)throw new TypeError(An+" is ambiguous");En[ba]=_i}var xa=vn.length,$a=vn.charAt(0),rs=Math.log(xa)/Math.log(256),ts=Math.log(256)/Math.log(xa);function is(ps){if(ps instanceof Uint8Array||(ArrayBuffer.isView(ps)?ps=new Uint8Array(ps.buffer,ps.byteOffset,ps.byteLength):Array.isArray(ps)&&(ps=Uint8Array.from(ps))),!(ps instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(ps.length===0)return"";for(var bs=0,e0=0,gs=0,Ds=ps.length;gs!==Ds&&ps[gs]===0;)gs++,bs++;for(var i0=(Ds-gs)*ts+1>>>0,n0=new Uint8Array(i0);gs!==Ds;){for(var c0=ps[gs],d0=0,o0=i0-1;(c0!==0||d0<e0)&&o0!==-1;o0--,d0++)c0+=256*n0[o0]>>>0,n0[o0]=c0%xa>>>0,c0=c0/xa>>>0;if(c0!==0)throw new Error("Non-zero carry");e0=d0,gs++}for(var g0=i0-e0;g0!==i0&&n0[g0]===0;)g0++;for(var w0=$a.repeat(bs);g0<i0;++g0)w0+=vn.charAt(n0[g0]);return w0}function cs(ps){if(typeof ps!="string")throw new TypeError("Expected String");if(ps.length===0)return new Uint8Array;var bs=0;if(ps[bs]!==" "){for(var e0=0,gs=0;ps[bs]===$a;)e0++,bs++;for(var Ds=(ps.length-bs)*rs+1>>>0,i0=new Uint8Array(Ds);ps[bs];){var n0=En[ps.charCodeAt(bs)];if(n0===255)return;for(var c0=0,d0=Ds-1;(n0!==0||c0<gs)&&d0!==-1;d0--,c0++)n0+=xa*i0[d0]>>>0,i0[d0]=n0%256>>>0,n0=n0/256>>>0;if(n0!==0)throw new Error("Non-zero carry");gs=c0,bs++}if(ps[bs]!==" "){for(var o0=Ds-gs;o0!==Ds&&i0[o0]===0;)o0++;for(var g0=new Uint8Array(e0+(Ds-o0)),w0=e0;o0!==Ds;)g0[w0++]=i0[o0++];return g0}}}function us(ps){var bs=cs(ps);if(bs)return bs;throw new Error(`Non-${fn} character`)}return{encode:is,decodeUnsafe:cs,decode:us}}var src$4=base$4,_brrp__multiformats_scope_baseX=src$4;const empty=new Uint8Array(0),toHex=vn=>vn.reduce((fn,En)=>fn+En.toString(16).padStart(2,"0"),""),fromHex=vn=>{const fn=vn.match(/../g);return fn?new Uint8Array(fn.map(En=>parseInt(En,16))):empty},equals$3=(vn,fn)=>{if(vn===fn)return!0;if(vn.byteLength!==fn.byteLength)return!1;for(let En=0;En<vn.byteLength;En++)if(vn[En]!==fn[En])return!1;return!0},coerce=vn=>{if(vn instanceof Uint8Array&&vn.constructor.name==="Uint8Array")return vn;if(vn instanceof ArrayBuffer)return new Uint8Array(vn);if(ArrayBuffer.isView(vn))return new Uint8Array(vn.buffer,vn.byteOffset,vn.byteLength);throw new Error("Unknown type, must be binary type")},isBinary=vn=>vn instanceof ArrayBuffer||ArrayBuffer.isView(vn),fromString$2=vn=>new TextEncoder().encode(vn),toString$3=vn=>new TextDecoder().decode(vn),bytes=Object.freeze(Object.defineProperty({__proto__:null,coerce,empty,equals:equals$3,fromHex,fromString:fromString$2,isBinary,toHex,toString:toString$3},Symbol.toStringTag,{value:"Module"}));class Encoder{constructor(fn,En,Cn){this.name=fn,this.prefix=En,this.baseEncode=Cn}encode(fn){if(fn instanceof Uint8Array)return`${this.prefix}${this.baseEncode(fn)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(fn,En,Cn){if(this.name=fn,this.prefix=En,En.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=En.codePointAt(0),this.baseDecode=Cn}decode(fn){if(typeof fn=="string"){if(fn.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(fn)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(fn.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(fn){return or$3(this,fn)}}class ComposedDecoder{constructor(fn){this.decoders=fn}or(fn){return or$3(this,fn)}decode(fn){const En=fn[0],Cn=this.decoders[En];if(Cn)return Cn.decode(fn);throw RangeError(`Unable to decode multibase string ${JSON.stringify(fn)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or$3=(vn,fn)=>new ComposedDecoder({...vn.decoders||{[vn.prefix]:vn},...fn.decoders||{[fn.prefix]:fn}});class Codec{constructor(fn,En,Cn,_i){this.name=fn,this.prefix=En,this.baseEncode=Cn,this.baseDecode=_i,this.encoder=new Encoder(fn,En,Cn),this.decoder=new Decoder(fn,En,_i)}encode(fn){return this.encoder.encode(fn)}decode(fn){return this.decoder.decode(fn)}}const from$1=({name:vn,prefix:fn,encode:En,decode:Cn})=>new Codec(vn,fn,En,Cn),baseX=({prefix:vn,name:fn,alphabet:En})=>{const{encode:Cn,decode:_i}=_brrp__multiformats_scope_baseX(En,fn);return from$1({prefix:vn,name:fn,encode:Cn,decode:An=>coerce(_i(An))})},decode$9=(vn,fn,En,Cn)=>{const _i={};for(let ts=0;ts<fn.length;++ts)_i[fn[ts]]=ts;let An=vn.length;for(;vn[An-1]==="=";)--An;const ba=new Uint8Array(An*En/8|0);let xa=0,$a=0,rs=0;for(let ts=0;ts<An;++ts){const is=_i[vn[ts]];if(is===void 0)throw new SyntaxError(`Non-${Cn} character`);$a=$a<<En|is,xa+=En,xa>=8&&(xa-=8,ba[rs++]=255&$a>>xa)}if(xa>=En||255&$a<<8-xa)throw new SyntaxError("Unexpected end of data");return ba},encode$7=(vn,fn,En)=>{const Cn=fn[fn.length-1]==="=",_i=(1<<En)-1;let An="",ba=0,xa=0;for(let $a=0;$a<vn.length;++$a)for(xa=xa<<8|vn[$a],ba+=8;ba>En;)ba-=En,An+=fn[_i&xa>>ba];if(ba&&(An+=fn[_i&xa<<En-ba]),Cn)for(;An.length*En&7;)An+="=";return An},rfc4648=({name:vn,prefix:fn,bitsPerChar:En,alphabet:Cn})=>from$1({prefix:fn,name:vn,encode(_i){return encode$7(_i,Cn,En)},decode(_i){return decode$9(_i,Cn,En,vn)}}),identity$2=from$1({prefix:"\0",name:"identity",encode:vn=>toString$3(vn),decode:vn=>fromString$2(vn)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$2},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base32$1=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$2=Object.freeze(Object.defineProperty({__proto__:null,base32:base32$1,base32hex,base32hexpad,base32hexpadupper,base32hexupper,base32pad,base32padupper,base32upper,base32z},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base64=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$1=Object.freeze(Object.defineProperty({__proto__:null,base64,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from(""),alphabetBytesToChars=alphabet.reduce((vn,fn,En)=>(vn[En]=fn,vn),[]),alphabetCharsToBytes=alphabet.reduce((vn,fn,En)=>(vn[fn.codePointAt(0)]=En,vn),[]);function encode$6(vn){return vn.reduce((fn,En)=>(fn+=alphabetBytesToChars[En],fn),"")}function decode$8(vn){const fn=[];for(const En of vn){const Cn=alphabetCharsToBytes[En.codePointAt(0)];if(Cn===void 0)throw new Error(`Non-base256emoji character: ${En}`);fn.push(Cn)}return new Uint8Array(fn)}const base256emoji=from$1({prefix:"",name:"base256emoji",encode:encode$6,decode:decode$8}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"}));var encode_1$1=encode$5,MSB$2=128,REST$2=127,MSBALL$1=~REST$2,INT$1=Math.pow(2,31);function encode$5(vn,fn,En){fn=fn||[],En=En||0;for(var Cn=En;vn>=INT$1;)fn[En++]=vn&255|MSB$2,vn/=128;for(;vn&MSBALL$1;)fn[En++]=vn&255|MSB$2,vn>>>=7;return fn[En]=vn|0,encode$5.bytes=En-Cn+1,fn}var decode$7=read$1,MSB$1$1=128,REST$1$1=127;function read$1(vn,Cn){var En=0,Cn=Cn||0,_i=0,An=Cn,ba,xa=vn.length;do{if(An>=xa)throw read$1.bytes=0,new RangeError("Could not decode varint");ba=vn[An++],En+=_i<28?(ba&REST$1$1)<<_i:(ba&REST$1$1)*Math.pow(2,_i),_i+=7}while(ba>=MSB$1$1);return read$1.bytes=An-Cn,En}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$1=function(vn){return vn<N1$1?1:vn<N2$1?2:vn<N3$1?3:vn<N4$1?4:vn<N5$1?5:vn<N6$1?6:vn<N7$1?7:vn<N8$1?8:vn<N9$1?9:10},varint$5={encode:encode_1$1,decode:decode$7,encodingLength:length$1},_brrp_varint=varint$5;const decode$6=(vn,fn=0)=>[_brrp_varint.decode(vn,fn),_brrp_varint.decode.bytes],encodeTo=(vn,fn,En=0)=>(_brrp_varint.encode(vn,fn,En),fn),encodingLength=vn=>_brrp_varint.encodingLength(vn),varint$4=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$6,encodeTo,encodingLength},Symbol.toStringTag,{value:"Module"})),create=(vn,fn)=>{const En=fn.byteLength,Cn=encodingLength(vn),_i=Cn+encodingLength(En),An=new Uint8Array(_i+En);return encodeTo(vn,An,0),encodeTo(En,An,Cn),An.set(fn,_i),new Digest(vn,En,fn,An)},decode$5=vn=>{const fn=coerce(vn),[En,Cn]=decode$6(fn),[_i,An]=decode$6(fn.subarray(Cn)),ba=fn.subarray(Cn+An);if(ba.byteLength!==_i)throw new Error("Incorrect length");return new Digest(En,_i,ba,fn)},equals$2=(vn,fn)=>vn===fn?!0:vn.code===fn.code&&vn.size===fn.size&&equals$3(vn.bytes,fn.bytes);class Digest{constructor(fn,En,Cn,_i){this.code=fn,this.size=En,this.digest=Cn,this.bytes=_i}}const digest$1=Object.freeze(Object.defineProperty({__proto__:null,Digest,create,decode:decode$5,equals:equals$2},Symbol.toStringTag,{value:"Module"})),from=({name:vn,code:fn,encode:En})=>new Hasher(vn,fn,En);class Hasher{constructor(fn,En,Cn){this.name=fn,this.code=En,this.encode=Cn}digest(fn){if(fn instanceof Uint8Array){const En=this.encode(fn);return En instanceof Uint8Array?create(this.code,En):En.then(Cn=>create(this.code,Cn))}else throw Error("Unknown type, must be binary type")}}const hasher=Object.freeze(Object.defineProperty({__proto__:null,Hasher,from},Symbol.toStringTag,{value:"Module"})),sha$1=vn=>async fn=>new Uint8Array(await crypto.subtle.digest(vn,fn)),sha256$3=from({name:"sha2-256",code:18,encode:sha$1("SHA-256")}),sha512$3=from({name:"sha2-512",code:19,encode:sha$1("SHA-512")}),sha2=Object.freeze(Object.defineProperty({__proto__:null,sha256:sha256$3,sha512:sha512$3},Symbol.toStringTag,{value:"Module"})),code$2=0,name$5="identity",encode$4=coerce,digest=vn=>create(code$2,encode$4(vn)),identity={code:code$2,name:name$5,encode:encode$4,digest},identity$1=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"})),name$4="raw",code$1=85,encode$3=vn=>coerce(vn),decode$4=vn=>coerce(vn),raw=Object.freeze(Object.defineProperty({__proto__:null,code:code$1,decode:decode$4,encode:encode$3,name:name$4},Symbol.toStringTag,{value:"Module"})),textEncoder=new TextEncoder,textDecoder=new TextDecoder,name$3="json",code=512,encode$2=vn=>textEncoder.encode(JSON.stringify(vn)),decode$3=vn=>JSON.parse(textDecoder.decode(vn)),json=Object.freeze(Object.defineProperty({__proto__:null,code,decode:decode$3,encode:encode$2,name:name$3},Symbol.toStringTag,{value:"Module"}));let CID$4=class Cl{constructor(fn,En,Cn,_i){this.code=En,this.version=fn,this.multihash=Cn,this.bytes=_i,this.byteOffset=_i.byteOffset,this.byteLength=_i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden,byteLength:hidden,code:readonly,version:readonly,multihash:readonly,bytes:readonly,_baseCache:hidden,asCID:hidden})}toV0(){switch(this.version){case 0:return this;default:{const{code:fn,multihash:En}=this;if(fn!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(En.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Cl.createV0(En)}}}toV1(){switch(this.version){case 0:{const{code:fn,digest:En}=this.multihash,Cn=create(fn,En);return Cl.createV1(this.code,Cn)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(fn){return fn&&this.code===fn.code&&this.version===fn.version&&equals$2(this.multihash,fn.multihash)}toString(fn){const{bytes:En,version:Cn,_baseCache:_i}=this;switch(Cn){case 0:return toStringV0(En,_i,fn||base58btc.encoder);default:return toStringV1(En,_i,fn||base32$1.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(fn){return deprecate(/^0\.0/,IS_CID_DEPRECATION),!!(fn&&(fn[cidSymbol]||fn.asCID===fn))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(fn){if(fn instanceof Cl)return fn;if(fn!=null&&fn.asCID===fn){const{version:En,code:Cn,multihash:_i,bytes:An}=fn;return new Cl(En,Cn,_i,An||encodeCID(En,Cn,_i.bytes))}else if(fn!=null&&fn[cidSymbol]===!0){const{version:En,multihash:Cn,code:_i}=fn,An=decode$5(Cn);return Cl.create(En,_i,An)}else return null}static create(fn,En,Cn){if(typeof En!="number")throw new Error("String codecs are no longer supported");switch(fn){case 0:{if(En!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new Cl(fn,En,Cn,Cn.bytes)}case 1:{const _i=encodeCID(fn,En,Cn.bytes);return new Cl(fn,En,Cn,_i)}default:throw new Error("Invalid version")}}static createV0(fn){return Cl.create(0,DAG_PB_CODE,fn)}static createV1(fn,En){return Cl.create(1,fn,En)}static decode(fn){const[En,Cn]=Cl.decodeFirst(fn);if(Cn.length)throw new Error("Incorrect length");return En}static decodeFirst(fn){const En=Cl.inspectBytes(fn),Cn=En.size-En.multihashSize,_i=coerce(fn.subarray(Cn,Cn+En.multihashSize));if(_i.byteLength!==En.multihashSize)throw new Error("Incorrect length");const An=_i.subarray(En.multihashSize-En.digestSize),ba=new Digest(En.multihashCode,En.digestSize,An,_i);return[En.version===0?Cl.createV0(ba):Cl.createV1(En.codec,ba),fn.subarray(En.size)]}static inspectBytes(fn){let En=0;const Cn=()=>{const[is,cs]=decode$6(fn.subarray(En));return En+=cs,is};let _i=Cn(),An=DAG_PB_CODE;if(_i===18?(_i=0,En=0):_i===1&&(An=Cn()),_i!==0&&_i!==1)throw new RangeError(`Invalid CID version ${_i}`);const ba=En,xa=Cn(),$a=Cn(),rs=En+$a,ts=rs-ba;return{version:_i,codec:An,multihashCode:xa,digestSize:$a,multihashSize:ts,size:rs}}static parse(fn,En){const[Cn,_i]=parseCIDtoBytes(fn,En),An=Cl.decode(_i);return An._baseCache.set(Cn,fn),An}};const parseCIDtoBytes=(vn,fn)=>{switch(vn[0]){case"Q":{const En=fn||base58btc;return[base58btc.prefix,En.decode(`${base58btc.prefix}${vn}`)]}case base58btc.prefix:{const En=fn||base58btc;return[base58btc.prefix,En.decode(vn)]}case base32$1.prefix:{const En=fn||base32$1;return[base32$1.prefix,En.decode(vn)]}default:{if(fn==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[vn[0],fn.decode(vn)]}}},toStringV0=(vn,fn,En)=>{const{prefix:Cn}=En;if(Cn!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${En.name} encoding`);const _i=fn.get(Cn);if(_i==null){const An=En.encode(vn).slice(1);return fn.set(Cn,An),An}else return _i},toStringV1=(vn,fn,En)=>{const{prefix:Cn}=En,_i=fn.get(Cn);if(_i==null){const An=En.encode(vn);return fn.set(Cn,An),An}else return _i},DAG_PB_CODE=112,SHA_256_CODE=18,encodeCID=(vn,fn,En)=>{const Cn=encodingLength(vn),_i=Cn+encodingLength(fn),An=new Uint8Array(_i+En.byteLength);return encodeTo(vn,An,0),encodeTo(fn,An,Cn),An.set(En,_i),An},cidSymbol=Symbol.for("@ipld/js-cid/CID"),readonly={writable:!1,configurable:!1,enumerable:!0},hidden={writable:!1,enumerable:!1,configurable:!1},version$4="0.0.0-dev",deprecate=(vn,fn)=>{if(vn.test(version$4))console.warn(fn);else throw new Error(fn)},IS_CID_DEPRECATION=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,bases$4={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$2,...base36$1,...base58,...base64$1,...base256emoji$1},hashes$1={...sha2,...identity$1},codecs$3={raw,json},basics=Object.freeze(Object.defineProperty({__proto__:null,CID:CID$4,bases:bases$4,bytes,codecs:codecs$3,digest:digest$1,hasher,hashes:hashes$1,varint:varint$4},Symbol.toStringTag,{value:"Module"}));function allocUnsafe(vn=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(vn):new Uint8Array(vn)}function createCodec$1(vn,fn,En,Cn){return{name:vn,prefix:fn,encoder:{name:vn,prefix:fn,encode:En},decoder:{decode:Cn}}}const string$1=createCodec$1("utf8","u",vn=>"u"+new TextDecoder("utf8").decode(vn),vn=>new TextEncoder().encode(vn.substring(1))),ascii$1=createCodec$1("ascii","a",vn=>{let fn="a";for(let En=0;En<vn.length;En++)fn+=String.fromCharCode(vn[En]);return fn},vn=>{vn=vn.substring(1);const fn=allocUnsafe(vn.length);for(let En=0;En<vn.length;En++)fn[En]=vn.charCodeAt(En);return fn}),BASES$1={utf8:string$1,"utf-8":string$1,hex:bases$4.base16,latin1:ascii$1,ascii:ascii$1,binary:ascii$1,...bases$4};function toString$1(vn,fn="utf8"){const En=BASES$1[fn];if(!En)throw new Error(`Unsupported encoding "${fn}"`);return(fn==="utf8"||fn==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(vn.buffer,vn.byteOffset,vn.byteLength).toString("utf8"):En.encoder.encode(vn).substring(1)}const toString$2=Object.freeze(Object.defineProperty({__proto__:null,toString:toString$1},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(toString$2);function fromString(vn,fn="utf8"){const En=BASES$1[fn];if(!En)throw new Error(`Unsupported encoding "${fn}"`);return(fn==="utf8"||fn==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(vn,"utf8"):En.decoder.decode(`${En.prefix}${vn}`)}const fromString$1=Object.freeze(Object.defineProperty({__proto__:null,fromString},Symbol.toStringTag,{value:"Module"})),require$$2$1=getAugmentedNamespace(fromString$1);function concat(vn,fn){fn||(fn=vn.reduce((_i,An)=>_i+An.length,0));const En=allocUnsafe(fn);let Cn=0;for(const _i of vn)En.set(_i,Cn),Cn+=_i.length;return En}const concat$1=Object.freeze(Object.defineProperty({__proto__:null,concat},Symbol.toStringTag,{value:"Module"})),require$$4$1=getAugmentedNamespace(concat$1),multibase$3=srcExports,varint$3=varint$6,{names}=constants$2,{toString:uint8ArrayToString$3}=require$$5,{fromString:uint8ArrayFromString$1}=require$$2$1,{concat:uint8ArrayConcat$2}=require$$4$1,codes={};for(const vn in names){const fn=vn;codes[names[fn]]=fn}Object.freeze(codes);function toHexString(vn){if(!(vn instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return uint8ArrayToString$3(vn,"base16")}function fromHexString(vn){return uint8ArrayFromString$1(vn,"base16")}function toB58String(vn){if(!(vn instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return uint8ArrayToString$3(multibase$3.encode("base58btc",vn)).slice(1)}function fromB58String(vn){const fn=vn instanceof Uint8Array?uint8ArrayToString$3(vn):vn;return multibase$3.decode("z"+fn)}function decode$2(vn){if(!(vn instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(vn.length<2)throw new Error("multihash too short. must be > 2 bytes.");const fn=varint$3.decode(vn);if(!isValidCode(fn))throw new Error(`multihash unknown function code: 0x${fn.toString(16)}`);vn=vn.slice(varint$3.decode.bytes);const En=varint$3.decode(vn);if(En<0)throw new Error(`multihash invalid length: ${En}`);if(vn=vn.slice(varint$3.decode.bytes),vn.length!==En)throw new Error(`multihash length inconsistent: 0x${uint8ArrayToString$3(vn,"base16")}`);return{code:fn,name:codes[fn],length:En,digest:vn}}function encode$1(vn,fn,En){if(!vn||fn===void 0)throw new Error("multihash encode requires at least two args: digest, code");const Cn=coerceCode(fn);if(!(vn instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(En==null&&(En=vn.length),En&&vn.length!==En)throw new Error("digest length should be equal to specified length.");const _i=varint$3.encode(Cn),An=varint$3.encode(En);return uint8ArrayConcat$2([_i,An,vn],_i.length+An.length+vn.length)}function coerceCode(vn){let fn=vn;if(typeof vn=="string"){if(names[vn]===void 0)throw new Error(`Unrecognized hash function named: ${vn}`);fn=names[vn]}if(typeof fn!="number")throw new Error(`Hash function code should be a number. Got: ${fn}`);if(codes[fn]===void 0&&!isAppCode(fn))throw new Error(`Unrecognized function code: ${fn}`);return fn}function isAppCode(vn){return vn>0&&vn<16}function isValidCode(vn){return!!(isAppCode(vn)||codes[vn])}function validate(vn){decode$2(vn)}function prefix$1(vn){return validate(vn),vn.subarray(0,2)}var src$3={names,codes,toHexString,fromHexString,toB58String,fromB58String,decode:decode$2,encode:encode$1,coerceCode,isAppCode,validate,prefix:prefix$1,isValidCode},encode_1=encode,MSB$1=128,REST$1=127,MSBALL=~REST$1,INT=Math.pow(2,31);function encode(vn,fn,En){if(Number.MAX_SAFE_INTEGER&&vn>Number.MAX_SAFE_INTEGER)throw encode.bytes=0,new RangeError("Could not encode varint");fn=fn||[],En=En||0;for(var Cn=En;vn>=INT;)fn[En++]=vn&255|MSB$1,vn/=128;for(;vn&MSBALL;)fn[En++]=vn&255|MSB$1,vn>>>=7;return fn[En]=vn|0,encode.bytes=En-Cn+1,fn}var decode$1=read,MSB=128,REST=127;function read(vn,Cn){var En=0,Cn=Cn||0,_i=0,An=Cn,ba,xa=vn.length;do{if(An>=xa||_i>49)throw read.bytes=0,new RangeError("Could not decode varint");ba=vn[An++],En+=_i<28?(ba&REST)<<_i:(ba&REST)*Math.pow(2,_i),_i+=7}while(ba>=MSB);return read.bytes=An-Cn,En}var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(vn){return vn<N1?1:vn<N2?2:vn<N3?3:vn<N4?4:vn<N5?5:vn<N6?6:vn<N7?7:vn<N8?8:vn<N9?9:10},varint$2={encode:encode_1,decode:decode$1,encodingLength:length};const varint$1=varint$2,{toString:uint8ArrayToString$2}=require$$5,{fromString:uint8ArrayFromString}=require$$2$1;var util$3={numberToUint8Array,uint8ArrayToNumber,varintUint8ArrayEncode,varintEncode:varintEncode$1};function uint8ArrayToNumber(vn){return parseInt(uint8ArrayToString$2(vn,"base16"),16)}function numberToUint8Array(vn){let fn=vn.toString(16);return fn.length%2===1&&(fn="0"+fn),uint8ArrayFromString(fn,"base16")}function varintUint8ArrayEncode(vn){return Uint8Array.from(varint$1.encode(uint8ArrayToNumber(vn)))}function varintEncode$1(vn){return Uint8Array.from(varint$1.encode(vn))}const baseTable$1=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"eth-receipt-log-trie":153,"eth-reciept-log":154,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,"caip-50":202,streamid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,thread:406,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,noise:454,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,"swhid-1-snp":496,json:512,messagepack:513,"libp2p-peer-record":769,"libp2p-relay-rsvp":770,"car-index-sorted":1024,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,"secp256k1-priv":4865,"x25519-priv":4866,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056,"arweave-ns":11704592});var generatedTable={baseTable:baseTable$1};const{baseTable}=generatedTable,varintEncode=util$3.varintEncode,nameToVarint$1={},constantToCode$1={},codeToName$1={};for(const vn in baseTable){const fn=vn,En=baseTable[fn];nameToVarint$1[fn]=varintEncode(En);const Cn=fn.toUpperCase().replace(/-/g,"_");constantToCode$1[Cn]=En,codeToName$1[En]||(codeToName$1[En]=fn)}Object.freeze(nameToVarint$1);Object.freeze(constantToCode$1);Object.freeze(codeToName$1);const nameToCode$1=Object.freeze(baseTable);var maps={nameToVarint:nameToVarint$1,constantToCode:constantToCode$1,nameToCode:nameToCode$1,codeToName:codeToName$1};const varint=varint$2,{concat:uint8ArrayConcat$1}=require$$4$1,util$2=util$3,{nameToVarint,constantToCode,nameToCode,codeToName}=maps;function addPrefix(vn,fn){let En;if(vn instanceof Uint8Array)En=util$2.varintUint8ArrayEncode(vn);else if(nameToVarint[vn])En=nameToVarint[vn];else throw new Error("multicodec not recognized");return uint8ArrayConcat$1([En,fn],En.length+fn.length)}function rmPrefix(vn){return varint.decode(vn),vn.slice(varint.decode.bytes)}function getNameFromData(vn){const fn=varint.decode(vn),En=codeToName[fn];if(En===void 0)throw new Error(`Code "${fn}" not found`);return En}function getNameFromCode(vn){return codeToName[vn]}function getCodeFromName(vn){const fn=nameToCode[vn];if(fn===void 0)throw new Error(`Codec "${vn}" not found`);return fn}function getCodeFromData(vn){return varint.decode(vn)}function getVarintFromName(vn){const fn=nameToVarint[vn];if(fn===void 0)throw new Error(`Codec "${vn}" not found`);return fn}function getVarintFromCode(vn){return util$2.varintEncode(vn)}function getCodec(vn){return getNameFromData(vn)}function getName(vn){return getNameFromCode(vn)}function getNumber(vn){return getCodeFromName(vn)}function getCode(vn){return getCodeFromData(vn)}function getCodeVarint(vn){return getVarintFromName(vn)}function getVarint(vn){return Array.from(getVarintFromCode(vn))}var src$2={addPrefix,rmPrefix,getNameFromData,getNameFromCode,getCodeFromName,getCodeFromData,getVarintFromName,getVarintFromCode,getCodec,getName,getNumber,getCode,getCodeVarint,getVarint,...constantToCode,nameToVarint,nameToCode,codeToName};const mh$1=src$3,CIDUtil$1={checkCIDComponents:function(vn){if(vn==null)return"null values are not valid CIDs";if(!(vn.version===0||vn.version===1))return"Invalid version, must be a number equal to 1 or 0";if(typeof vn.codec!="string")return"codec must be string";if(vn.version===0){if(vn.codec!=="dag-pb")return"codec must be 'dag-pb' for CIDv0";if(vn.multibaseName!=="base58btc")return"multibaseName must be 'base58btc' for CIDv0"}if(!(vn.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{mh$1.validate(vn.multihash)}catch(fn){let En=fn.message;return En||(En="Multihash validation failed"),En}}};var cidUtil=CIDUtil$1;function equals(vn,fn){if(vn===fn)return!0;if(vn.byteLength!==fn.byteLength)return!1;for(let En=0;En<vn.byteLength;En++)if(vn[En]!==fn[En])return!1;return!0}const equals$1=Object.freeze(Object.defineProperty({__proto__:null,equals},Symbol.toStringTag,{value:"Module"})),require$$6$1=getAugmentedNamespace(equals$1),mh=src$3,multibase$2=srcExports,multicodec=src$2,CIDUtil=cidUtil,{concat:uint8ArrayConcat}=require$$4$1,{toString:uint8ArrayToString$1}=require$$5,{equals:uint8ArrayEquals}=require$$6$1,codecs$2=multicodec.nameToCode,codecInts=Object.keys(codecs$2).reduce((vn,fn)=>(vn[codecs$2[fn]]=fn,vn),{}),symbol=Symbol.for("@ipld/js-cid/CID");let CID$3=class Dl{constructor(fn,En,Cn,_i){if(this.version,this.codec,this.multihash,Object.defineProperty(this,symbol,{value:!0}),Dl.isCID(fn)){const An=fn;this.version=An.version,this.codec=An.codec,this.multihash=An.multihash,this.multibaseName=An.multibaseName||(An.version===0?"base58btc":"base32");return}if(typeof fn=="string"){const An=multibase$2.isEncoded(fn);if(An){const ba=multibase$2.decode(fn);this.version=parseInt(ba[0].toString(),16),this.codec=multicodec.getCodec(ba.slice(1)),this.multihash=multicodec.rmPrefix(ba.slice(1)),this.multibaseName=An}else this.version=0,this.codec="dag-pb",this.multihash=mh.fromB58String(fn),this.multibaseName="base58btc";Dl.validateCID(this),Object.defineProperty(this,"string",{value:fn});return}if(fn instanceof Uint8Array){const An=parseInt(fn[0].toString(),16);if(An===1){const ba=fn;this.version=An,this.codec=multicodec.getCodec(ba.slice(1)),this.multihash=multicodec.rmPrefix(ba.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=fn,this.multibaseName="base58btc";Dl.validateCID(this);return}this.version=fn,typeof En=="number"&&(En=codecInts[En]),this.codec=En,this.multihash=Cn,this.multibaseName=_i||(fn===0?"base58btc":"base32"),Dl.validateCID(this)}get bytes(){let fn=this._bytes;if(!fn){if(this.version===0)fn=this.multihash;else if(this.version===1){const En=multicodec.getCodeVarint(this.codec);fn=uint8ArrayConcat([[1],En,this.multihash],1+En.byteLength+this.multihash.byteLength)}else throw new Error("unsupported version");Object.defineProperty(this,"_bytes",{value:fn})}return fn}get prefix(){const fn=multicodec.getCodeVarint(this.codec),En=mh.prefix(this.multihash);return uint8ArrayConcat([[this.version],fn,En],1+fn.byteLength+En.byteLength)}get code(){return codecs$2[this.codec]}toV0(){if(this.codec!=="dag-pb")throw new Error("Cannot convert a non dag-pb CID to CIDv0");const{name:fn,length:En}=mh.decode(this.multihash);if(fn!=="sha2-256")throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(En!==32)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new Dl(0,this.codec,this.multihash)}toV1(){return new Dl(1,this.codec,this.multihash,this.multibaseName)}toBaseEncodedString(fn=this.multibaseName){if(this.string&&this.string.length!==0&&fn===this.multibaseName)return this.string;let En;if(this.version===0){if(fn!=="base58btc")throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");En=mh.toB58String(this.multihash)}else if(this.version===1)En=uint8ArrayToString$1(multibase$2.encode(fn,this.bytes));else throw new Error("unsupported version");return fn===this.multibaseName&&Object.defineProperty(this,"string",{value:En}),En}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(fn){return this.toBaseEncodedString(fn)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(fn){return this.codec===fn.codec&&this.version===fn.version&&uint8ArrayEquals(this.multihash,fn.multihash)}static validateCID(fn){const En=CIDUtil.checkCIDComponents(fn);if(En)throw new Error(En)}static isCID(fn){return fn instanceof Dl||!!(fn&&fn[symbol])}};CID$3.codecs=codecs$2;var src$1=CID$3,explainError={exports:{}};function getStack(vn){if(vn.stack&&vn.name&&vn.message)return vn.stack.substring(vn.name.length+3+vn.message.length).split(`
`);if(vn.stack)return vn.stack.split(`
`)}function removePrefix(vn,fn){return vn.filter(function(En){return!~fn.indexOf(En)})}explainError.exports=function(vn,fn){if(!(vn.stack&&vn.name&&vn.message))return console.error(new Error("stackless error")),vn;var En=new Error(fn),Cn=removePrefix(getStack(En).slice(1),getStack(vn)).join(`
`);return En.__proto__=vn,En.stack=En.name+": "+En.message+`
`+Cn+`
  `+vn.stack,En};var explainErrorExports=explainError.exports;const CID$2=src$1,explain$1=explainErrorExports;var base32=function(fn){try{fn=new CID$2(fn)}catch(En){throw explain$1(En,`invalid cid: ${fn}`)}return fn.version!==1&&(fn=fn.toV1()),fn.toBaseEncodedString("base32")};const multibase$1=srcExports;var bases$3=function(){const fn=[];for(const En of Object.values(multibase$1.names))fn.push({name:En.name,code:En.code});return fn};const CID$1=src$1;var codecs$1=function(){const fn=[];for(const[En,Cn]of Object.entries(CID$1.codecs))fn.push({name:En,code:Cn});return fn};const require$$0$6=getAugmentedNamespace(basics),{bases:bases$2}=require$$0$6;function createCodec(vn,fn,En,Cn){return{name:vn,prefix:fn,encoder:{name:vn,prefix:fn,encode:En},decoder:{decode:Cn}}}const string=createCodec("utf8","u",vn=>"u"+new TextDecoder("utf8").decode(vn),vn=>new TextEncoder().encode(vn.substring(1))),ascii=createCodec("ascii","a",vn=>{let fn="a";for(let En=0;En<vn.length;En++)fn+=String.fromCharCode(vn[En]);return fn},vn=>{vn=vn.substring(1);const fn=new Uint8Array(vn.length);for(let En=0;En<vn.length;En++)fn[En]=vn.charCodeAt(En);return fn}),BASES={utf8:string,"utf-8":string,hex:bases$2.base16,latin1:ascii,ascii,binary:ascii,...bases$2};var bases_1=BASES;const bases$1=bases_1;function toString(vn,fn="utf8"){const En=bases$1[fn];if(!En)throw new Error(`Unsupported encoding "${fn}"`);return En.encoder.encode(vn).substring(1)}var toString_1=toString;const CID=src$1,bases=bases$3,codecs=codecs$1,explain=explainErrorExports,multibase=srcExports,multihash$1=src$3,uint8ArrayToString=toString_1;var format$2=function(fn,En){En=En||{};let Cn=En.format||"%s";if(Cn==="prefix"&&(Cn="%P"),!isString(Cn)||Cn.indexOf("%")===-1)throw new Error(`invalid format string: ${Cn}`);const _i=fn;try{fn=new CID(fn)}catch(ba){throw explain(ba,`invalid cid: ${fn}`)}if(En.cidVersion!=null&&fn.version!==En.cidVersion)if(En.cidVersion===0)fn=fn.toV0();else if(En.cidVersion===1)fn=fn.toV1();else throw new Error(`invalid cid version: ${En.cidVersion}`);let An="base58btc";return En.base?An=findBase(En.base).name:isString(_i)&&(An=multibase.isEncoded(_i)||An),Cn.replace(/%([a-zA-Z%])/g,replacer(fn,An))};function isString(vn){return Object.prototype.toString.call(vn)==="[object String]"}function replacer(vn,fn){return(Cn,_i)=>{switch(_i){case"%":return"%";case"b":return fn;case"B":return findBase(fn).code;case"v":return`cidv${vn.version}`;case"V":return vn.version.toString();case"c":return vn.codec;case"C":return findCodec(vn).toString();case"h":return multihash$1.decode(vn.multihash).name;case"H":return multihash$1.decode(vn.multihash).code.toString();case"L":return multihash$1.decode(vn.multihash).length.toString();case"m":return uint8ArrayToString(multibase.encode(fn,vn.multihash));case"M":return uint8ArrayToString(vn.multihash,fn);case"d":return uint8ArrayToString(multibase.encode(fn,multihash$1.decode(vn.multihash).digest));case"D":return uint8ArrayToString(multihash$1.decode(vn.multihash).digest,fn);case"s":return vn.toString(fn);case"S":return vn.version===1?vn.toString(fn).slice(1):uint8ArrayToString(vn.bytes,fn);case"P":return prefix(vn);default:throw new Error(`unrecognized specifier in format string: ${_i}`)}}}function findBase(vn){const fn=bases().find(En=>En.code===vn||En.name===vn);if(!fn)throw new Error(`invalid multibase: ${vn}`);return fn}function findCodec(vn){const fn=codecs().find(En=>En.name===vn.codec);if(!fn)throw new Error(`invalid codec: ${vn.codec}`);return fn.code}function prefix(vn){const{name:fn,length:En}=multihash$1.decode(vn.multihash);return`cidv${vn.version}-${vn.codec}-${fn}-${En}`}const multihash=src$3;var hashes=function(){const fn=[];for(const[En,Cn]of Object.entries(multihash.names))fn.push({name:En,code:Cn});return fn};core$1.base32=base32;core$1.bases=bases$3;core$1.codecs=codecs$1;core$1.format=format$2;core$1.hashes=hashes;var src=core$1;const CIDTool=getDefaultExportFromCjs$1(src);var browser$g=typeof self=="object"?self.FormData:window.FormData;const FormData$1=getDefaultExportFromCjs$1(browser$g);let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let vn=0;vn<256;++vn)byteToHex.push((vn+256).toString(16).slice(1));function unsafeStringify(vn,fn=0){return byteToHex[vn[fn+0]]+byteToHex[vn[fn+1]]+byteToHex[vn[fn+2]]+byteToHex[vn[fn+3]]+"-"+byteToHex[vn[fn+4]]+byteToHex[vn[fn+5]]+"-"+byteToHex[vn[fn+6]]+byteToHex[vn[fn+7]]+"-"+byteToHex[vn[fn+8]]+byteToHex[vn[fn+9]]+"-"+byteToHex[vn[fn+10]]+byteToHex[vn[fn+11]]+byteToHex[vn[fn+12]]+byteToHex[vn[fn+13]]+byteToHex[vn[fn+14]]+byteToHex[vn[fn+15]]}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(vn,fn,En){if(native.randomUUID&&!fn&&!vn)return native.randomUUID();vn=vn||{};const Cn=vn.random||(vn.rng||rng)();if(Cn[6]=Cn[6]&15|64,Cn[8]=Cn[8]&63|128,fn){En=En||0;for(let _i=0;_i<16;++_i)fn[En+_i]=Cn[_i];return fn}return unsafeStringify(Cn)}var define_process_env_default$2={};function getProcessEnv(vn){let fn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof process$1<"u"&&define_process_env_default$2[vn]?define_process_env_default$2[vn]:fn}const TW_HOSTNAME_SUFFIX=".ipfscdn.io",TW_STAGINGHOSTNAME_SUFFIX=".thirdwebstorage-staging.com",TW_GATEWAY_URLS=[`https://{clientId}${TW_HOSTNAME_SUFFIX}/ipfs/{cid}/{path}`];function isTwGatewayUrl(vn){const fn=new URL(vn).hostname;return fn.endsWith(TW_HOSTNAME_SUFFIX)?!0:fn.endsWith(TW_STAGINGHOSTNAME_SUFFIX)}const PUBLIC_GATEWAY_URLS=["https://{cid}.ipfs.cf-ipfs.com/{path}","https://{cid}.ipfs.dweb.link/{path}","https://ipfs.io/ipfs/{cid}/{path}","https://cloudflare-ipfs.com/ipfs/{cid}/{path}","https://{cid}.ipfs.w3s.link/{path}","https://w3s.link/ipfs/{cid}/{path}","https://nftstorage.link/ipfs/{cid}/{path}","https://gateway.pinata.cloud/ipfs/{cid}/{path}"],DEFAULT_GATEWAY_URLS={"ipfs://":[...TW_GATEWAY_URLS,...PUBLIC_GATEWAY_URLS]},TW_UPLOAD_SERVER_URL=getProcessEnv("CUSTOM_UPLOAD_SERVER_URL","https://storage.thirdweb.com");function parseGatewayUrls(vn){return Array.isArray(vn)?{"ipfs://":vn}:vn||{}}function getGatewayUrlForCid(vn,fn,En){const Cn=fn.split("/"),_i=convertCidToV1(Cn[0]),An=Cn.slice(1).join("/");let ba=vn;if(vn.includes("{cid}")&&vn.includes("{path}")?ba=ba.replace("{cid}",_i).replace("{path}",An):vn.includes("{cid}")?ba=ba.replace("{cid}",_i):ba+=`${_i}/${An}`,vn.includes("{clientId}")){if(!En)throw new Error("Cannot use {clientId} in gateway URL without providing a client ID");ba=ba.replace("{clientId}",En)}return ba}function prepareGatewayUrls(vn,fn,En){const Cn={...DEFAULT_GATEWAY_URLS,...vn};for(const _i of Object.keys(Cn)){const An=Cn[_i].map(ba=>{if(fn&&ba.includes("{clientId}"))return ba.replace("{clientId}",fn);if(En&&ba.includes("{clientId}")){if(typeof window<"u")throw new Error("Cannot use secretKey in browser context");const $a=sha256HexSync(En).slice(0,32);return ba.replace("{clientId}",$a)}else return ba.includes("{clientId}")?void 0:ba}).filter(ba=>ba!==void 0);Cn[_i]=An}return Cn}function convertCidToV1(vn){let fn="";try{const En=vn.split("/")[0];fn=CIDTool.base32(En)}catch{throw new Error(`The CID ${vn} is not valid.`)}return fn}function isBrowser(){return typeof window<"u"}function isFileInstance(vn){return global$1.File&&vn instanceof File}function isBufferInstance(vn){return global$1.Buffer&&vn instanceof Buffer$7}function isBufferOrStringWithName(vn){return!!(vn&&vn.name&&vn.data&&typeof vn.name=="string"&&(typeof vn.data=="string"||isBufferInstance(vn.data)))}function isFileOrBuffer(vn){return isFileInstance(vn)||isBufferInstance(vn)||isBufferOrStringWithName(vn)}function isFileBufferOrStringEqual(vn,fn){if(isFileInstance(vn)&&isFileInstance(fn)){if(vn.name===fn.name&&vn.lastModified===fn.lastModified&&vn.size===fn.size)return!0}else{if(isBufferInstance(vn)&&isBufferInstance(fn))return vn.equals(fn);if(isBufferOrStringWithName(vn)&&isBufferOrStringWithName(fn)&&vn.name===fn.name){if(typeof vn.data=="string"&&typeof fn.data=="string")return vn.data===fn.data;if(isBufferInstance(vn.data)&&isBufferInstance(fn.data))return vn.data.equals(fn.data)}}return!1}function parseCidAndPath(vn,fn){var An,ba;const En=vn.replace("{cid}","(?<hash>[^/]+)").replace("{path}","(?<path>[^?#]+)"),Cn=new RegExp(En),_i=fn.match(Cn);if(_i){const xa=(An=_i.groups)==null?void 0:An.hash,$a=(ba=_i.groups)==null?void 0:ba.path,rs=fn.includes("?")?fn.substring(fn.indexOf("?")+1):"";return{hash:xa,path:$a,query:rs}}}function replaceGatewayUrlWithScheme(vn,fn){for(const En of Object.keys(fn))for(const Cn of fn[En])if(Cn.includes("{cid}")){const _i=parseCidAndPath(Cn,vn);if(_i!=null&&_i.hash&&(_i!=null&&_i.path)){const An=_i!=null&&_i.query?`?${_i==null?void 0:_i.query}`:"";return`${En}${_i==null?void 0:_i.hash}/${_i==null?void 0:_i.path}${An}`}else return vn}else if(vn.startsWith(Cn))return vn.replace(Cn,En);return vn}function replaceSchemeWithGatewayUrl(vn,fn){let En=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Cn=arguments.length>3?arguments[3]:void 0;const _i=Object.keys(fn).find(xa=>vn.startsWith(xa)),An=_i?fn[_i]:[];if(!_i&&En>0||_i&&En>=An.length)return;if(!_i)return vn;const ba=vn.replace(_i,"");try{return getGatewayUrlForCid(An[En],ba,Cn)}catch{console.warn(`The IPFS uri: ${ba} is not valid.`);return}}function replaceObjectGatewayUrlsWithSchemes(vn,fn){return typeof vn=="string"?replaceGatewayUrlWithScheme(vn,fn):typeof vn=="object"?!vn||isFileOrBuffer(vn)?vn:Array.isArray(vn)?vn.map(En=>replaceObjectGatewayUrlsWithSchemes(En,fn)):Object.fromEntries(Object.entries(vn).map(En=>{let[Cn,_i]=En;return[Cn,replaceObjectGatewayUrlsWithSchemes(_i,fn)]})):vn}function replaceObjectSchemesWithGatewayUrls(vn,fn,En){return typeof vn=="string"?replaceSchemeWithGatewayUrl(vn,fn,0,En):typeof vn=="object"?!vn||isFileOrBuffer(vn)?vn:Array.isArray(vn)?vn.map(Cn=>replaceObjectSchemesWithGatewayUrls(Cn,fn,En)):Object.fromEntries(Object.entries(vn).map(Cn=>{let[_i,An]=Cn;return[_i,replaceObjectSchemesWithGatewayUrls(An,fn,En)]})):vn}function extractObjectFiles(vn){let fn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(isFileOrBuffer(vn))return fn.push(vn),fn;if(typeof vn=="object"){if(!vn)return fn;Array.isArray(vn)?vn.forEach(En=>extractObjectFiles(En,fn)):Object.keys(vn).map(En=>extractObjectFiles(vn[En],fn))}return fn}function replaceObjectFilesWithUris(vn,fn){if(isFileOrBuffer(vn)){if(fn.length)return vn=fn.shift(),vn;console.warn("Not enough URIs to replace all files in object.")}return typeof vn=="object"?vn&&(Array.isArray(vn)?vn.map(En=>replaceObjectFilesWithUris(En,fn)):Object.fromEntries(Object.entries(vn).map(En=>{let[Cn,_i]=En;return[Cn,replaceObjectFilesWithUris(_i,fn)]}))):vn}var pkg$1={name:"@thirdweb-dev/storage",version:"2.0.15",main:"dist/thirdweb-dev-storage.cjs.js",module:"dist/thirdweb-dev-storage.esm.js",exports:{".":{module:"./dist/thirdweb-dev-storage.esm.js",default:"./dist/thirdweb-dev-storage.cjs.js"},"./package.json":"./package.json"},repository:"https://github.com/thirdweb-dev/js/tree/main/legacy_packages/storage",author:"thirdweb eng <eng@thirdweb.com>",license:"Apache-2.0",sideEffects:!1,scripts:{format:"prettier --write 'src/**/*'",lint:"eslint src/",fix:"eslint src/ --fix",clean:"rm -rf dist/",build:"tsc && preconstruct build",test:"vitest run",push:"yalc push",typedoc:"node scripts/typedoc.mjs"},files:["dist/"],preconstruct:{exports:!0},devDependencies:{"@microsoft/api-documenter":"^7.24.1","@microsoft/api-extractor":"^7.43.0","@microsoft/tsdoc":"^0.14.2","@preconstruct/cli":"2.7.0","@swc-node/register":"^1.9.0","@thirdweb-dev/tsconfig":"^0.1.7","@types/uuid":"^9.0.8",eslint:"8.57.0","eslint-config-thirdweb":"^0.1.9","eslint-plugin-tsdoc":"^0.2.17",esm:"^3.2.25",rimraf:"5.0.5","typedoc-gen":"^1.0.2",typescript:"5.4.4"},dependencies:{"@thirdweb-dev/crypto":"0.2.6","cid-tool":"^3.0.0","form-data":"^4.0.0",uuid:"^9.0.1"},engines:{node:">=18"}};const operatingSystemRules$2=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detectOS$3(vn){for(let fn=0,En=operatingSystemRules$2.length;fn<En;fn++){const Cn=operatingSystemRules$2[fn];if(!Cn)continue;const[_i,An]=Cn;if(An.exec(vn))return _i}return null}function getOperatingSystem$1(){if(typeof navigator<"u"&&navigator.product==="ReactNative")return"";if(typeof window<"u"){const vn=navigator.userAgent;return detectOS$3(vn)||""}else return process$1.platform}function setAnalyticsHeaders$1(vn){const fn=getAnalyticsGlobals$2();vn["x-sdk-version"]=fn.x_sdk_version,vn["x-sdk-name"]=fn.x_sdk_name,vn["x-sdk-platform"]=fn.x_sdk_platform,vn["x-sdk-os"]=fn.x_sdk_os,fn.app_bundle_id&&(vn["x-bundle-id"]=fn.app_bundle_id)}function setAnalyticsHeadersForXhr(vn){const fn=getAnalyticsGlobals$2();vn.setRequestHeader("x-sdk-version",fn.x_sdk_version),vn.setRequestHeader("x-sdk-os",fn.x_sdk_os),vn.setRequestHeader("x-sdk-name",fn.x_sdk_name),vn.setRequestHeader("x-sdk-platform",fn.x_sdk_platform),fn.app_bundle_id&&vn.setRequestHeader("x-bundle-id",fn.app_bundle_id)}function getAnalyticsGlobals$2(){return typeof globalThis>"u"?{x_sdk_name:pkg$1.name,x_sdk_platform:getPlatform$1(),x_sdk_version:pkg$1.version,x_sdk_os:getOperatingSystem$1(),app_bundle_id:void 0}:(globalThis.X_SDK_NAME===void 0&&(globalThis.X_SDK_NAME=pkg$1.name,globalThis.X_SDK_PLATFORM=getPlatform$1(),globalThis.X_SDK_VERSION=pkg$1.version,globalThis.X_SDK_OS=getOperatingSystem$1(),globalThis.APP_BUNDLE_ID=void 0),{x_sdk_name:globalThis.X_SDK_NAME,x_sdk_platform:globalThis.X_SDK_PLATFORM,x_sdk_version:globalThis.X_SDK_VERSION,x_sdk_os:globalThis.X_SDK_OS,app_bundle_id:globalThis.APP_BUNDLE_ID||""})}function getPlatform$1(){return typeof navigator<"u"&&navigator.product==="ReactNative"?"mobile":typeof window<"u"?"browser":"node"}class StorageDownloader{constructor(fn){Lo(this,"DEFAULT_TIMEOUT_IN_SECONDS",60);Lo(this,"DEFAULT_MAX_RETRIES",3);this.secretKey=fn.secretKey,this.clientId=fn.clientId,this.defaultTimeout=fn.timeoutInSeconds||this.DEFAULT_TIMEOUT_IN_SECONDS}async download(fn,En,Cn){let _i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const An=(Cn==null?void 0:Cn.maxRetries)||this.DEFAULT_MAX_RETRIES;if(_i>An)return console.error("[FAILED_TO_DOWNLOAD_ERROR] Failed to download from URI - too many attempts failed."),new Response(JSON.stringify({error:"Not Found"}),{status:404,headers:{"Content-Type":"application/json"}});let ba=replaceSchemeWithGatewayUrl(fn,En,_i,this.clientId);if(ba)_i>0&&console.warn(`Retrying download with backup gateway URL: ${ba}`);else return console.error("[FAILED_TO_DOWNLOAD_ERROR] Unable to download from URI - all gateway URLs failed to respond."),new Response(JSON.stringify({error:"Not Found"}),{status:404,headers:{"Content-Type":"application/json"}});let xa={};if(isTwGatewayUrl(ba)){const cs=getAnalyticsGlobals$2().app_bundle_id;this.secretKey?xa={"x-secret-key":this.secretKey}:this.clientId&&(!ba.includes("bundleId")&&cs&&(ba=ba+(cs?`?bundleId=${cs}`:"")),xa["x-client-Id"]=this.clientId),typeof globalThis<"u"&&"TW_AUTH_TOKEN"in globalThis&&typeof globalThis.TW_AUTH_TOKEN=="string"&&(xa={...xa,authorization:`Bearer ${globalThis.TW_AUTH_TOKEN}`}),typeof globalThis<"u"&&"TW_CLI_AUTH_TOKEN"in globalThis&&typeof globalThis.TW_CLI_AUTH_TOKEN=="string"&&(xa={...xa,authorization:`Bearer ${globalThis.TW_CLI_AUTH_TOKEN}`},xa["x-authorize-wallet"]="true"),setAnalyticsHeaders$1(xa)}if(isTooManyRequests(ba))return this.download(fn,En,Cn,_i+1);const $a=new AbortController,rs=(Cn==null?void 0:Cn.timeoutInSeconds)||this.defaultTimeout,ts=setTimeout(()=>$a.abort(),rs*1e3),is=await fetch(ba,{headers:xa,signal:$a.signal}).catch(cs=>cs);if(ts&&clearTimeout(ts),!("status"in is))throw new Error(`Request timed out after ${rs} seconds. ${isTwGatewayUrl(ba)?"You can update the timeoutInSeconds option to increase the timeout.":"You're using a public IPFS gateway, pass in a clientId or secretKey for a reliable IPFS gateway."}`);return is.ok?is:is.status===429?(tooManyRequestsBackOff(ba,is),this.download(fn,En,Cn,_i+1)):is.status===410?(console.error(`Request to ${ba} failed because this content seems to be blocklisted. Search VirusTotal for this URL to confirm: ${ba} `),is):(console.warn(`Request to ${ba} failed with status ${is.status} - ${is.statusText}`),is.status===404&&isTwGatewayUrl(ba)||is.status!==408&&is.status!==429&&is.status<500?is:this.download(fn,En,Cn,_i+1))}}const TOO_MANY_REQUESTS_TRACKER=new Map;function isTooManyRequests(vn){return TOO_MANY_REQUESTS_TRACKER.has(vn)}const TIMEOUT_MAP=new Map;function tooManyRequestsBackOff(vn,fn){TIMEOUT_MAP.has(vn)&&clearTimeout(TIMEOUT_MAP.get(vn));const En=fn.headers.get("Retry-After");let Cn=5e3;if(En){const _i=parseInt(En);isNaN(_i)||(Cn=_i*1e3)}TOO_MANY_REQUESTS_TRACKER.set(vn,!0),TIMEOUT_MAP.set(vn,setTimeout(()=>TOO_MANY_REQUESTS_TRACKER.delete(vn),Cn))}class IpfsUploader{constructor(fn){this.uploadWithGatewayUrl=(fn==null?void 0:fn.uploadWithGatewayUrl)||!1,this.uploadServerUrl=(fn==null?void 0:fn.uploadServerUrl)||TW_UPLOAD_SERVER_URL,this.clientId=fn==null?void 0:fn.clientId,this.secretKey=fn==null?void 0:fn.secretKey}async uploadBatch(fn,En){if(En!=null&&En.uploadWithoutDirectory&&fn.length>1)throw new Error("[UPLOAD_WITHOUT_DIRECTORY_ERROR] Cannot upload more than one file or object without directory!");const Cn=new FormData$1,{form:_i,fileNames:An}=this.buildFormData(Cn,fn,En);return isBrowser()?this.uploadBatchBrowser(_i,An,En):this.uploadBatchNode(_i,An,En)}buildFormData(fn,En,Cn){const _i=new Map,An=[];for(let xa=0;xa<En.length;xa++){const $a=En[xa];let rs="",ts=$a;if(isFileInstance($a))if(Cn!=null&&Cn.rewriteFileNames){let cs="";if($a.name){const us=$a.name.lastIndexOf(".");us>-1&&(cs=$a.name.substring(us))}rs=`${xa+Cn.rewriteFileNames.fileStartNumber}${cs}`}else rs=`${$a.name}`;else isBufferOrStringWithName($a)?(ts=$a.data,Cn!=null&&Cn.rewriteFileNames?rs=`${xa+Cn.rewriteFileNames.fileStartNumber}`:rs=`${$a.name}`):Cn!=null&&Cn.rewriteFileNames?rs=`${xa+Cn.rewriteFileNames.fileStartNumber}`:rs=`${xa}`;const is=Cn!=null&&Cn.uploadWithoutDirectory?"files":`files/${rs}`;if(_i.has(rs)){if(isFileBufferOrStringEqual(_i.get(rs),$a)){An.push(rs);continue}throw new Error(`[DUPLICATE_FILE_NAME_ERROR] File name ${rs} was passed for more than one different file.`)}_i.set(rs,$a),An.push(rs),isBrowser()?fn.append("file",new Blob([ts]),is):fn.append("file",ts,{filepath:is})}const ba={name:"Storage SDK",keyvalues:{...Cn==null?void 0:Cn.metadata}};return fn.append("pinataMetadata",JSON.stringify(ba)),Cn!=null&&Cn.uploadWithoutDirectory&&fn.append("pinataOptions",JSON.stringify({wrapWithDirectory:!1})),{form:fn,fileNames:An.map(xa=>encodeURIComponent(xa))}}async uploadBatchBrowser(fn,En,Cn){return new Promise((_i,An)=>{const ba=new XMLHttpRequest;let xa=setTimeout(()=>{ba.abort(),An(new Error("Request to upload timed out! No upload progress received in 30s"))},3e4);ba.upload.addEventListener("loadstart",()=>{console.log(`[${Date.now()}] [IPFS] Started`)}),ba.upload.addEventListener("progress",$a=>{console.log(`[IPFS] Progress Event ${$a.loaded}/${$a.total}`),clearTimeout(xa),$a.loaded<$a.total?xa=setTimeout(()=>{ba.abort(),An(new Error("Request to upload timed out! No upload progress received in 30s"))},3e4):console.log(`[${Date.now()}] [IPFS] Uploaded files. Waiting for response.`),$a.lengthComputable&&(Cn!=null&&Cn.onProgress)&&(Cn==null||Cn.onProgress({progress:$a.loaded,total:$a.total}))}),ba.addEventListener("load",()=>{if(console.log(`[${Date.now()}] [IPFS] Load`),clearTimeout(xa),ba.status>=200&&ba.status<300){let $a;try{$a=JSON.parse(ba.responseText)}catch{return An(new Error("Failed to parse JSON from upload response"))}const rs=$a.IpfsHash;if(!rs)throw new Error("Failed to get IPFS hash from upload response");return Cn!=null&&Cn.uploadWithoutDirectory?_i([`ipfs://${rs}`]):_i(En.map(ts=>`ipfs://${rs}/${ts}`))}return An(new Error(`Upload failed with status ${ba.status} - ${ba.responseText}`))}),ba.addEventListener("error",()=>(console.log("[IPFS] Load"),clearTimeout(xa),ba.readyState!==0&&ba.readyState!==4||ba.status===0?An(new Error("Upload failed due to a network error.")):An(new Error("Unknown upload error occured")))),ba.open("POST",`${this.uploadServerUrl}/ipfs/upload`),this.secretKey?ba.setRequestHeader("x-secret-key",this.secretKey):this.clientId&&ba.setRequestHeader("x-client-id",this.clientId),setAnalyticsHeadersForXhr(ba),typeof globalThis<"u"&&"TW_AUTH_TOKEN"in globalThis&&typeof globalThis.TW_AUTH_TOKEN=="string"&&ba.setRequestHeader("authorization",`Bearer ${globalThis.TW_AUTH_TOKEN}`),typeof globalThis<"u"&&"TW_CLI_AUTH_TOKEN"in globalThis&&typeof globalThis.TW_CLI_AUTH_TOKEN=="string"&&(ba.setRequestHeader("authorization",`Bearer ${globalThis.TW_CLI_AUTH_TOKEN}`),ba.setRequestHeader("x-authorize-wallet","true")),ba.send(fn)})}async uploadBatchNode(fn,En,Cn){Cn!=null&&Cn.onProgress&&console.warn("The onProgress option is only supported in the browser");const _i={};this.secretKey?_i["x-secret-key"]=this.secretKey:this.clientId&&(_i["x-client-id"]=this.clientId),typeof globalThis<"u"&&"TW_AUTH_TOKEN"in globalThis&&typeof globalThis.TW_AUTH_TOKEN=="string"&&(_i.authorization=`Bearer ${globalThis.TW_AUTH_TOKEN}`),typeof globalThis<"u"&&"TW_CLI_AUTH_TOKEN"in globalThis&&typeof globalThis.TW_CLI_AUTH_TOKEN=="string"&&(_i.authorization=`Bearer ${globalThis.TW_CLI_AUTH_TOKEN}`,_i["x-authorize-wallet"]="true"),setAnalyticsHeaders$1(_i);const An=await fetch(`${this.uploadServerUrl}/ipfs/upload`,{method:"POST",headers:{..._i,...fn.getHeaders()},body:fn.getBuffer()});if(!An.ok)throw An.status===401?new Error("Unauthorized - You don't have permission to use this service."):new Error(`Failed to upload files to IPFS - ${An.status} - ${An.statusText} - ${await An.text()}`);const xa=(await An.json()).IpfsHash;if(!xa)throw new Error("Failed to upload files to IPFS - Bad CID");return Cn!=null&&Cn.uploadWithoutDirectory?[`ipfs://${xa}`]:En.map($a=>`ipfs://${xa}/${$a}`)}}class ThirdwebStorage{constructor(fn){this.uploader=(fn==null?void 0:fn.uploader)||new IpfsUploader({clientId:fn==null?void 0:fn.clientId,secretKey:fn==null?void 0:fn.secretKey,uploadServerUrl:fn==null?void 0:fn.uploadServerUrl}),this.downloader=(fn==null?void 0:fn.downloader)||new StorageDownloader({secretKey:fn==null?void 0:fn.secretKey,clientId:fn==null?void 0:fn.clientId}),this.gatewayUrls=prepareGatewayUrls(parseGatewayUrls(fn==null?void 0:fn.gatewayUrls),fn==null?void 0:fn.clientId,fn==null?void 0:fn.secretKey),this.clientId=fn==null?void 0:fn.clientId}resolveScheme(fn){return replaceSchemeWithGatewayUrl(fn,this.gatewayUrls,0,this.clientId)}async download(fn,En){return this.downloader.download(fn,this.gatewayUrls,En)}async downloadJSON(fn,En){const _i=await(await this.download(fn,En)).json();return replaceObjectSchemesWithGatewayUrls(_i,this.gatewayUrls,this.clientId)}async upload(fn,En){const[Cn]=await this.uploadBatch([fn],En);return Cn}async uploadBatch(fn,En){if(fn=fn.filter(An=>An!==void 0),!fn.length)return[];const Cn=fn.map(An=>isFileOrBuffer(An)||typeof An=="string").every(An=>!!An);let _i=[];if(Cn)_i=await this.uploader.uploadBatch(fn,En);else{const An=(await this.uploadAndReplaceFilesWithHashes(fn,En)).map(ba=>typeof ba=="string"?ba:JSON.stringify(ba));_i=await this.uploader.uploadBatch(An,En)}return En!=null&&En.uploadWithGatewayUrl||this.uploader.uploadWithGatewayUrl?_i.map(An=>this.resolveScheme(An)):_i}getGatewayUrls(){return this.gatewayUrls}async uploadAndReplaceFilesWithHashes(fn,En){let Cn=fn;Cn=replaceObjectGatewayUrlsWithSchemes(Cn,this.gatewayUrls);const _i=extractObjectFiles(Cn);if(_i.length){const An=await this.uploader.uploadBatch(_i,En);Cn=replaceObjectFilesWithUris(Cn,An)}return(En!=null&&En.uploadWithGatewayUrl||this.uploader.uploadWithGatewayUrl)&&(Cn=replaceObjectSchemesWithGatewayUrls(Cn,this.gatewayUrls,this.clientId)),Cn}}async function getDefaultGasOverrides(vn){vn.originalProvider&&(vn=vn.originalProvider);const fn=await getDynamicFeeData(vn);return fn.maxFeePerGas&&fn.maxPriorityFeePerGas?{maxFeePerGas:fn.maxFeePerGas,maxPriorityFeePerGas:fn.maxPriorityFeePerGas}:{gasPrice:await getGasPrice(vn)}}async function getDynamicFeeData(vn){let fn=null,En=null;const[{chainId:Cn},_i,An]=await Promise.all([vn.getNetwork(),vn.getBlock("latest"),vn.send("eth_maxPriorityFeePerGas",[]).catch(()=>null)]),ba=_i&&_i.baseFeePerGas?_i.baseFeePerGas:parseUnits("100","wei");if(Cn===c147.chainId||Cn===c1147.chainId)return{maxFeePerGas:null,maxPriorityFeePerGas:null,baseFee:null};if(Cn===c80001.chainId||Cn===c137.chainId)En=await getPolygonGasPriorityFee(Cn);else if(An)En=BigNumber.from(An);else if(En=(await vn.getFeeData()).maxPriorityFeePerGas,!En)return{maxFeePerGas:null,maxPriorityFeePerGas:null,baseFee:null};return En=getPreferredPriorityFee(En),fn=ba.mul(2).add(En),{maxFeePerGas:fn,maxPriorityFeePerGas:En,baseFee:ba}}function getPreferredPriorityFee(vn){let fn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10;const En=vn.div(100).mul(fn);return vn.add(En)}async function getGasPrice(vn){const fn=await vn.getGasPrice(),En=parseUnits("300","gwei"),Cn=fn.div(100).mul(10),_i=fn.add(Cn);return _i.gt(En)?En:_i}async function estimateTransactionCost(vn,fn){const En=(await vn.getNetwork()).chainId;let Cn=BigNumber.from(0);if(isOpStackChain(En)){const{asL2Provider:xa}=await __vitePreload(async()=>{const{asL2Provider:rs}=await import("./index-RnVQWLLE.js").then(ts=>ts.i);return{asL2Provider:rs}},__vite__mapDeps([36,37,7]));Cn=await xa(vn).estimateL1GasCost(fn)}const _i=fn.gasLimit||await vn.estimateGas(fn),An=await getGasPrice(vn);return BigNumber.from(_i).mul(An).add(Cn)}function isOpStackChain(vn){return vn===c10.chainId||vn===c11155420.chainId||vn===c8453.chainId||vn===c84532.chainId||vn===c7777777.chainId||vn===c999999999.chainId||vn===c42220.chainId||vn===c44787.chainId||vn===204||vn===5611}function getGasStationUrl(vn){switch(vn){case ChainId.Polygon:return"https://gasstation.polygon.technology/v2";case ChainId.Mumbai:return"https://gasstation-testnet.polygon.technology/v2"}}const MIN_POLYGON_GAS_PRICE=parseUnits("31","gwei"),MIN_MUMBAI_GAS_PRICE=parseUnits("1","gwei");function getDefaultGasFee(vn){switch(vn){case ChainId.Polygon:return MIN_POLYGON_GAS_PRICE;case ChainId.Mumbai:return MIN_MUMBAI_GAS_PRICE}}async function getPolygonGasPriorityFee(vn){const fn=getGasStationUrl(vn);try{const Cn=(await(await fetch(fn)).json()).fast.maxPriorityFee;if(Cn>0){const _i=parseFloat(Cn).toFixed(9);return parseUnits(_i,"gwei")}}catch{}return getDefaultGasFee(vn)}function buildDeployTransactionFunction(vn){async function fn(){return(await vn(...arguments)).execute()}return fn.prepare=vn,fn}function buildTransactionFunction(vn){async function fn(){return(await vn(...arguments)).execute()}return fn.prepare=vn,fn}class TransactionContext{constructor(fn){this.args=fn.args,this.overrides=fn.overrides||{},this.provider=fn.provider,this.signer=fn.signer,this.storage=fn.storage,this.signer.provider||(this.signer=this.signer.connect(this.provider))}get getSigner(){return this.signer}get getProvider(){return this.provider}get getStorage(){return this.storage}getArgs(){return this.args}getOverrides(){return this.overrides}getValue(){return this.overrides.value||0}setArgs(fn){return this.args=fn,this}setOverrides(fn){return this.overrides=fn,this}updateOverrides(fn){return this.overrides={...this.overrides,...fn},this}setValue(fn){return this.updateOverrides({value:fn}),this}setGasLimit(fn){return this.updateOverrides({gasLimit:fn}),this}setGasPrice(fn){return this.updateOverrides({gasPrice:fn}),this}setNonce(fn){return this.updateOverrides({nonce:fn}),this}setMaxFeePerGas(fn){return this.updateOverrides({maxFeePerGas:fn}),this}setMaxPriorityFeePerGas(fn){return this.updateOverrides({maxPriorityFeePerGas:fn}),this}setType(fn){return this.updateOverrides({type:fn}),this}setAccessList(fn){return this.updateOverrides({accessList:fn}),this}setCustomData(fn){return this.updateOverrides({customData:fn}),this}setCcipReadEnabled(fn){return this.updateOverrides({ccipReadEnabled:fn}),this}setGasLimitMultiple(fn){BigNumber.isBigNumber(this.overrides.gasLimit)?this.overrides.gasLimit=BigNumber.from(Math.floor(BigNumber.from(this.overrides.gasLimit).toNumber()*fn)):this.gasMultiple=fn}async getGasPrice(){return getGasPrice(this.provider)}async getSignerAddress(){return this.signer.getAddress()}async getGasOverrides(){return isBrowser()?{}:getDefaultGasOverrides(this.provider)}}class Transaction extends TransactionContext{static fromContractWrapper(fn){const En=fn.contractWrapper.getSigner();if(!En)throw new Error("Cannot create a transaction without a signer. Please ensure that you have a connected signer.");const Cn={...fn,contract:fn.contractWrapper.writeContract,provider:fn.contractWrapper.getProvider(),signer:En,gasless:fn.contractWrapper.options.gasless,storage:fn.contractWrapper.storage};return new Transaction(Cn)}static async fromContractInfo(fn){const En=fn.storage;let Cn=fn.contractAbi;if(!Cn)try{Cn=(await fetchContractMetadataFromAddress(fn.contractAddress,fn.provider,En)).abi}catch{throw new Error(`Could resolve contract metadata for address ${fn.contractAddress}. Please pass the contract ABI manually with the 'contractAbi' option.`)}const _i=new Contract(fn.contractAddress,Cn,fn.provider),An={...fn,storage:En,contract:_i};return new Transaction(An)}constructor(fn){super({args:fn.args,overrides:fn.overrides,provider:fn.provider,signer:fn.signer,storage:fn.storage}),this.method=fn.method,this.gaslessOptions=fn.gasless,this.parse=fn.parse,this.contract=fn.contract.connect(this.signer),this.storage=fn.storage}getTarget(){return this.contract.address}getMethod(){return this.method}getGaslessOptions(){return this.gaslessOptions}setGaslessOptions(fn){return this.gaslessOptions=fn,this}setParse(fn){return this.parse=fn,this}encode(){return this.contract.interface.encodeFunctionData(this.method,this.args)}async sign(){const fn=await this.populateTransaction();return await this.contract.signer.signTransaction(fn)}async populateTransaction(){const En={...await this.getGasOverrides(),...this.overrides};En.gasLimit||(En.gasLimit=await this.estimateGasLimit());const Cn=await this.contract.populateTransaction[this.method](...this.args,En);return await this.contract.signer.populateTransaction(Cn)}async simulate(){if(!this.contract.callStatic[this.method])throw this.functionError();try{return await this.contract.callStatic[this.method](...this.args,...this.overrides.value?[{value:this.overrides.value}]:[])}catch(fn){throw await this.transactionError(fn)}}async estimateGasLimit(){if(!this.contract.estimateGas[this.method])throw this.functionError();try{const fn=await this.contract.estimateGas[this.method](...this.args,this.overrides);return this.gasMultiple?BigNumber.from(Math.floor(BigNumber.from(fn).toNumber()*this.gasMultiple)):fn}catch(fn){throw await this.simulate(),await this.transactionError(fn)}}async estimateGasCost(){const fn=await estimateTransactionCost(this.provider,await this.populateTransaction());return{ether:formatEther(fn),wei:fn}}async send(){if(!this.contract.functions[this.method])throw this.functionError();if(this.gaslessOptions&&("openzeppelin"in this.gaslessOptions||"biconomy"in this.gaslessOptions||"engine"in this.gaslessOptions))return this.sendGasless();const En={...await this.getGasOverrides(),...this.overrides};En.gasLimit||(En.gasLimit=await this.estimateGasLimit());try{return await this.contract.functions[this.method](...this.args,En)}catch(Cn){throw await this.transactionError(Cn)}}async execute(){const fn=await this.send();let En;try{En=await fn.wait()}catch(Cn){throw await this.simulate(),await this.transactionError(Cn)}return this.parse?this.parse(En):{receipt:En}}async sendGasless(){const fn=await this.prepareGasless(),En=await defaultGaslessSendFunction(fn,this.signer,this.provider,this.storage,this.gaslessOptions);let Cn,_i=1;for(;!Cn;){try{Cn=await this.provider.getTransaction(En)}catch{}if(Cn||(await new Promise(An=>setTimeout(An,Math.min(_i*1e3,1e4))),_i++),_i>20)throw new Error(`Unable to retrieve transaction with hash ${En}`)}return Cn}async prepareGasless(){var rs;invariant(this.gaslessOptions&&("openzeppelin"in this.gaslessOptions||"biconomy"in this.gaslessOptions||"engine"in this.gaslessOptions));const fn=await this.getSignerAddress(),En=[...this.args];this.method==="multicall"&&Array.isArray(this.args[0])&&En[0].length>0&&(En[0]=En[0].map(ts=>pack(["bytes","address"],[ts,fn]))),invariant(this.signer);const[{chainId:Cn},_i]=await Promise.all([this.provider.getNetwork(),this.overrides.from||fn]),An=this.contract.address,ba=((rs=this.overrides)==null?void 0:rs.value)||0;if(BigNumber.from(ba).gt(0))throw new Error("Cannot send native token value with gasless transaction");const xa=this.contract.interface.encodeFunctionData(this.method,En);let $a=BigNumber.from(0);try{$a=(await this.contract.estimateGas[this.method](...En)).mul(2)}catch{}return $a.lt(1e5)&&($a=BigNumber.from(5e5)),this.overrides.gasLimit&&BigNumber.from(this.overrides.gasLimit).gt($a)&&($a=BigNumber.from(this.overrides.gasLimit)),{from:_i,to:An,data:xa,chainId:Cn,gasLimit:$a,functionName:this.method,functionArgs:En,callOverrides:this.overrides}}functionError(){return new Error(`Contract "${this.contract.address}" does not have function "${this.method}"`)}async transactionError(fn){var e0,gs,Ds;const En=this.provider,[Cn,_i]=await Promise.all([En.getNetwork(),this.overrides.from||this.getSignerAddress()]),An=this.contract.address,ba=this.encode(),xa=BigNumber.from(this.overrides.value||0),$a=(e0=En.connection)==null?void 0:e0.url,rs=this.contract.interface.getFunction(this.method),ts=this.args.map(i0=>JSON.stringify(i0).length<=80?JSON.stringify(i0):JSON.stringify(i0,void 0,2)),is=ts.join(", ").length<=80?ts.join(", "):`
`+ts.map(i0=>"  "+i0.split(`
`).join(`
  `)).join(`,
`)+`
`,cs=`${rs.name}(${is})`,us=fn.transactionHash||((gs=fn.transaction)==null?void 0:gs.hash)||((Ds=fn.receipt)==null?void 0:Ds.transactionHash),ps=parseRevertReason(fn);let bs;try{const i0=(await En.getNetwork()).chainId,n0=getContractMetadataFromCache(this.contract.address,i0);n0!=null&&n0.name&&(bs=n0.name)}catch{}return new TransactionError({reason:ps,from:_i,to:An,method:cs,data:ba,network:Cn,rpcUrl:$a,value:xa,hash:us,contractName:bs},fn)}}class DeployTransaction extends TransactionContext{constructor(fn){super(fn),this.factory=fn.factory,this.events=fn.events}encode(){return hexlify(concat$3([this.factory.bytecode,this.factory.interface.encodeDeploy(this.args)]))}getTarget(){return AddressZero$1}getMethod(){return"deploy"}async sign(){const fn=await this.populateTransaction();return this.signer.signTransaction(fn)}async simulate(){const fn=await this.populateTransaction();return this.signer.call(fn)}async estimateGasLimit(){try{const En={...await this.getGasOverrides(),...this.overrides},Cn=this.factory.getDeployTransaction(...this.args,En);return this.signer.estimateGas(Cn)}catch(fn){throw await this.deployError(fn)}}async estimateGasCost(){const En={...await this.getGasOverrides(),...this.overrides},Cn=this.factory.getDeployTransaction(...this.args,En),_i=await estimateTransactionCost(this.provider,Cn);return{ether:formatEther(_i),wei:_i}}async send(){try{const fn=await this.populateTransaction();return await this.signer.sendTransaction(fn)}catch(fn){throw await this.deployError(fn)}}async execute(){const fn=await this.send();try{await fn.wait()}catch(Cn){throw await this.simulate(),await this.deployError(Cn)}const En=getContractAddress({from:fn.from,nonce:fn.nonce});return this.events&&this.events.emit("contractDeployed",{status:"completed",contractAddress:En,transactionHash:fn.hash}),En}async populateTransaction(){const En={...await this.getGasOverrides(),...this.overrides};return En.gasLimit||(En.gasLimit=await this.estimateGasLimit()),this.factory.getDeployTransaction(...this.args,En)}async deployError(fn){var us,ps,bs;const En=this.provider,[Cn,_i]=await Promise.all([En.getNetwork(),this.overrides.from||this.getSignerAddress()]),An=this.encode(),ba=BigNumber.from(this.overrides.value||0),xa=(us=En.connection)==null?void 0:us.url,$a=this.args.map(e0=>JSON.stringify(e0).length<=80?JSON.stringify(e0):JSON.stringify(e0,void 0,2)),ts=`deployContract(${$a.join(", ").length<=80?$a.join(", "):`
`+$a.map(e0=>"  "+e0.split(`
`).join(`
  `)).join(`,
`)+`
`})`,is=fn.transactionHash||((ps=fn.transaction)==null?void 0:ps.hash)||((bs=fn.receipt)==null?void 0:bs.transactionHash),cs=parseRevertReason(fn);return new TransactionError({reason:cs,from:_i,method:ts,data:An,network:Cn,rpcUrl:xa,value:ba,hash:is},fn)}}async function defaultGaslessSendFunction(vn,fn,En,Cn,_i){return _i&&"biconomy"in _i?biconomySendFunction(vn,fn,En,_i):_i&&"openzeppelin"in _i?defenderSendFunction(vn,fn,En,Cn,_i):engineSendFunction(vn,fn,En,Cn,_i)}async function engineSendFunction(vn,fn,En,Cn,_i){var is;invariant(_i&&"engine"in _i);const An=await enginePrepareRequest(vn,fn,En,Cn,_i),xa=await(await fetch(_i.engine.relayerUrl,{...An,headers:{"Content-Type":"application/json"}})).json();if(xa.error)throw new Error(((is=xa.error)==null?void 0:is.message)||JSON.stringify(xa.error));const $a=xa.result.queueId,rs=_i.engine.relayerUrl.split("/relayer/")[0],ts=Date.now();for(;;){const us=await(await fetch(`${rs}/transaction/status/${$a}`)).json();if(us.result.transactionHash)return us.result.transactionHash;if(Date.now()-ts>30*1e3)throw new Error("timeout");await new Promise(ps=>setTimeout(ps,2e3))}}async function biconomySendFunction(vn,fn,En,Cn){const _i=await biconomyPrepareRequest(vn,fn,En,Cn),An=await fetch("https://api.biconomy.io/api/v2/meta-tx/native",_i);if(An.ok){const ba=await An.json();if(!ba.txHash)throw new Error(`relay transaction failed: ${ba.log}`);return ba.txHash}throw new Error(`relay transaction failed with status: ${An.status} (${An.statusText})`)}async function defenderSendFunction(vn,fn,En,Cn,_i){invariant(_i&&"openzeppelin"in _i);const An=await defenderPrepareRequest(vn,fn,En,Cn,_i),ba=await fetch(_i.openzeppelin.relayerUrl,An);if(ba.ok){const xa=await ba.json();if(!xa.result)throw new Error(`Relay transaction failed: ${xa.message}`);return JSON.parse(xa.result).txHash}throw new Error(`relay transaction failed with status: ${ba.status} (${ba.statusText})`)}async function enginePrepareRequest(vn,fn,En,Cn,_i){var An;invariant(_i&&"engine"in _i);try{const ba=await fetchContractMetadataFromAddress(vn.to,En,Cn),xa=(await En.getNetwork()).chainId,$a=await getCompositeABI(vn.to,ba.abi,En,{},Cn),rs=new ContractWrapper(fn,vn.to,$a,{},Cn);if($a.find(ts=>ts.name==="executeMetaTransaction")){const is={name:await rs.call("name",[]),version:"1",salt:"0x"+xa.toString(16).padStart(64,"0"),verifyingContract:vn.to},cs={MetaTransaction:[{name:"nonce",type:"uint256"},{name:"from",type:"address"},{name:"functionSignature",type:"bytes"}]},ps={nonce:await rs.call("getNonce",[vn.from]),from:vn.from,functionSignature:vn.data},{signature:bs}=await signTypedDataInternal(fn,is,cs,ps);return{method:"POST",body:JSON.stringify({type:"execute-meta-transaction",request:{from:vn.from,to:vn.to,data:vn.data},signature:bs})}}}catch{}if(vn.functionName==="approve"&&vn.functionArgs.length===2){const ba=vn.functionArgs[0],xa=vn.functionArgs[1],{message:$a,signature:rs}=await signEIP2612Permit(fn,vn.to,vn.from,ba,xa,_i.engine.domainSeparatorVersion),ts={to:vn.to,owner:$a.owner,spender:$a.spender,value:BigNumber.from($a.value).toString(),nonce:BigNumber.from($a.nonce).toString(),deadline:BigNumber.from($a.deadline).toString()};return{method:"POST",body:JSON.stringify({type:"permit",request:ts,signature:rs})}}else{const ba=_i.engine.relayerForwarderAddress||((An=CONTRACT_ADDRESSES[vn.chainId])==null?void 0:An.openzeppelinForwarder)||await computeForwarderAddress(En,Cn),xa=(await __vitePreload(async()=>{const{default:bs}=await import("./Forwarder-B_i7Dzv1.js");return{default:bs}},[])).default,$a=new Contract(ba,xa,En),rs=await getAndIncrementNonce($a,"getNonce",[vn.from]);let ts,is,cs;_i.experimentalChainlessSupport?(ts={name:"GSNv2 Forwarder",version:"0.0.1",verifyingContract:ba},is={ForwardRequest:ChainAwareForwardRequest},cs={from:vn.from,to:vn.to,value:BigNumber.from(0).toString(),gas:BigNumber.from(vn.gasLimit).toString(),nonce:BigNumber.from(rs).toString(),data:vn.data,chainid:BigNumber.from(vn.chainId).toString()}):(ts={name:_i.engine.domainName,version:_i.engine.domainVersion,chainId:vn.chainId,verifyingContract:ba},is={ForwardRequest},cs={from:vn.from,to:vn.to,value:BigNumber.from(0).toString(),gas:BigNumber.from(vn.gasLimit).toString(),nonce:BigNumber.from(rs).toString(),data:vn.data});const{signature:us}=await signTypedDataInternal(fn,ts,is,cs);return{method:"POST",body:JSON.stringify({type:"forward",request:cs,signature:us,forwarderAddress:ba})}}}async function defenderPrepareRequest(vn,fn,En,Cn,_i){var ps,bs;invariant(_i&&"openzeppelin"in _i),invariant(fn),invariant(En);const An=_i.openzeppelin.relayerForwarderAddress||(_i.openzeppelin.useEOAForwarder?((ps=CONTRACT_ADDRESSES[vn.chainId])==null?void 0:ps.openzeppelinForwarderEOA)||await computeEOAForwarderAddress(En,Cn):((bs=CONTRACT_ADDRESSES[vn.chainId])==null?void 0:bs.openzeppelinForwarder)||await computeForwarderAddress(En,Cn)),ba=(await __vitePreload(async()=>{const{default:e0}=await import("./Forwarder-B_i7Dzv1.js");return{default:e0}},[])).default,xa=new Contract(An,ba,En),$a=await getAndIncrementNonce(xa,"getNonce",[vn.from]);let rs,ts,is;_i.experimentalChainlessSupport?(rs={name:"GSNv2 Forwarder",version:"0.0.1",verifyingContract:An},ts={ForwardRequest:ChainAwareForwardRequest},is={from:vn.from,to:vn.to,value:BigNumber.from(0).toString(),gas:BigNumber.from(vn.gasLimit).toString(),nonce:BigNumber.from($a).toString(),data:vn.data,chainid:BigNumber.from(vn.chainId).toString()}):(rs={name:_i.openzeppelin.domainName,version:_i.openzeppelin.domainVersion,chainId:vn.chainId,verifyingContract:An},ts={ForwardRequest},is={from:vn.from,to:vn.to,value:BigNumber.from(0).toString(),gas:BigNumber.from(vn.gasLimit).toString(),nonce:BigNumber.from($a).toString(),data:vn.data});let cs;if(vn.functionName==="approve"&&vn.functionArgs.length===2){const e0=vn.functionArgs[0],gs=vn.functionArgs[1],{message:Ds,signature:i0}=await signEIP2612Permit(fn,vn.to,vn.from,e0,gs,_i.openzeppelin.domainSeparatorVersion),{r:n0,s:c0,v:d0}=splitSignature(i0);is={to:vn.to,owner:Ds.owner,spender:Ds.spender,value:BigNumber.from(Ds.value).toString(),nonce:BigNumber.from(Ds.nonce).toString(),deadline:BigNumber.from(Ds.deadline).toString(),r:n0,s:c0,v:d0},cs=i0}else{const{signature:e0}=await signTypedDataInternal(fn,rs,ts,is);cs=e0}let us="forward";return is!=null&&is.owner&&(us="permit"),{method:"POST",body:JSON.stringify({request:is,signature:cs,forwarderAddress:An,type:us})}}async function biconomyPrepareRequest(vn,fn,En,Cn){var ts;invariant(Cn&&"biconomy"in Cn),invariant(fn&&En);const _i=new Contract(getContractAddressByChainId(vn.chainId,"biconomyForwarder"),BiconomyForwarderAbi,En),An=0,ba=await getAndIncrementNonce(_i,"getNonce",[vn.from,An]),xa={from:vn.from,to:vn.to,token:AddressZero$1,txGas:vn.gasLimit.toNumber(),tokenGasPrice:"0",batchId:An,batchNonce:ba.toNumber(),deadline:Math.floor(Date.now()/1e3+(Cn&&"biconomy"in Cn&&((ts=Cn.biconomy)==null?void 0:ts.deadlineSeconds)||3600)),data:vn.data},$a=arrayify(keccak256(["address","address","address","uint256","uint256","uint256","uint256","uint256","bytes32"],[xa.from,xa.to,xa.token,xa.txGas,xa.tokenGasPrice,xa.batchId,xa.batchNonce,xa.deadline,keccak256$1(xa.data)])),rs=await fn.signMessage($a);return{method:"POST",body:JSON.stringify({from:vn.from,apiId:Cn.biconomy.apiId,params:[xa,rs],to:vn.to,gasLimit:vn.gasLimit.toHexString()}),headers:{"x-api-key":Cn.biconomy.apiKey,"Content-Type":"application/json;charset=utf-8"}}}async function normalizePriceValue(vn,fn,En){const Cn=await fetchCurrencyMetadata(vn,En);return parseUnits(AmountSchema.parse(fn),Cn.decimals)}async function fetchSourceFilesFromMetadata(vn,fn){return await Promise.all(Object.entries(vn.metadata.sources).map(async En=>{let[Cn,_i]=En;const An=_i.urls,ba=An?An.find(xa=>xa.includes("ipfs")):void 0;if(ba){const xa=ba.split("ipfs/")[1],$a=new Promise((ts,is)=>setTimeout(()=>is("timeout"),3e3)),rs=await Promise.race([(await fn.download(`ipfs://${xa}`)).text(),$a]);return{filename:Cn,source:rs}}else return{filename:Cn,source:_i.content||"Could not find source for this contract"}}))}function getFunctionSignature(vn){return"("+vn.map(fn=>fn.type==="tuple"?getFunctionSignature(fn.components):fn.type==="tuple[]"?getFunctionSignature(fn.components)+"[]":fn.type).join(",")+")"}function generatePluginFunctions(vn,fn){const En=new Interface(fn),Cn=[];for(const _i of Object.values(En.functions)){const An=En.getFunction(En.getSighash(_i));An.name.includes("_")||Cn.push({functionSelector:En.getSighash(An),functionSignature:An.name+getFunctionSignature(An.inputs),pluginAddress:vn})}return Cn}function generateExtensionFunctions(vn){const fn=new Interface(vn),En=[];for(const Cn of Object.values(fn.functions)){const _i=fn.getFunction(fn.getSighash(Cn));_i.name.startsWith("_")||En.push({functionSelector:fn.getSighash(_i),functionSignature:_i.name+getFunctionSignature(_i.inputs)})}return En}async function getDeploymentInfo(vn,fn,En,Cn,_i,An){caches.deploymentPresets={};const[ba,{compilerMetadata:xa,extendedMetadata:$a}]=await Promise.all([Cn||getCreate2FactoryAddress(En),fetchAndCacheDeployMetadata(vn,fn)]),rs={},ts=[],is=$a==null?void 0:$a.defaultExtensions;if(($a==null?void 0:$a.routerType)==="plugin"&&is){invariant(_i||An);const ps=await Promise.all(is.map(i0=>fetchPublishedContractFromPolygon(i0.publisherAddress,i0.extensionName,i0.extensionVersion,fn,_i,An))),bs=(await Promise.all(ps.map(i0=>fetchAndCacheDeployMetadata(i0.metadataUri,fn)))).map(i0=>i0.compilerMetadata),e0=await Promise.all(bs.map(i0=>computeDeploymentInfo("plugin",En,fn,ba,{metadata:i0},_i,An))),gs=[];bs.forEach((i0,n0)=>{const c0=generatePluginFunctions(e0[n0].transaction.predictedAddress,i0.abi);gs.push(...c0)});const Ds=await computeDeploymentInfo("plugin",En,fn,ba,{contractName:"PluginMap",constructorParams:{_pluginsToAdd:{value:gs}}},_i,An);rs._pluginMap={value:Ds.transaction.predictedAddress},ts.push(...e0,Ds)}else if(($a==null?void 0:$a.routerType)==="dynamic"&&is){invariant(_i||An);const ps=await Promise.all(is.map(Ds=>fetchPublishedContractFromPolygon(Ds.publisherAddress,Ds.extensionName,Ds.extensionVersion,fn,_i,An))),bs=(await Promise.all(ps.map(async Ds=>fetchAndCacheDeployMetadata(Ds.metadataUri,fn)))).map(Ds=>Ds.compilerMetadata),e0=await Promise.all(bs.map(Ds=>computeDeploymentInfo("extension",En,fn,ba,{metadata:Ds},_i,An))),gs=[];bs.forEach((Ds,i0)=>{const n0=generateExtensionFunctions(Ds.abi);gs.push({metadata:{name:Ds.name,metadataURI:"",implementation:e0[i0].transaction.predictedAddress},functions:n0})}),rs._extensions={value:gs},ts.push(...e0)}const[cs,us]=await Promise.all([computeDeploymentInfo("implementation",En,fn,ba,{metadata:xa,constructorParams:rs},_i,An),computeDeploymentInfo("infra",En,fn,ba,{contractName:"TWCloneFactory"},_i,An)]);return ts.push(us),ts.push(...Object.values(caches.deploymentPresets)),ts.push(cs),ts}function estimateGasForDeploy(vn){let fn=arrayify(vn).map(En=>En===0?4:16).reduce((En,Cn)=>En+Cn)+200*vn.length/2+6*Math.ceil(vn.length/64)+32e3+21e3;return fn=Math.floor(fn*64/63),fn}function createTransactionBatches(vn){let fn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:GAS_LIMIT_FOR_DEPLOYER;if(vn=vn.filter(An=>An.data.length>0),vn.length===0)return[];const En=[];let Cn=0,_i=[];return vn.forEach(An=>{const ba=estimateGasForDeploy(An.data);Cn+ba>fn?_i.length===0?En.push([An]):(En.push(_i),Cn=ba,_i=[An]):(Cn+=ba,_i.push(An))}),_i.length>0&&En.push(_i),En}async function deployWithThrowawayDeployer(vn,fn,En){var An,ba;const Cn=createTransactionBatches(fn);if(Cn.length===0)return;(An=En==null?void 0:En.notifier)==null||An.call(En,"deploying","infra");const _i=await Promise.all(Cn.map(xa=>new ContractFactory$1(DEPLOYER_ABI,DEPLOYER_BYTECODE).connect(vn).deploy(xa)));await Promise.all(_i.map(xa=>xa.deployed())),(ba=En==null?void 0:En.notifier)==null||ba.call(En,"deployed","infra")}async function deployContractDeterministic(vn,fn,En){var An,ba;let Cn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:7e6;if(invariant(vn.provider),!await isContractDeployed(fn.predictedAddress,vn.provider)){console.debug(`deploying contract via create2 factory at: ${fn.predictedAddress}`);const xa={to:fn.to,data:fn.data};try{await vn.estimateGas(xa)}catch($a){console.debug("error estimating gas while deploying prebuilt: ",$a),xa.gasLimit=BigNumber.from(Cn)}(An=En==null?void 0:En.notifier)==null||An.call(En,"deploying","preset"),await(await vn.sendTransaction(xa)).wait(),(ba=En==null?void 0:En.notifier)==null||ba.call(En,"deployed","preset")}}const ContractPublisherAbi=[{type:"constructor",inputs:[{name:"_defaultAdmin",type:"address",internalType:"address"},{name:"_trustedForwarder",type:"address",internalType:"address"},{name:"_prevPublisher",type:"address",internalType:"contract IContractPublisher"}],stateMutability:"nonpayable"},{type:"function",name:"DEFAULT_ADMIN_ROLE",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getAllPublishedContracts",inputs:[{name:"_publisher",type:"address",internalType:"address"}],outputs:[{name:"published",type:"tuple[]",internalType:"struct IContractPublisher.CustomContractInstance[]",components:[{name:"contractId",type:"string",internalType:"string"},{name:"publishTimestamp",type:"uint256",internalType:"uint256"},{name:"publishMetadataUri",type:"string",internalType:"string"},{name:"bytecodeHash",type:"bytes32",internalType:"bytes32"},{name:"implementation",type:"address",internalType:"address"}]}],stateMutability:"view"},{type:"function",name:"getPublishedContract",inputs:[{name:"_publisher",type:"address",internalType:"address"},{name:"_contractId",type:"string",internalType:"string"}],outputs:[{name:"published",type:"tuple",internalType:"struct IContractPublisher.CustomContractInstance",components:[{name:"contractId",type:"string",internalType:"string"},{name:"publishTimestamp",type:"uint256",internalType:"uint256"},{name:"publishMetadataUri",type:"string",internalType:"string"},{name:"bytecodeHash",type:"bytes32",internalType:"bytes32"},{name:"implementation",type:"address",internalType:"address"}]}],stateMutability:"view"},{type:"function",name:"getPublishedContractVersions",inputs:[{name:"_publisher",type:"address",internalType:"address"},{name:"_contractId",type:"string",internalType:"string"}],outputs:[{name:"published",type:"tuple[]",internalType:"struct IContractPublisher.CustomContractInstance[]",components:[{name:"contractId",type:"string",internalType:"string"},{name:"publishTimestamp",type:"uint256",internalType:"uint256"},{name:"publishMetadataUri",type:"string",internalType:"string"},{name:"bytecodeHash",type:"bytes32",internalType:"bytes32"},{name:"implementation",type:"address",internalType:"address"}]}],stateMutability:"view"},{type:"function",name:"getPublishedUriFromCompilerUri",inputs:[{name:"compilerMetadataUri",type:"string",internalType:"string"}],outputs:[{name:"publishedMetadataUris",type:"string[]",internalType:"string[]"}],stateMutability:"view"},{type:"function",name:"getPublisherProfileUri",inputs:[{name:"publisher",type:"address",internalType:"address"}],outputs:[{name:"uri",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"getRoleAdmin",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getRoleMember",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getRoleMemberCount",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"grantRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"hasRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isPaused",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isTrustedForwarder",inputs:[{name:"forwarder",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"multicall",inputs:[{name:"data",type:"bytes[]",internalType:"bytes[]"}],outputs:[{name:"results",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"nonpayable"},{type:"function",name:"prevPublisher",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IContractPublisher"}],stateMutability:"view"},{type:"function",name:"publishContract",inputs:[{name:"_publisher",type:"address",internalType:"address"},{name:"_contractId",type:"string",internalType:"string"},{name:"_publishMetadataUri",type:"string",internalType:"string"},{name:"_compilerMetadataUri",type:"string",internalType:"string"},{name:"_bytecodeHash",type:"bytes32",internalType:"bytes32"},{name:"_implementation",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"renounceRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"revokeRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setPause",inputs:[{name:"_pause",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setPrevPublisher",inputs:[{name:"_prevPublisher",type:"address",internalType:"contract IContractPublisher"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setPublisherProfileUri",inputs:[{name:"publisher",type:"address",internalType:"address"},{name:"uri",type:"string",internalType:"string"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"unpublishContract",inputs:[{name:"_publisher",type:"address",internalType:"address"},{name:"_contractId",type:"string",internalType:"string"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"ContractPublished",inputs:[{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"publisher",type:"address",indexed:!0,internalType:"address"},{name:"publishedContract",type:"tuple",indexed:!1,internalType:"struct IContractPublisher.CustomContractInstance",components:[{name:"contractId",type:"string",internalType:"string"},{name:"publishTimestamp",type:"uint256",internalType:"uint256"},{name:"publishMetadataUri",type:"string",internalType:"string"},{name:"bytecodeHash",type:"bytes32",internalType:"bytes32"},{name:"implementation",type:"address",internalType:"address"}]}],anonymous:!1},{type:"event",name:"ContractUnpublished",inputs:[{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"publisher",type:"address",indexed:!0,internalType:"address"},{name:"contractId",type:"string",indexed:!0,internalType:"string"}],anonymous:!1},{type:"event",name:"Paused",inputs:[{name:"isPaused",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"PublisherProfileUpdated",inputs:[{name:"publisher",type:"address",indexed:!0,internalType:"address"},{name:"prevURI",type:"string",indexed:!1,internalType:"string"},{name:"newURI",type:"string",indexed:!1,internalType:"string"}],anonymous:!1},{type:"event",name:"RoleAdminChanged",inputs:[{name:"role",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"previousAdminRole",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"newAdminRole",type:"bytes32",indexed:!0,internalType:"bytes32"}],anonymous:!1},{type:"event",name:"RoleGranted",inputs:[{name:"role",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"sender",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"RoleRevoked",inputs:[{name:"role",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"sender",type:"address",indexed:!0,internalType:"address"}],anonymous:!1}],ContractPublisher$1=Object.freeze(Object.defineProperty({__proto__:null,default:ContractPublisherAbi},Symbol.toStringTag,{value:"Module"}));async function extractConstructorParams(vn,fn){const En=await fetchPreDeployMetadata(vn,fn);return extractConstructorParamsFromAbi(En.abi)}async function extractFunctions(vn,fn){const En=await fetchPreDeployMetadata(vn,fn);return extractFunctionsFromAbi(En.abi,En.metadata)}class ContractPublisher extends RPCConnectionHandler{constructor(En,Cn,_i){super(En,Cn);Lo(this,"updatePublisherProfile",buildTransactionFunction(async En=>{const Cn=this.getSigner();invariant(Cn);const _i=await Cn.getAddress(),An=await this.storage.upload(En);return Transaction.fromContractWrapper({contractWrapper:this.publisher,method:"setPublisherProfileUri",args:[_i,An]})}));Lo(this,"publish",buildTransactionFunction(async(En,Cn)=>{const _i=this.cleanupOldPublishFlowData(Cn),An=this.getSigner();invariant(An);const ba=await An.getAddress(),xa=await fetchRawPredeployMetadata(En,this.storage),$a=await fetchContractMetadata(xa.metadataUri,this.storage),rs=detectFeatures($a.abi),ts=isFeatureEnabled($a.abi,"PluginRouter",rs),is=isFeatureEnabled($a.abi,"DynamicContract",rs),cs=isFeatureEnabled($a.abi,"ModularCore",rs);if(_i.routerType=ts?"plugin":is?"dynamic":cs?"modular":"none",is||ts){const n0=_i.defaultExtensions;if(n0&&n0.length>0)try{const d0=(await Promise.all(n0.map(w0=>fetchPublishedContractFromPolygon(w0.publisherAddress,w0.extensionName,w0.extensionVersion,this.storage,this.options.clientId,this.options.secretKey)))).map(w0=>w0.metadataUri),o0=(await Promise.all(d0.map(async w0=>fetchAndCacheDeployMetadata(w0,this.storage)))).map(w0=>w0.compilerMetadata.abi),g0=joinABIs([$a.abi,...o0]);_i.compositeAbi=AbiSchema.parse(g0)}catch{}}const us=await this.getLatest(ba,xa.name);if(us&&us.metadataUri){const c0=(await this.fetchPublishedContractInfo(us)).publishedMetadata.version;if(!isIncrementalVersion(c0,_i.version))throw Error(`Version ${_i.version} is not greater than ${c0}`)}const ps=await(await this.storage.download(xa.bytecodeUri)).text(),bs=ps.startsWith("0x")?ps:`0x${ps}`,e0=keccak256(["bytes"],[bs]),gs=xa.name,Ds=await FullPublishMetadataSchemaInput.parseAsync({..._i,metadataUri:xa.metadataUri,bytecodeUri:xa.bytecodeUri,name:xa.name,analytics:xa.analytics,compilers:xa.compilers,publisher:ba}),i0=await this.storage.upload(Ds);return Transaction.fromContractWrapper({contractWrapper:this.publisher,method:"publishContract",args:[ba,gs,i0,xa.metadataUri,e0,AddressZero$1],parse:n0=>{const c0=this.publisher.parseLogs("ContractPublished",n0.logs);if(c0.length<1)throw new Error("No ContractPublished event found");const d0=c0[0].args.publishedContract;return{receipt:n0,data:async()=>this.toPublishedContract(d0)}}})}));Lo(this,"unpublish",buildTransactionFunction(async(En,Cn)=>{const _i=await resolveAddress(En);return Transaction.fromContractWrapper({contractWrapper:this.publisher,method:"unpublishContract",args:[_i,Cn]})}));this.storage=_i,this.publisher=new ContractWrapper(En,getContractPublisherAddress(),ContractPublisherAbi,Cn,_i)}updateSignerOrProvider(En){super.updateSignerOrProvider(En),this.publisher.updateSignerOrProvider(En)}async extractConstructorParams(En){return extractConstructorParams(En,this.storage)}async extractFunctions(En){return extractFunctions(En,this.storage)}async fetchCompilerMetadataFromPredeployURI(En){return fetchPreDeployMetadata(En,this.storage)}async fetchPrePublishMetadata(En,Cn){const _i=await fetchPreDeployMetadata(En,this.storage),An=Cn?await this.getLatest(Cn,_i.name):void 0,ba=An?await this.fetchPublishedContractInfo(An):void 0;return{preDeployMetadata:_i,latestPublishedContractMetadata:ba}}async fetchCompilerMetadataFromAddress(En){const Cn=await resolveAddress(En);return fetchContractMetadataFromAddress(Cn,this.getProvider(),this.storage,this.options)}async fetchPublishedContractInfo(En){return{name:En.id,publishedTimestamp:En.timestamp,publishedMetadata:await this.fetchFullPublishMetadata(En.metadataUri)}}async fetchFullPublishMetadata(En){return fetchExtendedReleaseMetadata(En,this.storage)}async resolvePublishMetadataFromCompilerMetadata(En){const Cn=await this.publisher.read("getPublishedUriFromCompilerUri",[En]);if(Cn.length===0)throw Error(`Could not resolve published metadata URI from ${En}`);return await Promise.all(Cn.filter(_i=>_i.length>0).map(_i=>this.fetchFullPublishMetadata(_i)))}async resolveContractUriFromAddress(En){const Cn=await resolveAddress(En),_i=await resolveContractUriFromAddress(Cn,this.getProvider());return invariant(_i),_i}async fetchContractSourcesFromAddress(En){const Cn=await resolveAddress(En),_i=await this.fetchCompilerMetadataFromAddress(Cn);return await fetchSourceFilesFromMetadata(_i,this.storage)}async fetchContractAbiFromAddress(En){const Cn=await resolveAddress(En);return(await fetchContractMetadataFromAddress(Cn,this.getProvider(),this.storage)).abi}async getPublisherProfile(En){const Cn=await resolveAddress(En),_i=await this.publisher.read("getPublisherProfileUri",[Cn]);return!_i||_i.length===0?{}:ProfileSchemaOutput.parse(await this.storage.downloadJSON(_i))}async getAll(En){const Cn=await resolveAddress(En),An=(await this.publisher.read("getAllPublishedContracts",[Cn])).reduce((ba,xa)=>(ba[xa.contractId]=xa,ba),{});return Object.entries(An).map(ba=>{let[,xa]=ba;return this.toPublishedContract(xa)})}async getAllVersions(En,Cn){const _i=await resolveAddress(En),An=await this.publisher.read("getPublishedContractVersions",[_i,Cn]);if(An.length===0)throw Error("Not found");return An.map(ba=>this.toPublishedContract(ba))}async getVersion(En,Cn){let _i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"latest";const An=await resolveAddress(En);if(_i==="latest")return this.getLatest(An,Cn);const ba=await this.getAllVersions(An,Cn),$a=(await Promise.all(ba.map(rs=>this.fetchPublishedContractInfo(rs)))).find(rs=>rs.publishedMetadata.version===_i);return invariant($a),ba.find(rs=>rs.timestamp===$a.publishedTimestamp)}async getLatest(En,Cn){const _i=await resolveAddress(En),An=await this.publisher.read("getPublishedContract",[_i,Cn]);if(An&&An.publishMetadataUri)return this.toPublishedContract(An)}toPublishedContract(En){return PublishedContractSchema.parse({id:En.contractId,timestamp:En.publishTimestamp,metadataUri:En.publishMetadataUri})}cleanupOldPublishFlowData(En){return En.compositeAbi&&delete En.compositeAbi,{...En,isDeployableViaFactory:!1,isDeployableViaProxy:!1,factoryDeploymentData:{...En.factoryDeploymentData,implementationAddresses:{},factoryAddresses:{}}}}}const TWRegistryABI=[{type:"function",name:"OPERATOR_ROLE",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"_msgData",inputs:[],outputs:[{name:"",type:"bytes",internalType:"bytes"}],stateMutability:"view"},{type:"function",name:"_msgSender",inputs:[],outputs:[{name:"sender",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"add",inputs:[{name:"_deployer",type:"address",internalType:"address"},{name:"_deployment",type:"address",internalType:"address"},{name:"_chainId",type:"uint256",internalType:"uint256"},{name:"metadataUri",type:"string",internalType:"string"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"contractType",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"contractVersion",inputs:[],outputs:[{name:"",type:"uint8",internalType:"uint8"}],stateMutability:"pure"},{type:"function",name:"count",inputs:[{name:"_deployer",type:"address",internalType:"address"}],outputs:[{name:"deploymentCount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getAll",inputs:[{name:"_deployer",type:"address",internalType:"address"}],outputs:[{name:"allDeployments",type:"tuple[]",internalType:"struct ITWMultichainRegistry.Deployment[]",components:[{name:"deploymentAddress",type:"address",internalType:"address"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"metadataURI",type:"string",internalType:"string"}]}],stateMutability:"view"},{type:"function",name:"getMetadataUri",inputs:[{name:"_chainId",type:"uint256",internalType:"uint256"},{name:"_deployment",type:"address",internalType:"address"}],outputs:[{name:"metadataUri",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"remove",inputs:[{name:"_deployer",type:"address",internalType:"address"},{name:"_deployment",type:"address",internalType:"address"},{name:"_chainId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"Added",inputs:[{name:"deployer",type:"address",indexed:!0,internalType:"address"},{name:"deployment",type:"address",indexed:!0,internalType:"address"},{name:"chainId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"metadataUri",type:"string",indexed:!1,internalType:"string"}],anonymous:!1},{type:"event",name:"Deleted",inputs:[{name:"deployer",type:"address",indexed:!0,internalType:"address"},{name:"deployment",type:"address",indexed:!0,internalType:"address"},{name:"chainId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1}],TWMultichainRegistryLogic=Object.freeze(Object.defineProperty({__proto__:null,default:TWRegistryABI},Symbol.toStringTag,{value:"Module"})),TWRegistryRouterABI=[{type:"constructor",inputs:[{name:"_pluginMap",type:"address",internalType:"address"},{name:"_trustedForwarders",type:"address[]",internalType:"address[]"}],stateMutability:"nonpayable"},{type:"fallback",stateMutability:"payable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"DEFAULT_ADMIN_ROLE",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"_getPluginForFunction",inputs:[{name:"_selector",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"addPlugin",inputs:[{name:"_plugin",type:"tuple",internalType:"struct IPluginMap.Plugin",components:[{name:"functionSelector",type:"bytes4",internalType:"bytes4"},{name:"functionSignature",type:"string",internalType:"string"},{name:"pluginAddress",type:"address",internalType:"address"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getAllFunctionsOfPlugin",inputs:[{name:"_pluginAddress",type:"address",internalType:"address"}],outputs:[{name:"registered",type:"bytes4[]",internalType:"bytes4[]"}],stateMutability:"view"},{type:"function",name:"getAllPlugins",inputs:[],outputs:[{name:"registered",type:"tuple[]",internalType:"struct IPluginMap.Plugin[]",components:[{name:"functionSelector",type:"bytes4",internalType:"bytes4"},{name:"functionSignature",type:"string",internalType:"string"},{name:"pluginAddress",type:"address",internalType:"address"}]}],stateMutability:"view"},{type:"function",name:"getPluginForFunction",inputs:[{name:"_selector",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getRoleAdmin",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getRoleMember",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"member",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getRoleMemberCount",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"count",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"grantRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"hasRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"hasRoleWithSwitch",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isTrustedForwarder",inputs:[{name:"forwarder",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"multicall",inputs:[{name:"data",type:"bytes[]",internalType:"bytes[]"}],outputs:[{name:"results",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"nonpayable"},{type:"function",name:"pluginMap",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"removePlugin",inputs:[{name:"_selector",type:"bytes4",internalType:"bytes4"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"renounceRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"revokeRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"updatePlugin",inputs:[{name:"_plugin",type:"tuple",internalType:"struct IPluginMap.Plugin",components:[{name:"functionSelector",type:"bytes4",internalType:"bytes4"},{name:"functionSignature",type:"string",internalType:"string"},{name:"pluginAddress",type:"address",internalType:"address"}]}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"PluginAdded",inputs:[{name:"functionSelector",type:"bytes4",indexed:!0,internalType:"bytes4"},{name:"pluginAddress",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"PluginRemoved",inputs:[{name:"functionSelector",type:"bytes4",indexed:!0,internalType:"bytes4"},{name:"pluginAddress",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"PluginSet",inputs:[{name:"functionSelector",type:"bytes4",indexed:!0,internalType:"bytes4"},{name:"functionSignature",type:"string",indexed:!0,internalType:"string"},{name:"pluginAddress",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"PluginUpdated",inputs:[{name:"functionSelector",type:"bytes4",indexed:!0,internalType:"bytes4"},{name:"oldPluginAddress",type:"address",indexed:!0,internalType:"address"},{name:"newPluginAddress",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"RoleAdminChanged",inputs:[{name:"role",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"previousAdminRole",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"newAdminRole",type:"bytes32",indexed:!0,internalType:"bytes32"}],anonymous:!1},{type:"event",name:"RoleGranted",inputs:[{name:"role",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"sender",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"RoleRevoked",inputs:[{name:"role",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"sender",type:"address",indexed:!0,internalType:"address"}],anonymous:!1}],GENERATED_ABI={},TWFactoryAbi=[{type:"constructor",inputs:[{name:"_trustedForwarder",type:"address",internalType:"address"},{name:"_registry",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"DEFAULT_ADMIN_ROLE",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"FACTORY_ROLE",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"addImplementation",inputs:[{name:"_implementation",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"approval",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"approveImplementation",inputs:[{name:"_implementation",type:"address",internalType:"address"},{name:"_toApprove",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"currentVersion",inputs:[{name:"",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"deployProxy",inputs:[{name:"_type",type:"bytes32",internalType:"bytes32"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"deployProxyByImplementation",inputs:[{name:"_implementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"},{name:"_salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"deployedProxy",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"deployProxyDeterministic",inputs:[{name:"_type",type:"bytes32",internalType:"bytes32"},{name:"_data",type:"bytes",internalType:"bytes"},{name:"_salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"deployer",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getImplementation",inputs:[{name:"_type",type:"bytes32",internalType:"bytes32"},{name:"_version",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getLatestImplementation",inputs:[{name:"_type",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getRoleAdmin",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getRoleMember",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getRoleMemberCount",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"grantRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"hasRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"implementation",inputs:[{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"isTrustedForwarder",inputs:[{name:"forwarder",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"multicall",inputs:[{name:"data",type:"bytes[]",internalType:"bytes[]"}],outputs:[{name:"results",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"nonpayable"},{type:"function",name:"registry",inputs:[],outputs:[{name:"",type:"address",internalType:"contract TWRegistry"}],stateMutability:"view"},{type:"function",name:"renounceRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"revokeRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"event",name:"ImplementationAdded",inputs:[{name:"implementation",type:"address",indexed:!1,internalType:"address"},{name:"contractType",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"version",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"ImplementationApproved",inputs:[{name:"implementation",type:"address",indexed:!1,internalType:"address"},{name:"isApproved",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"ProxyDeployed",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"},{name:"proxy",type:"address",indexed:!1,internalType:"address"},{name:"deployer",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"RoleAdminChanged",inputs:[{name:"role",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"previousAdminRole",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"newAdminRole",type:"bytes32",indexed:!0,internalType:"bytes32"}],anonymous:!1},{type:"event",name:"RoleGranted",inputs:[{name:"role",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"sender",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"RoleRevoked",inputs:[{name:"role",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"sender",type:"address",indexed:!0,internalType:"address"}],anonymous:!1}];let alreadyChecked=!1;function checkClientIdOrSecretKey(vn,fn,En){alreadyChecked||(alreadyChecked=!0,!(fn||En)&&console.warn(vn))}async function getEncodedConstructorParamsForThirdwebContract(vn,fn,En){var ps;let Cn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"latest",_i=arguments.length>4?arguments[4]:void 0,An=arguments.length>5?arguments[5]:void 0,ba=arguments.length>6?arguments[6]:void 0;const xa=getChainProvider(fn,{clientId:_i,secretKey:An}),rs=(await fetchPublishedContractFromPolygon(THIRDWEB_DEPLOYER$1,vn,Cn,En,_i,An)).metadataUri,ts=await fetchAndCacheDeployMetadata(rs,En),is=await getCreate2FactoryAddress(xa);invariant(is);const{extendedMetadata:cs}=await fetchAndCacheDeployMetadata(rs,En);let us;return(cs==null?void 0:cs.routerType)==="plugin"||(cs==null?void 0:cs.routerType)==="dynamic"?us=(ps=(await getDeploymentInfo(rs,En,xa,is,_i,An)).find(e0=>e0.type==="implementation"))==null?void 0:ps.encodedArgs:us=await encodeConstructorParamsForImplementation(ts.compilerMetadata,xa,En,is,ba,_i,An),us}async function predictThirdwebContractAddress(vn,fn,En){var cs;let Cn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"latest",_i=arguments.length>4?arguments[4]:void 0,An=arguments.length>5?arguments[5]:void 0;const ba=getChainProvider(fn,{clientId:_i,secretKey:An}),$a=(await fetchPublishedContractFromPolygon(THIRDWEB_DEPLOYER$1,vn,Cn,En,_i,An)).metadataUri,rs=await getCreate2FactoryAddress(ba);invariant(rs);const{extendedMetadata:ts}=await fetchAndCacheDeployMetadata($a,En);if((ts==null?void 0:ts.routerType)==="plugin"||(ts==null?void 0:ts.routerType)==="dynamic"){const ps=(cs=(await getDeploymentInfo($a,En,ba,rs,_i,An)).find(bs=>bs.type==="implementation"))==null?void 0:cs.transaction.predictedAddress;return invariant(ps),ps}return(await computeDeploymentInfo("implementation",ba,En,rs,{contractName:vn},_i,An)).transaction.predictedAddress}async function getThirdwebContractAddress(vn,fn,En){let Cn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"latest",_i=arguments.length>4?arguments[4]:void 0,An=arguments.length>5?arguments[5]:void 0;const ba=getChainProvider(fn,{clientId:_i,secretKey:An}),xa=await predictThirdwebContractAddress(vn,fn,En,Cn,_i,An),$a=await isContractDeployed(xa,ba);return invariant($a),xa}const VerificationStatus={FAILED:"Fail - Unable to verify",SUCCESS:"Pass - Verified",PENDING:"Pending in queue",IN_PROGRESS:"In progress",ALREADY_VERIFIED:"Contract source code already verified",AUTOMATICALLY_VERIFIED:"Already Verified"},RequestStatus={OK:"1",NOTOK:"0"};async function verifyThirdwebPrebuiltImplementation(vn,fn,En,Cn,_i){let An=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"latest",ba=arguments.length>6?arguments[6]:void 0,xa=arguments.length>7?arguments[7]:void 0,$a=arguments.length>8?arguments[8]:void 0;const rs=await getThirdwebContractAddress(vn,fn,_i,An,ba,xa),ts=await getEncodedConstructorParamsForThirdwebContract(vn,fn,_i,An,ba,xa,$a);return console.info(`Verifying ${vn} at address ${rs}`),await verify(rs,fn,En,Cn,_i,ts==null?void 0:ts.toString().replace("0x",""))}async function verify(vn,fn,En,Cn,_i,An){try{const ba=getChainProvider(fn,{});vn=(await resolveImplementation(vn,ba)).address;const xa=await fetchContractMetadataFromAddress(vn,ba,_i),$a=xa.metadata.compiler.version,rs=await fetchSourceFilesFromMetadata(xa,_i),ts=xa.metadata.sources,is={};for(const c0 of Object.keys(ts)){const d0=rs.find(o0=>c0===o0.filename);if(!d0)throw new Error(`Could not find source file for ${c0}`);is[c0]={content:d0.source}}const cs={language:"Solidity",sources:is,settings:{optimizer:xa.metadata.settings.optimizer,evmVersion:xa.metadata.settings.evmVersion,remappings:xa.metadata.settings.remappings,outputSelection:{"*":{"*":["abi","evm.bytecode","evm.deployedBytecode","evm.methodIdentifiers","metadata"],"":["ast"]}}}},us=xa.metadata.settings.compilationTarget,bs=Object.keys(us)[0],e0=An||await fetchConstructorParams(En,Cn,vn,xa.abi,ba,_i),gs={apikey:Cn,module:"contract",action:"verifysourcecode",contractaddress:vn,sourceCode:JSON.stringify(cs),codeformat:"solidity-standard-json-input",contractname:`${bs}:${xa.name}`,compilerversion:`v${$a}`,constructorArguements:e0},Ds=new URLSearchParams({...gs}),n0=await(await fetch(En,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Ds.toString()})).json();if(n0.status===RequestStatus.OK)return n0.result;throw new Error(`${n0.result}`)}catch(ba){throw new Error(ba.toString())}}async function checkVerificationStatus(vn,fn,En){const Cn=`${vn}?module=contract&action=checkverifystatus&guid=${En}&apikey=${fn}"`;return new Promise((_i,An)=>{const ba=setInterval(async()=>{try{const $a=await(await fetch(Cn,{method:"GET"})).json();($a==null?void 0:$a.result)!==VerificationStatus.PENDING&&($a==null?void 0:$a.result)!==VerificationStatus.IN_PROGRESS&&(clearInterval(ba),_i($a))}catch(xa){clearInterval(ba),An(xa)}},3e3)})}async function fetchConstructorParams(vn,fn,En,Cn,_i,An){const ba=extractConstructorParamsFromAbi(Cn);if(ba.length===0)return"";const $a=await(await fetch(`${vn}?module=contract&action=getcontractcreation&contractaddresses=${En}&apikey=${fn}`)).json();if($a&&$a.status===RequestStatus.OK&&$a.result[0]!==void 0){const rs=new Interface(Cn),ts=$a.result[0].txHash;let is="";if(rs.deploy.inputs.length===0)return"";const cs=await _i.getTransaction(ts),us=cs.data;try{const ps=await fetchDeployBytecodeFromPublishedContractMetadata(En,_i,An);if(ps){const bs=ps.startsWith("0x")?ps:`0x${ps}`;let e0;try{e0=await getCreate2FactoryAddress(_i)}catch{}const gs=cs.to===e0?64:0;is=us.substring(bs.length+gs)}}catch{}if(!is){const ps=[...us.matchAll(/(64736f6c6343[\w]{6}[\w]{4})(?!.*\1)(.*)$/g)];ps.length>0&&(is=ps[0][2])}if(!is){const ps=ba.length*64;is=us.substring(us.length-ps)}try{defaultAbiCoder.decode(rs.deploy.inputs,`0x${is}`)}catch{throw new Error("Verifying this contract requires it to be published. Run `npx thirdweb publish` to publish this contract, then try again.")}return is}else return""}async function fetchDeployBytecodeFromPublishedContractMetadata(vn,fn,En){const Cn=await resolveContractUriFromAddress(vn,fn);if(Cn){const _i=(await __vitePreload(async()=>{const{default:$a}=await Promise.resolve().then(()=>ContractPublisher$1);return{default:$a}},void 0)).default,ba=await new Contract(getContractPublisherAddress(),_i,getChainProvider("polygon",{})).getPublishedUriFromCompilerUri(Cn);if(ba.length===0)throw Error(`Could not resolve published metadata URI from ${Cn}`);const xa=await Promise.all(ba.filter($a=>$a.length>0).map($a=>fetchExtendedReleaseMetadata($a,En)));return xa.length>0?await(await En.download(xa[0].bytecodeUri)).text():void 0}}class ContractVerifier extends RPCConnectionHandler{constructor(fn,En,Cn){super(fn,En),this.storage=Cn}updateSignerOrProvider(fn){super.updateSignerOrProvider(fn)}async verifyThirdwebContract(fn,En,Cn){let _i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"latest",An=arguments.length>4?arguments[4]:void 0;const ba=(await this.getProvider().getNetwork()).chainId,xa=await verifyThirdwebPrebuiltImplementation(fn,ba,En,Cn,this.storage,_i,this.options.clientId,this.options.secretKey,An);console.info("Checking verification status...");const $a=await checkVerificationStatus(En,Cn,xa);console.info($a)}async verifyContract(fn,En,Cn,_i){const An=(await this.getProvider().getNetwork()).chainId;let ba;if(_i){const rs=Object.values(_i).map(is=>(invariant(is.type),is.type)),ts=Object.values(_i).map(is=>is.value);ba=defaultAbiCoder.encode(rs,ts)}const xa=await verify(fn,An,En,Cn,this.storage,ba);console.info("Checking verification status...");const $a=await checkVerificationStatus(En,Cn,xa);console.info($a)}}const LOCAL_NODE_PKEY="0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80";class UserWallet{constructor(fn,En,Cn){Lo(this,"events",new EventEmitter$1);this.connection=new RPCConnectionHandler(fn,En),this.options=En,this.events=new EventEmitter$1,this.storage=Cn}connect(fn){this.connection.updateSignerOrProvider(fn),this.events.emit("signerChanged",this.connection.getSigner())}async transfer(fn,En){let Cn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NATIVE_TOKEN_ADDRESS;const[_i,An,ba]=await Promise.all([resolveAddress(fn),resolveAddress(Cn),normalizePriceValue(this.connection.getProvider(),En,Cn)]),xa=this.requireWallet();if(isNativeToken(An)){const $a=await xa.getAddress(),rs=isBrowser()?{}:await getDefaultGasOverrides(this.connection.getProvider());return{receipt:await(await xa.sendTransaction({from:$a,to:_i,value:ba,...rs})).wait()}}else{const $a=(await __vitePreload(async()=>{const{default:rs}=await Promise.resolve().then(()=>IERC20);return{default:rs}},void 0)).default;return{receipt:await this.createErc20(An,$a).sendTransaction("transfer",[_i,ba])}}}async balance(){let fn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NATIVE_TOKEN_ADDRESS;this.requireWallet();const En=await resolveAddress(fn),Cn=this.connection.getProvider();let _i;if(isNativeToken(En))_i=await Cn.getBalance(await this.getAddress());else{const An=(await __vitePreload(async()=>{const{default:ba}=await Promise.resolve().then(()=>IERC20);return{default:ba}},void 0)).default;_i=await this.createErc20(En,An).read("balanceOf",[await this.getAddress()])}return await fetchCurrencyValue(Cn,En,_i)}async getAddress(){return await this.requireWallet().getAddress()}async getChainId(){return await this.requireWallet().getChainId()}async getNonce(fn){return await this.connection.getProvider().getTransactionCount(await this.getAddress(),fn)}isConnected(){try{return this.requireWallet(),!0}catch{return!1}}async sign(fn){return await this.requireWallet().signMessage(fn)}async signTypedData(fn,En,Cn){return await signTypedDataInternal(this.requireWallet(),fn,En,Cn)}recoverAddress(fn,En){const Cn=hashMessage(fn),_i=arrayify(Cn);return recoverAddress(_i,En)}async sendRawTransaction(fn){const En=this.requireWallet();return fn={...isBrowser()?{}:await getDefaultGasOverrides(this.connection.getProvider()),...fn},En.sendTransaction(fn)}async executeRawTransaction(fn){return{receipt:await(await this.sendRawTransaction(fn)).wait()}}async requestFunds(fn){const En=await this.getChainId();if(En===ChainId.Localhost||En===ChainId.Hardhat)return new UserWallet(new Wallet(LOCAL_NODE_PKEY,getChainProvider(En,this.options)),this.options,this.storage).transfer(await this.getAddress(),fn);throw new Error(`Requesting funds is not supported on chain: '${En}'.`)}requireWallet(){const fn=this.connection.getSigner();return invariant(fn),fn}createErc20(fn,En){return new ContractWrapper(this.connection.getSignerOrProvider(),fn,En,this.options,this.storage)}}function getAllDetectedFeatureNames(vn){const fn=[];return extractFeatures(detectFeatures(vn),fn),fn.map(En=>En.name)}function getAllDetectedExtensionNames(vn){return getAllDetectedFeatureNames(vn)}function createStorage$1(vn,fn){return vn||(fn!=null&&fn.gatewayUrls?new ThirdwebStorage({gatewayUrls:fn.gatewayUrls,clientId:fn.clientId,secretKey:fn.secretKey}):new ThirdwebStorage({clientId:fn==null?void 0:fn.clientId,secretKey:fn==null?void 0:fn.secretKey}))}class MultichainRegistry{constructor(fn,En){Lo(this,"addContract",buildTransactionFunction(async fn=>{const En=await this.registryRouter.getSignerAddress();return Transaction.fromContractWrapper({contractWrapper:this.registryLogic,method:"add",args:[En,fn.address,fn.chainId,fn.metadataURI||""]})}));Lo(this,"addContracts",buildTransactionFunction(async fn=>{const En=await this.registryRouter.getSignerAddress(),Cn=[],_i=new ContractEncoder(this.registryLogic);return fn.forEach(An=>{Cn.push(_i.encode("add",[En,An.address,An.chainId,An.metadataURI||""]))}),Transaction.fromContractWrapper({contractWrapper:this.registryRouter,method:"multicall",args:[Cn]})}));Lo(this,"removeContract",buildTransactionFunction(async fn=>{const En=await this.registryRouter.getSignerAddress();return Transaction.fromContractWrapper({contractWrapper:this.registryLogic,method:"remove",args:[En,await resolveAddress(fn.address),fn.chainId]})}));Lo(this,"removeContracts",buildTransactionFunction(async fn=>{const En=await this.registryRouter.getSignerAddress(),Cn=new ContractEncoder(this.registryLogic),_i=await Promise.all(fn.map(async An=>Cn.encode("remove",[En,await resolveAddress(An.address),An.chainId])));return Transaction.fromContractWrapper({contractWrapper:this.registryRouter,method:"multicall",args:[_i]})}));let Cn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.storage=En,this.registryLogic=new ContractWrapper(fn,getMultichainRegistryAddress(),TWRegistryABI,Cn,En),this.registryRouter=new ContractWrapper(fn,getMultichainRegistryAddress(),TWRegistryRouterABI,Cn,En)}async updateSigner(fn){this.registryLogic.updateSignerOrProvider(fn),this.registryRouter.updateSignerOrProvider(fn)}async getContractMetadataURI(fn,En){return await this.registryLogic.read("getMetadataUri",[fn,await resolveAddress(En)])}async getContractMetadata(fn,En){const Cn=await this.getContractMetadataURI(fn,En);if(!Cn)throw new Error(`No metadata URI found for contract ${En} on chain ${fn}`);return await this.storage.downloadJSON(Cn)}async getContractAddresses(fn){return(await this.registryLogic.read("getAll",[await resolveAddress(fn)])).filter(En=>isAddress(En.deploymentAddress)&&En.deploymentAddress.toLowerCase()!==AddressZero$1).map(En=>({address:En.deploymentAddress,chainId:En.chainId.toNumber()}))}}function extractFunctionParamsFromAbi(vn,fn){const En=AbiSchema.parse(vn||[]);for(const Cn of En)if(Cn.type==="function"&&Cn.name===fn)return Cn.inputs||[];return[]}async function computeCloneFactoryAddress(vn,fn,En,Cn,_i){return En||(En=await getCreate2FactoryAddress(vn)),(await computeDeploymentInfo("infra",vn,fn,En,{contractName:"TWCloneFactory"},Cn,_i)).transaction.predictedAddress}function convertParamValues(vn,fn){if(vn.length!==fn.length)throw Error(`Passed the wrong number of constructor arguments: ${fn.length}, expected ${vn.length}`);return vn.map((En,Cn)=>En==="tuple"||En.endsWith("[]")?typeof fn[Cn]=="string"?JSON.parse(fn[Cn]):fn[Cn]:En==="bytes32"?(invariant(isHexString(fn[Cn]),`Could not parse bytes32 value. Expected valid hex string but got "${fn[Cn]}".`),hexZeroPad(fn[Cn],32)):En.startsWith("bytes")?(invariant(isHexString(fn[Cn]),`Could not parse bytes value. Expected valid hex string but got "${fn[Cn]}".`),fn[Cn]):En.startsWith("uint")||En.startsWith("int")?BigNumber.from(fn[Cn].toString()):fn[Cn])}async function deployCreate2Factory(vn,fn){var Cn,_i;invariant(vn.provider);const En=await computeCreate2FactoryTransaction(vn.provider);if(En.transaction.length>0){(await vn.provider.getBalance(En.signer)).lt(En.valueToSend)&&await(await vn.sendTransaction({to:En.signer,value:En.valueToSend})).wait();try{console.debug(`deploying CREATE2 factory at: ${En.deployment}`),(Cn=fn==null?void 0:fn.notifier)==null||Cn.call(fn,"deploying","create2Factory"),await(await vn.provider.sendTransaction(En.transaction)).wait(),(_i=fn==null?void 0:fn.notifier)==null||_i.call(fn,"deployed","create2Factory")}catch(An){throw new Error(`Couldn't deploy CREATE2 factory: ${JSON.stringify(An)}`)}}return En.deployment}ChainId.Mainnet,ChainId.Goerli,ChainId.Polygon,ChainId.Mumbai,ChainId.Fantom,ChainId.FantomTestnet,ChainId.Avalanche,ChainId.AvalancheFujiTestnet,ChainId.Optimism,ChainId.OptimismGoerli,ChainId.Arbitrum,ChainId.ArbitrumGoerli,ChainId.BinanceSmartChainMainnet,ChainId.BinanceSmartChainTestnet,ChainId.Hardhat,ChainId.Localhost;function overrideRecipientAddress(vn,fn){return fn===AddressZero$1?vn:fn}async function getDeployArguments(vn,fn,En,Cn){const _i=fn.defaultAdmin||await Cn.getAddress(),An=[];switch(fn.trusted_forwarders&&fn.trusted_forwarders.length>0&&An.push(...fn.trusted_forwarders),vn){case NFTDropInitializer.contractType:case NFTCollectionInitializer.contractType:const ba=await NFTDropInitializer.schema.deploy.parseAsync(fn);return[_i,ba.name,ba.symbol,En,An,overrideRecipientAddress(_i,ba.primary_sale_recipient),ba.fee_recipient,ba.seller_fee_basis_points,ba.platform_fee_basis_points,overrideRecipientAddress(_i,ba.platform_fee_recipient)];case SignatureDropInitializer.contractType:const xa=await SignatureDropInitializer.schema.deploy.parseAsync(fn);return[_i,xa.name,xa.symbol,En,An,overrideRecipientAddress(_i,xa.primary_sale_recipient),xa.fee_recipient,xa.seller_fee_basis_points,xa.platform_fee_basis_points,overrideRecipientAddress(_i,xa.platform_fee_recipient)];case MultiwrapInitializer.contractType:const $a=await MultiwrapInitializer.schema.deploy.parseAsync(fn);return[_i,$a.name,$a.symbol,En,An,$a.fee_recipient,$a.seller_fee_basis_points];case EditionDropInitializer.contractType:case EditionInitializer.contractType:const rs=await EditionDropInitializer.schema.deploy.parseAsync(fn);return[_i,rs.name,rs.symbol,En,An,overrideRecipientAddress(_i,rs.primary_sale_recipient),rs.fee_recipient,rs.seller_fee_basis_points,rs.platform_fee_basis_points,overrideRecipientAddress(_i,rs.platform_fee_recipient)];case TokenDropInitializer.contractType:case TokenInitializer.contractType:const ts=await TokenInitializer.schema.deploy.parseAsync(fn);return[_i,ts.name,ts.symbol,En,An,overrideRecipientAddress(_i,ts.primary_sale_recipient),overrideRecipientAddress(_i,ts.platform_fee_recipient),ts.platform_fee_basis_points];case VoteInitializer.contractType:const is=await VoteInitializer.schema.deploy.parseAsync(fn);return[is.name,En,An,is.voting_token_address,is.voting_delay_in_blocks,is.voting_period_in_blocks,BigNumber.from(is.proposal_token_threshold),is.voting_quorum_fraction];case SplitInitializer.contractType:const cs=await SplitInitializer.schema.deploy.parseAsync(fn);return[_i,En,An,cs.recipients.map(bs=>bs.address),cs.recipients.map(bs=>BigNumber.from(bs.sharesBps))];case MarketplaceInitializer.contractType:case MarketplaceV3Initializer.contractType:const us=await MarketplaceInitializer.schema.deploy.parseAsync(fn);return[_i,En,An,overrideRecipientAddress(_i,us.platform_fee_recipient),us.platform_fee_basis_points];case PackInitializer.contractType:const ps=await PackInitializer.schema.deploy.parseAsync(fn);return[_i,ps.name,ps.symbol,En,An,ps.fee_recipient,ps.seller_fee_basis_points];default:return[]}}const APPROVED_IMPLEMENTATIONS={[ChainId.Mainnet]:{"nft-drop":"0x60fF9952e0084A6DEac44203838cDC91ABeC8736","edition-drop":"0x74af262d0671F378F97a1EDC3d0970Dbe8A1C550","token-drop":"0xE1eE43D23f247b6A9aF81fcE2766E76709482728","signature-drop":"0x6fD690EB509BdE4C50028C5D9C0dE3750C2Fad6A"},[ChainId.Polygon]:{"nft-drop":"0xB96508050Ba0925256184103560EBADA912Fcc69","edition-drop":"0x74af262d0671F378F97a1EDC3d0970Dbe8A1C550","token-drop":"0x5A8eA4Adad8289746D073947BA06D69A62499aaf","signature-drop":"0xBE2fDc35410E268e41Bec62DBb01AEb43245c7d5"},[ChainId.Fantom]:{"nft-drop":"0x2A396b2D90BAcEF19cDa973586B2633d22710fC2","edition-drop":"0x06395FCF9AC6ED827f9dD6e776809cEF1Be0d21B","token-drop":"0x0148b28a38efaaC31b6aa0a6D9FEb70FE7C91FFa","signature-drop":"0xe135Ef65C2B2213C3fD56d0Bd6500A2cA147aC10"},[ChainId.Avalanche]:{"nft-drop":"0x9cF91118C8ee2913F0588e0F10e36B3d63F68bF6","edition-drop":"0x135fC9D26E5eC51260ece1DF4ED424E2f55c7766","token-drop":"0xca0B071899E575BA86495D46c5066971b6f3A901","signature-drop":"0x1d47526C3292B0130ef0afD5F02c1DA052A017B3"},[ChainId.Optimism]:{"nft-drop":"0xFBd7D24d80ee005671E731a7287DEB6073264dD1","edition-drop":"0xe135Ef65C2B2213C3fD56d0Bd6500A2cA147aC10","token-drop":"0x902Dd246e66d8C3CE652375a723F2a52b43b9AAE","signature-drop":"0x8a4cd3549e548bbEEb38C16E041FFf040a5acabD"},[ChainId.Arbitrum]:{"nft-drop":"0xC4903c1Ff5367b9ac2c349B63DC2409421AaEE2a","edition-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F","token-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9","signature-drop":"0x2dF9851af45dd41C8584ac55D983C604da985Bc7"},[ChainId.BinanceSmartChainMainnet]:{"nft-drop":"0x902Dd246e66d8C3CE652375a723F2a52b43b9AAE","edition-drop":"0x2A396b2D90BAcEF19cDa973586B2633d22710fC2","token-drop":"0xe135Ef65C2B2213C3fD56d0Bd6500A2cA147aC10","signature-drop":"0xFBd7D24d80ee005671E731a7287DEB6073264dD1"},[ChainId.Goerli]:{"nft-drop":"0xD11c97DD5F5546B5bBd630D7D1d7327481B0b92C","edition-drop":"0x5A8eA4Adad8289746D073947BA06D69A62499aaf","token-drop":"0x5680933221B752EB443654a014f88B101F868d50","signature-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9"},[ChainId.Mumbai]:{"nft-drop":"0xC4903c1Ff5367b9ac2c349B63DC2409421AaEE2a","edition-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F","token-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9","signature-drop":"0x2dF9851af45dd41C8584ac55D983C604da985Bc7"},[ChainId.FantomTestnet]:{"nft-drop":"0x8a4cd3549e548bbEEb38C16E041FFf040a5acabD","edition-drop":"0x902Dd246e66d8C3CE652375a723F2a52b43b9AAE","token-drop":"0xFBd7D24d80ee005671E731a7287DEB6073264dD1","signature-drop":"0x5A8eA4Adad8289746D073947BA06D69A62499aaf"},[ChainId.AvalancheFujiTestnet]:{"nft-drop":"0xD11c97DD5F5546B5bBd630D7D1d7327481B0b92C","edition-drop":"0xE1eE43D23f247b6A9aF81fcE2766E76709482728","token-drop":"0x6fD690EB509BdE4C50028C5D9C0dE3750C2Fad6A","signature-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F"},[ChainId.OptimismGoerli]:{"nft-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F","edition-drop":"0x6fD690EB509BdE4C50028C5D9C0dE3750C2Fad6A","token-drop":"0xD11c97DD5F5546B5bBd630D7D1d7327481B0b92C","signature-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9"},[ChainId.ArbitrumGoerli]:{"nft-drop":"0x9CfE807a5b124b962064Fa8F7FD823Cc701255b6","edition-drop":"0x9cF91118C8ee2913F0588e0F10e36B3d63F68bF6","token-drop":"0x1d47526C3292B0130ef0afD5F02c1DA052A017B3","signature-drop":"0xE1eE43D23f247b6A9aF81fcE2766E76709482728"},[ChainId.BinanceSmartChainTestnet]:{"nft-drop":"","edition-drop":"","token-drop":"","signature-drop":""},[ChainId.Hardhat]:{"nft-drop":"","edition-drop":"","token-drop":"","signature-drop":""},[ChainId.Localhost]:{"nft-drop":"","edition-drop":"","token-drop":"","signature-drop":""}};function getApprovedImplementation(vn,fn){if(vn in APPROVED_IMPLEMENTATIONS){const En=APPROVED_IMPLEMENTATIONS[vn];if(fn in En)return En[fn]}return null}class ContractFactory extends ContractWrapper{constructor(En,Cn,_i,An){super(Cn,En,TWFactoryAbi,An,_i);Lo(this,"DEFAULT_VERSION_MAP",{[NFTDropInitializer.contractType]:3,[NFTCollectionInitializer.contractType]:1,[SignatureDropInitializer.contractType]:4,[MultiwrapInitializer.contractType]:1,[EditionDropInitializer.contractType]:2,[EditionInitializer.contractType]:1,[TokenDropInitializer.contractType]:2,[TokenInitializer.contractType]:1,[VoteInitializer.contractType]:1,[SplitInitializer.contractType]:1,[MarketplaceInitializer.contractType]:2,[MarketplaceV3Initializer.contractType]:3,[PackInitializer.contractType]:2});Lo(this,"deploy",buildTransactionFunction(async(En,Cn,_i,An,ba,xa)=>{const $a=PREBUILT_CONTRACTS_MAP[En],rs=await $a.schema.deploy.parseAsync(Cn),ts=await this.storage.upload(rs),is=await this.getImplementation($a,An)||void 0;if(!is||is===AddressZero$1)throw new Error(`No implementation found for ${En}`);const cs=await $a.getAbi(is,this.getProvider(),this.storage),us=this.getSigner();invariant(us);const ps=await getDeployArguments(En,rs,ts,us),bs=Contract.getInterface(cs).encodeFunctionData("initialize",ps),e0=await this.getProvider().getBlockNumber(),gs=ba!=null&&ba.saltForProxyDeploy?id(ba.saltForProxyDeploy):formatBytes32String(e0.toString());return Transaction.fromContractWrapper({contractWrapper:this,method:"deployProxyByImplementation",args:[is,bs,gs],parse:Ds=>{xa&&xa();const i0=this.parseLogs("ProxyDeployed",Ds.logs);if(i0.length<1)throw new Error("No ProxyDeployed event found");const n0=i0[0].args.proxy;return _i.emit("contractDeployed",{status:"completed",contractAddress:n0,transactionHash:Ds.transactionHash}),n0}})}));Lo(this,"deployProxyByImplementation",buildTransactionFunction(async(En,Cn,_i,An,ba,xa,$a)=>{const rs=Contract.getInterface(Cn).encodeFunctionData(_i,An),ts=await this.getProvider().getBlockNumber(),is=xa?id(xa):formatBytes32String(ts.toString());return Transaction.fromContractWrapper({contractWrapper:this,method:"deployProxyByImplementation",args:[En,rs,is],parse:cs=>{$a&&$a();const us=this.parseLogs("ProxyDeployed",cs.logs);if(us.length<1)throw new Error("No ProxyDeployed event found");const ps=us[0].args.proxy;return ba.emit("contractDeployed",{status:"completed",contractAddress:ps,transactionHash:cs.transactionHash}),ps}})}));this.storage=_i}async getDeployArguments(En,Cn,_i){let An=[];Cn.trusted_forwarders&&Cn.trusted_forwarders.length>0&&(An=Cn.trusted_forwarders);const ba=await this.getSignerAddress();switch(En){case NFTDropInitializer.contractType:case NFTCollectionInitializer.contractType:const xa=await NFTDropInitializer.schema.deploy.parseAsync(Cn);return[ba,xa.name,xa.symbol,_i,An,overrideRecipientAddress(ba,xa.primary_sale_recipient),xa.fee_recipient,xa.seller_fee_basis_points,xa.platform_fee_basis_points,overrideRecipientAddress(ba,xa.platform_fee_recipient)];case SignatureDropInitializer.contractType:const $a=await SignatureDropInitializer.schema.deploy.parseAsync(Cn);return[ba,$a.name,$a.symbol,_i,An,overrideRecipientAddress(ba,$a.primary_sale_recipient),$a.fee_recipient,$a.seller_fee_basis_points,$a.platform_fee_basis_points,overrideRecipientAddress(ba,$a.platform_fee_recipient)];case MultiwrapInitializer.contractType:const rs=await MultiwrapInitializer.schema.deploy.parseAsync(Cn);return[ba,rs.name,rs.symbol,_i,An,rs.fee_recipient,rs.seller_fee_basis_points];case EditionDropInitializer.contractType:case EditionInitializer.contractType:const ts=await EditionDropInitializer.schema.deploy.parseAsync(Cn);return[ba,ts.name,ts.symbol,_i,An,overrideRecipientAddress(ba,ts.primary_sale_recipient),ts.fee_recipient,ts.seller_fee_basis_points,ts.platform_fee_basis_points,overrideRecipientAddress(ba,ts.platform_fee_recipient)];case TokenDropInitializer.contractType:case TokenInitializer.contractType:const is=await TokenInitializer.schema.deploy.parseAsync(Cn);return[ba,is.name,is.symbol,_i,An,overrideRecipientAddress(ba,is.primary_sale_recipient),overrideRecipientAddress(ba,is.platform_fee_recipient),is.platform_fee_basis_points];case VoteInitializer.contractType:const cs=await VoteInitializer.schema.deploy.parseAsync(Cn);return[cs.name,_i,An,cs.voting_token_address,cs.voting_delay_in_blocks,cs.voting_period_in_blocks,BigNumber.from(cs.proposal_token_threshold),cs.voting_quorum_fraction];case SplitInitializer.contractType:const us=await SplitInitializer.schema.deploy.parseAsync(Cn);return[ba,_i,An,us.recipients.map(gs=>gs.address),us.recipients.map(gs=>BigNumber.from(gs.sharesBps))];case MarketplaceInitializer.contractType:const ps=await MarketplaceInitializer.schema.deploy.parseAsync(Cn);return[ba,_i,An,overrideRecipientAddress(ba,ps.platform_fee_recipient),ps.platform_fee_basis_points];case MarketplaceV3Initializer.contractType:const bs=await MarketplaceV3Initializer.schema.deploy.parseAsync(Cn);return[ba,_i,An,overrideRecipientAddress(ba,bs.platform_fee_recipient),bs.platform_fee_basis_points];case PackInitializer.contractType:const e0=await PackInitializer.schema.deploy.parseAsync(Cn);return[ba,e0.name,e0.symbol,_i,An,e0.fee_recipient,e0.seller_fee_basis_points];default:return[]}}async getImplementation(En,Cn){const _i=formatBytes32String(En.name),An=await this.getChainID(),ba=getApprovedImplementation(An,En.contractType);return ba&&ba.length>0&&Cn===void 0?ba:this.read("getImplementation",[_i,Cn!==void 0?Cn:this.DEFAULT_VERSION_MAP[En.contractType]])}async getLatestVersion(En){const Cn=getContractName(En);if(!Cn)throw new Error(`Invalid contract type ${En}`);const _i=formatBytes32String(Cn);return this.read("currentVersion",[_i])}}class ContractRegistry extends ContractWrapper{constructor(En,Cn,_i,An,ba){super(Cn,En,An,ba,_i);Lo(this,"addContract",buildTransactionFunction(async En=>await this.addContracts.prepare([En])));Lo(this,"addContracts",buildTransactionFunction(async En=>{const Cn=await this.getSignerAddress(),_i=new ContractEncoder(this),An=(await Promise.all(En.map(ba=>resolveAddress(ba)))).map(ba=>_i.encode("add",[Cn,ba]));return Transaction.fromContractWrapper({contractWrapper:this,method:"multicall",args:[An]})}));Lo(this,"removeContract",buildTransactionFunction(async En=>await this.removeContracts.prepare([En])));Lo(this,"removeContracts",buildTransactionFunction(async En=>{const Cn=await this.getSignerAddress(),_i=new ContractEncoder(this),An=(await Promise.all(En.map(ba=>resolveAddress(ba)))).map(ba=>_i.encode("remove",[Cn,ba]));return Transaction.fromContractWrapper({contractWrapper:this,method:"multicall",args:[An]})}))}async getContractAddresses(En){return(await this.read("getAll",[await resolveAddress(En)])).filter(Cn=>isAddress(Cn)&&Cn.toLowerCase()!==AddressZero$1)}}const LoyaltyCardContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),LoyaltyCardContractDeploy=LoyaltyCardContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),AirdropContractInput=CommonContractSchema.merge(CommonSymbolSchema),AirdropContractDeploy=AirdropContractInput.merge(CommonTrustedForwarderSchema);async function directDeployDeterministic(vn,fn,En,Cn,_i){let An=arguments.length>5&&arguments[5]!==void 0?arguments[5]:7e6;invariant(En.provider);const ba=vn.startsWith("0x")?vn:`0x${vn}`,xa=await deployCreate2Factory(En),$a=extractConstructorParamsFromAbi(fn),rs=$a.map(e0=>e0.type),ts=convertParamValues(rs,Cn),is=$a.map(e0=>e0.type==="tuple[]"?ParamType.from(e0):e0.type),cs=defaultAbiCoder.encode(is,ts),us=computeDeploymentAddress(ba,cs,xa,_i),ps=await isContractDeployed(us,En.provider);let bs="";if(ps)throw new Error(`Contract already deployed at ${us}`);{console.debug(`deploying contract via create2 factory at: ${us}`),bs=getInitBytecodeWithSalt(ba,cs,_i);const e0={to:xa,data:bs};try{await En.estimateGas(e0)}catch(gs){console.debug("error estimating gas while deploying prebuilt: ",gs),e0.gasLimit=BigNumber.from(An)}await(await En.sendTransaction(e0)).wait()}return us}async function directDeployDeterministicPublished(vn,fn){let En=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"latest",Cn=arguments.length>3?arguments[3]:void 0,_i=arguments.length>4?arguments[4]:void 0,An=arguments.length>5?arguments[5]:void 0,ba=arguments.length>6?arguments[6]:void 0,xa=arguments.length>7?arguments[7]:void 0,$a=arguments.length>8?arguments[8]:void 0,rs=arguments.length>9&&arguments[9]!==void 0?arguments[9]:7e6;const ts=(await fetchPublishedContractFromPolygon(fn,vn,En,An,ba,xa)).metadataUri,{compilerMetadata:is,extendedMetadata:cs}=await fetchAndCacheDeployMetadata(ts,An);return invariant((cs==null?void 0:cs.deployType)==="standard"),await directDeployDeterministic(is.bytecode,is.abi,_i,Cn,$a,rs)}async function predictAddressDeterministic(vn,fn,En,Cn,_i){const An=vn.startsWith("0x")?vn:`0x${vn}`,ba=await getCreate2FactoryAddress(En),xa=extractConstructorParamsFromAbi(fn),$a=xa.map(us=>us.type),rs=convertParamValues($a,Cn),ts=xa.map(us=>us.type==="tuple[]"?ParamType.from(us):us.type),is=defaultAbiCoder.encode(ts,rs);return computeDeploymentAddress(An,is,ba,_i)}async function predictAddressDeterministicPublished(vn,fn){let En=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"latest",Cn=arguments.length>3?arguments[3]:void 0,_i=arguments.length>4?arguments[4]:void 0,An=arguments.length>5?arguments[5]:void 0,ba=arguments.length>6?arguments[6]:void 0,xa=arguments.length>7?arguments[7]:void 0,$a=arguments.length>8?arguments[8]:void 0;const rs=(await fetchPublishedContractFromPolygon(fn,vn,En,An,ba,xa)).metadataUri,{compilerMetadata:ts,extendedMetadata:is}=await fetchAndCacheDeployMetadata(rs,An);return invariant((is==null?void 0:is.deployType)==="standard"),await predictAddressDeterministic(ts.bytecode,ts.abi,_i,Cn,$a)}class ThirdwebSDK extends RPCConnectionHandler{constructor(En){let Cn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_i=arguments.length>2?arguments[2]:void 0;checkClientIdOrSecretKey("No API key. Please provide a clientId. It is required to access thirdweb's services. You can create a key at https://thirdweb.com/create-api-key",Cn.clientId,Cn.secretKey),Cn=addChainToSupportedChains(En,Cn);super(En,Cn);Lo(this,"contractCache",new Map);setSupportedChains(Cn==null?void 0:Cn.supportedChains);const xa=createStorage$1(_i,Cn);this.storage=xa,this.storageHandler=xa,this.wallet=new UserWallet(En,Cn,xa),this.deployer=new ContractDeployer(En,Cn,xa),this.verifier=new ContractVerifier(En,Cn,xa),this.multiChainRegistry=new MultichainRegistry(En,this.storageHandler,this.options),this._publisher=new ContractPublisher(En,this.options,this.storageHandler)}static async fromWallet(En,Cn){let _i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},An=arguments.length>3?arguments[3]:void 0;const ba=await En.getSigner();return ThirdwebSDK.fromSigner(ba,Cn,_i,An)}static fromSigner(En,Cn){let _i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},An=arguments.length>3?arguments[3]:void 0,ba=En;if(Cn)try{const $a=getChainProvider(Cn,_i);ba=En.connect($a)}catch{}const xa=new ThirdwebSDK(Cn||ba,Cn?addChainToSupportedChains(Cn,_i):_i,An);return xa.updateSignerOrProvider(ba),xa}static fromPrivateKey(En,Cn){let _i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},An=arguments.length>3?arguments[3]:void 0;const ba=getChainProvider(Cn,_i),xa=new Wallet(En,ba);return new ThirdwebSDK(xa,addChainToSupportedChains(Cn,_i),An)}get auth(){throw new Error(`The sdk.auth namespace has been moved to the @thirdweb-dev/auth package and is no longer available after @thirdweb-dev/sdk >= 3.7.0.
      Please visit https://portal.thirdweb.com/wallets/auth for instructions on how to switch to using the new auth package (@thirdweb-dev/auth@3.0.0).

      If you still want to use the old @thirdweb-dev/auth@2.0.0 package, you can downgrade the SDK to version 3.6.0.`)}async getNFTDrop(En){return await this.getContract(En,"nft-drop")}async getSignatureDrop(En){return await this.getContract(En,"signature-drop")}async getNFTCollection(En){return await this.getContract(En,"nft-collection")}async getEditionDrop(En){return await this.getContract(En,"edition-drop")}async getEdition(En){return await this.getContract(En,"edition")}async getTokenDrop(En){return await this.getContract(En,"token-drop")}async getToken(En){return await this.getContract(En,"token")}async getVote(En){return await this.getContract(En,"vote")}async getSplit(En){return await this.getContract(En,"split")}async getMarketplace(En){return await this.getContract(En,"marketplace")}async getMarketplaceV3(En){return await this.getContract(En,"marketplace-v3")}async getPack(En){return await this.getContract(En,"pack")}async getMultiwrap(En){return await this.getContract(En,"multiwrap")}async getContract(En,Cn){const _i=await resolveAddress(En);if(this.contractCache.has(_i))return this.contractCache.get(_i);if(_i in GENERATED_ABI)return await this.getContractFromAbi(_i,GENERATED_ABI[_i]);let An;if(!Cn||Cn==="custom")try{const ba=await this.getPublisher().fetchCompilerMetadataFromAddress(_i);An=await this.getContractFromAbi(_i,await getCompositeABI(_i,AbiSchema.parse(ba.abi),this.getProvider(),this.options,this.storage))}catch(ba){const xa=await this.resolveContractType(_i);if(xa&&xa!=="custom"){const $a=await PREBUILT_CONTRACTS_MAP[xa].getAbi(_i,this.getProvider(),this.storage);An=await this.getContractFromAbi(_i,await getCompositeABI(_i,AbiSchema.parse($a),this.getProvider(),this.options,this.storage))}else throw ba}else typeof Cn=="string"&&Cn in PREBUILT_CONTRACTS_MAP?An=await PREBUILT_CONTRACTS_MAP[Cn].initialize(this.getSignerOrProvider(),_i,this.storage,this.options):An=await this.getContractFromAbi(_i,Cn);return this.contractCache.set(_i,An),An}async getBuiltInContract(En,Cn){return await this.getContract(En,Cn)}async resolveContractType(En){try{const Cn=(await __vitePreload(async()=>{const{default:ba}=await import("./IThirdwebContract-D7esr-g0.js");return{default:ba}},[])).default,_i=new Contract(await resolveAddress(En),Cn,this.getProvider()),An=toUtf8String(await _i.contractType()).replace(/\x00/g,"");return getContractTypeForRemoteName(An)}catch{return"custom"}}async getContractList(En){var An;const Cn=await((An=await this.deployer.getRegistry())==null?void 0:An.getContractAddresses(await resolveAddress(En)))||[],_i=(await this.getProvider().getNetwork()).chainId;return await Promise.all(Cn.map(async ba=>({address:ba,chainId:_i,contractType:()=>this.resolveContractType(ba),metadata:async()=>(await this.getContract(ba)).metadata.get(),extensions:async()=>getAllDetectedExtensionNames((await this.getContract(ba)).abi)})))}async getMultichainContractList(En){let Cn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:defaultChains;const _i=await this.multiChainRegistry.getContractAddresses(En),An=Cn.reduce((xa,$a)=>(xa[$a.chainId]=$a,xa),{}),ba={};return _i.map(xa=>{let{address:$a,chainId:rs}=xa;if(!An[rs])return{address:$a,chainId:rs,contractType:async()=>"custom",metadata:async()=>({name:""}),extensions:async()=>[]};try{let ts=ba[rs];return ts||(ts=new ThirdwebSDK(rs,{...this.options,readonlySettings:void 0,supportedChains:Cn},this.storage),ba[rs]=ts),{address:$a,chainId:rs,contractType:()=>ts.resolveContractType($a),metadata:async()=>(await ts.getContract($a)).metadata.get(),extensions:async()=>getAllDetectedExtensionNames((await ts.getContract($a)).abi)}}catch{return{address:$a,chainId:rs,contractType:async()=>"custom",metadata:async()=>({name:""}),extensions:async()=>[]}}})}updateSignerOrProvider(En){super.updateSignerOrProvider(En),this.updateContractSignerOrProvider()}updateContractSignerOrProvider(){this.wallet.connect(this.getSignerOrProvider()),this.deployer.updateSignerOrProvider(this.getSignerOrProvider()),this._publisher.updateSignerOrProvider(this.getSignerOrProvider()),this.multiChainRegistry.updateSigner(this.getSignerOrProvider()),this.verifier.updateSignerOrProvider(this.getSignerOrProvider());for(const[,En]of this.contractCache)En.onNetworkUpdated(this.getSignerOrProvider())}async getContractFromAbi(En,Cn){const[_i,{SmartContract:An}]=await Promise.all([resolveAddress(En),__vitePreload(()=>import("./smart-contract-ac432d60.browser.esm-BS2CdYYJ.js"),__vite__mapDeps([38,8,1,6,7,4,2,3,5,9,10,11,12,29,25,24,20,18,17]))]);if(this.contractCache.has(_i))return this.contractCache.get(_i);const[,ba]=getSignerAndProvider(this.getSignerOrProvider(),this.options),xa=typeof Cn=="string"?JSON.parse(Cn):Cn,$a=new An(this.getSignerOrProvider(),_i,xa,this.storageHandler,this.options,(await ba.getNetwork()).chainId);return this.contractCache.set(_i,$a),$a}async getBalance(En){return fetchCurrencyValue(this.getProvider(),NATIVE_TOKEN_ADDRESS,await this.getProvider().getBalance(await resolveAddress(En)))}getPublisher(){return this._publisher}}function addChainToSupportedChains(vn,fn){return isChainConfig(vn)&&(fn={...fn,supportedChains:[vn,...(fn==null?void 0:fn.supportedChains)||[]]}),fn}const THIRDWEB_DEPLOYER="0xdd99b75f095d0c4d5112aCe938e4e6ed962fb024";class ContractDeployer extends RPCConnectionHandler{constructor(En,Cn,_i){super(En,Cn);Lo(this,"transactionListener",En=>{En.status==="submitted"&&this.events.emit("contractDeployed",{status:"submitted",transactionHash:En.transactionHash})});Lo(this,"deployNFTCollection",buildDeployTransactionFunction(async(En,Cn)=>await this.deployBuiltInContract.prepare(NFTCollectionInitializer.contractType,En,"latest",Cn)));Lo(this,"deployNFTDrop",buildDeployTransactionFunction(async(En,Cn)=>await this.deployBuiltInContract.prepare(NFTDropInitializer.contractType,En,"latest",Cn)));Lo(this,"deployLoyaltyCard",buildDeployTransactionFunction(async(En,Cn)=>{var rs;const _i=await LoyaltyCardContractDeploy.parseAsync(En),An=await this.storage.upload(_i),ba=[];En.trusted_forwarders&&En.trusted_forwarders.length>0&&ba.push(...En.trusted_forwarders);const $a=[await((rs=this.getSigner())==null?void 0:rs.getAddress()),_i.name,_i.symbol,An,ba,_i.primary_sale_recipient,_i.fee_recipient,_i.seller_fee_basis_points,_i.platform_fee_basis_points,_i.platform_fee_recipient];return await this.deployReleasedContract.prepare(THIRDWEB_DEPLOYER,"LoyaltyCard",$a,"latest",Cn)}));Lo(this,"deployOpenEdition",buildDeployTransactionFunction(async(En,Cn)=>{var rs;const _i=await DropErc721ContractSchema.deploy.parseAsync(En),An=await this.storage.upload(_i),ba=[];En.trusted_forwarders&&En.trusted_forwarders.length>0&&ba.push(...En.trusted_forwarders);const $a=[await((rs=this.getSigner())==null?void 0:rs.getAddress()),_i.name,_i.symbol,An,ba,_i.primary_sale_recipient,_i.fee_recipient,_i.seller_fee_basis_points];return await this.deployPublishedContract.prepare(THIRDWEB_DEPLOYER,"OpenEditionERC721",$a,"latest",Cn)}));Lo(this,"deploySignatureDrop",buildDeployTransactionFunction(async(En,Cn)=>await this.deployBuiltInContract.prepare(SignatureDropInitializer.contractType,En,"latest",Cn)));Lo(this,"deployMultiwrap",buildDeployTransactionFunction(async(En,Cn)=>await this.deployBuiltInContract.prepare(MultiwrapInitializer.contractType,En,"latest",Cn)));Lo(this,"deployEdition",buildDeployTransactionFunction(async(En,Cn)=>await this.deployBuiltInContract.prepare(EditionInitializer.contractType,En,"latest",Cn)));Lo(this,"deployEditionDrop",buildDeployTransactionFunction(async(En,Cn)=>await this.deployBuiltInContract.prepare(EditionDropInitializer.contractType,En,"latest",Cn)));Lo(this,"deployToken",buildDeployTransactionFunction(async(En,Cn)=>await this.deployBuiltInContract.prepare(TokenInitializer.contractType,En,"latest",Cn)));Lo(this,"deployTokenDrop",buildDeployTransactionFunction(async(En,Cn)=>await this.deployBuiltInContract.prepare(TokenDropInitializer.contractType,En,"latest",Cn)));Lo(this,"deployMarketplace",buildDeployTransactionFunction(async(En,Cn)=>await this.deployBuiltInContract.prepare(MarketplaceInitializer.contractType,En,"latest",Cn)));Lo(this,"deployMarketplaceV3",buildDeployTransactionFunction(async(En,Cn)=>await this.deployBuiltInContract.prepare(MarketplaceV3Initializer.contractType,En,"latest",Cn)));Lo(this,"deployPack",buildDeployTransactionFunction(async(En,Cn)=>await this.deployBuiltInContract.prepare(PackInitializer.contractType,En,"latest",Cn)));Lo(this,"deploySplit",buildDeployTransactionFunction(async(En,Cn)=>await this.deployBuiltInContract.prepare(SplitInitializer.contractType,En,"latest",Cn)));Lo(this,"deployVote",buildDeployTransactionFunction(async(En,Cn)=>await this.deployBuiltInContract.prepare(VoteInitializer.contractType,En,"latest",Cn)));Lo(this,"deployAirdropERC20",buildDeployTransactionFunction(async(En,Cn)=>{var rs;const _i=await AirdropContractDeploy.parseAsync(En),An=await this.storage.upload(_i),ba=[];En.trusted_forwarders&&En.trusted_forwarders.length>0&&ba.push(...En.trusted_forwarders);const $a=[await((rs=this.getSigner())==null?void 0:rs.getAddress()),An,ba];return await this.deployReleasedContract.prepare(THIRDWEB_DEPLOYER,"AirdropERC20",$a,"latest",Cn)}));Lo(this,"deployAirdropERC721",buildDeployTransactionFunction(async(En,Cn)=>{var rs;const _i=await AirdropContractDeploy.parseAsync(En),An=await this.storage.upload(_i),ba=[];En.trusted_forwarders&&En.trusted_forwarders.length>0&&ba.push(...En.trusted_forwarders);const $a=[await((rs=this.getSigner())==null?void 0:rs.getAddress()),An,ba];return await this.deployReleasedContract.prepare(THIRDWEB_DEPLOYER,"AirdropERC721",$a,"latest",Cn)}));Lo(this,"deployAirdropERC1155",buildDeployTransactionFunction(async(En,Cn)=>{var rs;const _i=await AirdropContractDeploy.parseAsync(En),An=await this.storage.upload(_i),ba=[];En.trusted_forwarders&&En.trusted_forwarders.length>0&&ba.push(...En.trusted_forwarders);const $a=[await((rs=this.getSigner())==null?void 0:rs.getAddress()),An,ba];return await this.deployReleasedContract.prepare(THIRDWEB_DEPLOYER,"AirdropERC1155",$a,"latest",Cn)}));Lo(this,"deployBuiltInContract",buildDeployTransactionFunction((()=>{var En=this;return async function(Cn,_i){let An=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"latest",ba=arguments.length>3?arguments[3]:void 0;const xa=En.getSigner();invariant(xa);const $a={app_uri:PREBUILT_CONTRACTS_APPURI_MAP[Cn],...await PREBUILT_CONTRACTS_MAP[Cn].schema.deploy.parseAsync(_i)};if(En.hasLocalFactory()){let us;try{us=parseInt(An),isNaN(us)&&(us=void 0)}catch{us=void 0}const ps=await En.getFactory();if(!ps)throw new Error("Factory not found");return ps.on(EventType.Transaction,En.transactionListener),ps.deploy.prepare(Cn,$a,En.events,us,ba,()=>{ps.off(EventType.Transaction,En.transactionListener)})}const rs=getContractName(Cn);invariant(rs);const ts=await En.storage.upload($a),is=await getDeployArguments(Cn,$a,ts,xa),cs=await En.fetchPublishedContractFromPolygon(THIRDWEB_DEPLOYER,rs,An);return En.deployContractFromUri.prepare(cs.metadataUri,is,ba)}})()));Lo(this,"deployReleasedContract",buildDeployTransactionFunction((()=>{var En=this;return async function(Cn,_i,An){let ba=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"latest",xa=arguments.length>4?arguments[4]:void 0;const $a=await En.fetchPublishedContractFromPolygon(Cn,_i,ba);return await En.deployContractFromUri.prepare($a.metadataUri,An,xa)}})()));Lo(this,"deployPublishedContract",this.deployReleasedContract);Lo(this,"deployViaFactory",buildTransactionFunction(async(En,Cn,_i,An,ba,xa)=>{const $a=await resolveAddress(En),rs=await resolveAddress(Cn),ts=this.getSigner();invariant(ts);const is=new ContractFactory($a,this.getSignerOrProvider(),this.storage,this.options);return is.on(EventType.Transaction,this.transactionListener),await is.deployProxyByImplementation.prepare(rs,_i,An,ba,this.events,xa,()=>{is.off(EventType.Transaction,this.transactionListener)})}));Lo(this,"deployProxy",buildDeployTransactionFunction(async(En,Cn,_i,An)=>{const ba=await resolveAddress(En),xa=Contract.getInterface(Cn).encodeFunctionData(_i,An),{TWProxy__factory:$a}=await __vitePreload(async()=>{const{TWProxy__factory:rs}=await import("./thirdweb-dev-contracts-js-factories-TWProxy__factory.esm-DlAaDus0.js");return{TWProxy__factory:rs}},[]);return this.deployContractWithAbi.prepare($a.abi,$a.bytecode,[ba,xa])}));Lo(this,"deployViaAutoFactory",buildDeployTransactionFunction(async(En,Cn,_i,An,ba,xa)=>{var gs,Ds,i0;const $a=await deployCreate2Factory(_i,xa),rs=await getDeploymentInfo(En,this.storage,this.getProvider(),$a,this.options.clientId,this.options.secretKey),ts=(gs=rs.find(n0=>n0.type==="implementation"))==null?void 0:gs.transaction.predictedAddress,is=rs.filter(n0=>n0.transaction.data&&n0.transaction.data.length>0),cs=is.filter(n0=>n0.type!=="infra").map(n0=>n0.transaction),us=is.filter(n0=>n0.type==="infra").map(n0=>n0.transaction);await deployWithThrowawayDeployer(_i,us,xa);for(const n0 of cs)try{await deployContractDeterministic(_i,n0,xa)}catch(c0){throw console.debug(`Error deploying contract at ${n0.predictedAddress}`,c0==null?void 0:c0.message),c0}const ps=await resolveAddress(ts),bs=await computeCloneFactoryAddress(this.getProvider(),this.storage,$a,this.options.clientId,this.options.secretKey);(Ds=xa==null?void 0:xa.notifier)==null||Ds.call(xa,"deploying","proxy");const e0=await this.deployViaFactory.prepare(bs,ps,Cn.compilerMetadata.abi,An,ba,xa==null?void 0:xa.saltForProxyDeploy);return(i0=xa==null?void 0:xa.notifier)==null||i0.call(xa,"deployed","proxy"),e0}));Lo(this,"deployViaCustomFactory",buildDeployTransactionFunction(async(En,Cn,_i,An)=>{var us,ps,bs,e0,gs,Ds;const ba=(bs=(ps=(us=Cn.extendedMetadata)==null?void 0:us.factoryDeploymentData)==null?void 0:ps.customFactoryInput)==null?void 0:bs.customFactoryAddresses[An],xa=await resolveAddress(ba);invariant(xa),invariant((Ds=(gs=(e0=Cn.extendedMetadata)==null?void 0:e0.factoryDeploymentData)==null?void 0:gs.customFactoryInput)==null?void 0:Ds.factoryFunction);const $a=await fetchContractMetadataFromAddress(xa,this.getProvider(),this.storage,this.options),rs=extractFunctionParamsFromAbi($a.abi,Cn.extendedMetadata.factoryDeploymentData.customFactoryInput.factoryFunction).map(i0=>i0.type),ts=convertParamValues(rs,En);let is;const cs=await Transaction.fromContractInfo({contractAddress:xa,contractAbi:$a.abi,provider:this.getProvider(),signer:_i,method:Cn.extendedMetadata.factoryDeploymentData.customFactoryInput.factoryFunction,args:ts,parse:()=>is,storage:this.storage});return is=await cs.simulate(),cs}));Lo(this,"deployContractFromUri",buildDeployTransactionFunction(async(En,Cn,_i)=>{var ps,bs;const An=this.getSigner();invariant(An);const{compilerMetadata:ba,extendedMetadata:xa}=await fetchAndCacheDeployMetadata(En,this.storage),$a=(_i==null?void 0:_i.forceDirectDeploy)||!1,rs=(await this.getProvider().getNetwork()).chainId,ts=((ps=xa==null?void 0:xa.networksForDeployment)==null?void 0:ps.networksEnabled.includes(rs))||((bs=xa==null?void 0:xa.networksForDeployment)==null?void 0:bs.allNetworks);if(xa!=null&&xa.networksForDeployment&&!ts&&ba.name!=="AccountFactory")throw new Error(`Deployments disabled on this network, with chainId: ${rs}`);if(xa&&xa.factoryDeploymentData&&(xa.isDeployableViaProxy||xa.isDeployableViaFactory||xa.deployType&&xa.deployType!=="standard")&&!$a){if(xa.deployType==="customFactory")return await this.deployViaCustomFactory.prepare(Cn,{compilerMetadata:ba,extendedMetadata:xa},An,rs);{invariant(xa.factoryDeploymentData.implementationInitializerFunction);const e0=extractFunctionParamsFromAbi(ba.abi,xa.factoryDeploymentData.implementationInitializerFunction).map(n0=>n0.type),gs=convertParamValues(e0,Cn),Ds=xa.factoryDeploymentData.implementationAddresses[rs];if(!Ds||xa.deployType==="autoFactory")return await this.deployViaAutoFactory.prepare(En,{compilerMetadata:ba,extendedMetadata:xa},An,xa.factoryDeploymentData.implementationInitializerFunction,gs,_i);const i0=await resolveAddress(Ds);if(invariant(i0),xa.isDeployableViaFactory){invariant(xa.factoryDeploymentData.factoryAddresses);const n0=xa.factoryDeploymentData.factoryAddresses[rs];invariant(n0);const c0=await resolveAddress(n0);return await this.deployViaFactory.prepare(c0,i0,ba.abi,xa.factoryDeploymentData.implementationInitializerFunction,gs,_i==null?void 0:_i.saltForProxyDeploy)}else if(xa.isDeployableViaProxy)return await this.deployProxy.prepare(i0,ba.abi,xa.factoryDeploymentData.implementationInitializerFunction,gs)}}const is=ba.bytecode.startsWith("0x")?ba.bytecode:`0x${ba.bytecode}`;if(!isHexString(is))throw new Error(`Contract bytecode is invalid.

${is}`);const cs=extractConstructorParamsFromAbi(ba.abi).map(e0=>e0.type),us=convertParamValues(cs,Cn);return this.deployContractWithAbi.prepare(ba.abi,is,us)}));Lo(this,"deployContractWithAbi",buildDeployTransactionFunction(async(En,Cn,_i)=>{const An=this.getSigner(),ba=this.getProvider();invariant(An);const xa=new ContractFactory$1(En,Cn).connect(An);return new DeployTransaction({args:_i,provider:ba,signer:An,factory:xa,storage:this.storage,events:this.events})}));this.storage=_i,this.events=new EventEmitter$1,this.getFactory(),this.getRegistry()}async getLatestBuiltInContractVersion(En){const Cn=await this.getFactory();if(!Cn)throw new Error("Factory not found");return await Cn.getLatestVersion(En)}async deployPublishedContractDeterministic(En,Cn){let _i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:THIRDWEB_DEPLOYER,An=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"latest",ba=arguments.length>4?arguments[4]:void 0;const xa=this.getSigner();return invariant(xa),directDeployDeterministicPublished(En,_i,An,Cn,xa,this.storage,this.options.clientId,this.options.secretKey,ba)}async predictAddressDeterministic(En,Cn){let _i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:THIRDWEB_DEPLOYER,An=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"latest",ba=arguments.length>4?arguments[4]:void 0;const xa=this.getProvider();return invariant(xa),predictAddressDeterministicPublished(En,_i,An,Cn,xa,this.storage,this.options.clientId,this.options.secretKey,ba)}async getRegistry(){return this._registry?this._registry:this._registry=this.getProvider().getNetwork().then(async En=>{let{chainId:Cn}=En;const _i=getContractAddressByChainId(Cn,"twRegistry");if(!_i)return;const An=(await __vitePreload(async()=>{const{default:ba}=await import("./TWRegistry-Dve92h61.js");return{default:ba}},[])).default;return new ContractRegistry(_i,this.getSignerOrProvider(),this.storage,An,this.options)})}async getFactory(){return this._factory?this._factory:this._factory=this.getProvider().getNetwork().then(async En=>{let{chainId:Cn}=En;const _i=getContractAddressByChainId(Cn,"twFactory");return _i?new ContractFactory(_i,this.getSignerOrProvider(),this.storage,this.options):void 0})}updateSignerOrProvider(En){super.updateSignerOrProvider(En),this.updateContractSignerOrProvider()}updateContractSignerOrProvider(){var En,Cn;(En=this._factory)==null||En.then(_i=>{_i==null||_i.updateSignerOrProvider(this.getSignerOrProvider())}).catch(()=>{}),(Cn=this._registry)==null||Cn.then(_i=>{_i==null||_i.updateSignerOrProvider(this.getSignerOrProvider())}).catch(()=>{})}async getTransactionsForDeploy(En,Cn){let _i=[];const An=this.getProvider();invariant(An);const{extendedMetadata:ba}=await fetchAndCacheDeployMetadata(En,this.storage),xa=(Cn==null?void 0:Cn.forceDirectDeploy)||!1;if(ba&&ba.factoryDeploymentData&&(ba.isDeployableViaProxy||ba.isDeployableViaFactory||ba.deployType==="autoFactory")&&!xa){const $a=(await this.getProvider().getNetwork()).chainId;if(!ba.factoryDeploymentData.implementationAddresses[$a]||ba.deployType==="autoFactory"){const ts=await getCreate2FactoryAddress(this.getProvider());_i.push({contractType:"create2Factory",addresses:[ts]});const cs=(await getDeploymentInfo(En,this.storage,this.getProvider(),ts,this.options.clientId,this.options.secretKey)).filter(e0=>e0.transaction.data&&e0.transaction.data.length>0);cs.filter(e0=>e0.type!=="infra").map(e0=>e0.transaction).forEach(e0=>{_i.push({contractType:"preset",addresses:[e0.predictedAddress]})});const ps=cs.filter(e0=>e0.type==="infra").map(e0=>e0.transaction);createTransactionBatches(ps).forEach(e0=>{const gs=e0.map(Ds=>Ds.predictedAddress);_i.push({contractType:"infra",addresses:gs})})}_i=(await Promise.all(_i.map(async ts=>(await Promise.all(ts.addresses.map(async cs=>await isContractDeployed(cs,An)?null:cs))).filter(Boolean).length>0?ts:null))).filter(Boolean),_i.push({contractType:"proxy",addresses:[]})}else _i.push({contractType:"custom",addresses:[]});return _i}addDeployListener(En){this.events.on("contractDeployed",En)}removeDeployListener(En){this.events.off("contractDeployed",En)}removeAllDeployListeners(){this.events.removeAllListeners("contractDeployed")}async fetchPublishedContractFromPolygon(En,Cn,_i){const An=await resolveAddress(En),ba=await new ThirdwebSDK("polygon",{clientId:this.options.clientId,secretKey:this.options.secretKey},this.storage).getPublisher().getVersion(An,Cn,_i);if(!ba)throw new Error(`No published contract found for '${Cn}' at version '${_i}' by '${An}'`);return ba}hasLocalFactory(){return!!getProcessEnv$1("factoryAddress")}}function getCachedAbiForContract(vn){if(vn in GENERATED_ABI)return GENERATED_ABI[vn]}var events={exports:{}},R$3=typeof Reflect=="object"?Reflect:null,ReflectApply=R$3&&typeof R$3.apply=="function"?R$3.apply:function(fn,En,Cn){return Function.prototype.apply.call(fn,En,Cn)},ReflectOwnKeys;R$3&&typeof R$3.ownKeys=="function"?ReflectOwnKeys=R$3.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(fn){return Object.getOwnPropertyNames(fn).concat(Object.getOwnPropertySymbols(fn))}:ReflectOwnKeys=function(fn){return Object.getOwnPropertyNames(fn)};function ProcessEmitWarning(vn){console&&console.warn&&console.warn(vn)}var NumberIsNaN=Number.isNaN||function(fn){return fn!==fn};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter;events.exports.once=once;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=void 0;EventEmitter.prototype._eventsCount=0;EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(vn){if(typeof vn!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof vn)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(vn){if(typeof vn!="number"||vn<0||NumberIsNaN(vn))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+vn+".");defaultMaxListeners=vn}});EventEmitter.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter.prototype.setMaxListeners=function(fn){if(typeof fn!="number"||fn<0||NumberIsNaN(fn))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+fn+".");return this._maxListeners=fn,this};function _getMaxListeners(vn){return vn._maxListeners===void 0?EventEmitter.defaultMaxListeners:vn._maxListeners}EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter.prototype.emit=function(fn){for(var En=[],Cn=1;Cn<arguments.length;Cn++)En.push(arguments[Cn]);var _i=fn==="error",An=this._events;if(An!==void 0)_i=_i&&An.error===void 0;else if(!_i)return!1;if(_i){var ba;if(En.length>0&&(ba=En[0]),ba instanceof Error)throw ba;var xa=new Error("Unhandled error."+(ba?" ("+ba.message+")":""));throw xa.context=ba,xa}var $a=An[fn];if($a===void 0)return!1;if(typeof $a=="function")ReflectApply($a,this,En);else for(var rs=$a.length,ts=arrayClone($a,rs),Cn=0;Cn<rs;++Cn)ReflectApply(ts[Cn],this,En);return!0};function _addListener(vn,fn,En,Cn){var _i,An,ba;if(checkListener(En),An=vn._events,An===void 0?(An=vn._events=Object.create(null),vn._eventsCount=0):(An.newListener!==void 0&&(vn.emit("newListener",fn,En.listener?En.listener:En),An=vn._events),ba=An[fn]),ba===void 0)ba=An[fn]=En,++vn._eventsCount;else if(typeof ba=="function"?ba=An[fn]=Cn?[En,ba]:[ba,En]:Cn?ba.unshift(En):ba.push(En),_i=_getMaxListeners(vn),_i>0&&ba.length>_i&&!ba.warned){ba.warned=!0;var xa=new Error("Possible EventEmitter memory leak detected. "+ba.length+" "+String(fn)+" listeners added. Use emitter.setMaxListeners() to increase limit");xa.name="MaxListenersExceededWarning",xa.emitter=vn,xa.type=fn,xa.count=ba.length,ProcessEmitWarning(xa)}return vn}EventEmitter.prototype.addListener=function(fn,En){return _addListener(this,fn,En,!1)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function(fn,En){return _addListener(this,fn,En,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(vn,fn,En){var Cn={fired:!1,wrapFn:void 0,target:vn,type:fn,listener:En},_i=onceWrapper.bind(Cn);return _i.listener=En,Cn.wrapFn=_i,_i}EventEmitter.prototype.once=function(fn,En){return checkListener(En),this.on(fn,_onceWrap(this,fn,En)),this};EventEmitter.prototype.prependOnceListener=function(fn,En){return checkListener(En),this.prependListener(fn,_onceWrap(this,fn,En)),this};EventEmitter.prototype.removeListener=function(fn,En){var Cn,_i,An,ba,xa;if(checkListener(En),_i=this._events,_i===void 0)return this;if(Cn=_i[fn],Cn===void 0)return this;if(Cn===En||Cn.listener===En)--this._eventsCount===0?this._events=Object.create(null):(delete _i[fn],_i.removeListener&&this.emit("removeListener",fn,Cn.listener||En));else if(typeof Cn!="function"){for(An=-1,ba=Cn.length-1;ba>=0;ba--)if(Cn[ba]===En||Cn[ba].listener===En){xa=Cn[ba].listener,An=ba;break}if(An<0)return this;An===0?Cn.shift():spliceOne(Cn,An),Cn.length===1&&(_i[fn]=Cn[0]),_i.removeListener!==void 0&&this.emit("removeListener",fn,xa||En)}return this};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.removeAllListeners=function(fn){var En,Cn,_i;if(Cn=this._events,Cn===void 0)return this;if(Cn.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Cn[fn]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Cn[fn]),this;if(arguments.length===0){var An=Object.keys(Cn),ba;for(_i=0;_i<An.length;++_i)ba=An[_i],ba!=="removeListener"&&this.removeAllListeners(ba);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(En=Cn[fn],typeof En=="function")this.removeListener(fn,En);else if(En!==void 0)for(_i=En.length-1;_i>=0;_i--)this.removeListener(fn,En[_i]);return this};function _listeners(vn,fn,En){var Cn=vn._events;if(Cn===void 0)return[];var _i=Cn[fn];return _i===void 0?[]:typeof _i=="function"?En?[_i.listener||_i]:[_i]:En?unwrapListeners(_i):arrayClone(_i,_i.length)}EventEmitter.prototype.listeners=function(fn){return _listeners(this,fn,!0)};EventEmitter.prototype.rawListeners=function(fn){return _listeners(this,fn,!1)};EventEmitter.listenerCount=function(vn,fn){return typeof vn.listenerCount=="function"?vn.listenerCount(fn):listenerCount.call(vn,fn)};EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(vn){var fn=this._events;if(fn!==void 0){var En=fn[vn];if(typeof En=="function")return 1;if(En!==void 0)return En.length}return 0}EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(vn,fn){for(var En=new Array(fn),Cn=0;Cn<fn;++Cn)En[Cn]=vn[Cn];return En}function spliceOne(vn,fn){for(;fn+1<vn.length;fn++)vn[fn]=vn[fn+1];vn.pop()}function unwrapListeners(vn){for(var fn=new Array(vn.length),En=0;En<fn.length;++En)fn[En]=vn[En].listener||vn[En];return fn}function once(vn,fn){return new Promise(function(En,Cn){function _i(ba){vn.removeListener(fn,An),Cn(ba)}function An(){typeof vn.removeListener=="function"&&vn.removeListener("error",_i),En([].slice.call(arguments))}eventTargetAgnosticAddListener(vn,fn,An,{once:!0}),fn!=="error"&&addErrorHandlerIfEventEmitter(vn,_i,{once:!0})})}function addErrorHandlerIfEventEmitter(vn,fn,En){typeof vn.on=="function"&&eventTargetAgnosticAddListener(vn,"error",fn,En)}function eventTargetAgnosticAddListener(vn,fn,En,Cn){if(typeof vn.on=="function")Cn.once?vn.once(fn,En):vn.on(fn,En);else if(typeof vn.addEventListener=="function")vn.addEventListener(fn,function _i(An){Cn.once&&vn.removeEventListener(fn,_i),En(An)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof vn)}var eventsExports=events.exports;const Wg=getDefaultExportFromCjs$1(eventsExports);var cjs$3={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(vn,fn){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(En,Cn){En.__proto__=Cn}||function(En,Cn){for(var _i in Cn)Cn.hasOwnProperty(_i)&&(En[_i]=Cn[_i])},extendStatics(vn,fn)};function __extends$a(vn,fn){extendStatics(vn,fn);function En(){this.constructor=vn}vn.prototype=fn===null?Object.create(fn):(En.prototype=fn.prototype,new En)}var __assign$2=function(){return __assign$2=Object.assign||function(fn){for(var En,Cn=1,_i=arguments.length;Cn<_i;Cn++){En=arguments[Cn];for(var An in En)Object.prototype.hasOwnProperty.call(En,An)&&(fn[An]=En[An])}return fn},__assign$2.apply(this,arguments)};function __rest$2(vn,fn){var En={};for(var Cn in vn)Object.prototype.hasOwnProperty.call(vn,Cn)&&fn.indexOf(Cn)<0&&(En[Cn]=vn[Cn]);if(vn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _i=0,Cn=Object.getOwnPropertySymbols(vn);_i<Cn.length;_i++)fn.indexOf(Cn[_i])<0&&Object.prototype.propertyIsEnumerable.call(vn,Cn[_i])&&(En[Cn[_i]]=vn[Cn[_i]]);return En}function __decorate(vn,fn,En,Cn){var _i=arguments.length,An=_i<3?fn:Cn===null?Cn=Object.getOwnPropertyDescriptor(fn,En):Cn,ba;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")An=Reflect.decorate(vn,fn,En,Cn);else for(var xa=vn.length-1;xa>=0;xa--)(ba=vn[xa])&&(An=(_i<3?ba(An):_i>3?ba(fn,En,An):ba(fn,En))||An);return _i>3&&An&&Object.defineProperty(fn,En,An),An}function __param(vn,fn){return function(En,Cn){fn(En,Cn,vn)}}function __metadata(vn,fn){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(vn,fn)}function __awaiter(vn,fn,En,Cn){function _i(An){return An instanceof En?An:new En(function(ba){ba(An)})}return new(En||(En=Promise))(function(An,ba){function xa(ts){try{rs(Cn.next(ts))}catch(is){ba(is)}}function $a(ts){try{rs(Cn.throw(ts))}catch(is){ba(is)}}function rs(ts){ts.done?An(ts.value):_i(ts.value).then(xa,$a)}rs((Cn=Cn.apply(vn,fn||[])).next())})}function __generator(vn,fn){var En={label:0,sent:function(){if(An[0]&1)throw An[1];return An[1]},trys:[],ops:[]},Cn,_i,An,ba;return ba={next:xa(0),throw:xa(1),return:xa(2)},typeof Symbol=="function"&&(ba[Symbol.iterator]=function(){return this}),ba;function xa(rs){return function(ts){return $a([rs,ts])}}function $a(rs){if(Cn)throw new TypeError("Generator is already executing.");for(;En;)try{if(Cn=1,_i&&(An=rs[0]&2?_i.return:rs[0]?_i.throw||((An=_i.return)&&An.call(_i),0):_i.next)&&!(An=An.call(_i,rs[1])).done)return An;switch(_i=0,An&&(rs=[rs[0]&2,An.value]),rs[0]){case 0:case 1:An=rs;break;case 4:return En.label++,{value:rs[1],done:!1};case 5:En.label++,_i=rs[1],rs=[0];continue;case 7:rs=En.ops.pop(),En.trys.pop();continue;default:if(An=En.trys,!(An=An.length>0&&An[An.length-1])&&(rs[0]===6||rs[0]===2)){En=0;continue}if(rs[0]===3&&(!An||rs[1]>An[0]&&rs[1]<An[3])){En.label=rs[1];break}if(rs[0]===6&&En.label<An[1]){En.label=An[1],An=rs;break}if(An&&En.label<An[2]){En.label=An[2],En.ops.push(rs);break}An[2]&&En.ops.pop(),En.trys.pop();continue}rs=fn.call(vn,En)}catch(ts){rs=[6,ts],_i=0}finally{Cn=An=0}if(rs[0]&5)throw rs[1];return{value:rs[0]?rs[1]:void 0,done:!0}}}function __createBinding(vn,fn,En,Cn){Cn===void 0&&(Cn=En),vn[Cn]=fn[En]}function __exportStar(vn,fn){for(var En in vn)En!=="default"&&!fn.hasOwnProperty(En)&&(fn[En]=vn[En])}function __values(vn){var fn=typeof Symbol=="function"&&Symbol.iterator,En=fn&&vn[fn],Cn=0;if(En)return En.call(vn);if(vn&&typeof vn.length=="number")return{next:function(){return vn&&Cn>=vn.length&&(vn=void 0),{value:vn&&vn[Cn++],done:!vn}}};throw new TypeError(fn?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(vn,fn){var En=typeof Symbol=="function"&&vn[Symbol.iterator];if(!En)return vn;var Cn=En.call(vn),_i,An=[],ba;try{for(;(fn===void 0||fn-- >0)&&!(_i=Cn.next()).done;)An.push(_i.value)}catch(xa){ba={error:xa}}finally{try{_i&&!_i.done&&(En=Cn.return)&&En.call(Cn)}finally{if(ba)throw ba.error}}return An}function __spread(){for(var vn=[],fn=0;fn<arguments.length;fn++)vn=vn.concat(__read(arguments[fn]));return vn}function __spreadArrays(){for(var vn=0,fn=0,En=arguments.length;fn<En;fn++)vn+=arguments[fn].length;for(var Cn=Array(vn),_i=0,fn=0;fn<En;fn++)for(var An=arguments[fn],ba=0,xa=An.length;ba<xa;ba++,_i++)Cn[_i]=An[ba];return Cn}function __await(vn){return this instanceof __await?(this.v=vn,this):new __await(vn)}function __asyncGenerator(vn,fn,En){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Cn=En.apply(vn,fn||[]),_i,An=[];return _i={},ba("next"),ba("throw"),ba("return"),_i[Symbol.asyncIterator]=function(){return this},_i;function ba(cs){Cn[cs]&&(_i[cs]=function(us){return new Promise(function(ps,bs){An.push([cs,us,ps,bs])>1||xa(cs,us)})})}function xa(cs,us){try{$a(Cn[cs](us))}catch(ps){is(An[0][3],ps)}}function $a(cs){cs.value instanceof __await?Promise.resolve(cs.value.v).then(rs,ts):is(An[0][2],cs)}function rs(cs){xa("next",cs)}function ts(cs){xa("throw",cs)}function is(cs,us){cs(us),An.shift(),An.length&&xa(An[0][0],An[0][1])}}function __asyncDelegator(vn){var fn,En;return fn={},Cn("next"),Cn("throw",function(_i){throw _i}),Cn("return"),fn[Symbol.iterator]=function(){return this},fn;function Cn(_i,An){fn[_i]=vn[_i]?function(ba){return(En=!En)?{value:__await(vn[_i](ba)),done:_i==="return"}:An?An(ba):ba}:An}}function __asyncValues(vn){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fn=vn[Symbol.asyncIterator],En;return fn?fn.call(vn):(vn=typeof __values=="function"?__values(vn):vn[Symbol.iterator](),En={},Cn("next"),Cn("throw"),Cn("return"),En[Symbol.asyncIterator]=function(){return this},En);function Cn(An){En[An]=vn[An]&&function(ba){return new Promise(function(xa,$a){ba=vn[An](ba),_i(xa,$a,ba.done,ba.value)})}}function _i(An,ba,xa,$a){Promise.resolve($a).then(function(rs){An({value:rs,done:xa})},ba)}}function __makeTemplateObject(vn,fn){return Object.defineProperty?Object.defineProperty(vn,"raw",{value:fn}):vn.raw=fn,vn}function __importStar(vn){if(vn&&vn.__esModule)return vn;var fn={};if(vn!=null)for(var En in vn)Object.hasOwnProperty.call(vn,En)&&(fn[En]=vn[En]);return fn.default=vn,fn}function __importDefault(vn){return vn&&vn.__esModule?vn:{default:vn}}function __classPrivateFieldGet(vn,fn){if(!fn.has(vn))throw new TypeError("attempted to get private field on non-instance");return fn.get(vn)}function __classPrivateFieldSet(vn,fn,En){if(!fn.has(vn))throw new TypeError("attempted to set private field on non-instance");return fn.set(vn,En),En}const tslib_es6=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign$2},__asyncDelegator,__asyncGenerator,__asyncValues,__await,__awaiter,__classPrivateFieldGet,__classPrivateFieldSet,__createBinding,__decorate,__exportStar,__extends:__extends$a,__generator,__importDefault,__importStar,__makeTemplateObject,__metadata,__param,__read,__rest:__rest$2,__spread,__spreadArrays,__values},Symbol.toStringTag,{value:"Module"})),require$$0$5=getAugmentedNamespace(tslib_es6);var utils$s={},delay={},hasRequiredDelay;function requireDelay(){if(hasRequiredDelay)return delay;hasRequiredDelay=1,Object.defineProperty(delay,"__esModule",{value:!0}),delay.delay=void 0;function vn(fn){return new Promise(En=>{setTimeout(()=>{En(!0)},fn)})}return delay.delay=vn,delay}var convert={},constants$1={},misc={},hasRequiredMisc;function requireMisc(){return hasRequiredMisc||(hasRequiredMisc=1,Object.defineProperty(misc,"__esModule",{value:!0}),misc.ONE_THOUSAND=misc.ONE_HUNDRED=void 0,misc.ONE_HUNDRED=100,misc.ONE_THOUSAND=1e3),misc}var time={},hasRequiredTime;function requireTime(){return hasRequiredTime||(hasRequiredTime=1,function(vn){Object.defineProperty(vn,"__esModule",{value:!0}),vn.ONE_YEAR=vn.FOUR_WEEKS=vn.THREE_WEEKS=vn.TWO_WEEKS=vn.ONE_WEEK=vn.THIRTY_DAYS=vn.SEVEN_DAYS=vn.FIVE_DAYS=vn.THREE_DAYS=vn.ONE_DAY=vn.TWENTY_FOUR_HOURS=vn.TWELVE_HOURS=vn.SIX_HOURS=vn.THREE_HOURS=vn.ONE_HOUR=vn.SIXTY_MINUTES=vn.THIRTY_MINUTES=vn.TEN_MINUTES=vn.FIVE_MINUTES=vn.ONE_MINUTE=vn.SIXTY_SECONDS=vn.THIRTY_SECONDS=vn.TEN_SECONDS=vn.FIVE_SECONDS=vn.ONE_SECOND=void 0,vn.ONE_SECOND=1,vn.FIVE_SECONDS=5,vn.TEN_SECONDS=10,vn.THIRTY_SECONDS=30,vn.SIXTY_SECONDS=60,vn.ONE_MINUTE=vn.SIXTY_SECONDS,vn.FIVE_MINUTES=vn.ONE_MINUTE*5,vn.TEN_MINUTES=vn.ONE_MINUTE*10,vn.THIRTY_MINUTES=vn.ONE_MINUTE*30,vn.SIXTY_MINUTES=vn.ONE_MINUTE*60,vn.ONE_HOUR=vn.SIXTY_MINUTES,vn.THREE_HOURS=vn.ONE_HOUR*3,vn.SIX_HOURS=vn.ONE_HOUR*6,vn.TWELVE_HOURS=vn.ONE_HOUR*12,vn.TWENTY_FOUR_HOURS=vn.ONE_HOUR*24,vn.ONE_DAY=vn.TWENTY_FOUR_HOURS,vn.THREE_DAYS=vn.ONE_DAY*3,vn.FIVE_DAYS=vn.ONE_DAY*5,vn.SEVEN_DAYS=vn.ONE_DAY*7,vn.THIRTY_DAYS=vn.ONE_DAY*30,vn.ONE_WEEK=vn.SEVEN_DAYS,vn.TWO_WEEKS=vn.ONE_WEEK*2,vn.THREE_WEEKS=vn.ONE_WEEK*3,vn.FOUR_WEEKS=vn.ONE_WEEK*4,vn.ONE_YEAR=vn.ONE_DAY*365}(time)),time}var hasRequiredConstants$1;function requireConstants$1(){return hasRequiredConstants$1||(hasRequiredConstants$1=1,function(vn){Object.defineProperty(vn,"__esModule",{value:!0});const fn=require$$0$5;fn.__exportStar(requireMisc(),vn),fn.__exportStar(requireTime(),vn)}(constants$1)),constants$1}var hasRequiredConvert;function requireConvert(){if(hasRequiredConvert)return convert;hasRequiredConvert=1,Object.defineProperty(convert,"__esModule",{value:!0}),convert.fromMiliseconds=convert.toMiliseconds=void 0;const vn=requireConstants$1();function fn(Cn){return Cn*vn.ONE_THOUSAND}convert.toMiliseconds=fn;function En(Cn){return Math.floor(Cn/vn.ONE_THOUSAND)}return convert.fromMiliseconds=En,convert}var hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(vn){Object.defineProperty(vn,"__esModule",{value:!0});const fn=require$$0$5;fn.__exportStar(requireDelay(),vn),fn.__exportStar(requireConvert(),vn)}(utils$s)),utils$s}var watch$2={},hasRequiredWatch$1;function requireWatch$1(){if(hasRequiredWatch$1)return watch$2;hasRequiredWatch$1=1,Object.defineProperty(watch$2,"__esModule",{value:!0}),watch$2.Watch=void 0;class vn{constructor(){this.timestamps=new Map}start(En){if(this.timestamps.has(En))throw new Error(`Watch already started for label: ${En}`);this.timestamps.set(En,{started:Date.now()})}stop(En){const Cn=this.get(En);if(typeof Cn.elapsed<"u")throw new Error(`Watch already stopped for label: ${En}`);const _i=Date.now()-Cn.started;this.timestamps.set(En,{started:Cn.started,elapsed:_i})}get(En){const Cn=this.timestamps.get(En);if(typeof Cn>"u")throw new Error(`No timestamp found for label: ${En}`);return Cn}elapsed(En){const Cn=this.get(En);return Cn.elapsed||Date.now()-Cn.started}}return watch$2.Watch=vn,watch$2.default=vn,watch$2}var types$2={},watch$1={},hasRequiredWatch;function requireWatch(){if(hasRequiredWatch)return watch$1;hasRequiredWatch=1,Object.defineProperty(watch$1,"__esModule",{value:!0}),watch$1.IWatch=void 0;class vn{}return watch$1.IWatch=vn,watch$1}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(vn){Object.defineProperty(vn,"__esModule",{value:!0}),require$$0$5.__exportStar(requireWatch(),vn)}(types$2)),types$2}(function(vn){Object.defineProperty(vn,"__esModule",{value:!0});const fn=require$$0$5;fn.__exportStar(requireUtils$2(),vn),fn.__exportStar(requireWatch$1(),vn),fn.__exportStar(requireTypes(),vn),fn.__exportStar(requireConstants$1(),vn)})(cjs$3);class IEvents{}let n$5=class extends IEvents{constructor(fn){super()}};const s=cjs$3.FIVE_SECONDS,r$2={pulse:"heartbeat_pulse"};let i$2=class cu extends n$5{constructor(fn){super(fn),this.events=new eventsExports.EventEmitter,this.interval=s,this.interval=(fn==null?void 0:fn.interval)||s}static async init(fn){const En=new cu(fn);return await En.init(),En}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(fn,En){this.events.on(fn,En)}once(fn,En){this.events.once(fn,En)}off(fn,En){this.events.off(fn,En)}removeListener(fn,En){this.events.removeListener(fn,En)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),cjs$3.toMiliseconds(this.interval))}pulse(){this.events.emit(r$2.pulse)}};const suspectProtoRx=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,suspectConstructorRx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,JsonSigRx=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jsonParseTransform(vn,fn){if(vn==="__proto__"||vn==="constructor"&&fn&&typeof fn=="object"&&"prototype"in fn){warnKeyDropped(vn);return}return fn}function warnKeyDropped(vn){console.warn(`[destr] Dropping "${vn}" key to prevent prototype pollution.`)}function destr(vn,fn={}){if(typeof vn!="string")return vn;const En=vn.trim();if(vn[0]==='"'&&vn.endsWith('"')&&!vn.includes("\\"))return En.slice(1,-1);if(En.length<=9){const Cn=En.toLowerCase();if(Cn==="true")return!0;if(Cn==="false")return!1;if(Cn==="undefined")return;if(Cn==="null")return null;if(Cn==="nan")return Number.NaN;if(Cn==="infinity")return Number.POSITIVE_INFINITY;if(Cn==="-infinity")return Number.NEGATIVE_INFINITY}if(!JsonSigRx.test(vn)){if(fn.strict)throw new SyntaxError("[destr] Invalid JSON");return vn}try{if(suspectProtoRx.test(vn)||suspectConstructorRx.test(vn)){if(fn.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(vn,jsonParseTransform)}return JSON.parse(vn)}catch(Cn){if(fn.strict)throw Cn;return vn}}function wrapToPromise(vn){return!vn||typeof vn.then!="function"?Promise.resolve(vn):vn}function asyncCall(vn,...fn){try{return wrapToPromise(vn(...fn))}catch(En){return Promise.reject(En)}}function isPrimitive(vn){const fn=typeof vn;return vn===null||fn!=="object"&&fn!=="function"}function isPureObject(vn){const fn=Object.getPrototypeOf(vn);return!fn||fn.isPrototypeOf(Object)}function stringify(vn){if(isPrimitive(vn))return String(vn);if(isPureObject(vn)||Array.isArray(vn))return JSON.stringify(vn);if(typeof vn.toJSON=="function")return stringify(vn.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function checkBufferSupport(){if(typeof Buffer$7>"u")throw new TypeError("[unstorage] Buffer is not supported!")}const BASE64_PREFIX="base64:";function serializeRaw(vn){if(typeof vn=="string")return vn;checkBufferSupport();const fn=Buffer$7.from(vn).toString("base64");return BASE64_PREFIX+fn}function deserializeRaw(vn){return typeof vn!="string"||!vn.startsWith(BASE64_PREFIX)?vn:(checkBufferSupport(),Buffer$7.from(vn.slice(BASE64_PREFIX.length),"base64"))}function normalizeKey(vn){return vn?vn.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function joinKeys(...vn){return normalizeKey(vn.join(":"))}function normalizeBaseKey(vn){return vn=normalizeKey(vn),vn?vn+":":""}function defineDriver(vn){return vn}const DRIVER_NAME="memory",memory=()=>{const vn=new Map;return{name:DRIVER_NAME,getInstance:()=>vn,hasItem(fn){return vn.has(fn)},getItem(fn){return vn.get(fn)??null},getItemRaw(fn){return vn.get(fn)??null},setItem(fn,En){vn.set(fn,En)},setItemRaw(fn,En){vn.set(fn,En)},removeItem(fn){vn.delete(fn)},getKeys(){return[...vn.keys()]},clear(){vn.clear()},dispose(){vn.clear()}}};function createStorage(vn={}){const fn={mounts:{"":vn.driver||memory()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},En=rs=>{for(const ts of fn.mountpoints)if(rs.startsWith(ts))return{base:ts,relativeKey:rs.slice(ts.length),driver:fn.mounts[ts]};return{base:"",relativeKey:rs,driver:fn.mounts[""]}},Cn=(rs,ts)=>fn.mountpoints.filter(is=>is.startsWith(rs)||ts&&rs.startsWith(is)).map(is=>({relativeBase:rs.length>is.length?rs.slice(is.length):void 0,mountpoint:is,driver:fn.mounts[is]})),_i=(rs,ts)=>{if(fn.watching){ts=normalizeKey(ts);for(const is of fn.watchListeners)is(rs,ts)}},An=async()=>{if(!fn.watching){fn.watching=!0;for(const rs in fn.mounts)fn.unwatch[rs]=await watch(fn.mounts[rs],_i,rs)}},ba=async()=>{if(fn.watching){for(const rs in fn.unwatch)await fn.unwatch[rs]();fn.unwatch={},fn.watching=!1}},xa=(rs,ts,is)=>{const cs=new Map,us=ps=>{let bs=cs.get(ps.base);return bs||(bs={driver:ps.driver,base:ps.base,items:[]},cs.set(ps.base,bs)),bs};for(const ps of rs){const bs=typeof ps=="string",e0=normalizeKey(bs?ps:ps.key),gs=bs?void 0:ps.value,Ds=bs||!ps.options?ts:{...ts,...ps.options},i0=En(e0);us(i0).items.push({key:e0,value:gs,relativeKey:i0.relativeKey,options:Ds})}return Promise.all([...cs.values()].map(ps=>is(ps))).then(ps=>ps.flat())},$a={hasItem(rs,ts={}){rs=normalizeKey(rs);const{relativeKey:is,driver:cs}=En(rs);return asyncCall(cs.hasItem,is,ts)},getItem(rs,ts={}){rs=normalizeKey(rs);const{relativeKey:is,driver:cs}=En(rs);return asyncCall(cs.getItem,is,ts).then(us=>destr(us))},getItems(rs,ts){return xa(rs,ts,is=>is.driver.getItems?asyncCall(is.driver.getItems,is.items.map(cs=>({key:cs.relativeKey,options:cs.options})),ts).then(cs=>cs.map(us=>({key:joinKeys(is.base,us.key),value:destr(us.value)}))):Promise.all(is.items.map(cs=>asyncCall(is.driver.getItem,cs.relativeKey,cs.options).then(us=>({key:cs.key,value:destr(us)})))))},getItemRaw(rs,ts={}){rs=normalizeKey(rs);const{relativeKey:is,driver:cs}=En(rs);return cs.getItemRaw?asyncCall(cs.getItemRaw,is,ts):asyncCall(cs.getItem,is,ts).then(us=>deserializeRaw(us))},async setItem(rs,ts,is={}){if(ts===void 0)return $a.removeItem(rs);rs=normalizeKey(rs);const{relativeKey:cs,driver:us}=En(rs);us.setItem&&(await asyncCall(us.setItem,cs,stringify(ts),is),us.watch||_i("update",rs))},async setItems(rs,ts){await xa(rs,ts,async is=>{if(is.driver.setItems)return asyncCall(is.driver.setItems,is.items.map(cs=>({key:cs.relativeKey,value:stringify(cs.value),options:cs.options})),ts);is.driver.setItem&&await Promise.all(is.items.map(cs=>asyncCall(is.driver.setItem,cs.relativeKey,stringify(cs.value),cs.options)))})},async setItemRaw(rs,ts,is={}){if(ts===void 0)return $a.removeItem(rs,is);rs=normalizeKey(rs);const{relativeKey:cs,driver:us}=En(rs);if(us.setItemRaw)await asyncCall(us.setItemRaw,cs,ts,is);else if(us.setItem)await asyncCall(us.setItem,cs,serializeRaw(ts),is);else return;us.watch||_i("update",rs)},async removeItem(rs,ts={}){typeof ts=="boolean"&&(ts={removeMeta:ts}),rs=normalizeKey(rs);const{relativeKey:is,driver:cs}=En(rs);cs.removeItem&&(await asyncCall(cs.removeItem,is,ts),(ts.removeMeta||ts.removeMata)&&await asyncCall(cs.removeItem,is+"$",ts),cs.watch||_i("remove",rs))},async getMeta(rs,ts={}){typeof ts=="boolean"&&(ts={nativeOnly:ts}),rs=normalizeKey(rs);const{relativeKey:is,driver:cs}=En(rs),us=Object.create(null);if(cs.getMeta&&Object.assign(us,await asyncCall(cs.getMeta,is,ts)),!ts.nativeOnly){const ps=await asyncCall(cs.getItem,is+"$",ts).then(bs=>destr(bs));ps&&typeof ps=="object"&&(typeof ps.atime=="string"&&(ps.atime=new Date(ps.atime)),typeof ps.mtime=="string"&&(ps.mtime=new Date(ps.mtime)),Object.assign(us,ps))}return us},setMeta(rs,ts,is={}){return this.setItem(rs+"$",ts,is)},removeMeta(rs,ts={}){return this.removeItem(rs+"$",ts)},async getKeys(rs,ts={}){rs=normalizeBaseKey(rs);const is=Cn(rs,!0);let cs=[];const us=[];for(const ps of is){const bs=await asyncCall(ps.driver.getKeys,ps.relativeBase,ts);for(const e0 of bs){const gs=ps.mountpoint+normalizeKey(e0);cs.some(Ds=>gs.startsWith(Ds))||us.push(gs)}cs=[ps.mountpoint,...cs.filter(e0=>!e0.startsWith(ps.mountpoint))]}return rs?us.filter(ps=>ps.startsWith(rs)&&ps[ps.length-1]!=="$"):us.filter(ps=>ps[ps.length-1]!=="$")},async clear(rs,ts={}){rs=normalizeBaseKey(rs),await Promise.all(Cn(rs,!1).map(async is=>{if(is.driver.clear)return asyncCall(is.driver.clear,is.relativeBase,ts);if(is.driver.removeItem){const cs=await is.driver.getKeys(is.relativeBase||"",ts);return Promise.all(cs.map(us=>is.driver.removeItem(us,ts)))}}))},async dispose(){await Promise.all(Object.values(fn.mounts).map(rs=>dispose(rs)))},async watch(rs){return await An(),fn.watchListeners.push(rs),async()=>{fn.watchListeners=fn.watchListeners.filter(ts=>ts!==rs),fn.watchListeners.length===0&&await ba()}},async unwatch(){fn.watchListeners=[],await ba()},mount(rs,ts){if(rs=normalizeBaseKey(rs),rs&&fn.mounts[rs])throw new Error(`already mounted at ${rs}`);return rs&&(fn.mountpoints.push(rs),fn.mountpoints.sort((is,cs)=>cs.length-is.length)),fn.mounts[rs]=ts,fn.watching&&Promise.resolve(watch(ts,_i,rs)).then(is=>{fn.unwatch[rs]=is}).catch(console.error),$a},async unmount(rs,ts=!0){rs=normalizeBaseKey(rs),!(!rs||!fn.mounts[rs])&&(fn.watching&&rs in fn.unwatch&&(fn.unwatch[rs](),delete fn.unwatch[rs]),ts&&await dispose(fn.mounts[rs]),fn.mountpoints=fn.mountpoints.filter(is=>is!==rs),delete fn.mounts[rs])},getMount(rs=""){rs=normalizeKey(rs)+":";const ts=En(rs);return{driver:ts.driver,base:ts.base}},getMounts(rs="",ts={}){return rs=normalizeKey(rs),Cn(rs,ts.parents).map(cs=>({driver:cs.driver,base:cs.mountpoint}))},keys:(rs,ts={})=>$a.getKeys(rs,ts),get:(rs,ts={})=>$a.getItem(rs,ts),set:(rs,ts,is={})=>$a.setItem(rs,ts,is),has:(rs,ts={})=>$a.hasItem(rs,ts),del:(rs,ts={})=>$a.removeItem(rs,ts),remove:(rs,ts={})=>$a.removeItem(rs,ts)};return $a}function watch(vn,fn,En){return vn.watch?vn.watch((Cn,_i)=>fn(Cn,En+_i)):()=>{}}async function dispose(vn){typeof vn.dispose=="function"&&await asyncCall(vn.dispose)}function promisifyRequest(vn){return new Promise((fn,En)=>{vn.oncomplete=vn.onsuccess=()=>fn(vn.result),vn.onabort=vn.onerror=()=>En(vn.error)})}function createStore(vn,fn){const En=indexedDB.open(vn);En.onupgradeneeded=()=>En.result.createObjectStore(fn);const Cn=promisifyRequest(En);return(_i,An)=>Cn.then(ba=>An(ba.transaction(fn,_i).objectStore(fn)))}let defaultGetStoreFunc;function defaultGetStore(){return defaultGetStoreFunc||(defaultGetStoreFunc=createStore("keyval-store","keyval")),defaultGetStoreFunc}function get(vn,fn=defaultGetStore()){return fn("readonly",En=>promisifyRequest(En.get(vn)))}function set$1(vn,fn,En=defaultGetStore()){return En("readwrite",Cn=>(Cn.put(fn,vn),promisifyRequest(Cn.transaction)))}function del(vn,fn=defaultGetStore()){return fn("readwrite",En=>(En.delete(vn),promisifyRequest(En.transaction)))}function clear(vn=defaultGetStore()){return vn("readwrite",fn=>(fn.clear(),promisifyRequest(fn.transaction)))}function eachCursor(vn,fn){return vn.openCursor().onsuccess=function(){this.result&&(fn(this.result),this.result.continue())},promisifyRequest(vn.transaction)}function keys(vn=defaultGetStore()){return vn("readonly",fn=>{if(fn.getAllKeys)return promisifyRequest(fn.getAllKeys());const En=[];return eachCursor(fn,Cn=>En.push(Cn.key)).then(()=>En)})}const JSONStringify=vn=>JSON.stringify(vn,(fn,En)=>typeof En=="bigint"?En.toString()+"n":En),JSONParse=vn=>{const fn=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,En=vn.replace(fn,'$1"$2n"$3');return JSON.parse(En,(Cn,_i)=>typeof _i=="string"&&_i.match(/^\d+n$/)?BigInt(_i.substring(0,_i.length-1)):_i)};function safeJsonParse(vn){if(typeof vn!="string")throw new Error(`Cannot safe json parse value of type ${typeof vn}`);try{return JSONParse(vn)}catch{return vn}}function safeJsonStringify(vn){return typeof vn=="string"?vn:JSONStringify(vn)||""}const x$8="idb-keyval";var z$7=(vn={})=>{const fn=vn.base&&vn.base.length>0?`${vn.base}:`:"",En=_i=>fn+_i;let Cn;return vn.dbName&&vn.storeName&&(Cn=createStore(vn.dbName,vn.storeName)),{name:x$8,options:vn,async hasItem(_i){return!(typeof await get(En(_i),Cn)>"u")},async getItem(_i){return await get(En(_i),Cn)??null},setItem(_i,An){return set$1(En(_i),An,Cn)},removeItem(_i){return del(En(_i),Cn)},getKeys(){return keys(Cn)},clear(){return clear(Cn)}}};const D$4="WALLET_CONNECT_V2_INDEXED_DB",E$2="keyvaluestorage";let _$4=class{constructor(){this.indexedDb=createStorage({driver:z$7({dbName:D$4,storeName:E$2})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(fn=>[fn.key,fn.value])}async getItem(fn){const En=await this.indexedDb.getItem(fn);if(En!==null)return En}async setItem(fn,En){await this.indexedDb.setItem(fn,safeJsonStringify(En))}async removeItem(fn){await this.indexedDb.removeItem(fn)}};var l$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global$1<"u"?global$1:typeof self<"u"?self:{},c$2={exports:{}};(function(){let vn;function fn(){}vn=fn,vn.prototype.getItem=function(En){return this.hasOwnProperty(En)?String(this[En]):null},vn.prototype.setItem=function(En,Cn){this[En]=String(Cn)},vn.prototype.removeItem=function(En){delete this[En]},vn.prototype.clear=function(){const En=this;Object.keys(En).forEach(function(Cn){En[Cn]=void 0,delete En[Cn]})},vn.prototype.key=function(En){return En=En||0,Object.keys(this)[En]},vn.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof l$2<"u"&&l$2.localStorage?c$2.exports=l$2.localStorage:typeof window<"u"&&window.localStorage?c$2.exports=window.localStorage:c$2.exports=new fn})();function k$4(vn){var fn;return[vn[0],safeJsonParse((fn=vn[1])!=null?fn:"")]}let K$8=class{constructor(){this.localStorage=c$2.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(k$4)}async getItem(fn){const En=this.localStorage.getItem(fn);if(En!==null)return safeJsonParse(En)}async setItem(fn,En){this.localStorage.setItem(fn,safeJsonStringify(En))}async removeItem(fn){this.localStorage.removeItem(fn)}};const N$1="wc_storage_version",y$6=1,O$6=async(vn,fn,En)=>{const Cn=N$1,_i=await fn.getItem(Cn);if(_i&&_i>=y$6){En(fn);return}const An=await vn.getKeys();if(!An.length){En(fn);return}const ba=[];for(;An.length;){const xa=An.shift();if(!xa)continue;const $a=xa.toLowerCase();if($a.includes("wc@")||$a.includes("walletconnect")||$a.includes("wc_")||$a.includes("wallet_connect")){const rs=await vn.getItem(xa);await fn.setItem(xa,rs),ba.push(xa)}}await fn.setItem(Cn,y$6),En(fn),j$2(vn,ba)},j$2=async(vn,fn)=>{fn.length&&fn.forEach(async En=>{await vn.removeItem(En)})};let h$3=class{constructor(){this.initialized=!1,this.setInitialized=En=>{this.storage=En,this.initialized=!0};const fn=new K$8;this.storage=fn;try{const En=new _$4;O$6(fn,En,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(fn){return await this.initialize(),this.storage.getItem(fn)}async setItem(fn,En){return await this.initialize(),this.storage.setItem(fn,En)}async removeItem(fn){return await this.initialize(),this.storage.removeItem(fn)}async initialize(){this.initialized||await new Promise(fn=>{const En=setInterval(()=>{this.initialized&&(clearInterval(En),fn())},20)})}};function tryStringify(vn){try{return JSON.stringify(vn)}catch{return'"[Circular]"'}}var quickFormatUnescaped=format$1;function format$1(vn,fn,En){var Cn=En&&En.stringify||tryStringify,_i=1;if(typeof vn=="object"&&vn!==null){var An=fn.length+_i;if(An===1)return vn;var ba=new Array(An);ba[0]=Cn(vn);for(var xa=1;xa<An;xa++)ba[xa]=Cn(fn[xa]);return ba.join(" ")}if(typeof vn!="string")return vn;var $a=fn.length;if($a===0)return vn;for(var rs="",ts=1-_i,is=-1,cs=vn&&vn.length||0,us=0;us<cs;){if(vn.charCodeAt(us)===37&&us+1<cs){switch(is=is>-1?is:0,vn.charCodeAt(us+1)){case 100:case 102:if(ts>=$a||fn[ts]==null)break;is<us&&(rs+=vn.slice(is,us)),rs+=Number(fn[ts]),is=us+2,us++;break;case 105:if(ts>=$a||fn[ts]==null)break;is<us&&(rs+=vn.slice(is,us)),rs+=Math.floor(Number(fn[ts])),is=us+2,us++;break;case 79:case 111:case 106:if(ts>=$a||fn[ts]===void 0)break;is<us&&(rs+=vn.slice(is,us));var ps=typeof fn[ts];if(ps==="string"){rs+="'"+fn[ts]+"'",is=us+2,us++;break}if(ps==="function"){rs+=fn[ts].name||"<anonymous>",is=us+2,us++;break}rs+=Cn(fn[ts]),is=us+2,us++;break;case 115:if(ts>=$a)break;is<us&&(rs+=vn.slice(is,us)),rs+=String(fn[ts]),is=us+2,us++;break;case 37:is<us&&(rs+=vn.slice(is,us)),rs+="%",is=us+2,us++,ts--;break}++ts}++us}return is===-1?vn:(is<cs&&(rs+=vn.slice(is)),rs)}const format=quickFormatUnescaped;var browser$f=pino;const _console=pfGlobalThisOrFallback().console||{},stdSerializers={mapHttpRequest:mock,mapHttpResponse:mock,wrapRequestSerializer:passthrough,wrapResponseSerializer:passthrough,wrapErrorSerializer:passthrough,req:mock,res:mock,err:asErrValue};function shouldSerialize(vn,fn){return Array.isArray(vn)?vn.filter(function(Cn){return Cn!=="!stdSerializers.err"}):vn===!0?Object.keys(fn):!1}function pino(vn){vn=vn||{},vn.browser=vn.browser||{};const fn=vn.browser.transmit;if(fn&&typeof fn.send!="function")throw Error("pino: transmit option must have a send function");const En=vn.browser.write||_console;vn.browser.write&&(vn.browser.asObject=!0);const Cn=vn.serializers||{},_i=shouldSerialize(vn.browser.serialize,Cn);let An=vn.browser.serialize;Array.isArray(vn.browser.serialize)&&vn.browser.serialize.indexOf("!stdSerializers.err")>-1&&(An=!1);const ba=["error","fatal","warn","info","debug","trace"];typeof En=="function"&&(En.error=En.fatal=En.warn=En.info=En.debug=En.trace=En),vn.enabled===!1&&(vn.level="silent");const xa=vn.level||"info",$a=Object.create(En);$a.log||($a.log=noop$1),Object.defineProperty($a,"levelVal",{get:ts}),Object.defineProperty($a,"level",{get:is,set:cs});const rs={transmit:fn,serialize:_i,asObject:vn.browser.asObject,levels:ba,timestamp:getTimeFunction(vn)};$a.levels=pino.levels,$a.level=xa,$a.setMaxListeners=$a.getMaxListeners=$a.emit=$a.addListener=$a.on=$a.prependListener=$a.once=$a.prependOnceListener=$a.removeListener=$a.removeAllListeners=$a.listeners=$a.listenerCount=$a.eventNames=$a.write=$a.flush=noop$1,$a.serializers=Cn,$a._serialize=_i,$a._stdErrSerialize=An,$a.child=us,fn&&($a._logEvent=createLogEventShape());function ts(){return this.level==="silent"?1/0:this.levels.values[this.level]}function is(){return this._level}function cs(ps){if(ps!=="silent"&&!this.levels.values[ps])throw Error("unknown level "+ps);this._level=ps,set(rs,$a,"error","log"),set(rs,$a,"fatal","error"),set(rs,$a,"warn","error"),set(rs,$a,"info","log"),set(rs,$a,"debug","log"),set(rs,$a,"trace","log")}function us(ps,bs){if(!ps)throw new Error("missing bindings for child Pino");bs=bs||{},_i&&ps.serializers&&(bs.serializers=ps.serializers);const e0=bs.serializers;if(_i&&e0){var gs=Object.assign({},Cn,e0),Ds=vn.browser.serialize===!0?Object.keys(gs):_i;delete ps.serializers,applySerializers([ps],Ds,gs,this._stdErrSerialize)}function i0(n0){this._childLevel=(n0._childLevel|0)+1,this.error=bind$2(n0,ps,"error"),this.fatal=bind$2(n0,ps,"fatal"),this.warn=bind$2(n0,ps,"warn"),this.info=bind$2(n0,ps,"info"),this.debug=bind$2(n0,ps,"debug"),this.trace=bind$2(n0,ps,"trace"),gs&&(this.serializers=gs,this._serialize=Ds),fn&&(this._logEvent=createLogEventShape([].concat(n0._logEvent.bindings,ps)))}return i0.prototype=this,new i0(this)}return $a}pino.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};pino.stdSerializers=stdSerializers;pino.stdTimeFunctions=Object.assign({},{nullTime,epochTime,unixTime,isoTime});function set(vn,fn,En,Cn){const _i=Object.getPrototypeOf(fn);fn[En]=fn.levelVal>fn.levels.values[En]?noop$1:_i[En]?_i[En]:_console[En]||_console[Cn]||noop$1,wrap(vn,fn,En)}function wrap(vn,fn,En){!vn.transmit&&fn[En]===noop$1||(fn[En]=function(Cn){return function(){const An=vn.timestamp(),ba=new Array(arguments.length),xa=Object.getPrototypeOf&&Object.getPrototypeOf(this)===_console?_console:this;for(var $a=0;$a<ba.length;$a++)ba[$a]=arguments[$a];if(vn.serialize&&!vn.asObject&&applySerializers(ba,this._serialize,this.serializers,this._stdErrSerialize),vn.asObject?Cn.call(xa,asObject(this,En,ba,An)):Cn.apply(xa,ba),vn.transmit){const rs=vn.transmit.level||fn.level,ts=pino.levels.values[rs],is=pino.levels.values[En];if(is<ts)return;transmit(this,{ts:An,methodLevel:En,methodValue:is,transmitLevel:rs,transmitValue:pino.levels.values[vn.transmit.level||fn.level],send:vn.transmit.send,val:fn.levelVal},ba)}}}(fn[En]))}function asObject(vn,fn,En,Cn){vn._serialize&&applySerializers(En,vn._serialize,vn.serializers,vn._stdErrSerialize);const _i=En.slice();let An=_i[0];const ba={};Cn&&(ba.time=Cn),ba.level=pino.levels.values[fn];let xa=(vn._childLevel|0)+1;if(xa<1&&(xa=1),An!==null&&typeof An=="object"){for(;xa--&&typeof _i[0]=="object";)Object.assign(ba,_i.shift());An=_i.length?format(_i.shift(),_i):void 0}else typeof An=="string"&&(An=format(_i.shift(),_i));return An!==void 0&&(ba.msg=An),ba}function applySerializers(vn,fn,En,Cn){for(const _i in vn)if(Cn&&vn[_i]instanceof Error)vn[_i]=pino.stdSerializers.err(vn[_i]);else if(typeof vn[_i]=="object"&&!Array.isArray(vn[_i]))for(const An in vn[_i])fn&&fn.indexOf(An)>-1&&An in En&&(vn[_i][An]=En[An](vn[_i][An]))}function bind$2(vn,fn,En){return function(){const Cn=new Array(1+arguments.length);Cn[0]=fn;for(var _i=1;_i<Cn.length;_i++)Cn[_i]=arguments[_i-1];return vn[En].apply(this,Cn)}}function transmit(vn,fn,En){const Cn=fn.send,_i=fn.ts,An=fn.methodLevel,ba=fn.methodValue,xa=fn.val,$a=vn._logEvent.bindings;applySerializers(En,vn._serialize||Object.keys(vn.serializers),vn.serializers,vn._stdErrSerialize===void 0?!0:vn._stdErrSerialize),vn._logEvent.ts=_i,vn._logEvent.messages=En.filter(function(rs){return $a.indexOf(rs)===-1}),vn._logEvent.level.label=An,vn._logEvent.level.value=ba,Cn(An,vn._logEvent,xa),vn._logEvent=createLogEventShape($a)}function createLogEventShape(vn){return{ts:0,messages:[],bindings:vn||[],level:{label:"",value:0}}}function asErrValue(vn){const fn={type:vn.constructor.name,msg:vn.message,stack:vn.stack};for(const En in vn)fn[En]===void 0&&(fn[En]=vn[En]);return fn}function getTimeFunction(vn){return typeof vn.timestamp=="function"?vn.timestamp:vn.timestamp===!1?nullTime:epochTime}function mock(){return{}}function passthrough(vn){return vn}function noop$1(){}function nullTime(){return!1}function epochTime(){return Date.now()}function unixTime(){return Math.round(Date.now()/1e3)}function isoTime(){return new Date(Date.now()).toISOString()}function pfGlobalThisOrFallback(){function vn(fn){return typeof fn<"u"&&fn}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return vn(self)||vn(window)||vn(this)||{}}}const Hg=getDefaultExportFromCjs$1(browser$f),c$1={level:"info"},n$4="custom_context",l$1=1e3*1024;let O$5=class{constructor(fn){this.nodeValue=fn,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},d$3=class{constructor(fn){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=fn,this.sizeInBytes=0}append(fn){const En=new O$5(fn);if(En.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${fn} with size ${En.size}`);for(;this.size+En.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=En),this.tail=En):(this.head=En,this.tail=En),this.lengthInNodes++,this.sizeInBytes+=En.size}shift(){if(!this.head)return;const fn=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=fn.size}toArray(){const fn=[];let En=this.head;for(;En!==null;)fn.push(En.value),En=En.next;return fn}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let fn=this.head;return{next:()=>{if(!fn)return{done:!0,value:null};const En=fn.value;return fn=fn.next,{done:!1,value:En}}}}},L$4=class{constructor(fn,En=l$1){this.level=fn??"error",this.levelValue=browser$f.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=En,this.logs=new d$3(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(fn,En){En===browser$f.levels.values.error?console.error(fn):En===browser$f.levels.values.warn?console.warn(fn):En===browser$f.levels.values.debug?console.debug(fn):En===browser$f.levels.values.trace?console.trace(fn):console.log(fn)}appendToLogs(fn){this.logs.append(safeJsonStringify({timestamp:new Date().toISOString(),log:fn}));const En=typeof fn=="string"?JSON.parse(fn).level:fn.level;En>=this.levelValue&&this.forwardToConsole(fn,En)}getLogs(){return this.logs}clearLogs(){this.logs=new d$3(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(fn){const En=this.getLogArray();return En.push(safeJsonStringify({extraMetadata:fn})),new Blob(En,{type:"application/json"})}};class m{constructor(fn,En=l$1){this.baseChunkLogger=new L$4(fn,En)}write(fn){this.baseChunkLogger.appendToLogs(fn)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(fn){return this.baseChunkLogger.logsToBlob(fn)}downloadLogsBlobInBrowser(fn){const En=URL.createObjectURL(this.logsToBlob(fn)),Cn=document.createElement("a");Cn.href=En,Cn.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(Cn),Cn.click(),document.body.removeChild(Cn),URL.revokeObjectURL(En)}}let B$4=class{constructor(fn,En=l$1){this.baseChunkLogger=new L$4(fn,En)}write(fn){this.baseChunkLogger.appendToLogs(fn)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(fn){return this.baseChunkLogger.logsToBlob(fn)}};var x$7=Object.defineProperty,S$8=Object.defineProperties,_$3=Object.getOwnPropertyDescriptors,p$3=Object.getOwnPropertySymbols,T$2=Object.prototype.hasOwnProperty,z$6=Object.prototype.propertyIsEnumerable,f$4=(vn,fn,En)=>fn in vn?x$7(vn,fn,{enumerable:!0,configurable:!0,writable:!0,value:En}):vn[fn]=En,i$1=(vn,fn)=>{for(var En in fn||(fn={}))T$2.call(fn,En)&&f$4(vn,En,fn[En]);if(p$3)for(var En of p$3(fn))z$6.call(fn,En)&&f$4(vn,En,fn[En]);return vn},g$7=(vn,fn)=>S$8(vn,_$3(fn));function k$3(vn){return g$7(i$1({},vn),{level:(vn==null?void 0:vn.level)||c$1.level})}function v$6(vn,fn=n$4){return vn[fn]||""}function b$4(vn,fn,En=n$4){return vn[En]=fn,vn}function y$5(vn,fn=n$4){let En="";return typeof vn.bindings>"u"?En=v$6(vn,fn):En=vn.bindings().context||"",En}function w$2(vn,fn,En=n$4){const Cn=y$5(vn,En);return Cn.trim()?`${Cn}/${fn}`:fn}function E$1(vn,fn,En=n$4){const Cn=w$2(vn,fn,En),_i=vn.child({context:Cn});return b$4(_i,Cn,En)}function C$5(vn){var fn,En;const Cn=new m((fn=vn.opts)==null?void 0:fn.level,vn.maxSizeInBytes);return{logger:Hg(g$7(i$1({},vn.opts),{level:"trace",browser:g$7(i$1({},(En=vn.opts)==null?void 0:En.browser),{write:_i=>Cn.write(_i)})})),chunkLoggerController:Cn}}function I$6(vn){var fn;const En=new B$4((fn=vn.opts)==null?void 0:fn.level,vn.maxSizeInBytes);return{logger:Hg(g$7(i$1({},vn.opts),{level:"trace"}),En),chunkLoggerController:En}}function A$2(vn){return typeof vn.loggerOverride<"u"&&typeof vn.loggerOverride!="string"?{logger:vn.loggerOverride,chunkLoggerController:null}:typeof window<"u"?C$5(vn):I$6(vn)}let n$3=class extends IEvents{constructor(fn){super(),this.opts=fn,this.protocol="wc",this.version=2}},h$2=class extends IEvents{constructor(fn,En){super(),this.core=fn,this.logger=En,this.records=new Map}},a$2=class{constructor(fn,En){this.logger=fn,this.core=En}},g$6=class extends IEvents{constructor(fn,En){super(),this.relayer=fn,this.logger=En}},u$1=class extends IEvents{constructor(fn){super()}},p$2=class{constructor(fn,En,Cn,_i){this.core=fn,this.logger=En,this.name=Cn}},d$2=class extends IEvents{constructor(fn,En){super(),this.relayer=fn,this.logger=En}},x$6=class extends IEvents{constructor(fn,En){super(),this.core=fn,this.logger=En}},y$4=class{constructor(fn,En,Cn){this.core=fn,this.logger=En,this.store=Cn}},v$5=class{constructor(fn,En){this.projectId=fn,this.logger=En}},C$4=class{constructor(fn,En,Cn){this.core=fn,this.logger=En,this.telemetryEnabled=Cn}};var ed25519={},random={},system={},browser$e={};Object.defineProperty(browser$e,"__esModule",{value:!0});browser$e.BrowserRandomSource=void 0;const QUOTA=65536;class BrowserRandomSource{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const fn=typeof self<"u"?self.crypto||self.msCrypto:null;fn&&fn.getRandomValues!==void 0&&(this._crypto=fn,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(fn){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const En=new Uint8Array(fn);for(let Cn=0;Cn<En.length;Cn+=QUOTA)this._crypto.getRandomValues(En.subarray(Cn,Cn+Math.min(En.length-Cn,QUOTA)));return En}}browser$e.BrowserRandomSource=BrowserRandomSource;function commonjsRequire(vn){throw new Error('Could not dynamically require "'+vn+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var node$1={},wipe$1={};Object.defineProperty(wipe$1,"__esModule",{value:!0});function wipe(vn){for(var fn=0;fn<vn.length;fn++)vn[fn]=0;return vn}wipe$1.wipe=wipe;var cryptoBrowserify={},browser$d={exports:{}},safeBuffer$1={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer$1;function requireSafeBuffer$1(){return hasRequiredSafeBuffer$1||(hasRequiredSafeBuffer$1=1,function(vn,fn){var En=require$$0$a,Cn=En.Buffer;function _i(ba,xa){for(var $a in ba)xa[$a]=ba[$a]}Cn.from&&Cn.alloc&&Cn.allocUnsafe&&Cn.allocUnsafeSlow?vn.exports=En:(_i(En,fn),fn.Buffer=An);function An(ba,xa,$a){return Cn(ba,xa,$a)}An.prototype=Object.create(Cn.prototype),_i(Cn,An),An.from=function(ba,xa,$a){if(typeof ba=="number")throw new TypeError("Argument must not be a number");return Cn(ba,xa,$a)},An.alloc=function(ba,xa,$a){if(typeof ba!="number")throw new TypeError("Argument must be a number");var rs=Cn(ba);return xa!==void 0?typeof $a=="string"?rs.fill(xa,$a):rs.fill(xa):rs.fill(0),rs},An.allocUnsafe=function(ba){if(typeof ba!="number")throw new TypeError("Argument must be a number");return Cn(ba)},An.allocUnsafeSlow=function(ba){if(typeof ba!="number")throw new TypeError("Argument must be a number");return En.SlowBuffer(ba)}}(safeBuffer$1,safeBuffer$1.exports)),safeBuffer$1.exports}var hasRequiredBrowser$b;function requireBrowser$b(){if(hasRequiredBrowser$b)return browser$d.exports;hasRequiredBrowser$b=1;var vn=65536,fn=4294967295;function En(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Cn=requireSafeBuffer$1().Buffer,_i=commonjsGlobal.crypto||commonjsGlobal.msCrypto;_i&&_i.getRandomValues?browser$d.exports=An:browser$d.exports=En;function An(ba,xa){if(ba>fn)throw new RangeError("requested too many random bytes");var $a=Cn.allocUnsafe(ba);if(ba>0)if(ba>vn)for(var rs=0;rs<ba;rs+=vn)_i.getRandomValues($a.slice(rs,rs+vn));else _i.getRandomValues($a);return typeof xa=="function"?process$1.nextTick(function(){xa(null,$a)}):$a}return browser$d.exports}var streamBrowser$1,hasRequiredStreamBrowser$1;function requireStreamBrowser$1(){return hasRequiredStreamBrowser$1||(hasRequiredStreamBrowser$1=1,streamBrowser$1=eventsExports.EventEmitter),streamBrowser$1}var util$1={},types$1={},shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var fn={},En=Symbol("test"),Cn=Object(En);if(typeof En=="string"||Object.prototype.toString.call(En)!=="[object Symbol]"||Object.prototype.toString.call(Cn)!=="[object Symbol]")return!1;var _i=42;fn[En]=_i;for(En in fn)return!1;if(typeof Object.keys=="function"&&Object.keys(fn).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(fn).length!==0)return!1;var An=Object.getOwnPropertySymbols(fn);if(An.length!==1||An[0]!==En||!Object.prototype.propertyIsEnumerable.call(fn,En))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var ba=Object.getOwnPropertyDescriptor(fn,En);if(ba.value!==_i||ba.enumerable!==!0)return!1}return!0},hasSymbols$2=shams$1,shams=function(){return hasSymbols$2()&&!!Symbol.toStringTag},esErrors=Error,_eval=EvalError,range=RangeError,ref=ReferenceError,syntax=SyntaxError,type=TypeError,uri=URIError,origSymbol=typeof Symbol<"u"&&Symbol,hasSymbolSham=shams$1,hasSymbols$1=function(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},test={__proto__:null,foo:{}},$Object=Object,hasProto$1=function(){return{__proto__:test}.foo===test.foo&&!(test instanceof $Object)},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr$3=Object.prototype.toString,max=Math.max,funcType="[object Function]",concatty=function(fn,En){for(var Cn=[],_i=0;_i<fn.length;_i+=1)Cn[_i]=fn[_i];for(var An=0;An<En.length;An+=1)Cn[An+fn.length]=En[An];return Cn},slicy=function(fn,En){for(var Cn=[],_i=En,An=0;_i<fn.length;_i+=1,An+=1)Cn[An]=fn[_i];return Cn},joiny=function(vn,fn){for(var En="",Cn=0;Cn<vn.length;Cn+=1)En+=vn[Cn],Cn+1<vn.length&&(En+=fn);return En},implementation$1=function(fn){var En=this;if(typeof En!="function"||toStr$3.apply(En)!==funcType)throw new TypeError(ERROR_MESSAGE+En);for(var Cn=slicy(arguments,1),_i,An=function(){if(this instanceof _i){var ts=En.apply(this,concatty(Cn,arguments));return Object(ts)===ts?ts:this}return En.apply(fn,concatty(Cn,arguments))},ba=max(0,En.length-Cn.length),xa=[],$a=0;$a<ba;$a++)xa[$a]="$"+$a;if(_i=Function("binder","return function ("+joiny(xa,",")+"){ return binder.apply(this,arguments); }")(An),En.prototype){var rs=function(){};rs.prototype=En.prototype,_i.prototype=new rs,rs.prototype=null}return _i},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,call=Function.prototype.call,$hasOwn=Object.prototype.hasOwnProperty,bind$1=functionBind,hasown=bind$1.call(call,$hasOwn),undefined$1,$Error=esErrors,$EvalError=_eval,$RangeError=range,$ReferenceError=ref,$SyntaxError$1=syntax,$TypeError$2=type,$URIError=uri,$Function=Function,getEvalledConstructor=function(vn){try{return $Function('"use strict"; return ('+vn+").constructor;")()}catch{}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch{$gOPD$1=null}var throwTypeError=function(){throw new $TypeError$2},ThrowTypeError=$gOPD$1?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols=hasSymbols$1(),hasProto=hasProto$1(),getProto$1=Object.getPrototypeOf||(hasProto?function(vn){return vn.__proto__}:null),needsEval={},TypedArray=typeof Uint8Array>"u"||!getProto$1?undefined$1:getProto$1(Uint8Array),INTRINSICS={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols&&getProto$1?getProto$1([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$Error,"%eval%":eval,"%EvalError%":$EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols&&getProto$1?getProto$1(getProto$1([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols||!getProto$1?undefined$1:getProto$1(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":$RangeError,"%ReferenceError%":$ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols||!getProto$1?undefined$1:getProto$1(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols&&getProto$1?getProto$1(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$2,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":$URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet};if(getProto$1)try{null.error}catch(vn){var errorProto=getProto$1(getProto$1(vn));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function vn(fn){var En;if(fn==="%AsyncFunction%")En=getEvalledConstructor("async function () {}");else if(fn==="%GeneratorFunction%")En=getEvalledConstructor("function* () {}");else if(fn==="%AsyncGeneratorFunction%")En=getEvalledConstructor("async function* () {}");else if(fn==="%AsyncGenerator%"){var Cn=vn("%AsyncGeneratorFunction%");Cn&&(En=Cn.prototype)}else if(fn==="%AsyncIteratorPrototype%"){var _i=vn("%AsyncGenerator%");_i&&getProto$1&&(En=getProto$1(_i.prototype))}return INTRINSICS[fn]=En,En},LEGACY_ALIASES={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=functionBind,hasOwn=hasown,$concat=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),$exec=bind.call(Function.call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(fn){var En=$strSlice(fn,0,1),Cn=$strSlice(fn,-1);if(En==="%"&&Cn!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(Cn==="%"&&En!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var _i=[];return $replace(fn,rePropName,function(An,ba,xa,$a){_i[_i.length]=xa?$replace($a,reEscapeChar,"$1"):ba||An}),_i},getBaseIntrinsic=function(fn,En){var Cn=fn,_i;if(hasOwn(LEGACY_ALIASES,Cn)&&(_i=LEGACY_ALIASES[Cn],Cn="%"+_i[0]+"%"),hasOwn(INTRINSICS,Cn)){var An=INTRINSICS[Cn];if(An===needsEval&&(An=doEval(Cn)),typeof An>"u"&&!En)throw new $TypeError$2("intrinsic "+fn+" exists, but is not available. Please file an issue!");return{alias:_i,name:Cn,value:An}}throw new $SyntaxError$1("intrinsic "+fn+" does not exist!")},getIntrinsic=function(fn,En){if(typeof fn!="string"||fn.length===0)throw new $TypeError$2("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof En!="boolean")throw new $TypeError$2('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,fn)===null)throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Cn=stringToPath(fn),_i=Cn.length>0?Cn[0]:"",An=getBaseIntrinsic("%"+_i+"%",En),ba=An.name,xa=An.value,$a=!1,rs=An.alias;rs&&(_i=rs[0],$spliceApply(Cn,$concat([0,1],rs)));for(var ts=1,is=!0;ts<Cn.length;ts+=1){var cs=Cn[ts],us=$strSlice(cs,0,1),ps=$strSlice(cs,-1);if((us==='"'||us==="'"||us==="`"||ps==='"'||ps==="'"||ps==="`")&&us!==ps)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((cs==="constructor"||!is)&&($a=!0),_i+="."+cs,ba="%"+_i+"%",hasOwn(INTRINSICS,ba))xa=INTRINSICS[ba];else if(xa!=null){if(!(cs in xa)){if(!En)throw new $TypeError$2("base intrinsic for "+fn+" exists, but the property is not available.");return}if($gOPD$1&&ts+1>=Cn.length){var bs=$gOPD$1(xa,cs);is=!!bs,is&&"get"in bs&&!("originalValue"in bs.get)?xa=bs.get:xa=xa[cs]}else is=hasOwn(xa,cs),xa=xa[cs];is&&!$a&&(INTRINSICS[ba]=xa)}}return xa},callBind$2={exports:{}},esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var vn=getIntrinsic,fn=vn("%Object.defineProperty%",!0)||!1;if(fn)try{fn({},"a",{value:1})}catch{fn=!1}return esDefineProperty=fn,esDefineProperty}var GetIntrinsic$2=getIntrinsic,$gOPD=GetIntrinsic$2("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch{$gOPD=null}var gopd$1=$gOPD,$defineProperty$1=requireEsDefineProperty(),$SyntaxError=syntax,$TypeError$1=type,gopd=gopd$1,defineDataProperty=function(fn,En,Cn){if(!fn||typeof fn!="object"&&typeof fn!="function")throw new $TypeError$1("`obj` must be an object or a function`");if(typeof En!="string"&&typeof En!="symbol")throw new $TypeError$1("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $TypeError$1("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $TypeError$1("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $TypeError$1("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $TypeError$1("`loose`, if provided, must be a boolean");var _i=arguments.length>3?arguments[3]:null,An=arguments.length>4?arguments[4]:null,ba=arguments.length>5?arguments[5]:null,xa=arguments.length>6?arguments[6]:!1,$a=!!gopd&&gopd(fn,En);if($defineProperty$1)$defineProperty$1(fn,En,{configurable:ba===null&&$a?$a.configurable:!ba,enumerable:_i===null&&$a?$a.enumerable:!_i,value:Cn,writable:An===null&&$a?$a.writable:!An});else if(xa||!_i&&!An&&!ba)fn[En]=Cn;else throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},$defineProperty=requireEsDefineProperty(),hasPropertyDescriptors=function(){return!!$defineProperty};hasPropertyDescriptors.hasArrayLengthDefineBug=function(){if(!$defineProperty)return null;try{return $defineProperty([],"length",{value:1}).length!==1}catch{return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors,GetIntrinsic$1=getIntrinsic,define=defineDataProperty,hasDescriptors=hasPropertyDescriptors_1(),gOPD$1=gopd$1,$TypeError=type,$floor=GetIntrinsic$1("%Math.floor%"),setFunctionLength=function(fn,En){if(typeof fn!="function")throw new $TypeError("`fn` is not a function");if(typeof En!="number"||En<0||En>4294967295||$floor(En)!==En)throw new $TypeError("`length` must be a positive 32-bit integer");var Cn=arguments.length>2&&!!arguments[2],_i=!0,An=!0;if("length"in fn&&gOPD$1){var ba=gOPD$1(fn,"length");ba&&!ba.configurable&&(_i=!1),ba&&!ba.writable&&(An=!1)}return(_i||An||!Cn)&&(hasDescriptors?define(fn,"length",En,!0,!0):define(fn,"length",En)),fn};(function(vn){var fn=functionBind,En=getIntrinsic,Cn=setFunctionLength,_i=type,An=En("%Function.prototype.apply%"),ba=En("%Function.prototype.call%"),xa=En("%Reflect.apply%",!0)||fn.call(ba,An),$a=requireEsDefineProperty(),rs=En("%Math.max%");vn.exports=function(cs){if(typeof cs!="function")throw new _i("a function is required");var us=xa(fn,ba,arguments);return Cn(us,1+rs(0,cs.length-(arguments.length-1)),!0)};var ts=function(){return xa(fn,An,arguments)};$a?$a(vn.exports,"apply",{value:ts}):vn.exports.apply=ts})(callBind$2);var callBindExports=callBind$2.exports,GetIntrinsic=getIntrinsic,callBind$1=callBindExports,$indexOf$1=callBind$1(GetIntrinsic("String.prototype.indexOf")),callBound$2=function(fn,En){var Cn=GetIntrinsic(fn,!!En);return typeof Cn=="function"&&$indexOf$1(fn,".prototype.")>-1?callBind$1(Cn):Cn},hasToStringTag$3=shams(),callBound$1=callBound$2,$toString$1=callBound$1("Object.prototype.toString"),isStandardArguments=function(fn){return hasToStringTag$3&&fn&&typeof fn=="object"&&Symbol.toStringTag in fn?!1:$toString$1(fn)==="[object Arguments]"},isLegacyArguments=function(fn){return isStandardArguments(fn)?!0:fn!==null&&typeof fn=="object"&&typeof fn.length=="number"&&fn.length>=0&&$toString$1(fn)!=="[object Array]"&&$toString$1(fn.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$2=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$2=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function(fn){if(typeof fn!="function")return!1;if(isFnRegex.test(fnToStr$1.call(fn)))return!0;if(!hasToStringTag$2){var En=toStr$2.call(fn);return En==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction>"u"){var Cn=getGeneratorFunc();GeneratorFunction=Cn?getProto(Cn):!1}return getProto(fn)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(vn){vn!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function(fn){try{var En=fnToStr.call(fn);return constructorRegex.test(En)}catch{return!1}},tryFunctionObject=function(fn){try{return isES6ClassFn(fn)?!1:(fnToStr.call(fn),!0)}catch{return!1}},toStr$1=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$1=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function(){return!1};if(typeof document=="object"){var all=document.all;toStr$1.call(all)===toStr$1.call(document.all)&&(isDDA=function(fn){if((isIE68||!fn)&&(typeof fn>"u"||typeof fn=="object"))try{var En=toStr$1.call(fn);return(En===ddaClass||En===ddaClass2||En===ddaClass3||En===objectClass)&&fn("")==null}catch{}return!1})}var isCallable$1=reflectApply?function(fn){if(isDDA(fn))return!0;if(!fn||typeof fn!="function"&&typeof fn!="object")return!1;try{reflectApply(fn,null,badArrayLike)}catch(En){if(En!==isCallableMarker)return!1}return!isES6ClassFn(fn)&&tryFunctionObject(fn)}:function(fn){if(isDDA(fn))return!0;if(!fn||typeof fn!="function"&&typeof fn!="object")return!1;if(hasToStringTag$1)return tryFunctionObject(fn);if(isES6ClassFn(fn))return!1;var En=toStr$1.call(fn);return En!==fnClass&&En!==genClass&&!/^\[object HTML/.test(En)?!1:tryFunctionObject(fn)},isCallable=isCallable$1,toStr=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,forEachArray=function(fn,En,Cn){for(var _i=0,An=fn.length;_i<An;_i++)hasOwnProperty.call(fn,_i)&&(Cn==null?En(fn[_i],_i,fn):En.call(Cn,fn[_i],_i,fn))},forEachString=function(fn,En,Cn){for(var _i=0,An=fn.length;_i<An;_i++)Cn==null?En(fn.charAt(_i),_i,fn):En.call(Cn,fn.charAt(_i),_i,fn)},forEachObject=function(fn,En,Cn){for(var _i in fn)hasOwnProperty.call(fn,_i)&&(Cn==null?En(fn[_i],_i,fn):En.call(Cn,fn[_i],_i,fn))},forEach$1=function(fn,En,Cn){if(!isCallable(En))throw new TypeError("iterator must be a function");var _i;arguments.length>=3&&(_i=Cn),toStr.call(fn)==="[object Array]"?forEachArray(fn,En,_i):typeof fn=="string"?forEachString(fn,En,_i):forEachObject(fn,En,_i)},forEach_1=forEach$1,possibleTypedArrayNames=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],possibleNames=possibleTypedArrayNames,g$5=typeof globalThis>"u"?commonjsGlobal:globalThis,availableTypedArrays$1=function(){for(var fn=[],En=0;En<possibleNames.length;En++)typeof g$5[possibleNames[En]]=="function"&&(fn[fn.length]=possibleNames[En]);return fn},forEach=forEach_1,availableTypedArrays=availableTypedArrays$1,callBind=callBindExports,callBound=callBound$2,gOPD=gopd$1,$toString=callBound("Object.prototype.toString"),hasToStringTag=shams(),g$4=typeof globalThis>"u"?commonjsGlobal:globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),getPrototypeOf=Object.getPrototypeOf,$indexOf=callBound("Array.prototype.indexOf",!0)||function(fn,En){for(var Cn=0;Cn<fn.length;Cn+=1)if(fn[Cn]===En)return Cn;return-1},cache={__proto__:null};hasToStringTag&&gOPD&&getPrototypeOf?forEach(typedArrays,function(vn){var fn=new g$4[vn];if(Symbol.toStringTag in fn){var En=getPrototypeOf(fn),Cn=gOPD(En,Symbol.toStringTag);if(!Cn){var _i=getPrototypeOf(En);Cn=gOPD(_i,Symbol.toStringTag)}cache["$"+vn]=callBind(Cn.get)}}):forEach(typedArrays,function(vn){var fn=new g$4[vn],En=fn.slice||fn.set;En&&(cache["$"+vn]=callBind(En))});var tryTypedArrays=function(fn){var En=!1;return forEach(cache,function(Cn,_i){if(!En)try{"$"+Cn(fn)===_i&&(En=$slice(_i,1))}catch{}}),En},trySlices=function(fn){var En=!1;return forEach(cache,function(Cn,_i){if(!En)try{Cn(fn),En=$slice(_i,1)}catch{}}),En},whichTypedArray$1=function(fn){if(!fn||typeof fn!="object")return!1;if(!hasToStringTag){var En=$slice($toString(fn),8,-1);return $indexOf(typedArrays,En)>-1?En:En!=="Object"?!1:trySlices(fn)}return gOPD?tryTypedArrays(fn):null},whichTypedArray=whichTypedArray$1,isTypedArray=function(fn){return!!whichTypedArray(fn)};(function(vn){var fn=isArguments,En=isGeneratorFunction,Cn=whichTypedArray$1,_i=isTypedArray;function An(S0){return S0.call.bind(S0)}var ba=typeof BigInt<"u",xa=typeof Symbol<"u",$a=An(Object.prototype.toString),rs=An(Number.prototype.valueOf),ts=An(String.prototype.valueOf),is=An(Boolean.prototype.valueOf);if(ba)var cs=An(BigInt.prototype.valueOf);if(xa)var us=An(Symbol.prototype.valueOf);function ps(S0,_o){if(typeof S0!="object")return!1;try{return _o(S0),!0}catch{return!1}}vn.isArgumentsObject=fn,vn.isGeneratorFunction=En,vn.isTypedArray=_i;function bs(S0){return typeof Promise<"u"&&S0 instanceof Promise||S0!==null&&typeof S0=="object"&&typeof S0.then=="function"&&typeof S0.catch=="function"}vn.isPromise=bs;function e0(S0){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(S0):_i(S0)||a0(S0)}vn.isArrayBufferView=e0;function gs(S0){return Cn(S0)==="Uint8Array"}vn.isUint8Array=gs;function Ds(S0){return Cn(S0)==="Uint8ClampedArray"}vn.isUint8ClampedArray=Ds;function i0(S0){return Cn(S0)==="Uint16Array"}vn.isUint16Array=i0;function n0(S0){return Cn(S0)==="Uint32Array"}vn.isUint32Array=n0;function c0(S0){return Cn(S0)==="Int8Array"}vn.isInt8Array=c0;function d0(S0){return Cn(S0)==="Int16Array"}vn.isInt16Array=d0;function o0(S0){return Cn(S0)==="Int32Array"}vn.isInt32Array=o0;function g0(S0){return Cn(S0)==="Float32Array"}vn.isFloat32Array=g0;function w0(S0){return Cn(S0)==="Float64Array"}vn.isFloat64Array=w0;function M0(S0){return Cn(S0)==="BigInt64Array"}vn.isBigInt64Array=M0;function ds(S0){return Cn(S0)==="BigUint64Array"}vn.isBigUint64Array=ds;function na(S0){return $a(S0)==="[object Map]"}na.working=typeof Map<"u"&&na(new Map);function _a(S0){return typeof Map>"u"?!1:na.working?na(S0):S0 instanceof Map}vn.isMap=_a;function es(S0){return $a(S0)==="[object Set]"}es.working=typeof Set<"u"&&es(new Set);function ns(S0){return typeof Set>"u"?!1:es.working?es(S0):S0 instanceof Set}vn.isSet=ns;function os(S0){return $a(S0)==="[object WeakMap]"}os.working=typeof WeakMap<"u"&&os(new WeakMap);function ls(S0){return typeof WeakMap>"u"?!1:os.working?os(S0):S0 instanceof WeakMap}vn.isWeakMap=ls;function hs(S0){return $a(S0)==="[object WeakSet]"}hs.working=typeof WeakSet<"u"&&hs(new WeakSet);function ss(S0){return hs(S0)}vn.isWeakSet=ss;function ga(S0){return $a(S0)==="[object ArrayBuffer]"}ga.working=typeof ArrayBuffer<"u"&&ga(new ArrayBuffer);function as(S0){return typeof ArrayBuffer>"u"?!1:ga.working?ga(S0):S0 instanceof ArrayBuffer}vn.isArrayBuffer=as;function r0(S0){return $a(S0)==="[object DataView]"}r0.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&r0(new DataView(new ArrayBuffer(1),0,1));function a0(S0){return typeof DataView>"u"?!1:r0.working?r0(S0):S0 instanceof DataView}vn.isDataView=a0;var l0=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function s0(S0){return $a(S0)==="[object SharedArrayBuffer]"}function b0(S0){return typeof l0>"u"?!1:(typeof s0.working>"u"&&(s0.working=s0(new l0)),s0.working?s0(S0):S0 instanceof l0)}vn.isSharedArrayBuffer=b0;function f0(S0){return $a(S0)==="[object AsyncFunction]"}vn.isAsyncFunction=f0;function m0(S0){return $a(S0)==="[object Map Iterator]"}vn.isMapIterator=m0;function y0(S0){return $a(S0)==="[object Set Iterator]"}vn.isSetIterator=y0;function t0(S0){return $a(S0)==="[object Generator]"}vn.isGeneratorObject=t0;function h0(S0){return $a(S0)==="[object WebAssembly.Module]"}vn.isWebAssemblyCompiledModule=h0;function p0(S0){return ps(S0,rs)}vn.isNumberObject=p0;function E0(S0){return ps(S0,ts)}vn.isStringObject=E0;function I0(S0){return ps(S0,is)}vn.isBooleanObject=I0;function C0(S0){return ba&&ps(S0,cs)}vn.isBigIntObject=C0;function $0(S0){return xa&&ps(S0,us)}vn.isSymbolObject=$0;function vo(S0){return p0(S0)||E0(S0)||I0(S0)||C0(S0)||$0(S0)}vn.isBoxedPrimitive=vo;function P0(S0){return typeof Uint8Array<"u"&&(as(S0)||b0(S0))}vn.isAnyArrayBuffer=P0,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(S0){Object.defineProperty(vn,S0,{enumerable:!1,value:function(){throw new Error(S0+" is not supported in userland")}})})})(types$1);var isBufferBrowser=function(fn){return fn&&typeof fn=="object"&&typeof fn.copy=="function"&&typeof fn.fill=="function"&&typeof fn.readUInt8=="function"};(function(vn){var fn={},En=Object.getOwnPropertyDescriptors||function(l0){for(var s0=Object.keys(l0),b0={},f0=0;f0<s0.length;f0++)b0[s0[f0]]=Object.getOwnPropertyDescriptor(l0,s0[f0]);return b0},Cn=/%[sdj%]/g;vn.format=function(a0){if(!d0(a0)){for(var l0=[],s0=0;s0<arguments.length;s0++)l0.push(xa(arguments[s0]));return l0.join(" ")}for(var s0=1,b0=arguments,f0=b0.length,m0=String(a0).replace(Cn,function(t0){if(t0==="%%")return"%";if(s0>=f0)return t0;switch(t0){case"%s":return String(b0[s0++]);case"%d":return Number(b0[s0++]);case"%j":try{return JSON.stringify(b0[s0++])}catch{return"[Circular]"}default:return t0}}),y0=b0[s0];s0<f0;y0=b0[++s0])i0(y0)||!M0(y0)?m0+=" "+y0:m0+=" "+xa(y0);return m0},vn.deprecate=function(a0,l0){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return a0;if(typeof process$1>"u")return function(){return vn.deprecate(a0,l0).apply(this,arguments)};var s0=!1;function b0(){if(!s0){if(process$1.throwDeprecation)throw new Error(l0);process$1.traceDeprecation?console.trace(l0):console.error(l0),s0=!0}return a0.apply(this,arguments)}return b0};var _i={},An=/^$/;if(fn.NODE_DEBUG){var ba=fn.NODE_DEBUG;ba=ba.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),An=new RegExp("^"+ba+"$","i")}vn.debuglog=function(a0){if(a0=a0.toUpperCase(),!_i[a0])if(An.test(a0)){var l0=process$1.pid;_i[a0]=function(){var s0=vn.format.apply(vn,arguments);console.error("%s %d: %s",a0,l0,s0)}}else _i[a0]=function(){};return _i[a0]};function xa(a0,l0){var s0={seen:[],stylize:rs};return arguments.length>=3&&(s0.depth=arguments[2]),arguments.length>=4&&(s0.colors=arguments[3]),Ds(l0)?s0.showHidden=l0:l0&&vn._extend(s0,l0),g0(s0.showHidden)&&(s0.showHidden=!1),g0(s0.depth)&&(s0.depth=2),g0(s0.colors)&&(s0.colors=!1),g0(s0.customInspect)&&(s0.customInspect=!0),s0.colors&&(s0.stylize=$a),is(s0,a0,s0.depth)}vn.inspect=xa,xa.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},xa.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function $a(a0,l0){var s0=xa.styles[l0];return s0?"\x1B["+xa.colors[s0][0]+"m"+a0+"\x1B["+xa.colors[s0][1]+"m":a0}function rs(a0,l0){return a0}function ts(a0){var l0={};return a0.forEach(function(s0,b0){l0[s0]=!0}),l0}function is(a0,l0,s0){if(a0.customInspect&&l0&&_a(l0.inspect)&&l0.inspect!==vn.inspect&&!(l0.constructor&&l0.constructor.prototype===l0)){var b0=l0.inspect(s0,a0);return d0(b0)||(b0=is(a0,b0,s0)),b0}var f0=cs(a0,l0);if(f0)return f0;var m0=Object.keys(l0),y0=ts(m0);if(a0.showHidden&&(m0=Object.getOwnPropertyNames(l0)),na(l0)&&(m0.indexOf("message")>=0||m0.indexOf("description")>=0))return us(l0);if(m0.length===0){if(_a(l0)){var t0=l0.name?": "+l0.name:"";return a0.stylize("[Function"+t0+"]","special")}if(w0(l0))return a0.stylize(RegExp.prototype.toString.call(l0),"regexp");if(ds(l0))return a0.stylize(Date.prototype.toString.call(l0),"date");if(na(l0))return us(l0)}var h0="",p0=!1,E0=["{","}"];if(gs(l0)&&(p0=!0,E0=["[","]"]),_a(l0)){var I0=l0.name?": "+l0.name:"";h0=" [Function"+I0+"]"}if(w0(l0)&&(h0=" "+RegExp.prototype.toString.call(l0)),ds(l0)&&(h0=" "+Date.prototype.toUTCString.call(l0)),na(l0)&&(h0=" "+us(l0)),m0.length===0&&(!p0||l0.length==0))return E0[0]+h0+E0[1];if(s0<0)return w0(l0)?a0.stylize(RegExp.prototype.toString.call(l0),"regexp"):a0.stylize("[Object]","special");a0.seen.push(l0);var C0;return p0?C0=ps(a0,l0,s0,y0,m0):C0=m0.map(function($0){return bs(a0,l0,s0,y0,$0,p0)}),a0.seen.pop(),e0(C0,h0,E0)}function cs(a0,l0){if(g0(l0))return a0.stylize("undefined","undefined");if(d0(l0)){var s0="'"+JSON.stringify(l0).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a0.stylize(s0,"string")}if(c0(l0))return a0.stylize(""+l0,"number");if(Ds(l0))return a0.stylize(""+l0,"boolean");if(i0(l0))return a0.stylize("null","null")}function us(a0){return"["+Error.prototype.toString.call(a0)+"]"}function ps(a0,l0,s0,b0,f0){for(var m0=[],y0=0,t0=l0.length;y0<t0;++y0)ss(l0,String(y0))?m0.push(bs(a0,l0,s0,b0,String(y0),!0)):m0.push("");return f0.forEach(function(h0){h0.match(/^\d+$/)||m0.push(bs(a0,l0,s0,b0,h0,!0))}),m0}function bs(a0,l0,s0,b0,f0,m0){var y0,t0,h0;if(h0=Object.getOwnPropertyDescriptor(l0,f0)||{value:l0[f0]},h0.get?h0.set?t0=a0.stylize("[Getter/Setter]","special"):t0=a0.stylize("[Getter]","special"):h0.set&&(t0=a0.stylize("[Setter]","special")),ss(b0,f0)||(y0="["+f0+"]"),t0||(a0.seen.indexOf(h0.value)<0?(i0(s0)?t0=is(a0,h0.value,null):t0=is(a0,h0.value,s0-1),t0.indexOf(`
`)>-1&&(m0?t0=t0.split(`
`).map(function(p0){return"  "+p0}).join(`
`).slice(2):t0=`
`+t0.split(`
`).map(function(p0){return"   "+p0}).join(`
`))):t0=a0.stylize("[Circular]","special")),g0(y0)){if(m0&&f0.match(/^\d+$/))return t0;y0=JSON.stringify(""+f0),y0.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(y0=y0.slice(1,-1),y0=a0.stylize(y0,"name")):(y0=y0.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),y0=a0.stylize(y0,"string"))}return y0+": "+t0}function e0(a0,l0,s0){var b0=a0.reduce(function(f0,m0){return m0.indexOf(`
`)>=0,f0+m0.replace(/\u001b\[\d\d?m/g,"").length+1},0);return b0>60?s0[0]+(l0===""?"":l0+`
 `)+" "+a0.join(`,
  `)+" "+s0[1]:s0[0]+l0+" "+a0.join(", ")+" "+s0[1]}vn.types=types$1;function gs(a0){return Array.isArray(a0)}vn.isArray=gs;function Ds(a0){return typeof a0=="boolean"}vn.isBoolean=Ds;function i0(a0){return a0===null}vn.isNull=i0;function n0(a0){return a0==null}vn.isNullOrUndefined=n0;function c0(a0){return typeof a0=="number"}vn.isNumber=c0;function d0(a0){return typeof a0=="string"}vn.isString=d0;function o0(a0){return typeof a0=="symbol"}vn.isSymbol=o0;function g0(a0){return a0===void 0}vn.isUndefined=g0;function w0(a0){return M0(a0)&&ns(a0)==="[object RegExp]"}vn.isRegExp=w0,vn.types.isRegExp=w0;function M0(a0){return typeof a0=="object"&&a0!==null}vn.isObject=M0;function ds(a0){return M0(a0)&&ns(a0)==="[object Date]"}vn.isDate=ds,vn.types.isDate=ds;function na(a0){return M0(a0)&&(ns(a0)==="[object Error]"||a0 instanceof Error)}vn.isError=na,vn.types.isNativeError=na;function _a(a0){return typeof a0=="function"}vn.isFunction=_a;function es(a0){return a0===null||typeof a0=="boolean"||typeof a0=="number"||typeof a0=="string"||typeof a0=="symbol"||typeof a0>"u"}vn.isPrimitive=es,vn.isBuffer=isBufferBrowser;function ns(a0){return Object.prototype.toString.call(a0)}function os(a0){return a0<10?"0"+a0.toString(10):a0.toString(10)}var ls=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function hs(){var a0=new Date,l0=[os(a0.getHours()),os(a0.getMinutes()),os(a0.getSeconds())].join(":");return[a0.getDate(),ls[a0.getMonth()],l0].join(" ")}vn.log=function(){console.log("%s - %s",hs(),vn.format.apply(vn,arguments))},vn.inherits=inherits_browserExports,vn._extend=function(a0,l0){if(!l0||!M0(l0))return a0;for(var s0=Object.keys(l0),b0=s0.length;b0--;)a0[s0[b0]]=l0[s0[b0]];return a0};function ss(a0,l0){return Object.prototype.hasOwnProperty.call(a0,l0)}var ga=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;vn.promisify=function(l0){if(typeof l0!="function")throw new TypeError('The "original" argument must be of type Function');if(ga&&l0[ga]){var s0=l0[ga];if(typeof s0!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(s0,ga,{value:s0,enumerable:!1,writable:!1,configurable:!0}),s0}function s0(){for(var b0,f0,m0=new Promise(function(h0,p0){b0=h0,f0=p0}),y0=[],t0=0;t0<arguments.length;t0++)y0.push(arguments[t0]);y0.push(function(h0,p0){h0?f0(h0):b0(p0)});try{l0.apply(this,y0)}catch(h0){f0(h0)}return m0}return Object.setPrototypeOf(s0,Object.getPrototypeOf(l0)),ga&&Object.defineProperty(s0,ga,{value:s0,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(s0,En(l0))},vn.promisify.custom=ga;function as(a0,l0){if(!a0){var s0=new Error("Promise was rejected with a falsy value");s0.reason=a0,a0=s0}return l0(a0)}function r0(a0){if(typeof a0!="function")throw new TypeError('The "original" argument must be of type Function');function l0(){for(var s0=[],b0=0;b0<arguments.length;b0++)s0.push(arguments[b0]);var f0=s0.pop();if(typeof f0!="function")throw new TypeError("The last argument must be of type Function");var m0=this,y0=function(){return f0.apply(m0,arguments)};a0.apply(this,s0).then(function(t0){process$1.nextTick(y0.bind(null,null,t0))},function(t0){process$1.nextTick(as.bind(null,t0,y0))})}return Object.setPrototypeOf(l0,Object.getPrototypeOf(a0)),Object.defineProperties(l0,En(a0)),l0}vn.callbackify=r0})(util$1);var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function vn(ps,bs){var e0=Object.keys(ps);if(Object.getOwnPropertySymbols){var gs=Object.getOwnPropertySymbols(ps);bs&&(gs=gs.filter(function(Ds){return Object.getOwnPropertyDescriptor(ps,Ds).enumerable})),e0.push.apply(e0,gs)}return e0}function fn(ps){for(var bs=1;bs<arguments.length;bs++){var e0=arguments[bs]!=null?arguments[bs]:{};bs%2?vn(Object(e0),!0).forEach(function(gs){En(ps,gs,e0[gs])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ps,Object.getOwnPropertyDescriptors(e0)):vn(Object(e0)).forEach(function(gs){Object.defineProperty(ps,gs,Object.getOwnPropertyDescriptor(e0,gs))})}return ps}function En(ps,bs,e0){return bs=ba(bs),bs in ps?Object.defineProperty(ps,bs,{value:e0,enumerable:!0,configurable:!0,writable:!0}):ps[bs]=e0,ps}function Cn(ps,bs){if(!(ps instanceof bs))throw new TypeError("Cannot call a class as a function")}function _i(ps,bs){for(var e0=0;e0<bs.length;e0++){var gs=bs[e0];gs.enumerable=gs.enumerable||!1,gs.configurable=!0,"value"in gs&&(gs.writable=!0),Object.defineProperty(ps,ba(gs.key),gs)}}function An(ps,bs,e0){return bs&&_i(ps.prototype,bs),Object.defineProperty(ps,"prototype",{writable:!1}),ps}function ba(ps){var bs=xa(ps,"string");return typeof bs=="symbol"?bs:String(bs)}function xa(ps,bs){if(typeof ps!="object"||ps===null)return ps;var e0=ps[Symbol.toPrimitive];if(e0!==void 0){var gs=e0.call(ps,bs||"default");if(typeof gs!="object")return gs;throw new TypeError("@@toPrimitive must return a primitive value.")}return(bs==="string"?String:Number)(ps)}var $a=require$$0$a,rs=$a.Buffer,ts=util$1,is=ts.inspect,cs=is&&is.custom||"inspect";function us(ps,bs,e0){rs.prototype.copy.call(ps,bs,e0)}return buffer_list=function(){function ps(){Cn(this,ps),this.head=null,this.tail=null,this.length=0}return An(ps,[{key:"push",value:function(e0){var gs={data:e0,next:null};this.length>0?this.tail.next=gs:this.head=gs,this.tail=gs,++this.length}},{key:"unshift",value:function(e0){var gs={data:e0,next:this.head};this.length===0&&(this.tail=gs),this.head=gs,++this.length}},{key:"shift",value:function(){if(this.length!==0){var e0=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e0}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e0){if(this.length===0)return"";for(var gs=this.head,Ds=""+gs.data;gs=gs.next;)Ds+=e0+gs.data;return Ds}},{key:"concat",value:function(e0){if(this.length===0)return rs.alloc(0);for(var gs=rs.allocUnsafe(e0>>>0),Ds=this.head,i0=0;Ds;)us(Ds.data,gs,i0),i0+=Ds.data.length,Ds=Ds.next;return gs}},{key:"consume",value:function(e0,gs){var Ds;return e0<this.head.data.length?(Ds=this.head.data.slice(0,e0),this.head.data=this.head.data.slice(e0)):e0===this.head.data.length?Ds=this.shift():Ds=gs?this._getString(e0):this._getBuffer(e0),Ds}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e0){var gs=this.head,Ds=1,i0=gs.data;for(e0-=i0.length;gs=gs.next;){var n0=gs.data,c0=e0>n0.length?n0.length:e0;if(c0===n0.length?i0+=n0:i0+=n0.slice(0,e0),e0-=c0,e0===0){c0===n0.length?(++Ds,gs.next?this.head=gs.next:this.head=this.tail=null):(this.head=gs,gs.data=n0.slice(c0));break}++Ds}return this.length-=Ds,i0}},{key:"_getBuffer",value:function(e0){var gs=rs.allocUnsafe(e0),Ds=this.head,i0=1;for(Ds.data.copy(gs),e0-=Ds.data.length;Ds=Ds.next;){var n0=Ds.data,c0=e0>n0.length?n0.length:e0;if(n0.copy(gs,gs.length-e0,0,c0),e0-=c0,e0===0){c0===n0.length?(++i0,Ds.next?this.head=Ds.next:this.head=this.tail=null):(this.head=Ds,Ds.data=n0.slice(c0));break}++i0}return this.length-=i0,gs}},{key:cs,value:function(e0,gs){return is(this,fn(fn({},gs),{},{depth:0,customInspect:!1}))}}]),ps}(),buffer_list}var destroy_1$1,hasRequiredDestroy$1;function requireDestroy$1(){if(hasRequiredDestroy$1)return destroy_1$1;hasRequiredDestroy$1=1;function vn(ba,xa){var $a=this,rs=this._readableState&&this._readableState.destroyed,ts=this._writableState&&this._writableState.destroyed;return rs||ts?(xa?xa(ba):ba&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(_i,this,ba)):process$1.nextTick(_i,this,ba)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(ba||null,function(is){!xa&&is?$a._writableState?$a._writableState.errorEmitted?process$1.nextTick(En,$a):($a._writableState.errorEmitted=!0,process$1.nextTick(fn,$a,is)):process$1.nextTick(fn,$a,is):xa?(process$1.nextTick(En,$a),xa(is)):process$1.nextTick(En,$a)}),this)}function fn(ba,xa){_i(ba,xa),En(ba)}function En(ba){ba._writableState&&!ba._writableState.emitClose||ba._readableState&&!ba._readableState.emitClose||ba.emit("close")}function Cn(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function _i(ba,xa){ba.emit("error",xa)}function An(ba,xa){var $a=ba._readableState,rs=ba._writableState;$a&&$a.autoDestroy||rs&&rs.autoDestroy?ba.destroy(xa):ba.emit("error",xa)}return destroy_1$1={destroy:vn,undestroy:Cn,errorOrDestroy:An},destroy_1$1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function vn(xa,$a){xa.prototype=Object.create($a.prototype),xa.prototype.constructor=xa,xa.__proto__=$a}var fn={};function En(xa,$a,rs){rs||(rs=Error);function ts(cs,us,ps){return typeof $a=="string"?$a:$a(cs,us,ps)}var is=function(cs){vn(us,cs);function us(ps,bs,e0){return cs.call(this,ts(ps,bs,e0))||this}return us}(rs);is.prototype.name=rs.name,is.prototype.code=xa,fn[xa]=is}function Cn(xa,$a){if(Array.isArray(xa)){var rs=xa.length;return xa=xa.map(function(ts){return String(ts)}),rs>2?"one of ".concat($a," ").concat(xa.slice(0,rs-1).join(", "),", or ")+xa[rs-1]:rs===2?"one of ".concat($a," ").concat(xa[0]," or ").concat(xa[1]):"of ".concat($a," ").concat(xa[0])}else return"of ".concat($a," ").concat(String(xa))}function _i(xa,$a,rs){return xa.substr(0,$a.length)===$a}function An(xa,$a,rs){return(rs===void 0||rs>xa.length)&&(rs=xa.length),xa.substring(rs-$a.length,rs)===$a}function ba(xa,$a,rs){return typeof rs!="number"&&(rs=0),rs+$a.length>xa.length?!1:xa.indexOf($a,rs)!==-1}return En("ERR_INVALID_OPT_VALUE",function(xa,$a){return'The value "'+$a+'" is invalid for option "'+xa+'"'},TypeError),En("ERR_INVALID_ARG_TYPE",function(xa,$a,rs){var ts;typeof $a=="string"&&_i($a,"not ")?(ts="must not be",$a=$a.replace(/^not /,"")):ts="must be";var is;if(An(xa," argument"))is="The ".concat(xa," ").concat(ts," ").concat(Cn($a,"type"));else{var cs=ba(xa,".")?"property":"argument";is='The "'.concat(xa,'" ').concat(cs," ").concat(ts," ").concat(Cn($a,"type"))}return is+=". Received type ".concat(typeof rs),is},TypeError),En("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),En("ERR_METHOD_NOT_IMPLEMENTED",function(xa){return"The "+xa+" method is not implemented"}),En("ERR_STREAM_PREMATURE_CLOSE","Premature close"),En("ERR_STREAM_DESTROYED",function(xa){return"Cannot call "+xa+" after a stream was destroyed"}),En("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),En("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),En("ERR_STREAM_WRITE_AFTER_END","write after end"),En("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),En("ERR_UNKNOWN_ENCODING",function(xa){return"Unknown encoding: "+xa},TypeError),En("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=fn,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var vn=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function fn(Cn,_i,An){return Cn.highWaterMark!=null?Cn.highWaterMark:_i?Cn[An]:null}function En(Cn,_i,An,ba){var xa=fn(_i,ba,An);if(xa!=null){if(!(isFinite(xa)&&Math.floor(xa)===xa)||xa<0){var $a=ba?An:"highWaterMark";throw new vn($a,xa)}return Math.floor(xa)}return Cn.objectMode?16:16*1024}return state={getHighWaterMark:En},state}var browser$c,hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$c;hasRequiredBrowser$a=1,browser$c=vn;function vn(En,Cn){if(fn("noDeprecation"))return En;var _i=!1;function An(){if(!_i){if(fn("throwDeprecation"))throw new Error(Cn);fn("traceDeprecation")?console.trace(Cn):console.warn(Cn),_i=!0}return En.apply(this,arguments)}return An}function fn(En){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var Cn=commonjsGlobal.localStorage[En];return Cn==null?!1:String(Cn).toLowerCase()==="true"}return browser$c}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=g0;function vn(b0){var f0=this;this.next=null,this.entry=null,this.finish=function(){s0(f0,b0)}}var fn;g0.WritableState=d0;var En={deprecate:requireBrowser$a()},Cn=requireStreamBrowser$1(),_i=require$$0$a.Buffer,An=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function ba(b0){return _i.from(b0)}function xa(b0){return _i.isBuffer(b0)||b0 instanceof An}var $a=requireDestroy$1(),rs=requireState(),ts=rs.getHighWaterMark,is=requireErrorsBrowser().codes,cs=is.ERR_INVALID_ARG_TYPE,us=is.ERR_METHOD_NOT_IMPLEMENTED,ps=is.ERR_MULTIPLE_CALLBACK,bs=is.ERR_STREAM_CANNOT_PIPE,e0=is.ERR_STREAM_DESTROYED,gs=is.ERR_STREAM_NULL_VALUES,Ds=is.ERR_STREAM_WRITE_AFTER_END,i0=is.ERR_UNKNOWN_ENCODING,n0=$a.errorOrDestroy;inherits_browserExports(g0,Cn);function c0(){}function d0(b0,f0,m0){fn=fn||require_stream_duplex$1(),b0=b0||{},typeof m0!="boolean"&&(m0=f0 instanceof fn),this.objectMode=!!b0.objectMode,m0&&(this.objectMode=this.objectMode||!!b0.writableObjectMode),this.highWaterMark=ts(this,b0,"writableHighWaterMark",m0),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var y0=b0.decodeStrings===!1;this.decodeStrings=!y0,this.defaultEncoding=b0.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t0){os(f0,t0)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=b0.emitClose!==!1,this.autoDestroy=!!b0.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new vn(this)}d0.prototype.getBuffer=function(){for(var f0=this.bufferedRequest,m0=[];f0;)m0.push(f0),f0=f0.next;return m0},function(){try{Object.defineProperty(d0.prototype,"buffer",{get:En.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var o0;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(o0=Function.prototype[Symbol.hasInstance],Object.defineProperty(g0,Symbol.hasInstance,{value:function(f0){return o0.call(this,f0)?!0:this!==g0?!1:f0&&f0._writableState instanceof d0}})):o0=function(f0){return f0 instanceof this};function g0(b0){fn=fn||require_stream_duplex$1();var f0=this instanceof fn;if(!f0&&!o0.call(g0,this))return new g0(b0);this._writableState=new d0(b0,this,f0),this.writable=!0,b0&&(typeof b0.write=="function"&&(this._write=b0.write),typeof b0.writev=="function"&&(this._writev=b0.writev),typeof b0.destroy=="function"&&(this._destroy=b0.destroy),typeof b0.final=="function"&&(this._final=b0.final)),Cn.call(this)}g0.prototype.pipe=function(){n0(this,new bs)};function w0(b0,f0){var m0=new Ds;n0(b0,m0),process$1.nextTick(f0,m0)}function M0(b0,f0,m0,y0){var t0;return m0===null?t0=new gs:typeof m0!="string"&&!f0.objectMode&&(t0=new cs("chunk",["string","Buffer"],m0)),t0?(n0(b0,t0),process$1.nextTick(y0,t0),!1):!0}g0.prototype.write=function(b0,f0,m0){var y0=this._writableState,t0=!1,h0=!y0.objectMode&&xa(b0);return h0&&!_i.isBuffer(b0)&&(b0=ba(b0)),typeof f0=="function"&&(m0=f0,f0=null),h0?f0="buffer":f0||(f0=y0.defaultEncoding),typeof m0!="function"&&(m0=c0),y0.ending?w0(this,m0):(h0||M0(this,y0,b0,m0))&&(y0.pendingcb++,t0=na(this,y0,h0,b0,f0,m0)),t0},g0.prototype.cork=function(){this._writableState.corked++},g0.prototype.uncork=function(){var b0=this._writableState;b0.corked&&(b0.corked--,!b0.writing&&!b0.corked&&!b0.bufferProcessing&&b0.bufferedRequest&&ss(this,b0))},g0.prototype.setDefaultEncoding=function(f0){if(typeof f0=="string"&&(f0=f0.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((f0+"").toLowerCase())>-1))throw new i0(f0);return this._writableState.defaultEncoding=f0,this},Object.defineProperty(g0.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ds(b0,f0,m0){return!b0.objectMode&&b0.decodeStrings!==!1&&typeof f0=="string"&&(f0=_i.from(f0,m0)),f0}Object.defineProperty(g0.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function na(b0,f0,m0,y0,t0,h0){if(!m0){var p0=ds(f0,y0,t0);y0!==p0&&(m0=!0,t0="buffer",y0=p0)}var E0=f0.objectMode?1:y0.length;f0.length+=E0;var I0=f0.length<f0.highWaterMark;if(I0||(f0.needDrain=!0),f0.writing||f0.corked){var C0=f0.lastBufferedRequest;f0.lastBufferedRequest={chunk:y0,encoding:t0,isBuf:m0,callback:h0,next:null},C0?C0.next=f0.lastBufferedRequest:f0.bufferedRequest=f0.lastBufferedRequest,f0.bufferedRequestCount+=1}else _a(b0,f0,!1,E0,y0,t0,h0);return I0}function _a(b0,f0,m0,y0,t0,h0,p0){f0.writelen=y0,f0.writecb=p0,f0.writing=!0,f0.sync=!0,f0.destroyed?f0.onwrite(new e0("write")):m0?b0._writev(t0,f0.onwrite):b0._write(t0,h0,f0.onwrite),f0.sync=!1}function es(b0,f0,m0,y0,t0){--f0.pendingcb,m0?(process$1.nextTick(t0,y0),process$1.nextTick(a0,b0,f0),b0._writableState.errorEmitted=!0,n0(b0,y0)):(t0(y0),b0._writableState.errorEmitted=!0,n0(b0,y0),a0(b0,f0))}function ns(b0){b0.writing=!1,b0.writecb=null,b0.length-=b0.writelen,b0.writelen=0}function os(b0,f0){var m0=b0._writableState,y0=m0.sync,t0=m0.writecb;if(typeof t0!="function")throw new ps;if(ns(m0),f0)es(b0,m0,y0,f0,t0);else{var h0=ga(m0)||b0.destroyed;!h0&&!m0.corked&&!m0.bufferProcessing&&m0.bufferedRequest&&ss(b0,m0),y0?process$1.nextTick(ls,b0,m0,h0,t0):ls(b0,m0,h0,t0)}}function ls(b0,f0,m0,y0){m0||hs(b0,f0),f0.pendingcb--,y0(),a0(b0,f0)}function hs(b0,f0){f0.length===0&&f0.needDrain&&(f0.needDrain=!1,b0.emit("drain"))}function ss(b0,f0){f0.bufferProcessing=!0;var m0=f0.bufferedRequest;if(b0._writev&&m0&&m0.next){var y0=f0.bufferedRequestCount,t0=new Array(y0),h0=f0.corkedRequestsFree;h0.entry=m0;for(var p0=0,E0=!0;m0;)t0[p0]=m0,m0.isBuf||(E0=!1),m0=m0.next,p0+=1;t0.allBuffers=E0,_a(b0,f0,!0,f0.length,t0,"",h0.finish),f0.pendingcb++,f0.lastBufferedRequest=null,h0.next?(f0.corkedRequestsFree=h0.next,h0.next=null):f0.corkedRequestsFree=new vn(f0),f0.bufferedRequestCount=0}else{for(;m0;){var I0=m0.chunk,C0=m0.encoding,$0=m0.callback,vo=f0.objectMode?1:I0.length;if(_a(b0,f0,!1,vo,I0,C0,$0),m0=m0.next,f0.bufferedRequestCount--,f0.writing)break}m0===null&&(f0.lastBufferedRequest=null)}f0.bufferedRequest=m0,f0.bufferProcessing=!1}g0.prototype._write=function(b0,f0,m0){m0(new us("_write()"))},g0.prototype._writev=null,g0.prototype.end=function(b0,f0,m0){var y0=this._writableState;return typeof b0=="function"?(m0=b0,b0=null,f0=null):typeof f0=="function"&&(m0=f0,f0=null),b0!=null&&this.write(b0,f0),y0.corked&&(y0.corked=1,this.uncork()),y0.ending||l0(this,y0,m0),this},Object.defineProperty(g0.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ga(b0){return b0.ending&&b0.length===0&&b0.bufferedRequest===null&&!b0.finished&&!b0.writing}function as(b0,f0){b0._final(function(m0){f0.pendingcb--,m0&&n0(b0,m0),f0.prefinished=!0,b0.emit("prefinish"),a0(b0,f0)})}function r0(b0,f0){!f0.prefinished&&!f0.finalCalled&&(typeof b0._final=="function"&&!f0.destroyed?(f0.pendingcb++,f0.finalCalled=!0,process$1.nextTick(as,b0,f0)):(f0.prefinished=!0,b0.emit("prefinish")))}function a0(b0,f0){var m0=ga(f0);if(m0&&(r0(b0,f0),f0.pendingcb===0&&(f0.finished=!0,b0.emit("finish"),f0.autoDestroy))){var y0=b0._readableState;(!y0||y0.autoDestroy&&y0.endEmitted)&&b0.destroy()}return m0}function l0(b0,f0,m0){f0.ending=!0,a0(b0,f0),m0&&(f0.finished?process$1.nextTick(m0):b0.once("finish",m0)),f0.ended=!0,b0.writable=!1}function s0(b0,f0,m0){var y0=b0.entry;for(b0.entry=null;y0;){var t0=y0.callback;f0.pendingcb--,t0(m0),y0=y0.next}f0.corkedRequestsFree.next=b0}return Object.defineProperty(g0.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(f0){this._writableState&&(this._writableState.destroyed=f0)}}),g0.prototype.destroy=$a.destroy,g0.prototype._undestroy=$a.undestroy,g0.prototype._destroy=function(b0,f0){f0(b0)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var vn=Object.keys||function(rs){var ts=[];for(var is in rs)ts.push(is);return ts};_stream_duplex$1=ba;var fn=require_stream_readable$1(),En=require_stream_writable$1();inherits_browserExports(ba,fn);for(var Cn=vn(En.prototype),_i=0;_i<Cn.length;_i++){var An=Cn[_i];ba.prototype[An]||(ba.prototype[An]=En.prototype[An])}function ba(rs){if(!(this instanceof ba))return new ba(rs);fn.call(this,rs),En.call(this,rs),this.allowHalfOpen=!0,rs&&(rs.readable===!1&&(this.readable=!1),rs.writable===!1&&(this.writable=!1),rs.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",xa)))}Object.defineProperty(ba.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(ba.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ba.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function xa(){this._writableState.ended||process$1.nextTick($a,this)}function $a(rs){rs.end()}return Object.defineProperty(ba.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(ts){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=ts,this._writableState.destroyed=ts)}}),_stream_duplex$1}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var vn=requireSafeBuffer$1().Buffer,fn=vn.isEncoding||function(gs){switch(gs=""+gs,gs&&gs.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function En(gs){if(!gs)return"utf8";for(var Ds;;)switch(gs){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return gs;default:if(Ds)return;gs=(""+gs).toLowerCase(),Ds=!0}}function Cn(gs){var Ds=En(gs);if(typeof Ds!="string"&&(vn.isEncoding===fn||!fn(gs)))throw new Error("Unknown encoding: "+gs);return Ds||gs}string_decoder.StringDecoder=_i;function _i(gs){this.encoding=Cn(gs);var Ds;switch(this.encoding){case"utf16le":this.text=is,this.end=cs,Ds=4;break;case"utf8":this.fillLast=$a,Ds=4;break;case"base64":this.text=us,this.end=ps,Ds=3;break;default:this.write=bs,this.end=e0;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=vn.allocUnsafe(Ds)}_i.prototype.write=function(gs){if(gs.length===0)return"";var Ds,i0;if(this.lastNeed){if(Ds=this.fillLast(gs),Ds===void 0)return"";i0=this.lastNeed,this.lastNeed=0}else i0=0;return i0<gs.length?Ds?Ds+this.text(gs,i0):this.text(gs,i0):Ds||""},_i.prototype.end=ts,_i.prototype.text=rs,_i.prototype.fillLast=function(gs){if(this.lastNeed<=gs.length)return gs.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);gs.copy(this.lastChar,this.lastTotal-this.lastNeed,0,gs.length),this.lastNeed-=gs.length};function An(gs){return gs<=127?0:gs>>5===6?2:gs>>4===14?3:gs>>3===30?4:gs>>6===2?-1:-2}function ba(gs,Ds,i0){var n0=Ds.length-1;if(n0<i0)return 0;var c0=An(Ds[n0]);return c0>=0?(c0>0&&(gs.lastNeed=c0-1),c0):--n0<i0||c0===-2?0:(c0=An(Ds[n0]),c0>=0?(c0>0&&(gs.lastNeed=c0-2),c0):--n0<i0||c0===-2?0:(c0=An(Ds[n0]),c0>=0?(c0>0&&(c0===2?c0=0:gs.lastNeed=c0-3),c0):0))}function xa(gs,Ds,i0){if((Ds[0]&192)!==128)return gs.lastNeed=0,"";if(gs.lastNeed>1&&Ds.length>1){if((Ds[1]&192)!==128)return gs.lastNeed=1,"";if(gs.lastNeed>2&&Ds.length>2&&(Ds[2]&192)!==128)return gs.lastNeed=2,""}}function $a(gs){var Ds=this.lastTotal-this.lastNeed,i0=xa(this,gs);if(i0!==void 0)return i0;if(this.lastNeed<=gs.length)return gs.copy(this.lastChar,Ds,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);gs.copy(this.lastChar,Ds,0,gs.length),this.lastNeed-=gs.length}function rs(gs,Ds){var i0=ba(this,gs,Ds);if(!this.lastNeed)return gs.toString("utf8",Ds);this.lastTotal=i0;var n0=gs.length-(i0-this.lastNeed);return gs.copy(this.lastChar,0,n0),gs.toString("utf8",Ds,n0)}function ts(gs){var Ds=gs&&gs.length?this.write(gs):"";return this.lastNeed?Ds+"":Ds}function is(gs,Ds){if((gs.length-Ds)%2===0){var i0=gs.toString("utf16le",Ds);if(i0){var n0=i0.charCodeAt(i0.length-1);if(n0>=55296&&n0<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=gs[gs.length-2],this.lastChar[1]=gs[gs.length-1],i0.slice(0,-1)}return i0}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=gs[gs.length-1],gs.toString("utf16le",Ds,gs.length-1)}function cs(gs){var Ds=gs&&gs.length?this.write(gs):"";if(this.lastNeed){var i0=this.lastTotal-this.lastNeed;return Ds+this.lastChar.toString("utf16le",0,i0)}return Ds}function us(gs,Ds){var i0=(gs.length-Ds)%3;return i0===0?gs.toString("base64",Ds):(this.lastNeed=3-i0,this.lastTotal=3,i0===1?this.lastChar[0]=gs[gs.length-1]:(this.lastChar[0]=gs[gs.length-2],this.lastChar[1]=gs[gs.length-1]),gs.toString("base64",Ds,gs.length-i0))}function ps(gs){var Ds=gs&&gs.length?this.write(gs):"";return this.lastNeed?Ds+this.lastChar.toString("base64",0,3-this.lastNeed):Ds}function bs(gs){return gs.toString(this.encoding)}function e0(gs){return gs&&gs.length?this.write(gs):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var vn=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function fn(An){var ba=!1;return function(){if(!ba){ba=!0;for(var xa=arguments.length,$a=new Array(xa),rs=0;rs<xa;rs++)$a[rs]=arguments[rs];An.apply(this,$a)}}}function En(){}function Cn(An){return An.setHeader&&typeof An.abort=="function"}function _i(An,ba,xa){if(typeof ba=="function")return _i(An,null,ba);ba||(ba={}),xa=fn(xa||En);var $a=ba.readable||ba.readable!==!1&&An.readable,rs=ba.writable||ba.writable!==!1&&An.writable,ts=function(){An.writable||cs()},is=An._writableState&&An._writableState.finished,cs=function(){rs=!1,is=!0,$a||xa.call(An)},us=An._readableState&&An._readableState.endEmitted,ps=function(){$a=!1,us=!0,rs||xa.call(An)},bs=function(i0){xa.call(An,i0)},e0=function(){var i0;if($a&&!us)return(!An._readableState||!An._readableState.ended)&&(i0=new vn),xa.call(An,i0);if(rs&&!is)return(!An._writableState||!An._writableState.ended)&&(i0=new vn),xa.call(An,i0)},gs=function(){An.req.on("finish",cs)};return Cn(An)?(An.on("complete",cs),An.on("abort",e0),An.req?gs():An.on("request",gs)):rs&&!An._writableState&&(An.on("end",ts),An.on("close",ts)),An.on("end",ps),An.on("finish",cs),ba.error!==!1&&An.on("error",bs),An.on("close",e0),function(){An.removeListener("complete",cs),An.removeListener("abort",e0),An.removeListener("request",gs),An.req&&An.req.removeListener("finish",cs),An.removeListener("end",ts),An.removeListener("close",ts),An.removeListener("finish",cs),An.removeListener("end",ps),An.removeListener("error",bs),An.removeListener("close",e0)}}return endOfStream=_i,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var vn;function fn(i0,n0,c0){return n0=En(n0),n0 in i0?Object.defineProperty(i0,n0,{value:c0,enumerable:!0,configurable:!0,writable:!0}):i0[n0]=c0,i0}function En(i0){var n0=Cn(i0,"string");return typeof n0=="symbol"?n0:String(n0)}function Cn(i0,n0){if(typeof i0!="object"||i0===null)return i0;var c0=i0[Symbol.toPrimitive];if(c0!==void 0){var d0=c0.call(i0,n0||"default");if(typeof d0!="object")return d0;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n0==="string"?String:Number)(i0)}var _i=requireEndOfStream(),An=Symbol("lastResolve"),ba=Symbol("lastReject"),xa=Symbol("error"),$a=Symbol("ended"),rs=Symbol("lastPromise"),ts=Symbol("handlePromise"),is=Symbol("stream");function cs(i0,n0){return{value:i0,done:n0}}function us(i0){var n0=i0[An];if(n0!==null){var c0=i0[is].read();c0!==null&&(i0[rs]=null,i0[An]=null,i0[ba]=null,n0(cs(c0,!1)))}}function ps(i0){process$1.nextTick(us,i0)}function bs(i0,n0){return function(c0,d0){i0.then(function(){if(n0[$a]){c0(cs(void 0,!0));return}n0[ts](c0,d0)},d0)}}var e0=Object.getPrototypeOf(function(){}),gs=Object.setPrototypeOf((vn={get stream(){return this[is]},next:function(){var n0=this,c0=this[xa];if(c0!==null)return Promise.reject(c0);if(this[$a])return Promise.resolve(cs(void 0,!0));if(this[is].destroyed)return new Promise(function(w0,M0){process$1.nextTick(function(){n0[xa]?M0(n0[xa]):w0(cs(void 0,!0))})});var d0=this[rs],o0;if(d0)o0=new Promise(bs(d0,this));else{var g0=this[is].read();if(g0!==null)return Promise.resolve(cs(g0,!1));o0=new Promise(this[ts])}return this[rs]=o0,o0}},fn(vn,Symbol.asyncIterator,function(){return this}),fn(vn,"return",function(){var n0=this;return new Promise(function(c0,d0){n0[is].destroy(null,function(o0){if(o0){d0(o0);return}c0(cs(void 0,!0))})})}),vn),e0),Ds=function(n0){var c0,d0=Object.create(gs,(c0={},fn(c0,is,{value:n0,writable:!0}),fn(c0,An,{value:null,writable:!0}),fn(c0,ba,{value:null,writable:!0}),fn(c0,xa,{value:null,writable:!0}),fn(c0,$a,{value:n0._readableState.endEmitted,writable:!0}),fn(c0,ts,{value:function(g0,w0){var M0=d0[is].read();M0?(d0[rs]=null,d0[An]=null,d0[ba]=null,g0(cs(M0,!1))):(d0[An]=g0,d0[ba]=w0)},writable:!0}),c0));return d0[rs]=null,_i(n0,function(o0){if(o0&&o0.code!=="ERR_STREAM_PREMATURE_CLOSE"){var g0=d0[ba];g0!==null&&(d0[rs]=null,d0[An]=null,d0[ba]=null,g0(o0)),d0[xa]=o0;return}var w0=d0[An];w0!==null&&(d0[rs]=null,d0[An]=null,d0[ba]=null,w0(cs(void 0,!0))),d0[$a]=!0}),n0.on("readable",ps.bind(null,d0)),d0};return async_iterator=Ds,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=w0;var vn;w0.ReadableState=g0,eventsExports.EventEmitter;var fn=function(p0,E0){return p0.listeners(E0).length},En=requireStreamBrowser$1(),Cn=require$$0$a.Buffer,_i=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function An(h0){return Cn.from(h0)}function ba(h0){return Cn.isBuffer(h0)||h0 instanceof _i}var xa=util$1,$a;xa&&xa.debuglog?$a=xa.debuglog("stream"):$a=function(){};var rs=requireBuffer_list(),ts=requireDestroy$1(),is=requireState(),cs=is.getHighWaterMark,us=requireErrorsBrowser().codes,ps=us.ERR_INVALID_ARG_TYPE,bs=us.ERR_STREAM_PUSH_AFTER_EOF,e0=us.ERR_METHOD_NOT_IMPLEMENTED,gs=us.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Ds,i0,n0;inherits_browserExports(w0,En);var c0=ts.errorOrDestroy,d0=["error","close","destroy","pause","resume"];function o0(h0,p0,E0){if(typeof h0.prependListener=="function")return h0.prependListener(p0,E0);!h0._events||!h0._events[p0]?h0.on(p0,E0):Array.isArray(h0._events[p0])?h0._events[p0].unshift(E0):h0._events[p0]=[E0,h0._events[p0]]}function g0(h0,p0,E0){vn=vn||require_stream_duplex$1(),h0=h0||{},typeof E0!="boolean"&&(E0=p0 instanceof vn),this.objectMode=!!h0.objectMode,E0&&(this.objectMode=this.objectMode||!!h0.readableObjectMode),this.highWaterMark=cs(this,h0,"readableHighWaterMark",E0),this.buffer=new rs,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=h0.emitClose!==!1,this.autoDestroy=!!h0.autoDestroy,this.destroyed=!1,this.defaultEncoding=h0.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,h0.encoding&&(Ds||(Ds=requireString_decoder().StringDecoder),this.decoder=new Ds(h0.encoding),this.encoding=h0.encoding)}function w0(h0){if(vn=vn||require_stream_duplex$1(),!(this instanceof w0))return new w0(h0);var p0=this instanceof vn;this._readableState=new g0(h0,this,p0),this.readable=!0,h0&&(typeof h0.read=="function"&&(this._read=h0.read),typeof h0.destroy=="function"&&(this._destroy=h0.destroy)),En.call(this)}Object.defineProperty(w0.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(p0){this._readableState&&(this._readableState.destroyed=p0)}}),w0.prototype.destroy=ts.destroy,w0.prototype._undestroy=ts.undestroy,w0.prototype._destroy=function(h0,p0){p0(h0)},w0.prototype.push=function(h0,p0){var E0=this._readableState,I0;return E0.objectMode?I0=!0:typeof h0=="string"&&(p0=p0||E0.defaultEncoding,p0!==E0.encoding&&(h0=Cn.from(h0,p0),p0=""),I0=!0),M0(this,h0,p0,!1,I0)},w0.prototype.unshift=function(h0){return M0(this,h0,null,!0,!1)};function M0(h0,p0,E0,I0,C0){$a("readableAddChunk",p0);var $0=h0._readableState;if(p0===null)$0.reading=!1,os(h0,$0);else{var vo;if(C0||(vo=na($0,p0)),vo)c0(h0,vo);else if($0.objectMode||p0&&p0.length>0)if(typeof p0!="string"&&!$0.objectMode&&Object.getPrototypeOf(p0)!==Cn.prototype&&(p0=An(p0)),I0)$0.endEmitted?c0(h0,new gs):ds(h0,$0,p0,!0);else if($0.ended)c0(h0,new bs);else{if($0.destroyed)return!1;$0.reading=!1,$0.decoder&&!E0?(p0=$0.decoder.write(p0),$0.objectMode||p0.length!==0?ds(h0,$0,p0,!1):ss(h0,$0)):ds(h0,$0,p0,!1)}else I0||($0.reading=!1,ss(h0,$0))}return!$0.ended&&($0.length<$0.highWaterMark||$0.length===0)}function ds(h0,p0,E0,I0){p0.flowing&&p0.length===0&&!p0.sync?(p0.awaitDrain=0,h0.emit("data",E0)):(p0.length+=p0.objectMode?1:E0.length,I0?p0.buffer.unshift(E0):p0.buffer.push(E0),p0.needReadable&&ls(h0)),ss(h0,p0)}function na(h0,p0){var E0;return!ba(p0)&&typeof p0!="string"&&p0!==void 0&&!h0.objectMode&&(E0=new ps("chunk",["string","Buffer","Uint8Array"],p0)),E0}w0.prototype.isPaused=function(){return this._readableState.flowing===!1},w0.prototype.setEncoding=function(h0){Ds||(Ds=requireString_decoder().StringDecoder);var p0=new Ds(h0);this._readableState.decoder=p0,this._readableState.encoding=this._readableState.decoder.encoding;for(var E0=this._readableState.buffer.head,I0="";E0!==null;)I0+=p0.write(E0.data),E0=E0.next;return this._readableState.buffer.clear(),I0!==""&&this._readableState.buffer.push(I0),this._readableState.length=I0.length,this};var _a=1073741824;function es(h0){return h0>=_a?h0=_a:(h0--,h0|=h0>>>1,h0|=h0>>>2,h0|=h0>>>4,h0|=h0>>>8,h0|=h0>>>16,h0++),h0}function ns(h0,p0){return h0<=0||p0.length===0&&p0.ended?0:p0.objectMode?1:h0!==h0?p0.flowing&&p0.length?p0.buffer.head.data.length:p0.length:(h0>p0.highWaterMark&&(p0.highWaterMark=es(h0)),h0<=p0.length?h0:p0.ended?p0.length:(p0.needReadable=!0,0))}w0.prototype.read=function(h0){$a("read",h0),h0=parseInt(h0,10);var p0=this._readableState,E0=h0;if(h0!==0&&(p0.emittedReadable=!1),h0===0&&p0.needReadable&&((p0.highWaterMark!==0?p0.length>=p0.highWaterMark:p0.length>0)||p0.ended))return $a("read: emitReadable",p0.length,p0.ended),p0.length===0&&p0.ended?m0(this):ls(this),null;if(h0=ns(h0,p0),h0===0&&p0.ended)return p0.length===0&&m0(this),null;var I0=p0.needReadable;$a("need readable",I0),(p0.length===0||p0.length-h0<p0.highWaterMark)&&(I0=!0,$a("length less than watermark",I0)),p0.ended||p0.reading?(I0=!1,$a("reading or ended",I0)):I0&&($a("do read"),p0.reading=!0,p0.sync=!0,p0.length===0&&(p0.needReadable=!0),this._read(p0.highWaterMark),p0.sync=!1,p0.reading||(h0=ns(E0,p0)));var C0;return h0>0?C0=f0(h0,p0):C0=null,C0===null?(p0.needReadable=p0.length<=p0.highWaterMark,h0=0):(p0.length-=h0,p0.awaitDrain=0),p0.length===0&&(p0.ended||(p0.needReadable=!0),E0!==h0&&p0.ended&&m0(this)),C0!==null&&this.emit("data",C0),C0};function os(h0,p0){if($a("onEofChunk"),!p0.ended){if(p0.decoder){var E0=p0.decoder.end();E0&&E0.length&&(p0.buffer.push(E0),p0.length+=p0.objectMode?1:E0.length)}p0.ended=!0,p0.sync?ls(h0):(p0.needReadable=!1,p0.emittedReadable||(p0.emittedReadable=!0,hs(h0)))}}function ls(h0){var p0=h0._readableState;$a("emitReadable",p0.needReadable,p0.emittedReadable),p0.needReadable=!1,p0.emittedReadable||($a("emitReadable",p0.flowing),p0.emittedReadable=!0,process$1.nextTick(hs,h0))}function hs(h0){var p0=h0._readableState;$a("emitReadable_",p0.destroyed,p0.length,p0.ended),!p0.destroyed&&(p0.length||p0.ended)&&(h0.emit("readable"),p0.emittedReadable=!1),p0.needReadable=!p0.flowing&&!p0.ended&&p0.length<=p0.highWaterMark,b0(h0)}function ss(h0,p0){p0.readingMore||(p0.readingMore=!0,process$1.nextTick(ga,h0,p0))}function ga(h0,p0){for(;!p0.reading&&!p0.ended&&(p0.length<p0.highWaterMark||p0.flowing&&p0.length===0);){var E0=p0.length;if($a("maybeReadMore read 0"),h0.read(0),E0===p0.length)break}p0.readingMore=!1}w0.prototype._read=function(h0){c0(this,new e0("_read()"))},w0.prototype.pipe=function(h0,p0){var E0=this,I0=this._readableState;switch(I0.pipesCount){case 0:I0.pipes=h0;break;case 1:I0.pipes=[I0.pipes,h0];break;default:I0.pipes.push(h0);break}I0.pipesCount+=1,$a("pipe count=%d opts=%j",I0.pipesCount,p0);var C0=(!p0||p0.end!==!1)&&h0!==process$1.stdout&&h0!==process$1.stderr,$0=C0?P0:Eo;I0.endEmitted?process$1.nextTick($0):E0.once("end",$0),h0.on("unpipe",vo);function vo(N0,F0){$a("onunpipe"),N0===E0&&F0&&F0.hasUnpiped===!1&&(F0.hasUnpiped=!0,O0())}function P0(){$a("onend"),h0.end()}var S0=as(E0);h0.on("drain",S0);var _o=!1;function O0(){$a("cleanup"),h0.removeListener("close",k0),h0.removeListener("finish",D0),h0.removeListener("drain",S0),h0.removeListener("error",To),h0.removeListener("unpipe",vo),E0.removeListener("end",P0),E0.removeListener("end",Eo),E0.removeListener("data",B0),_o=!0,I0.awaitDrain&&(!h0._writableState||h0._writableState.needDrain)&&S0()}E0.on("data",B0);function B0(N0){$a("ondata");var F0=h0.write(N0);$a("dest.write",F0),F0===!1&&((I0.pipesCount===1&&I0.pipes===h0||I0.pipesCount>1&&t0(I0.pipes,h0)!==-1)&&!_o&&($a("false write response, pause",I0.awaitDrain),I0.awaitDrain++),E0.pause())}function To(N0){$a("onerror",N0),Eo(),h0.removeListener("error",To),fn(h0,"error")===0&&c0(h0,N0)}o0(h0,"error",To);function k0(){h0.removeListener("finish",D0),Eo()}h0.once("close",k0);function D0(){$a("onfinish"),h0.removeListener("close",k0),Eo()}h0.once("finish",D0);function Eo(){$a("unpipe"),E0.unpipe(h0)}return h0.emit("pipe",E0),I0.flowing||($a("pipe resume"),E0.resume()),h0};function as(h0){return function(){var E0=h0._readableState;$a("pipeOnDrain",E0.awaitDrain),E0.awaitDrain&&E0.awaitDrain--,E0.awaitDrain===0&&fn(h0,"data")&&(E0.flowing=!0,b0(h0))}}w0.prototype.unpipe=function(h0){var p0=this._readableState,E0={hasUnpiped:!1};if(p0.pipesCount===0)return this;if(p0.pipesCount===1)return h0&&h0!==p0.pipes?this:(h0||(h0=p0.pipes),p0.pipes=null,p0.pipesCount=0,p0.flowing=!1,h0&&h0.emit("unpipe",this,E0),this);if(!h0){var I0=p0.pipes,C0=p0.pipesCount;p0.pipes=null,p0.pipesCount=0,p0.flowing=!1;for(var $0=0;$0<C0;$0++)I0[$0].emit("unpipe",this,{hasUnpiped:!1});return this}var vo=t0(p0.pipes,h0);return vo===-1?this:(p0.pipes.splice(vo,1),p0.pipesCount-=1,p0.pipesCount===1&&(p0.pipes=p0.pipes[0]),h0.emit("unpipe",this,E0),this)},w0.prototype.on=function(h0,p0){var E0=En.prototype.on.call(this,h0,p0),I0=this._readableState;return h0==="data"?(I0.readableListening=this.listenerCount("readable")>0,I0.flowing!==!1&&this.resume()):h0==="readable"&&!I0.endEmitted&&!I0.readableListening&&(I0.readableListening=I0.needReadable=!0,I0.flowing=!1,I0.emittedReadable=!1,$a("on readable",I0.length,I0.reading),I0.length?ls(this):I0.reading||process$1.nextTick(a0,this)),E0},w0.prototype.addListener=w0.prototype.on,w0.prototype.removeListener=function(h0,p0){var E0=En.prototype.removeListener.call(this,h0,p0);return h0==="readable"&&process$1.nextTick(r0,this),E0},w0.prototype.removeAllListeners=function(h0){var p0=En.prototype.removeAllListeners.apply(this,arguments);return(h0==="readable"||h0===void 0)&&process$1.nextTick(r0,this),p0};function r0(h0){var p0=h0._readableState;p0.readableListening=h0.listenerCount("readable")>0,p0.resumeScheduled&&!p0.paused?p0.flowing=!0:h0.listenerCount("data")>0&&h0.resume()}function a0(h0){$a("readable nexttick read 0"),h0.read(0)}w0.prototype.resume=function(){var h0=this._readableState;return h0.flowing||($a("resume"),h0.flowing=!h0.readableListening,l0(this,h0)),h0.paused=!1,this};function l0(h0,p0){p0.resumeScheduled||(p0.resumeScheduled=!0,process$1.nextTick(s0,h0,p0))}function s0(h0,p0){$a("resume",p0.reading),p0.reading||h0.read(0),p0.resumeScheduled=!1,h0.emit("resume"),b0(h0),p0.flowing&&!p0.reading&&h0.read(0)}w0.prototype.pause=function(){return $a("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&($a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function b0(h0){var p0=h0._readableState;for($a("flow",p0.flowing);p0.flowing&&h0.read()!==null;);}w0.prototype.wrap=function(h0){var p0=this,E0=this._readableState,I0=!1;h0.on("end",function(){if($a("wrapped end"),E0.decoder&&!E0.ended){var vo=E0.decoder.end();vo&&vo.length&&p0.push(vo)}p0.push(null)}),h0.on("data",function(vo){if($a("wrapped data"),E0.decoder&&(vo=E0.decoder.write(vo)),!(E0.objectMode&&vo==null)&&!(!E0.objectMode&&(!vo||!vo.length))){var P0=p0.push(vo);P0||(I0=!0,h0.pause())}});for(var C0 in h0)this[C0]===void 0&&typeof h0[C0]=="function"&&(this[C0]=function(P0){return function(){return h0[P0].apply(h0,arguments)}}(C0));for(var $0=0;$0<d0.length;$0++)h0.on(d0[$0],this.emit.bind(this,d0[$0]));return this._read=function(vo){$a("wrapped _read",vo),I0&&(I0=!1,h0.resume())},this},typeof Symbol=="function"&&(w0.prototype[Symbol.asyncIterator]=function(){return i0===void 0&&(i0=requireAsync_iterator()),i0(this)}),Object.defineProperty(w0.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(w0.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(w0.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(p0){this._readableState&&(this._readableState.flowing=p0)}}),w0._fromList=f0,Object.defineProperty(w0.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function f0(h0,p0){if(p0.length===0)return null;var E0;return p0.objectMode?E0=p0.buffer.shift():!h0||h0>=p0.length?(p0.decoder?E0=p0.buffer.join(""):p0.buffer.length===1?E0=p0.buffer.first():E0=p0.buffer.concat(p0.length),p0.buffer.clear()):E0=p0.buffer.consume(h0,p0.decoder),E0}function m0(h0){var p0=h0._readableState;$a("endReadable",p0.endEmitted),p0.endEmitted||(p0.ended=!0,process$1.nextTick(y0,p0,h0))}function y0(h0,p0){if($a("endReadableNT",h0.endEmitted,h0.length),!h0.endEmitted&&h0.length===0&&(h0.endEmitted=!0,p0.readable=!1,p0.emit("end"),h0.autoDestroy)){var E0=p0._writableState;(!E0||E0.autoDestroy&&E0.finished)&&p0.destroy()}}typeof Symbol=="function"&&(w0.from=function(h0,p0){return n0===void 0&&(n0=requireFromBrowser()),n0(w0,h0,p0)});function t0(h0,p0){for(var E0=0,I0=h0.length;E0<I0;E0++)if(h0[E0]===p0)return E0;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform$1;function require_stream_transform$1(){if(hasRequired_stream_transform$1)return _stream_transform$1;hasRequired_stream_transform$1=1,_stream_transform$1=xa;var vn=requireErrorsBrowser().codes,fn=vn.ERR_METHOD_NOT_IMPLEMENTED,En=vn.ERR_MULTIPLE_CALLBACK,Cn=vn.ERR_TRANSFORM_ALREADY_TRANSFORMING,_i=vn.ERR_TRANSFORM_WITH_LENGTH_0,An=require_stream_duplex$1();inherits_browserExports(xa,An);function ba(ts,is){var cs=this._transformState;cs.transforming=!1;var us=cs.writecb;if(us===null)return this.emit("error",new En);cs.writechunk=null,cs.writecb=null,is!=null&&this.push(is),us(ts);var ps=this._readableState;ps.reading=!1,(ps.needReadable||ps.length<ps.highWaterMark)&&this._read(ps.highWaterMark)}function xa(ts){if(!(this instanceof xa))return new xa(ts);An.call(this,ts),this._transformState={afterTransform:ba.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,ts&&(typeof ts.transform=="function"&&(this._transform=ts.transform),typeof ts.flush=="function"&&(this._flush=ts.flush)),this.on("prefinish",$a)}function $a(){var ts=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(is,cs){rs(ts,is,cs)}):rs(this,null,null)}xa.prototype.push=function(ts,is){return this._transformState.needTransform=!1,An.prototype.push.call(this,ts,is)},xa.prototype._transform=function(ts,is,cs){cs(new fn("_transform()"))},xa.prototype._write=function(ts,is,cs){var us=this._transformState;if(us.writecb=cs,us.writechunk=ts,us.writeencoding=is,!us.transforming){var ps=this._readableState;(us.needTransform||ps.needReadable||ps.length<ps.highWaterMark)&&this._read(ps.highWaterMark)}},xa.prototype._read=function(ts){var is=this._transformState;is.writechunk!==null&&!is.transforming?(is.transforming=!0,this._transform(is.writechunk,is.writeencoding,is.afterTransform)):is.needTransform=!0},xa.prototype._destroy=function(ts,is){An.prototype._destroy.call(this,ts,function(cs){is(cs)})};function rs(ts,is,cs){if(is)return ts.emit("error",is);if(cs!=null&&ts.push(cs),ts._writableState.length)throw new _i;if(ts._transformState.transforming)throw new Cn;return ts.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough$1;function require_stream_passthrough$1(){if(hasRequired_stream_passthrough$1)return _stream_passthrough$1;hasRequired_stream_passthrough$1=1,_stream_passthrough$1=fn;var vn=require_stream_transform$1();inherits_browserExports(fn,vn);function fn(En){if(!(this instanceof fn))return new fn(En);vn.call(this,En)}return fn.prototype._transform=function(En,Cn,_i){_i(null,En)},_stream_passthrough$1}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var vn;function fn(cs){var us=!1;return function(){us||(us=!0,cs.apply(void 0,arguments))}}var En=requireErrorsBrowser().codes,Cn=En.ERR_MISSING_ARGS,_i=En.ERR_STREAM_DESTROYED;function An(cs){if(cs)throw cs}function ba(cs){return cs.setHeader&&typeof cs.abort=="function"}function xa(cs,us,ps,bs){bs=fn(bs);var e0=!1;cs.on("close",function(){e0=!0}),vn===void 0&&(vn=requireEndOfStream()),vn(cs,{readable:us,writable:ps},function(Ds){if(Ds)return bs(Ds);e0=!0,bs()});var gs=!1;return function(Ds){if(!e0&&!gs){if(gs=!0,ba(cs))return cs.abort();if(typeof cs.destroy=="function")return cs.destroy();bs(Ds||new _i("pipe"))}}}function $a(cs){cs()}function rs(cs,us){return cs.pipe(us)}function ts(cs){return!cs.length||typeof cs[cs.length-1]!="function"?An:cs.pop()}function is(){for(var cs=arguments.length,us=new Array(cs),ps=0;ps<cs;ps++)us[ps]=arguments[ps];var bs=ts(us);if(Array.isArray(us[0])&&(us=us[0]),us.length<2)throw new Cn("streams");var e0,gs=us.map(function(Ds,i0){var n0=i0<us.length-1,c0=i0>0;return xa(Ds,n0,c0,function(d0){e0||(e0=d0),d0&&gs.forEach($a),!n0&&(gs.forEach($a),bs(e0))})});return us.reduce(rs)}return pipeline_1=is,pipeline_1}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=En;var vn=eventsExports.EventEmitter,fn=inherits_browserExports;fn(En,vn),En.Readable=require_stream_readable$1(),En.Writable=require_stream_writable$1(),En.Duplex=require_stream_duplex$1(),En.Transform=require_stream_transform$1(),En.PassThrough=require_stream_passthrough$1(),En.finished=requireEndOfStream(),En.pipeline=requirePipeline(),En.Stream=En;function En(){vn.call(this)}return En.prototype.pipe=function(Cn,_i){var An=this;function ba(us){Cn.writable&&Cn.write(us)===!1&&An.pause&&An.pause()}An.on("data",ba);function xa(){An.readable&&An.resume&&An.resume()}Cn.on("drain",xa),!Cn._isStdio&&(!_i||_i.end!==!1)&&(An.on("end",rs),An.on("close",ts));var $a=!1;function rs(){$a||($a=!0,Cn.end())}function ts(){$a||($a=!0,typeof Cn.destroy=="function"&&Cn.destroy())}function is(us){if(cs(),vn.listenerCount(this,"error")===0)throw us}An.on("error",is),Cn.on("error",is);function cs(){An.removeListener("data",ba),Cn.removeListener("drain",xa),An.removeListener("end",rs),An.removeListener("close",ts),An.removeListener("error",is),Cn.removeListener("error",is),An.removeListener("end",cs),An.removeListener("close",cs),Cn.removeListener("close",cs)}return An.on("end",cs),An.on("close",cs),Cn.on("close",cs),Cn.emit("pipe",An),Cn},streamBrowserify}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var vn=requireSafeBuffer$1().Buffer,fn=requireStreamBrowserify().Transform,En=inherits_browserExports;function Cn(An,ba){if(!vn.isBuffer(An)&&typeof An!="string")throw new TypeError(ba+" must be a string or a buffer")}function _i(An){fn.call(this),this._block=vn.allocUnsafe(An),this._blockSize=An,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return En(_i,fn),_i.prototype._transform=function(An,ba,xa){var $a=null;try{this.update(An,ba)}catch(rs){$a=rs}xa($a)},_i.prototype._flush=function(An){var ba=null;try{this.push(this.digest())}catch(xa){ba=xa}An(ba)},_i.prototype.update=function(An,ba){if(Cn(An,"Data"),this._finalized)throw new Error("Digest already called");vn.isBuffer(An)||(An=vn.from(An,ba));for(var xa=this._block,$a=0;this._blockOffset+An.length-$a>=this._blockSize;){for(var rs=this._blockOffset;rs<this._blockSize;)xa[rs++]=An[$a++];this._update(),this._blockOffset=0}for(;$a<An.length;)xa[this._blockOffset++]=An[$a++];for(var ts=0,is=An.length*8;is>0;++ts)this._length[ts]+=is,is=this._length[ts]/4294967296|0,is>0&&(this._length[ts]-=4294967296*is);return this},_i.prototype._update=function(){throw new Error("_update is not implemented")},_i.prototype.digest=function(An){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var ba=this._digest();An!==void 0&&(ba=ba.toString(An)),this._block.fill(0),this._blockOffset=0;for(var xa=0;xa<4;++xa)this._length[xa]=0;return ba},_i.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=_i,hashBase}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var vn=inherits_browserExports,fn=requireHashBase(),En=requireSafeBuffer$1().Buffer,Cn=new Array(16);function _i(){fn.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}vn(_i,fn),_i.prototype._update=function(){for(var ts=Cn,is=0;is<16;++is)ts[is]=this._block.readInt32LE(is*4);var cs=this._a,us=this._b,ps=this._c,bs=this._d;cs=ba(cs,us,ps,bs,ts[0],3614090360,7),bs=ba(bs,cs,us,ps,ts[1],3905402710,12),ps=ba(ps,bs,cs,us,ts[2],606105819,17),us=ba(us,ps,bs,cs,ts[3],3250441966,22),cs=ba(cs,us,ps,bs,ts[4],4118548399,7),bs=ba(bs,cs,us,ps,ts[5],1200080426,12),ps=ba(ps,bs,cs,us,ts[6],2821735955,17),us=ba(us,ps,bs,cs,ts[7],4249261313,22),cs=ba(cs,us,ps,bs,ts[8],1770035416,7),bs=ba(bs,cs,us,ps,ts[9],2336552879,12),ps=ba(ps,bs,cs,us,ts[10],4294925233,17),us=ba(us,ps,bs,cs,ts[11],2304563134,22),cs=ba(cs,us,ps,bs,ts[12],1804603682,7),bs=ba(bs,cs,us,ps,ts[13],4254626195,12),ps=ba(ps,bs,cs,us,ts[14],2792965006,17),us=ba(us,ps,bs,cs,ts[15],1236535329,22),cs=xa(cs,us,ps,bs,ts[1],4129170786,5),bs=xa(bs,cs,us,ps,ts[6],3225465664,9),ps=xa(ps,bs,cs,us,ts[11],643717713,14),us=xa(us,ps,bs,cs,ts[0],3921069994,20),cs=xa(cs,us,ps,bs,ts[5],3593408605,5),bs=xa(bs,cs,us,ps,ts[10],38016083,9),ps=xa(ps,bs,cs,us,ts[15],3634488961,14),us=xa(us,ps,bs,cs,ts[4],3889429448,20),cs=xa(cs,us,ps,bs,ts[9],568446438,5),bs=xa(bs,cs,us,ps,ts[14],3275163606,9),ps=xa(ps,bs,cs,us,ts[3],4107603335,14),us=xa(us,ps,bs,cs,ts[8],1163531501,20),cs=xa(cs,us,ps,bs,ts[13],2850285829,5),bs=xa(bs,cs,us,ps,ts[2],4243563512,9),ps=xa(ps,bs,cs,us,ts[7],1735328473,14),us=xa(us,ps,bs,cs,ts[12],2368359562,20),cs=$a(cs,us,ps,bs,ts[5],4294588738,4),bs=$a(bs,cs,us,ps,ts[8],2272392833,11),ps=$a(ps,bs,cs,us,ts[11],1839030562,16),us=$a(us,ps,bs,cs,ts[14],4259657740,23),cs=$a(cs,us,ps,bs,ts[1],2763975236,4),bs=$a(bs,cs,us,ps,ts[4],1272893353,11),ps=$a(ps,bs,cs,us,ts[7],4139469664,16),us=$a(us,ps,bs,cs,ts[10],3200236656,23),cs=$a(cs,us,ps,bs,ts[13],681279174,4),bs=$a(bs,cs,us,ps,ts[0],3936430074,11),ps=$a(ps,bs,cs,us,ts[3],3572445317,16),us=$a(us,ps,bs,cs,ts[6],76029189,23),cs=$a(cs,us,ps,bs,ts[9],3654602809,4),bs=$a(bs,cs,us,ps,ts[12],3873151461,11),ps=$a(ps,bs,cs,us,ts[15],530742520,16),us=$a(us,ps,bs,cs,ts[2],3299628645,23),cs=rs(cs,us,ps,bs,ts[0],4096336452,6),bs=rs(bs,cs,us,ps,ts[7],1126891415,10),ps=rs(ps,bs,cs,us,ts[14],2878612391,15),us=rs(us,ps,bs,cs,ts[5],4237533241,21),cs=rs(cs,us,ps,bs,ts[12],1700485571,6),bs=rs(bs,cs,us,ps,ts[3],2399980690,10),ps=rs(ps,bs,cs,us,ts[10],4293915773,15),us=rs(us,ps,bs,cs,ts[1],2240044497,21),cs=rs(cs,us,ps,bs,ts[8],1873313359,6),bs=rs(bs,cs,us,ps,ts[15],4264355552,10),ps=rs(ps,bs,cs,us,ts[6],2734768916,15),us=rs(us,ps,bs,cs,ts[13],1309151649,21),cs=rs(cs,us,ps,bs,ts[4],4149444226,6),bs=rs(bs,cs,us,ps,ts[11],3174756917,10),ps=rs(ps,bs,cs,us,ts[2],718787259,15),us=rs(us,ps,bs,cs,ts[9],3951481745,21),this._a=this._a+cs|0,this._b=this._b+us|0,this._c=this._c+ps|0,this._d=this._d+bs|0},_i.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var ts=En.allocUnsafe(16);return ts.writeInt32LE(this._a,0),ts.writeInt32LE(this._b,4),ts.writeInt32LE(this._c,8),ts.writeInt32LE(this._d,12),ts};function An(ts,is){return ts<<is|ts>>>32-is}function ba(ts,is,cs,us,ps,bs,e0){return An(ts+(is&cs|~is&us)+ps+bs|0,e0)+is|0}function xa(ts,is,cs,us,ps,bs,e0){return An(ts+(is&us|cs&~us)+ps+bs|0,e0)+is|0}function $a(ts,is,cs,us,ps,bs,e0){return An(ts+(is^cs^us)+ps+bs|0,e0)+is|0}function rs(ts,is,cs,us,ps,bs,e0){return An(ts+(cs^(is|~us))+ps+bs|0,e0)+is|0}return md5_js=_i,md5_js}var ripemd160,hasRequiredRipemd160;function requireRipemd160(){if(hasRequiredRipemd160)return ripemd160;hasRequiredRipemd160=1;var vn=require$$0$a.Buffer,fn=inherits_browserExports,En=requireHashBase(),Cn=new Array(16),_i=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],An=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ba=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],xa=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],$a=[0,1518500249,1859775393,2400959708,2840853838],rs=[1352829926,1548603684,1836072691,2053994217,0];function ts(){En.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}fn(ts,En),ts.prototype._update=function(){for(var gs=Cn,Ds=0;Ds<16;++Ds)gs[Ds]=this._block.readInt32LE(Ds*4);for(var i0=this._a|0,n0=this._b|0,c0=this._c|0,d0=this._d|0,o0=this._e|0,g0=this._a|0,w0=this._b|0,M0=this._c|0,ds=this._d|0,na=this._e|0,_a=0;_a<80;_a+=1){var es,ns;_a<16?(es=cs(i0,n0,c0,d0,o0,gs[_i[_a]],$a[0],ba[_a]),ns=e0(g0,w0,M0,ds,na,gs[An[_a]],rs[0],xa[_a])):_a<32?(es=us(i0,n0,c0,d0,o0,gs[_i[_a]],$a[1],ba[_a]),ns=bs(g0,w0,M0,ds,na,gs[An[_a]],rs[1],xa[_a])):_a<48?(es=ps(i0,n0,c0,d0,o0,gs[_i[_a]],$a[2],ba[_a]),ns=ps(g0,w0,M0,ds,na,gs[An[_a]],rs[2],xa[_a])):_a<64?(es=bs(i0,n0,c0,d0,o0,gs[_i[_a]],$a[3],ba[_a]),ns=us(g0,w0,M0,ds,na,gs[An[_a]],rs[3],xa[_a])):(es=e0(i0,n0,c0,d0,o0,gs[_i[_a]],$a[4],ba[_a]),ns=cs(g0,w0,M0,ds,na,gs[An[_a]],rs[4],xa[_a])),i0=o0,o0=d0,d0=is(c0,10),c0=n0,n0=es,g0=na,na=ds,ds=is(M0,10),M0=w0,w0=ns}var os=this._b+c0+ds|0;this._b=this._c+d0+na|0,this._c=this._d+o0+g0|0,this._d=this._e+i0+w0|0,this._e=this._a+n0+M0|0,this._a=os},ts.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var gs=vn.alloc?vn.alloc(20):new vn(20);return gs.writeInt32LE(this._a,0),gs.writeInt32LE(this._b,4),gs.writeInt32LE(this._c,8),gs.writeInt32LE(this._d,12),gs.writeInt32LE(this._e,16),gs};function is(gs,Ds){return gs<<Ds|gs>>>32-Ds}function cs(gs,Ds,i0,n0,c0,d0,o0,g0){return is(gs+(Ds^i0^n0)+d0+o0|0,g0)+c0|0}function us(gs,Ds,i0,n0,c0,d0,o0,g0){return is(gs+(Ds&i0|~Ds&n0)+d0+o0|0,g0)+c0|0}function ps(gs,Ds,i0,n0,c0,d0,o0,g0){return is(gs+((Ds|~i0)^n0)+d0+o0|0,g0)+c0|0}function bs(gs,Ds,i0,n0,c0,d0,o0,g0){return is(gs+(Ds&n0|i0&~n0)+d0+o0|0,g0)+c0|0}function e0(gs,Ds,i0,n0,c0,d0,o0,g0){return is(gs+(Ds^(i0|~n0))+d0+o0|0,g0)+c0|0}return ripemd160=ts,ripemd160}var sha_js={exports:{}},Buffer$6=requireSafeBuffer$1().Buffer;function Hash$6(vn,fn){this._block=Buffer$6.alloc(vn),this._finalSize=fn,this._blockSize=vn,this._len=0}Hash$6.prototype.update=function(vn,fn){typeof vn=="string"&&(fn=fn||"utf8",vn=Buffer$6.from(vn,fn));for(var En=this._block,Cn=this._blockSize,_i=vn.length,An=this._len,ba=0;ba<_i;){for(var xa=An%Cn,$a=Math.min(_i-ba,Cn-xa),rs=0;rs<$a;rs++)En[xa+rs]=vn[ba+rs];An+=$a,ba+=$a,An%Cn===0&&this._update(En)}return this._len+=_i,this};Hash$6.prototype.digest=function(vn){var fn=this._len%this._blockSize;this._block[fn]=128,this._block.fill(0,fn+1),fn>=this._finalSize&&(this._update(this._block),this._block.fill(0));var En=this._len*8;if(En<=4294967295)this._block.writeUInt32BE(En,this._blockSize-4);else{var Cn=(En&4294967295)>>>0,_i=(En-Cn)/4294967296;this._block.writeUInt32BE(_i,this._blockSize-8),this._block.writeUInt32BE(Cn,this._blockSize-4)}this._update(this._block);var An=this._hash();return vn?An.toString(vn):An};Hash$6.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var hash$4=Hash$6,inherits$b=inherits_browserExports,Hash$5=hash$4,Buffer$5=requireSafeBuffer$1().Buffer,K$7=[1518500249,1859775393,-1894007588,-899497514],W$9=new Array(80);function Sha(){this.init(),this._w=W$9,Hash$5.call(this,64,56)}inherits$b(Sha,Hash$5);Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl5$1(vn){return vn<<5|vn>>>27}function rotl30$1(vn){return vn<<30|vn>>>2}function ft$4(vn,fn,En,Cn){return vn===0?fn&En|~fn&Cn:vn===2?fn&En|fn&Cn|En&Cn:fn^En^Cn}Sha.prototype._update=function(vn){for(var fn=this._w,En=this._a|0,Cn=this._b|0,_i=this._c|0,An=this._d|0,ba=this._e|0,xa=0;xa<16;++xa)fn[xa]=vn.readInt32BE(xa*4);for(;xa<80;++xa)fn[xa]=fn[xa-3]^fn[xa-8]^fn[xa-14]^fn[xa-16];for(var $a=0;$a<80;++$a){var rs=~~($a/20),ts=rotl5$1(En)+ft$4(rs,Cn,_i,An)+ba+fn[$a]+K$7[rs]|0;ba=An,An=_i,_i=rotl30$1(Cn),Cn=En,En=ts}this._a=En+this._a|0,this._b=Cn+this._b|0,this._c=_i+this._c|0,this._d=An+this._d|0,this._e=ba+this._e|0};Sha.prototype._hash=function(){var vn=Buffer$5.allocUnsafe(20);return vn.writeInt32BE(this._a|0,0),vn.writeInt32BE(this._b|0,4),vn.writeInt32BE(this._c|0,8),vn.writeInt32BE(this._d|0,12),vn.writeInt32BE(this._e|0,16),vn};var sha=Sha,inherits$a=inherits_browserExports,Hash$4=hash$4,Buffer$4=requireSafeBuffer$1().Buffer,K$6=[1518500249,1859775393,-1894007588,-899497514],W$8=new Array(80);function Sha1(){this.init(),this._w=W$8,Hash$4.call(this,64,56)}inherits$a(Sha1,Hash$4);Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl1(vn){return vn<<1|vn>>>31}function rotl5(vn){return vn<<5|vn>>>27}function rotl30(vn){return vn<<30|vn>>>2}function ft$3(vn,fn,En,Cn){return vn===0?fn&En|~fn&Cn:vn===2?fn&En|fn&Cn|En&Cn:fn^En^Cn}Sha1.prototype._update=function(vn){for(var fn=this._w,En=this._a|0,Cn=this._b|0,_i=this._c|0,An=this._d|0,ba=this._e|0,xa=0;xa<16;++xa)fn[xa]=vn.readInt32BE(xa*4);for(;xa<80;++xa)fn[xa]=rotl1(fn[xa-3]^fn[xa-8]^fn[xa-14]^fn[xa-16]);for(var $a=0;$a<80;++$a){var rs=~~($a/20),ts=rotl5(En)+ft$3(rs,Cn,_i,An)+ba+fn[$a]+K$6[rs]|0;ba=An,An=_i,_i=rotl30(Cn),Cn=En,En=ts}this._a=En+this._a|0,this._b=Cn+this._b|0,this._c=_i+this._c|0,this._d=An+this._d|0,this._e=ba+this._e|0};Sha1.prototype._hash=function(){var vn=Buffer$4.allocUnsafe(20);return vn.writeInt32BE(this._a|0,0),vn.writeInt32BE(this._b|0,4),vn.writeInt32BE(this._c|0,8),vn.writeInt32BE(this._d|0,12),vn.writeInt32BE(this._e|0,16),vn};var sha1=Sha1,inherits$9=inherits_browserExports,Hash$3=hash$4,Buffer$3=requireSafeBuffer$1().Buffer,K$5=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W$7=new Array(64);function Sha256$1(){this.init(),this._w=W$7,Hash$3.call(this,64,56)}inherits$9(Sha256$1,Hash$3);Sha256$1.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function ch(vn,fn,En){return En^vn&(fn^En)}function maj$1(vn,fn,En){return vn&fn|En&(vn|fn)}function sigma0$1(vn){return(vn>>>2|vn<<30)^(vn>>>13|vn<<19)^(vn>>>22|vn<<10)}function sigma1$1(vn){return(vn>>>6|vn<<26)^(vn>>>11|vn<<21)^(vn>>>25|vn<<7)}function gamma0(vn){return(vn>>>7|vn<<25)^(vn>>>18|vn<<14)^vn>>>3}function gamma1(vn){return(vn>>>17|vn<<15)^(vn>>>19|vn<<13)^vn>>>10}Sha256$1.prototype._update=function(vn){for(var fn=this._w,En=this._a|0,Cn=this._b|0,_i=this._c|0,An=this._d|0,ba=this._e|0,xa=this._f|0,$a=this._g|0,rs=this._h|0,ts=0;ts<16;++ts)fn[ts]=vn.readInt32BE(ts*4);for(;ts<64;++ts)fn[ts]=gamma1(fn[ts-2])+fn[ts-7]+gamma0(fn[ts-15])+fn[ts-16]|0;for(var is=0;is<64;++is){var cs=rs+sigma1$1(ba)+ch(ba,xa,$a)+K$5[is]+fn[is]|0,us=sigma0$1(En)+maj$1(En,Cn,_i)|0;rs=$a,$a=xa,xa=ba,ba=An+cs|0,An=_i,_i=Cn,Cn=En,En=cs+us|0}this._a=En+this._a|0,this._b=Cn+this._b|0,this._c=_i+this._c|0,this._d=An+this._d|0,this._e=ba+this._e|0,this._f=xa+this._f|0,this._g=$a+this._g|0,this._h=rs+this._h|0};Sha256$1.prototype._hash=function(){var vn=Buffer$3.allocUnsafe(32);return vn.writeInt32BE(this._a,0),vn.writeInt32BE(this._b,4),vn.writeInt32BE(this._c,8),vn.writeInt32BE(this._d,12),vn.writeInt32BE(this._e,16),vn.writeInt32BE(this._f,20),vn.writeInt32BE(this._g,24),vn.writeInt32BE(this._h,28),vn};var sha256$2=Sha256$1,inherits$8=inherits_browserExports,Sha256=sha256$2,Hash$2=hash$4,Buffer$2=requireSafeBuffer$1().Buffer,W$6=new Array(64);function Sha224(){this.init(),this._w=W$6,Hash$2.call(this,64,56)}inherits$8(Sha224,Sha256);Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Sha224.prototype._hash=function(){var vn=Buffer$2.allocUnsafe(28);return vn.writeInt32BE(this._a,0),vn.writeInt32BE(this._b,4),vn.writeInt32BE(this._c,8),vn.writeInt32BE(this._d,12),vn.writeInt32BE(this._e,16),vn.writeInt32BE(this._f,20),vn.writeInt32BE(this._g,24),vn};var sha224$1=Sha224,inherits$7=inherits_browserExports,Hash$1=hash$4,Buffer$1=requireSafeBuffer$1().Buffer,K$4=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W$5=new Array(160);function Sha512(){this.init(),this._w=W$5,Hash$1.call(this,128,112)}inherits$7(Sha512,Hash$1);Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ch(vn,fn,En){return En^vn&(fn^En)}function maj(vn,fn,En){return vn&fn|En&(vn|fn)}function sigma0(vn,fn){return(vn>>>28|fn<<4)^(fn>>>2|vn<<30)^(fn>>>7|vn<<25)}function sigma1(vn,fn){return(vn>>>14|fn<<18)^(vn>>>18|fn<<14)^(fn>>>9|vn<<23)}function Gamma0(vn,fn){return(vn>>>1|fn<<31)^(vn>>>8|fn<<24)^vn>>>7}function Gamma0l(vn,fn){return(vn>>>1|fn<<31)^(vn>>>8|fn<<24)^(vn>>>7|fn<<25)}function Gamma1(vn,fn){return(vn>>>19|fn<<13)^(fn>>>29|vn<<3)^vn>>>6}function Gamma1l(vn,fn){return(vn>>>19|fn<<13)^(fn>>>29|vn<<3)^(vn>>>6|fn<<26)}function getCarry(vn,fn){return vn>>>0<fn>>>0?1:0}Sha512.prototype._update=function(vn){for(var fn=this._w,En=this._ah|0,Cn=this._bh|0,_i=this._ch|0,An=this._dh|0,ba=this._eh|0,xa=this._fh|0,$a=this._gh|0,rs=this._hh|0,ts=this._al|0,is=this._bl|0,cs=this._cl|0,us=this._dl|0,ps=this._el|0,bs=this._fl|0,e0=this._gl|0,gs=this._hl|0,Ds=0;Ds<32;Ds+=2)fn[Ds]=vn.readInt32BE(Ds*4),fn[Ds+1]=vn.readInt32BE(Ds*4+4);for(;Ds<160;Ds+=2){var i0=fn[Ds-30],n0=fn[Ds-15*2+1],c0=Gamma0(i0,n0),d0=Gamma0l(n0,i0);i0=fn[Ds-2*2],n0=fn[Ds-2*2+1];var o0=Gamma1(i0,n0),g0=Gamma1l(n0,i0),w0=fn[Ds-7*2],M0=fn[Ds-7*2+1],ds=fn[Ds-16*2],na=fn[Ds-16*2+1],_a=d0+M0|0,es=c0+w0+getCarry(_a,d0)|0;_a=_a+g0|0,es=es+o0+getCarry(_a,g0)|0,_a=_a+na|0,es=es+ds+getCarry(_a,na)|0,fn[Ds]=es,fn[Ds+1]=_a}for(var ns=0;ns<160;ns+=2){es=fn[ns],_a=fn[ns+1];var os=maj(En,Cn,_i),ls=maj(ts,is,cs),hs=sigma0(En,ts),ss=sigma0(ts,En),ga=sigma1(ba,ps),as=sigma1(ps,ba),r0=K$4[ns],a0=K$4[ns+1],l0=Ch(ba,xa,$a),s0=Ch(ps,bs,e0),b0=gs+as|0,f0=rs+ga+getCarry(b0,gs)|0;b0=b0+s0|0,f0=f0+l0+getCarry(b0,s0)|0,b0=b0+a0|0,f0=f0+r0+getCarry(b0,a0)|0,b0=b0+_a|0,f0=f0+es+getCarry(b0,_a)|0;var m0=ss+ls|0,y0=hs+os+getCarry(m0,ss)|0;rs=$a,gs=e0,$a=xa,e0=bs,xa=ba,bs=ps,ps=us+b0|0,ba=An+f0+getCarry(ps,us)|0,An=_i,us=cs,_i=Cn,cs=is,Cn=En,is=ts,ts=b0+m0|0,En=f0+y0+getCarry(ts,b0)|0}this._al=this._al+ts|0,this._bl=this._bl+is|0,this._cl=this._cl+cs|0,this._dl=this._dl+us|0,this._el=this._el+ps|0,this._fl=this._fl+bs|0,this._gl=this._gl+e0|0,this._hl=this._hl+gs|0,this._ah=this._ah+En+getCarry(this._al,ts)|0,this._bh=this._bh+Cn+getCarry(this._bl,is)|0,this._ch=this._ch+_i+getCarry(this._cl,cs)|0,this._dh=this._dh+An+getCarry(this._dl,us)|0,this._eh=this._eh+ba+getCarry(this._el,ps)|0,this._fh=this._fh+xa+getCarry(this._fl,bs)|0,this._gh=this._gh+$a+getCarry(this._gl,e0)|0,this._hh=this._hh+rs+getCarry(this._hl,gs)|0};Sha512.prototype._hash=function(){var vn=Buffer$1.allocUnsafe(64);function fn(En,Cn,_i){vn.writeInt32BE(En,_i),vn.writeInt32BE(Cn,_i+4)}return fn(this._ah,this._al,0),fn(this._bh,this._bl,8),fn(this._ch,this._cl,16),fn(this._dh,this._dl,24),fn(this._eh,this._el,32),fn(this._fh,this._fl,40),fn(this._gh,this._gl,48),fn(this._hh,this._hl,56),vn};var sha512$2=Sha512,inherits$6=inherits_browserExports,SHA512=sha512$2,Hash=hash$4,Buffer=requireSafeBuffer$1().Buffer,W$4=new Array(160);function Sha384(){this.init(),this._w=W$4,Hash.call(this,128,112)}inherits$6(Sha384,SHA512);Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Sha384.prototype._hash=function(){var vn=Buffer.allocUnsafe(48);function fn(En,Cn,_i){vn.writeInt32BE(En,_i),vn.writeInt32BE(Cn,_i+4)}return fn(this._ah,this._al,0),fn(this._bh,this._bl,8),fn(this._ch,this._cl,16),fn(this._dh,this._dl,24),fn(this._eh,this._el,32),fn(this._fh,this._fl,40),vn};var sha384$1=Sha384,exports=sha_js.exports=function(fn){fn=fn.toLowerCase();var En=exports[fn];if(!En)throw new Error(fn+" is not supported (we accept pull requests)");return new En};exports.sha=sha;exports.sha1=sha1;exports.sha224=sha224$1;exports.sha256=sha256$2;exports.sha384=sha384$1;exports.sha512=sha512$2;var sha_jsExports=sha_js.exports,cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var vn=requireSafeBuffer$1().Buffer,fn=requireStreamBrowserify().Transform,En=requireString_decoder().StringDecoder,Cn=inherits_browserExports;function _i(xa){fn.call(this),this.hashMode=typeof xa=="string",this.hashMode?this[xa]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}Cn(_i,fn);var An=typeof Uint8Array<"u",ba=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(vn.prototype instanceof Uint8Array||vn.TYPED_ARRAY_SUPPORT);return _i.prototype.update=function(xa,$a,rs){var ts;if(xa instanceof vn)ts=xa;else if(typeof xa=="string")ts=vn.from(xa,$a);else if(ba&&ArrayBuffer.isView(xa))ts=vn.from(xa.buffer,xa.byteOffset,xa.byteLength);else if(An&&xa instanceof Uint8Array)ts=vn.from(xa);else if(vn.isBuffer(xa)&&xa.constructor&&xa.constructor.isBuffer&&xa.constructor.isBuffer(xa))ts=vn.from(xa);else throw new Error('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.');var is=this._update(ts);return this.hashMode?this:(rs&&(is=this._toString(is,rs)),is)},_i.prototype.setAutoPadding=function(){},_i.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},_i.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},_i.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},_i.prototype._transform=function(xa,$a,rs){var ts;try{this.hashMode?this._update(xa):this.push(this._update(xa))}catch(is){ts=is}finally{rs(ts)}},_i.prototype._flush=function(xa){var $a;try{this.push(this.__final())}catch(rs){$a=rs}xa($a)},_i.prototype._finalOrDigest=function(xa){var $a=this.__final()||vn.alloc(0);return xa&&($a=this._toString($a,xa,!0)),$a},_i.prototype._toString=function(xa,$a,rs){if(this._decoder||(this._decoder=new En($a),this._encoding=$a),this._encoding!==$a)throw new Error("cant switch encodings");var ts=this._decoder.write(xa);return rs&&(ts+=this._decoder.end()),ts},cipherBase=_i,cipherBase}var browser$b,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$b;hasRequiredBrowser$9=1;var vn=inherits_browserExports,fn=requireMd5_js(),En=requireRipemd160(),Cn=sha_jsExports,_i=requireCipherBase();function An(ba){_i.call(this,"digest"),this._hash=ba}return vn(An,_i),An.prototype._update=function(ba){this._hash.update(ba)},An.prototype._final=function(){return this._hash.digest()},browser$b=function(xa){return xa=xa.toLowerCase(),xa==="md5"?new fn:xa==="rmd160"||xa==="ripemd160"?new En:new An(Cn(xa))},browser$b}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var vn=inherits_browserExports,fn=requireSafeBuffer$1().Buffer,En=requireCipherBase(),Cn=fn.alloc(128),_i=64;function An(ba,xa){En.call(this,"digest"),typeof xa=="string"&&(xa=fn.from(xa)),this._alg=ba,this._key=xa,xa.length>_i?xa=ba(xa):xa.length<_i&&(xa=fn.concat([xa,Cn],_i));for(var $a=this._ipad=fn.allocUnsafe(_i),rs=this._opad=fn.allocUnsafe(_i),ts=0;ts<_i;ts++)$a[ts]=xa[ts]^54,rs[ts]=xa[ts]^92;this._hash=[$a]}return vn(An,En),An.prototype._update=function(ba){this._hash.push(ba)},An.prototype._final=function(){var ba=this._alg(fn.concat(this._hash));return this._alg(fn.concat([this._opad,ba]))},legacy=An,legacy}var md5,hasRequiredMd5;function requireMd5(){if(hasRequiredMd5)return md5;hasRequiredMd5=1;var vn=requireMd5_js();return md5=function(fn){return new vn().update(fn).digest()},md5}var browser$a,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$a;hasRequiredBrowser$8=1;var vn=inherits_browserExports,fn=requireLegacy(),En=requireCipherBase(),Cn=requireSafeBuffer$1().Buffer,_i=requireMd5(),An=requireRipemd160(),ba=sha_jsExports,xa=Cn.alloc(128);function $a(rs,ts){En.call(this,"digest"),typeof ts=="string"&&(ts=Cn.from(ts));var is=rs==="sha512"||rs==="sha384"?128:64;if(this._alg=rs,this._key=ts,ts.length>is){var cs=rs==="rmd160"?new An:ba(rs);ts=cs.update(ts).digest()}else ts.length<is&&(ts=Cn.concat([ts,xa],is));for(var us=this._ipad=Cn.allocUnsafe(is),ps=this._opad=Cn.allocUnsafe(is),bs=0;bs<is;bs++)us[bs]=ts[bs]^54,ps[bs]=ts[bs]^92;this._hash=rs==="rmd160"?new An:ba(rs),this._hash.update(us)}return vn($a,En),$a.prototype._update=function(rs){this._hash.update(rs)},$a.prototype._final=function(){var rs=this._hash.digest(),ts=this._alg==="rmd160"?new An:ba(this._alg);return ts.update(this._opad).update(rs).digest()},browser$a=function(ts,is){return ts=ts.toLowerCase(),ts==="rmd160"||ts==="ripemd160"?new $a("rmd160",is):ts==="md5"?new fn(_i,is):new $a(ts,is)},browser$a}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$1={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512$1={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$1,sha224,sha384,sha512:sha512$1,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$9={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var vn=Math.pow(2,30)-1;return precondition=function(fn,En){if(typeof fn!="number")throw new TypeError("Iterations not a number");if(fn<0)throw new TypeError("Bad iterations");if(typeof En!="number")throw new TypeError("Key length not a number");if(En<0||En>vn||En!==En)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var vn;if(commonjsGlobal.process&&commonjsGlobal.process.browser)vn="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var fn=parseInt(process$1.version.split(".")[0].slice(1),10);vn=fn>=6?"utf-8":"binary"}else vn="utf-8";return defaultEncoding_1=vn,defaultEncoding_1}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var vn=requireSafeBuffer$1().Buffer;return toBuffer=function(fn,En,Cn){if(vn.isBuffer(fn))return fn;if(typeof fn=="string")return vn.from(fn,En);if(ArrayBuffer.isView(fn))return vn.from(fn.buffer);throw new TypeError(Cn+" must be a string, a Buffer, a typed array or a DataView")},toBuffer}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var vn=requireMd5(),fn=requireRipemd160(),En=sha_jsExports,Cn=requireSafeBuffer$1().Buffer,_i=requirePrecondition(),An=requireDefaultEncoding(),ba=requireToBuffer(),xa=Cn.alloc(128),$a={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function rs(cs,us,ps){var bs=ts(cs),e0=cs==="sha512"||cs==="sha384"?128:64;us.length>e0?us=bs(us):us.length<e0&&(us=Cn.concat([us,xa],e0));for(var gs=Cn.allocUnsafe(e0+$a[cs]),Ds=Cn.allocUnsafe(e0+$a[cs]),i0=0;i0<e0;i0++)gs[i0]=us[i0]^54,Ds[i0]=us[i0]^92;var n0=Cn.allocUnsafe(e0+ps+4);gs.copy(n0,0,0,e0),this.ipad1=n0,this.ipad2=gs,this.opad=Ds,this.alg=cs,this.blocksize=e0,this.hash=bs,this.size=$a[cs]}rs.prototype.run=function(cs,us){cs.copy(us,this.blocksize);var ps=this.hash(us);return ps.copy(this.opad,this.blocksize),this.hash(this.opad)};function ts(cs){function us(bs){return En(cs).update(bs).digest()}function ps(bs){return new fn().update(bs).digest()}return cs==="rmd160"||cs==="ripemd160"?ps:cs==="md5"?vn:us}function is(cs,us,ps,bs,e0){_i(ps,bs),cs=ba(cs,An,"Password"),us=ba(us,An,"Salt"),e0=e0||"sha1";var gs=new rs(e0,cs,us.length),Ds=Cn.allocUnsafe(bs),i0=Cn.allocUnsafe(us.length+4);us.copy(i0,0,0,us.length);for(var n0=0,c0=$a[e0],d0=Math.ceil(bs/c0),o0=1;o0<=d0;o0++){i0.writeUInt32BE(o0,us.length);for(var g0=gs.run(i0,gs.ipad1),w0=g0,M0=1;M0<ps;M0++){w0=gs.run(w0,gs.ipad2);for(var ds=0;ds<c0;ds++)g0[ds]^=w0[ds]}g0.copy(Ds,n0),n0+=c0}return Ds}return syncBrowser=is,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var vn=requireSafeBuffer$1().Buffer,fn=requirePrecondition(),En=requireDefaultEncoding(),Cn=requireSyncBrowser(),_i=requireToBuffer(),An,ba=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,xa={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},$a=[];function rs(ps){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!ba||!ba.importKey||!ba.deriveBits)return Promise.resolve(!1);if($a[ps]!==void 0)return $a[ps];An=An||vn.alloc(8);var bs=cs(An,An,10,128,ps).then(function(){return!0}).catch(function(){return!1});return $a[ps]=bs,bs}var ts;function is(){return ts||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?ts=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?ts=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?ts=commonjsGlobal.setImmediate:ts=commonjsGlobal.setTimeout,ts)}function cs(ps,bs,e0,gs,Ds){return ba.importKey("raw",ps,{name:"PBKDF2"},!1,["deriveBits"]).then(function(i0){return ba.deriveBits({name:"PBKDF2",salt:bs,iterations:e0,hash:{name:Ds}},i0,gs<<3)}).then(function(i0){return vn.from(i0)})}function us(ps,bs){ps.then(function(e0){is()(function(){bs(null,e0)})},function(e0){is()(function(){bs(e0)})})}return async=function(ps,bs,e0,gs,Ds,i0){typeof Ds=="function"&&(i0=Ds,Ds=void 0),Ds=Ds||"sha1";var n0=xa[Ds.toLowerCase()];if(!n0||typeof commonjsGlobal.Promise!="function"){is()(function(){var c0;try{c0=Cn(ps,bs,e0,gs,Ds)}catch(d0){return i0(d0)}i0(null,c0)});return}if(fn(e0,gs),ps=_i(ps,En,"Password"),bs=_i(bs,En,"Salt"),typeof i0!="function")throw new Error("No callback provided to pbkdf2");us(rs(n0).then(function(c0){return c0?cs(ps,bs,e0,gs,n0):Cn(ps,bs,e0,gs,Ds)}),i0)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$9.pbkdf2=requireAsync(),browser$9.pbkdf2Sync=requireSyncBrowser()),browser$9}var browser$8={},des$1={},utils$r={},hasRequiredUtils$1;function requireUtils$1(){if(hasRequiredUtils$1)return utils$r;hasRequiredUtils$1=1,utils$r.readUInt32BE=function(_i,An){var ba=_i[0+An]<<24|_i[1+An]<<16|_i[2+An]<<8|_i[3+An];return ba>>>0},utils$r.writeUInt32BE=function(_i,An,ba){_i[0+ba]=An>>>24,_i[1+ba]=An>>>16&255,_i[2+ba]=An>>>8&255,_i[3+ba]=An&255},utils$r.ip=function(_i,An,ba,xa){for(var $a=0,rs=0,ts=6;ts>=0;ts-=2){for(var is=0;is<=24;is+=8)$a<<=1,$a|=An>>>is+ts&1;for(var is=0;is<=24;is+=8)$a<<=1,$a|=_i>>>is+ts&1}for(var ts=6;ts>=0;ts-=2){for(var is=1;is<=25;is+=8)rs<<=1,rs|=An>>>is+ts&1;for(var is=1;is<=25;is+=8)rs<<=1,rs|=_i>>>is+ts&1}ba[xa+0]=$a>>>0,ba[xa+1]=rs>>>0},utils$r.rip=function(_i,An,ba,xa){for(var $a=0,rs=0,ts=0;ts<4;ts++)for(var is=24;is>=0;is-=8)$a<<=1,$a|=An>>>is+ts&1,$a<<=1,$a|=_i>>>is+ts&1;for(var ts=4;ts<8;ts++)for(var is=24;is>=0;is-=8)rs<<=1,rs|=An>>>is+ts&1,rs<<=1,rs|=_i>>>is+ts&1;ba[xa+0]=$a>>>0,ba[xa+1]=rs>>>0},utils$r.pc1=function(_i,An,ba,xa){for(var $a=0,rs=0,ts=7;ts>=5;ts--){for(var is=0;is<=24;is+=8)$a<<=1,$a|=An>>is+ts&1;for(var is=0;is<=24;is+=8)$a<<=1,$a|=_i>>is+ts&1}for(var is=0;is<=24;is+=8)$a<<=1,$a|=An>>is+ts&1;for(var ts=1;ts<=3;ts++){for(var is=0;is<=24;is+=8)rs<<=1,rs|=An>>is+ts&1;for(var is=0;is<=24;is+=8)rs<<=1,rs|=_i>>is+ts&1}for(var is=0;is<=24;is+=8)rs<<=1,rs|=_i>>is+ts&1;ba[xa+0]=$a>>>0,ba[xa+1]=rs>>>0},utils$r.r28shl=function(_i,An){return _i<<An&268435455|_i>>>28-An};var vn=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$r.pc2=function(_i,An,ba,xa){for(var $a=0,rs=0,ts=vn.length>>>1,is=0;is<ts;is++)$a<<=1,$a|=_i>>>vn[is]&1;for(var is=ts;is<vn.length;is++)rs<<=1,rs|=An>>>vn[is]&1;ba[xa+0]=$a>>>0,ba[xa+1]=rs>>>0},utils$r.expand=function(_i,An,ba){var xa=0,$a=0;xa=(_i&1)<<5|_i>>>27;for(var rs=23;rs>=15;rs-=4)xa<<=6,xa|=_i>>>rs&63;for(var rs=11;rs>=3;rs-=4)$a|=_i>>>rs&63,$a<<=6;$a|=(_i&31)<<1|_i>>>31,An[ba+0]=xa>>>0,An[ba+1]=$a>>>0};var fn=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$r.substitute=function(_i,An){for(var ba=0,xa=0;xa<4;xa++){var $a=_i>>>18-xa*6&63,rs=fn[xa*64+$a];ba<<=4,ba|=rs}for(var xa=0;xa<4;xa++){var $a=An>>>18-xa*6&63,rs=fn[4*64+xa*64+$a];ba<<=4,ba|=rs}return ba>>>0};var En=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$r.permute=function(_i){for(var An=0,ba=0;ba<En.length;ba++)An<<=1,An|=_i>>>En[ba]&1;return An>>>0},utils$r.padSplit=function(_i,An,ba){for(var xa=_i.toString(2);xa.length<An;)xa="0"+xa;for(var $a=[],rs=0;rs<An;rs+=ba)$a.push(xa.slice(rs,rs+ba));return $a.join(" ")},utils$r}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var vn=minimalisticAssert$1;function fn(En){this.options=En,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=En.padding!==!1}return cipher=fn,fn.prototype._init=function(){},fn.prototype.update=function(Cn){return Cn.length===0?[]:this.type==="decrypt"?this._updateDecrypt(Cn):this._updateEncrypt(Cn)},fn.prototype._buffer=function(Cn,_i){for(var An=Math.min(this.buffer.length-this.bufferOff,Cn.length-_i),ba=0;ba<An;ba++)this.buffer[this.bufferOff+ba]=Cn[_i+ba];return this.bufferOff+=An,An},fn.prototype._flushBuffer=function(Cn,_i){return this._update(this.buffer,0,Cn,_i),this.bufferOff=0,this.blockSize},fn.prototype._updateEncrypt=function(Cn){var _i=0,An=0,ba=(this.bufferOff+Cn.length)/this.blockSize|0,xa=new Array(ba*this.blockSize);this.bufferOff!==0&&(_i+=this._buffer(Cn,_i),this.bufferOff===this.buffer.length&&(An+=this._flushBuffer(xa,An)));for(var $a=Cn.length-(Cn.length-_i)%this.blockSize;_i<$a;_i+=this.blockSize)this._update(Cn,_i,xa,An),An+=this.blockSize;for(;_i<Cn.length;_i++,this.bufferOff++)this.buffer[this.bufferOff]=Cn[_i];return xa},fn.prototype._updateDecrypt=function(Cn){for(var _i=0,An=0,ba=Math.ceil((this.bufferOff+Cn.length)/this.blockSize)-1,xa=new Array(ba*this.blockSize);ba>0;ba--)_i+=this._buffer(Cn,_i),An+=this._flushBuffer(xa,An);return _i+=this._buffer(Cn,_i),xa},fn.prototype.final=function(Cn){var _i;Cn&&(_i=this.update(Cn));var An;return this.type==="encrypt"?An=this._finalEncrypt():An=this._finalDecrypt(),_i?_i.concat(An):An},fn.prototype._pad=function(Cn,_i){if(_i===0)return!1;for(;_i<Cn.length;)Cn[_i++]=0;return!0},fn.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var Cn=new Array(this.blockSize);return this._update(this.buffer,0,Cn,0),Cn},fn.prototype._unpad=function(Cn){return Cn},fn.prototype._finalDecrypt=function(){vn.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var Cn=new Array(this.blockSize);return this._flushBuffer(Cn,0),this._unpad(Cn)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var vn=minimalisticAssert$1,fn=inherits_browserExports,En=requireUtils$1(),Cn=requireCipher();function _i(){this.tmp=new Array(2),this.keys=null}function An(xa){Cn.call(this,xa);var $a=new _i;this._desState=$a,this.deriveKeys($a,xa.key)}fn(An,Cn),des=An,An.create=function($a){return new An($a)};var ba=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return An.prototype.deriveKeys=function($a,rs){$a.keys=new Array(16*2),vn.equal(rs.length,this.blockSize,"Invalid key length");var ts=En.readUInt32BE(rs,0),is=En.readUInt32BE(rs,4);En.pc1(ts,is,$a.tmp,0),ts=$a.tmp[0],is=$a.tmp[1];for(var cs=0;cs<$a.keys.length;cs+=2){var us=ba[cs>>>1];ts=En.r28shl(ts,us),is=En.r28shl(is,us),En.pc2(ts,is,$a.keys,cs)}},An.prototype._update=function($a,rs,ts,is){var cs=this._desState,us=En.readUInt32BE($a,rs),ps=En.readUInt32BE($a,rs+4);En.ip(us,ps,cs.tmp,0),us=cs.tmp[0],ps=cs.tmp[1],this.type==="encrypt"?this._encrypt(cs,us,ps,cs.tmp,0):this._decrypt(cs,us,ps,cs.tmp,0),us=cs.tmp[0],ps=cs.tmp[1],En.writeUInt32BE(ts,us,is),En.writeUInt32BE(ts,ps,is+4)},An.prototype._pad=function($a,rs){if(this.padding===!1)return!1;for(var ts=$a.length-rs,is=rs;is<$a.length;is++)$a[is]=ts;return!0},An.prototype._unpad=function($a){if(this.padding===!1)return $a;for(var rs=$a[$a.length-1],ts=$a.length-rs;ts<$a.length;ts++)vn.equal($a[ts],rs);return $a.slice(0,$a.length-rs)},An.prototype._encrypt=function($a,rs,ts,is,cs){for(var us=rs,ps=ts,bs=0;bs<$a.keys.length;bs+=2){var e0=$a.keys[bs],gs=$a.keys[bs+1];En.expand(ps,$a.tmp,0),e0^=$a.tmp[0],gs^=$a.tmp[1];var Ds=En.substitute(e0,gs),i0=En.permute(Ds),n0=ps;ps=(us^i0)>>>0,us=n0}En.rip(ps,us,is,cs)},An.prototype._decrypt=function($a,rs,ts,is,cs){for(var us=ts,ps=rs,bs=$a.keys.length-2;bs>=0;bs-=2){var e0=$a.keys[bs],gs=$a.keys[bs+1];En.expand(us,$a.tmp,0),e0^=$a.tmp[0],gs^=$a.tmp[1];var Ds=En.substitute(e0,gs),i0=En.permute(Ds),n0=us;us=(ps^i0)>>>0,ps=n0}En.rip(us,ps,is,cs)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var vn=minimalisticAssert$1,fn=inherits_browserExports,En={};function Cn(An){vn.equal(An.length,8,"Invalid IV length"),this.iv=new Array(8);for(var ba=0;ba<this.iv.length;ba++)this.iv[ba]=An[ba]}function _i(An){function ba(ts){An.call(this,ts),this._cbcInit()}fn(ba,An);for(var xa=Object.keys(En),$a=0;$a<xa.length;$a++){var rs=xa[$a];ba.prototype[rs]=En[rs]}return ba.create=function(is){return new ba(is)},ba}return cbc$1.instantiate=_i,En._cbcInit=function(){var ba=new Cn(this.options.iv);this._cbcState=ba},En._update=function(ba,xa,$a,rs){var ts=this._cbcState,is=this.constructor.super_.prototype,cs=ts.iv;if(this.type==="encrypt"){for(var us=0;us<this.blockSize;us++)cs[us]^=ba[xa+us];is._update.call(this,cs,0,$a,rs);for(var us=0;us<this.blockSize;us++)cs[us]=$a[rs+us]}else{is._update.call(this,ba,xa,$a,rs);for(var us=0;us<this.blockSize;us++)$a[rs+us]^=cs[us];for(var us=0;us<this.blockSize;us++)cs[us]=ba[xa+us]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var vn=minimalisticAssert$1,fn=inherits_browserExports,En=requireCipher(),Cn=requireDes$1();function _i(ba,xa){vn.equal(xa.length,24,"Invalid key length");var $a=xa.slice(0,8),rs=xa.slice(8,16),ts=xa.slice(16,24);ba==="encrypt"?this.ciphers=[Cn.create({type:"encrypt",key:$a}),Cn.create({type:"decrypt",key:rs}),Cn.create({type:"encrypt",key:ts})]:this.ciphers=[Cn.create({type:"decrypt",key:ts}),Cn.create({type:"encrypt",key:rs}),Cn.create({type:"decrypt",key:$a})]}function An(ba){En.call(this,ba);var xa=new _i(this.type,this.options.key);this._edeState=xa}return fn(An,En),ede=An,An.create=function(xa){return new An(xa)},An.prototype._update=function(xa,$a,rs,ts){var is=this._edeState;is.ciphers[0]._update(xa,$a,rs,ts),is.ciphers[1]._update(rs,ts,rs,ts),is.ciphers[2]._update(rs,ts,rs,ts)},An.prototype._pad=Cn.prototype._pad,An.prototype._unpad=Cn.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$1(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var vn=requireCipherBase(),fn=requireDes(),En=inherits_browserExports,Cn=requireSafeBuffer$1().Buffer,_i={"des-ede3-cbc":fn.CBC.instantiate(fn.EDE),"des-ede3":fn.EDE,"des-ede-cbc":fn.CBC.instantiate(fn.EDE),"des-ede":fn.EDE,"des-cbc":fn.CBC.instantiate(fn.DES),"des-ecb":fn.DES};_i.des=_i["des-cbc"],_i.des3=_i["des-ede3-cbc"],browserifyDes=An,En(An,vn);function An(ba){vn.call(this);var xa=ba.mode.toLowerCase(),$a=_i[xa],rs;ba.decrypt?rs="decrypt":rs="encrypt";var ts=ba.key;Cn.isBuffer(ts)||(ts=Cn.from(ts)),(xa==="des-ede"||xa==="des-ede-cbc")&&(ts=Cn.concat([ts,ts.slice(0,8)]));var is=ba.iv;Cn.isBuffer(is)||(is=Cn.from(is)),this._des=$a.create({key:ts,iv:is,type:rs})}return An.prototype._update=function(ba){return Cn.from(this._des.update(ba))},An.prototype._final=function(){return Cn.from(this._des.final())},browserifyDes}var browser$7={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(vn,fn){return vn._cipher.encryptBlock(fn)},ecb.decrypt=function(vn,fn){return vn._cipher.decryptBlock(fn)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(fn,En){for(var Cn=Math.min(fn.length,En.length),_i=new Buffer$7(Cn),An=0;An<Cn;++An)_i[An]=fn[An]^En[An];return _i}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var vn=requireBufferXor();return cbc.encrypt=function(fn,En){var Cn=vn(En,fn._prev);return fn._prev=fn._cipher.encryptBlock(Cn),fn._prev},cbc.decrypt=function(fn,En){var Cn=fn._prev;fn._prev=En;var _i=fn._cipher.decryptBlock(En);return vn(_i,Cn)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var vn=requireSafeBuffer$1().Buffer,fn=requireBufferXor();function En(Cn,_i,An){var ba=_i.length,xa=fn(_i,Cn._cache);return Cn._cache=Cn._cache.slice(ba),Cn._prev=vn.concat([Cn._prev,An?_i:xa]),xa}return cfb.encrypt=function(Cn,_i,An){for(var ba=vn.allocUnsafe(0),xa;_i.length;)if(Cn._cache.length===0&&(Cn._cache=Cn._cipher.encryptBlock(Cn._prev),Cn._prev=vn.allocUnsafe(0)),Cn._cache.length<=_i.length)xa=Cn._cache.length,ba=vn.concat([ba,En(Cn,_i.slice(0,xa),An)]),_i=_i.slice(xa);else{ba=vn.concat([ba,En(Cn,_i,An)]);break}return ba},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var vn=requireSafeBuffer$1().Buffer;function fn(En,Cn,_i){var An=En._cipher.encryptBlock(En._prev),ba=An[0]^Cn;return En._prev=vn.concat([En._prev.slice(1),vn.from([_i?Cn:ba])]),ba}return cfb8.encrypt=function(En,Cn,_i){for(var An=Cn.length,ba=vn.allocUnsafe(An),xa=-1;++xa<An;)ba[xa]=fn(En,Cn[xa],_i);return ba},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var vn=requireSafeBuffer$1().Buffer;function fn(Cn,_i,An){for(var ba,xa=-1,$a=8,rs=0,ts,is;++xa<$a;)ba=Cn._cipher.encryptBlock(Cn._prev),ts=_i&1<<7-xa?128:0,is=ba[0]^ts,rs+=(is&128)>>xa%8,Cn._prev=En(Cn._prev,An?ts:is);return rs}function En(Cn,_i){var An=Cn.length,ba=-1,xa=vn.allocUnsafe(Cn.length);for(Cn=vn.concat([Cn,vn.from([_i])]);++ba<An;)xa[ba]=Cn[ba]<<1|Cn[ba+1]>>7;return xa}return cfb1.encrypt=function(Cn,_i,An){for(var ba=_i.length,xa=vn.allocUnsafe(ba),$a=-1;++$a<ba;)xa[$a]=fn(Cn,_i[$a],An);return xa},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var vn=requireBufferXor();function fn(En){return En._prev=En._cipher.encryptBlock(En._prev),En._prev}return ofb.encrypt=function(En,Cn){for(;En._cache.length<Cn.length;)En._cache=Buffer$7.concat([En._cache,fn(En)]);var _i=En._cache.slice(0,Cn.length);return En._cache=En._cache.slice(Cn.length),vn(Cn,_i)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function vn(fn){for(var En=fn.length,Cn;En--;)if(Cn=fn.readUInt8(En),Cn===255)fn.writeUInt8(0,En);else{Cn++,fn.writeUInt8(Cn,En);break}}return incr32_1=vn,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var vn=requireBufferXor(),fn=requireSafeBuffer$1().Buffer,En=requireIncr32();function Cn(An){var ba=An._cipher.encryptBlockRaw(An._prev);return En(An._prev),ba}var _i=16;return ctr.encrypt=function(An,ba){var xa=Math.ceil(ba.length/_i),$a=An._cache.length;An._cache=fn.concat([An._cache,fn.allocUnsafe(xa*_i)]);for(var rs=0;rs<xa;rs++){var ts=Cn(An),is=$a+rs*_i;An._cache.writeUInt32BE(ts[0],is+0),An._cache.writeUInt32BE(ts[1],is+4),An._cache.writeUInt32BE(ts[2],is+8),An._cache.writeUInt32BE(ts[3],is+12)}var cs=An._cache.slice(0,ba.length);return An._cache=An._cache.slice(ba.length),vn(ba,cs)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var vn={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},fn=require$$2;for(var En in fn)fn[En].module=vn[fn[En].mode];return modes_1=fn,modes_1}var aes={},hasRequiredAes;function requireAes(){if(hasRequiredAes)return aes;hasRequiredAes=1;var vn=requireSafeBuffer$1().Buffer;function fn(xa){vn.isBuffer(xa)||(xa=vn.from(xa));for(var $a=xa.length/4|0,rs=new Array($a),ts=0;ts<$a;ts++)rs[ts]=xa.readUInt32BE(ts*4);return rs}function En(xa){for(var $a=0;$a<xa.length;xa++)xa[$a]=0}function Cn(xa,$a,rs,ts,is){for(var cs=rs[0],us=rs[1],ps=rs[2],bs=rs[3],e0=xa[0]^$a[0],gs=xa[1]^$a[1],Ds=xa[2]^$a[2],i0=xa[3]^$a[3],n0,c0,d0,o0,g0=4,w0=1;w0<is;w0++)n0=cs[e0>>>24]^us[gs>>>16&255]^ps[Ds>>>8&255]^bs[i0&255]^$a[g0++],c0=cs[gs>>>24]^us[Ds>>>16&255]^ps[i0>>>8&255]^bs[e0&255]^$a[g0++],d0=cs[Ds>>>24]^us[i0>>>16&255]^ps[e0>>>8&255]^bs[gs&255]^$a[g0++],o0=cs[i0>>>24]^us[e0>>>16&255]^ps[gs>>>8&255]^bs[Ds&255]^$a[g0++],e0=n0,gs=c0,Ds=d0,i0=o0;return n0=(ts[e0>>>24]<<24|ts[gs>>>16&255]<<16|ts[Ds>>>8&255]<<8|ts[i0&255])^$a[g0++],c0=(ts[gs>>>24]<<24|ts[Ds>>>16&255]<<16|ts[i0>>>8&255]<<8|ts[e0&255])^$a[g0++],d0=(ts[Ds>>>24]<<24|ts[i0>>>16&255]<<16|ts[e0>>>8&255]<<8|ts[gs&255])^$a[g0++],o0=(ts[i0>>>24]<<24|ts[e0>>>16&255]<<16|ts[gs>>>8&255]<<8|ts[Ds&255])^$a[g0++],n0=n0>>>0,c0=c0>>>0,d0=d0>>>0,o0=o0>>>0,[n0,c0,d0,o0]}var _i=[0,1,2,4,8,16,32,64,128,27,54],An=function(){for(var xa=new Array(256),$a=0;$a<256;$a++)$a<128?xa[$a]=$a<<1:xa[$a]=$a<<1^283;for(var rs=[],ts=[],is=[[],[],[],[]],cs=[[],[],[],[]],us=0,ps=0,bs=0;bs<256;++bs){var e0=ps^ps<<1^ps<<2^ps<<3^ps<<4;e0=e0>>>8^e0&255^99,rs[us]=e0,ts[e0]=us;var gs=xa[us],Ds=xa[gs],i0=xa[Ds],n0=xa[e0]*257^e0*16843008;is[0][us]=n0<<24|n0>>>8,is[1][us]=n0<<16|n0>>>16,is[2][us]=n0<<8|n0>>>24,is[3][us]=n0,n0=i0*16843009^Ds*65537^gs*257^us*16843008,cs[0][e0]=n0<<24|n0>>>8,cs[1][e0]=n0<<16|n0>>>16,cs[2][e0]=n0<<8|n0>>>24,cs[3][e0]=n0,us===0?us=ps=1:(us=gs^xa[xa[xa[i0^gs]]],ps^=xa[xa[ps]])}return{SBOX:rs,INV_SBOX:ts,SUB_MIX:is,INV_SUB_MIX:cs}}();function ba(xa){this._key=fn(xa),this._reset()}return ba.blockSize=4*4,ba.keySize=256/8,ba.prototype.blockSize=ba.blockSize,ba.prototype.keySize=ba.keySize,ba.prototype._reset=function(){for(var xa=this._key,$a=xa.length,rs=$a+6,ts=(rs+1)*4,is=[],cs=0;cs<$a;cs++)is[cs]=xa[cs];for(cs=$a;cs<ts;cs++){var us=is[cs-1];cs%$a===0?(us=us<<8|us>>>24,us=An.SBOX[us>>>24]<<24|An.SBOX[us>>>16&255]<<16|An.SBOX[us>>>8&255]<<8|An.SBOX[us&255],us^=_i[cs/$a|0]<<24):$a>6&&cs%$a===4&&(us=An.SBOX[us>>>24]<<24|An.SBOX[us>>>16&255]<<16|An.SBOX[us>>>8&255]<<8|An.SBOX[us&255]),is[cs]=is[cs-$a]^us}for(var ps=[],bs=0;bs<ts;bs++){var e0=ts-bs,gs=is[e0-(bs%4?0:4)];bs<4||e0<=4?ps[bs]=gs:ps[bs]=An.INV_SUB_MIX[0][An.SBOX[gs>>>24]]^An.INV_SUB_MIX[1][An.SBOX[gs>>>16&255]]^An.INV_SUB_MIX[2][An.SBOX[gs>>>8&255]]^An.INV_SUB_MIX[3][An.SBOX[gs&255]]}this._nRounds=rs,this._keySchedule=is,this._invKeySchedule=ps},ba.prototype.encryptBlockRaw=function(xa){return xa=fn(xa),Cn(xa,this._keySchedule,An.SUB_MIX,An.SBOX,this._nRounds)},ba.prototype.encryptBlock=function(xa){var $a=this.encryptBlockRaw(xa),rs=vn.allocUnsafe(16);return rs.writeUInt32BE($a[0],0),rs.writeUInt32BE($a[1],4),rs.writeUInt32BE($a[2],8),rs.writeUInt32BE($a[3],12),rs},ba.prototype.decryptBlock=function(xa){xa=fn(xa);var $a=xa[1];xa[1]=xa[3],xa[3]=$a;var rs=Cn(xa,this._invKeySchedule,An.INV_SUB_MIX,An.INV_SBOX,this._nRounds),ts=vn.allocUnsafe(16);return ts.writeUInt32BE(rs[0],0),ts.writeUInt32BE(rs[3],4),ts.writeUInt32BE(rs[2],8),ts.writeUInt32BE(rs[1],12),ts},ba.prototype.scrub=function(){En(this._keySchedule),En(this._invKeySchedule),En(this._key)},aes.AES=ba,aes}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var vn=requireSafeBuffer$1().Buffer,fn=vn.alloc(16,0);function En(An){return[An.readUInt32BE(0),An.readUInt32BE(4),An.readUInt32BE(8),An.readUInt32BE(12)]}function Cn(An){var ba=vn.allocUnsafe(16);return ba.writeUInt32BE(An[0]>>>0,0),ba.writeUInt32BE(An[1]>>>0,4),ba.writeUInt32BE(An[2]>>>0,8),ba.writeUInt32BE(An[3]>>>0,12),ba}function _i(An){this.h=An,this.state=vn.alloc(16,0),this.cache=vn.allocUnsafe(0)}return _i.prototype.ghash=function(An){for(var ba=-1;++ba<An.length;)this.state[ba]^=An[ba];this._multiply()},_i.prototype._multiply=function(){for(var An=En(this.h),ba=[0,0,0,0],xa,$a,rs,ts=-1;++ts<128;){for($a=(this.state[~~(ts/8)]&1<<7-ts%8)!==0,$a&&(ba[0]^=An[0],ba[1]^=An[1],ba[2]^=An[2],ba[3]^=An[3]),rs=(An[3]&1)!==0,xa=3;xa>0;xa--)An[xa]=An[xa]>>>1|(An[xa-1]&1)<<31;An[0]=An[0]>>>1,rs&&(An[0]=An[0]^225<<24)}this.state=Cn(ba)},_i.prototype.update=function(An){this.cache=vn.concat([this.cache,An]);for(var ba;this.cache.length>=16;)ba=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(ba)},_i.prototype.final=function(An,ba){return this.cache.length&&this.ghash(vn.concat([this.cache,fn],16)),this.ghash(Cn([0,An,0,ba])),this.state},ghash=_i,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var vn=requireAes(),fn=requireSafeBuffer$1().Buffer,En=requireCipherBase(),Cn=inherits_browserExports,_i=requireGhash(),An=requireBufferXor(),ba=requireIncr32();function xa(ts,is){var cs=0;ts.length!==is.length&&cs++;for(var us=Math.min(ts.length,is.length),ps=0;ps<us;++ps)cs+=ts[ps]^is[ps];return cs}function $a(ts,is,cs){if(is.length===12)return ts._finID=fn.concat([is,fn.from([0,0,0,1])]),fn.concat([is,fn.from([0,0,0,2])]);var us=new _i(cs),ps=is.length,bs=ps%16;us.update(is),bs&&(bs=16-bs,us.update(fn.alloc(bs,0))),us.update(fn.alloc(8,0));var e0=ps*8,gs=fn.alloc(8);gs.writeUIntBE(e0,0,8),us.update(gs),ts._finID=us.state;var Ds=fn.from(ts._finID);return ba(Ds),Ds}function rs(ts,is,cs,us){En.call(this);var ps=fn.alloc(4,0);this._cipher=new vn.AES(is);var bs=this._cipher.encryptBlock(ps);this._ghash=new _i(bs),cs=$a(this,cs,bs),this._prev=fn.from(cs),this._cache=fn.allocUnsafe(0),this._secCache=fn.allocUnsafe(0),this._decrypt=us,this._alen=0,this._len=0,this._mode=ts,this._authTag=null,this._called=!1}return Cn(rs,En),rs.prototype._update=function(ts){if(!this._called&&this._alen){var is=16-this._alen%16;is<16&&(is=fn.alloc(is,0),this._ghash.update(is))}this._called=!0;var cs=this._mode.encrypt(this,ts);return this._decrypt?this._ghash.update(ts):this._ghash.update(cs),this._len+=ts.length,cs},rs.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var ts=An(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&xa(ts,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=ts,this._cipher.scrub()},rs.prototype.getAuthTag=function(){if(this._decrypt||!fn.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},rs.prototype.setAuthTag=function(is){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=is},rs.prototype.setAAD=function(is){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(is),this._alen+=is.length},authCipher=rs,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var vn=requireAes(),fn=requireSafeBuffer$1().Buffer,En=requireCipherBase(),Cn=inherits_browserExports;function _i(An,ba,xa,$a){En.call(this),this._cipher=new vn.AES(ba),this._prev=fn.from(xa),this._cache=fn.allocUnsafe(0),this._secCache=fn.allocUnsafe(0),this._decrypt=$a,this._mode=An}return Cn(_i,En),_i.prototype._update=function(An){return this._mode.encrypt(this,An,this._decrypt)},_i.prototype._final=function(){this._cipher.scrub()},streamCipher=_i,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var vn=requireSafeBuffer$1().Buffer,fn=requireMd5_js();function En(Cn,_i,An,ba){if(vn.isBuffer(Cn)||(Cn=vn.from(Cn,"binary")),_i&&(vn.isBuffer(_i)||(_i=vn.from(_i,"binary")),_i.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var xa=An/8,$a=vn.alloc(xa),rs=vn.alloc(ba||0),ts=vn.alloc(0);xa>0||ba>0;){var is=new fn;is.update(ts),is.update(Cn),_i&&is.update(_i),ts=is.digest();var cs=0;if(xa>0){var us=$a.length-xa;cs=Math.min(xa,ts.length),ts.copy($a,us,0,cs),xa-=cs}if(cs<ts.length&&ba>0){var ps=rs.length-ba,bs=Math.min(ba,ts.length-cs);ts.copy(rs,ps,cs,cs+bs),ba-=bs}}return ts.fill(0),{key:$a,iv:rs}}return evp_bytestokey=En,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var vn=requireModes$1(),fn=requireAuthCipher(),En=requireSafeBuffer$1().Buffer,Cn=requireStreamCipher(),_i=requireCipherBase(),An=requireAes(),ba=requireEvp_bytestokey(),xa=inherits_browserExports;function $a(us,ps,bs){_i.call(this),this._cache=new ts,this._cipher=new An.AES(ps),this._prev=En.from(bs),this._mode=us,this._autopadding=!0}xa($a,_i),$a.prototype._update=function(us){this._cache.add(us);for(var ps,bs,e0=[];ps=this._cache.get();)bs=this._mode.encrypt(this,ps),e0.push(bs);return En.concat(e0)};var rs=En.alloc(16,16);$a.prototype._final=function(){var us=this._cache.flush();if(this._autopadding)return us=this._mode.encrypt(this,us),this._cipher.scrub(),us;if(!us.equals(rs))throw this._cipher.scrub(),new Error("data not multiple of block length")},$a.prototype.setAutoPadding=function(us){return this._autopadding=!!us,this};function ts(){this.cache=En.allocUnsafe(0)}ts.prototype.add=function(us){this.cache=En.concat([this.cache,us])},ts.prototype.get=function(){if(this.cache.length>15){var us=this.cache.slice(0,16);return this.cache=this.cache.slice(16),us}return null},ts.prototype.flush=function(){for(var us=16-this.cache.length,ps=En.allocUnsafe(us),bs=-1;++bs<us;)ps.writeUInt8(us,bs);return En.concat([this.cache,ps])};function is(us,ps,bs){var e0=vn[us.toLowerCase()];if(!e0)throw new TypeError("invalid suite type");if(typeof ps=="string"&&(ps=En.from(ps)),ps.length!==e0.key/8)throw new TypeError("invalid key length "+ps.length);if(typeof bs=="string"&&(bs=En.from(bs)),e0.mode!=="GCM"&&bs.length!==e0.iv)throw new TypeError("invalid iv length "+bs.length);return e0.type==="stream"?new Cn(e0.module,ps,bs):e0.type==="auth"?new fn(e0.module,ps,bs):new $a(e0.module,ps,bs)}function cs(us,ps){var bs=vn[us.toLowerCase()];if(!bs)throw new TypeError("invalid suite type");var e0=ba(ps,!1,bs.key,bs.iv);return is(us,e0.key,e0.iv)}return encrypter.createCipheriv=is,encrypter.createCipher=cs,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var vn=requireAuthCipher(),fn=requireSafeBuffer$1().Buffer,En=requireModes$1(),Cn=requireStreamCipher(),_i=requireCipherBase(),An=requireAes(),ba=requireEvp_bytestokey(),xa=inherits_browserExports;function $a(us,ps,bs){_i.call(this),this._cache=new rs,this._last=void 0,this._cipher=new An.AES(ps),this._prev=fn.from(bs),this._mode=us,this._autopadding=!0}xa($a,_i),$a.prototype._update=function(us){this._cache.add(us);for(var ps,bs,e0=[];ps=this._cache.get(this._autopadding);)bs=this._mode.decrypt(this,ps),e0.push(bs);return fn.concat(e0)},$a.prototype._final=function(){var us=this._cache.flush();if(this._autopadding)return ts(this._mode.decrypt(this,us));if(us)throw new Error("data not multiple of block length")},$a.prototype.setAutoPadding=function(us){return this._autopadding=!!us,this};function rs(){this.cache=fn.allocUnsafe(0)}rs.prototype.add=function(us){this.cache=fn.concat([this.cache,us])},rs.prototype.get=function(us){var ps;if(us){if(this.cache.length>16)return ps=this.cache.slice(0,16),this.cache=this.cache.slice(16),ps}else if(this.cache.length>=16)return ps=this.cache.slice(0,16),this.cache=this.cache.slice(16),ps;return null},rs.prototype.flush=function(){if(this.cache.length)return this.cache};function ts(us){var ps=us[15];if(ps<1||ps>16)throw new Error("unable to decrypt data");for(var bs=-1;++bs<ps;)if(us[bs+(16-ps)]!==ps)throw new Error("unable to decrypt data");if(ps!==16)return us.slice(0,16-ps)}function is(us,ps,bs){var e0=En[us.toLowerCase()];if(!e0)throw new TypeError("invalid suite type");if(typeof bs=="string"&&(bs=fn.from(bs)),e0.mode!=="GCM"&&bs.length!==e0.iv)throw new TypeError("invalid iv length "+bs.length);if(typeof ps=="string"&&(ps=fn.from(ps)),ps.length!==e0.key/8)throw new TypeError("invalid key length "+ps.length);return e0.type==="stream"?new Cn(e0.module,ps,bs,!0):e0.type==="auth"?new vn(e0.module,ps,bs,!0):new $a(e0.module,ps,bs)}function cs(us,ps){var bs=En[us.toLowerCase()];if(!bs)throw new TypeError("invalid suite type");var e0=ba(ps,!1,bs.key,bs.iv);return is(us,e0.key,e0.iv)}return decrypter.createDecipher=cs,decrypter.createDecipheriv=is,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$7;hasRequiredBrowser$6=1;var vn=requireEncrypter(),fn=requireDecrypter(),En=require$$2;function Cn(){return Object.keys(En)}return browser$7.createCipher=browser$7.Cipher=vn.createCipher,browser$7.createCipheriv=browser$7.Cipheriv=vn.createCipheriv,browser$7.createDecipher=browser$7.Decipher=fn.createDecipher,browser$7.createDecipheriv=browser$7.Decipheriv=fn.createDecipheriv,browser$7.listCiphers=browser$7.getCiphers=Cn,browser$7}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(vn){vn["des-ecb"]={key:8,iv:0},vn["des-cbc"]=vn.des={key:8,iv:8},vn["des-ede3-cbc"]=vn.des3={key:24,iv:8},vn["des-ede3"]={key:24,iv:0},vn["des-ede-cbc"]={key:16,iv:8},vn["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$8;hasRequiredBrowser$5=1;var vn=requireBrowserifyDes(),fn=requireBrowser$6(),En=requireModes$1(),Cn=requireModes(),_i=requireEvp_bytestokey();function An(ts,is){ts=ts.toLowerCase();var cs,us;if(En[ts])cs=En[ts].key,us=En[ts].iv;else if(Cn[ts])cs=Cn[ts].key*8,us=Cn[ts].iv;else throw new TypeError("invalid suite type");var ps=_i(is,!1,cs,us);return xa(ts,ps.key,ps.iv)}function ba(ts,is){ts=ts.toLowerCase();var cs,us;if(En[ts])cs=En[ts].key,us=En[ts].iv;else if(Cn[ts])cs=Cn[ts].key*8,us=Cn[ts].iv;else throw new TypeError("invalid suite type");var ps=_i(is,!1,cs,us);return $a(ts,ps.key,ps.iv)}function xa(ts,is,cs){if(ts=ts.toLowerCase(),En[ts])return fn.createCipheriv(ts,is,cs);if(Cn[ts])return new vn({key:is,iv:cs,mode:ts});throw new TypeError("invalid suite type")}function $a(ts,is,cs){if(ts=ts.toLowerCase(),En[ts])return fn.createDecipheriv(ts,is,cs);if(Cn[ts])return new vn({key:is,iv:cs,mode:ts,decrypt:!0});throw new TypeError("invalid suite type")}function rs(){return Object.keys(Cn).concat(fn.getCiphers())}return browser$8.createCipher=browser$8.Cipher=An,browser$8.createCipheriv=browser$8.Cipheriv=xa,browser$8.createDecipher=browser$8.Decipher=ba,browser$8.createDecipheriv=browser$8.Decipheriv=$a,browser$8.listCiphers=browser$8.getCiphers=rs,browser$8}var browser$6={},bn$a={exports:{}};bn$a.exports;var hasRequiredBn$5;function requireBn$5(){return hasRequiredBn$5||(hasRequiredBn$5=1,function(vn){(function(fn,En){function Cn(ds,na){if(!ds)throw new Error(na||"Assertion failed")}function _i(ds,na){ds.super_=na;var _a=function(){};_a.prototype=na.prototype,ds.prototype=new _a,ds.prototype.constructor=ds}function An(ds,na,_a){if(An.isBN(ds))return ds;this.negative=0,this.words=null,this.length=0,this.red=null,ds!==null&&((na==="le"||na==="be")&&(_a=na,na=10),this._init(ds||0,na||10,_a||"be"))}typeof fn=="object"?fn.exports=An:En.BN=An,An.BN=An,An.wordSize=26;var ba;try{typeof window<"u"&&typeof window.Buffer<"u"?ba=window.Buffer:ba=require$$0$a.Buffer}catch{}An.isBN=function(na){return na instanceof An?!0:na!==null&&typeof na=="object"&&na.constructor.wordSize===An.wordSize&&Array.isArray(na.words)},An.max=function(na,_a){return na.cmp(_a)>0?na:_a},An.min=function(na,_a){return na.cmp(_a)<0?na:_a},An.prototype._init=function(na,_a,es){if(typeof na=="number")return this._initNumber(na,_a,es);if(typeof na=="object")return this._initArray(na,_a,es);_a==="hex"&&(_a=16),Cn(_a===(_a|0)&&_a>=2&&_a<=36),na=na.toString().replace(/\s+/g,"");var ns=0;na[0]==="-"&&(ns++,this.negative=1),ns<na.length&&(_a===16?this._parseHex(na,ns,es):(this._parseBase(na,_a,ns),es==="le"&&this._initArray(this.toArray(),_a,es)))},An.prototype._initNumber=function(na,_a,es){na<0&&(this.negative=1,na=-na),na<67108864?(this.words=[na&67108863],this.length=1):na<4503599627370496?(this.words=[na&67108863,na/67108864&67108863],this.length=2):(Cn(na<9007199254740992),this.words=[na&67108863,na/67108864&67108863,1],this.length=3),es==="le"&&this._initArray(this.toArray(),_a,es)},An.prototype._initArray=function(na,_a,es){if(Cn(typeof na.length=="number"),na.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(na.length/3),this.words=new Array(this.length);for(var ns=0;ns<this.length;ns++)this.words[ns]=0;var os,ls,hs=0;if(es==="be")for(ns=na.length-1,os=0;ns>=0;ns-=3)ls=na[ns]|na[ns-1]<<8|na[ns-2]<<16,this.words[os]|=ls<<hs&67108863,this.words[os+1]=ls>>>26-hs&67108863,hs+=24,hs>=26&&(hs-=26,os++);else if(es==="le")for(ns=0,os=0;ns<na.length;ns+=3)ls=na[ns]|na[ns+1]<<8|na[ns+2]<<16,this.words[os]|=ls<<hs&67108863,this.words[os+1]=ls>>>26-hs&67108863,hs+=24,hs>=26&&(hs-=26,os++);return this.strip()};function xa(ds,na){var _a=ds.charCodeAt(na);return _a>=65&&_a<=70?_a-55:_a>=97&&_a<=102?_a-87:_a-48&15}function $a(ds,na,_a){var es=xa(ds,_a);return _a-1>=na&&(es|=xa(ds,_a-1)<<4),es}An.prototype._parseHex=function(na,_a,es){this.length=Math.ceil((na.length-_a)/6),this.words=new Array(this.length);for(var ns=0;ns<this.length;ns++)this.words[ns]=0;var os=0,ls=0,hs;if(es==="be")for(ns=na.length-1;ns>=_a;ns-=2)hs=$a(na,_a,ns)<<os,this.words[ls]|=hs&67108863,os>=18?(os-=18,ls+=1,this.words[ls]|=hs>>>26):os+=8;else{var ss=na.length-_a;for(ns=ss%2===0?_a+1:_a;ns<na.length;ns+=2)hs=$a(na,_a,ns)<<os,this.words[ls]|=hs&67108863,os>=18?(os-=18,ls+=1,this.words[ls]|=hs>>>26):os+=8}this.strip()};function rs(ds,na,_a,es){for(var ns=0,os=Math.min(ds.length,_a),ls=na;ls<os;ls++){var hs=ds.charCodeAt(ls)-48;ns*=es,hs>=49?ns+=hs-49+10:hs>=17?ns+=hs-17+10:ns+=hs}return ns}An.prototype._parseBase=function(na,_a,es){this.words=[0],this.length=1;for(var ns=0,os=1;os<=67108863;os*=_a)ns++;ns--,os=os/_a|0;for(var ls=na.length-es,hs=ls%ns,ss=Math.min(ls,ls-hs)+es,ga=0,as=es;as<ss;as+=ns)ga=rs(na,as,as+ns,_a),this.imuln(os),this.words[0]+ga<67108864?this.words[0]+=ga:this._iaddn(ga);if(hs!==0){var r0=1;for(ga=rs(na,as,na.length,_a),as=0;as<hs;as++)r0*=_a;this.imuln(r0),this.words[0]+ga<67108864?this.words[0]+=ga:this._iaddn(ga)}this.strip()},An.prototype.copy=function(na){na.words=new Array(this.length);for(var _a=0;_a<this.length;_a++)na.words[_a]=this.words[_a];na.length=this.length,na.negative=this.negative,na.red=this.red},An.prototype.clone=function(){var na=new An(null);return this.copy(na),na},An.prototype._expand=function(na){for(;this.length<na;)this.words[this.length++]=0;return this},An.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},An.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},An.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ts=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],is=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],cs=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];An.prototype.toString=function(na,_a){na=na||10,_a=_a|0||1;var es;if(na===16||na==="hex"){es="";for(var ns=0,os=0,ls=0;ls<this.length;ls++){var hs=this.words[ls],ss=((hs<<ns|os)&16777215).toString(16);os=hs>>>24-ns&16777215,ns+=2,ns>=26&&(ns-=26,ls--),os!==0||ls!==this.length-1?es=ts[6-ss.length]+ss+es:es=ss+es}for(os!==0&&(es=os.toString(16)+es);es.length%_a!==0;)es="0"+es;return this.negative!==0&&(es="-"+es),es}if(na===(na|0)&&na>=2&&na<=36){var ga=is[na],as=cs[na];es="";var r0=this.clone();for(r0.negative=0;!r0.isZero();){var a0=r0.modn(as).toString(na);r0=r0.idivn(as),r0.isZero()?es=a0+es:es=ts[ga-a0.length]+a0+es}for(this.isZero()&&(es="0"+es);es.length%_a!==0;)es="0"+es;return this.negative!==0&&(es="-"+es),es}Cn(!1,"Base should be between 2 and 36")},An.prototype.toNumber=function(){var na=this.words[0];return this.length===2?na+=this.words[1]*67108864:this.length===3&&this.words[2]===1?na+=4503599627370496+this.words[1]*67108864:this.length>2&&Cn(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-na:na},An.prototype.toJSON=function(){return this.toString(16)},An.prototype.toBuffer=function(na,_a){return Cn(typeof ba<"u"),this.toArrayLike(ba,na,_a)},An.prototype.toArray=function(na,_a){return this.toArrayLike(Array,na,_a)},An.prototype.toArrayLike=function(na,_a,es){var ns=this.byteLength(),os=es||Math.max(1,ns);Cn(ns<=os,"byte array longer than desired length"),Cn(os>0,"Requested array length <= 0"),this.strip();var ls=_a==="le",hs=new na(os),ss,ga,as=this.clone();if(ls){for(ga=0;!as.isZero();ga++)ss=as.andln(255),as.iushrn(8),hs[ga]=ss;for(;ga<os;ga++)hs[ga]=0}else{for(ga=0;ga<os-ns;ga++)hs[ga]=0;for(ga=0;!as.isZero();ga++)ss=as.andln(255),as.iushrn(8),hs[os-ga-1]=ss}return hs},Math.clz32?An.prototype._countBits=function(na){return 32-Math.clz32(na)}:An.prototype._countBits=function(na){var _a=na,es=0;return _a>=4096&&(es+=13,_a>>>=13),_a>=64&&(es+=7,_a>>>=7),_a>=8&&(es+=4,_a>>>=4),_a>=2&&(es+=2,_a>>>=2),es+_a},An.prototype._zeroBits=function(na){if(na===0)return 26;var _a=na,es=0;return _a&8191||(es+=13,_a>>>=13),_a&127||(es+=7,_a>>>=7),_a&15||(es+=4,_a>>>=4),_a&3||(es+=2,_a>>>=2),_a&1||es++,es},An.prototype.bitLength=function(){var na=this.words[this.length-1],_a=this._countBits(na);return(this.length-1)*26+_a};function us(ds){for(var na=new Array(ds.bitLength()),_a=0;_a<na.length;_a++){var es=_a/26|0,ns=_a%26;na[_a]=(ds.words[es]&1<<ns)>>>ns}return na}An.prototype.zeroBits=function(){if(this.isZero())return 0;for(var na=0,_a=0;_a<this.length;_a++){var es=this._zeroBits(this.words[_a]);if(na+=es,es!==26)break}return na},An.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},An.prototype.toTwos=function(na){return this.negative!==0?this.abs().inotn(na).iaddn(1):this.clone()},An.prototype.fromTwos=function(na){return this.testn(na-1)?this.notn(na).iaddn(1).ineg():this.clone()},An.prototype.isNeg=function(){return this.negative!==0},An.prototype.neg=function(){return this.clone().ineg()},An.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},An.prototype.iuor=function(na){for(;this.length<na.length;)this.words[this.length++]=0;for(var _a=0;_a<na.length;_a++)this.words[_a]=this.words[_a]|na.words[_a];return this.strip()},An.prototype.ior=function(na){return Cn((this.negative|na.negative)===0),this.iuor(na)},An.prototype.or=function(na){return this.length>na.length?this.clone().ior(na):na.clone().ior(this)},An.prototype.uor=function(na){return this.length>na.length?this.clone().iuor(na):na.clone().iuor(this)},An.prototype.iuand=function(na){var _a;this.length>na.length?_a=na:_a=this;for(var es=0;es<_a.length;es++)this.words[es]=this.words[es]&na.words[es];return this.length=_a.length,this.strip()},An.prototype.iand=function(na){return Cn((this.negative|na.negative)===0),this.iuand(na)},An.prototype.and=function(na){return this.length>na.length?this.clone().iand(na):na.clone().iand(this)},An.prototype.uand=function(na){return this.length>na.length?this.clone().iuand(na):na.clone().iuand(this)},An.prototype.iuxor=function(na){var _a,es;this.length>na.length?(_a=this,es=na):(_a=na,es=this);for(var ns=0;ns<es.length;ns++)this.words[ns]=_a.words[ns]^es.words[ns];if(this!==_a)for(;ns<_a.length;ns++)this.words[ns]=_a.words[ns];return this.length=_a.length,this.strip()},An.prototype.ixor=function(na){return Cn((this.negative|na.negative)===0),this.iuxor(na)},An.prototype.xor=function(na){return this.length>na.length?this.clone().ixor(na):na.clone().ixor(this)},An.prototype.uxor=function(na){return this.length>na.length?this.clone().iuxor(na):na.clone().iuxor(this)},An.prototype.inotn=function(na){Cn(typeof na=="number"&&na>=0);var _a=Math.ceil(na/26)|0,es=na%26;this._expand(_a),es>0&&_a--;for(var ns=0;ns<_a;ns++)this.words[ns]=~this.words[ns]&67108863;return es>0&&(this.words[ns]=~this.words[ns]&67108863>>26-es),this.strip()},An.prototype.notn=function(na){return this.clone().inotn(na)},An.prototype.setn=function(na,_a){Cn(typeof na=="number"&&na>=0);var es=na/26|0,ns=na%26;return this._expand(es+1),_a?this.words[es]=this.words[es]|1<<ns:this.words[es]=this.words[es]&~(1<<ns),this.strip()},An.prototype.iadd=function(na){var _a;if(this.negative!==0&&na.negative===0)return this.negative=0,_a=this.isub(na),this.negative^=1,this._normSign();if(this.negative===0&&na.negative!==0)return na.negative=0,_a=this.isub(na),na.negative=1,_a._normSign();var es,ns;this.length>na.length?(es=this,ns=na):(es=na,ns=this);for(var os=0,ls=0;ls<ns.length;ls++)_a=(es.words[ls]|0)+(ns.words[ls]|0)+os,this.words[ls]=_a&67108863,os=_a>>>26;for(;os!==0&&ls<es.length;ls++)_a=(es.words[ls]|0)+os,this.words[ls]=_a&67108863,os=_a>>>26;if(this.length=es.length,os!==0)this.words[this.length]=os,this.length++;else if(es!==this)for(;ls<es.length;ls++)this.words[ls]=es.words[ls];return this},An.prototype.add=function(na){var _a;return na.negative!==0&&this.negative===0?(na.negative=0,_a=this.sub(na),na.negative^=1,_a):na.negative===0&&this.negative!==0?(this.negative=0,_a=na.sub(this),this.negative=1,_a):this.length>na.length?this.clone().iadd(na):na.clone().iadd(this)},An.prototype.isub=function(na){if(na.negative!==0){na.negative=0;var _a=this.iadd(na);return na.negative=1,_a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(na),this.negative=1,this._normSign();var es=this.cmp(na);if(es===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ns,os;es>0?(ns=this,os=na):(ns=na,os=this);for(var ls=0,hs=0;hs<os.length;hs++)_a=(ns.words[hs]|0)-(os.words[hs]|0)+ls,ls=_a>>26,this.words[hs]=_a&67108863;for(;ls!==0&&hs<ns.length;hs++)_a=(ns.words[hs]|0)+ls,ls=_a>>26,this.words[hs]=_a&67108863;if(ls===0&&hs<ns.length&&ns!==this)for(;hs<ns.length;hs++)this.words[hs]=ns.words[hs];return this.length=Math.max(this.length,hs),ns!==this&&(this.negative=1),this.strip()},An.prototype.sub=function(na){return this.clone().isub(na)};function ps(ds,na,_a){_a.negative=na.negative^ds.negative;var es=ds.length+na.length|0;_a.length=es,es=es-1|0;var ns=ds.words[0]|0,os=na.words[0]|0,ls=ns*os,hs=ls&67108863,ss=ls/67108864|0;_a.words[0]=hs;for(var ga=1;ga<es;ga++){for(var as=ss>>>26,r0=ss&67108863,a0=Math.min(ga,na.length-1),l0=Math.max(0,ga-ds.length+1);l0<=a0;l0++){var s0=ga-l0|0;ns=ds.words[s0]|0,os=na.words[l0]|0,ls=ns*os+r0,as+=ls/67108864|0,r0=ls&67108863}_a.words[ga]=r0|0,ss=as|0}return ss!==0?_a.words[ga]=ss|0:_a.length--,_a.strip()}var bs=function(na,_a,es){var ns=na.words,os=_a.words,ls=es.words,hs=0,ss,ga,as,r0=ns[0]|0,a0=r0&8191,l0=r0>>>13,s0=ns[1]|0,b0=s0&8191,f0=s0>>>13,m0=ns[2]|0,y0=m0&8191,t0=m0>>>13,h0=ns[3]|0,p0=h0&8191,E0=h0>>>13,I0=ns[4]|0,C0=I0&8191,$0=I0>>>13,vo=ns[5]|0,P0=vo&8191,S0=vo>>>13,_o=ns[6]|0,O0=_o&8191,B0=_o>>>13,To=ns[7]|0,k0=To&8191,D0=To>>>13,Eo=ns[8]|0,N0=Eo&8191,F0=Eo>>>13,Co=ns[9]|0,x0=Co&8191,u0=Co>>>13,v0=os[0]|0,_0=v0&8191,T0=v0>>>13,j0=os[1]|0,A0=j0&8191,U0=j0>>>13,$o=os[2]|0,L0=$o&8191,V0=$o>>>13,Mo=os[3]|0,G0=Mo&8191,Z0=Mo>>>13,Io=os[4]|0,q0=Io&8191,Y0=Io>>>13,Ro=os[5]|0,z0=Ro&8191,X0=Ro>>>13,Po=os[6]|0,K0=Po&8191,bo=Po>>>13,ko=os[7]|0,W0=ko&8191,J0=ko>>>13,Ao=os[8]|0,H0=Ao&8191,go=Ao>>>13,Bo=os[9]|0,Q0=Bo&8191,wo=Bo>>>13;es.negative=na.negative^_a.negative,es.length=19,ss=Math.imul(a0,_0),ga=Math.imul(a0,T0),ga=ga+Math.imul(l0,_0)|0,as=Math.imul(l0,T0);var No=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(No>>>26)|0,No&=67108863,ss=Math.imul(b0,_0),ga=Math.imul(b0,T0),ga=ga+Math.imul(f0,_0)|0,as=Math.imul(f0,T0),ss=ss+Math.imul(a0,A0)|0,ga=ga+Math.imul(a0,U0)|0,ga=ga+Math.imul(l0,A0)|0,as=as+Math.imul(l0,U0)|0;var Oo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,ss=Math.imul(y0,_0),ga=Math.imul(y0,T0),ga=ga+Math.imul(t0,_0)|0,as=Math.imul(t0,T0),ss=ss+Math.imul(b0,A0)|0,ga=ga+Math.imul(b0,U0)|0,ga=ga+Math.imul(f0,A0)|0,as=as+Math.imul(f0,U0)|0,ss=ss+Math.imul(a0,L0)|0,ga=ga+Math.imul(a0,V0)|0,ga=ga+Math.imul(l0,L0)|0,as=as+Math.imul(l0,V0)|0;var jo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(jo>>>26)|0,jo&=67108863,ss=Math.imul(p0,_0),ga=Math.imul(p0,T0),ga=ga+Math.imul(E0,_0)|0,as=Math.imul(E0,T0),ss=ss+Math.imul(y0,A0)|0,ga=ga+Math.imul(y0,U0)|0,ga=ga+Math.imul(t0,A0)|0,as=as+Math.imul(t0,U0)|0,ss=ss+Math.imul(b0,L0)|0,ga=ga+Math.imul(b0,V0)|0,ga=ga+Math.imul(f0,L0)|0,as=as+Math.imul(f0,V0)|0,ss=ss+Math.imul(a0,G0)|0,ga=ga+Math.imul(a0,Z0)|0,ga=ga+Math.imul(l0,G0)|0,as=as+Math.imul(l0,Z0)|0;var Uo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,ss=Math.imul(C0,_0),ga=Math.imul(C0,T0),ga=ga+Math.imul($0,_0)|0,as=Math.imul($0,T0),ss=ss+Math.imul(p0,A0)|0,ga=ga+Math.imul(p0,U0)|0,ga=ga+Math.imul(E0,A0)|0,as=as+Math.imul(E0,U0)|0,ss=ss+Math.imul(y0,L0)|0,ga=ga+Math.imul(y0,V0)|0,ga=ga+Math.imul(t0,L0)|0,as=as+Math.imul(t0,V0)|0,ss=ss+Math.imul(b0,G0)|0,ga=ga+Math.imul(b0,Z0)|0,ga=ga+Math.imul(f0,G0)|0,as=as+Math.imul(f0,Z0)|0,ss=ss+Math.imul(a0,q0)|0,ga=ga+Math.imul(a0,Y0)|0,ga=ga+Math.imul(l0,q0)|0,as=as+Math.imul(l0,Y0)|0;var zo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(zo>>>26)|0,zo&=67108863,ss=Math.imul(P0,_0),ga=Math.imul(P0,T0),ga=ga+Math.imul(S0,_0)|0,as=Math.imul(S0,T0),ss=ss+Math.imul(C0,A0)|0,ga=ga+Math.imul(C0,U0)|0,ga=ga+Math.imul($0,A0)|0,as=as+Math.imul($0,U0)|0,ss=ss+Math.imul(p0,L0)|0,ga=ga+Math.imul(p0,V0)|0,ga=ga+Math.imul(E0,L0)|0,as=as+Math.imul(E0,V0)|0,ss=ss+Math.imul(y0,G0)|0,ga=ga+Math.imul(y0,Z0)|0,ga=ga+Math.imul(t0,G0)|0,as=as+Math.imul(t0,Z0)|0,ss=ss+Math.imul(b0,q0)|0,ga=ga+Math.imul(b0,Y0)|0,ga=ga+Math.imul(f0,q0)|0,as=as+Math.imul(f0,Y0)|0,ss=ss+Math.imul(a0,z0)|0,ga=ga+Math.imul(a0,X0)|0,ga=ga+Math.imul(l0,z0)|0,as=as+Math.imul(l0,X0)|0;var qo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(qo>>>26)|0,qo&=67108863,ss=Math.imul(O0,_0),ga=Math.imul(O0,T0),ga=ga+Math.imul(B0,_0)|0,as=Math.imul(B0,T0),ss=ss+Math.imul(P0,A0)|0,ga=ga+Math.imul(P0,U0)|0,ga=ga+Math.imul(S0,A0)|0,as=as+Math.imul(S0,U0)|0,ss=ss+Math.imul(C0,L0)|0,ga=ga+Math.imul(C0,V0)|0,ga=ga+Math.imul($0,L0)|0,as=as+Math.imul($0,V0)|0,ss=ss+Math.imul(p0,G0)|0,ga=ga+Math.imul(p0,Z0)|0,ga=ga+Math.imul(E0,G0)|0,as=as+Math.imul(E0,Z0)|0,ss=ss+Math.imul(y0,q0)|0,ga=ga+Math.imul(y0,Y0)|0,ga=ga+Math.imul(t0,q0)|0,as=as+Math.imul(t0,Y0)|0,ss=ss+Math.imul(b0,z0)|0,ga=ga+Math.imul(b0,X0)|0,ga=ga+Math.imul(f0,z0)|0,as=as+Math.imul(f0,X0)|0,ss=ss+Math.imul(a0,K0)|0,ga=ga+Math.imul(a0,bo)|0,ga=ga+Math.imul(l0,K0)|0,as=as+Math.imul(l0,bo)|0;var Fo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,ss=Math.imul(k0,_0),ga=Math.imul(k0,T0),ga=ga+Math.imul(D0,_0)|0,as=Math.imul(D0,T0),ss=ss+Math.imul(O0,A0)|0,ga=ga+Math.imul(O0,U0)|0,ga=ga+Math.imul(B0,A0)|0,as=as+Math.imul(B0,U0)|0,ss=ss+Math.imul(P0,L0)|0,ga=ga+Math.imul(P0,V0)|0,ga=ga+Math.imul(S0,L0)|0,as=as+Math.imul(S0,V0)|0,ss=ss+Math.imul(C0,G0)|0,ga=ga+Math.imul(C0,Z0)|0,ga=ga+Math.imul($0,G0)|0,as=as+Math.imul($0,Z0)|0,ss=ss+Math.imul(p0,q0)|0,ga=ga+Math.imul(p0,Y0)|0,ga=ga+Math.imul(E0,q0)|0,as=as+Math.imul(E0,Y0)|0,ss=ss+Math.imul(y0,z0)|0,ga=ga+Math.imul(y0,X0)|0,ga=ga+Math.imul(t0,z0)|0,as=as+Math.imul(t0,X0)|0,ss=ss+Math.imul(b0,K0)|0,ga=ga+Math.imul(b0,bo)|0,ga=ga+Math.imul(f0,K0)|0,as=as+Math.imul(f0,bo)|0,ss=ss+Math.imul(a0,W0)|0,ga=ga+Math.imul(a0,J0)|0,ga=ga+Math.imul(l0,W0)|0,as=as+Math.imul(l0,J0)|0;var Ko=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,ss=Math.imul(N0,_0),ga=Math.imul(N0,T0),ga=ga+Math.imul(F0,_0)|0,as=Math.imul(F0,T0),ss=ss+Math.imul(k0,A0)|0,ga=ga+Math.imul(k0,U0)|0,ga=ga+Math.imul(D0,A0)|0,as=as+Math.imul(D0,U0)|0,ss=ss+Math.imul(O0,L0)|0,ga=ga+Math.imul(O0,V0)|0,ga=ga+Math.imul(B0,L0)|0,as=as+Math.imul(B0,V0)|0,ss=ss+Math.imul(P0,G0)|0,ga=ga+Math.imul(P0,Z0)|0,ga=ga+Math.imul(S0,G0)|0,as=as+Math.imul(S0,Z0)|0,ss=ss+Math.imul(C0,q0)|0,ga=ga+Math.imul(C0,Y0)|0,ga=ga+Math.imul($0,q0)|0,as=as+Math.imul($0,Y0)|0,ss=ss+Math.imul(p0,z0)|0,ga=ga+Math.imul(p0,X0)|0,ga=ga+Math.imul(E0,z0)|0,as=as+Math.imul(E0,X0)|0,ss=ss+Math.imul(y0,K0)|0,ga=ga+Math.imul(y0,bo)|0,ga=ga+Math.imul(t0,K0)|0,as=as+Math.imul(t0,bo)|0,ss=ss+Math.imul(b0,W0)|0,ga=ga+Math.imul(b0,J0)|0,ga=ga+Math.imul(f0,W0)|0,as=as+Math.imul(f0,J0)|0,ss=ss+Math.imul(a0,H0)|0,ga=ga+Math.imul(a0,go)|0,ga=ga+Math.imul(l0,H0)|0,as=as+Math.imul(l0,go)|0;var Ho=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,ss=Math.imul(x0,_0),ga=Math.imul(x0,T0),ga=ga+Math.imul(u0,_0)|0,as=Math.imul(u0,T0),ss=ss+Math.imul(N0,A0)|0,ga=ga+Math.imul(N0,U0)|0,ga=ga+Math.imul(F0,A0)|0,as=as+Math.imul(F0,U0)|0,ss=ss+Math.imul(k0,L0)|0,ga=ga+Math.imul(k0,V0)|0,ga=ga+Math.imul(D0,L0)|0,as=as+Math.imul(D0,V0)|0,ss=ss+Math.imul(O0,G0)|0,ga=ga+Math.imul(O0,Z0)|0,ga=ga+Math.imul(B0,G0)|0,as=as+Math.imul(B0,Z0)|0,ss=ss+Math.imul(P0,q0)|0,ga=ga+Math.imul(P0,Y0)|0,ga=ga+Math.imul(S0,q0)|0,as=as+Math.imul(S0,Y0)|0,ss=ss+Math.imul(C0,z0)|0,ga=ga+Math.imul(C0,X0)|0,ga=ga+Math.imul($0,z0)|0,as=as+Math.imul($0,X0)|0,ss=ss+Math.imul(p0,K0)|0,ga=ga+Math.imul(p0,bo)|0,ga=ga+Math.imul(E0,K0)|0,as=as+Math.imul(E0,bo)|0,ss=ss+Math.imul(y0,W0)|0,ga=ga+Math.imul(y0,J0)|0,ga=ga+Math.imul(t0,W0)|0,as=as+Math.imul(t0,J0)|0,ss=ss+Math.imul(b0,H0)|0,ga=ga+Math.imul(b0,go)|0,ga=ga+Math.imul(f0,H0)|0,as=as+Math.imul(f0,go)|0,ss=ss+Math.imul(a0,Q0)|0,ga=ga+Math.imul(a0,wo)|0,ga=ga+Math.imul(l0,Q0)|0,as=as+Math.imul(l0,wo)|0;var Vo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,ss=Math.imul(x0,A0),ga=Math.imul(x0,U0),ga=ga+Math.imul(u0,A0)|0,as=Math.imul(u0,U0),ss=ss+Math.imul(N0,L0)|0,ga=ga+Math.imul(N0,V0)|0,ga=ga+Math.imul(F0,L0)|0,as=as+Math.imul(F0,V0)|0,ss=ss+Math.imul(k0,G0)|0,ga=ga+Math.imul(k0,Z0)|0,ga=ga+Math.imul(D0,G0)|0,as=as+Math.imul(D0,Z0)|0,ss=ss+Math.imul(O0,q0)|0,ga=ga+Math.imul(O0,Y0)|0,ga=ga+Math.imul(B0,q0)|0,as=as+Math.imul(B0,Y0)|0,ss=ss+Math.imul(P0,z0)|0,ga=ga+Math.imul(P0,X0)|0,ga=ga+Math.imul(S0,z0)|0,as=as+Math.imul(S0,X0)|0,ss=ss+Math.imul(C0,K0)|0,ga=ga+Math.imul(C0,bo)|0,ga=ga+Math.imul($0,K0)|0,as=as+Math.imul($0,bo)|0,ss=ss+Math.imul(p0,W0)|0,ga=ga+Math.imul(p0,J0)|0,ga=ga+Math.imul(E0,W0)|0,as=as+Math.imul(E0,J0)|0,ss=ss+Math.imul(y0,H0)|0,ga=ga+Math.imul(y0,go)|0,ga=ga+Math.imul(t0,H0)|0,as=as+Math.imul(t0,go)|0,ss=ss+Math.imul(b0,Q0)|0,ga=ga+Math.imul(b0,wo)|0,ga=ga+Math.imul(f0,Q0)|0,as=as+Math.imul(f0,wo)|0;var Go=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Go>>>26)|0,Go&=67108863,ss=Math.imul(x0,L0),ga=Math.imul(x0,V0),ga=ga+Math.imul(u0,L0)|0,as=Math.imul(u0,V0),ss=ss+Math.imul(N0,G0)|0,ga=ga+Math.imul(N0,Z0)|0,ga=ga+Math.imul(F0,G0)|0,as=as+Math.imul(F0,Z0)|0,ss=ss+Math.imul(k0,q0)|0,ga=ga+Math.imul(k0,Y0)|0,ga=ga+Math.imul(D0,q0)|0,as=as+Math.imul(D0,Y0)|0,ss=ss+Math.imul(O0,z0)|0,ga=ga+Math.imul(O0,X0)|0,ga=ga+Math.imul(B0,z0)|0,as=as+Math.imul(B0,X0)|0,ss=ss+Math.imul(P0,K0)|0,ga=ga+Math.imul(P0,bo)|0,ga=ga+Math.imul(S0,K0)|0,as=as+Math.imul(S0,bo)|0,ss=ss+Math.imul(C0,W0)|0,ga=ga+Math.imul(C0,J0)|0,ga=ga+Math.imul($0,W0)|0,as=as+Math.imul($0,J0)|0,ss=ss+Math.imul(p0,H0)|0,ga=ga+Math.imul(p0,go)|0,ga=ga+Math.imul(E0,H0)|0,as=as+Math.imul(E0,go)|0,ss=ss+Math.imul(y0,Q0)|0,ga=ga+Math.imul(y0,wo)|0,ga=ga+Math.imul(t0,Q0)|0,as=as+Math.imul(t0,wo)|0;var Zo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,ss=Math.imul(x0,G0),ga=Math.imul(x0,Z0),ga=ga+Math.imul(u0,G0)|0,as=Math.imul(u0,Z0),ss=ss+Math.imul(N0,q0)|0,ga=ga+Math.imul(N0,Y0)|0,ga=ga+Math.imul(F0,q0)|0,as=as+Math.imul(F0,Y0)|0,ss=ss+Math.imul(k0,z0)|0,ga=ga+Math.imul(k0,X0)|0,ga=ga+Math.imul(D0,z0)|0,as=as+Math.imul(D0,X0)|0,ss=ss+Math.imul(O0,K0)|0,ga=ga+Math.imul(O0,bo)|0,ga=ga+Math.imul(B0,K0)|0,as=as+Math.imul(B0,bo)|0,ss=ss+Math.imul(P0,W0)|0,ga=ga+Math.imul(P0,J0)|0,ga=ga+Math.imul(S0,W0)|0,as=as+Math.imul(S0,J0)|0,ss=ss+Math.imul(C0,H0)|0,ga=ga+Math.imul(C0,go)|0,ga=ga+Math.imul($0,H0)|0,as=as+Math.imul($0,go)|0,ss=ss+Math.imul(p0,Q0)|0,ga=ga+Math.imul(p0,wo)|0,ga=ga+Math.imul(E0,Q0)|0,as=as+Math.imul(E0,wo)|0;var Jo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Jo>>>26)|0,Jo&=67108863,ss=Math.imul(x0,q0),ga=Math.imul(x0,Y0),ga=ga+Math.imul(u0,q0)|0,as=Math.imul(u0,Y0),ss=ss+Math.imul(N0,z0)|0,ga=ga+Math.imul(N0,X0)|0,ga=ga+Math.imul(F0,z0)|0,as=as+Math.imul(F0,X0)|0,ss=ss+Math.imul(k0,K0)|0,ga=ga+Math.imul(k0,bo)|0,ga=ga+Math.imul(D0,K0)|0,as=as+Math.imul(D0,bo)|0,ss=ss+Math.imul(O0,W0)|0,ga=ga+Math.imul(O0,J0)|0,ga=ga+Math.imul(B0,W0)|0,as=as+Math.imul(B0,J0)|0,ss=ss+Math.imul(P0,H0)|0,ga=ga+Math.imul(P0,go)|0,ga=ga+Math.imul(S0,H0)|0,as=as+Math.imul(S0,go)|0,ss=ss+Math.imul(C0,Q0)|0,ga=ga+Math.imul(C0,wo)|0,ga=ga+Math.imul($0,Q0)|0,as=as+Math.imul($0,wo)|0;var Qo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,ss=Math.imul(x0,z0),ga=Math.imul(x0,X0),ga=ga+Math.imul(u0,z0)|0,as=Math.imul(u0,X0),ss=ss+Math.imul(N0,K0)|0,ga=ga+Math.imul(N0,bo)|0,ga=ga+Math.imul(F0,K0)|0,as=as+Math.imul(F0,bo)|0,ss=ss+Math.imul(k0,W0)|0,ga=ga+Math.imul(k0,J0)|0,ga=ga+Math.imul(D0,W0)|0,as=as+Math.imul(D0,J0)|0,ss=ss+Math.imul(O0,H0)|0,ga=ga+Math.imul(O0,go)|0,ga=ga+Math.imul(B0,H0)|0,as=as+Math.imul(B0,go)|0,ss=ss+Math.imul(P0,Q0)|0,ga=ga+Math.imul(P0,wo)|0,ga=ga+Math.imul(S0,Q0)|0,as=as+Math.imul(S0,wo)|0;var Xo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,ss=Math.imul(x0,K0),ga=Math.imul(x0,bo),ga=ga+Math.imul(u0,K0)|0,as=Math.imul(u0,bo),ss=ss+Math.imul(N0,W0)|0,ga=ga+Math.imul(N0,J0)|0,ga=ga+Math.imul(F0,W0)|0,as=as+Math.imul(F0,J0)|0,ss=ss+Math.imul(k0,H0)|0,ga=ga+Math.imul(k0,go)|0,ga=ga+Math.imul(D0,H0)|0,as=as+Math.imul(D0,go)|0,ss=ss+Math.imul(O0,Q0)|0,ga=ga+Math.imul(O0,wo)|0,ga=ga+Math.imul(B0,Q0)|0,as=as+Math.imul(B0,wo)|0;var Wo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,ss=Math.imul(x0,W0),ga=Math.imul(x0,J0),ga=ga+Math.imul(u0,W0)|0,as=Math.imul(u0,J0),ss=ss+Math.imul(N0,H0)|0,ga=ga+Math.imul(N0,go)|0,ga=ga+Math.imul(F0,H0)|0,as=as+Math.imul(F0,go)|0,ss=ss+Math.imul(k0,Q0)|0,ga=ga+Math.imul(k0,wo)|0,ga=ga+Math.imul(D0,Q0)|0,as=as+Math.imul(D0,wo)|0;var _f=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(_f>>>26)|0,_f&=67108863,ss=Math.imul(x0,H0),ga=Math.imul(x0,go),ga=ga+Math.imul(u0,H0)|0,as=Math.imul(u0,go),ss=ss+Math.imul(N0,Q0)|0,ga=ga+Math.imul(N0,wo)|0,ga=ga+Math.imul(F0,Q0)|0,as=as+Math.imul(F0,wo)|0;var _c=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(_c>>>26)|0,_c&=67108863,ss=Math.imul(x0,Q0),ga=Math.imul(x0,wo),ga=ga+Math.imul(u0,Q0)|0,as=Math.imul(u0,wo);var yl=(hs+ss|0)+((ga&8191)<<13)|0;return hs=(as+(ga>>>13)|0)+(yl>>>26)|0,yl&=67108863,ls[0]=No,ls[1]=Oo,ls[2]=jo,ls[3]=Uo,ls[4]=zo,ls[5]=qo,ls[6]=Fo,ls[7]=Ko,ls[8]=Ho,ls[9]=Vo,ls[10]=Go,ls[11]=Zo,ls[12]=Jo,ls[13]=Qo,ls[14]=Xo,ls[15]=Wo,ls[16]=_f,ls[17]=_c,ls[18]=yl,hs!==0&&(ls[19]=hs,es.length++),es};Math.imul||(bs=ps);function e0(ds,na,_a){_a.negative=na.negative^ds.negative,_a.length=ds.length+na.length;for(var es=0,ns=0,os=0;os<_a.length-1;os++){var ls=ns;ns=0;for(var hs=es&67108863,ss=Math.min(os,na.length-1),ga=Math.max(0,os-ds.length+1);ga<=ss;ga++){var as=os-ga,r0=ds.words[as]|0,a0=na.words[ga]|0,l0=r0*a0,s0=l0&67108863;ls=ls+(l0/67108864|0)|0,s0=s0+hs|0,hs=s0&67108863,ls=ls+(s0>>>26)|0,ns+=ls>>>26,ls&=67108863}_a.words[os]=hs,es=ls,ls=ns}return es!==0?_a.words[os]=es:_a.length--,_a.strip()}function gs(ds,na,_a){var es=new Ds;return es.mulp(ds,na,_a)}An.prototype.mulTo=function(na,_a){var es,ns=this.length+na.length;return this.length===10&&na.length===10?es=bs(this,na,_a):ns<63?es=ps(this,na,_a):ns<1024?es=e0(this,na,_a):es=gs(this,na,_a),es};function Ds(ds,na){this.x=ds,this.y=na}Ds.prototype.makeRBT=function(na){for(var _a=new Array(na),es=An.prototype._countBits(na)-1,ns=0;ns<na;ns++)_a[ns]=this.revBin(ns,es,na);return _a},Ds.prototype.revBin=function(na,_a,es){if(na===0||na===es-1)return na;for(var ns=0,os=0;os<_a;os++)ns|=(na&1)<<_a-os-1,na>>=1;return ns},Ds.prototype.permute=function(na,_a,es,ns,os,ls){for(var hs=0;hs<ls;hs++)ns[hs]=_a[na[hs]],os[hs]=es[na[hs]]},Ds.prototype.transform=function(na,_a,es,ns,os,ls){this.permute(ls,na,_a,es,ns,os);for(var hs=1;hs<os;hs<<=1)for(var ss=hs<<1,ga=Math.cos(2*Math.PI/ss),as=Math.sin(2*Math.PI/ss),r0=0;r0<os;r0+=ss)for(var a0=ga,l0=as,s0=0;s0<hs;s0++){var b0=es[r0+s0],f0=ns[r0+s0],m0=es[r0+s0+hs],y0=ns[r0+s0+hs],t0=a0*m0-l0*y0;y0=a0*y0+l0*m0,m0=t0,es[r0+s0]=b0+m0,ns[r0+s0]=f0+y0,es[r0+s0+hs]=b0-m0,ns[r0+s0+hs]=f0-y0,s0!==ss&&(t0=ga*a0-as*l0,l0=ga*l0+as*a0,a0=t0)}},Ds.prototype.guessLen13b=function(na,_a){var es=Math.max(_a,na)|1,ns=es&1,os=0;for(es=es/2|0;es;es=es>>>1)os++;return 1<<os+1+ns},Ds.prototype.conjugate=function(na,_a,es){if(!(es<=1))for(var ns=0;ns<es/2;ns++){var os=na[ns];na[ns]=na[es-ns-1],na[es-ns-1]=os,os=_a[ns],_a[ns]=-_a[es-ns-1],_a[es-ns-1]=-os}},Ds.prototype.normalize13b=function(na,_a){for(var es=0,ns=0;ns<_a/2;ns++){var os=Math.round(na[2*ns+1]/_a)*8192+Math.round(na[2*ns]/_a)+es;na[ns]=os&67108863,os<67108864?es=0:es=os/67108864|0}return na},Ds.prototype.convert13b=function(na,_a,es,ns){for(var os=0,ls=0;ls<_a;ls++)os=os+(na[ls]|0),es[2*ls]=os&8191,os=os>>>13,es[2*ls+1]=os&8191,os=os>>>13;for(ls=2*_a;ls<ns;++ls)es[ls]=0;Cn(os===0),Cn((os&-8192)===0)},Ds.prototype.stub=function(na){for(var _a=new Array(na),es=0;es<na;es++)_a[es]=0;return _a},Ds.prototype.mulp=function(na,_a,es){var ns=2*this.guessLen13b(na.length,_a.length),os=this.makeRBT(ns),ls=this.stub(ns),hs=new Array(ns),ss=new Array(ns),ga=new Array(ns),as=new Array(ns),r0=new Array(ns),a0=new Array(ns),l0=es.words;l0.length=ns,this.convert13b(na.words,na.length,hs,ns),this.convert13b(_a.words,_a.length,as,ns),this.transform(hs,ls,ss,ga,ns,os),this.transform(as,ls,r0,a0,ns,os);for(var s0=0;s0<ns;s0++){var b0=ss[s0]*r0[s0]-ga[s0]*a0[s0];ga[s0]=ss[s0]*a0[s0]+ga[s0]*r0[s0],ss[s0]=b0}return this.conjugate(ss,ga,ns),this.transform(ss,ga,l0,ls,ns,os),this.conjugate(l0,ls,ns),this.normalize13b(l0,ns),es.negative=na.negative^_a.negative,es.length=na.length+_a.length,es.strip()},An.prototype.mul=function(na){var _a=new An(null);return _a.words=new Array(this.length+na.length),this.mulTo(na,_a)},An.prototype.mulf=function(na){var _a=new An(null);return _a.words=new Array(this.length+na.length),gs(this,na,_a)},An.prototype.imul=function(na){return this.clone().mulTo(na,this)},An.prototype.imuln=function(na){Cn(typeof na=="number"),Cn(na<67108864);for(var _a=0,es=0;es<this.length;es++){var ns=(this.words[es]|0)*na,os=(ns&67108863)+(_a&67108863);_a>>=26,_a+=ns/67108864|0,_a+=os>>>26,this.words[es]=os&67108863}return _a!==0&&(this.words[es]=_a,this.length++),this},An.prototype.muln=function(na){return this.clone().imuln(na)},An.prototype.sqr=function(){return this.mul(this)},An.prototype.isqr=function(){return this.imul(this.clone())},An.prototype.pow=function(na){var _a=us(na);if(_a.length===0)return new An(1);for(var es=this,ns=0;ns<_a.length&&_a[ns]===0;ns++,es=es.sqr());if(++ns<_a.length)for(var os=es.sqr();ns<_a.length;ns++,os=os.sqr())_a[ns]!==0&&(es=es.mul(os));return es},An.prototype.iushln=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26,ns=67108863>>>26-_a<<26-_a,os;if(_a!==0){var ls=0;for(os=0;os<this.length;os++){var hs=this.words[os]&ns,ss=(this.words[os]|0)-hs<<_a;this.words[os]=ss|ls,ls=hs>>>26-_a}ls&&(this.words[os]=ls,this.length++)}if(es!==0){for(os=this.length-1;os>=0;os--)this.words[os+es]=this.words[os];for(os=0;os<es;os++)this.words[os]=0;this.length+=es}return this.strip()},An.prototype.ishln=function(na){return Cn(this.negative===0),this.iushln(na)},An.prototype.iushrn=function(na,_a,es){Cn(typeof na=="number"&&na>=0);var ns;_a?ns=(_a-_a%26)/26:ns=0;var os=na%26,ls=Math.min((na-os)/26,this.length),hs=67108863^67108863>>>os<<os,ss=es;if(ns-=ls,ns=Math.max(0,ns),ss){for(var ga=0;ga<ls;ga++)ss.words[ga]=this.words[ga];ss.length=ls}if(ls!==0)if(this.length>ls)for(this.length-=ls,ga=0;ga<this.length;ga++)this.words[ga]=this.words[ga+ls];else this.words[0]=0,this.length=1;var as=0;for(ga=this.length-1;ga>=0&&(as!==0||ga>=ns);ga--){var r0=this.words[ga]|0;this.words[ga]=as<<26-os|r0>>>os,as=r0&hs}return ss&&as!==0&&(ss.words[ss.length++]=as),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},An.prototype.ishrn=function(na,_a,es){return Cn(this.negative===0),this.iushrn(na,_a,es)},An.prototype.shln=function(na){return this.clone().ishln(na)},An.prototype.ushln=function(na){return this.clone().iushln(na)},An.prototype.shrn=function(na){return this.clone().ishrn(na)},An.prototype.ushrn=function(na){return this.clone().iushrn(na)},An.prototype.testn=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26,ns=1<<_a;if(this.length<=es)return!1;var os=this.words[es];return!!(os&ns)},An.prototype.imaskn=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26;if(Cn(this.negative===0,"imaskn works only with positive numbers"),this.length<=es)return this;if(_a!==0&&es++,this.length=Math.min(es,this.length),_a!==0){var ns=67108863^67108863>>>_a<<_a;this.words[this.length-1]&=ns}return this.strip()},An.prototype.maskn=function(na){return this.clone().imaskn(na)},An.prototype.iaddn=function(na){return Cn(typeof na=="number"),Cn(na<67108864),na<0?this.isubn(-na):this.negative!==0?this.length===1&&(this.words[0]|0)<na?(this.words[0]=na-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(na),this.negative=1,this):this._iaddn(na)},An.prototype._iaddn=function(na){this.words[0]+=na;for(var _a=0;_a<this.length&&this.words[_a]>=67108864;_a++)this.words[_a]-=67108864,_a===this.length-1?this.words[_a+1]=1:this.words[_a+1]++;return this.length=Math.max(this.length,_a+1),this},An.prototype.isubn=function(na){if(Cn(typeof na=="number"),Cn(na<67108864),na<0)return this.iaddn(-na);if(this.negative!==0)return this.negative=0,this.iaddn(na),this.negative=1,this;if(this.words[0]-=na,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _a=0;_a<this.length&&this.words[_a]<0;_a++)this.words[_a]+=67108864,this.words[_a+1]-=1;return this.strip()},An.prototype.addn=function(na){return this.clone().iaddn(na)},An.prototype.subn=function(na){return this.clone().isubn(na)},An.prototype.iabs=function(){return this.negative=0,this},An.prototype.abs=function(){return this.clone().iabs()},An.prototype._ishlnsubmul=function(na,_a,es){var ns=na.length+es,os;this._expand(ns);var ls,hs=0;for(os=0;os<na.length;os++){ls=(this.words[os+es]|0)+hs;var ss=(na.words[os]|0)*_a;ls-=ss&67108863,hs=(ls>>26)-(ss/67108864|0),this.words[os+es]=ls&67108863}for(;os<this.length-es;os++)ls=(this.words[os+es]|0)+hs,hs=ls>>26,this.words[os+es]=ls&67108863;if(hs===0)return this.strip();for(Cn(hs===-1),hs=0,os=0;os<this.length;os++)ls=-(this.words[os]|0)+hs,hs=ls>>26,this.words[os]=ls&67108863;return this.negative=1,this.strip()},An.prototype._wordDiv=function(na,_a){var es=this.length-na.length,ns=this.clone(),os=na,ls=os.words[os.length-1]|0,hs=this._countBits(ls);es=26-hs,es!==0&&(os=os.ushln(es),ns.iushln(es),ls=os.words[os.length-1]|0);var ss=ns.length-os.length,ga;if(_a!=="mod"){ga=new An(null),ga.length=ss+1,ga.words=new Array(ga.length);for(var as=0;as<ga.length;as++)ga.words[as]=0}var r0=ns.clone()._ishlnsubmul(os,1,ss);r0.negative===0&&(ns=r0,ga&&(ga.words[ss]=1));for(var a0=ss-1;a0>=0;a0--){var l0=(ns.words[os.length+a0]|0)*67108864+(ns.words[os.length+a0-1]|0);for(l0=Math.min(l0/ls|0,67108863),ns._ishlnsubmul(os,l0,a0);ns.negative!==0;)l0--,ns.negative=0,ns._ishlnsubmul(os,1,a0),ns.isZero()||(ns.negative^=1);ga&&(ga.words[a0]=l0)}return ga&&ga.strip(),ns.strip(),_a!=="div"&&es!==0&&ns.iushrn(es),{div:ga||null,mod:ns}},An.prototype.divmod=function(na,_a,es){if(Cn(!na.isZero()),this.isZero())return{div:new An(0),mod:new An(0)};var ns,os,ls;return this.negative!==0&&na.negative===0?(ls=this.neg().divmod(na,_a),_a!=="mod"&&(ns=ls.div.neg()),_a!=="div"&&(os=ls.mod.neg(),es&&os.negative!==0&&os.iadd(na)),{div:ns,mod:os}):this.negative===0&&na.negative!==0?(ls=this.divmod(na.neg(),_a),_a!=="mod"&&(ns=ls.div.neg()),{div:ns,mod:ls.mod}):this.negative&na.negative?(ls=this.neg().divmod(na.neg(),_a),_a!=="div"&&(os=ls.mod.neg(),es&&os.negative!==0&&os.isub(na)),{div:ls.div,mod:os}):na.length>this.length||this.cmp(na)<0?{div:new An(0),mod:this}:na.length===1?_a==="div"?{div:this.divn(na.words[0]),mod:null}:_a==="mod"?{div:null,mod:new An(this.modn(na.words[0]))}:{div:this.divn(na.words[0]),mod:new An(this.modn(na.words[0]))}:this._wordDiv(na,_a)},An.prototype.div=function(na){return this.divmod(na,"div",!1).div},An.prototype.mod=function(na){return this.divmod(na,"mod",!1).mod},An.prototype.umod=function(na){return this.divmod(na,"mod",!0).mod},An.prototype.divRound=function(na){var _a=this.divmod(na);if(_a.mod.isZero())return _a.div;var es=_a.div.negative!==0?_a.mod.isub(na):_a.mod,ns=na.ushrn(1),os=na.andln(1),ls=es.cmp(ns);return ls<0||os===1&&ls===0?_a.div:_a.div.negative!==0?_a.div.isubn(1):_a.div.iaddn(1)},An.prototype.modn=function(na){Cn(na<=67108863);for(var _a=(1<<26)%na,es=0,ns=this.length-1;ns>=0;ns--)es=(_a*es+(this.words[ns]|0))%na;return es},An.prototype.idivn=function(na){Cn(na<=67108863);for(var _a=0,es=this.length-1;es>=0;es--){var ns=(this.words[es]|0)+_a*67108864;this.words[es]=ns/na|0,_a=ns%na}return this.strip()},An.prototype.divn=function(na){return this.clone().idivn(na)},An.prototype.egcd=function(na){Cn(na.negative===0),Cn(!na.isZero());var _a=this,es=na.clone();_a.negative!==0?_a=_a.umod(na):_a=_a.clone();for(var ns=new An(1),os=new An(0),ls=new An(0),hs=new An(1),ss=0;_a.isEven()&&es.isEven();)_a.iushrn(1),es.iushrn(1),++ss;for(var ga=es.clone(),as=_a.clone();!_a.isZero();){for(var r0=0,a0=1;!(_a.words[0]&a0)&&r0<26;++r0,a0<<=1);if(r0>0)for(_a.iushrn(r0);r0-- >0;)(ns.isOdd()||os.isOdd())&&(ns.iadd(ga),os.isub(as)),ns.iushrn(1),os.iushrn(1);for(var l0=0,s0=1;!(es.words[0]&s0)&&l0<26;++l0,s0<<=1);if(l0>0)for(es.iushrn(l0);l0-- >0;)(ls.isOdd()||hs.isOdd())&&(ls.iadd(ga),hs.isub(as)),ls.iushrn(1),hs.iushrn(1);_a.cmp(es)>=0?(_a.isub(es),ns.isub(ls),os.isub(hs)):(es.isub(_a),ls.isub(ns),hs.isub(os))}return{a:ls,b:hs,gcd:es.iushln(ss)}},An.prototype._invmp=function(na){Cn(na.negative===0),Cn(!na.isZero());var _a=this,es=na.clone();_a.negative!==0?_a=_a.umod(na):_a=_a.clone();for(var ns=new An(1),os=new An(0),ls=es.clone();_a.cmpn(1)>0&&es.cmpn(1)>0;){for(var hs=0,ss=1;!(_a.words[0]&ss)&&hs<26;++hs,ss<<=1);if(hs>0)for(_a.iushrn(hs);hs-- >0;)ns.isOdd()&&ns.iadd(ls),ns.iushrn(1);for(var ga=0,as=1;!(es.words[0]&as)&&ga<26;++ga,as<<=1);if(ga>0)for(es.iushrn(ga);ga-- >0;)os.isOdd()&&os.iadd(ls),os.iushrn(1);_a.cmp(es)>=0?(_a.isub(es),ns.isub(os)):(es.isub(_a),os.isub(ns))}var r0;return _a.cmpn(1)===0?r0=ns:r0=os,r0.cmpn(0)<0&&r0.iadd(na),r0},An.prototype.gcd=function(na){if(this.isZero())return na.abs();if(na.isZero())return this.abs();var _a=this.clone(),es=na.clone();_a.negative=0,es.negative=0;for(var ns=0;_a.isEven()&&es.isEven();ns++)_a.iushrn(1),es.iushrn(1);do{for(;_a.isEven();)_a.iushrn(1);for(;es.isEven();)es.iushrn(1);var os=_a.cmp(es);if(os<0){var ls=_a;_a=es,es=ls}else if(os===0||es.cmpn(1)===0)break;_a.isub(es)}while(!0);return es.iushln(ns)},An.prototype.invm=function(na){return this.egcd(na).a.umod(na)},An.prototype.isEven=function(){return(this.words[0]&1)===0},An.prototype.isOdd=function(){return(this.words[0]&1)===1},An.prototype.andln=function(na){return this.words[0]&na},An.prototype.bincn=function(na){Cn(typeof na=="number");var _a=na%26,es=(na-_a)/26,ns=1<<_a;if(this.length<=es)return this._expand(es+1),this.words[es]|=ns,this;for(var os=ns,ls=es;os!==0&&ls<this.length;ls++){var hs=this.words[ls]|0;hs+=os,os=hs>>>26,hs&=67108863,this.words[ls]=hs}return os!==0&&(this.words[ls]=os,this.length++),this},An.prototype.isZero=function(){return this.length===1&&this.words[0]===0},An.prototype.cmpn=function(na){var _a=na<0;if(this.negative!==0&&!_a)return-1;if(this.negative===0&&_a)return 1;this.strip();var es;if(this.length>1)es=1;else{_a&&(na=-na),Cn(na<=67108863,"Number is too big");var ns=this.words[0]|0;es=ns===na?0:ns<na?-1:1}return this.negative!==0?-es|0:es},An.prototype.cmp=function(na){if(this.negative!==0&&na.negative===0)return-1;if(this.negative===0&&na.negative!==0)return 1;var _a=this.ucmp(na);return this.negative!==0?-_a|0:_a},An.prototype.ucmp=function(na){if(this.length>na.length)return 1;if(this.length<na.length)return-1;for(var _a=0,es=this.length-1;es>=0;es--){var ns=this.words[es]|0,os=na.words[es]|0;if(ns!==os){ns<os?_a=-1:ns>os&&(_a=1);break}}return _a},An.prototype.gtn=function(na){return this.cmpn(na)===1},An.prototype.gt=function(na){return this.cmp(na)===1},An.prototype.gten=function(na){return this.cmpn(na)>=0},An.prototype.gte=function(na){return this.cmp(na)>=0},An.prototype.ltn=function(na){return this.cmpn(na)===-1},An.prototype.lt=function(na){return this.cmp(na)===-1},An.prototype.lten=function(na){return this.cmpn(na)<=0},An.prototype.lte=function(na){return this.cmp(na)<=0},An.prototype.eqn=function(na){return this.cmpn(na)===0},An.prototype.eq=function(na){return this.cmp(na)===0},An.red=function(na){return new w0(na)},An.prototype.toRed=function(na){return Cn(!this.red,"Already a number in reduction context"),Cn(this.negative===0,"red works only with positives"),na.convertTo(this)._forceRed(na)},An.prototype.fromRed=function(){return Cn(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},An.prototype._forceRed=function(na){return this.red=na,this},An.prototype.forceRed=function(na){return Cn(!this.red,"Already a number in reduction context"),this._forceRed(na)},An.prototype.redAdd=function(na){return Cn(this.red,"redAdd works only with red numbers"),this.red.add(this,na)},An.prototype.redIAdd=function(na){return Cn(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,na)},An.prototype.redSub=function(na){return Cn(this.red,"redSub works only with red numbers"),this.red.sub(this,na)},An.prototype.redISub=function(na){return Cn(this.red,"redISub works only with red numbers"),this.red.isub(this,na)},An.prototype.redShl=function(na){return Cn(this.red,"redShl works only with red numbers"),this.red.shl(this,na)},An.prototype.redMul=function(na){return Cn(this.red,"redMul works only with red numbers"),this.red._verify2(this,na),this.red.mul(this,na)},An.prototype.redIMul=function(na){return Cn(this.red,"redMul works only with red numbers"),this.red._verify2(this,na),this.red.imul(this,na)},An.prototype.redSqr=function(){return Cn(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},An.prototype.redISqr=function(){return Cn(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},An.prototype.redSqrt=function(){return Cn(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},An.prototype.redInvm=function(){return Cn(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},An.prototype.redNeg=function(){return Cn(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},An.prototype.redPow=function(na){return Cn(this.red&&!na.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,na)};var i0={k256:null,p224:null,p192:null,p25519:null};function n0(ds,na){this.name=ds,this.p=new An(na,16),this.n=this.p.bitLength(),this.k=new An(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}n0.prototype._tmp=function(){var na=new An(null);return na.words=new Array(Math.ceil(this.n/13)),na},n0.prototype.ireduce=function(na){var _a=na,es;do this.split(_a,this.tmp),_a=this.imulK(_a),_a=_a.iadd(this.tmp),es=_a.bitLength();while(es>this.n);var ns=es<this.n?-1:_a.ucmp(this.p);return ns===0?(_a.words[0]=0,_a.length=1):ns>0?_a.isub(this.p):_a.strip!==void 0?_a.strip():_a._strip(),_a},n0.prototype.split=function(na,_a){na.iushrn(this.n,0,_a)},n0.prototype.imulK=function(na){return na.imul(this.k)};function c0(){n0.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}_i(c0,n0),c0.prototype.split=function(na,_a){for(var es=4194303,ns=Math.min(na.length,9),os=0;os<ns;os++)_a.words[os]=na.words[os];if(_a.length=ns,na.length<=9){na.words[0]=0,na.length=1;return}var ls=na.words[9];for(_a.words[_a.length++]=ls&es,os=10;os<na.length;os++){var hs=na.words[os]|0;na.words[os-10]=(hs&es)<<4|ls>>>22,ls=hs}ls>>>=22,na.words[os-10]=ls,ls===0&&na.length>10?na.length-=10:na.length-=9},c0.prototype.imulK=function(na){na.words[na.length]=0,na.words[na.length+1]=0,na.length+=2;for(var _a=0,es=0;es<na.length;es++){var ns=na.words[es]|0;_a+=ns*977,na.words[es]=_a&67108863,_a=ns*64+(_a/67108864|0)}return na.words[na.length-1]===0&&(na.length--,na.words[na.length-1]===0&&na.length--),na};function d0(){n0.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}_i(d0,n0);function o0(){n0.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}_i(o0,n0);function g0(){n0.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}_i(g0,n0),g0.prototype.imulK=function(na){for(var _a=0,es=0;es<na.length;es++){var ns=(na.words[es]|0)*19+_a,os=ns&67108863;ns>>>=26,na.words[es]=os,_a=ns}return _a!==0&&(na.words[na.length++]=_a),na},An._prime=function(na){if(i0[na])return i0[na];var _a;if(na==="k256")_a=new c0;else if(na==="p224")_a=new d0;else if(na==="p192")_a=new o0;else if(na==="p25519")_a=new g0;else throw new Error("Unknown prime "+na);return i0[na]=_a,_a};function w0(ds){if(typeof ds=="string"){var na=An._prime(ds);this.m=na.p,this.prime=na}else Cn(ds.gtn(1),"modulus must be greater than 1"),this.m=ds,this.prime=null}w0.prototype._verify1=function(na){Cn(na.negative===0,"red works only with positives"),Cn(na.red,"red works only with red numbers")},w0.prototype._verify2=function(na,_a){Cn((na.negative|_a.negative)===0,"red works only with positives"),Cn(na.red&&na.red===_a.red,"red works only with red numbers")},w0.prototype.imod=function(na){return this.prime?this.prime.ireduce(na)._forceRed(this):na.umod(this.m)._forceRed(this)},w0.prototype.neg=function(na){return na.isZero()?na.clone():this.m.sub(na)._forceRed(this)},w0.prototype.add=function(na,_a){this._verify2(na,_a);var es=na.add(_a);return es.cmp(this.m)>=0&&es.isub(this.m),es._forceRed(this)},w0.prototype.iadd=function(na,_a){this._verify2(na,_a);var es=na.iadd(_a);return es.cmp(this.m)>=0&&es.isub(this.m),es},w0.prototype.sub=function(na,_a){this._verify2(na,_a);var es=na.sub(_a);return es.cmpn(0)<0&&es.iadd(this.m),es._forceRed(this)},w0.prototype.isub=function(na,_a){this._verify2(na,_a);var es=na.isub(_a);return es.cmpn(0)<0&&es.iadd(this.m),es},w0.prototype.shl=function(na,_a){return this._verify1(na),this.imod(na.ushln(_a))},w0.prototype.imul=function(na,_a){return this._verify2(na,_a),this.imod(na.imul(_a))},w0.prototype.mul=function(na,_a){return this._verify2(na,_a),this.imod(na.mul(_a))},w0.prototype.isqr=function(na){return this.imul(na,na.clone())},w0.prototype.sqr=function(na){return this.mul(na,na)},w0.prototype.sqrt=function(na){if(na.isZero())return na.clone();var _a=this.m.andln(3);if(Cn(_a%2===1),_a===3){var es=this.m.add(new An(1)).iushrn(2);return this.pow(na,es)}for(var ns=this.m.subn(1),os=0;!ns.isZero()&&ns.andln(1)===0;)os++,ns.iushrn(1);Cn(!ns.isZero());var ls=new An(1).toRed(this),hs=ls.redNeg(),ss=this.m.subn(1).iushrn(1),ga=this.m.bitLength();for(ga=new An(2*ga*ga).toRed(this);this.pow(ga,ss).cmp(hs)!==0;)ga.redIAdd(hs);for(var as=this.pow(ga,ns),r0=this.pow(na,ns.addn(1).iushrn(1)),a0=this.pow(na,ns),l0=os;a0.cmp(ls)!==0;){for(var s0=a0,b0=0;s0.cmp(ls)!==0;b0++)s0=s0.redSqr();Cn(b0<l0);var f0=this.pow(as,new An(1).iushln(l0-b0-1));r0=r0.redMul(f0),as=f0.redSqr(),a0=a0.redMul(as),l0=b0}return r0},w0.prototype.invm=function(na){var _a=na._invmp(this.m);return _a.negative!==0?(_a.negative=0,this.imod(_a).redNeg()):this.imod(_a)},w0.prototype.pow=function(na,_a){if(_a.isZero())return new An(1).toRed(this);if(_a.cmpn(1)===0)return na.clone();var es=4,ns=new Array(1<<es);ns[0]=new An(1).toRed(this),ns[1]=na;for(var os=2;os<ns.length;os++)ns[os]=this.mul(ns[os-1],na);var ls=ns[0],hs=0,ss=0,ga=_a.bitLength()%26;for(ga===0&&(ga=26),os=_a.length-1;os>=0;os--){for(var as=_a.words[os],r0=ga-1;r0>=0;r0--){var a0=as>>r0&1;if(ls!==ns[0]&&(ls=this.sqr(ls)),a0===0&&hs===0){ss=0;continue}hs<<=1,hs|=a0,ss++,!(ss!==es&&(os!==0||r0!==0))&&(ls=this.mul(ls,ns[hs]),ss=0,hs=0)}ga=26}return ls},w0.prototype.convertTo=function(na){var _a=na.umod(this.m);return _a===na?_a.clone():_a},w0.prototype.convertFrom=function(na){var _a=na.clone();return _a.red=null,_a},An.mont=function(na){return new M0(na)};function M0(ds){w0.call(this,ds),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new An(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_i(M0,w0),M0.prototype.convertTo=function(na){return this.imod(na.ushln(this.shift))},M0.prototype.convertFrom=function(na){var _a=this.imod(na.mul(this.rinv));return _a.red=null,_a},M0.prototype.imul=function(na,_a){if(na.isZero()||_a.isZero())return na.words[0]=0,na.length=1,na;var es=na.imul(_a),ns=es.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),os=es.isub(ns).iushrn(this.shift),ls=os;return os.cmp(this.m)>=0?ls=os.isub(this.m):os.cmpn(0)<0&&(ls=os.iadd(this.m)),ls._forceRed(this)},M0.prototype.mul=function(na,_a){if(na.isZero()||_a.isZero())return new An(0)._forceRed(this);var es=na.mul(_a),ns=es.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),os=es.isub(ns).iushrn(this.shift),ls=os;return os.cmp(this.m)>=0?ls=os.isub(this.m):os.cmpn(0)<0&&(ls=os.iadd(this.m)),ls._forceRed(this)},M0.prototype.invm=function(na){var _a=this.imod(na._invmp(this.m).mul(this.r2));return _a._forceRed(this)}})(vn,commonjsGlobal)}(bn$a)),bn$a.exports}var bn$9={exports:{}};bn$9.exports;var hasRequiredBn$4;function requireBn$4(){return hasRequiredBn$4||(hasRequiredBn$4=1,function(vn){(function(fn,En){function Cn(ds,na){if(!ds)throw new Error(na||"Assertion failed")}function _i(ds,na){ds.super_=na;var _a=function(){};_a.prototype=na.prototype,ds.prototype=new _a,ds.prototype.constructor=ds}function An(ds,na,_a){if(An.isBN(ds))return ds;this.negative=0,this.words=null,this.length=0,this.red=null,ds!==null&&((na==="le"||na==="be")&&(_a=na,na=10),this._init(ds||0,na||10,_a||"be"))}typeof fn=="object"?fn.exports=An:En.BN=An,An.BN=An,An.wordSize=26;var ba;try{typeof window<"u"&&typeof window.Buffer<"u"?ba=window.Buffer:ba=require$$0$a.Buffer}catch{}An.isBN=function(na){return na instanceof An?!0:na!==null&&typeof na=="object"&&na.constructor.wordSize===An.wordSize&&Array.isArray(na.words)},An.max=function(na,_a){return na.cmp(_a)>0?na:_a},An.min=function(na,_a){return na.cmp(_a)<0?na:_a},An.prototype._init=function(na,_a,es){if(typeof na=="number")return this._initNumber(na,_a,es);if(typeof na=="object")return this._initArray(na,_a,es);_a==="hex"&&(_a=16),Cn(_a===(_a|0)&&_a>=2&&_a<=36),na=na.toString().replace(/\s+/g,"");var ns=0;na[0]==="-"&&(ns++,this.negative=1),ns<na.length&&(_a===16?this._parseHex(na,ns,es):(this._parseBase(na,_a,ns),es==="le"&&this._initArray(this.toArray(),_a,es)))},An.prototype._initNumber=function(na,_a,es){na<0&&(this.negative=1,na=-na),na<67108864?(this.words=[na&67108863],this.length=1):na<4503599627370496?(this.words=[na&67108863,na/67108864&67108863],this.length=2):(Cn(na<9007199254740992),this.words=[na&67108863,na/67108864&67108863,1],this.length=3),es==="le"&&this._initArray(this.toArray(),_a,es)},An.prototype._initArray=function(na,_a,es){if(Cn(typeof na.length=="number"),na.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(na.length/3),this.words=new Array(this.length);for(var ns=0;ns<this.length;ns++)this.words[ns]=0;var os,ls,hs=0;if(es==="be")for(ns=na.length-1,os=0;ns>=0;ns-=3)ls=na[ns]|na[ns-1]<<8|na[ns-2]<<16,this.words[os]|=ls<<hs&67108863,this.words[os+1]=ls>>>26-hs&67108863,hs+=24,hs>=26&&(hs-=26,os++);else if(es==="le")for(ns=0,os=0;ns<na.length;ns+=3)ls=na[ns]|na[ns+1]<<8|na[ns+2]<<16,this.words[os]|=ls<<hs&67108863,this.words[os+1]=ls>>>26-hs&67108863,hs+=24,hs>=26&&(hs-=26,os++);return this.strip()};function xa(ds,na){var _a=ds.charCodeAt(na);return _a>=65&&_a<=70?_a-55:_a>=97&&_a<=102?_a-87:_a-48&15}function $a(ds,na,_a){var es=xa(ds,_a);return _a-1>=na&&(es|=xa(ds,_a-1)<<4),es}An.prototype._parseHex=function(na,_a,es){this.length=Math.ceil((na.length-_a)/6),this.words=new Array(this.length);for(var ns=0;ns<this.length;ns++)this.words[ns]=0;var os=0,ls=0,hs;if(es==="be")for(ns=na.length-1;ns>=_a;ns-=2)hs=$a(na,_a,ns)<<os,this.words[ls]|=hs&67108863,os>=18?(os-=18,ls+=1,this.words[ls]|=hs>>>26):os+=8;else{var ss=na.length-_a;for(ns=ss%2===0?_a+1:_a;ns<na.length;ns+=2)hs=$a(na,_a,ns)<<os,this.words[ls]|=hs&67108863,os>=18?(os-=18,ls+=1,this.words[ls]|=hs>>>26):os+=8}this.strip()};function rs(ds,na,_a,es){for(var ns=0,os=Math.min(ds.length,_a),ls=na;ls<os;ls++){var hs=ds.charCodeAt(ls)-48;ns*=es,hs>=49?ns+=hs-49+10:hs>=17?ns+=hs-17+10:ns+=hs}return ns}An.prototype._parseBase=function(na,_a,es){this.words=[0],this.length=1;for(var ns=0,os=1;os<=67108863;os*=_a)ns++;ns--,os=os/_a|0;for(var ls=na.length-es,hs=ls%ns,ss=Math.min(ls,ls-hs)+es,ga=0,as=es;as<ss;as+=ns)ga=rs(na,as,as+ns,_a),this.imuln(os),this.words[0]+ga<67108864?this.words[0]+=ga:this._iaddn(ga);if(hs!==0){var r0=1;for(ga=rs(na,as,na.length,_a),as=0;as<hs;as++)r0*=_a;this.imuln(r0),this.words[0]+ga<67108864?this.words[0]+=ga:this._iaddn(ga)}this.strip()},An.prototype.copy=function(na){na.words=new Array(this.length);for(var _a=0;_a<this.length;_a++)na.words[_a]=this.words[_a];na.length=this.length,na.negative=this.negative,na.red=this.red},An.prototype.clone=function(){var na=new An(null);return this.copy(na),na},An.prototype._expand=function(na){for(;this.length<na;)this.words[this.length++]=0;return this},An.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},An.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},An.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ts=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],is=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],cs=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];An.prototype.toString=function(na,_a){na=na||10,_a=_a|0||1;var es;if(na===16||na==="hex"){es="";for(var ns=0,os=0,ls=0;ls<this.length;ls++){var hs=this.words[ls],ss=((hs<<ns|os)&16777215).toString(16);os=hs>>>24-ns&16777215,ns+=2,ns>=26&&(ns-=26,ls--),os!==0||ls!==this.length-1?es=ts[6-ss.length]+ss+es:es=ss+es}for(os!==0&&(es=os.toString(16)+es);es.length%_a!==0;)es="0"+es;return this.negative!==0&&(es="-"+es),es}if(na===(na|0)&&na>=2&&na<=36){var ga=is[na],as=cs[na];es="";var r0=this.clone();for(r0.negative=0;!r0.isZero();){var a0=r0.modn(as).toString(na);r0=r0.idivn(as),r0.isZero()?es=a0+es:es=ts[ga-a0.length]+a0+es}for(this.isZero()&&(es="0"+es);es.length%_a!==0;)es="0"+es;return this.negative!==0&&(es="-"+es),es}Cn(!1,"Base should be between 2 and 36")},An.prototype.toNumber=function(){var na=this.words[0];return this.length===2?na+=this.words[1]*67108864:this.length===3&&this.words[2]===1?na+=4503599627370496+this.words[1]*67108864:this.length>2&&Cn(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-na:na},An.prototype.toJSON=function(){return this.toString(16)},An.prototype.toBuffer=function(na,_a){return Cn(typeof ba<"u"),this.toArrayLike(ba,na,_a)},An.prototype.toArray=function(na,_a){return this.toArrayLike(Array,na,_a)},An.prototype.toArrayLike=function(na,_a,es){var ns=this.byteLength(),os=es||Math.max(1,ns);Cn(ns<=os,"byte array longer than desired length"),Cn(os>0,"Requested array length <= 0"),this.strip();var ls=_a==="le",hs=new na(os),ss,ga,as=this.clone();if(ls){for(ga=0;!as.isZero();ga++)ss=as.andln(255),as.iushrn(8),hs[ga]=ss;for(;ga<os;ga++)hs[ga]=0}else{for(ga=0;ga<os-ns;ga++)hs[ga]=0;for(ga=0;!as.isZero();ga++)ss=as.andln(255),as.iushrn(8),hs[os-ga-1]=ss}return hs},Math.clz32?An.prototype._countBits=function(na){return 32-Math.clz32(na)}:An.prototype._countBits=function(na){var _a=na,es=0;return _a>=4096&&(es+=13,_a>>>=13),_a>=64&&(es+=7,_a>>>=7),_a>=8&&(es+=4,_a>>>=4),_a>=2&&(es+=2,_a>>>=2),es+_a},An.prototype._zeroBits=function(na){if(na===0)return 26;var _a=na,es=0;return _a&8191||(es+=13,_a>>>=13),_a&127||(es+=7,_a>>>=7),_a&15||(es+=4,_a>>>=4),_a&3||(es+=2,_a>>>=2),_a&1||es++,es},An.prototype.bitLength=function(){var na=this.words[this.length-1],_a=this._countBits(na);return(this.length-1)*26+_a};function us(ds){for(var na=new Array(ds.bitLength()),_a=0;_a<na.length;_a++){var es=_a/26|0,ns=_a%26;na[_a]=(ds.words[es]&1<<ns)>>>ns}return na}An.prototype.zeroBits=function(){if(this.isZero())return 0;for(var na=0,_a=0;_a<this.length;_a++){var es=this._zeroBits(this.words[_a]);if(na+=es,es!==26)break}return na},An.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},An.prototype.toTwos=function(na){return this.negative!==0?this.abs().inotn(na).iaddn(1):this.clone()},An.prototype.fromTwos=function(na){return this.testn(na-1)?this.notn(na).iaddn(1).ineg():this.clone()},An.prototype.isNeg=function(){return this.negative!==0},An.prototype.neg=function(){return this.clone().ineg()},An.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},An.prototype.iuor=function(na){for(;this.length<na.length;)this.words[this.length++]=0;for(var _a=0;_a<na.length;_a++)this.words[_a]=this.words[_a]|na.words[_a];return this.strip()},An.prototype.ior=function(na){return Cn((this.negative|na.negative)===0),this.iuor(na)},An.prototype.or=function(na){return this.length>na.length?this.clone().ior(na):na.clone().ior(this)},An.prototype.uor=function(na){return this.length>na.length?this.clone().iuor(na):na.clone().iuor(this)},An.prototype.iuand=function(na){var _a;this.length>na.length?_a=na:_a=this;for(var es=0;es<_a.length;es++)this.words[es]=this.words[es]&na.words[es];return this.length=_a.length,this.strip()},An.prototype.iand=function(na){return Cn((this.negative|na.negative)===0),this.iuand(na)},An.prototype.and=function(na){return this.length>na.length?this.clone().iand(na):na.clone().iand(this)},An.prototype.uand=function(na){return this.length>na.length?this.clone().iuand(na):na.clone().iuand(this)},An.prototype.iuxor=function(na){var _a,es;this.length>na.length?(_a=this,es=na):(_a=na,es=this);for(var ns=0;ns<es.length;ns++)this.words[ns]=_a.words[ns]^es.words[ns];if(this!==_a)for(;ns<_a.length;ns++)this.words[ns]=_a.words[ns];return this.length=_a.length,this.strip()},An.prototype.ixor=function(na){return Cn((this.negative|na.negative)===0),this.iuxor(na)},An.prototype.xor=function(na){return this.length>na.length?this.clone().ixor(na):na.clone().ixor(this)},An.prototype.uxor=function(na){return this.length>na.length?this.clone().iuxor(na):na.clone().iuxor(this)},An.prototype.inotn=function(na){Cn(typeof na=="number"&&na>=0);var _a=Math.ceil(na/26)|0,es=na%26;this._expand(_a),es>0&&_a--;for(var ns=0;ns<_a;ns++)this.words[ns]=~this.words[ns]&67108863;return es>0&&(this.words[ns]=~this.words[ns]&67108863>>26-es),this.strip()},An.prototype.notn=function(na){return this.clone().inotn(na)},An.prototype.setn=function(na,_a){Cn(typeof na=="number"&&na>=0);var es=na/26|0,ns=na%26;return this._expand(es+1),_a?this.words[es]=this.words[es]|1<<ns:this.words[es]=this.words[es]&~(1<<ns),this.strip()},An.prototype.iadd=function(na){var _a;if(this.negative!==0&&na.negative===0)return this.negative=0,_a=this.isub(na),this.negative^=1,this._normSign();if(this.negative===0&&na.negative!==0)return na.negative=0,_a=this.isub(na),na.negative=1,_a._normSign();var es,ns;this.length>na.length?(es=this,ns=na):(es=na,ns=this);for(var os=0,ls=0;ls<ns.length;ls++)_a=(es.words[ls]|0)+(ns.words[ls]|0)+os,this.words[ls]=_a&67108863,os=_a>>>26;for(;os!==0&&ls<es.length;ls++)_a=(es.words[ls]|0)+os,this.words[ls]=_a&67108863,os=_a>>>26;if(this.length=es.length,os!==0)this.words[this.length]=os,this.length++;else if(es!==this)for(;ls<es.length;ls++)this.words[ls]=es.words[ls];return this},An.prototype.add=function(na){var _a;return na.negative!==0&&this.negative===0?(na.negative=0,_a=this.sub(na),na.negative^=1,_a):na.negative===0&&this.negative!==0?(this.negative=0,_a=na.sub(this),this.negative=1,_a):this.length>na.length?this.clone().iadd(na):na.clone().iadd(this)},An.prototype.isub=function(na){if(na.negative!==0){na.negative=0;var _a=this.iadd(na);return na.negative=1,_a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(na),this.negative=1,this._normSign();var es=this.cmp(na);if(es===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ns,os;es>0?(ns=this,os=na):(ns=na,os=this);for(var ls=0,hs=0;hs<os.length;hs++)_a=(ns.words[hs]|0)-(os.words[hs]|0)+ls,ls=_a>>26,this.words[hs]=_a&67108863;for(;ls!==0&&hs<ns.length;hs++)_a=(ns.words[hs]|0)+ls,ls=_a>>26,this.words[hs]=_a&67108863;if(ls===0&&hs<ns.length&&ns!==this)for(;hs<ns.length;hs++)this.words[hs]=ns.words[hs];return this.length=Math.max(this.length,hs),ns!==this&&(this.negative=1),this.strip()},An.prototype.sub=function(na){return this.clone().isub(na)};function ps(ds,na,_a){_a.negative=na.negative^ds.negative;var es=ds.length+na.length|0;_a.length=es,es=es-1|0;var ns=ds.words[0]|0,os=na.words[0]|0,ls=ns*os,hs=ls&67108863,ss=ls/67108864|0;_a.words[0]=hs;for(var ga=1;ga<es;ga++){for(var as=ss>>>26,r0=ss&67108863,a0=Math.min(ga,na.length-1),l0=Math.max(0,ga-ds.length+1);l0<=a0;l0++){var s0=ga-l0|0;ns=ds.words[s0]|0,os=na.words[l0]|0,ls=ns*os+r0,as+=ls/67108864|0,r0=ls&67108863}_a.words[ga]=r0|0,ss=as|0}return ss!==0?_a.words[ga]=ss|0:_a.length--,_a.strip()}var bs=function(na,_a,es){var ns=na.words,os=_a.words,ls=es.words,hs=0,ss,ga,as,r0=ns[0]|0,a0=r0&8191,l0=r0>>>13,s0=ns[1]|0,b0=s0&8191,f0=s0>>>13,m0=ns[2]|0,y0=m0&8191,t0=m0>>>13,h0=ns[3]|0,p0=h0&8191,E0=h0>>>13,I0=ns[4]|0,C0=I0&8191,$0=I0>>>13,vo=ns[5]|0,P0=vo&8191,S0=vo>>>13,_o=ns[6]|0,O0=_o&8191,B0=_o>>>13,To=ns[7]|0,k0=To&8191,D0=To>>>13,Eo=ns[8]|0,N0=Eo&8191,F0=Eo>>>13,Co=ns[9]|0,x0=Co&8191,u0=Co>>>13,v0=os[0]|0,_0=v0&8191,T0=v0>>>13,j0=os[1]|0,A0=j0&8191,U0=j0>>>13,$o=os[2]|0,L0=$o&8191,V0=$o>>>13,Mo=os[3]|0,G0=Mo&8191,Z0=Mo>>>13,Io=os[4]|0,q0=Io&8191,Y0=Io>>>13,Ro=os[5]|0,z0=Ro&8191,X0=Ro>>>13,Po=os[6]|0,K0=Po&8191,bo=Po>>>13,ko=os[7]|0,W0=ko&8191,J0=ko>>>13,Ao=os[8]|0,H0=Ao&8191,go=Ao>>>13,Bo=os[9]|0,Q0=Bo&8191,wo=Bo>>>13;es.negative=na.negative^_a.negative,es.length=19,ss=Math.imul(a0,_0),ga=Math.imul(a0,T0),ga=ga+Math.imul(l0,_0)|0,as=Math.imul(l0,T0);var No=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(No>>>26)|0,No&=67108863,ss=Math.imul(b0,_0),ga=Math.imul(b0,T0),ga=ga+Math.imul(f0,_0)|0,as=Math.imul(f0,T0),ss=ss+Math.imul(a0,A0)|0,ga=ga+Math.imul(a0,U0)|0,ga=ga+Math.imul(l0,A0)|0,as=as+Math.imul(l0,U0)|0;var Oo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,ss=Math.imul(y0,_0),ga=Math.imul(y0,T0),ga=ga+Math.imul(t0,_0)|0,as=Math.imul(t0,T0),ss=ss+Math.imul(b0,A0)|0,ga=ga+Math.imul(b0,U0)|0,ga=ga+Math.imul(f0,A0)|0,as=as+Math.imul(f0,U0)|0,ss=ss+Math.imul(a0,L0)|0,ga=ga+Math.imul(a0,V0)|0,ga=ga+Math.imul(l0,L0)|0,as=as+Math.imul(l0,V0)|0;var jo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(jo>>>26)|0,jo&=67108863,ss=Math.imul(p0,_0),ga=Math.imul(p0,T0),ga=ga+Math.imul(E0,_0)|0,as=Math.imul(E0,T0),ss=ss+Math.imul(y0,A0)|0,ga=ga+Math.imul(y0,U0)|0,ga=ga+Math.imul(t0,A0)|0,as=as+Math.imul(t0,U0)|0,ss=ss+Math.imul(b0,L0)|0,ga=ga+Math.imul(b0,V0)|0,ga=ga+Math.imul(f0,L0)|0,as=as+Math.imul(f0,V0)|0,ss=ss+Math.imul(a0,G0)|0,ga=ga+Math.imul(a0,Z0)|0,ga=ga+Math.imul(l0,G0)|0,as=as+Math.imul(l0,Z0)|0;var Uo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,ss=Math.imul(C0,_0),ga=Math.imul(C0,T0),ga=ga+Math.imul($0,_0)|0,as=Math.imul($0,T0),ss=ss+Math.imul(p0,A0)|0,ga=ga+Math.imul(p0,U0)|0,ga=ga+Math.imul(E0,A0)|0,as=as+Math.imul(E0,U0)|0,ss=ss+Math.imul(y0,L0)|0,ga=ga+Math.imul(y0,V0)|0,ga=ga+Math.imul(t0,L0)|0,as=as+Math.imul(t0,V0)|0,ss=ss+Math.imul(b0,G0)|0,ga=ga+Math.imul(b0,Z0)|0,ga=ga+Math.imul(f0,G0)|0,as=as+Math.imul(f0,Z0)|0,ss=ss+Math.imul(a0,q0)|0,ga=ga+Math.imul(a0,Y0)|0,ga=ga+Math.imul(l0,q0)|0,as=as+Math.imul(l0,Y0)|0;var zo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(zo>>>26)|0,zo&=67108863,ss=Math.imul(P0,_0),ga=Math.imul(P0,T0),ga=ga+Math.imul(S0,_0)|0,as=Math.imul(S0,T0),ss=ss+Math.imul(C0,A0)|0,ga=ga+Math.imul(C0,U0)|0,ga=ga+Math.imul($0,A0)|0,as=as+Math.imul($0,U0)|0,ss=ss+Math.imul(p0,L0)|0,ga=ga+Math.imul(p0,V0)|0,ga=ga+Math.imul(E0,L0)|0,as=as+Math.imul(E0,V0)|0,ss=ss+Math.imul(y0,G0)|0,ga=ga+Math.imul(y0,Z0)|0,ga=ga+Math.imul(t0,G0)|0,as=as+Math.imul(t0,Z0)|0,ss=ss+Math.imul(b0,q0)|0,ga=ga+Math.imul(b0,Y0)|0,ga=ga+Math.imul(f0,q0)|0,as=as+Math.imul(f0,Y0)|0,ss=ss+Math.imul(a0,z0)|0,ga=ga+Math.imul(a0,X0)|0,ga=ga+Math.imul(l0,z0)|0,as=as+Math.imul(l0,X0)|0;var qo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(qo>>>26)|0,qo&=67108863,ss=Math.imul(O0,_0),ga=Math.imul(O0,T0),ga=ga+Math.imul(B0,_0)|0,as=Math.imul(B0,T0),ss=ss+Math.imul(P0,A0)|0,ga=ga+Math.imul(P0,U0)|0,ga=ga+Math.imul(S0,A0)|0,as=as+Math.imul(S0,U0)|0,ss=ss+Math.imul(C0,L0)|0,ga=ga+Math.imul(C0,V0)|0,ga=ga+Math.imul($0,L0)|0,as=as+Math.imul($0,V0)|0,ss=ss+Math.imul(p0,G0)|0,ga=ga+Math.imul(p0,Z0)|0,ga=ga+Math.imul(E0,G0)|0,as=as+Math.imul(E0,Z0)|0,ss=ss+Math.imul(y0,q0)|0,ga=ga+Math.imul(y0,Y0)|0,ga=ga+Math.imul(t0,q0)|0,as=as+Math.imul(t0,Y0)|0,ss=ss+Math.imul(b0,z0)|0,ga=ga+Math.imul(b0,X0)|0,ga=ga+Math.imul(f0,z0)|0,as=as+Math.imul(f0,X0)|0,ss=ss+Math.imul(a0,K0)|0,ga=ga+Math.imul(a0,bo)|0,ga=ga+Math.imul(l0,K0)|0,as=as+Math.imul(l0,bo)|0;var Fo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,ss=Math.imul(k0,_0),ga=Math.imul(k0,T0),ga=ga+Math.imul(D0,_0)|0,as=Math.imul(D0,T0),ss=ss+Math.imul(O0,A0)|0,ga=ga+Math.imul(O0,U0)|0,ga=ga+Math.imul(B0,A0)|0,as=as+Math.imul(B0,U0)|0,ss=ss+Math.imul(P0,L0)|0,ga=ga+Math.imul(P0,V0)|0,ga=ga+Math.imul(S0,L0)|0,as=as+Math.imul(S0,V0)|0,ss=ss+Math.imul(C0,G0)|0,ga=ga+Math.imul(C0,Z0)|0,ga=ga+Math.imul($0,G0)|0,as=as+Math.imul($0,Z0)|0,ss=ss+Math.imul(p0,q0)|0,ga=ga+Math.imul(p0,Y0)|0,ga=ga+Math.imul(E0,q0)|0,as=as+Math.imul(E0,Y0)|0,ss=ss+Math.imul(y0,z0)|0,ga=ga+Math.imul(y0,X0)|0,ga=ga+Math.imul(t0,z0)|0,as=as+Math.imul(t0,X0)|0,ss=ss+Math.imul(b0,K0)|0,ga=ga+Math.imul(b0,bo)|0,ga=ga+Math.imul(f0,K0)|0,as=as+Math.imul(f0,bo)|0,ss=ss+Math.imul(a0,W0)|0,ga=ga+Math.imul(a0,J0)|0,ga=ga+Math.imul(l0,W0)|0,as=as+Math.imul(l0,J0)|0;var Ko=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,ss=Math.imul(N0,_0),ga=Math.imul(N0,T0),ga=ga+Math.imul(F0,_0)|0,as=Math.imul(F0,T0),ss=ss+Math.imul(k0,A0)|0,ga=ga+Math.imul(k0,U0)|0,ga=ga+Math.imul(D0,A0)|0,as=as+Math.imul(D0,U0)|0,ss=ss+Math.imul(O0,L0)|0,ga=ga+Math.imul(O0,V0)|0,ga=ga+Math.imul(B0,L0)|0,as=as+Math.imul(B0,V0)|0,ss=ss+Math.imul(P0,G0)|0,ga=ga+Math.imul(P0,Z0)|0,ga=ga+Math.imul(S0,G0)|0,as=as+Math.imul(S0,Z0)|0,ss=ss+Math.imul(C0,q0)|0,ga=ga+Math.imul(C0,Y0)|0,ga=ga+Math.imul($0,q0)|0,as=as+Math.imul($0,Y0)|0,ss=ss+Math.imul(p0,z0)|0,ga=ga+Math.imul(p0,X0)|0,ga=ga+Math.imul(E0,z0)|0,as=as+Math.imul(E0,X0)|0,ss=ss+Math.imul(y0,K0)|0,ga=ga+Math.imul(y0,bo)|0,ga=ga+Math.imul(t0,K0)|0,as=as+Math.imul(t0,bo)|0,ss=ss+Math.imul(b0,W0)|0,ga=ga+Math.imul(b0,J0)|0,ga=ga+Math.imul(f0,W0)|0,as=as+Math.imul(f0,J0)|0,ss=ss+Math.imul(a0,H0)|0,ga=ga+Math.imul(a0,go)|0,ga=ga+Math.imul(l0,H0)|0,as=as+Math.imul(l0,go)|0;var Ho=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,ss=Math.imul(x0,_0),ga=Math.imul(x0,T0),ga=ga+Math.imul(u0,_0)|0,as=Math.imul(u0,T0),ss=ss+Math.imul(N0,A0)|0,ga=ga+Math.imul(N0,U0)|0,ga=ga+Math.imul(F0,A0)|0,as=as+Math.imul(F0,U0)|0,ss=ss+Math.imul(k0,L0)|0,ga=ga+Math.imul(k0,V0)|0,ga=ga+Math.imul(D0,L0)|0,as=as+Math.imul(D0,V0)|0,ss=ss+Math.imul(O0,G0)|0,ga=ga+Math.imul(O0,Z0)|0,ga=ga+Math.imul(B0,G0)|0,as=as+Math.imul(B0,Z0)|0,ss=ss+Math.imul(P0,q0)|0,ga=ga+Math.imul(P0,Y0)|0,ga=ga+Math.imul(S0,q0)|0,as=as+Math.imul(S0,Y0)|0,ss=ss+Math.imul(C0,z0)|0,ga=ga+Math.imul(C0,X0)|0,ga=ga+Math.imul($0,z0)|0,as=as+Math.imul($0,X0)|0,ss=ss+Math.imul(p0,K0)|0,ga=ga+Math.imul(p0,bo)|0,ga=ga+Math.imul(E0,K0)|0,as=as+Math.imul(E0,bo)|0,ss=ss+Math.imul(y0,W0)|0,ga=ga+Math.imul(y0,J0)|0,ga=ga+Math.imul(t0,W0)|0,as=as+Math.imul(t0,J0)|0,ss=ss+Math.imul(b0,H0)|0,ga=ga+Math.imul(b0,go)|0,ga=ga+Math.imul(f0,H0)|0,as=as+Math.imul(f0,go)|0,ss=ss+Math.imul(a0,Q0)|0,ga=ga+Math.imul(a0,wo)|0,ga=ga+Math.imul(l0,Q0)|0,as=as+Math.imul(l0,wo)|0;var Vo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,ss=Math.imul(x0,A0),ga=Math.imul(x0,U0),ga=ga+Math.imul(u0,A0)|0,as=Math.imul(u0,U0),ss=ss+Math.imul(N0,L0)|0,ga=ga+Math.imul(N0,V0)|0,ga=ga+Math.imul(F0,L0)|0,as=as+Math.imul(F0,V0)|0,ss=ss+Math.imul(k0,G0)|0,ga=ga+Math.imul(k0,Z0)|0,ga=ga+Math.imul(D0,G0)|0,as=as+Math.imul(D0,Z0)|0,ss=ss+Math.imul(O0,q0)|0,ga=ga+Math.imul(O0,Y0)|0,ga=ga+Math.imul(B0,q0)|0,as=as+Math.imul(B0,Y0)|0,ss=ss+Math.imul(P0,z0)|0,ga=ga+Math.imul(P0,X0)|0,ga=ga+Math.imul(S0,z0)|0,as=as+Math.imul(S0,X0)|0,ss=ss+Math.imul(C0,K0)|0,ga=ga+Math.imul(C0,bo)|0,ga=ga+Math.imul($0,K0)|0,as=as+Math.imul($0,bo)|0,ss=ss+Math.imul(p0,W0)|0,ga=ga+Math.imul(p0,J0)|0,ga=ga+Math.imul(E0,W0)|0,as=as+Math.imul(E0,J0)|0,ss=ss+Math.imul(y0,H0)|0,ga=ga+Math.imul(y0,go)|0,ga=ga+Math.imul(t0,H0)|0,as=as+Math.imul(t0,go)|0,ss=ss+Math.imul(b0,Q0)|0,ga=ga+Math.imul(b0,wo)|0,ga=ga+Math.imul(f0,Q0)|0,as=as+Math.imul(f0,wo)|0;var Go=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Go>>>26)|0,Go&=67108863,ss=Math.imul(x0,L0),ga=Math.imul(x0,V0),ga=ga+Math.imul(u0,L0)|0,as=Math.imul(u0,V0),ss=ss+Math.imul(N0,G0)|0,ga=ga+Math.imul(N0,Z0)|0,ga=ga+Math.imul(F0,G0)|0,as=as+Math.imul(F0,Z0)|0,ss=ss+Math.imul(k0,q0)|0,ga=ga+Math.imul(k0,Y0)|0,ga=ga+Math.imul(D0,q0)|0,as=as+Math.imul(D0,Y0)|0,ss=ss+Math.imul(O0,z0)|0,ga=ga+Math.imul(O0,X0)|0,ga=ga+Math.imul(B0,z0)|0,as=as+Math.imul(B0,X0)|0,ss=ss+Math.imul(P0,K0)|0,ga=ga+Math.imul(P0,bo)|0,ga=ga+Math.imul(S0,K0)|0,as=as+Math.imul(S0,bo)|0,ss=ss+Math.imul(C0,W0)|0,ga=ga+Math.imul(C0,J0)|0,ga=ga+Math.imul($0,W0)|0,as=as+Math.imul($0,J0)|0,ss=ss+Math.imul(p0,H0)|0,ga=ga+Math.imul(p0,go)|0,ga=ga+Math.imul(E0,H0)|0,as=as+Math.imul(E0,go)|0,ss=ss+Math.imul(y0,Q0)|0,ga=ga+Math.imul(y0,wo)|0,ga=ga+Math.imul(t0,Q0)|0,as=as+Math.imul(t0,wo)|0;var Zo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,ss=Math.imul(x0,G0),ga=Math.imul(x0,Z0),ga=ga+Math.imul(u0,G0)|0,as=Math.imul(u0,Z0),ss=ss+Math.imul(N0,q0)|0,ga=ga+Math.imul(N0,Y0)|0,ga=ga+Math.imul(F0,q0)|0,as=as+Math.imul(F0,Y0)|0,ss=ss+Math.imul(k0,z0)|0,ga=ga+Math.imul(k0,X0)|0,ga=ga+Math.imul(D0,z0)|0,as=as+Math.imul(D0,X0)|0,ss=ss+Math.imul(O0,K0)|0,ga=ga+Math.imul(O0,bo)|0,ga=ga+Math.imul(B0,K0)|0,as=as+Math.imul(B0,bo)|0,ss=ss+Math.imul(P0,W0)|0,ga=ga+Math.imul(P0,J0)|0,ga=ga+Math.imul(S0,W0)|0,as=as+Math.imul(S0,J0)|0,ss=ss+Math.imul(C0,H0)|0,ga=ga+Math.imul(C0,go)|0,ga=ga+Math.imul($0,H0)|0,as=as+Math.imul($0,go)|0,ss=ss+Math.imul(p0,Q0)|0,ga=ga+Math.imul(p0,wo)|0,ga=ga+Math.imul(E0,Q0)|0,as=as+Math.imul(E0,wo)|0;var Jo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Jo>>>26)|0,Jo&=67108863,ss=Math.imul(x0,q0),ga=Math.imul(x0,Y0),ga=ga+Math.imul(u0,q0)|0,as=Math.imul(u0,Y0),ss=ss+Math.imul(N0,z0)|0,ga=ga+Math.imul(N0,X0)|0,ga=ga+Math.imul(F0,z0)|0,as=as+Math.imul(F0,X0)|0,ss=ss+Math.imul(k0,K0)|0,ga=ga+Math.imul(k0,bo)|0,ga=ga+Math.imul(D0,K0)|0,as=as+Math.imul(D0,bo)|0,ss=ss+Math.imul(O0,W0)|0,ga=ga+Math.imul(O0,J0)|0,ga=ga+Math.imul(B0,W0)|0,as=as+Math.imul(B0,J0)|0,ss=ss+Math.imul(P0,H0)|0,ga=ga+Math.imul(P0,go)|0,ga=ga+Math.imul(S0,H0)|0,as=as+Math.imul(S0,go)|0,ss=ss+Math.imul(C0,Q0)|0,ga=ga+Math.imul(C0,wo)|0,ga=ga+Math.imul($0,Q0)|0,as=as+Math.imul($0,wo)|0;var Qo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,ss=Math.imul(x0,z0),ga=Math.imul(x0,X0),ga=ga+Math.imul(u0,z0)|0,as=Math.imul(u0,X0),ss=ss+Math.imul(N0,K0)|0,ga=ga+Math.imul(N0,bo)|0,ga=ga+Math.imul(F0,K0)|0,as=as+Math.imul(F0,bo)|0,ss=ss+Math.imul(k0,W0)|0,ga=ga+Math.imul(k0,J0)|0,ga=ga+Math.imul(D0,W0)|0,as=as+Math.imul(D0,J0)|0,ss=ss+Math.imul(O0,H0)|0,ga=ga+Math.imul(O0,go)|0,ga=ga+Math.imul(B0,H0)|0,as=as+Math.imul(B0,go)|0,ss=ss+Math.imul(P0,Q0)|0,ga=ga+Math.imul(P0,wo)|0,ga=ga+Math.imul(S0,Q0)|0,as=as+Math.imul(S0,wo)|0;var Xo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,ss=Math.imul(x0,K0),ga=Math.imul(x0,bo),ga=ga+Math.imul(u0,K0)|0,as=Math.imul(u0,bo),ss=ss+Math.imul(N0,W0)|0,ga=ga+Math.imul(N0,J0)|0,ga=ga+Math.imul(F0,W0)|0,as=as+Math.imul(F0,J0)|0,ss=ss+Math.imul(k0,H0)|0,ga=ga+Math.imul(k0,go)|0,ga=ga+Math.imul(D0,H0)|0,as=as+Math.imul(D0,go)|0,ss=ss+Math.imul(O0,Q0)|0,ga=ga+Math.imul(O0,wo)|0,ga=ga+Math.imul(B0,Q0)|0,as=as+Math.imul(B0,wo)|0;var Wo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,ss=Math.imul(x0,W0),ga=Math.imul(x0,J0),ga=ga+Math.imul(u0,W0)|0,as=Math.imul(u0,J0),ss=ss+Math.imul(N0,H0)|0,ga=ga+Math.imul(N0,go)|0,ga=ga+Math.imul(F0,H0)|0,as=as+Math.imul(F0,go)|0,ss=ss+Math.imul(k0,Q0)|0,ga=ga+Math.imul(k0,wo)|0,ga=ga+Math.imul(D0,Q0)|0,as=as+Math.imul(D0,wo)|0;var _f=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(_f>>>26)|0,_f&=67108863,ss=Math.imul(x0,H0),ga=Math.imul(x0,go),ga=ga+Math.imul(u0,H0)|0,as=Math.imul(u0,go),ss=ss+Math.imul(N0,Q0)|0,ga=ga+Math.imul(N0,wo)|0,ga=ga+Math.imul(F0,Q0)|0,as=as+Math.imul(F0,wo)|0;var _c=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(_c>>>26)|0,_c&=67108863,ss=Math.imul(x0,Q0),ga=Math.imul(x0,wo),ga=ga+Math.imul(u0,Q0)|0,as=Math.imul(u0,wo);var yl=(hs+ss|0)+((ga&8191)<<13)|0;return hs=(as+(ga>>>13)|0)+(yl>>>26)|0,yl&=67108863,ls[0]=No,ls[1]=Oo,ls[2]=jo,ls[3]=Uo,ls[4]=zo,ls[5]=qo,ls[6]=Fo,ls[7]=Ko,ls[8]=Ho,ls[9]=Vo,ls[10]=Go,ls[11]=Zo,ls[12]=Jo,ls[13]=Qo,ls[14]=Xo,ls[15]=Wo,ls[16]=_f,ls[17]=_c,ls[18]=yl,hs!==0&&(ls[19]=hs,es.length++),es};Math.imul||(bs=ps);function e0(ds,na,_a){_a.negative=na.negative^ds.negative,_a.length=ds.length+na.length;for(var es=0,ns=0,os=0;os<_a.length-1;os++){var ls=ns;ns=0;for(var hs=es&67108863,ss=Math.min(os,na.length-1),ga=Math.max(0,os-ds.length+1);ga<=ss;ga++){var as=os-ga,r0=ds.words[as]|0,a0=na.words[ga]|0,l0=r0*a0,s0=l0&67108863;ls=ls+(l0/67108864|0)|0,s0=s0+hs|0,hs=s0&67108863,ls=ls+(s0>>>26)|0,ns+=ls>>>26,ls&=67108863}_a.words[os]=hs,es=ls,ls=ns}return es!==0?_a.words[os]=es:_a.length--,_a.strip()}function gs(ds,na,_a){var es=new Ds;return es.mulp(ds,na,_a)}An.prototype.mulTo=function(na,_a){var es,ns=this.length+na.length;return this.length===10&&na.length===10?es=bs(this,na,_a):ns<63?es=ps(this,na,_a):ns<1024?es=e0(this,na,_a):es=gs(this,na,_a),es};function Ds(ds,na){this.x=ds,this.y=na}Ds.prototype.makeRBT=function(na){for(var _a=new Array(na),es=An.prototype._countBits(na)-1,ns=0;ns<na;ns++)_a[ns]=this.revBin(ns,es,na);return _a},Ds.prototype.revBin=function(na,_a,es){if(na===0||na===es-1)return na;for(var ns=0,os=0;os<_a;os++)ns|=(na&1)<<_a-os-1,na>>=1;return ns},Ds.prototype.permute=function(na,_a,es,ns,os,ls){for(var hs=0;hs<ls;hs++)ns[hs]=_a[na[hs]],os[hs]=es[na[hs]]},Ds.prototype.transform=function(na,_a,es,ns,os,ls){this.permute(ls,na,_a,es,ns,os);for(var hs=1;hs<os;hs<<=1)for(var ss=hs<<1,ga=Math.cos(2*Math.PI/ss),as=Math.sin(2*Math.PI/ss),r0=0;r0<os;r0+=ss)for(var a0=ga,l0=as,s0=0;s0<hs;s0++){var b0=es[r0+s0],f0=ns[r0+s0],m0=es[r0+s0+hs],y0=ns[r0+s0+hs],t0=a0*m0-l0*y0;y0=a0*y0+l0*m0,m0=t0,es[r0+s0]=b0+m0,ns[r0+s0]=f0+y0,es[r0+s0+hs]=b0-m0,ns[r0+s0+hs]=f0-y0,s0!==ss&&(t0=ga*a0-as*l0,l0=ga*l0+as*a0,a0=t0)}},Ds.prototype.guessLen13b=function(na,_a){var es=Math.max(_a,na)|1,ns=es&1,os=0;for(es=es/2|0;es;es=es>>>1)os++;return 1<<os+1+ns},Ds.prototype.conjugate=function(na,_a,es){if(!(es<=1))for(var ns=0;ns<es/2;ns++){var os=na[ns];na[ns]=na[es-ns-1],na[es-ns-1]=os,os=_a[ns],_a[ns]=-_a[es-ns-1],_a[es-ns-1]=-os}},Ds.prototype.normalize13b=function(na,_a){for(var es=0,ns=0;ns<_a/2;ns++){var os=Math.round(na[2*ns+1]/_a)*8192+Math.round(na[2*ns]/_a)+es;na[ns]=os&67108863,os<67108864?es=0:es=os/67108864|0}return na},Ds.prototype.convert13b=function(na,_a,es,ns){for(var os=0,ls=0;ls<_a;ls++)os=os+(na[ls]|0),es[2*ls]=os&8191,os=os>>>13,es[2*ls+1]=os&8191,os=os>>>13;for(ls=2*_a;ls<ns;++ls)es[ls]=0;Cn(os===0),Cn((os&-8192)===0)},Ds.prototype.stub=function(na){for(var _a=new Array(na),es=0;es<na;es++)_a[es]=0;return _a},Ds.prototype.mulp=function(na,_a,es){var ns=2*this.guessLen13b(na.length,_a.length),os=this.makeRBT(ns),ls=this.stub(ns),hs=new Array(ns),ss=new Array(ns),ga=new Array(ns),as=new Array(ns),r0=new Array(ns),a0=new Array(ns),l0=es.words;l0.length=ns,this.convert13b(na.words,na.length,hs,ns),this.convert13b(_a.words,_a.length,as,ns),this.transform(hs,ls,ss,ga,ns,os),this.transform(as,ls,r0,a0,ns,os);for(var s0=0;s0<ns;s0++){var b0=ss[s0]*r0[s0]-ga[s0]*a0[s0];ga[s0]=ss[s0]*a0[s0]+ga[s0]*r0[s0],ss[s0]=b0}return this.conjugate(ss,ga,ns),this.transform(ss,ga,l0,ls,ns,os),this.conjugate(l0,ls,ns),this.normalize13b(l0,ns),es.negative=na.negative^_a.negative,es.length=na.length+_a.length,es.strip()},An.prototype.mul=function(na){var _a=new An(null);return _a.words=new Array(this.length+na.length),this.mulTo(na,_a)},An.prototype.mulf=function(na){var _a=new An(null);return _a.words=new Array(this.length+na.length),gs(this,na,_a)},An.prototype.imul=function(na){return this.clone().mulTo(na,this)},An.prototype.imuln=function(na){Cn(typeof na=="number"),Cn(na<67108864);for(var _a=0,es=0;es<this.length;es++){var ns=(this.words[es]|0)*na,os=(ns&67108863)+(_a&67108863);_a>>=26,_a+=ns/67108864|0,_a+=os>>>26,this.words[es]=os&67108863}return _a!==0&&(this.words[es]=_a,this.length++),this},An.prototype.muln=function(na){return this.clone().imuln(na)},An.prototype.sqr=function(){return this.mul(this)},An.prototype.isqr=function(){return this.imul(this.clone())},An.prototype.pow=function(na){var _a=us(na);if(_a.length===0)return new An(1);for(var es=this,ns=0;ns<_a.length&&_a[ns]===0;ns++,es=es.sqr());if(++ns<_a.length)for(var os=es.sqr();ns<_a.length;ns++,os=os.sqr())_a[ns]!==0&&(es=es.mul(os));return es},An.prototype.iushln=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26,ns=67108863>>>26-_a<<26-_a,os;if(_a!==0){var ls=0;for(os=0;os<this.length;os++){var hs=this.words[os]&ns,ss=(this.words[os]|0)-hs<<_a;this.words[os]=ss|ls,ls=hs>>>26-_a}ls&&(this.words[os]=ls,this.length++)}if(es!==0){for(os=this.length-1;os>=0;os--)this.words[os+es]=this.words[os];for(os=0;os<es;os++)this.words[os]=0;this.length+=es}return this.strip()},An.prototype.ishln=function(na){return Cn(this.negative===0),this.iushln(na)},An.prototype.iushrn=function(na,_a,es){Cn(typeof na=="number"&&na>=0);var ns;_a?ns=(_a-_a%26)/26:ns=0;var os=na%26,ls=Math.min((na-os)/26,this.length),hs=67108863^67108863>>>os<<os,ss=es;if(ns-=ls,ns=Math.max(0,ns),ss){for(var ga=0;ga<ls;ga++)ss.words[ga]=this.words[ga];ss.length=ls}if(ls!==0)if(this.length>ls)for(this.length-=ls,ga=0;ga<this.length;ga++)this.words[ga]=this.words[ga+ls];else this.words[0]=0,this.length=1;var as=0;for(ga=this.length-1;ga>=0&&(as!==0||ga>=ns);ga--){var r0=this.words[ga]|0;this.words[ga]=as<<26-os|r0>>>os,as=r0&hs}return ss&&as!==0&&(ss.words[ss.length++]=as),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},An.prototype.ishrn=function(na,_a,es){return Cn(this.negative===0),this.iushrn(na,_a,es)},An.prototype.shln=function(na){return this.clone().ishln(na)},An.prototype.ushln=function(na){return this.clone().iushln(na)},An.prototype.shrn=function(na){return this.clone().ishrn(na)},An.prototype.ushrn=function(na){return this.clone().iushrn(na)},An.prototype.testn=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26,ns=1<<_a;if(this.length<=es)return!1;var os=this.words[es];return!!(os&ns)},An.prototype.imaskn=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26;if(Cn(this.negative===0,"imaskn works only with positive numbers"),this.length<=es)return this;if(_a!==0&&es++,this.length=Math.min(es,this.length),_a!==0){var ns=67108863^67108863>>>_a<<_a;this.words[this.length-1]&=ns}return this.strip()},An.prototype.maskn=function(na){return this.clone().imaskn(na)},An.prototype.iaddn=function(na){return Cn(typeof na=="number"),Cn(na<67108864),na<0?this.isubn(-na):this.negative!==0?this.length===1&&(this.words[0]|0)<na?(this.words[0]=na-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(na),this.negative=1,this):this._iaddn(na)},An.prototype._iaddn=function(na){this.words[0]+=na;for(var _a=0;_a<this.length&&this.words[_a]>=67108864;_a++)this.words[_a]-=67108864,_a===this.length-1?this.words[_a+1]=1:this.words[_a+1]++;return this.length=Math.max(this.length,_a+1),this},An.prototype.isubn=function(na){if(Cn(typeof na=="number"),Cn(na<67108864),na<0)return this.iaddn(-na);if(this.negative!==0)return this.negative=0,this.iaddn(na),this.negative=1,this;if(this.words[0]-=na,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _a=0;_a<this.length&&this.words[_a]<0;_a++)this.words[_a]+=67108864,this.words[_a+1]-=1;return this.strip()},An.prototype.addn=function(na){return this.clone().iaddn(na)},An.prototype.subn=function(na){return this.clone().isubn(na)},An.prototype.iabs=function(){return this.negative=0,this},An.prototype.abs=function(){return this.clone().iabs()},An.prototype._ishlnsubmul=function(na,_a,es){var ns=na.length+es,os;this._expand(ns);var ls,hs=0;for(os=0;os<na.length;os++){ls=(this.words[os+es]|0)+hs;var ss=(na.words[os]|0)*_a;ls-=ss&67108863,hs=(ls>>26)-(ss/67108864|0),this.words[os+es]=ls&67108863}for(;os<this.length-es;os++)ls=(this.words[os+es]|0)+hs,hs=ls>>26,this.words[os+es]=ls&67108863;if(hs===0)return this.strip();for(Cn(hs===-1),hs=0,os=0;os<this.length;os++)ls=-(this.words[os]|0)+hs,hs=ls>>26,this.words[os]=ls&67108863;return this.negative=1,this.strip()},An.prototype._wordDiv=function(na,_a){var es=this.length-na.length,ns=this.clone(),os=na,ls=os.words[os.length-1]|0,hs=this._countBits(ls);es=26-hs,es!==0&&(os=os.ushln(es),ns.iushln(es),ls=os.words[os.length-1]|0);var ss=ns.length-os.length,ga;if(_a!=="mod"){ga=new An(null),ga.length=ss+1,ga.words=new Array(ga.length);for(var as=0;as<ga.length;as++)ga.words[as]=0}var r0=ns.clone()._ishlnsubmul(os,1,ss);r0.negative===0&&(ns=r0,ga&&(ga.words[ss]=1));for(var a0=ss-1;a0>=0;a0--){var l0=(ns.words[os.length+a0]|0)*67108864+(ns.words[os.length+a0-1]|0);for(l0=Math.min(l0/ls|0,67108863),ns._ishlnsubmul(os,l0,a0);ns.negative!==0;)l0--,ns.negative=0,ns._ishlnsubmul(os,1,a0),ns.isZero()||(ns.negative^=1);ga&&(ga.words[a0]=l0)}return ga&&ga.strip(),ns.strip(),_a!=="div"&&es!==0&&ns.iushrn(es),{div:ga||null,mod:ns}},An.prototype.divmod=function(na,_a,es){if(Cn(!na.isZero()),this.isZero())return{div:new An(0),mod:new An(0)};var ns,os,ls;return this.negative!==0&&na.negative===0?(ls=this.neg().divmod(na,_a),_a!=="mod"&&(ns=ls.div.neg()),_a!=="div"&&(os=ls.mod.neg(),es&&os.negative!==0&&os.iadd(na)),{div:ns,mod:os}):this.negative===0&&na.negative!==0?(ls=this.divmod(na.neg(),_a),_a!=="mod"&&(ns=ls.div.neg()),{div:ns,mod:ls.mod}):this.negative&na.negative?(ls=this.neg().divmod(na.neg(),_a),_a!=="div"&&(os=ls.mod.neg(),es&&os.negative!==0&&os.isub(na)),{div:ls.div,mod:os}):na.length>this.length||this.cmp(na)<0?{div:new An(0),mod:this}:na.length===1?_a==="div"?{div:this.divn(na.words[0]),mod:null}:_a==="mod"?{div:null,mod:new An(this.modn(na.words[0]))}:{div:this.divn(na.words[0]),mod:new An(this.modn(na.words[0]))}:this._wordDiv(na,_a)},An.prototype.div=function(na){return this.divmod(na,"div",!1).div},An.prototype.mod=function(na){return this.divmod(na,"mod",!1).mod},An.prototype.umod=function(na){return this.divmod(na,"mod",!0).mod},An.prototype.divRound=function(na){var _a=this.divmod(na);if(_a.mod.isZero())return _a.div;var es=_a.div.negative!==0?_a.mod.isub(na):_a.mod,ns=na.ushrn(1),os=na.andln(1),ls=es.cmp(ns);return ls<0||os===1&&ls===0?_a.div:_a.div.negative!==0?_a.div.isubn(1):_a.div.iaddn(1)},An.prototype.modn=function(na){Cn(na<=67108863);for(var _a=(1<<26)%na,es=0,ns=this.length-1;ns>=0;ns--)es=(_a*es+(this.words[ns]|0))%na;return es},An.prototype.idivn=function(na){Cn(na<=67108863);for(var _a=0,es=this.length-1;es>=0;es--){var ns=(this.words[es]|0)+_a*67108864;this.words[es]=ns/na|0,_a=ns%na}return this.strip()},An.prototype.divn=function(na){return this.clone().idivn(na)},An.prototype.egcd=function(na){Cn(na.negative===0),Cn(!na.isZero());var _a=this,es=na.clone();_a.negative!==0?_a=_a.umod(na):_a=_a.clone();for(var ns=new An(1),os=new An(0),ls=new An(0),hs=new An(1),ss=0;_a.isEven()&&es.isEven();)_a.iushrn(1),es.iushrn(1),++ss;for(var ga=es.clone(),as=_a.clone();!_a.isZero();){for(var r0=0,a0=1;!(_a.words[0]&a0)&&r0<26;++r0,a0<<=1);if(r0>0)for(_a.iushrn(r0);r0-- >0;)(ns.isOdd()||os.isOdd())&&(ns.iadd(ga),os.isub(as)),ns.iushrn(1),os.iushrn(1);for(var l0=0,s0=1;!(es.words[0]&s0)&&l0<26;++l0,s0<<=1);if(l0>0)for(es.iushrn(l0);l0-- >0;)(ls.isOdd()||hs.isOdd())&&(ls.iadd(ga),hs.isub(as)),ls.iushrn(1),hs.iushrn(1);_a.cmp(es)>=0?(_a.isub(es),ns.isub(ls),os.isub(hs)):(es.isub(_a),ls.isub(ns),hs.isub(os))}return{a:ls,b:hs,gcd:es.iushln(ss)}},An.prototype._invmp=function(na){Cn(na.negative===0),Cn(!na.isZero());var _a=this,es=na.clone();_a.negative!==0?_a=_a.umod(na):_a=_a.clone();for(var ns=new An(1),os=new An(0),ls=es.clone();_a.cmpn(1)>0&&es.cmpn(1)>0;){for(var hs=0,ss=1;!(_a.words[0]&ss)&&hs<26;++hs,ss<<=1);if(hs>0)for(_a.iushrn(hs);hs-- >0;)ns.isOdd()&&ns.iadd(ls),ns.iushrn(1);for(var ga=0,as=1;!(es.words[0]&as)&&ga<26;++ga,as<<=1);if(ga>0)for(es.iushrn(ga);ga-- >0;)os.isOdd()&&os.iadd(ls),os.iushrn(1);_a.cmp(es)>=0?(_a.isub(es),ns.isub(os)):(es.isub(_a),os.isub(ns))}var r0;return _a.cmpn(1)===0?r0=ns:r0=os,r0.cmpn(0)<0&&r0.iadd(na),r0},An.prototype.gcd=function(na){if(this.isZero())return na.abs();if(na.isZero())return this.abs();var _a=this.clone(),es=na.clone();_a.negative=0,es.negative=0;for(var ns=0;_a.isEven()&&es.isEven();ns++)_a.iushrn(1),es.iushrn(1);do{for(;_a.isEven();)_a.iushrn(1);for(;es.isEven();)es.iushrn(1);var os=_a.cmp(es);if(os<0){var ls=_a;_a=es,es=ls}else if(os===0||es.cmpn(1)===0)break;_a.isub(es)}while(!0);return es.iushln(ns)},An.prototype.invm=function(na){return this.egcd(na).a.umod(na)},An.prototype.isEven=function(){return(this.words[0]&1)===0},An.prototype.isOdd=function(){return(this.words[0]&1)===1},An.prototype.andln=function(na){return this.words[0]&na},An.prototype.bincn=function(na){Cn(typeof na=="number");var _a=na%26,es=(na-_a)/26,ns=1<<_a;if(this.length<=es)return this._expand(es+1),this.words[es]|=ns,this;for(var os=ns,ls=es;os!==0&&ls<this.length;ls++){var hs=this.words[ls]|0;hs+=os,os=hs>>>26,hs&=67108863,this.words[ls]=hs}return os!==0&&(this.words[ls]=os,this.length++),this},An.prototype.isZero=function(){return this.length===1&&this.words[0]===0},An.prototype.cmpn=function(na){var _a=na<0;if(this.negative!==0&&!_a)return-1;if(this.negative===0&&_a)return 1;this.strip();var es;if(this.length>1)es=1;else{_a&&(na=-na),Cn(na<=67108863,"Number is too big");var ns=this.words[0]|0;es=ns===na?0:ns<na?-1:1}return this.negative!==0?-es|0:es},An.prototype.cmp=function(na){if(this.negative!==0&&na.negative===0)return-1;if(this.negative===0&&na.negative!==0)return 1;var _a=this.ucmp(na);return this.negative!==0?-_a|0:_a},An.prototype.ucmp=function(na){if(this.length>na.length)return 1;if(this.length<na.length)return-1;for(var _a=0,es=this.length-1;es>=0;es--){var ns=this.words[es]|0,os=na.words[es]|0;if(ns!==os){ns<os?_a=-1:ns>os&&(_a=1);break}}return _a},An.prototype.gtn=function(na){return this.cmpn(na)===1},An.prototype.gt=function(na){return this.cmp(na)===1},An.prototype.gten=function(na){return this.cmpn(na)>=0},An.prototype.gte=function(na){return this.cmp(na)>=0},An.prototype.ltn=function(na){return this.cmpn(na)===-1},An.prototype.lt=function(na){return this.cmp(na)===-1},An.prototype.lten=function(na){return this.cmpn(na)<=0},An.prototype.lte=function(na){return this.cmp(na)<=0},An.prototype.eqn=function(na){return this.cmpn(na)===0},An.prototype.eq=function(na){return this.cmp(na)===0},An.red=function(na){return new w0(na)},An.prototype.toRed=function(na){return Cn(!this.red,"Already a number in reduction context"),Cn(this.negative===0,"red works only with positives"),na.convertTo(this)._forceRed(na)},An.prototype.fromRed=function(){return Cn(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},An.prototype._forceRed=function(na){return this.red=na,this},An.prototype.forceRed=function(na){return Cn(!this.red,"Already a number in reduction context"),this._forceRed(na)},An.prototype.redAdd=function(na){return Cn(this.red,"redAdd works only with red numbers"),this.red.add(this,na)},An.prototype.redIAdd=function(na){return Cn(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,na)},An.prototype.redSub=function(na){return Cn(this.red,"redSub works only with red numbers"),this.red.sub(this,na)},An.prototype.redISub=function(na){return Cn(this.red,"redISub works only with red numbers"),this.red.isub(this,na)},An.prototype.redShl=function(na){return Cn(this.red,"redShl works only with red numbers"),this.red.shl(this,na)},An.prototype.redMul=function(na){return Cn(this.red,"redMul works only with red numbers"),this.red._verify2(this,na),this.red.mul(this,na)},An.prototype.redIMul=function(na){return Cn(this.red,"redMul works only with red numbers"),this.red._verify2(this,na),this.red.imul(this,na)},An.prototype.redSqr=function(){return Cn(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},An.prototype.redISqr=function(){return Cn(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},An.prototype.redSqrt=function(){return Cn(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},An.prototype.redInvm=function(){return Cn(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},An.prototype.redNeg=function(){return Cn(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},An.prototype.redPow=function(na){return Cn(this.red&&!na.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,na)};var i0={k256:null,p224:null,p192:null,p25519:null};function n0(ds,na){this.name=ds,this.p=new An(na,16),this.n=this.p.bitLength(),this.k=new An(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}n0.prototype._tmp=function(){var na=new An(null);return na.words=new Array(Math.ceil(this.n/13)),na},n0.prototype.ireduce=function(na){var _a=na,es;do this.split(_a,this.tmp),_a=this.imulK(_a),_a=_a.iadd(this.tmp),es=_a.bitLength();while(es>this.n);var ns=es<this.n?-1:_a.ucmp(this.p);return ns===0?(_a.words[0]=0,_a.length=1):ns>0?_a.isub(this.p):_a.strip!==void 0?_a.strip():_a._strip(),_a},n0.prototype.split=function(na,_a){na.iushrn(this.n,0,_a)},n0.prototype.imulK=function(na){return na.imul(this.k)};function c0(){n0.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}_i(c0,n0),c0.prototype.split=function(na,_a){for(var es=4194303,ns=Math.min(na.length,9),os=0;os<ns;os++)_a.words[os]=na.words[os];if(_a.length=ns,na.length<=9){na.words[0]=0,na.length=1;return}var ls=na.words[9];for(_a.words[_a.length++]=ls&es,os=10;os<na.length;os++){var hs=na.words[os]|0;na.words[os-10]=(hs&es)<<4|ls>>>22,ls=hs}ls>>>=22,na.words[os-10]=ls,ls===0&&na.length>10?na.length-=10:na.length-=9},c0.prototype.imulK=function(na){na.words[na.length]=0,na.words[na.length+1]=0,na.length+=2;for(var _a=0,es=0;es<na.length;es++){var ns=na.words[es]|0;_a+=ns*977,na.words[es]=_a&67108863,_a=ns*64+(_a/67108864|0)}return na.words[na.length-1]===0&&(na.length--,na.words[na.length-1]===0&&na.length--),na};function d0(){n0.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}_i(d0,n0);function o0(){n0.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}_i(o0,n0);function g0(){n0.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}_i(g0,n0),g0.prototype.imulK=function(na){for(var _a=0,es=0;es<na.length;es++){var ns=(na.words[es]|0)*19+_a,os=ns&67108863;ns>>>=26,na.words[es]=os,_a=ns}return _a!==0&&(na.words[na.length++]=_a),na},An._prime=function(na){if(i0[na])return i0[na];var _a;if(na==="k256")_a=new c0;else if(na==="p224")_a=new d0;else if(na==="p192")_a=new o0;else if(na==="p25519")_a=new g0;else throw new Error("Unknown prime "+na);return i0[na]=_a,_a};function w0(ds){if(typeof ds=="string"){var na=An._prime(ds);this.m=na.p,this.prime=na}else Cn(ds.gtn(1),"modulus must be greater than 1"),this.m=ds,this.prime=null}w0.prototype._verify1=function(na){Cn(na.negative===0,"red works only with positives"),Cn(na.red,"red works only with red numbers")},w0.prototype._verify2=function(na,_a){Cn((na.negative|_a.negative)===0,"red works only with positives"),Cn(na.red&&na.red===_a.red,"red works only with red numbers")},w0.prototype.imod=function(na){return this.prime?this.prime.ireduce(na)._forceRed(this):na.umod(this.m)._forceRed(this)},w0.prototype.neg=function(na){return na.isZero()?na.clone():this.m.sub(na)._forceRed(this)},w0.prototype.add=function(na,_a){this._verify2(na,_a);var es=na.add(_a);return es.cmp(this.m)>=0&&es.isub(this.m),es._forceRed(this)},w0.prototype.iadd=function(na,_a){this._verify2(na,_a);var es=na.iadd(_a);return es.cmp(this.m)>=0&&es.isub(this.m),es},w0.prototype.sub=function(na,_a){this._verify2(na,_a);var es=na.sub(_a);return es.cmpn(0)<0&&es.iadd(this.m),es._forceRed(this)},w0.prototype.isub=function(na,_a){this._verify2(na,_a);var es=na.isub(_a);return es.cmpn(0)<0&&es.iadd(this.m),es},w0.prototype.shl=function(na,_a){return this._verify1(na),this.imod(na.ushln(_a))},w0.prototype.imul=function(na,_a){return this._verify2(na,_a),this.imod(na.imul(_a))},w0.prototype.mul=function(na,_a){return this._verify2(na,_a),this.imod(na.mul(_a))},w0.prototype.isqr=function(na){return this.imul(na,na.clone())},w0.prototype.sqr=function(na){return this.mul(na,na)},w0.prototype.sqrt=function(na){if(na.isZero())return na.clone();var _a=this.m.andln(3);if(Cn(_a%2===1),_a===3){var es=this.m.add(new An(1)).iushrn(2);return this.pow(na,es)}for(var ns=this.m.subn(1),os=0;!ns.isZero()&&ns.andln(1)===0;)os++,ns.iushrn(1);Cn(!ns.isZero());var ls=new An(1).toRed(this),hs=ls.redNeg(),ss=this.m.subn(1).iushrn(1),ga=this.m.bitLength();for(ga=new An(2*ga*ga).toRed(this);this.pow(ga,ss).cmp(hs)!==0;)ga.redIAdd(hs);for(var as=this.pow(ga,ns),r0=this.pow(na,ns.addn(1).iushrn(1)),a0=this.pow(na,ns),l0=os;a0.cmp(ls)!==0;){for(var s0=a0,b0=0;s0.cmp(ls)!==0;b0++)s0=s0.redSqr();Cn(b0<l0);var f0=this.pow(as,new An(1).iushln(l0-b0-1));r0=r0.redMul(f0),as=f0.redSqr(),a0=a0.redMul(as),l0=b0}return r0},w0.prototype.invm=function(na){var _a=na._invmp(this.m);return _a.negative!==0?(_a.negative=0,this.imod(_a).redNeg()):this.imod(_a)},w0.prototype.pow=function(na,_a){if(_a.isZero())return new An(1).toRed(this);if(_a.cmpn(1)===0)return na.clone();var es=4,ns=new Array(1<<es);ns[0]=new An(1).toRed(this),ns[1]=na;for(var os=2;os<ns.length;os++)ns[os]=this.mul(ns[os-1],na);var ls=ns[0],hs=0,ss=0,ga=_a.bitLength()%26;for(ga===0&&(ga=26),os=_a.length-1;os>=0;os--){for(var as=_a.words[os],r0=ga-1;r0>=0;r0--){var a0=as>>r0&1;if(ls!==ns[0]&&(ls=this.sqr(ls)),a0===0&&hs===0){ss=0;continue}hs<<=1,hs|=a0,ss++,!(ss!==es&&(os!==0||r0!==0))&&(ls=this.mul(ls,ns[hs]),ss=0,hs=0)}ga=26}return ls},w0.prototype.convertTo=function(na){var _a=na.umod(this.m);return _a===na?_a.clone():_a},w0.prototype.convertFrom=function(na){var _a=na.clone();return _a.red=null,_a},An.mont=function(na){return new M0(na)};function M0(ds){w0.call(this,ds),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new An(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_i(M0,w0),M0.prototype.convertTo=function(na){return this.imod(na.ushln(this.shift))},M0.prototype.convertFrom=function(na){var _a=this.imod(na.mul(this.rinv));return _a.red=null,_a},M0.prototype.imul=function(na,_a){if(na.isZero()||_a.isZero())return na.words[0]=0,na.length=1,na;var es=na.imul(_a),ns=es.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),os=es.isub(ns).iushrn(this.shift),ls=os;return os.cmp(this.m)>=0?ls=os.isub(this.m):os.cmpn(0)<0&&(ls=os.iadd(this.m)),ls._forceRed(this)},M0.prototype.mul=function(na,_a){if(na.isZero()||_a.isZero())return new An(0)._forceRed(this);var es=na.mul(_a),ns=es.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),os=es.isub(ns).iushrn(this.shift),ls=os;return os.cmp(this.m)>=0?ls=os.isub(this.m):os.cmpn(0)<0&&(ls=os.iadd(this.m)),ls._forceRed(this)},M0.prototype.invm=function(na){var _a=this.imod(na._invmp(this.m).mul(this.r2));return _a._forceRed(this)}})(vn,commonjsGlobal)}(bn$9)),bn$9.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var vn;brorand.exports=function(_i){return vn||(vn=new fn(null)),vn.generate(_i)};function fn(Cn){this.rand=Cn}if(brorand.exports.Rand=fn,fn.prototype.generate=function(_i){return this._rand(_i)},fn.prototype._rand=function(_i){if(this.rand.getBytes)return this.rand.getBytes(_i);for(var An=new Uint8Array(_i),ba=0;ba<An.length;ba++)An[ba]=this.rand.getByte();return An},typeof self=="object")self.crypto&&self.crypto.getRandomValues?fn.prototype._rand=function(_i){var An=new Uint8Array(_i);return self.crypto.getRandomValues(An),An}:self.msCrypto&&self.msCrypto.getRandomValues?fn.prototype._rand=function(_i){var An=new Uint8Array(_i);return self.msCrypto.getRandomValues(An),An}:typeof window=="object"&&(fn.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var En=requireCryptoBrowserify();if(typeof En.randomBytes!="function")throw new Error("Not supported");fn.prototype._rand=function(_i){return En.randomBytes(_i)}}catch{}return brorand.exports}var mr$5,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr$5;hasRequiredMr=1;var vn=requireBn$4(),fn=requireBrorand();function En(Cn){this.rand=Cn||new fn.Rand}return mr$5=En,En.create=function(_i){return new En(_i)},En.prototype._randbelow=function(_i){var An=_i.bitLength(),ba=Math.ceil(An/8);do var xa=new vn(this.rand.generate(ba));while(xa.cmp(_i)>=0);return xa},En.prototype._randrange=function(_i,An){var ba=An.sub(_i);return _i.add(this._randbelow(ba))},En.prototype.test=function(_i,An,ba){var xa=_i.bitLength(),$a=vn.mont(_i),rs=new vn(1).toRed($a);An||(An=Math.max(1,xa/48|0));for(var ts=_i.subn(1),is=0;!ts.testn(is);is++);for(var cs=_i.shrn(is),us=ts.toRed($a),ps=!0;An>0;An--){var bs=this._randrange(new vn(2),ts);ba&&ba(bs);var e0=bs.toRed($a).redPow(cs);if(!(e0.cmp(rs)===0||e0.cmp(us)===0)){for(var gs=1;gs<is;gs++){if(e0=e0.redSqr(),e0.cmp(rs)===0)return!1;if(e0.cmp(us)===0)break}if(gs===is)return!1}}return ps},En.prototype.getDivisor=function(_i,An){var ba=_i.bitLength(),xa=vn.mont(_i),$a=new vn(1).toRed(xa);An||(An=Math.max(1,ba/48|0));for(var rs=_i.subn(1),ts=0;!rs.testn(ts);ts++);for(var is=_i.shrn(ts),cs=rs.toRed(xa);An>0;An--){var us=this._randrange(new vn(2),rs),ps=_i.gcd(us);if(ps.cmpn(1)!==0)return ps;var bs=us.toRed(xa).redPow(is);if(!(bs.cmp($a)===0||bs.cmp(cs)===0)){for(var e0=1;e0<ts;e0++){if(bs=bs.redSqr(),bs.cmp($a)===0)return bs.fromRed().subn(1).gcd(_i);if(bs.cmp(cs)===0)break}if(e0===ts)return bs=bs.redSqr(),bs.fromRed().subn(1).gcd(_i)}}return!1},mr$5}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var vn=requireBrowser$b();generatePrime=e0,e0.simpleSieve=ps,e0.fermatTest=bs;var fn=requireBn$5(),En=new fn(24),Cn=requireMr(),_i=new Cn,An=new fn(1),ba=new fn(2),xa=new fn(5);new fn(16),new fn(8);var $a=new fn(10),rs=new fn(3);new fn(7);var ts=new fn(11),is=new fn(4);new fn(12);var cs=null;function us(){if(cs!==null)return cs;var gs=1048576,Ds=[];Ds[0]=2;for(var i0=1,n0=3;n0<gs;n0+=2){for(var c0=Math.ceil(Math.sqrt(n0)),d0=0;d0<i0&&Ds[d0]<=c0&&n0%Ds[d0]!==0;d0++);i0!==d0&&Ds[d0]<=c0||(Ds[i0++]=n0)}return cs=Ds,Ds}function ps(gs){for(var Ds=us(),i0=0;i0<Ds.length;i0++)if(gs.modn(Ds[i0])===0)return gs.cmpn(Ds[i0])===0;return!0}function bs(gs){var Ds=fn.mont(gs);return ba.toRed(Ds).redPow(gs.subn(1)).fromRed().cmpn(1)===0}function e0(gs,Ds){if(gs<16)return Ds===2||Ds===5?new fn([140,123]):new fn([140,39]);Ds=new fn(Ds);for(var i0,n0;;){for(i0=new fn(vn(Math.ceil(gs/8)));i0.bitLength()>gs;)i0.ishrn(1);if(i0.isEven()&&i0.iadd(An),i0.testn(1)||i0.iadd(ba),Ds.cmp(ba)){if(!Ds.cmp(xa))for(;i0.mod($a).cmp(rs);)i0.iadd(is)}else for(;i0.mod(En).cmp(ts);)i0.iadd(is);if(n0=i0.shrn(1),ps(n0)&&ps(i0)&&bs(n0)&&bs(i0)&&_i.test(n0)&&_i.test(i0))return i0}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var vn=requireBn$5(),fn=requireMr(),En=new fn,Cn=new vn(24),_i=new vn(11),An=new vn(10),ba=new vn(3),xa=new vn(7),$a=requireGeneratePrime(),rs=requireBrowser$b();dh=ps;function ts(e0,gs){return gs=gs||"utf8",Buffer$7.isBuffer(e0)||(e0=new Buffer$7(e0,gs)),this._pub=new vn(e0),this}function is(e0,gs){return gs=gs||"utf8",Buffer$7.isBuffer(e0)||(e0=new Buffer$7(e0,gs)),this._priv=new vn(e0),this}var cs={};function us(e0,gs){var Ds=gs.toString("hex"),i0=[Ds,e0.toString(16)].join("_");if(i0 in cs)return cs[i0];var n0=0;if(e0.isEven()||!$a.simpleSieve||!$a.fermatTest(e0)||!En.test(e0))return n0+=1,Ds==="02"||Ds==="05"?n0+=8:n0+=4,cs[i0]=n0,n0;En.test(e0.shrn(1))||(n0+=2);var c0;switch(Ds){case"02":e0.mod(Cn).cmp(_i)&&(n0+=8);break;case"05":c0=e0.mod(An),c0.cmp(ba)&&c0.cmp(xa)&&(n0+=8);break;default:n0+=4}return cs[i0]=n0,n0}function ps(e0,gs,Ds){this.setGenerator(gs),this.__prime=new vn(e0),this._prime=vn.mont(this.__prime),this._primeLen=e0.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,Ds?(this.setPublicKey=ts,this.setPrivateKey=is):this._primeCode=8}Object.defineProperty(ps.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=us(this.__prime,this.__gen)),this._primeCode}}),ps.prototype.generateKeys=function(){return this._priv||(this._priv=new vn(rs(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},ps.prototype.computeSecret=function(e0){e0=new vn(e0),e0=e0.toRed(this._prime);var gs=e0.redPow(this._priv).fromRed(),Ds=new Buffer$7(gs.toArray()),i0=this.getPrime();if(Ds.length<i0.length){var n0=new Buffer$7(i0.length-Ds.length);n0.fill(0),Ds=Buffer$7.concat([n0,Ds])}return Ds},ps.prototype.getPublicKey=function(gs){return bs(this._pub,gs)},ps.prototype.getPrivateKey=function(gs){return bs(this._priv,gs)},ps.prototype.getPrime=function(e0){return bs(this.__prime,e0)},ps.prototype.getGenerator=function(e0){return bs(this._gen,e0)},ps.prototype.setGenerator=function(e0,gs){return gs=gs||"utf8",Buffer$7.isBuffer(e0)||(e0=new Buffer$7(e0,gs)),this.__gen=e0,this._gen=new vn(e0),this};function bs(e0,gs){var Ds=new Buffer$7(e0.toArray());return gs?Ds.toString(gs):Ds}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$6;hasRequiredBrowser$4=1;var vn=requireGeneratePrime(),fn=require$$1$1,En=requireDh();function Cn(ba){var xa=new Buffer$7(fn[ba].prime,"hex"),$a=new Buffer$7(fn[ba].gen,"hex");return new En(xa,$a)}var _i={binary:!0,hex:!0,base64:!0};function An(ba,xa,$a,rs){return Buffer$7.isBuffer(xa)||_i[xa]===void 0?An(ba,"binary",xa,$a):(xa=xa||"binary",rs=rs||"binary",$a=$a||new Buffer$7([2]),Buffer$7.isBuffer($a)||($a=new Buffer$7($a,rs)),typeof ba=="number"?new En(vn(ba,$a),$a,!0):(Buffer$7.isBuffer(ba)||(ba=new Buffer$7(ba,xa)),new En(ba,$a,!0)))}return browser$6.DiffieHellmanGroup=browser$6.createDiffieHellmanGroup=browser$6.getDiffieHellman=Cn,browser$6.createDiffieHellman=browser$6.DiffieHellman=An,browser$6}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:vn}:processNextickArgs.exports=process$1;function vn(fn,En,Cn,_i){if(typeof fn!="function")throw new TypeError('"callback" argument must be a function');var An=arguments.length,ba,xa;switch(An){case 0:case 1:return process$1.nextTick(fn);case 2:return process$1.nextTick(function(){fn.call(null,En)});case 3:return process$1.nextTick(function(){fn.call(null,En,Cn)});case 4:return process$1.nextTick(function(){fn.call(null,En,Cn,_i)});default:for(ba=new Array(An-1),xa=0;xa<ba.length;)ba[xa++]=arguments[xa];return process$1.nextTick(function(){fn.apply(null,ba)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var vn={}.toString;return isarray=Array.isArray||function(fn){return vn.call(fn)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=eventsExports.EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(vn,fn){var En=require$$0$a,Cn=En.Buffer;function _i(ba,xa){for(var $a in ba)xa[$a]=ba[$a]}Cn.from&&Cn.alloc&&Cn.allocUnsafe&&Cn.allocUnsafeSlow?vn.exports=En:(_i(En,fn),fn.Buffer=An);function An(ba,xa,$a){return Cn(ba,xa,$a)}_i(Cn,An),An.from=function(ba,xa,$a){if(typeof ba=="number")throw new TypeError("Argument must not be a number");return Cn(ba,xa,$a)},An.alloc=function(ba,xa,$a){if(typeof ba!="number")throw new TypeError("Argument must be a number");var rs=Cn(ba);return xa!==void 0?typeof $a=="string"?rs.fill(xa,$a):rs.fill(xa):rs.fill(0),rs},An.allocUnsafe=function(ba){if(typeof ba!="number")throw new TypeError("Argument must be a number");return Cn(ba)},An.allocUnsafeSlow=function(ba){if(typeof ba!="number")throw new TypeError("Argument must be a number");return En.SlowBuffer(ba)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;function vn(bs){return Array.isArray?Array.isArray(bs):ps(bs)==="[object Array]"}util.isArray=vn;function fn(bs){return typeof bs=="boolean"}util.isBoolean=fn;function En(bs){return bs===null}util.isNull=En;function Cn(bs){return bs==null}util.isNullOrUndefined=Cn;function _i(bs){return typeof bs=="number"}util.isNumber=_i;function An(bs){return typeof bs=="string"}util.isString=An;function ba(bs){return typeof bs=="symbol"}util.isSymbol=ba;function xa(bs){return bs===void 0}util.isUndefined=xa;function $a(bs){return ps(bs)==="[object RegExp]"}util.isRegExp=$a;function rs(bs){return typeof bs=="object"&&bs!==null}util.isObject=rs;function ts(bs){return ps(bs)==="[object Date]"}util.isDate=ts;function is(bs){return ps(bs)==="[object Error]"||bs instanceof Error}util.isError=is;function cs(bs){return typeof bs=="function"}util.isFunction=cs;function us(bs){return bs===null||typeof bs=="boolean"||typeof bs=="number"||typeof bs=="string"||typeof bs=="symbol"||typeof bs>"u"}util.isPrimitive=us,util.isBuffer=require$$0$a.Buffer.isBuffer;function ps(bs){return Object.prototype.toString.call(bs)}return util}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(vn){function fn(An,ba){if(!(An instanceof ba))throw new TypeError("Cannot call a class as a function")}var En=requireSafeBuffer().Buffer,Cn=util$1;function _i(An,ba,xa){An.copy(ba,xa)}vn.exports=function(){function An(){fn(this,An),this.head=null,this.tail=null,this.length=0}return An.prototype.push=function(xa){var $a={data:xa,next:null};this.length>0?this.tail.next=$a:this.head=$a,this.tail=$a,++this.length},An.prototype.unshift=function(xa){var $a={data:xa,next:this.head};this.length===0&&(this.tail=$a),this.head=$a,++this.length},An.prototype.shift=function(){if(this.length!==0){var xa=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,xa}},An.prototype.clear=function(){this.head=this.tail=null,this.length=0},An.prototype.join=function(xa){if(this.length===0)return"";for(var $a=this.head,rs=""+$a.data;$a=$a.next;)rs+=xa+$a.data;return rs},An.prototype.concat=function(xa){if(this.length===0)return En.alloc(0);for(var $a=En.allocUnsafe(xa>>>0),rs=this.head,ts=0;rs;)_i(rs.data,$a,ts),ts+=rs.data.length,rs=rs.next;return $a},An}(),Cn&&Cn.inspect&&Cn.inspect.custom&&(vn.exports.prototype[Cn.inspect.custom]=function(){var An=Cn.inspect({length:this.length});return this.constructor.name+" "+An})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var vn=requireProcessNextickArgs();function fn(_i,An){var ba=this,xa=this._readableState&&this._readableState.destroyed,$a=this._writableState&&this._writableState.destroyed;return xa||$a?(An?An(_i):_i&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,vn.nextTick(Cn,this,_i)):vn.nextTick(Cn,this,_i)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(_i||null,function(rs){!An&&rs?ba._writableState?ba._writableState.errorEmitted||(ba._writableState.errorEmitted=!0,vn.nextTick(Cn,ba,rs)):vn.nextTick(Cn,ba,rs):An&&An(rs)}),this)}function En(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Cn(_i,An){_i.emit("error",An)}return destroy_1={destroy:fn,undestroy:En},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var vn=requireProcessNextickArgs();_stream_writable=bs;function fn(ls){var hs=this;this.next=null,this.entry=null,this.finish=function(){os(hs,ls)}}var En=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:vn.nextTick,Cn;bs.WritableState=us;var _i=Object.create(requireUtil());_i.inherits=inherits_browserExports;var An={deprecate:requireBrowser$a()},ba=requireStreamBrowser(),xa=requireSafeBuffer().Buffer,$a=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function rs(ls){return xa.from(ls)}function ts(ls){return xa.isBuffer(ls)||ls instanceof $a}var is=requireDestroy();_i.inherits(bs,ba);function cs(){}function us(ls,hs){Cn=Cn||require_stream_duplex(),ls=ls||{};var ss=hs instanceof Cn;this.objectMode=!!ls.objectMode,ss&&(this.objectMode=this.objectMode||!!ls.writableObjectMode);var ga=ls.highWaterMark,as=ls.writableHighWaterMark,r0=this.objectMode?16:16*1024;ga||ga===0?this.highWaterMark=ga:ss&&(as||as===0)?this.highWaterMark=as:this.highWaterMark=r0,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a0=ls.decodeStrings===!1;this.decodeStrings=!a0,this.defaultEncoding=ls.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(l0){o0(hs,l0)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new fn(this)}us.prototype.getBuffer=function(){for(var hs=this.bufferedRequest,ss=[];hs;)ss.push(hs),hs=hs.next;return ss},function(){try{Object.defineProperty(us.prototype,"buffer",{get:An.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ps;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ps=Function.prototype[Symbol.hasInstance],Object.defineProperty(bs,Symbol.hasInstance,{value:function(ls){return ps.call(this,ls)?!0:this!==bs?!1:ls&&ls._writableState instanceof us}})):ps=function(ls){return ls instanceof this};function bs(ls){if(Cn=Cn||require_stream_duplex(),!ps.call(bs,this)&&!(this instanceof Cn))return new bs(ls);this._writableState=new us(ls,this),this.writable=!0,ls&&(typeof ls.write=="function"&&(this._write=ls.write),typeof ls.writev=="function"&&(this._writev=ls.writev),typeof ls.destroy=="function"&&(this._destroy=ls.destroy),typeof ls.final=="function"&&(this._final=ls.final)),ba.call(this)}bs.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function e0(ls,hs){var ss=new Error("write after end");ls.emit("error",ss),vn.nextTick(hs,ss)}function gs(ls,hs,ss,ga){var as=!0,r0=!1;return ss===null?r0=new TypeError("May not write null values to stream"):typeof ss!="string"&&ss!==void 0&&!hs.objectMode&&(r0=new TypeError("Invalid non-string/buffer chunk")),r0&&(ls.emit("error",r0),vn.nextTick(ga,r0),as=!1),as}bs.prototype.write=function(ls,hs,ss){var ga=this._writableState,as=!1,r0=!ga.objectMode&&ts(ls);return r0&&!xa.isBuffer(ls)&&(ls=rs(ls)),typeof hs=="function"&&(ss=hs,hs=null),r0?hs="buffer":hs||(hs=ga.defaultEncoding),typeof ss!="function"&&(ss=cs),ga.ended?e0(this,ss):(r0||gs(this,ga,ls,ss))&&(ga.pendingcb++,as=i0(this,ga,r0,ls,hs,ss)),as},bs.prototype.cork=function(){var ls=this._writableState;ls.corked++},bs.prototype.uncork=function(){var ls=this._writableState;ls.corked&&(ls.corked--,!ls.writing&&!ls.corked&&!ls.bufferProcessing&&ls.bufferedRequest&&M0(this,ls))},bs.prototype.setDefaultEncoding=function(hs){if(typeof hs=="string"&&(hs=hs.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((hs+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+hs);return this._writableState.defaultEncoding=hs,this};function Ds(ls,hs,ss){return!ls.objectMode&&ls.decodeStrings!==!1&&typeof hs=="string"&&(hs=xa.from(hs,ss)),hs}Object.defineProperty(bs.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function i0(ls,hs,ss,ga,as,r0){if(!ss){var a0=Ds(hs,ga,as);ga!==a0&&(ss=!0,as="buffer",ga=a0)}var l0=hs.objectMode?1:ga.length;hs.length+=l0;var s0=hs.length<hs.highWaterMark;if(s0||(hs.needDrain=!0),hs.writing||hs.corked){var b0=hs.lastBufferedRequest;hs.lastBufferedRequest={chunk:ga,encoding:as,isBuf:ss,callback:r0,next:null},b0?b0.next=hs.lastBufferedRequest:hs.bufferedRequest=hs.lastBufferedRequest,hs.bufferedRequestCount+=1}else n0(ls,hs,!1,l0,ga,as,r0);return s0}function n0(ls,hs,ss,ga,as,r0,a0){hs.writelen=ga,hs.writecb=a0,hs.writing=!0,hs.sync=!0,ss?ls._writev(as,hs.onwrite):ls._write(as,r0,hs.onwrite),hs.sync=!1}function c0(ls,hs,ss,ga,as){--hs.pendingcb,ss?(vn.nextTick(as,ga),vn.nextTick(es,ls,hs),ls._writableState.errorEmitted=!0,ls.emit("error",ga)):(as(ga),ls._writableState.errorEmitted=!0,ls.emit("error",ga),es(ls,hs))}function d0(ls){ls.writing=!1,ls.writecb=null,ls.length-=ls.writelen,ls.writelen=0}function o0(ls,hs){var ss=ls._writableState,ga=ss.sync,as=ss.writecb;if(d0(ss),hs)c0(ls,ss,ga,hs,as);else{var r0=ds(ss);!r0&&!ss.corked&&!ss.bufferProcessing&&ss.bufferedRequest&&M0(ls,ss),ga?En(g0,ls,ss,r0,as):g0(ls,ss,r0,as)}}function g0(ls,hs,ss,ga){ss||w0(ls,hs),hs.pendingcb--,ga(),es(ls,hs)}function w0(ls,hs){hs.length===0&&hs.needDrain&&(hs.needDrain=!1,ls.emit("drain"))}function M0(ls,hs){hs.bufferProcessing=!0;var ss=hs.bufferedRequest;if(ls._writev&&ss&&ss.next){var ga=hs.bufferedRequestCount,as=new Array(ga),r0=hs.corkedRequestsFree;r0.entry=ss;for(var a0=0,l0=!0;ss;)as[a0]=ss,ss.isBuf||(l0=!1),ss=ss.next,a0+=1;as.allBuffers=l0,n0(ls,hs,!0,hs.length,as,"",r0.finish),hs.pendingcb++,hs.lastBufferedRequest=null,r0.next?(hs.corkedRequestsFree=r0.next,r0.next=null):hs.corkedRequestsFree=new fn(hs),hs.bufferedRequestCount=0}else{for(;ss;){var s0=ss.chunk,b0=ss.encoding,f0=ss.callback,m0=hs.objectMode?1:s0.length;if(n0(ls,hs,!1,m0,s0,b0,f0),ss=ss.next,hs.bufferedRequestCount--,hs.writing)break}ss===null&&(hs.lastBufferedRequest=null)}hs.bufferedRequest=ss,hs.bufferProcessing=!1}bs.prototype._write=function(ls,hs,ss){ss(new Error("_write() is not implemented"))},bs.prototype._writev=null,bs.prototype.end=function(ls,hs,ss){var ga=this._writableState;typeof ls=="function"?(ss=ls,ls=null,hs=null):typeof hs=="function"&&(ss=hs,hs=null),ls!=null&&this.write(ls,hs),ga.corked&&(ga.corked=1,this.uncork()),ga.ending||ns(this,ga,ss)};function ds(ls){return ls.ending&&ls.length===0&&ls.bufferedRequest===null&&!ls.finished&&!ls.writing}function na(ls,hs){ls._final(function(ss){hs.pendingcb--,ss&&ls.emit("error",ss),hs.prefinished=!0,ls.emit("prefinish"),es(ls,hs)})}function _a(ls,hs){!hs.prefinished&&!hs.finalCalled&&(typeof ls._final=="function"?(hs.pendingcb++,hs.finalCalled=!0,vn.nextTick(na,ls,hs)):(hs.prefinished=!0,ls.emit("prefinish")))}function es(ls,hs){var ss=ds(hs);return ss&&(_a(ls,hs),hs.pendingcb===0&&(hs.finished=!0,ls.emit("finish"))),ss}function ns(ls,hs,ss){hs.ending=!0,es(ls,hs),ss&&(hs.finished?vn.nextTick(ss):ls.once("finish",ss)),hs.ended=!0,ls.writable=!1}function os(ls,hs,ss){var ga=ls.entry;for(ls.entry=null;ga;){var as=ga.callback;hs.pendingcb--,as(ss),ga=ga.next}hs.corkedRequestsFree.next=ls}return Object.defineProperty(bs.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ls){this._writableState&&(this._writableState.destroyed=ls)}}),bs.prototype.destroy=is.destroy,bs.prototype._undestroy=is.undestroy,bs.prototype._destroy=function(ls,hs){this.end(),hs(ls)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var vn=requireProcessNextickArgs(),fn=Object.keys||function(is){var cs=[];for(var us in is)cs.push(us);return cs};_stream_duplex=$a;var En=Object.create(requireUtil());En.inherits=inherits_browserExports;var Cn=require_stream_readable(),_i=require_stream_writable();En.inherits($a,Cn);for(var An=fn(_i.prototype),ba=0;ba<An.length;ba++){var xa=An[ba];$a.prototype[xa]||($a.prototype[xa]=_i.prototype[xa])}function $a(is){if(!(this instanceof $a))return new $a(is);Cn.call(this,is),_i.call(this,is),is&&is.readable===!1&&(this.readable=!1),is&&is.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,is&&is.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",rs)}Object.defineProperty($a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function rs(){this.allowHalfOpen||this._writableState.ended||vn.nextTick(ts,this)}function ts(is){is.end()}return Object.defineProperty($a.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(is){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=is,this._writableState.destroyed=is)}}),$a.prototype._destroy=function(is,cs){this.push(null),this.end(),vn.nextTick(cs,is)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var vn=requireProcessNextickArgs();_stream_readable=Ds;var fn=requireIsarray(),En;Ds.ReadableState=gs,eventsExports.EventEmitter;var Cn=function(f0,m0){return f0.listeners(m0).length},_i=requireStreamBrowser(),An=requireSafeBuffer().Buffer,ba=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function xa(f0){return An.from(f0)}function $a(f0){return An.isBuffer(f0)||f0 instanceof ba}var rs=Object.create(requireUtil());rs.inherits=inherits_browserExports;var ts=util$1,is=void 0;ts&&ts.debuglog?is=ts.debuglog("stream"):is=function(){};var cs=requireBufferList(),us=requireDestroy(),ps;rs.inherits(Ds,_i);var bs=["error","close","destroy","pause","resume"];function e0(f0,m0,y0){if(typeof f0.prependListener=="function")return f0.prependListener(m0,y0);!f0._events||!f0._events[m0]?f0.on(m0,y0):fn(f0._events[m0])?f0._events[m0].unshift(y0):f0._events[m0]=[y0,f0._events[m0]]}function gs(f0,m0){En=En||require_stream_duplex(),f0=f0||{};var y0=m0 instanceof En;this.objectMode=!!f0.objectMode,y0&&(this.objectMode=this.objectMode||!!f0.readableObjectMode);var t0=f0.highWaterMark,h0=f0.readableHighWaterMark,p0=this.objectMode?16:16*1024;t0||t0===0?this.highWaterMark=t0:y0&&(h0||h0===0)?this.highWaterMark=h0:this.highWaterMark=p0,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new cs,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=f0.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,f0.encoding&&(ps||(ps=requireString_decoder().StringDecoder),this.decoder=new ps(f0.encoding),this.encoding=f0.encoding)}function Ds(f0){if(En=En||require_stream_duplex(),!(this instanceof Ds))return new Ds(f0);this._readableState=new gs(f0,this),this.readable=!0,f0&&(typeof f0.read=="function"&&(this._read=f0.read),typeof f0.destroy=="function"&&(this._destroy=f0.destroy)),_i.call(this)}Object.defineProperty(Ds.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(f0){this._readableState&&(this._readableState.destroyed=f0)}}),Ds.prototype.destroy=us.destroy,Ds.prototype._undestroy=us.undestroy,Ds.prototype._destroy=function(f0,m0){this.push(null),m0(f0)},Ds.prototype.push=function(f0,m0){var y0=this._readableState,t0;return y0.objectMode?t0=!0:typeof f0=="string"&&(m0=m0||y0.defaultEncoding,m0!==y0.encoding&&(f0=An.from(f0,m0),m0=""),t0=!0),i0(this,f0,m0,!1,t0)},Ds.prototype.unshift=function(f0){return i0(this,f0,null,!0,!1)};function i0(f0,m0,y0,t0,h0){var p0=f0._readableState;if(m0===null)p0.reading=!1,M0(f0,p0);else{var E0;h0||(E0=c0(p0,m0)),E0?f0.emit("error",E0):p0.objectMode||m0&&m0.length>0?(typeof m0!="string"&&!p0.objectMode&&Object.getPrototypeOf(m0)!==An.prototype&&(m0=xa(m0)),t0?p0.endEmitted?f0.emit("error",new Error("stream.unshift() after end event")):n0(f0,p0,m0,!0):p0.ended?f0.emit("error",new Error("stream.push() after EOF")):(p0.reading=!1,p0.decoder&&!y0?(m0=p0.decoder.write(m0),p0.objectMode||m0.length!==0?n0(f0,p0,m0,!1):_a(f0,p0)):n0(f0,p0,m0,!1))):t0||(p0.reading=!1)}return d0(p0)}function n0(f0,m0,y0,t0){m0.flowing&&m0.length===0&&!m0.sync?(f0.emit("data",y0),f0.read(0)):(m0.length+=m0.objectMode?1:y0.length,t0?m0.buffer.unshift(y0):m0.buffer.push(y0),m0.needReadable&&ds(f0)),_a(f0,m0)}function c0(f0,m0){var y0;return!$a(m0)&&typeof m0!="string"&&m0!==void 0&&!f0.objectMode&&(y0=new TypeError("Invalid non-string/buffer chunk")),y0}function d0(f0){return!f0.ended&&(f0.needReadable||f0.length<f0.highWaterMark||f0.length===0)}Ds.prototype.isPaused=function(){return this._readableState.flowing===!1},Ds.prototype.setEncoding=function(f0){return ps||(ps=requireString_decoder().StringDecoder),this._readableState.decoder=new ps(f0),this._readableState.encoding=f0,this};var o0=8388608;function g0(f0){return f0>=o0?f0=o0:(f0--,f0|=f0>>>1,f0|=f0>>>2,f0|=f0>>>4,f0|=f0>>>8,f0|=f0>>>16,f0++),f0}function w0(f0,m0){return f0<=0||m0.length===0&&m0.ended?0:m0.objectMode?1:f0!==f0?m0.flowing&&m0.length?m0.buffer.head.data.length:m0.length:(f0>m0.highWaterMark&&(m0.highWaterMark=g0(f0)),f0<=m0.length?f0:m0.ended?m0.length:(m0.needReadable=!0,0))}Ds.prototype.read=function(f0){is("read",f0),f0=parseInt(f0,10);var m0=this._readableState,y0=f0;if(f0!==0&&(m0.emittedReadable=!1),f0===0&&m0.needReadable&&(m0.length>=m0.highWaterMark||m0.ended))return is("read: emitReadable",m0.length,m0.ended),m0.length===0&&m0.ended?l0(this):ds(this),null;if(f0=w0(f0,m0),f0===0&&m0.ended)return m0.length===0&&l0(this),null;var t0=m0.needReadable;is("need readable",t0),(m0.length===0||m0.length-f0<m0.highWaterMark)&&(t0=!0,is("length less than watermark",t0)),m0.ended||m0.reading?(t0=!1,is("reading or ended",t0)):t0&&(is("do read"),m0.reading=!0,m0.sync=!0,m0.length===0&&(m0.needReadable=!0),this._read(m0.highWaterMark),m0.sync=!1,m0.reading||(f0=w0(y0,m0)));var h0;return f0>0?h0=ga(f0,m0):h0=null,h0===null?(m0.needReadable=!0,f0=0):m0.length-=f0,m0.length===0&&(m0.ended||(m0.needReadable=!0),y0!==f0&&m0.ended&&l0(this)),h0!==null&&this.emit("data",h0),h0};function M0(f0,m0){if(!m0.ended){if(m0.decoder){var y0=m0.decoder.end();y0&&y0.length&&(m0.buffer.push(y0),m0.length+=m0.objectMode?1:y0.length)}m0.ended=!0,ds(f0)}}function ds(f0){var m0=f0._readableState;m0.needReadable=!1,m0.emittedReadable||(is("emitReadable",m0.flowing),m0.emittedReadable=!0,m0.sync?vn.nextTick(na,f0):na(f0))}function na(f0){is("emit readable"),f0.emit("readable"),ss(f0)}function _a(f0,m0){m0.readingMore||(m0.readingMore=!0,vn.nextTick(es,f0,m0))}function es(f0,m0){for(var y0=m0.length;!m0.reading&&!m0.flowing&&!m0.ended&&m0.length<m0.highWaterMark&&(is("maybeReadMore read 0"),f0.read(0),y0!==m0.length);)y0=m0.length;m0.readingMore=!1}Ds.prototype._read=function(f0){this.emit("error",new Error("_read() is not implemented"))},Ds.prototype.pipe=function(f0,m0){var y0=this,t0=this._readableState;switch(t0.pipesCount){case 0:t0.pipes=f0;break;case 1:t0.pipes=[t0.pipes,f0];break;default:t0.pipes.push(f0);break}t0.pipesCount+=1,is("pipe count=%d opts=%j",t0.pipesCount,m0);var h0=(!m0||m0.end!==!1)&&f0!==process$1.stdout&&f0!==process$1.stderr,p0=h0?I0:To;t0.endEmitted?vn.nextTick(p0):y0.once("end",p0),f0.on("unpipe",E0);function E0(k0,D0){is("onunpipe"),k0===y0&&D0&&D0.hasUnpiped===!1&&(D0.hasUnpiped=!0,vo())}function I0(){is("onend"),f0.end()}var C0=ns(y0);f0.on("drain",C0);var $0=!1;function vo(){is("cleanup"),f0.removeListener("close",O0),f0.removeListener("finish",B0),f0.removeListener("drain",C0),f0.removeListener("error",_o),f0.removeListener("unpipe",E0),y0.removeListener("end",I0),y0.removeListener("end",To),y0.removeListener("data",S0),$0=!0,t0.awaitDrain&&(!f0._writableState||f0._writableState.needDrain)&&C0()}var P0=!1;y0.on("data",S0);function S0(k0){is("ondata"),P0=!1;var D0=f0.write(k0);D0===!1&&!P0&&((t0.pipesCount===1&&t0.pipes===f0||t0.pipesCount>1&&b0(t0.pipes,f0)!==-1)&&!$0&&(is("false write response, pause",t0.awaitDrain),t0.awaitDrain++,P0=!0),y0.pause())}function _o(k0){is("onerror",k0),To(),f0.removeListener("error",_o),Cn(f0,"error")===0&&f0.emit("error",k0)}e0(f0,"error",_o);function O0(){f0.removeListener("finish",B0),To()}f0.once("close",O0);function B0(){is("onfinish"),f0.removeListener("close",O0),To()}f0.once("finish",B0);function To(){is("unpipe"),y0.unpipe(f0)}return f0.emit("pipe",y0),t0.flowing||(is("pipe resume"),y0.resume()),f0};function ns(f0){return function(){var m0=f0._readableState;is("pipeOnDrain",m0.awaitDrain),m0.awaitDrain&&m0.awaitDrain--,m0.awaitDrain===0&&Cn(f0,"data")&&(m0.flowing=!0,ss(f0))}}Ds.prototype.unpipe=function(f0){var m0=this._readableState,y0={hasUnpiped:!1};if(m0.pipesCount===0)return this;if(m0.pipesCount===1)return f0&&f0!==m0.pipes?this:(f0||(f0=m0.pipes),m0.pipes=null,m0.pipesCount=0,m0.flowing=!1,f0&&f0.emit("unpipe",this,y0),this);if(!f0){var t0=m0.pipes,h0=m0.pipesCount;m0.pipes=null,m0.pipesCount=0,m0.flowing=!1;for(var p0=0;p0<h0;p0++)t0[p0].emit("unpipe",this,{hasUnpiped:!1});return this}var E0=b0(m0.pipes,f0);return E0===-1?this:(m0.pipes.splice(E0,1),m0.pipesCount-=1,m0.pipesCount===1&&(m0.pipes=m0.pipes[0]),f0.emit("unpipe",this,y0),this)},Ds.prototype.on=function(f0,m0){var y0=_i.prototype.on.call(this,f0,m0);if(f0==="data")this._readableState.flowing!==!1&&this.resume();else if(f0==="readable"){var t0=this._readableState;!t0.endEmitted&&!t0.readableListening&&(t0.readableListening=t0.needReadable=!0,t0.emittedReadable=!1,t0.reading?t0.length&&ds(this):vn.nextTick(os,this))}return y0},Ds.prototype.addListener=Ds.prototype.on;function os(f0){is("readable nexttick read 0"),f0.read(0)}Ds.prototype.resume=function(){var f0=this._readableState;return f0.flowing||(is("resume"),f0.flowing=!0,ls(this,f0)),this};function ls(f0,m0){m0.resumeScheduled||(m0.resumeScheduled=!0,vn.nextTick(hs,f0,m0))}function hs(f0,m0){m0.reading||(is("resume read 0"),f0.read(0)),m0.resumeScheduled=!1,m0.awaitDrain=0,f0.emit("resume"),ss(f0),m0.flowing&&!m0.reading&&f0.read(0)}Ds.prototype.pause=function(){return is("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(is("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function ss(f0){var m0=f0._readableState;for(is("flow",m0.flowing);m0.flowing&&f0.read()!==null;);}Ds.prototype.wrap=function(f0){var m0=this,y0=this._readableState,t0=!1;f0.on("end",function(){if(is("wrapped end"),y0.decoder&&!y0.ended){var E0=y0.decoder.end();E0&&E0.length&&m0.push(E0)}m0.push(null)}),f0.on("data",function(E0){if(is("wrapped data"),y0.decoder&&(E0=y0.decoder.write(E0)),!(y0.objectMode&&E0==null)&&!(!y0.objectMode&&(!E0||!E0.length))){var I0=m0.push(E0);I0||(t0=!0,f0.pause())}});for(var h0 in f0)this[h0]===void 0&&typeof f0[h0]=="function"&&(this[h0]=function(E0){return function(){return f0[E0].apply(f0,arguments)}}(h0));for(var p0=0;p0<bs.length;p0++)f0.on(bs[p0],this.emit.bind(this,bs[p0]));return this._read=function(E0){is("wrapped _read",E0),t0&&(t0=!1,f0.resume())},this},Object.defineProperty(Ds.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Ds._fromList=ga;function ga(f0,m0){if(m0.length===0)return null;var y0;return m0.objectMode?y0=m0.buffer.shift():!f0||f0>=m0.length?(m0.decoder?y0=m0.buffer.join(""):m0.buffer.length===1?y0=m0.buffer.head.data:y0=m0.buffer.concat(m0.length),m0.buffer.clear()):y0=as(f0,m0.buffer,m0.decoder),y0}function as(f0,m0,y0){var t0;return f0<m0.head.data.length?(t0=m0.head.data.slice(0,f0),m0.head.data=m0.head.data.slice(f0)):f0===m0.head.data.length?t0=m0.shift():t0=y0?r0(f0,m0):a0(f0,m0),t0}function r0(f0,m0){var y0=m0.head,t0=1,h0=y0.data;for(f0-=h0.length;y0=y0.next;){var p0=y0.data,E0=f0>p0.length?p0.length:f0;if(E0===p0.length?h0+=p0:h0+=p0.slice(0,f0),f0-=E0,f0===0){E0===p0.length?(++t0,y0.next?m0.head=y0.next:m0.head=m0.tail=null):(m0.head=y0,y0.data=p0.slice(E0));break}++t0}return m0.length-=t0,h0}function a0(f0,m0){var y0=An.allocUnsafe(f0),t0=m0.head,h0=1;for(t0.data.copy(y0),f0-=t0.data.length;t0=t0.next;){var p0=t0.data,E0=f0>p0.length?p0.length:f0;if(p0.copy(y0,y0.length-f0,0,E0),f0-=E0,f0===0){E0===p0.length?(++h0,t0.next?m0.head=t0.next:m0.head=m0.tail=null):(m0.head=t0,t0.data=p0.slice(E0));break}++h0}return m0.length-=h0,y0}function l0(f0){var m0=f0._readableState;if(m0.length>0)throw new Error('"endReadable()" called on non-empty stream');m0.endEmitted||(m0.ended=!0,vn.nextTick(s0,m0,f0))}function s0(f0,m0){!f0.endEmitted&&f0.length===0&&(f0.endEmitted=!0,m0.readable=!1,m0.emit("end"))}function b0(f0,m0){for(var y0=0,t0=f0.length;y0<t0;y0++)if(f0[y0]===m0)return y0;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=Cn;var vn=require_stream_duplex(),fn=Object.create(requireUtil());fn.inherits=inherits_browserExports,fn.inherits(Cn,vn);function En(ba,xa){var $a=this._transformState;$a.transforming=!1;var rs=$a.writecb;if(!rs)return this.emit("error",new Error("write callback called multiple times"));$a.writechunk=null,$a.writecb=null,xa!=null&&this.push(xa),rs(ba);var ts=this._readableState;ts.reading=!1,(ts.needReadable||ts.length<ts.highWaterMark)&&this._read(ts.highWaterMark)}function Cn(ba){if(!(this instanceof Cn))return new Cn(ba);vn.call(this,ba),this._transformState={afterTransform:En.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,ba&&(typeof ba.transform=="function"&&(this._transform=ba.transform),typeof ba.flush=="function"&&(this._flush=ba.flush)),this.on("prefinish",_i)}function _i(){var ba=this;typeof this._flush=="function"?this._flush(function(xa,$a){An(ba,xa,$a)}):An(this,null,null)}Cn.prototype.push=function(ba,xa){return this._transformState.needTransform=!1,vn.prototype.push.call(this,ba,xa)},Cn.prototype._transform=function(ba,xa,$a){throw new Error("_transform() is not implemented")},Cn.prototype._write=function(ba,xa,$a){var rs=this._transformState;if(rs.writecb=$a,rs.writechunk=ba,rs.writeencoding=xa,!rs.transforming){var ts=this._readableState;(rs.needTransform||ts.needReadable||ts.length<ts.highWaterMark)&&this._read(ts.highWaterMark)}},Cn.prototype._read=function(ba){var xa=this._transformState;xa.writechunk!==null&&xa.writecb&&!xa.transforming?(xa.transforming=!0,this._transform(xa.writechunk,xa.writeencoding,xa.afterTransform)):xa.needTransform=!0},Cn.prototype._destroy=function(ba,xa){var $a=this;vn.prototype._destroy.call(this,ba,function(rs){xa(rs),$a.emit("close")})};function An(ba,xa,$a){if(xa)return ba.emit("error",xa);if($a!=null&&ba.push($a),ba._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(ba._transformState.transforming)throw new Error("Calling transform done when still transforming");return ba.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=En;var vn=require_stream_transform(),fn=Object.create(requireUtil());fn.inherits=inherits_browserExports,fn.inherits(En,vn);function En(Cn){if(!(this instanceof En))return new En(Cn);vn.call(this,Cn)}return En.prototype._transform=function(Cn,_i,An){An(null,Cn)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(vn,fn){fn=vn.exports=require_stream_readable(),fn.Stream=fn,fn.Readable=fn,fn.Writable=require_stream_writable(),fn.Duplex=require_stream_duplex(),fn.Transform=require_stream_transform(),fn.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign={exports:{}},browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var vn=bnExports$2,fn=requireBrowser$b(),En=requireSafeBuffer$1().Buffer;function Cn(ba){var xa=ba.modulus.byteLength(),$a;do $a=new vn(fn(xa));while($a.cmp(ba.modulus)>=0||!$a.umod(ba.prime1)||!$a.umod(ba.prime2));return $a}function _i(ba){var xa=Cn(ba),$a=xa.toRed(vn.mont(ba.modulus)).redPow(new vn(ba.publicExponent)).fromRed();return{blinder:$a,unblinder:xa.invm(ba.modulus)}}function An(ba,xa){var $a=_i(xa),rs=xa.modulus.byteLength(),ts=new vn(ba).mul($a.blinder).umod(xa.modulus),is=ts.toRed(vn.mont(xa.prime1)),cs=ts.toRed(vn.mont(xa.prime2)),us=xa.coefficient,ps=xa.prime1,bs=xa.prime2,e0=is.redPow(xa.exponent1).fromRed(),gs=cs.redPow(xa.exponent2).fromRed(),Ds=e0.isub(gs).imul(us).umod(ps).imul(bs);return gs.iadd(Ds).imul($a.unblinder).umod(xa.modulus).toArrayLike(En,"be",rs)}return An.getr=Cn,browserifyRsa=An,browserifyRsa}var elliptic$2={};const name$2="elliptic",version$3="6.6.1",description$2="EC cryptography",main$2="lib/elliptic.js",files$2=["lib"],scripts$2={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository$2={type:"git",url:"git@github.com:indutny/elliptic"},keywords$2=["EC","Elliptic","curve","Cryptography"],author$2="Fedor Indutny <fedor@indutny.com>",license$2="MIT",bugs$2={url:"https://github.com/indutny/elliptic/issues"},homepage$2="https://github.com/indutny/elliptic",devDependencies$2={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies$2={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0$4={name:name$2,version:version$3,description:description$2,main:main$2,files:files$2,scripts:scripts$2,repository:repository$2,keywords:keywords$2,author:author$2,license:license$2,bugs:bugs$2,homepage:homepage$2,devDependencies:devDependencies$2,dependencies:dependencies$2};var utils$q={},bn$8={exports:{}};bn$8.exports;var hasRequiredBn$3;function requireBn$3(){return hasRequiredBn$3||(hasRequiredBn$3=1,function(vn){(function(fn,En){function Cn(ds,na){if(!ds)throw new Error(na||"Assertion failed")}function _i(ds,na){ds.super_=na;var _a=function(){};_a.prototype=na.prototype,ds.prototype=new _a,ds.prototype.constructor=ds}function An(ds,na,_a){if(An.isBN(ds))return ds;this.negative=0,this.words=null,this.length=0,this.red=null,ds!==null&&((na==="le"||na==="be")&&(_a=na,na=10),this._init(ds||0,na||10,_a||"be"))}typeof fn=="object"?fn.exports=An:En.BN=An,An.BN=An,An.wordSize=26;var ba;try{typeof window<"u"&&typeof window.Buffer<"u"?ba=window.Buffer:ba=require$$0$a.Buffer}catch{}An.isBN=function(na){return na instanceof An?!0:na!==null&&typeof na=="object"&&na.constructor.wordSize===An.wordSize&&Array.isArray(na.words)},An.max=function(na,_a){return na.cmp(_a)>0?na:_a},An.min=function(na,_a){return na.cmp(_a)<0?na:_a},An.prototype._init=function(na,_a,es){if(typeof na=="number")return this._initNumber(na,_a,es);if(typeof na=="object")return this._initArray(na,_a,es);_a==="hex"&&(_a=16),Cn(_a===(_a|0)&&_a>=2&&_a<=36),na=na.toString().replace(/\s+/g,"");var ns=0;na[0]==="-"&&(ns++,this.negative=1),ns<na.length&&(_a===16?this._parseHex(na,ns,es):(this._parseBase(na,_a,ns),es==="le"&&this._initArray(this.toArray(),_a,es)))},An.prototype._initNumber=function(na,_a,es){na<0&&(this.negative=1,na=-na),na<67108864?(this.words=[na&67108863],this.length=1):na<4503599627370496?(this.words=[na&67108863,na/67108864&67108863],this.length=2):(Cn(na<9007199254740992),this.words=[na&67108863,na/67108864&67108863,1],this.length=3),es==="le"&&this._initArray(this.toArray(),_a,es)},An.prototype._initArray=function(na,_a,es){if(Cn(typeof na.length=="number"),na.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(na.length/3),this.words=new Array(this.length);for(var ns=0;ns<this.length;ns++)this.words[ns]=0;var os,ls,hs=0;if(es==="be")for(ns=na.length-1,os=0;ns>=0;ns-=3)ls=na[ns]|na[ns-1]<<8|na[ns-2]<<16,this.words[os]|=ls<<hs&67108863,this.words[os+1]=ls>>>26-hs&67108863,hs+=24,hs>=26&&(hs-=26,os++);else if(es==="le")for(ns=0,os=0;ns<na.length;ns+=3)ls=na[ns]|na[ns+1]<<8|na[ns+2]<<16,this.words[os]|=ls<<hs&67108863,this.words[os+1]=ls>>>26-hs&67108863,hs+=24,hs>=26&&(hs-=26,os++);return this.strip()};function xa(ds,na){var _a=ds.charCodeAt(na);return _a>=65&&_a<=70?_a-55:_a>=97&&_a<=102?_a-87:_a-48&15}function $a(ds,na,_a){var es=xa(ds,_a);return _a-1>=na&&(es|=xa(ds,_a-1)<<4),es}An.prototype._parseHex=function(na,_a,es){this.length=Math.ceil((na.length-_a)/6),this.words=new Array(this.length);for(var ns=0;ns<this.length;ns++)this.words[ns]=0;var os=0,ls=0,hs;if(es==="be")for(ns=na.length-1;ns>=_a;ns-=2)hs=$a(na,_a,ns)<<os,this.words[ls]|=hs&67108863,os>=18?(os-=18,ls+=1,this.words[ls]|=hs>>>26):os+=8;else{var ss=na.length-_a;for(ns=ss%2===0?_a+1:_a;ns<na.length;ns+=2)hs=$a(na,_a,ns)<<os,this.words[ls]|=hs&67108863,os>=18?(os-=18,ls+=1,this.words[ls]|=hs>>>26):os+=8}this.strip()};function rs(ds,na,_a,es){for(var ns=0,os=Math.min(ds.length,_a),ls=na;ls<os;ls++){var hs=ds.charCodeAt(ls)-48;ns*=es,hs>=49?ns+=hs-49+10:hs>=17?ns+=hs-17+10:ns+=hs}return ns}An.prototype._parseBase=function(na,_a,es){this.words=[0],this.length=1;for(var ns=0,os=1;os<=67108863;os*=_a)ns++;ns--,os=os/_a|0;for(var ls=na.length-es,hs=ls%ns,ss=Math.min(ls,ls-hs)+es,ga=0,as=es;as<ss;as+=ns)ga=rs(na,as,as+ns,_a),this.imuln(os),this.words[0]+ga<67108864?this.words[0]+=ga:this._iaddn(ga);if(hs!==0){var r0=1;for(ga=rs(na,as,na.length,_a),as=0;as<hs;as++)r0*=_a;this.imuln(r0),this.words[0]+ga<67108864?this.words[0]+=ga:this._iaddn(ga)}this.strip()},An.prototype.copy=function(na){na.words=new Array(this.length);for(var _a=0;_a<this.length;_a++)na.words[_a]=this.words[_a];na.length=this.length,na.negative=this.negative,na.red=this.red},An.prototype.clone=function(){var na=new An(null);return this.copy(na),na},An.prototype._expand=function(na){for(;this.length<na;)this.words[this.length++]=0;return this},An.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},An.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},An.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ts=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],is=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],cs=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];An.prototype.toString=function(na,_a){na=na||10,_a=_a|0||1;var es;if(na===16||na==="hex"){es="";for(var ns=0,os=0,ls=0;ls<this.length;ls++){var hs=this.words[ls],ss=((hs<<ns|os)&16777215).toString(16);os=hs>>>24-ns&16777215,ns+=2,ns>=26&&(ns-=26,ls--),os!==0||ls!==this.length-1?es=ts[6-ss.length]+ss+es:es=ss+es}for(os!==0&&(es=os.toString(16)+es);es.length%_a!==0;)es="0"+es;return this.negative!==0&&(es="-"+es),es}if(na===(na|0)&&na>=2&&na<=36){var ga=is[na],as=cs[na];es="";var r0=this.clone();for(r0.negative=0;!r0.isZero();){var a0=r0.modn(as).toString(na);r0=r0.idivn(as),r0.isZero()?es=a0+es:es=ts[ga-a0.length]+a0+es}for(this.isZero()&&(es="0"+es);es.length%_a!==0;)es="0"+es;return this.negative!==0&&(es="-"+es),es}Cn(!1,"Base should be between 2 and 36")},An.prototype.toNumber=function(){var na=this.words[0];return this.length===2?na+=this.words[1]*67108864:this.length===3&&this.words[2]===1?na+=4503599627370496+this.words[1]*67108864:this.length>2&&Cn(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-na:na},An.prototype.toJSON=function(){return this.toString(16)},An.prototype.toBuffer=function(na,_a){return Cn(typeof ba<"u"),this.toArrayLike(ba,na,_a)},An.prototype.toArray=function(na,_a){return this.toArrayLike(Array,na,_a)},An.prototype.toArrayLike=function(na,_a,es){var ns=this.byteLength(),os=es||Math.max(1,ns);Cn(ns<=os,"byte array longer than desired length"),Cn(os>0,"Requested array length <= 0"),this.strip();var ls=_a==="le",hs=new na(os),ss,ga,as=this.clone();if(ls){for(ga=0;!as.isZero();ga++)ss=as.andln(255),as.iushrn(8),hs[ga]=ss;for(;ga<os;ga++)hs[ga]=0}else{for(ga=0;ga<os-ns;ga++)hs[ga]=0;for(ga=0;!as.isZero();ga++)ss=as.andln(255),as.iushrn(8),hs[os-ga-1]=ss}return hs},Math.clz32?An.prototype._countBits=function(na){return 32-Math.clz32(na)}:An.prototype._countBits=function(na){var _a=na,es=0;return _a>=4096&&(es+=13,_a>>>=13),_a>=64&&(es+=7,_a>>>=7),_a>=8&&(es+=4,_a>>>=4),_a>=2&&(es+=2,_a>>>=2),es+_a},An.prototype._zeroBits=function(na){if(na===0)return 26;var _a=na,es=0;return _a&8191||(es+=13,_a>>>=13),_a&127||(es+=7,_a>>>=7),_a&15||(es+=4,_a>>>=4),_a&3||(es+=2,_a>>>=2),_a&1||es++,es},An.prototype.bitLength=function(){var na=this.words[this.length-1],_a=this._countBits(na);return(this.length-1)*26+_a};function us(ds){for(var na=new Array(ds.bitLength()),_a=0;_a<na.length;_a++){var es=_a/26|0,ns=_a%26;na[_a]=(ds.words[es]&1<<ns)>>>ns}return na}An.prototype.zeroBits=function(){if(this.isZero())return 0;for(var na=0,_a=0;_a<this.length;_a++){var es=this._zeroBits(this.words[_a]);if(na+=es,es!==26)break}return na},An.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},An.prototype.toTwos=function(na){return this.negative!==0?this.abs().inotn(na).iaddn(1):this.clone()},An.prototype.fromTwos=function(na){return this.testn(na-1)?this.notn(na).iaddn(1).ineg():this.clone()},An.prototype.isNeg=function(){return this.negative!==0},An.prototype.neg=function(){return this.clone().ineg()},An.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},An.prototype.iuor=function(na){for(;this.length<na.length;)this.words[this.length++]=0;for(var _a=0;_a<na.length;_a++)this.words[_a]=this.words[_a]|na.words[_a];return this.strip()},An.prototype.ior=function(na){return Cn((this.negative|na.negative)===0),this.iuor(na)},An.prototype.or=function(na){return this.length>na.length?this.clone().ior(na):na.clone().ior(this)},An.prototype.uor=function(na){return this.length>na.length?this.clone().iuor(na):na.clone().iuor(this)},An.prototype.iuand=function(na){var _a;this.length>na.length?_a=na:_a=this;for(var es=0;es<_a.length;es++)this.words[es]=this.words[es]&na.words[es];return this.length=_a.length,this.strip()},An.prototype.iand=function(na){return Cn((this.negative|na.negative)===0),this.iuand(na)},An.prototype.and=function(na){return this.length>na.length?this.clone().iand(na):na.clone().iand(this)},An.prototype.uand=function(na){return this.length>na.length?this.clone().iuand(na):na.clone().iuand(this)},An.prototype.iuxor=function(na){var _a,es;this.length>na.length?(_a=this,es=na):(_a=na,es=this);for(var ns=0;ns<es.length;ns++)this.words[ns]=_a.words[ns]^es.words[ns];if(this!==_a)for(;ns<_a.length;ns++)this.words[ns]=_a.words[ns];return this.length=_a.length,this.strip()},An.prototype.ixor=function(na){return Cn((this.negative|na.negative)===0),this.iuxor(na)},An.prototype.xor=function(na){return this.length>na.length?this.clone().ixor(na):na.clone().ixor(this)},An.prototype.uxor=function(na){return this.length>na.length?this.clone().iuxor(na):na.clone().iuxor(this)},An.prototype.inotn=function(na){Cn(typeof na=="number"&&na>=0);var _a=Math.ceil(na/26)|0,es=na%26;this._expand(_a),es>0&&_a--;for(var ns=0;ns<_a;ns++)this.words[ns]=~this.words[ns]&67108863;return es>0&&(this.words[ns]=~this.words[ns]&67108863>>26-es),this.strip()},An.prototype.notn=function(na){return this.clone().inotn(na)},An.prototype.setn=function(na,_a){Cn(typeof na=="number"&&na>=0);var es=na/26|0,ns=na%26;return this._expand(es+1),_a?this.words[es]=this.words[es]|1<<ns:this.words[es]=this.words[es]&~(1<<ns),this.strip()},An.prototype.iadd=function(na){var _a;if(this.negative!==0&&na.negative===0)return this.negative=0,_a=this.isub(na),this.negative^=1,this._normSign();if(this.negative===0&&na.negative!==0)return na.negative=0,_a=this.isub(na),na.negative=1,_a._normSign();var es,ns;this.length>na.length?(es=this,ns=na):(es=na,ns=this);for(var os=0,ls=0;ls<ns.length;ls++)_a=(es.words[ls]|0)+(ns.words[ls]|0)+os,this.words[ls]=_a&67108863,os=_a>>>26;for(;os!==0&&ls<es.length;ls++)_a=(es.words[ls]|0)+os,this.words[ls]=_a&67108863,os=_a>>>26;if(this.length=es.length,os!==0)this.words[this.length]=os,this.length++;else if(es!==this)for(;ls<es.length;ls++)this.words[ls]=es.words[ls];return this},An.prototype.add=function(na){var _a;return na.negative!==0&&this.negative===0?(na.negative=0,_a=this.sub(na),na.negative^=1,_a):na.negative===0&&this.negative!==0?(this.negative=0,_a=na.sub(this),this.negative=1,_a):this.length>na.length?this.clone().iadd(na):na.clone().iadd(this)},An.prototype.isub=function(na){if(na.negative!==0){na.negative=0;var _a=this.iadd(na);return na.negative=1,_a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(na),this.negative=1,this._normSign();var es=this.cmp(na);if(es===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ns,os;es>0?(ns=this,os=na):(ns=na,os=this);for(var ls=0,hs=0;hs<os.length;hs++)_a=(ns.words[hs]|0)-(os.words[hs]|0)+ls,ls=_a>>26,this.words[hs]=_a&67108863;for(;ls!==0&&hs<ns.length;hs++)_a=(ns.words[hs]|0)+ls,ls=_a>>26,this.words[hs]=_a&67108863;if(ls===0&&hs<ns.length&&ns!==this)for(;hs<ns.length;hs++)this.words[hs]=ns.words[hs];return this.length=Math.max(this.length,hs),ns!==this&&(this.negative=1),this.strip()},An.prototype.sub=function(na){return this.clone().isub(na)};function ps(ds,na,_a){_a.negative=na.negative^ds.negative;var es=ds.length+na.length|0;_a.length=es,es=es-1|0;var ns=ds.words[0]|0,os=na.words[0]|0,ls=ns*os,hs=ls&67108863,ss=ls/67108864|0;_a.words[0]=hs;for(var ga=1;ga<es;ga++){for(var as=ss>>>26,r0=ss&67108863,a0=Math.min(ga,na.length-1),l0=Math.max(0,ga-ds.length+1);l0<=a0;l0++){var s0=ga-l0|0;ns=ds.words[s0]|0,os=na.words[l0]|0,ls=ns*os+r0,as+=ls/67108864|0,r0=ls&67108863}_a.words[ga]=r0|0,ss=as|0}return ss!==0?_a.words[ga]=ss|0:_a.length--,_a.strip()}var bs=function(na,_a,es){var ns=na.words,os=_a.words,ls=es.words,hs=0,ss,ga,as,r0=ns[0]|0,a0=r0&8191,l0=r0>>>13,s0=ns[1]|0,b0=s0&8191,f0=s0>>>13,m0=ns[2]|0,y0=m0&8191,t0=m0>>>13,h0=ns[3]|0,p0=h0&8191,E0=h0>>>13,I0=ns[4]|0,C0=I0&8191,$0=I0>>>13,vo=ns[5]|0,P0=vo&8191,S0=vo>>>13,_o=ns[6]|0,O0=_o&8191,B0=_o>>>13,To=ns[7]|0,k0=To&8191,D0=To>>>13,Eo=ns[8]|0,N0=Eo&8191,F0=Eo>>>13,Co=ns[9]|0,x0=Co&8191,u0=Co>>>13,v0=os[0]|0,_0=v0&8191,T0=v0>>>13,j0=os[1]|0,A0=j0&8191,U0=j0>>>13,$o=os[2]|0,L0=$o&8191,V0=$o>>>13,Mo=os[3]|0,G0=Mo&8191,Z0=Mo>>>13,Io=os[4]|0,q0=Io&8191,Y0=Io>>>13,Ro=os[5]|0,z0=Ro&8191,X0=Ro>>>13,Po=os[6]|0,K0=Po&8191,bo=Po>>>13,ko=os[7]|0,W0=ko&8191,J0=ko>>>13,Ao=os[8]|0,H0=Ao&8191,go=Ao>>>13,Bo=os[9]|0,Q0=Bo&8191,wo=Bo>>>13;es.negative=na.negative^_a.negative,es.length=19,ss=Math.imul(a0,_0),ga=Math.imul(a0,T0),ga=ga+Math.imul(l0,_0)|0,as=Math.imul(l0,T0);var No=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(No>>>26)|0,No&=67108863,ss=Math.imul(b0,_0),ga=Math.imul(b0,T0),ga=ga+Math.imul(f0,_0)|0,as=Math.imul(f0,T0),ss=ss+Math.imul(a0,A0)|0,ga=ga+Math.imul(a0,U0)|0,ga=ga+Math.imul(l0,A0)|0,as=as+Math.imul(l0,U0)|0;var Oo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,ss=Math.imul(y0,_0),ga=Math.imul(y0,T0),ga=ga+Math.imul(t0,_0)|0,as=Math.imul(t0,T0),ss=ss+Math.imul(b0,A0)|0,ga=ga+Math.imul(b0,U0)|0,ga=ga+Math.imul(f0,A0)|0,as=as+Math.imul(f0,U0)|0,ss=ss+Math.imul(a0,L0)|0,ga=ga+Math.imul(a0,V0)|0,ga=ga+Math.imul(l0,L0)|0,as=as+Math.imul(l0,V0)|0;var jo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(jo>>>26)|0,jo&=67108863,ss=Math.imul(p0,_0),ga=Math.imul(p0,T0),ga=ga+Math.imul(E0,_0)|0,as=Math.imul(E0,T0),ss=ss+Math.imul(y0,A0)|0,ga=ga+Math.imul(y0,U0)|0,ga=ga+Math.imul(t0,A0)|0,as=as+Math.imul(t0,U0)|0,ss=ss+Math.imul(b0,L0)|0,ga=ga+Math.imul(b0,V0)|0,ga=ga+Math.imul(f0,L0)|0,as=as+Math.imul(f0,V0)|0,ss=ss+Math.imul(a0,G0)|0,ga=ga+Math.imul(a0,Z0)|0,ga=ga+Math.imul(l0,G0)|0,as=as+Math.imul(l0,Z0)|0;var Uo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,ss=Math.imul(C0,_0),ga=Math.imul(C0,T0),ga=ga+Math.imul($0,_0)|0,as=Math.imul($0,T0),ss=ss+Math.imul(p0,A0)|0,ga=ga+Math.imul(p0,U0)|0,ga=ga+Math.imul(E0,A0)|0,as=as+Math.imul(E0,U0)|0,ss=ss+Math.imul(y0,L0)|0,ga=ga+Math.imul(y0,V0)|0,ga=ga+Math.imul(t0,L0)|0,as=as+Math.imul(t0,V0)|0,ss=ss+Math.imul(b0,G0)|0,ga=ga+Math.imul(b0,Z0)|0,ga=ga+Math.imul(f0,G0)|0,as=as+Math.imul(f0,Z0)|0,ss=ss+Math.imul(a0,q0)|0,ga=ga+Math.imul(a0,Y0)|0,ga=ga+Math.imul(l0,q0)|0,as=as+Math.imul(l0,Y0)|0;var zo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(zo>>>26)|0,zo&=67108863,ss=Math.imul(P0,_0),ga=Math.imul(P0,T0),ga=ga+Math.imul(S0,_0)|0,as=Math.imul(S0,T0),ss=ss+Math.imul(C0,A0)|0,ga=ga+Math.imul(C0,U0)|0,ga=ga+Math.imul($0,A0)|0,as=as+Math.imul($0,U0)|0,ss=ss+Math.imul(p0,L0)|0,ga=ga+Math.imul(p0,V0)|0,ga=ga+Math.imul(E0,L0)|0,as=as+Math.imul(E0,V0)|0,ss=ss+Math.imul(y0,G0)|0,ga=ga+Math.imul(y0,Z0)|0,ga=ga+Math.imul(t0,G0)|0,as=as+Math.imul(t0,Z0)|0,ss=ss+Math.imul(b0,q0)|0,ga=ga+Math.imul(b0,Y0)|0,ga=ga+Math.imul(f0,q0)|0,as=as+Math.imul(f0,Y0)|0,ss=ss+Math.imul(a0,z0)|0,ga=ga+Math.imul(a0,X0)|0,ga=ga+Math.imul(l0,z0)|0,as=as+Math.imul(l0,X0)|0;var qo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(qo>>>26)|0,qo&=67108863,ss=Math.imul(O0,_0),ga=Math.imul(O0,T0),ga=ga+Math.imul(B0,_0)|0,as=Math.imul(B0,T0),ss=ss+Math.imul(P0,A0)|0,ga=ga+Math.imul(P0,U0)|0,ga=ga+Math.imul(S0,A0)|0,as=as+Math.imul(S0,U0)|0,ss=ss+Math.imul(C0,L0)|0,ga=ga+Math.imul(C0,V0)|0,ga=ga+Math.imul($0,L0)|0,as=as+Math.imul($0,V0)|0,ss=ss+Math.imul(p0,G0)|0,ga=ga+Math.imul(p0,Z0)|0,ga=ga+Math.imul(E0,G0)|0,as=as+Math.imul(E0,Z0)|0,ss=ss+Math.imul(y0,q0)|0,ga=ga+Math.imul(y0,Y0)|0,ga=ga+Math.imul(t0,q0)|0,as=as+Math.imul(t0,Y0)|0,ss=ss+Math.imul(b0,z0)|0,ga=ga+Math.imul(b0,X0)|0,ga=ga+Math.imul(f0,z0)|0,as=as+Math.imul(f0,X0)|0,ss=ss+Math.imul(a0,K0)|0,ga=ga+Math.imul(a0,bo)|0,ga=ga+Math.imul(l0,K0)|0,as=as+Math.imul(l0,bo)|0;var Fo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,ss=Math.imul(k0,_0),ga=Math.imul(k0,T0),ga=ga+Math.imul(D0,_0)|0,as=Math.imul(D0,T0),ss=ss+Math.imul(O0,A0)|0,ga=ga+Math.imul(O0,U0)|0,ga=ga+Math.imul(B0,A0)|0,as=as+Math.imul(B0,U0)|0,ss=ss+Math.imul(P0,L0)|0,ga=ga+Math.imul(P0,V0)|0,ga=ga+Math.imul(S0,L0)|0,as=as+Math.imul(S0,V0)|0,ss=ss+Math.imul(C0,G0)|0,ga=ga+Math.imul(C0,Z0)|0,ga=ga+Math.imul($0,G0)|0,as=as+Math.imul($0,Z0)|0,ss=ss+Math.imul(p0,q0)|0,ga=ga+Math.imul(p0,Y0)|0,ga=ga+Math.imul(E0,q0)|0,as=as+Math.imul(E0,Y0)|0,ss=ss+Math.imul(y0,z0)|0,ga=ga+Math.imul(y0,X0)|0,ga=ga+Math.imul(t0,z0)|0,as=as+Math.imul(t0,X0)|0,ss=ss+Math.imul(b0,K0)|0,ga=ga+Math.imul(b0,bo)|0,ga=ga+Math.imul(f0,K0)|0,as=as+Math.imul(f0,bo)|0,ss=ss+Math.imul(a0,W0)|0,ga=ga+Math.imul(a0,J0)|0,ga=ga+Math.imul(l0,W0)|0,as=as+Math.imul(l0,J0)|0;var Ko=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,ss=Math.imul(N0,_0),ga=Math.imul(N0,T0),ga=ga+Math.imul(F0,_0)|0,as=Math.imul(F0,T0),ss=ss+Math.imul(k0,A0)|0,ga=ga+Math.imul(k0,U0)|0,ga=ga+Math.imul(D0,A0)|0,as=as+Math.imul(D0,U0)|0,ss=ss+Math.imul(O0,L0)|0,ga=ga+Math.imul(O0,V0)|0,ga=ga+Math.imul(B0,L0)|0,as=as+Math.imul(B0,V0)|0,ss=ss+Math.imul(P0,G0)|0,ga=ga+Math.imul(P0,Z0)|0,ga=ga+Math.imul(S0,G0)|0,as=as+Math.imul(S0,Z0)|0,ss=ss+Math.imul(C0,q0)|0,ga=ga+Math.imul(C0,Y0)|0,ga=ga+Math.imul($0,q0)|0,as=as+Math.imul($0,Y0)|0,ss=ss+Math.imul(p0,z0)|0,ga=ga+Math.imul(p0,X0)|0,ga=ga+Math.imul(E0,z0)|0,as=as+Math.imul(E0,X0)|0,ss=ss+Math.imul(y0,K0)|0,ga=ga+Math.imul(y0,bo)|0,ga=ga+Math.imul(t0,K0)|0,as=as+Math.imul(t0,bo)|0,ss=ss+Math.imul(b0,W0)|0,ga=ga+Math.imul(b0,J0)|0,ga=ga+Math.imul(f0,W0)|0,as=as+Math.imul(f0,J0)|0,ss=ss+Math.imul(a0,H0)|0,ga=ga+Math.imul(a0,go)|0,ga=ga+Math.imul(l0,H0)|0,as=as+Math.imul(l0,go)|0;var Ho=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,ss=Math.imul(x0,_0),ga=Math.imul(x0,T0),ga=ga+Math.imul(u0,_0)|0,as=Math.imul(u0,T0),ss=ss+Math.imul(N0,A0)|0,ga=ga+Math.imul(N0,U0)|0,ga=ga+Math.imul(F0,A0)|0,as=as+Math.imul(F0,U0)|0,ss=ss+Math.imul(k0,L0)|0,ga=ga+Math.imul(k0,V0)|0,ga=ga+Math.imul(D0,L0)|0,as=as+Math.imul(D0,V0)|0,ss=ss+Math.imul(O0,G0)|0,ga=ga+Math.imul(O0,Z0)|0,ga=ga+Math.imul(B0,G0)|0,as=as+Math.imul(B0,Z0)|0,ss=ss+Math.imul(P0,q0)|0,ga=ga+Math.imul(P0,Y0)|0,ga=ga+Math.imul(S0,q0)|0,as=as+Math.imul(S0,Y0)|0,ss=ss+Math.imul(C0,z0)|0,ga=ga+Math.imul(C0,X0)|0,ga=ga+Math.imul($0,z0)|0,as=as+Math.imul($0,X0)|0,ss=ss+Math.imul(p0,K0)|0,ga=ga+Math.imul(p0,bo)|0,ga=ga+Math.imul(E0,K0)|0,as=as+Math.imul(E0,bo)|0,ss=ss+Math.imul(y0,W0)|0,ga=ga+Math.imul(y0,J0)|0,ga=ga+Math.imul(t0,W0)|0,as=as+Math.imul(t0,J0)|0,ss=ss+Math.imul(b0,H0)|0,ga=ga+Math.imul(b0,go)|0,ga=ga+Math.imul(f0,H0)|0,as=as+Math.imul(f0,go)|0,ss=ss+Math.imul(a0,Q0)|0,ga=ga+Math.imul(a0,wo)|0,ga=ga+Math.imul(l0,Q0)|0,as=as+Math.imul(l0,wo)|0;var Vo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,ss=Math.imul(x0,A0),ga=Math.imul(x0,U0),ga=ga+Math.imul(u0,A0)|0,as=Math.imul(u0,U0),ss=ss+Math.imul(N0,L0)|0,ga=ga+Math.imul(N0,V0)|0,ga=ga+Math.imul(F0,L0)|0,as=as+Math.imul(F0,V0)|0,ss=ss+Math.imul(k0,G0)|0,ga=ga+Math.imul(k0,Z0)|0,ga=ga+Math.imul(D0,G0)|0,as=as+Math.imul(D0,Z0)|0,ss=ss+Math.imul(O0,q0)|0,ga=ga+Math.imul(O0,Y0)|0,ga=ga+Math.imul(B0,q0)|0,as=as+Math.imul(B0,Y0)|0,ss=ss+Math.imul(P0,z0)|0,ga=ga+Math.imul(P0,X0)|0,ga=ga+Math.imul(S0,z0)|0,as=as+Math.imul(S0,X0)|0,ss=ss+Math.imul(C0,K0)|0,ga=ga+Math.imul(C0,bo)|0,ga=ga+Math.imul($0,K0)|0,as=as+Math.imul($0,bo)|0,ss=ss+Math.imul(p0,W0)|0,ga=ga+Math.imul(p0,J0)|0,ga=ga+Math.imul(E0,W0)|0,as=as+Math.imul(E0,J0)|0,ss=ss+Math.imul(y0,H0)|0,ga=ga+Math.imul(y0,go)|0,ga=ga+Math.imul(t0,H0)|0,as=as+Math.imul(t0,go)|0,ss=ss+Math.imul(b0,Q0)|0,ga=ga+Math.imul(b0,wo)|0,ga=ga+Math.imul(f0,Q0)|0,as=as+Math.imul(f0,wo)|0;var Go=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Go>>>26)|0,Go&=67108863,ss=Math.imul(x0,L0),ga=Math.imul(x0,V0),ga=ga+Math.imul(u0,L0)|0,as=Math.imul(u0,V0),ss=ss+Math.imul(N0,G0)|0,ga=ga+Math.imul(N0,Z0)|0,ga=ga+Math.imul(F0,G0)|0,as=as+Math.imul(F0,Z0)|0,ss=ss+Math.imul(k0,q0)|0,ga=ga+Math.imul(k0,Y0)|0,ga=ga+Math.imul(D0,q0)|0,as=as+Math.imul(D0,Y0)|0,ss=ss+Math.imul(O0,z0)|0,ga=ga+Math.imul(O0,X0)|0,ga=ga+Math.imul(B0,z0)|0,as=as+Math.imul(B0,X0)|0,ss=ss+Math.imul(P0,K0)|0,ga=ga+Math.imul(P0,bo)|0,ga=ga+Math.imul(S0,K0)|0,as=as+Math.imul(S0,bo)|0,ss=ss+Math.imul(C0,W0)|0,ga=ga+Math.imul(C0,J0)|0,ga=ga+Math.imul($0,W0)|0,as=as+Math.imul($0,J0)|0,ss=ss+Math.imul(p0,H0)|0,ga=ga+Math.imul(p0,go)|0,ga=ga+Math.imul(E0,H0)|0,as=as+Math.imul(E0,go)|0,ss=ss+Math.imul(y0,Q0)|0,ga=ga+Math.imul(y0,wo)|0,ga=ga+Math.imul(t0,Q0)|0,as=as+Math.imul(t0,wo)|0;var Zo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,ss=Math.imul(x0,G0),ga=Math.imul(x0,Z0),ga=ga+Math.imul(u0,G0)|0,as=Math.imul(u0,Z0),ss=ss+Math.imul(N0,q0)|0,ga=ga+Math.imul(N0,Y0)|0,ga=ga+Math.imul(F0,q0)|0,as=as+Math.imul(F0,Y0)|0,ss=ss+Math.imul(k0,z0)|0,ga=ga+Math.imul(k0,X0)|0,ga=ga+Math.imul(D0,z0)|0,as=as+Math.imul(D0,X0)|0,ss=ss+Math.imul(O0,K0)|0,ga=ga+Math.imul(O0,bo)|0,ga=ga+Math.imul(B0,K0)|0,as=as+Math.imul(B0,bo)|0,ss=ss+Math.imul(P0,W0)|0,ga=ga+Math.imul(P0,J0)|0,ga=ga+Math.imul(S0,W0)|0,as=as+Math.imul(S0,J0)|0,ss=ss+Math.imul(C0,H0)|0,ga=ga+Math.imul(C0,go)|0,ga=ga+Math.imul($0,H0)|0,as=as+Math.imul($0,go)|0,ss=ss+Math.imul(p0,Q0)|0,ga=ga+Math.imul(p0,wo)|0,ga=ga+Math.imul(E0,Q0)|0,as=as+Math.imul(E0,wo)|0;var Jo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Jo>>>26)|0,Jo&=67108863,ss=Math.imul(x0,q0),ga=Math.imul(x0,Y0),ga=ga+Math.imul(u0,q0)|0,as=Math.imul(u0,Y0),ss=ss+Math.imul(N0,z0)|0,ga=ga+Math.imul(N0,X0)|0,ga=ga+Math.imul(F0,z0)|0,as=as+Math.imul(F0,X0)|0,ss=ss+Math.imul(k0,K0)|0,ga=ga+Math.imul(k0,bo)|0,ga=ga+Math.imul(D0,K0)|0,as=as+Math.imul(D0,bo)|0,ss=ss+Math.imul(O0,W0)|0,ga=ga+Math.imul(O0,J0)|0,ga=ga+Math.imul(B0,W0)|0,as=as+Math.imul(B0,J0)|0,ss=ss+Math.imul(P0,H0)|0,ga=ga+Math.imul(P0,go)|0,ga=ga+Math.imul(S0,H0)|0,as=as+Math.imul(S0,go)|0,ss=ss+Math.imul(C0,Q0)|0,ga=ga+Math.imul(C0,wo)|0,ga=ga+Math.imul($0,Q0)|0,as=as+Math.imul($0,wo)|0;var Qo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,ss=Math.imul(x0,z0),ga=Math.imul(x0,X0),ga=ga+Math.imul(u0,z0)|0,as=Math.imul(u0,X0),ss=ss+Math.imul(N0,K0)|0,ga=ga+Math.imul(N0,bo)|0,ga=ga+Math.imul(F0,K0)|0,as=as+Math.imul(F0,bo)|0,ss=ss+Math.imul(k0,W0)|0,ga=ga+Math.imul(k0,J0)|0,ga=ga+Math.imul(D0,W0)|0,as=as+Math.imul(D0,J0)|0,ss=ss+Math.imul(O0,H0)|0,ga=ga+Math.imul(O0,go)|0,ga=ga+Math.imul(B0,H0)|0,as=as+Math.imul(B0,go)|0,ss=ss+Math.imul(P0,Q0)|0,ga=ga+Math.imul(P0,wo)|0,ga=ga+Math.imul(S0,Q0)|0,as=as+Math.imul(S0,wo)|0;var Xo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,ss=Math.imul(x0,K0),ga=Math.imul(x0,bo),ga=ga+Math.imul(u0,K0)|0,as=Math.imul(u0,bo),ss=ss+Math.imul(N0,W0)|0,ga=ga+Math.imul(N0,J0)|0,ga=ga+Math.imul(F0,W0)|0,as=as+Math.imul(F0,J0)|0,ss=ss+Math.imul(k0,H0)|0,ga=ga+Math.imul(k0,go)|0,ga=ga+Math.imul(D0,H0)|0,as=as+Math.imul(D0,go)|0,ss=ss+Math.imul(O0,Q0)|0,ga=ga+Math.imul(O0,wo)|0,ga=ga+Math.imul(B0,Q0)|0,as=as+Math.imul(B0,wo)|0;var Wo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,ss=Math.imul(x0,W0),ga=Math.imul(x0,J0),ga=ga+Math.imul(u0,W0)|0,as=Math.imul(u0,J0),ss=ss+Math.imul(N0,H0)|0,ga=ga+Math.imul(N0,go)|0,ga=ga+Math.imul(F0,H0)|0,as=as+Math.imul(F0,go)|0,ss=ss+Math.imul(k0,Q0)|0,ga=ga+Math.imul(k0,wo)|0,ga=ga+Math.imul(D0,Q0)|0,as=as+Math.imul(D0,wo)|0;var _f=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(_f>>>26)|0,_f&=67108863,ss=Math.imul(x0,H0),ga=Math.imul(x0,go),ga=ga+Math.imul(u0,H0)|0,as=Math.imul(u0,go),ss=ss+Math.imul(N0,Q0)|0,ga=ga+Math.imul(N0,wo)|0,ga=ga+Math.imul(F0,Q0)|0,as=as+Math.imul(F0,wo)|0;var _c=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(_c>>>26)|0,_c&=67108863,ss=Math.imul(x0,Q0),ga=Math.imul(x0,wo),ga=ga+Math.imul(u0,Q0)|0,as=Math.imul(u0,wo);var yl=(hs+ss|0)+((ga&8191)<<13)|0;return hs=(as+(ga>>>13)|0)+(yl>>>26)|0,yl&=67108863,ls[0]=No,ls[1]=Oo,ls[2]=jo,ls[3]=Uo,ls[4]=zo,ls[5]=qo,ls[6]=Fo,ls[7]=Ko,ls[8]=Ho,ls[9]=Vo,ls[10]=Go,ls[11]=Zo,ls[12]=Jo,ls[13]=Qo,ls[14]=Xo,ls[15]=Wo,ls[16]=_f,ls[17]=_c,ls[18]=yl,hs!==0&&(ls[19]=hs,es.length++),es};Math.imul||(bs=ps);function e0(ds,na,_a){_a.negative=na.negative^ds.negative,_a.length=ds.length+na.length;for(var es=0,ns=0,os=0;os<_a.length-1;os++){var ls=ns;ns=0;for(var hs=es&67108863,ss=Math.min(os,na.length-1),ga=Math.max(0,os-ds.length+1);ga<=ss;ga++){var as=os-ga,r0=ds.words[as]|0,a0=na.words[ga]|0,l0=r0*a0,s0=l0&67108863;ls=ls+(l0/67108864|0)|0,s0=s0+hs|0,hs=s0&67108863,ls=ls+(s0>>>26)|0,ns+=ls>>>26,ls&=67108863}_a.words[os]=hs,es=ls,ls=ns}return es!==0?_a.words[os]=es:_a.length--,_a.strip()}function gs(ds,na,_a){var es=new Ds;return es.mulp(ds,na,_a)}An.prototype.mulTo=function(na,_a){var es,ns=this.length+na.length;return this.length===10&&na.length===10?es=bs(this,na,_a):ns<63?es=ps(this,na,_a):ns<1024?es=e0(this,na,_a):es=gs(this,na,_a),es};function Ds(ds,na){this.x=ds,this.y=na}Ds.prototype.makeRBT=function(na){for(var _a=new Array(na),es=An.prototype._countBits(na)-1,ns=0;ns<na;ns++)_a[ns]=this.revBin(ns,es,na);return _a},Ds.prototype.revBin=function(na,_a,es){if(na===0||na===es-1)return na;for(var ns=0,os=0;os<_a;os++)ns|=(na&1)<<_a-os-1,na>>=1;return ns},Ds.prototype.permute=function(na,_a,es,ns,os,ls){for(var hs=0;hs<ls;hs++)ns[hs]=_a[na[hs]],os[hs]=es[na[hs]]},Ds.prototype.transform=function(na,_a,es,ns,os,ls){this.permute(ls,na,_a,es,ns,os);for(var hs=1;hs<os;hs<<=1)for(var ss=hs<<1,ga=Math.cos(2*Math.PI/ss),as=Math.sin(2*Math.PI/ss),r0=0;r0<os;r0+=ss)for(var a0=ga,l0=as,s0=0;s0<hs;s0++){var b0=es[r0+s0],f0=ns[r0+s0],m0=es[r0+s0+hs],y0=ns[r0+s0+hs],t0=a0*m0-l0*y0;y0=a0*y0+l0*m0,m0=t0,es[r0+s0]=b0+m0,ns[r0+s0]=f0+y0,es[r0+s0+hs]=b0-m0,ns[r0+s0+hs]=f0-y0,s0!==ss&&(t0=ga*a0-as*l0,l0=ga*l0+as*a0,a0=t0)}},Ds.prototype.guessLen13b=function(na,_a){var es=Math.max(_a,na)|1,ns=es&1,os=0;for(es=es/2|0;es;es=es>>>1)os++;return 1<<os+1+ns},Ds.prototype.conjugate=function(na,_a,es){if(!(es<=1))for(var ns=0;ns<es/2;ns++){var os=na[ns];na[ns]=na[es-ns-1],na[es-ns-1]=os,os=_a[ns],_a[ns]=-_a[es-ns-1],_a[es-ns-1]=-os}},Ds.prototype.normalize13b=function(na,_a){for(var es=0,ns=0;ns<_a/2;ns++){var os=Math.round(na[2*ns+1]/_a)*8192+Math.round(na[2*ns]/_a)+es;na[ns]=os&67108863,os<67108864?es=0:es=os/67108864|0}return na},Ds.prototype.convert13b=function(na,_a,es,ns){for(var os=0,ls=0;ls<_a;ls++)os=os+(na[ls]|0),es[2*ls]=os&8191,os=os>>>13,es[2*ls+1]=os&8191,os=os>>>13;for(ls=2*_a;ls<ns;++ls)es[ls]=0;Cn(os===0),Cn((os&-8192)===0)},Ds.prototype.stub=function(na){for(var _a=new Array(na),es=0;es<na;es++)_a[es]=0;return _a},Ds.prototype.mulp=function(na,_a,es){var ns=2*this.guessLen13b(na.length,_a.length),os=this.makeRBT(ns),ls=this.stub(ns),hs=new Array(ns),ss=new Array(ns),ga=new Array(ns),as=new Array(ns),r0=new Array(ns),a0=new Array(ns),l0=es.words;l0.length=ns,this.convert13b(na.words,na.length,hs,ns),this.convert13b(_a.words,_a.length,as,ns),this.transform(hs,ls,ss,ga,ns,os),this.transform(as,ls,r0,a0,ns,os);for(var s0=0;s0<ns;s0++){var b0=ss[s0]*r0[s0]-ga[s0]*a0[s0];ga[s0]=ss[s0]*a0[s0]+ga[s0]*r0[s0],ss[s0]=b0}return this.conjugate(ss,ga,ns),this.transform(ss,ga,l0,ls,ns,os),this.conjugate(l0,ls,ns),this.normalize13b(l0,ns),es.negative=na.negative^_a.negative,es.length=na.length+_a.length,es.strip()},An.prototype.mul=function(na){var _a=new An(null);return _a.words=new Array(this.length+na.length),this.mulTo(na,_a)},An.prototype.mulf=function(na){var _a=new An(null);return _a.words=new Array(this.length+na.length),gs(this,na,_a)},An.prototype.imul=function(na){return this.clone().mulTo(na,this)},An.prototype.imuln=function(na){Cn(typeof na=="number"),Cn(na<67108864);for(var _a=0,es=0;es<this.length;es++){var ns=(this.words[es]|0)*na,os=(ns&67108863)+(_a&67108863);_a>>=26,_a+=ns/67108864|0,_a+=os>>>26,this.words[es]=os&67108863}return _a!==0&&(this.words[es]=_a,this.length++),this},An.prototype.muln=function(na){return this.clone().imuln(na)},An.prototype.sqr=function(){return this.mul(this)},An.prototype.isqr=function(){return this.imul(this.clone())},An.prototype.pow=function(na){var _a=us(na);if(_a.length===0)return new An(1);for(var es=this,ns=0;ns<_a.length&&_a[ns]===0;ns++,es=es.sqr());if(++ns<_a.length)for(var os=es.sqr();ns<_a.length;ns++,os=os.sqr())_a[ns]!==0&&(es=es.mul(os));return es},An.prototype.iushln=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26,ns=67108863>>>26-_a<<26-_a,os;if(_a!==0){var ls=0;for(os=0;os<this.length;os++){var hs=this.words[os]&ns,ss=(this.words[os]|0)-hs<<_a;this.words[os]=ss|ls,ls=hs>>>26-_a}ls&&(this.words[os]=ls,this.length++)}if(es!==0){for(os=this.length-1;os>=0;os--)this.words[os+es]=this.words[os];for(os=0;os<es;os++)this.words[os]=0;this.length+=es}return this.strip()},An.prototype.ishln=function(na){return Cn(this.negative===0),this.iushln(na)},An.prototype.iushrn=function(na,_a,es){Cn(typeof na=="number"&&na>=0);var ns;_a?ns=(_a-_a%26)/26:ns=0;var os=na%26,ls=Math.min((na-os)/26,this.length),hs=67108863^67108863>>>os<<os,ss=es;if(ns-=ls,ns=Math.max(0,ns),ss){for(var ga=0;ga<ls;ga++)ss.words[ga]=this.words[ga];ss.length=ls}if(ls!==0)if(this.length>ls)for(this.length-=ls,ga=0;ga<this.length;ga++)this.words[ga]=this.words[ga+ls];else this.words[0]=0,this.length=1;var as=0;for(ga=this.length-1;ga>=0&&(as!==0||ga>=ns);ga--){var r0=this.words[ga]|0;this.words[ga]=as<<26-os|r0>>>os,as=r0&hs}return ss&&as!==0&&(ss.words[ss.length++]=as),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},An.prototype.ishrn=function(na,_a,es){return Cn(this.negative===0),this.iushrn(na,_a,es)},An.prototype.shln=function(na){return this.clone().ishln(na)},An.prototype.ushln=function(na){return this.clone().iushln(na)},An.prototype.shrn=function(na){return this.clone().ishrn(na)},An.prototype.ushrn=function(na){return this.clone().iushrn(na)},An.prototype.testn=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26,ns=1<<_a;if(this.length<=es)return!1;var os=this.words[es];return!!(os&ns)},An.prototype.imaskn=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26;if(Cn(this.negative===0,"imaskn works only with positive numbers"),this.length<=es)return this;if(_a!==0&&es++,this.length=Math.min(es,this.length),_a!==0){var ns=67108863^67108863>>>_a<<_a;this.words[this.length-1]&=ns}return this.strip()},An.prototype.maskn=function(na){return this.clone().imaskn(na)},An.prototype.iaddn=function(na){return Cn(typeof na=="number"),Cn(na<67108864),na<0?this.isubn(-na):this.negative!==0?this.length===1&&(this.words[0]|0)<na?(this.words[0]=na-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(na),this.negative=1,this):this._iaddn(na)},An.prototype._iaddn=function(na){this.words[0]+=na;for(var _a=0;_a<this.length&&this.words[_a]>=67108864;_a++)this.words[_a]-=67108864,_a===this.length-1?this.words[_a+1]=1:this.words[_a+1]++;return this.length=Math.max(this.length,_a+1),this},An.prototype.isubn=function(na){if(Cn(typeof na=="number"),Cn(na<67108864),na<0)return this.iaddn(-na);if(this.negative!==0)return this.negative=0,this.iaddn(na),this.negative=1,this;if(this.words[0]-=na,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _a=0;_a<this.length&&this.words[_a]<0;_a++)this.words[_a]+=67108864,this.words[_a+1]-=1;return this.strip()},An.prototype.addn=function(na){return this.clone().iaddn(na)},An.prototype.subn=function(na){return this.clone().isubn(na)},An.prototype.iabs=function(){return this.negative=0,this},An.prototype.abs=function(){return this.clone().iabs()},An.prototype._ishlnsubmul=function(na,_a,es){var ns=na.length+es,os;this._expand(ns);var ls,hs=0;for(os=0;os<na.length;os++){ls=(this.words[os+es]|0)+hs;var ss=(na.words[os]|0)*_a;ls-=ss&67108863,hs=(ls>>26)-(ss/67108864|0),this.words[os+es]=ls&67108863}for(;os<this.length-es;os++)ls=(this.words[os+es]|0)+hs,hs=ls>>26,this.words[os+es]=ls&67108863;if(hs===0)return this.strip();for(Cn(hs===-1),hs=0,os=0;os<this.length;os++)ls=-(this.words[os]|0)+hs,hs=ls>>26,this.words[os]=ls&67108863;return this.negative=1,this.strip()},An.prototype._wordDiv=function(na,_a){var es=this.length-na.length,ns=this.clone(),os=na,ls=os.words[os.length-1]|0,hs=this._countBits(ls);es=26-hs,es!==0&&(os=os.ushln(es),ns.iushln(es),ls=os.words[os.length-1]|0);var ss=ns.length-os.length,ga;if(_a!=="mod"){ga=new An(null),ga.length=ss+1,ga.words=new Array(ga.length);for(var as=0;as<ga.length;as++)ga.words[as]=0}var r0=ns.clone()._ishlnsubmul(os,1,ss);r0.negative===0&&(ns=r0,ga&&(ga.words[ss]=1));for(var a0=ss-1;a0>=0;a0--){var l0=(ns.words[os.length+a0]|0)*67108864+(ns.words[os.length+a0-1]|0);for(l0=Math.min(l0/ls|0,67108863),ns._ishlnsubmul(os,l0,a0);ns.negative!==0;)l0--,ns.negative=0,ns._ishlnsubmul(os,1,a0),ns.isZero()||(ns.negative^=1);ga&&(ga.words[a0]=l0)}return ga&&ga.strip(),ns.strip(),_a!=="div"&&es!==0&&ns.iushrn(es),{div:ga||null,mod:ns}},An.prototype.divmod=function(na,_a,es){if(Cn(!na.isZero()),this.isZero())return{div:new An(0),mod:new An(0)};var ns,os,ls;return this.negative!==0&&na.negative===0?(ls=this.neg().divmod(na,_a),_a!=="mod"&&(ns=ls.div.neg()),_a!=="div"&&(os=ls.mod.neg(),es&&os.negative!==0&&os.iadd(na)),{div:ns,mod:os}):this.negative===0&&na.negative!==0?(ls=this.divmod(na.neg(),_a),_a!=="mod"&&(ns=ls.div.neg()),{div:ns,mod:ls.mod}):this.negative&na.negative?(ls=this.neg().divmod(na.neg(),_a),_a!=="div"&&(os=ls.mod.neg(),es&&os.negative!==0&&os.isub(na)),{div:ls.div,mod:os}):na.length>this.length||this.cmp(na)<0?{div:new An(0),mod:this}:na.length===1?_a==="div"?{div:this.divn(na.words[0]),mod:null}:_a==="mod"?{div:null,mod:new An(this.modn(na.words[0]))}:{div:this.divn(na.words[0]),mod:new An(this.modn(na.words[0]))}:this._wordDiv(na,_a)},An.prototype.div=function(na){return this.divmod(na,"div",!1).div},An.prototype.mod=function(na){return this.divmod(na,"mod",!1).mod},An.prototype.umod=function(na){return this.divmod(na,"mod",!0).mod},An.prototype.divRound=function(na){var _a=this.divmod(na);if(_a.mod.isZero())return _a.div;var es=_a.div.negative!==0?_a.mod.isub(na):_a.mod,ns=na.ushrn(1),os=na.andln(1),ls=es.cmp(ns);return ls<0||os===1&&ls===0?_a.div:_a.div.negative!==0?_a.div.isubn(1):_a.div.iaddn(1)},An.prototype.modn=function(na){Cn(na<=67108863);for(var _a=(1<<26)%na,es=0,ns=this.length-1;ns>=0;ns--)es=(_a*es+(this.words[ns]|0))%na;return es},An.prototype.idivn=function(na){Cn(na<=67108863);for(var _a=0,es=this.length-1;es>=0;es--){var ns=(this.words[es]|0)+_a*67108864;this.words[es]=ns/na|0,_a=ns%na}return this.strip()},An.prototype.divn=function(na){return this.clone().idivn(na)},An.prototype.egcd=function(na){Cn(na.negative===0),Cn(!na.isZero());var _a=this,es=na.clone();_a.negative!==0?_a=_a.umod(na):_a=_a.clone();for(var ns=new An(1),os=new An(0),ls=new An(0),hs=new An(1),ss=0;_a.isEven()&&es.isEven();)_a.iushrn(1),es.iushrn(1),++ss;for(var ga=es.clone(),as=_a.clone();!_a.isZero();){for(var r0=0,a0=1;!(_a.words[0]&a0)&&r0<26;++r0,a0<<=1);if(r0>0)for(_a.iushrn(r0);r0-- >0;)(ns.isOdd()||os.isOdd())&&(ns.iadd(ga),os.isub(as)),ns.iushrn(1),os.iushrn(1);for(var l0=0,s0=1;!(es.words[0]&s0)&&l0<26;++l0,s0<<=1);if(l0>0)for(es.iushrn(l0);l0-- >0;)(ls.isOdd()||hs.isOdd())&&(ls.iadd(ga),hs.isub(as)),ls.iushrn(1),hs.iushrn(1);_a.cmp(es)>=0?(_a.isub(es),ns.isub(ls),os.isub(hs)):(es.isub(_a),ls.isub(ns),hs.isub(os))}return{a:ls,b:hs,gcd:es.iushln(ss)}},An.prototype._invmp=function(na){Cn(na.negative===0),Cn(!na.isZero());var _a=this,es=na.clone();_a.negative!==0?_a=_a.umod(na):_a=_a.clone();for(var ns=new An(1),os=new An(0),ls=es.clone();_a.cmpn(1)>0&&es.cmpn(1)>0;){for(var hs=0,ss=1;!(_a.words[0]&ss)&&hs<26;++hs,ss<<=1);if(hs>0)for(_a.iushrn(hs);hs-- >0;)ns.isOdd()&&ns.iadd(ls),ns.iushrn(1);for(var ga=0,as=1;!(es.words[0]&as)&&ga<26;++ga,as<<=1);if(ga>0)for(es.iushrn(ga);ga-- >0;)os.isOdd()&&os.iadd(ls),os.iushrn(1);_a.cmp(es)>=0?(_a.isub(es),ns.isub(os)):(es.isub(_a),os.isub(ns))}var r0;return _a.cmpn(1)===0?r0=ns:r0=os,r0.cmpn(0)<0&&r0.iadd(na),r0},An.prototype.gcd=function(na){if(this.isZero())return na.abs();if(na.isZero())return this.abs();var _a=this.clone(),es=na.clone();_a.negative=0,es.negative=0;for(var ns=0;_a.isEven()&&es.isEven();ns++)_a.iushrn(1),es.iushrn(1);do{for(;_a.isEven();)_a.iushrn(1);for(;es.isEven();)es.iushrn(1);var os=_a.cmp(es);if(os<0){var ls=_a;_a=es,es=ls}else if(os===0||es.cmpn(1)===0)break;_a.isub(es)}while(!0);return es.iushln(ns)},An.prototype.invm=function(na){return this.egcd(na).a.umod(na)},An.prototype.isEven=function(){return(this.words[0]&1)===0},An.prototype.isOdd=function(){return(this.words[0]&1)===1},An.prototype.andln=function(na){return this.words[0]&na},An.prototype.bincn=function(na){Cn(typeof na=="number");var _a=na%26,es=(na-_a)/26,ns=1<<_a;if(this.length<=es)return this._expand(es+1),this.words[es]|=ns,this;for(var os=ns,ls=es;os!==0&&ls<this.length;ls++){var hs=this.words[ls]|0;hs+=os,os=hs>>>26,hs&=67108863,this.words[ls]=hs}return os!==0&&(this.words[ls]=os,this.length++),this},An.prototype.isZero=function(){return this.length===1&&this.words[0]===0},An.prototype.cmpn=function(na){var _a=na<0;if(this.negative!==0&&!_a)return-1;if(this.negative===0&&_a)return 1;this.strip();var es;if(this.length>1)es=1;else{_a&&(na=-na),Cn(na<=67108863,"Number is too big");var ns=this.words[0]|0;es=ns===na?0:ns<na?-1:1}return this.negative!==0?-es|0:es},An.prototype.cmp=function(na){if(this.negative!==0&&na.negative===0)return-1;if(this.negative===0&&na.negative!==0)return 1;var _a=this.ucmp(na);return this.negative!==0?-_a|0:_a},An.prototype.ucmp=function(na){if(this.length>na.length)return 1;if(this.length<na.length)return-1;for(var _a=0,es=this.length-1;es>=0;es--){var ns=this.words[es]|0,os=na.words[es]|0;if(ns!==os){ns<os?_a=-1:ns>os&&(_a=1);break}}return _a},An.prototype.gtn=function(na){return this.cmpn(na)===1},An.prototype.gt=function(na){return this.cmp(na)===1},An.prototype.gten=function(na){return this.cmpn(na)>=0},An.prototype.gte=function(na){return this.cmp(na)>=0},An.prototype.ltn=function(na){return this.cmpn(na)===-1},An.prototype.lt=function(na){return this.cmp(na)===-1},An.prototype.lten=function(na){return this.cmpn(na)<=0},An.prototype.lte=function(na){return this.cmp(na)<=0},An.prototype.eqn=function(na){return this.cmpn(na)===0},An.prototype.eq=function(na){return this.cmp(na)===0},An.red=function(na){return new w0(na)},An.prototype.toRed=function(na){return Cn(!this.red,"Already a number in reduction context"),Cn(this.negative===0,"red works only with positives"),na.convertTo(this)._forceRed(na)},An.prototype.fromRed=function(){return Cn(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},An.prototype._forceRed=function(na){return this.red=na,this},An.prototype.forceRed=function(na){return Cn(!this.red,"Already a number in reduction context"),this._forceRed(na)},An.prototype.redAdd=function(na){return Cn(this.red,"redAdd works only with red numbers"),this.red.add(this,na)},An.prototype.redIAdd=function(na){return Cn(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,na)},An.prototype.redSub=function(na){return Cn(this.red,"redSub works only with red numbers"),this.red.sub(this,na)},An.prototype.redISub=function(na){return Cn(this.red,"redISub works only with red numbers"),this.red.isub(this,na)},An.prototype.redShl=function(na){return Cn(this.red,"redShl works only with red numbers"),this.red.shl(this,na)},An.prototype.redMul=function(na){return Cn(this.red,"redMul works only with red numbers"),this.red._verify2(this,na),this.red.mul(this,na)},An.prototype.redIMul=function(na){return Cn(this.red,"redMul works only with red numbers"),this.red._verify2(this,na),this.red.imul(this,na)},An.prototype.redSqr=function(){return Cn(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},An.prototype.redISqr=function(){return Cn(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},An.prototype.redSqrt=function(){return Cn(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},An.prototype.redInvm=function(){return Cn(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},An.prototype.redNeg=function(){return Cn(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},An.prototype.redPow=function(na){return Cn(this.red&&!na.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,na)};var i0={k256:null,p224:null,p192:null,p25519:null};function n0(ds,na){this.name=ds,this.p=new An(na,16),this.n=this.p.bitLength(),this.k=new An(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}n0.prototype._tmp=function(){var na=new An(null);return na.words=new Array(Math.ceil(this.n/13)),na},n0.prototype.ireduce=function(na){var _a=na,es;do this.split(_a,this.tmp),_a=this.imulK(_a),_a=_a.iadd(this.tmp),es=_a.bitLength();while(es>this.n);var ns=es<this.n?-1:_a.ucmp(this.p);return ns===0?(_a.words[0]=0,_a.length=1):ns>0?_a.isub(this.p):_a.strip!==void 0?_a.strip():_a._strip(),_a},n0.prototype.split=function(na,_a){na.iushrn(this.n,0,_a)},n0.prototype.imulK=function(na){return na.imul(this.k)};function c0(){n0.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}_i(c0,n0),c0.prototype.split=function(na,_a){for(var es=4194303,ns=Math.min(na.length,9),os=0;os<ns;os++)_a.words[os]=na.words[os];if(_a.length=ns,na.length<=9){na.words[0]=0,na.length=1;return}var ls=na.words[9];for(_a.words[_a.length++]=ls&es,os=10;os<na.length;os++){var hs=na.words[os]|0;na.words[os-10]=(hs&es)<<4|ls>>>22,ls=hs}ls>>>=22,na.words[os-10]=ls,ls===0&&na.length>10?na.length-=10:na.length-=9},c0.prototype.imulK=function(na){na.words[na.length]=0,na.words[na.length+1]=0,na.length+=2;for(var _a=0,es=0;es<na.length;es++){var ns=na.words[es]|0;_a+=ns*977,na.words[es]=_a&67108863,_a=ns*64+(_a/67108864|0)}return na.words[na.length-1]===0&&(na.length--,na.words[na.length-1]===0&&na.length--),na};function d0(){n0.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}_i(d0,n0);function o0(){n0.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}_i(o0,n0);function g0(){n0.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}_i(g0,n0),g0.prototype.imulK=function(na){for(var _a=0,es=0;es<na.length;es++){var ns=(na.words[es]|0)*19+_a,os=ns&67108863;ns>>>=26,na.words[es]=os,_a=ns}return _a!==0&&(na.words[na.length++]=_a),na},An._prime=function(na){if(i0[na])return i0[na];var _a;if(na==="k256")_a=new c0;else if(na==="p224")_a=new d0;else if(na==="p192")_a=new o0;else if(na==="p25519")_a=new g0;else throw new Error("Unknown prime "+na);return i0[na]=_a,_a};function w0(ds){if(typeof ds=="string"){var na=An._prime(ds);this.m=na.p,this.prime=na}else Cn(ds.gtn(1),"modulus must be greater than 1"),this.m=ds,this.prime=null}w0.prototype._verify1=function(na){Cn(na.negative===0,"red works only with positives"),Cn(na.red,"red works only with red numbers")},w0.prototype._verify2=function(na,_a){Cn((na.negative|_a.negative)===0,"red works only with positives"),Cn(na.red&&na.red===_a.red,"red works only with red numbers")},w0.prototype.imod=function(na){return this.prime?this.prime.ireduce(na)._forceRed(this):na.umod(this.m)._forceRed(this)},w0.prototype.neg=function(na){return na.isZero()?na.clone():this.m.sub(na)._forceRed(this)},w0.prototype.add=function(na,_a){this._verify2(na,_a);var es=na.add(_a);return es.cmp(this.m)>=0&&es.isub(this.m),es._forceRed(this)},w0.prototype.iadd=function(na,_a){this._verify2(na,_a);var es=na.iadd(_a);return es.cmp(this.m)>=0&&es.isub(this.m),es},w0.prototype.sub=function(na,_a){this._verify2(na,_a);var es=na.sub(_a);return es.cmpn(0)<0&&es.iadd(this.m),es._forceRed(this)},w0.prototype.isub=function(na,_a){this._verify2(na,_a);var es=na.isub(_a);return es.cmpn(0)<0&&es.iadd(this.m),es},w0.prototype.shl=function(na,_a){return this._verify1(na),this.imod(na.ushln(_a))},w0.prototype.imul=function(na,_a){return this._verify2(na,_a),this.imod(na.imul(_a))},w0.prototype.mul=function(na,_a){return this._verify2(na,_a),this.imod(na.mul(_a))},w0.prototype.isqr=function(na){return this.imul(na,na.clone())},w0.prototype.sqr=function(na){return this.mul(na,na)},w0.prototype.sqrt=function(na){if(na.isZero())return na.clone();var _a=this.m.andln(3);if(Cn(_a%2===1),_a===3){var es=this.m.add(new An(1)).iushrn(2);return this.pow(na,es)}for(var ns=this.m.subn(1),os=0;!ns.isZero()&&ns.andln(1)===0;)os++,ns.iushrn(1);Cn(!ns.isZero());var ls=new An(1).toRed(this),hs=ls.redNeg(),ss=this.m.subn(1).iushrn(1),ga=this.m.bitLength();for(ga=new An(2*ga*ga).toRed(this);this.pow(ga,ss).cmp(hs)!==0;)ga.redIAdd(hs);for(var as=this.pow(ga,ns),r0=this.pow(na,ns.addn(1).iushrn(1)),a0=this.pow(na,ns),l0=os;a0.cmp(ls)!==0;){for(var s0=a0,b0=0;s0.cmp(ls)!==0;b0++)s0=s0.redSqr();Cn(b0<l0);var f0=this.pow(as,new An(1).iushln(l0-b0-1));r0=r0.redMul(f0),as=f0.redSqr(),a0=a0.redMul(as),l0=b0}return r0},w0.prototype.invm=function(na){var _a=na._invmp(this.m);return _a.negative!==0?(_a.negative=0,this.imod(_a).redNeg()):this.imod(_a)},w0.prototype.pow=function(na,_a){if(_a.isZero())return new An(1).toRed(this);if(_a.cmpn(1)===0)return na.clone();var es=4,ns=new Array(1<<es);ns[0]=new An(1).toRed(this),ns[1]=na;for(var os=2;os<ns.length;os++)ns[os]=this.mul(ns[os-1],na);var ls=ns[0],hs=0,ss=0,ga=_a.bitLength()%26;for(ga===0&&(ga=26),os=_a.length-1;os>=0;os--){for(var as=_a.words[os],r0=ga-1;r0>=0;r0--){var a0=as>>r0&1;if(ls!==ns[0]&&(ls=this.sqr(ls)),a0===0&&hs===0){ss=0;continue}hs<<=1,hs|=a0,ss++,!(ss!==es&&(os!==0||r0!==0))&&(ls=this.mul(ls,ns[hs]),ss=0,hs=0)}ga=26}return ls},w0.prototype.convertTo=function(na){var _a=na.umod(this.m);return _a===na?_a.clone():_a},w0.prototype.convertFrom=function(na){var _a=na.clone();return _a.red=null,_a},An.mont=function(na){return new M0(na)};function M0(ds){w0.call(this,ds),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new An(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_i(M0,w0),M0.prototype.convertTo=function(na){return this.imod(na.ushln(this.shift))},M0.prototype.convertFrom=function(na){var _a=this.imod(na.mul(this.rinv));return _a.red=null,_a},M0.prototype.imul=function(na,_a){if(na.isZero()||_a.isZero())return na.words[0]=0,na.length=1,na;var es=na.imul(_a),ns=es.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),os=es.isub(ns).iushrn(this.shift),ls=os;return os.cmp(this.m)>=0?ls=os.isub(this.m):os.cmpn(0)<0&&(ls=os.iadd(this.m)),ls._forceRed(this)},M0.prototype.mul=function(na,_a){if(na.isZero()||_a.isZero())return new An(0)._forceRed(this);var es=na.mul(_a),ns=es.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),os=es.isub(ns).iushrn(this.shift),ls=os;return os.cmp(this.m)>=0?ls=os.isub(this.m):os.cmpn(0)<0&&(ls=os.iadd(this.m)),ls._forceRed(this)},M0.prototype.invm=function(na){var _a=this.imod(na._invmp(this.m).mul(this.r2));return _a._forceRed(this)}})(vn,commonjsGlobal)}(bn$8)),bn$8.exports}var utils$p={};(function(vn){var fn=vn;function En(An,ba){if(Array.isArray(An))return An.slice();if(!An)return[];var xa=[];if(typeof An!="string"){for(var $a=0;$a<An.length;$a++)xa[$a]=An[$a]|0;return xa}if(ba==="hex"){An=An.replace(/[^a-z0-9]+/ig,""),An.length%2!==0&&(An="0"+An);for(var $a=0;$a<An.length;$a+=2)xa.push(parseInt(An[$a]+An[$a+1],16))}else for(var $a=0;$a<An.length;$a++){var rs=An.charCodeAt($a),ts=rs>>8,is=rs&255;ts?xa.push(ts,is):xa.push(is)}return xa}fn.toArray=En;function Cn(An){return An.length===1?"0"+An:An}fn.zero2=Cn;function _i(An){for(var ba="",xa=0;xa<An.length;xa++)ba+=Cn(An[xa].toString(16));return ba}fn.toHex=_i,fn.encode=function(ba,xa){return xa==="hex"?_i(ba):ba}})(utils$p);var hasRequiredUtils;function requireUtils(){return hasRequiredUtils||(hasRequiredUtils=1,function(vn){var fn=vn,En=requireBn$3(),Cn=minimalisticAssert$1,_i=utils$p;fn.assert=Cn,fn.toArray=_i.toArray,fn.zero2=_i.zero2,fn.toHex=_i.toHex,fn.encode=_i.encode;function An(ts,is,cs){var us=new Array(Math.max(ts.bitLength(),cs)+1),ps;for(ps=0;ps<us.length;ps+=1)us[ps]=0;var bs=1<<is+1,e0=ts.clone();for(ps=0;ps<us.length;ps++){var gs,Ds=e0.andln(bs-1);e0.isOdd()?(Ds>(bs>>1)-1?gs=(bs>>1)-Ds:gs=Ds,e0.isubn(gs)):gs=0,us[ps]=gs,e0.iushrn(1)}return us}fn.getNAF=An;function ba(ts,is){var cs=[[],[]];ts=ts.clone(),is=is.clone();for(var us=0,ps=0,bs;ts.cmpn(-us)>0||is.cmpn(-ps)>0;){var e0=ts.andln(3)+us&3,gs=is.andln(3)+ps&3;e0===3&&(e0=-1),gs===3&&(gs=-1);var Ds;e0&1?(bs=ts.andln(7)+us&7,(bs===3||bs===5)&&gs===2?Ds=-e0:Ds=e0):Ds=0,cs[0].push(Ds);var i0;gs&1?(bs=is.andln(7)+ps&7,(bs===3||bs===5)&&e0===2?i0=-gs:i0=gs):i0=0,cs[1].push(i0),2*us===Ds+1&&(us=1-us),2*ps===i0+1&&(ps=1-ps),ts.iushrn(1),is.iushrn(1)}return cs}fn.getJSF=ba;function xa(ts,is,cs){var us="_"+is;ts.prototype[is]=function(){return this[us]!==void 0?this[us]:this[us]=cs.call(this)}}fn.cachedProperty=xa;function $a(ts){return typeof ts=="string"?fn.toArray(ts,"hex"):ts}fn.parseBytes=$a;function rs(ts){return new En(ts,"hex","le")}fn.intFromLE=rs}(utils$q)),utils$q}var curve$2={},base$3,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$3;hasRequiredBase$1=1;var vn=requireBn$3(),fn=requireUtils(),En=fn.getNAF,Cn=fn.getJSF,_i=fn.assert;function An(xa,$a){this.type=xa,this.p=new vn($a.p,16),this.red=$a.prime?vn.red($a.prime):vn.mont(this.p),this.zero=new vn(0).toRed(this.red),this.one=new vn(1).toRed(this.red),this.two=new vn(2).toRed(this.red),this.n=$a.n&&new vn($a.n,16),this.g=$a.g&&this.pointFromJSON($a.g,$a.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var rs=this.n&&this.p.div(this.n);!rs||rs.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$3=An,An.prototype.point=function(){throw new Error("Not implemented")},An.prototype.validate=function(){throw new Error("Not implemented")},An.prototype._fixedNafMul=function($a,rs){_i($a.precomputed);var ts=$a._getDoubles(),is=En(rs,1,this._bitLength),cs=(1<<ts.step+1)-(ts.step%2===0?2:1);cs/=3;var us=[],ps,bs;for(ps=0;ps<is.length;ps+=ts.step){bs=0;for(var e0=ps+ts.step-1;e0>=ps;e0--)bs=(bs<<1)+is[e0];us.push(bs)}for(var gs=this.jpoint(null,null,null),Ds=this.jpoint(null,null,null),i0=cs;i0>0;i0--){for(ps=0;ps<us.length;ps++)bs=us[ps],bs===i0?Ds=Ds.mixedAdd(ts.points[ps]):bs===-i0&&(Ds=Ds.mixedAdd(ts.points[ps].neg()));gs=gs.add(Ds)}return gs.toP()},An.prototype._wnafMul=function($a,rs){var ts=4,is=$a._getNAFPoints(ts);ts=is.wnd;for(var cs=is.points,us=En(rs,ts,this._bitLength),ps=this.jpoint(null,null,null),bs=us.length-1;bs>=0;bs--){for(var e0=0;bs>=0&&us[bs]===0;bs--)e0++;if(bs>=0&&e0++,ps=ps.dblp(e0),bs<0)break;var gs=us[bs];_i(gs!==0),$a.type==="affine"?gs>0?ps=ps.mixedAdd(cs[gs-1>>1]):ps=ps.mixedAdd(cs[-gs-1>>1].neg()):gs>0?ps=ps.add(cs[gs-1>>1]):ps=ps.add(cs[-gs-1>>1].neg())}return $a.type==="affine"?ps.toP():ps},An.prototype._wnafMulAdd=function($a,rs,ts,is,cs){var us=this._wnafT1,ps=this._wnafT2,bs=this._wnafT3,e0=0,gs,Ds,i0;for(gs=0;gs<is;gs++){i0=rs[gs];var n0=i0._getNAFPoints($a);us[gs]=n0.wnd,ps[gs]=n0.points}for(gs=is-1;gs>=1;gs-=2){var c0=gs-1,d0=gs;if(us[c0]!==1||us[d0]!==1){bs[c0]=En(ts[c0],us[c0],this._bitLength),bs[d0]=En(ts[d0],us[d0],this._bitLength),e0=Math.max(bs[c0].length,e0),e0=Math.max(bs[d0].length,e0);continue}var o0=[rs[c0],null,null,rs[d0]];rs[c0].y.cmp(rs[d0].y)===0?(o0[1]=rs[c0].add(rs[d0]),o0[2]=rs[c0].toJ().mixedAdd(rs[d0].neg())):rs[c0].y.cmp(rs[d0].y.redNeg())===0?(o0[1]=rs[c0].toJ().mixedAdd(rs[d0]),o0[2]=rs[c0].add(rs[d0].neg())):(o0[1]=rs[c0].toJ().mixedAdd(rs[d0]),o0[2]=rs[c0].toJ().mixedAdd(rs[d0].neg()));var g0=[-3,-1,-5,-7,0,7,5,1,3],w0=Cn(ts[c0],ts[d0]);for(e0=Math.max(w0[0].length,e0),bs[c0]=new Array(e0),bs[d0]=new Array(e0),Ds=0;Ds<e0;Ds++){var M0=w0[0][Ds]|0,ds=w0[1][Ds]|0;bs[c0][Ds]=g0[(M0+1)*3+(ds+1)],bs[d0][Ds]=0,ps[c0]=o0}}var na=this.jpoint(null,null,null),_a=this._wnafT4;for(gs=e0;gs>=0;gs--){for(var es=0;gs>=0;){var ns=!0;for(Ds=0;Ds<is;Ds++)_a[Ds]=bs[Ds][gs]|0,_a[Ds]!==0&&(ns=!1);if(!ns)break;es++,gs--}if(gs>=0&&es++,na=na.dblp(es),gs<0)break;for(Ds=0;Ds<is;Ds++){var os=_a[Ds];os!==0&&(os>0?i0=ps[Ds][os-1>>1]:os<0&&(i0=ps[Ds][-os-1>>1].neg()),i0.type==="affine"?na=na.mixedAdd(i0):na=na.add(i0))}}for(gs=0;gs<is;gs++)ps[gs]=null;return cs?na:na.toP()};function ba(xa,$a){this.curve=xa,this.type=$a,this.precomputed=null}return An.BasePoint=ba,ba.prototype.eq=function(){throw new Error("Not implemented")},ba.prototype.validate=function(){return this.curve.validate(this)},An.prototype.decodePoint=function($a,rs){$a=fn.toArray($a,rs);var ts=this.p.byteLength();if(($a[0]===4||$a[0]===6||$a[0]===7)&&$a.length-1===2*ts){$a[0]===6?_i($a[$a.length-1]%2===0):$a[0]===7&&_i($a[$a.length-1]%2===1);var is=this.point($a.slice(1,1+ts),$a.slice(1+ts,1+2*ts));return is}else if(($a[0]===2||$a[0]===3)&&$a.length-1===ts)return this.pointFromX($a.slice(1,1+ts),$a[0]===3);throw new Error("Unknown point format")},ba.prototype.encodeCompressed=function($a){return this.encode($a,!0)},ba.prototype._encode=function($a){var rs=this.curve.p.byteLength(),ts=this.getX().toArray("be",rs);return $a?[this.getY().isEven()?2:3].concat(ts):[4].concat(ts,this.getY().toArray("be",rs))},ba.prototype.encode=function($a,rs){return fn.encode(this._encode(rs),$a)},ba.prototype.precompute=function($a){if(this.precomputed)return this;var rs={doubles:null,naf:null,beta:null};return rs.naf=this._getNAFPoints(8),rs.doubles=this._getDoubles(4,$a),rs.beta=this._getBeta(),this.precomputed=rs,this},ba.prototype._hasDoubles=function($a){if(!this.precomputed)return!1;var rs=this.precomputed.doubles;return rs?rs.points.length>=Math.ceil(($a.bitLength()+1)/rs.step):!1},ba.prototype._getDoubles=function($a,rs){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var ts=[this],is=this,cs=0;cs<rs;cs+=$a){for(var us=0;us<$a;us++)is=is.dbl();ts.push(is)}return{step:$a,points:ts}},ba.prototype._getNAFPoints=function($a){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var rs=[this],ts=(1<<$a)-1,is=ts===1?null:this.dbl(),cs=1;cs<ts;cs++)rs[cs]=rs[cs-1].add(is);return{wnd:$a,points:rs}},ba.prototype._getBeta=function(){return null},ba.prototype.dblp=function($a){for(var rs=this,ts=0;ts<$a;ts++)rs=rs.dbl();return rs},base$3}var short$2,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short$2;hasRequiredShort=1;var vn=requireUtils(),fn=requireBn$3(),En=inherits_browserExports,Cn=requireBase$1(),_i=vn.assert;function An($a){Cn.call(this,"short",$a),this.a=new fn($a.a,16).toRed(this.red),this.b=new fn($a.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism($a),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}En(An,Cn),short$2=An,An.prototype._getEndomorphism=function(rs){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var ts,is;if(rs.beta)ts=new fn(rs.beta,16).toRed(this.red);else{var cs=this._getEndoRoots(this.p);ts=cs[0].cmp(cs[1])<0?cs[0]:cs[1],ts=ts.toRed(this.red)}if(rs.lambda)is=new fn(rs.lambda,16);else{var us=this._getEndoRoots(this.n);this.g.mul(us[0]).x.cmp(this.g.x.redMul(ts))===0?is=us[0]:(is=us[1],_i(this.g.mul(is).x.cmp(this.g.x.redMul(ts))===0))}var ps;return rs.basis?ps=rs.basis.map(function(bs){return{a:new fn(bs.a,16),b:new fn(bs.b,16)}}):ps=this._getEndoBasis(is),{beta:ts,lambda:is,basis:ps}}},An.prototype._getEndoRoots=function(rs){var ts=rs===this.p?this.red:fn.mont(rs),is=new fn(2).toRed(ts).redInvm(),cs=is.redNeg(),us=new fn(3).toRed(ts).redNeg().redSqrt().redMul(is),ps=cs.redAdd(us).fromRed(),bs=cs.redSub(us).fromRed();return[ps,bs]},An.prototype._getEndoBasis=function(rs){for(var ts=this.n.ushrn(Math.floor(this.n.bitLength()/2)),is=rs,cs=this.n.clone(),us=new fn(1),ps=new fn(0),bs=new fn(0),e0=new fn(1),gs,Ds,i0,n0,c0,d0,o0,g0=0,w0,M0;is.cmpn(0)!==0;){var ds=cs.div(is);w0=cs.sub(ds.mul(is)),M0=bs.sub(ds.mul(us));var na=e0.sub(ds.mul(ps));if(!i0&&w0.cmp(ts)<0)gs=o0.neg(),Ds=us,i0=w0.neg(),n0=M0;else if(i0&&++g0===2)break;o0=w0,cs=is,is=w0,bs=us,us=M0,e0=ps,ps=na}c0=w0.neg(),d0=M0;var _a=i0.sqr().add(n0.sqr()),es=c0.sqr().add(d0.sqr());return es.cmp(_a)>=0&&(c0=gs,d0=Ds),i0.negative&&(i0=i0.neg(),n0=n0.neg()),c0.negative&&(c0=c0.neg(),d0=d0.neg()),[{a:i0,b:n0},{a:c0,b:d0}]},An.prototype._endoSplit=function(rs){var ts=this.endo.basis,is=ts[0],cs=ts[1],us=cs.b.mul(rs).divRound(this.n),ps=is.b.neg().mul(rs).divRound(this.n),bs=us.mul(is.a),e0=ps.mul(cs.a),gs=us.mul(is.b),Ds=ps.mul(cs.b),i0=rs.sub(bs).sub(e0),n0=gs.add(Ds).neg();return{k1:i0,k2:n0}},An.prototype.pointFromX=function(rs,ts){rs=new fn(rs,16),rs.red||(rs=rs.toRed(this.red));var is=rs.redSqr().redMul(rs).redIAdd(rs.redMul(this.a)).redIAdd(this.b),cs=is.redSqrt();if(cs.redSqr().redSub(is).cmp(this.zero)!==0)throw new Error("invalid point");var us=cs.fromRed().isOdd();return(ts&&!us||!ts&&us)&&(cs=cs.redNeg()),this.point(rs,cs)},An.prototype.validate=function(rs){if(rs.inf)return!0;var ts=rs.x,is=rs.y,cs=this.a.redMul(ts),us=ts.redSqr().redMul(ts).redIAdd(cs).redIAdd(this.b);return is.redSqr().redISub(us).cmpn(0)===0},An.prototype._endoWnafMulAdd=function(rs,ts,is){for(var cs=this._endoWnafT1,us=this._endoWnafT2,ps=0;ps<rs.length;ps++){var bs=this._endoSplit(ts[ps]),e0=rs[ps],gs=e0._getBeta();bs.k1.negative&&(bs.k1.ineg(),e0=e0.neg(!0)),bs.k2.negative&&(bs.k2.ineg(),gs=gs.neg(!0)),cs[ps*2]=e0,cs[ps*2+1]=gs,us[ps*2]=bs.k1,us[ps*2+1]=bs.k2}for(var Ds=this._wnafMulAdd(1,cs,us,ps*2,is),i0=0;i0<ps*2;i0++)cs[i0]=null,us[i0]=null;return Ds};function ba($a,rs,ts,is){Cn.BasePoint.call(this,$a,"affine"),rs===null&&ts===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new fn(rs,16),this.y=new fn(ts,16),is&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}En(ba,Cn.BasePoint),An.prototype.point=function(rs,ts,is){return new ba(this,rs,ts,is)},An.prototype.pointFromJSON=function(rs,ts){return ba.fromJSON(this,rs,ts)},ba.prototype._getBeta=function(){if(this.curve.endo){var rs=this.precomputed;if(rs&&rs.beta)return rs.beta;var ts=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(rs){var is=this.curve,cs=function(us){return is.point(us.x.redMul(is.endo.beta),us.y)};rs.beta=ts,ts.precomputed={beta:null,naf:rs.naf&&{wnd:rs.naf.wnd,points:rs.naf.points.map(cs)},doubles:rs.doubles&&{step:rs.doubles.step,points:rs.doubles.points.map(cs)}}}return ts}},ba.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},ba.fromJSON=function(rs,ts,is){typeof ts=="string"&&(ts=JSON.parse(ts));var cs=rs.point(ts[0],ts[1],is);if(!ts[2])return cs;function us(bs){return rs.point(bs[0],bs[1],is)}var ps=ts[2];return cs.precomputed={beta:null,doubles:ps.doubles&&{step:ps.doubles.step,points:[cs].concat(ps.doubles.points.map(us))},naf:ps.naf&&{wnd:ps.naf.wnd,points:[cs].concat(ps.naf.points.map(us))}},cs},ba.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},ba.prototype.isInfinity=function(){return this.inf},ba.prototype.add=function(rs){if(this.inf)return rs;if(rs.inf)return this;if(this.eq(rs))return this.dbl();if(this.neg().eq(rs))return this.curve.point(null,null);if(this.x.cmp(rs.x)===0)return this.curve.point(null,null);var ts=this.y.redSub(rs.y);ts.cmpn(0)!==0&&(ts=ts.redMul(this.x.redSub(rs.x).redInvm()));var is=ts.redSqr().redISub(this.x).redISub(rs.x),cs=ts.redMul(this.x.redSub(is)).redISub(this.y);return this.curve.point(is,cs)},ba.prototype.dbl=function(){if(this.inf)return this;var rs=this.y.redAdd(this.y);if(rs.cmpn(0)===0)return this.curve.point(null,null);var ts=this.curve.a,is=this.x.redSqr(),cs=rs.redInvm(),us=is.redAdd(is).redIAdd(is).redIAdd(ts).redMul(cs),ps=us.redSqr().redISub(this.x.redAdd(this.x)),bs=us.redMul(this.x.redSub(ps)).redISub(this.y);return this.curve.point(ps,bs)},ba.prototype.getX=function(){return this.x.fromRed()},ba.prototype.getY=function(){return this.y.fromRed()},ba.prototype.mul=function(rs){return rs=new fn(rs,16),this.isInfinity()?this:this._hasDoubles(rs)?this.curve._fixedNafMul(this,rs):this.curve.endo?this.curve._endoWnafMulAdd([this],[rs]):this.curve._wnafMul(this,rs)},ba.prototype.mulAdd=function(rs,ts,is){var cs=[this,ts],us=[rs,is];return this.curve.endo?this.curve._endoWnafMulAdd(cs,us):this.curve._wnafMulAdd(1,cs,us,2)},ba.prototype.jmulAdd=function(rs,ts,is){var cs=[this,ts],us=[rs,is];return this.curve.endo?this.curve._endoWnafMulAdd(cs,us,!0):this.curve._wnafMulAdd(1,cs,us,2,!0)},ba.prototype.eq=function(rs){return this===rs||this.inf===rs.inf&&(this.inf||this.x.cmp(rs.x)===0&&this.y.cmp(rs.y)===0)},ba.prototype.neg=function(rs){if(this.inf)return this;var ts=this.curve.point(this.x,this.y.redNeg());if(rs&&this.precomputed){var is=this.precomputed,cs=function(us){return us.neg()};ts.precomputed={naf:is.naf&&{wnd:is.naf.wnd,points:is.naf.points.map(cs)},doubles:is.doubles&&{step:is.doubles.step,points:is.doubles.points.map(cs)}}}return ts},ba.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var rs=this.curve.jpoint(this.x,this.y,this.curve.one);return rs};function xa($a,rs,ts,is){Cn.BasePoint.call(this,$a,"jacobian"),rs===null&&ts===null&&is===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new fn(0)):(this.x=new fn(rs,16),this.y=new fn(ts,16),this.z=new fn(is,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return En(xa,Cn.BasePoint),An.prototype.jpoint=function(rs,ts,is){return new xa(this,rs,ts,is)},xa.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var rs=this.z.redInvm(),ts=rs.redSqr(),is=this.x.redMul(ts),cs=this.y.redMul(ts).redMul(rs);return this.curve.point(is,cs)},xa.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},xa.prototype.add=function(rs){if(this.isInfinity())return rs;if(rs.isInfinity())return this;var ts=rs.z.redSqr(),is=this.z.redSqr(),cs=this.x.redMul(ts),us=rs.x.redMul(is),ps=this.y.redMul(ts.redMul(rs.z)),bs=rs.y.redMul(is.redMul(this.z)),e0=cs.redSub(us),gs=ps.redSub(bs);if(e0.cmpn(0)===0)return gs.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Ds=e0.redSqr(),i0=Ds.redMul(e0),n0=cs.redMul(Ds),c0=gs.redSqr().redIAdd(i0).redISub(n0).redISub(n0),d0=gs.redMul(n0.redISub(c0)).redISub(ps.redMul(i0)),o0=this.z.redMul(rs.z).redMul(e0);return this.curve.jpoint(c0,d0,o0)},xa.prototype.mixedAdd=function(rs){if(this.isInfinity())return rs.toJ();if(rs.isInfinity())return this;var ts=this.z.redSqr(),is=this.x,cs=rs.x.redMul(ts),us=this.y,ps=rs.y.redMul(ts).redMul(this.z),bs=is.redSub(cs),e0=us.redSub(ps);if(bs.cmpn(0)===0)return e0.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var gs=bs.redSqr(),Ds=gs.redMul(bs),i0=is.redMul(gs),n0=e0.redSqr().redIAdd(Ds).redISub(i0).redISub(i0),c0=e0.redMul(i0.redISub(n0)).redISub(us.redMul(Ds)),d0=this.z.redMul(bs);return this.curve.jpoint(n0,c0,d0)},xa.prototype.dblp=function(rs){if(rs===0)return this;if(this.isInfinity())return this;if(!rs)return this.dbl();var ts;if(this.curve.zeroA||this.curve.threeA){var is=this;for(ts=0;ts<rs;ts++)is=is.dbl();return is}var cs=this.curve.a,us=this.curve.tinv,ps=this.x,bs=this.y,e0=this.z,gs=e0.redSqr().redSqr(),Ds=bs.redAdd(bs);for(ts=0;ts<rs;ts++){var i0=ps.redSqr(),n0=Ds.redSqr(),c0=n0.redSqr(),d0=i0.redAdd(i0).redIAdd(i0).redIAdd(cs.redMul(gs)),o0=ps.redMul(n0),g0=d0.redSqr().redISub(o0.redAdd(o0)),w0=o0.redISub(g0),M0=d0.redMul(w0);M0=M0.redIAdd(M0).redISub(c0);var ds=Ds.redMul(e0);ts+1<rs&&(gs=gs.redMul(c0)),ps=g0,e0=ds,Ds=M0}return this.curve.jpoint(ps,Ds.redMul(us),e0)},xa.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},xa.prototype._zeroDbl=function(){var rs,ts,is;if(this.zOne){var cs=this.x.redSqr(),us=this.y.redSqr(),ps=us.redSqr(),bs=this.x.redAdd(us).redSqr().redISub(cs).redISub(ps);bs=bs.redIAdd(bs);var e0=cs.redAdd(cs).redIAdd(cs),gs=e0.redSqr().redISub(bs).redISub(bs),Ds=ps.redIAdd(ps);Ds=Ds.redIAdd(Ds),Ds=Ds.redIAdd(Ds),rs=gs,ts=e0.redMul(bs.redISub(gs)).redISub(Ds),is=this.y.redAdd(this.y)}else{var i0=this.x.redSqr(),n0=this.y.redSqr(),c0=n0.redSqr(),d0=this.x.redAdd(n0).redSqr().redISub(i0).redISub(c0);d0=d0.redIAdd(d0);var o0=i0.redAdd(i0).redIAdd(i0),g0=o0.redSqr(),w0=c0.redIAdd(c0);w0=w0.redIAdd(w0),w0=w0.redIAdd(w0),rs=g0.redISub(d0).redISub(d0),ts=o0.redMul(d0.redISub(rs)).redISub(w0),is=this.y.redMul(this.z),is=is.redIAdd(is)}return this.curve.jpoint(rs,ts,is)},xa.prototype._threeDbl=function(){var rs,ts,is;if(this.zOne){var cs=this.x.redSqr(),us=this.y.redSqr(),ps=us.redSqr(),bs=this.x.redAdd(us).redSqr().redISub(cs).redISub(ps);bs=bs.redIAdd(bs);var e0=cs.redAdd(cs).redIAdd(cs).redIAdd(this.curve.a),gs=e0.redSqr().redISub(bs).redISub(bs);rs=gs;var Ds=ps.redIAdd(ps);Ds=Ds.redIAdd(Ds),Ds=Ds.redIAdd(Ds),ts=e0.redMul(bs.redISub(gs)).redISub(Ds),is=this.y.redAdd(this.y)}else{var i0=this.z.redSqr(),n0=this.y.redSqr(),c0=this.x.redMul(n0),d0=this.x.redSub(i0).redMul(this.x.redAdd(i0));d0=d0.redAdd(d0).redIAdd(d0);var o0=c0.redIAdd(c0);o0=o0.redIAdd(o0);var g0=o0.redAdd(o0);rs=d0.redSqr().redISub(g0),is=this.y.redAdd(this.z).redSqr().redISub(n0).redISub(i0);var w0=n0.redSqr();w0=w0.redIAdd(w0),w0=w0.redIAdd(w0),w0=w0.redIAdd(w0),ts=d0.redMul(o0.redISub(rs)).redISub(w0)}return this.curve.jpoint(rs,ts,is)},xa.prototype._dbl=function(){var rs=this.curve.a,ts=this.x,is=this.y,cs=this.z,us=cs.redSqr().redSqr(),ps=ts.redSqr(),bs=is.redSqr(),e0=ps.redAdd(ps).redIAdd(ps).redIAdd(rs.redMul(us)),gs=ts.redAdd(ts);gs=gs.redIAdd(gs);var Ds=gs.redMul(bs),i0=e0.redSqr().redISub(Ds.redAdd(Ds)),n0=Ds.redISub(i0),c0=bs.redSqr();c0=c0.redIAdd(c0),c0=c0.redIAdd(c0),c0=c0.redIAdd(c0);var d0=e0.redMul(n0).redISub(c0),o0=is.redAdd(is).redMul(cs);return this.curve.jpoint(i0,d0,o0)},xa.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var rs=this.x.redSqr(),ts=this.y.redSqr(),is=this.z.redSqr(),cs=ts.redSqr(),us=rs.redAdd(rs).redIAdd(rs),ps=us.redSqr(),bs=this.x.redAdd(ts).redSqr().redISub(rs).redISub(cs);bs=bs.redIAdd(bs),bs=bs.redAdd(bs).redIAdd(bs),bs=bs.redISub(ps);var e0=bs.redSqr(),gs=cs.redIAdd(cs);gs=gs.redIAdd(gs),gs=gs.redIAdd(gs),gs=gs.redIAdd(gs);var Ds=us.redIAdd(bs).redSqr().redISub(ps).redISub(e0).redISub(gs),i0=ts.redMul(Ds);i0=i0.redIAdd(i0),i0=i0.redIAdd(i0);var n0=this.x.redMul(e0).redISub(i0);n0=n0.redIAdd(n0),n0=n0.redIAdd(n0);var c0=this.y.redMul(Ds.redMul(gs.redISub(Ds)).redISub(bs.redMul(e0)));c0=c0.redIAdd(c0),c0=c0.redIAdd(c0),c0=c0.redIAdd(c0);var d0=this.z.redAdd(bs).redSqr().redISub(is).redISub(e0);return this.curve.jpoint(n0,c0,d0)},xa.prototype.mul=function(rs,ts){return rs=new fn(rs,ts),this.curve._wnafMul(this,rs)},xa.prototype.eq=function(rs){if(rs.type==="affine")return this.eq(rs.toJ());if(this===rs)return!0;var ts=this.z.redSqr(),is=rs.z.redSqr();if(this.x.redMul(is).redISub(rs.x.redMul(ts)).cmpn(0)!==0)return!1;var cs=ts.redMul(this.z),us=is.redMul(rs.z);return this.y.redMul(us).redISub(rs.y.redMul(cs)).cmpn(0)===0},xa.prototype.eqXToP=function(rs){var ts=this.z.redSqr(),is=rs.toRed(this.curve.red).redMul(ts);if(this.x.cmp(is)===0)return!0;for(var cs=rs.clone(),us=this.curve.redN.redMul(ts);;){if(cs.iadd(this.curve.n),cs.cmp(this.curve.p)>=0)return!1;if(is.redIAdd(us),this.x.cmp(is)===0)return!0}},xa.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},xa.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short$2}var mont$2,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont$2;hasRequiredMont=1;var vn=requireBn$3(),fn=inherits_browserExports,En=requireBase$1(),Cn=requireUtils();function _i(ba){En.call(this,"mont",ba),this.a=new vn(ba.a,16).toRed(this.red),this.b=new vn(ba.b,16).toRed(this.red),this.i4=new vn(4).toRed(this.red).redInvm(),this.two=new vn(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}fn(_i,En),mont$2=_i,_i.prototype.validate=function(xa){var $a=xa.normalize().x,rs=$a.redSqr(),ts=rs.redMul($a).redAdd(rs.redMul(this.a)).redAdd($a),is=ts.redSqrt();return is.redSqr().cmp(ts)===0};function An(ba,xa,$a){En.BasePoint.call(this,ba,"projective"),xa===null&&$a===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new vn(xa,16),this.z=new vn($a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return fn(An,En.BasePoint),_i.prototype.decodePoint=function(xa,$a){return this.point(Cn.toArray(xa,$a),1)},_i.prototype.point=function(xa,$a){return new An(this,xa,$a)},_i.prototype.pointFromJSON=function(xa){return An.fromJSON(this,xa)},An.prototype.precompute=function(){},An.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},An.fromJSON=function(xa,$a){return new An(xa,$a[0],$a[1]||xa.one)},An.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},An.prototype.isInfinity=function(){return this.z.cmpn(0)===0},An.prototype.dbl=function(){var xa=this.x.redAdd(this.z),$a=xa.redSqr(),rs=this.x.redSub(this.z),ts=rs.redSqr(),is=$a.redSub(ts),cs=$a.redMul(ts),us=is.redMul(ts.redAdd(this.curve.a24.redMul(is)));return this.curve.point(cs,us)},An.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},An.prototype.diffAdd=function(xa,$a){var rs=this.x.redAdd(this.z),ts=this.x.redSub(this.z),is=xa.x.redAdd(xa.z),cs=xa.x.redSub(xa.z),us=cs.redMul(rs),ps=is.redMul(ts),bs=$a.z.redMul(us.redAdd(ps).redSqr()),e0=$a.x.redMul(us.redISub(ps).redSqr());return this.curve.point(bs,e0)},An.prototype.mul=function(xa){for(var $a=xa.clone(),rs=this,ts=this.curve.point(null,null),is=this,cs=[];$a.cmpn(0)!==0;$a.iushrn(1))cs.push($a.andln(1));for(var us=cs.length-1;us>=0;us--)cs[us]===0?(rs=rs.diffAdd(ts,is),ts=ts.dbl()):(ts=rs.diffAdd(ts,is),rs=rs.dbl());return ts},An.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},An.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},An.prototype.eq=function(xa){return this.getX().cmp(xa.getX())===0},An.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},An.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont$2}var edwards$2,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards$2;hasRequiredEdwards=1;var vn=requireUtils(),fn=requireBn$3(),En=inherits_browserExports,Cn=requireBase$1(),_i=vn.assert;function An(xa){this.twisted=(xa.a|0)!==1,this.mOneA=this.twisted&&(xa.a|0)===-1,this.extended=this.mOneA,Cn.call(this,"edwards",xa),this.a=new fn(xa.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new fn(xa.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new fn(xa.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),_i(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(xa.c|0)===1}En(An,Cn),edwards$2=An,An.prototype._mulA=function($a){return this.mOneA?$a.redNeg():this.a.redMul($a)},An.prototype._mulC=function($a){return this.oneC?$a:this.c.redMul($a)},An.prototype.jpoint=function($a,rs,ts,is){return this.point($a,rs,ts,is)},An.prototype.pointFromX=function($a,rs){$a=new fn($a,16),$a.red||($a=$a.toRed(this.red));var ts=$a.redSqr(),is=this.c2.redSub(this.a.redMul(ts)),cs=this.one.redSub(this.c2.redMul(this.d).redMul(ts)),us=is.redMul(cs.redInvm()),ps=us.redSqrt();if(ps.redSqr().redSub(us).cmp(this.zero)!==0)throw new Error("invalid point");var bs=ps.fromRed().isOdd();return(rs&&!bs||!rs&&bs)&&(ps=ps.redNeg()),this.point($a,ps)},An.prototype.pointFromY=function($a,rs){$a=new fn($a,16),$a.red||($a=$a.toRed(this.red));var ts=$a.redSqr(),is=ts.redSub(this.c2),cs=ts.redMul(this.d).redMul(this.c2).redSub(this.a),us=is.redMul(cs.redInvm());if(us.cmp(this.zero)===0){if(rs)throw new Error("invalid point");return this.point(this.zero,$a)}var ps=us.redSqrt();if(ps.redSqr().redSub(us).cmp(this.zero)!==0)throw new Error("invalid point");return ps.fromRed().isOdd()!==rs&&(ps=ps.redNeg()),this.point(ps,$a)},An.prototype.validate=function($a){if($a.isInfinity())return!0;$a.normalize();var rs=$a.x.redSqr(),ts=$a.y.redSqr(),is=rs.redMul(this.a).redAdd(ts),cs=this.c2.redMul(this.one.redAdd(this.d.redMul(rs).redMul(ts)));return is.cmp(cs)===0};function ba(xa,$a,rs,ts,is){Cn.BasePoint.call(this,xa,"projective"),$a===null&&rs===null&&ts===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new fn($a,16),this.y=new fn(rs,16),this.z=ts?new fn(ts,16):this.curve.one,this.t=is&&new fn(is,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return En(ba,Cn.BasePoint),An.prototype.pointFromJSON=function($a){return ba.fromJSON(this,$a)},An.prototype.point=function($a,rs,ts,is){return new ba(this,$a,rs,ts,is)},ba.fromJSON=function($a,rs){return new ba($a,rs[0],rs[1],rs[2])},ba.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},ba.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},ba.prototype._extDbl=function(){var $a=this.x.redSqr(),rs=this.y.redSqr(),ts=this.z.redSqr();ts=ts.redIAdd(ts);var is=this.curve._mulA($a),cs=this.x.redAdd(this.y).redSqr().redISub($a).redISub(rs),us=is.redAdd(rs),ps=us.redSub(ts),bs=is.redSub(rs),e0=cs.redMul(ps),gs=us.redMul(bs),Ds=cs.redMul(bs),i0=ps.redMul(us);return this.curve.point(e0,gs,i0,Ds)},ba.prototype._projDbl=function(){var $a=this.x.redAdd(this.y).redSqr(),rs=this.x.redSqr(),ts=this.y.redSqr(),is,cs,us,ps,bs,e0;if(this.curve.twisted){ps=this.curve._mulA(rs);var gs=ps.redAdd(ts);this.zOne?(is=$a.redSub(rs).redSub(ts).redMul(gs.redSub(this.curve.two)),cs=gs.redMul(ps.redSub(ts)),us=gs.redSqr().redSub(gs).redSub(gs)):(bs=this.z.redSqr(),e0=gs.redSub(bs).redISub(bs),is=$a.redSub(rs).redISub(ts).redMul(e0),cs=gs.redMul(ps.redSub(ts)),us=gs.redMul(e0))}else ps=rs.redAdd(ts),bs=this.curve._mulC(this.z).redSqr(),e0=ps.redSub(bs).redSub(bs),is=this.curve._mulC($a.redISub(ps)).redMul(e0),cs=this.curve._mulC(ps).redMul(rs.redISub(ts)),us=ps.redMul(e0);return this.curve.point(is,cs,us)},ba.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},ba.prototype._extAdd=function($a){var rs=this.y.redSub(this.x).redMul($a.y.redSub($a.x)),ts=this.y.redAdd(this.x).redMul($a.y.redAdd($a.x)),is=this.t.redMul(this.curve.dd).redMul($a.t),cs=this.z.redMul($a.z.redAdd($a.z)),us=ts.redSub(rs),ps=cs.redSub(is),bs=cs.redAdd(is),e0=ts.redAdd(rs),gs=us.redMul(ps),Ds=bs.redMul(e0),i0=us.redMul(e0),n0=ps.redMul(bs);return this.curve.point(gs,Ds,n0,i0)},ba.prototype._projAdd=function($a){var rs=this.z.redMul($a.z),ts=rs.redSqr(),is=this.x.redMul($a.x),cs=this.y.redMul($a.y),us=this.curve.d.redMul(is).redMul(cs),ps=ts.redSub(us),bs=ts.redAdd(us),e0=this.x.redAdd(this.y).redMul($a.x.redAdd($a.y)).redISub(is).redISub(cs),gs=rs.redMul(ps).redMul(e0),Ds,i0;return this.curve.twisted?(Ds=rs.redMul(bs).redMul(cs.redSub(this.curve._mulA(is))),i0=ps.redMul(bs)):(Ds=rs.redMul(bs).redMul(cs.redSub(is)),i0=this.curve._mulC(ps).redMul(bs)),this.curve.point(gs,Ds,i0)},ba.prototype.add=function($a){return this.isInfinity()?$a:$a.isInfinity()?this:this.curve.extended?this._extAdd($a):this._projAdd($a)},ba.prototype.mul=function($a){return this._hasDoubles($a)?this.curve._fixedNafMul(this,$a):this.curve._wnafMul(this,$a)},ba.prototype.mulAdd=function($a,rs,ts){return this.curve._wnafMulAdd(1,[this,rs],[$a,ts],2,!1)},ba.prototype.jmulAdd=function($a,rs,ts){return this.curve._wnafMulAdd(1,[this,rs],[$a,ts],2,!0)},ba.prototype.normalize=function(){if(this.zOne)return this;var $a=this.z.redInvm();return this.x=this.x.redMul($a),this.y=this.y.redMul($a),this.t&&(this.t=this.t.redMul($a)),this.z=this.curve.one,this.zOne=!0,this},ba.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},ba.prototype.getX=function(){return this.normalize(),this.x.fromRed()},ba.prototype.getY=function(){return this.normalize(),this.y.fromRed()},ba.prototype.eq=function($a){return this===$a||this.getX().cmp($a.getX())===0&&this.getY().cmp($a.getY())===0},ba.prototype.eqXToP=function($a){var rs=$a.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(rs)===0)return!0;for(var ts=$a.clone(),is=this.curve.redN.redMul(this.z);;){if(ts.iadd(this.curve.n),ts.cmp(this.curve.p)>=0)return!1;if(rs.redIAdd(is),this.x.cmp(rs)===0)return!0}},ba.prototype.toP=ba.prototype.normalize,ba.prototype.mixedAdd=ba.prototype.add,edwards$2}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(vn){var fn=vn;fn.base=requireBase$1(),fn.short=requireShort(),fn.mont=requireMont(),fn.edwards=requireEdwards()}(curve$2)),curve$2}var curves$6={},secp256k1$2,hasRequiredSecp256k1$2;function requireSecp256k1$2(){return hasRequiredSecp256k1$2||(hasRequiredSecp256k1$2=1,secp256k1$2={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1$2}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(vn){var fn=vn,En=hash$6,Cn=requireCurve(),_i=requireUtils(),An=_i.assert;function ba(rs){rs.type==="short"?this.curve=new Cn.short(rs):rs.type==="edwards"?this.curve=new Cn.edwards(rs):this.curve=new Cn.mont(rs),this.g=this.curve.g,this.n=this.curve.n,this.hash=rs.hash,An(this.g.validate(),"Invalid curve"),An(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}fn.PresetCurve=ba;function xa(rs,ts){Object.defineProperty(fn,rs,{configurable:!0,enumerable:!0,get:function(){var is=new ba(ts);return Object.defineProperty(fn,rs,{configurable:!0,enumerable:!0,value:is}),is}})}xa("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:En.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),xa("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:En.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),xa("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:En.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),xa("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:En.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),xa("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:En.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),xa("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:En.sha256,gRed:!1,g:["9"]}),xa("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:En.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var $a;try{$a=requireSecp256k1$2()}catch{$a=void 0}xa("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:En.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",$a]})}(curves$6)),curves$6}var hash$3=hash$6,utils$o=utils$p,assert$i=minimalisticAssert$1;function HmacDRBG$2(vn){if(!(this instanceof HmacDRBG$2))return new HmacDRBG$2(vn);this.hash=vn.hash,this.predResist=!!vn.predResist,this.outLen=this.hash.outSize,this.minEntropy=vn.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var fn=utils$o.toArray(vn.entropy,vn.entropyEnc||"hex"),En=utils$o.toArray(vn.nonce,vn.nonceEnc||"hex"),Cn=utils$o.toArray(vn.pers,vn.persEnc||"hex");assert$i(fn.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(fn,En,Cn)}var hmacDrbg=HmacDRBG$2;HmacDRBG$2.prototype._init=function(fn,En,Cn){var _i=fn.concat(En).concat(Cn);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var An=0;An<this.V.length;An++)this.K[An]=0,this.V[An]=1;this._update(_i),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG$2.prototype._hmac=function(){return new hash$3.hmac(this.hash,this.K)};HmacDRBG$2.prototype._update=function(fn){var En=this._hmac().update(this.V).update([0]);fn&&(En=En.update(fn)),this.K=En.digest(),this.V=this._hmac().update(this.V).digest(),fn&&(this.K=this._hmac().update(this.V).update([1]).update(fn).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG$2.prototype.reseed=function(fn,En,Cn,_i){typeof En!="string"&&(_i=Cn,Cn=En,En=null),fn=utils$o.toArray(fn,En),Cn=utils$o.toArray(Cn,_i),assert$i(fn.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(fn.concat(Cn||[])),this._reseed=1};HmacDRBG$2.prototype.generate=function(fn,En,Cn,_i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof En!="string"&&(_i=Cn,Cn=En,En=null),Cn&&(Cn=utils$o.toArray(Cn,_i||"hex"),this._update(Cn));for(var An=[];An.length<fn;)this.V=this._hmac().update(this.V).digest(),An=An.concat(this.V);var ba=An.slice(0,fn);return this._update(Cn),this._reseed++,utils$o.encode(ba,En)};var key$5,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$5;hasRequiredKey$1=1;var vn=requireBn$3(),fn=requireUtils(),En=fn.assert;function Cn(_i,An){this.ec=_i,this.priv=null,this.pub=null,An.priv&&this._importPrivate(An.priv,An.privEnc),An.pub&&this._importPublic(An.pub,An.pubEnc)}return key$5=Cn,Cn.fromPublic=function(An,ba,xa){return ba instanceof Cn?ba:new Cn(An,{pub:ba,pubEnc:xa})},Cn.fromPrivate=function(An,ba,xa){return ba instanceof Cn?ba:new Cn(An,{priv:ba,privEnc:xa})},Cn.prototype.validate=function(){var An=this.getPublic();return An.isInfinity()?{result:!1,reason:"Invalid public key"}:An.validate()?An.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Cn.prototype.getPublic=function(An,ba){return typeof An=="string"&&(ba=An,An=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),ba?this.pub.encode(ba,An):this.pub},Cn.prototype.getPrivate=function(An){return An==="hex"?this.priv.toString(16,2):this.priv},Cn.prototype._importPrivate=function(An,ba){this.priv=new vn(An,ba||16),this.priv=this.priv.umod(this.ec.curve.n)},Cn.prototype._importPublic=function(An,ba){if(An.x||An.y){this.ec.curve.type==="mont"?En(An.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&En(An.x&&An.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(An.x,An.y);return}this.pub=this.ec.curve.decodePoint(An,ba)},Cn.prototype.derive=function(An){return An.validate()||En(An.validate(),"public point not validated"),An.mul(this.priv).getX()},Cn.prototype.sign=function(An,ba,xa){return this.ec.sign(An,this,ba,xa)},Cn.prototype.verify=function(An,ba,xa){return this.ec.verify(An,ba,this,void 0,xa)},Cn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$5}var signature$5,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$5;hasRequiredSignature$1=1;var vn=requireBn$3(),fn=requireUtils(),En=fn.assert;function Cn($a,rs){if($a instanceof Cn)return $a;this._importDER($a,rs)||(En($a.r&&$a.s,"Signature without r or s"),this.r=new vn($a.r,16),this.s=new vn($a.s,16),$a.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=$a.recoveryParam)}signature$5=Cn;function _i(){this.place=0}function An($a,rs){var ts=$a[rs.place++];if(!(ts&128))return ts;var is=ts&15;if(is===0||is>4||$a[rs.place]===0)return!1;for(var cs=0,us=0,ps=rs.place;us<is;us++,ps++)cs<<=8,cs|=$a[ps],cs>>>=0;return cs<=127?!1:(rs.place=ps,cs)}function ba($a){for(var rs=0,ts=$a.length-1;!$a[rs]&&!($a[rs+1]&128)&&rs<ts;)rs++;return rs===0?$a:$a.slice(rs)}Cn.prototype._importDER=function(rs,ts){rs=fn.toArray(rs,ts);var is=new _i;if(rs[is.place++]!==48)return!1;var cs=An(rs,is);if(cs===!1||cs+is.place!==rs.length||rs[is.place++]!==2)return!1;var us=An(rs,is);if(us===!1||rs[is.place]&128)return!1;var ps=rs.slice(is.place,us+is.place);if(is.place+=us,rs[is.place++]!==2)return!1;var bs=An(rs,is);if(bs===!1||rs.length!==bs+is.place||rs[is.place]&128)return!1;var e0=rs.slice(is.place,bs+is.place);if(ps[0]===0)if(ps[1]&128)ps=ps.slice(1);else return!1;if(e0[0]===0)if(e0[1]&128)e0=e0.slice(1);else return!1;return this.r=new vn(ps),this.s=new vn(e0),this.recoveryParam=null,!0};function xa($a,rs){if(rs<128){$a.push(rs);return}var ts=1+(Math.log(rs)/Math.LN2>>>3);for($a.push(ts|128);--ts;)$a.push(rs>>>(ts<<3)&255);$a.push(rs)}return Cn.prototype.toDER=function(rs){var ts=this.r.toArray(),is=this.s.toArray();for(ts[0]&128&&(ts=[0].concat(ts)),is[0]&128&&(is=[0].concat(is)),ts=ba(ts),is=ba(is);!is[0]&&!(is[1]&128);)is=is.slice(1);var cs=[2];xa(cs,ts.length),cs=cs.concat(ts),cs.push(2),xa(cs,is.length);var us=cs.concat(is),ps=[48];return xa(ps,us.length),ps=ps.concat(us),fn.encode(ps,rs)},signature$5}var ec$2,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec$2;hasRequiredEc=1;var vn=requireBn$3(),fn=hmacDrbg,En=requireUtils(),Cn=requireCurves(),_i=requireBrorand(),An=En.assert,ba=requireKey$1(),xa=requireSignature$1();function $a(rs){if(!(this instanceof $a))return new $a(rs);typeof rs=="string"&&(An(Object.prototype.hasOwnProperty.call(Cn,rs),"Unknown curve "+rs),rs=Cn[rs]),rs instanceof Cn.PresetCurve&&(rs={curve:rs}),this.curve=rs.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=rs.curve.g,this.g.precompute(rs.curve.n.bitLength()+1),this.hash=rs.hash||rs.curve.hash}return ec$2=$a,$a.prototype.keyPair=function(ts){return new ba(this,ts)},$a.prototype.keyFromPrivate=function(ts,is){return ba.fromPrivate(this,ts,is)},$a.prototype.keyFromPublic=function(ts,is){return ba.fromPublic(this,ts,is)},$a.prototype.genKeyPair=function(ts){ts||(ts={});for(var is=new fn({hash:this.hash,pers:ts.pers,persEnc:ts.persEnc||"utf8",entropy:ts.entropy||_i(this.hash.hmacStrength),entropyEnc:ts.entropy&&ts.entropyEnc||"utf8",nonce:this.n.toArray()}),cs=this.n.byteLength(),us=this.n.sub(new vn(2));;){var ps=new vn(is.generate(cs));if(!(ps.cmp(us)>0))return ps.iaddn(1),this.keyFromPrivate(ps)}},$a.prototype._truncateToN=function(ts,is,cs){var us;if(vn.isBN(ts)||typeof ts=="number")ts=new vn(ts,16),us=ts.byteLength();else if(typeof ts=="object")us=ts.length,ts=new vn(ts,16);else{var ps=ts.toString();us=ps.length+1>>>1,ts=new vn(ps,16)}typeof cs!="number"&&(cs=us*8);var bs=cs-this.n.bitLength();return bs>0&&(ts=ts.ushrn(bs)),!is&&ts.cmp(this.n)>=0?ts.sub(this.n):ts},$a.prototype.sign=function(ts,is,cs,us){if(typeof cs=="object"&&(us=cs,cs=null),us||(us={}),typeof ts!="string"&&typeof ts!="number"&&!vn.isBN(ts)){An(typeof ts=="object"&&ts&&typeof ts.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),An(ts.length>>>0===ts.length);for(var ps=0;ps<ts.length;ps++)An((ts[ps]&255)===ts[ps])}is=this.keyFromPrivate(is,cs),ts=this._truncateToN(ts,!1,us.msgBitLength),An(!ts.isNeg(),"Can not sign a negative message");var bs=this.n.byteLength(),e0=is.getPrivate().toArray("be",bs),gs=ts.toArray("be",bs);An(new vn(gs).eq(ts),"Can not sign message");for(var Ds=new fn({hash:this.hash,entropy:e0,nonce:gs,pers:us.pers,persEnc:us.persEnc||"utf8"}),i0=this.n.sub(new vn(1)),n0=0;;n0++){var c0=us.k?us.k(n0):new vn(Ds.generate(this.n.byteLength()));if(c0=this._truncateToN(c0,!0),!(c0.cmpn(1)<=0||c0.cmp(i0)>=0)){var d0=this.g.mul(c0);if(!d0.isInfinity()){var o0=d0.getX(),g0=o0.umod(this.n);if(g0.cmpn(0)!==0){var w0=c0.invm(this.n).mul(g0.mul(is.getPrivate()).iadd(ts));if(w0=w0.umod(this.n),w0.cmpn(0)!==0){var M0=(d0.getY().isOdd()?1:0)|(o0.cmp(g0)!==0?2:0);return us.canonical&&w0.cmp(this.nh)>0&&(w0=this.n.sub(w0),M0^=1),new xa({r:g0,s:w0,recoveryParam:M0})}}}}}},$a.prototype.verify=function(ts,is,cs,us,ps){ps||(ps={}),ts=this._truncateToN(ts,!1,ps.msgBitLength),cs=this.keyFromPublic(cs,us),is=new xa(is,"hex");var bs=is.r,e0=is.s;if(bs.cmpn(1)<0||bs.cmp(this.n)>=0||e0.cmpn(1)<0||e0.cmp(this.n)>=0)return!1;var gs=e0.invm(this.n),Ds=gs.mul(ts).umod(this.n),i0=gs.mul(bs).umod(this.n),n0;return this.curve._maxwellTrick?(n0=this.g.jmulAdd(Ds,cs.getPublic(),i0),n0.isInfinity()?!1:n0.eqXToP(bs)):(n0=this.g.mulAdd(Ds,cs.getPublic(),i0),n0.isInfinity()?!1:n0.getX().umod(this.n).cmp(bs)===0)},$a.prototype.recoverPubKey=function(rs,ts,is,cs){An((3&is)===is,"The recovery param is more than two bits"),ts=new xa(ts,cs);var us=this.n,ps=new vn(rs),bs=ts.r,e0=ts.s,gs=is&1,Ds=is>>1;if(bs.cmp(this.curve.p.umod(this.curve.n))>=0&&Ds)throw new Error("Unable to find sencond key candinate");Ds?bs=this.curve.pointFromX(bs.add(this.curve.n),gs):bs=this.curve.pointFromX(bs,gs);var i0=ts.r.invm(us),n0=us.sub(ps).mul(i0).umod(us),c0=e0.mul(i0).umod(us);return this.g.mulAdd(n0,bs,c0)},$a.prototype.getKeyRecoveryParam=function(rs,ts,is,cs){if(ts=new xa(ts,cs),ts.recoveryParam!==null)return ts.recoveryParam;for(var us=0;us<4;us++){var ps;try{ps=this.recoverPubKey(rs,ts,us)}catch{continue}if(ps.eq(is))return us}throw new Error("Unable to find valid recovery factor")},ec$2}var key$4,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key$4;hasRequiredKey=1;var vn=requireUtils(),fn=vn.assert,En=vn.parseBytes,Cn=vn.cachedProperty;function _i(An,ba){this.eddsa=An,this._secret=En(ba.secret),An.isPoint(ba.pub)?this._pub=ba.pub:this._pubBytes=En(ba.pub)}return _i.fromPublic=function(ba,xa){return xa instanceof _i?xa:new _i(ba,{pub:xa})},_i.fromSecret=function(ba,xa){return xa instanceof _i?xa:new _i(ba,{secret:xa})},_i.prototype.secret=function(){return this._secret},Cn(_i,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),Cn(_i,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),Cn(_i,"privBytes",function(){var ba=this.eddsa,xa=this.hash(),$a=ba.encodingLength-1,rs=xa.slice(0,ba.encodingLength);return rs[0]&=248,rs[$a]&=127,rs[$a]|=64,rs}),Cn(_i,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),Cn(_i,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),Cn(_i,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),_i.prototype.sign=function(ba){return fn(this._secret,"KeyPair can only verify"),this.eddsa.sign(ba,this)},_i.prototype.verify=function(ba,xa){return this.eddsa.verify(ba,xa,this)},_i.prototype.getSecret=function(ba){return fn(this._secret,"KeyPair is public only"),vn.encode(this.secret(),ba)},_i.prototype.getPublic=function(ba){return vn.encode(this.pubBytes(),ba)},key$4=_i,key$4}var signature$4,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature$4;hasRequiredSignature=1;var vn=requireBn$3(),fn=requireUtils(),En=fn.assert,Cn=fn.cachedProperty,_i=fn.parseBytes;function An(ba,xa){this.eddsa=ba,typeof xa!="object"&&(xa=_i(xa)),Array.isArray(xa)&&(En(xa.length===ba.encodingLength*2,"Signature has invalid size"),xa={R:xa.slice(0,ba.encodingLength),S:xa.slice(ba.encodingLength)}),En(xa.R&&xa.S,"Signature without R or S"),ba.isPoint(xa.R)&&(this._R=xa.R),xa.S instanceof vn&&(this._S=xa.S),this._Rencoded=Array.isArray(xa.R)?xa.R:xa.Rencoded,this._Sencoded=Array.isArray(xa.S)?xa.S:xa.Sencoded}return Cn(An,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),Cn(An,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),Cn(An,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),Cn(An,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),An.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},An.prototype.toHex=function(){return fn.encode(this.toBytes(),"hex").toUpperCase()},signature$4=An,signature$4}var eddsa$2,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa$2;hasRequiredEddsa=1;var vn=hash$6,fn=requireCurves(),En=requireUtils(),Cn=En.assert,_i=En.parseBytes,An=requireKey(),ba=requireSignature();function xa($a){if(Cn($a==="ed25519","only tested with ed25519 so far"),!(this instanceof xa))return new xa($a);$a=fn[$a].curve,this.curve=$a,this.g=$a.g,this.g.precompute($a.n.bitLength()+1),this.pointClass=$a.point().constructor,this.encodingLength=Math.ceil($a.n.bitLength()/8),this.hash=vn.sha512}return eddsa$2=xa,xa.prototype.sign=function(rs,ts){rs=_i(rs);var is=this.keyFromSecret(ts),cs=this.hashInt(is.messagePrefix(),rs),us=this.g.mul(cs),ps=this.encodePoint(us),bs=this.hashInt(ps,is.pubBytes(),rs).mul(is.priv()),e0=cs.add(bs).umod(this.curve.n);return this.makeSignature({R:us,S:e0,Rencoded:ps})},xa.prototype.verify=function(rs,ts,is){if(rs=_i(rs),ts=this.makeSignature(ts),ts.S().gte(ts.eddsa.curve.n)||ts.S().isNeg())return!1;var cs=this.keyFromPublic(is),us=this.hashInt(ts.Rencoded(),cs.pubBytes(),rs),ps=this.g.mul(ts.S()),bs=ts.R().add(cs.pub().mul(us));return bs.eq(ps)},xa.prototype.hashInt=function(){for(var rs=this.hash(),ts=0;ts<arguments.length;ts++)rs.update(arguments[ts]);return En.intFromLE(rs.digest()).umod(this.curve.n)},xa.prototype.keyFromPublic=function(rs){return An.fromPublic(this,rs)},xa.prototype.keyFromSecret=function(rs){return An.fromSecret(this,rs)},xa.prototype.makeSignature=function(rs){return rs instanceof ba?rs:new ba(this,rs)},xa.prototype.encodePoint=function(rs){var ts=rs.getY().toArray("le",this.encodingLength);return ts[this.encodingLength-1]|=rs.getX().isOdd()?128:0,ts},xa.prototype.decodePoint=function(rs){rs=En.parseBytes(rs);var ts=rs.length-1,is=rs.slice(0,ts).concat(rs[ts]&-129),cs=(rs[ts]&128)!==0,us=En.intFromLE(is);return this.curve.pointFromY(us,cs)},xa.prototype.encodeInt=function(rs){return rs.toArray("le",this.encodingLength)},xa.prototype.decodeInt=function(rs){return En.intFromLE(rs)},xa.prototype.isPoint=function(rs){return rs instanceof this.pointClass},eddsa$2}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(vn){var fn=vn;fn.version=require$$0$4.version,fn.utils=requireUtils(),fn.rand=requireBrorand(),fn.curve=requireCurve(),fn.curves=requireCurves(),fn.ec=requireEc(),fn.eddsa=requireEddsa()}(elliptic$2)),elliptic$2}var asn1$1={},asn1={},bn$7={exports:{}};bn$7.exports;var hasRequiredBn$2;function requireBn$2(){return hasRequiredBn$2||(hasRequiredBn$2=1,function(vn){(function(fn,En){function Cn(ds,na){if(!ds)throw new Error(na||"Assertion failed")}function _i(ds,na){ds.super_=na;var _a=function(){};_a.prototype=na.prototype,ds.prototype=new _a,ds.prototype.constructor=ds}function An(ds,na,_a){if(An.isBN(ds))return ds;this.negative=0,this.words=null,this.length=0,this.red=null,ds!==null&&((na==="le"||na==="be")&&(_a=na,na=10),this._init(ds||0,na||10,_a||"be"))}typeof fn=="object"?fn.exports=An:En.BN=An,An.BN=An,An.wordSize=26;var ba;try{typeof window<"u"&&typeof window.Buffer<"u"?ba=window.Buffer:ba=require$$0$a.Buffer}catch{}An.isBN=function(na){return na instanceof An?!0:na!==null&&typeof na=="object"&&na.constructor.wordSize===An.wordSize&&Array.isArray(na.words)},An.max=function(na,_a){return na.cmp(_a)>0?na:_a},An.min=function(na,_a){return na.cmp(_a)<0?na:_a},An.prototype._init=function(na,_a,es){if(typeof na=="number")return this._initNumber(na,_a,es);if(typeof na=="object")return this._initArray(na,_a,es);_a==="hex"&&(_a=16),Cn(_a===(_a|0)&&_a>=2&&_a<=36),na=na.toString().replace(/\s+/g,"");var ns=0;na[0]==="-"&&(ns++,this.negative=1),ns<na.length&&(_a===16?this._parseHex(na,ns,es):(this._parseBase(na,_a,ns),es==="le"&&this._initArray(this.toArray(),_a,es)))},An.prototype._initNumber=function(na,_a,es){na<0&&(this.negative=1,na=-na),na<67108864?(this.words=[na&67108863],this.length=1):na<4503599627370496?(this.words=[na&67108863,na/67108864&67108863],this.length=2):(Cn(na<9007199254740992),this.words=[na&67108863,na/67108864&67108863,1],this.length=3),es==="le"&&this._initArray(this.toArray(),_a,es)},An.prototype._initArray=function(na,_a,es){if(Cn(typeof na.length=="number"),na.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(na.length/3),this.words=new Array(this.length);for(var ns=0;ns<this.length;ns++)this.words[ns]=0;var os,ls,hs=0;if(es==="be")for(ns=na.length-1,os=0;ns>=0;ns-=3)ls=na[ns]|na[ns-1]<<8|na[ns-2]<<16,this.words[os]|=ls<<hs&67108863,this.words[os+1]=ls>>>26-hs&67108863,hs+=24,hs>=26&&(hs-=26,os++);else if(es==="le")for(ns=0,os=0;ns<na.length;ns+=3)ls=na[ns]|na[ns+1]<<8|na[ns+2]<<16,this.words[os]|=ls<<hs&67108863,this.words[os+1]=ls>>>26-hs&67108863,hs+=24,hs>=26&&(hs-=26,os++);return this.strip()};function xa(ds,na){var _a=ds.charCodeAt(na);return _a>=65&&_a<=70?_a-55:_a>=97&&_a<=102?_a-87:_a-48&15}function $a(ds,na,_a){var es=xa(ds,_a);return _a-1>=na&&(es|=xa(ds,_a-1)<<4),es}An.prototype._parseHex=function(na,_a,es){this.length=Math.ceil((na.length-_a)/6),this.words=new Array(this.length);for(var ns=0;ns<this.length;ns++)this.words[ns]=0;var os=0,ls=0,hs;if(es==="be")for(ns=na.length-1;ns>=_a;ns-=2)hs=$a(na,_a,ns)<<os,this.words[ls]|=hs&67108863,os>=18?(os-=18,ls+=1,this.words[ls]|=hs>>>26):os+=8;else{var ss=na.length-_a;for(ns=ss%2===0?_a+1:_a;ns<na.length;ns+=2)hs=$a(na,_a,ns)<<os,this.words[ls]|=hs&67108863,os>=18?(os-=18,ls+=1,this.words[ls]|=hs>>>26):os+=8}this.strip()};function rs(ds,na,_a,es){for(var ns=0,os=Math.min(ds.length,_a),ls=na;ls<os;ls++){var hs=ds.charCodeAt(ls)-48;ns*=es,hs>=49?ns+=hs-49+10:hs>=17?ns+=hs-17+10:ns+=hs}return ns}An.prototype._parseBase=function(na,_a,es){this.words=[0],this.length=1;for(var ns=0,os=1;os<=67108863;os*=_a)ns++;ns--,os=os/_a|0;for(var ls=na.length-es,hs=ls%ns,ss=Math.min(ls,ls-hs)+es,ga=0,as=es;as<ss;as+=ns)ga=rs(na,as,as+ns,_a),this.imuln(os),this.words[0]+ga<67108864?this.words[0]+=ga:this._iaddn(ga);if(hs!==0){var r0=1;for(ga=rs(na,as,na.length,_a),as=0;as<hs;as++)r0*=_a;this.imuln(r0),this.words[0]+ga<67108864?this.words[0]+=ga:this._iaddn(ga)}this.strip()},An.prototype.copy=function(na){na.words=new Array(this.length);for(var _a=0;_a<this.length;_a++)na.words[_a]=this.words[_a];na.length=this.length,na.negative=this.negative,na.red=this.red},An.prototype.clone=function(){var na=new An(null);return this.copy(na),na},An.prototype._expand=function(na){for(;this.length<na;)this.words[this.length++]=0;return this},An.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},An.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},An.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ts=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],is=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],cs=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];An.prototype.toString=function(na,_a){na=na||10,_a=_a|0||1;var es;if(na===16||na==="hex"){es="";for(var ns=0,os=0,ls=0;ls<this.length;ls++){var hs=this.words[ls],ss=((hs<<ns|os)&16777215).toString(16);os=hs>>>24-ns&16777215,ns+=2,ns>=26&&(ns-=26,ls--),os!==0||ls!==this.length-1?es=ts[6-ss.length]+ss+es:es=ss+es}for(os!==0&&(es=os.toString(16)+es);es.length%_a!==0;)es="0"+es;return this.negative!==0&&(es="-"+es),es}if(na===(na|0)&&na>=2&&na<=36){var ga=is[na],as=cs[na];es="";var r0=this.clone();for(r0.negative=0;!r0.isZero();){var a0=r0.modn(as).toString(na);r0=r0.idivn(as),r0.isZero()?es=a0+es:es=ts[ga-a0.length]+a0+es}for(this.isZero()&&(es="0"+es);es.length%_a!==0;)es="0"+es;return this.negative!==0&&(es="-"+es),es}Cn(!1,"Base should be between 2 and 36")},An.prototype.toNumber=function(){var na=this.words[0];return this.length===2?na+=this.words[1]*67108864:this.length===3&&this.words[2]===1?na+=4503599627370496+this.words[1]*67108864:this.length>2&&Cn(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-na:na},An.prototype.toJSON=function(){return this.toString(16)},An.prototype.toBuffer=function(na,_a){return Cn(typeof ba<"u"),this.toArrayLike(ba,na,_a)},An.prototype.toArray=function(na,_a){return this.toArrayLike(Array,na,_a)},An.prototype.toArrayLike=function(na,_a,es){var ns=this.byteLength(),os=es||Math.max(1,ns);Cn(ns<=os,"byte array longer than desired length"),Cn(os>0,"Requested array length <= 0"),this.strip();var ls=_a==="le",hs=new na(os),ss,ga,as=this.clone();if(ls){for(ga=0;!as.isZero();ga++)ss=as.andln(255),as.iushrn(8),hs[ga]=ss;for(;ga<os;ga++)hs[ga]=0}else{for(ga=0;ga<os-ns;ga++)hs[ga]=0;for(ga=0;!as.isZero();ga++)ss=as.andln(255),as.iushrn(8),hs[os-ga-1]=ss}return hs},Math.clz32?An.prototype._countBits=function(na){return 32-Math.clz32(na)}:An.prototype._countBits=function(na){var _a=na,es=0;return _a>=4096&&(es+=13,_a>>>=13),_a>=64&&(es+=7,_a>>>=7),_a>=8&&(es+=4,_a>>>=4),_a>=2&&(es+=2,_a>>>=2),es+_a},An.prototype._zeroBits=function(na){if(na===0)return 26;var _a=na,es=0;return _a&8191||(es+=13,_a>>>=13),_a&127||(es+=7,_a>>>=7),_a&15||(es+=4,_a>>>=4),_a&3||(es+=2,_a>>>=2),_a&1||es++,es},An.prototype.bitLength=function(){var na=this.words[this.length-1],_a=this._countBits(na);return(this.length-1)*26+_a};function us(ds){for(var na=new Array(ds.bitLength()),_a=0;_a<na.length;_a++){var es=_a/26|0,ns=_a%26;na[_a]=(ds.words[es]&1<<ns)>>>ns}return na}An.prototype.zeroBits=function(){if(this.isZero())return 0;for(var na=0,_a=0;_a<this.length;_a++){var es=this._zeroBits(this.words[_a]);if(na+=es,es!==26)break}return na},An.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},An.prototype.toTwos=function(na){return this.negative!==0?this.abs().inotn(na).iaddn(1):this.clone()},An.prototype.fromTwos=function(na){return this.testn(na-1)?this.notn(na).iaddn(1).ineg():this.clone()},An.prototype.isNeg=function(){return this.negative!==0},An.prototype.neg=function(){return this.clone().ineg()},An.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},An.prototype.iuor=function(na){for(;this.length<na.length;)this.words[this.length++]=0;for(var _a=0;_a<na.length;_a++)this.words[_a]=this.words[_a]|na.words[_a];return this.strip()},An.prototype.ior=function(na){return Cn((this.negative|na.negative)===0),this.iuor(na)},An.prototype.or=function(na){return this.length>na.length?this.clone().ior(na):na.clone().ior(this)},An.prototype.uor=function(na){return this.length>na.length?this.clone().iuor(na):na.clone().iuor(this)},An.prototype.iuand=function(na){var _a;this.length>na.length?_a=na:_a=this;for(var es=0;es<_a.length;es++)this.words[es]=this.words[es]&na.words[es];return this.length=_a.length,this.strip()},An.prototype.iand=function(na){return Cn((this.negative|na.negative)===0),this.iuand(na)},An.prototype.and=function(na){return this.length>na.length?this.clone().iand(na):na.clone().iand(this)},An.prototype.uand=function(na){return this.length>na.length?this.clone().iuand(na):na.clone().iuand(this)},An.prototype.iuxor=function(na){var _a,es;this.length>na.length?(_a=this,es=na):(_a=na,es=this);for(var ns=0;ns<es.length;ns++)this.words[ns]=_a.words[ns]^es.words[ns];if(this!==_a)for(;ns<_a.length;ns++)this.words[ns]=_a.words[ns];return this.length=_a.length,this.strip()},An.prototype.ixor=function(na){return Cn((this.negative|na.negative)===0),this.iuxor(na)},An.prototype.xor=function(na){return this.length>na.length?this.clone().ixor(na):na.clone().ixor(this)},An.prototype.uxor=function(na){return this.length>na.length?this.clone().iuxor(na):na.clone().iuxor(this)},An.prototype.inotn=function(na){Cn(typeof na=="number"&&na>=0);var _a=Math.ceil(na/26)|0,es=na%26;this._expand(_a),es>0&&_a--;for(var ns=0;ns<_a;ns++)this.words[ns]=~this.words[ns]&67108863;return es>0&&(this.words[ns]=~this.words[ns]&67108863>>26-es),this.strip()},An.prototype.notn=function(na){return this.clone().inotn(na)},An.prototype.setn=function(na,_a){Cn(typeof na=="number"&&na>=0);var es=na/26|0,ns=na%26;return this._expand(es+1),_a?this.words[es]=this.words[es]|1<<ns:this.words[es]=this.words[es]&~(1<<ns),this.strip()},An.prototype.iadd=function(na){var _a;if(this.negative!==0&&na.negative===0)return this.negative=0,_a=this.isub(na),this.negative^=1,this._normSign();if(this.negative===0&&na.negative!==0)return na.negative=0,_a=this.isub(na),na.negative=1,_a._normSign();var es,ns;this.length>na.length?(es=this,ns=na):(es=na,ns=this);for(var os=0,ls=0;ls<ns.length;ls++)_a=(es.words[ls]|0)+(ns.words[ls]|0)+os,this.words[ls]=_a&67108863,os=_a>>>26;for(;os!==0&&ls<es.length;ls++)_a=(es.words[ls]|0)+os,this.words[ls]=_a&67108863,os=_a>>>26;if(this.length=es.length,os!==0)this.words[this.length]=os,this.length++;else if(es!==this)for(;ls<es.length;ls++)this.words[ls]=es.words[ls];return this},An.prototype.add=function(na){var _a;return na.negative!==0&&this.negative===0?(na.negative=0,_a=this.sub(na),na.negative^=1,_a):na.negative===0&&this.negative!==0?(this.negative=0,_a=na.sub(this),this.negative=1,_a):this.length>na.length?this.clone().iadd(na):na.clone().iadd(this)},An.prototype.isub=function(na){if(na.negative!==0){na.negative=0;var _a=this.iadd(na);return na.negative=1,_a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(na),this.negative=1,this._normSign();var es=this.cmp(na);if(es===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ns,os;es>0?(ns=this,os=na):(ns=na,os=this);for(var ls=0,hs=0;hs<os.length;hs++)_a=(ns.words[hs]|0)-(os.words[hs]|0)+ls,ls=_a>>26,this.words[hs]=_a&67108863;for(;ls!==0&&hs<ns.length;hs++)_a=(ns.words[hs]|0)+ls,ls=_a>>26,this.words[hs]=_a&67108863;if(ls===0&&hs<ns.length&&ns!==this)for(;hs<ns.length;hs++)this.words[hs]=ns.words[hs];return this.length=Math.max(this.length,hs),ns!==this&&(this.negative=1),this.strip()},An.prototype.sub=function(na){return this.clone().isub(na)};function ps(ds,na,_a){_a.negative=na.negative^ds.negative;var es=ds.length+na.length|0;_a.length=es,es=es-1|0;var ns=ds.words[0]|0,os=na.words[0]|0,ls=ns*os,hs=ls&67108863,ss=ls/67108864|0;_a.words[0]=hs;for(var ga=1;ga<es;ga++){for(var as=ss>>>26,r0=ss&67108863,a0=Math.min(ga,na.length-1),l0=Math.max(0,ga-ds.length+1);l0<=a0;l0++){var s0=ga-l0|0;ns=ds.words[s0]|0,os=na.words[l0]|0,ls=ns*os+r0,as+=ls/67108864|0,r0=ls&67108863}_a.words[ga]=r0|0,ss=as|0}return ss!==0?_a.words[ga]=ss|0:_a.length--,_a.strip()}var bs=function(na,_a,es){var ns=na.words,os=_a.words,ls=es.words,hs=0,ss,ga,as,r0=ns[0]|0,a0=r0&8191,l0=r0>>>13,s0=ns[1]|0,b0=s0&8191,f0=s0>>>13,m0=ns[2]|0,y0=m0&8191,t0=m0>>>13,h0=ns[3]|0,p0=h0&8191,E0=h0>>>13,I0=ns[4]|0,C0=I0&8191,$0=I0>>>13,vo=ns[5]|0,P0=vo&8191,S0=vo>>>13,_o=ns[6]|0,O0=_o&8191,B0=_o>>>13,To=ns[7]|0,k0=To&8191,D0=To>>>13,Eo=ns[8]|0,N0=Eo&8191,F0=Eo>>>13,Co=ns[9]|0,x0=Co&8191,u0=Co>>>13,v0=os[0]|0,_0=v0&8191,T0=v0>>>13,j0=os[1]|0,A0=j0&8191,U0=j0>>>13,$o=os[2]|0,L0=$o&8191,V0=$o>>>13,Mo=os[3]|0,G0=Mo&8191,Z0=Mo>>>13,Io=os[4]|0,q0=Io&8191,Y0=Io>>>13,Ro=os[5]|0,z0=Ro&8191,X0=Ro>>>13,Po=os[6]|0,K0=Po&8191,bo=Po>>>13,ko=os[7]|0,W0=ko&8191,J0=ko>>>13,Ao=os[8]|0,H0=Ao&8191,go=Ao>>>13,Bo=os[9]|0,Q0=Bo&8191,wo=Bo>>>13;es.negative=na.negative^_a.negative,es.length=19,ss=Math.imul(a0,_0),ga=Math.imul(a0,T0),ga=ga+Math.imul(l0,_0)|0,as=Math.imul(l0,T0);var No=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(No>>>26)|0,No&=67108863,ss=Math.imul(b0,_0),ga=Math.imul(b0,T0),ga=ga+Math.imul(f0,_0)|0,as=Math.imul(f0,T0),ss=ss+Math.imul(a0,A0)|0,ga=ga+Math.imul(a0,U0)|0,ga=ga+Math.imul(l0,A0)|0,as=as+Math.imul(l0,U0)|0;var Oo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,ss=Math.imul(y0,_0),ga=Math.imul(y0,T0),ga=ga+Math.imul(t0,_0)|0,as=Math.imul(t0,T0),ss=ss+Math.imul(b0,A0)|0,ga=ga+Math.imul(b0,U0)|0,ga=ga+Math.imul(f0,A0)|0,as=as+Math.imul(f0,U0)|0,ss=ss+Math.imul(a0,L0)|0,ga=ga+Math.imul(a0,V0)|0,ga=ga+Math.imul(l0,L0)|0,as=as+Math.imul(l0,V0)|0;var jo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(jo>>>26)|0,jo&=67108863,ss=Math.imul(p0,_0),ga=Math.imul(p0,T0),ga=ga+Math.imul(E0,_0)|0,as=Math.imul(E0,T0),ss=ss+Math.imul(y0,A0)|0,ga=ga+Math.imul(y0,U0)|0,ga=ga+Math.imul(t0,A0)|0,as=as+Math.imul(t0,U0)|0,ss=ss+Math.imul(b0,L0)|0,ga=ga+Math.imul(b0,V0)|0,ga=ga+Math.imul(f0,L0)|0,as=as+Math.imul(f0,V0)|0,ss=ss+Math.imul(a0,G0)|0,ga=ga+Math.imul(a0,Z0)|0,ga=ga+Math.imul(l0,G0)|0,as=as+Math.imul(l0,Z0)|0;var Uo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,ss=Math.imul(C0,_0),ga=Math.imul(C0,T0),ga=ga+Math.imul($0,_0)|0,as=Math.imul($0,T0),ss=ss+Math.imul(p0,A0)|0,ga=ga+Math.imul(p0,U0)|0,ga=ga+Math.imul(E0,A0)|0,as=as+Math.imul(E0,U0)|0,ss=ss+Math.imul(y0,L0)|0,ga=ga+Math.imul(y0,V0)|0,ga=ga+Math.imul(t0,L0)|0,as=as+Math.imul(t0,V0)|0,ss=ss+Math.imul(b0,G0)|0,ga=ga+Math.imul(b0,Z0)|0,ga=ga+Math.imul(f0,G0)|0,as=as+Math.imul(f0,Z0)|0,ss=ss+Math.imul(a0,q0)|0,ga=ga+Math.imul(a0,Y0)|0,ga=ga+Math.imul(l0,q0)|0,as=as+Math.imul(l0,Y0)|0;var zo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(zo>>>26)|0,zo&=67108863,ss=Math.imul(P0,_0),ga=Math.imul(P0,T0),ga=ga+Math.imul(S0,_0)|0,as=Math.imul(S0,T0),ss=ss+Math.imul(C0,A0)|0,ga=ga+Math.imul(C0,U0)|0,ga=ga+Math.imul($0,A0)|0,as=as+Math.imul($0,U0)|0,ss=ss+Math.imul(p0,L0)|0,ga=ga+Math.imul(p0,V0)|0,ga=ga+Math.imul(E0,L0)|0,as=as+Math.imul(E0,V0)|0,ss=ss+Math.imul(y0,G0)|0,ga=ga+Math.imul(y0,Z0)|0,ga=ga+Math.imul(t0,G0)|0,as=as+Math.imul(t0,Z0)|0,ss=ss+Math.imul(b0,q0)|0,ga=ga+Math.imul(b0,Y0)|0,ga=ga+Math.imul(f0,q0)|0,as=as+Math.imul(f0,Y0)|0,ss=ss+Math.imul(a0,z0)|0,ga=ga+Math.imul(a0,X0)|0,ga=ga+Math.imul(l0,z0)|0,as=as+Math.imul(l0,X0)|0;var qo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(qo>>>26)|0,qo&=67108863,ss=Math.imul(O0,_0),ga=Math.imul(O0,T0),ga=ga+Math.imul(B0,_0)|0,as=Math.imul(B0,T0),ss=ss+Math.imul(P0,A0)|0,ga=ga+Math.imul(P0,U0)|0,ga=ga+Math.imul(S0,A0)|0,as=as+Math.imul(S0,U0)|0,ss=ss+Math.imul(C0,L0)|0,ga=ga+Math.imul(C0,V0)|0,ga=ga+Math.imul($0,L0)|0,as=as+Math.imul($0,V0)|0,ss=ss+Math.imul(p0,G0)|0,ga=ga+Math.imul(p0,Z0)|0,ga=ga+Math.imul(E0,G0)|0,as=as+Math.imul(E0,Z0)|0,ss=ss+Math.imul(y0,q0)|0,ga=ga+Math.imul(y0,Y0)|0,ga=ga+Math.imul(t0,q0)|0,as=as+Math.imul(t0,Y0)|0,ss=ss+Math.imul(b0,z0)|0,ga=ga+Math.imul(b0,X0)|0,ga=ga+Math.imul(f0,z0)|0,as=as+Math.imul(f0,X0)|0,ss=ss+Math.imul(a0,K0)|0,ga=ga+Math.imul(a0,bo)|0,ga=ga+Math.imul(l0,K0)|0,as=as+Math.imul(l0,bo)|0;var Fo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,ss=Math.imul(k0,_0),ga=Math.imul(k0,T0),ga=ga+Math.imul(D0,_0)|0,as=Math.imul(D0,T0),ss=ss+Math.imul(O0,A0)|0,ga=ga+Math.imul(O0,U0)|0,ga=ga+Math.imul(B0,A0)|0,as=as+Math.imul(B0,U0)|0,ss=ss+Math.imul(P0,L0)|0,ga=ga+Math.imul(P0,V0)|0,ga=ga+Math.imul(S0,L0)|0,as=as+Math.imul(S0,V0)|0,ss=ss+Math.imul(C0,G0)|0,ga=ga+Math.imul(C0,Z0)|0,ga=ga+Math.imul($0,G0)|0,as=as+Math.imul($0,Z0)|0,ss=ss+Math.imul(p0,q0)|0,ga=ga+Math.imul(p0,Y0)|0,ga=ga+Math.imul(E0,q0)|0,as=as+Math.imul(E0,Y0)|0,ss=ss+Math.imul(y0,z0)|0,ga=ga+Math.imul(y0,X0)|0,ga=ga+Math.imul(t0,z0)|0,as=as+Math.imul(t0,X0)|0,ss=ss+Math.imul(b0,K0)|0,ga=ga+Math.imul(b0,bo)|0,ga=ga+Math.imul(f0,K0)|0,as=as+Math.imul(f0,bo)|0,ss=ss+Math.imul(a0,W0)|0,ga=ga+Math.imul(a0,J0)|0,ga=ga+Math.imul(l0,W0)|0,as=as+Math.imul(l0,J0)|0;var Ko=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,ss=Math.imul(N0,_0),ga=Math.imul(N0,T0),ga=ga+Math.imul(F0,_0)|0,as=Math.imul(F0,T0),ss=ss+Math.imul(k0,A0)|0,ga=ga+Math.imul(k0,U0)|0,ga=ga+Math.imul(D0,A0)|0,as=as+Math.imul(D0,U0)|0,ss=ss+Math.imul(O0,L0)|0,ga=ga+Math.imul(O0,V0)|0,ga=ga+Math.imul(B0,L0)|0,as=as+Math.imul(B0,V0)|0,ss=ss+Math.imul(P0,G0)|0,ga=ga+Math.imul(P0,Z0)|0,ga=ga+Math.imul(S0,G0)|0,as=as+Math.imul(S0,Z0)|0,ss=ss+Math.imul(C0,q0)|0,ga=ga+Math.imul(C0,Y0)|0,ga=ga+Math.imul($0,q0)|0,as=as+Math.imul($0,Y0)|0,ss=ss+Math.imul(p0,z0)|0,ga=ga+Math.imul(p0,X0)|0,ga=ga+Math.imul(E0,z0)|0,as=as+Math.imul(E0,X0)|0,ss=ss+Math.imul(y0,K0)|0,ga=ga+Math.imul(y0,bo)|0,ga=ga+Math.imul(t0,K0)|0,as=as+Math.imul(t0,bo)|0,ss=ss+Math.imul(b0,W0)|0,ga=ga+Math.imul(b0,J0)|0,ga=ga+Math.imul(f0,W0)|0,as=as+Math.imul(f0,J0)|0,ss=ss+Math.imul(a0,H0)|0,ga=ga+Math.imul(a0,go)|0,ga=ga+Math.imul(l0,H0)|0,as=as+Math.imul(l0,go)|0;var Ho=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,ss=Math.imul(x0,_0),ga=Math.imul(x0,T0),ga=ga+Math.imul(u0,_0)|0,as=Math.imul(u0,T0),ss=ss+Math.imul(N0,A0)|0,ga=ga+Math.imul(N0,U0)|0,ga=ga+Math.imul(F0,A0)|0,as=as+Math.imul(F0,U0)|0,ss=ss+Math.imul(k0,L0)|0,ga=ga+Math.imul(k0,V0)|0,ga=ga+Math.imul(D0,L0)|0,as=as+Math.imul(D0,V0)|0,ss=ss+Math.imul(O0,G0)|0,ga=ga+Math.imul(O0,Z0)|0,ga=ga+Math.imul(B0,G0)|0,as=as+Math.imul(B0,Z0)|0,ss=ss+Math.imul(P0,q0)|0,ga=ga+Math.imul(P0,Y0)|0,ga=ga+Math.imul(S0,q0)|0,as=as+Math.imul(S0,Y0)|0,ss=ss+Math.imul(C0,z0)|0,ga=ga+Math.imul(C0,X0)|0,ga=ga+Math.imul($0,z0)|0,as=as+Math.imul($0,X0)|0,ss=ss+Math.imul(p0,K0)|0,ga=ga+Math.imul(p0,bo)|0,ga=ga+Math.imul(E0,K0)|0,as=as+Math.imul(E0,bo)|0,ss=ss+Math.imul(y0,W0)|0,ga=ga+Math.imul(y0,J0)|0,ga=ga+Math.imul(t0,W0)|0,as=as+Math.imul(t0,J0)|0,ss=ss+Math.imul(b0,H0)|0,ga=ga+Math.imul(b0,go)|0,ga=ga+Math.imul(f0,H0)|0,as=as+Math.imul(f0,go)|0,ss=ss+Math.imul(a0,Q0)|0,ga=ga+Math.imul(a0,wo)|0,ga=ga+Math.imul(l0,Q0)|0,as=as+Math.imul(l0,wo)|0;var Vo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,ss=Math.imul(x0,A0),ga=Math.imul(x0,U0),ga=ga+Math.imul(u0,A0)|0,as=Math.imul(u0,U0),ss=ss+Math.imul(N0,L0)|0,ga=ga+Math.imul(N0,V0)|0,ga=ga+Math.imul(F0,L0)|0,as=as+Math.imul(F0,V0)|0,ss=ss+Math.imul(k0,G0)|0,ga=ga+Math.imul(k0,Z0)|0,ga=ga+Math.imul(D0,G0)|0,as=as+Math.imul(D0,Z0)|0,ss=ss+Math.imul(O0,q0)|0,ga=ga+Math.imul(O0,Y0)|0,ga=ga+Math.imul(B0,q0)|0,as=as+Math.imul(B0,Y0)|0,ss=ss+Math.imul(P0,z0)|0,ga=ga+Math.imul(P0,X0)|0,ga=ga+Math.imul(S0,z0)|0,as=as+Math.imul(S0,X0)|0,ss=ss+Math.imul(C0,K0)|0,ga=ga+Math.imul(C0,bo)|0,ga=ga+Math.imul($0,K0)|0,as=as+Math.imul($0,bo)|0,ss=ss+Math.imul(p0,W0)|0,ga=ga+Math.imul(p0,J0)|0,ga=ga+Math.imul(E0,W0)|0,as=as+Math.imul(E0,J0)|0,ss=ss+Math.imul(y0,H0)|0,ga=ga+Math.imul(y0,go)|0,ga=ga+Math.imul(t0,H0)|0,as=as+Math.imul(t0,go)|0,ss=ss+Math.imul(b0,Q0)|0,ga=ga+Math.imul(b0,wo)|0,ga=ga+Math.imul(f0,Q0)|0,as=as+Math.imul(f0,wo)|0;var Go=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Go>>>26)|0,Go&=67108863,ss=Math.imul(x0,L0),ga=Math.imul(x0,V0),ga=ga+Math.imul(u0,L0)|0,as=Math.imul(u0,V0),ss=ss+Math.imul(N0,G0)|0,ga=ga+Math.imul(N0,Z0)|0,ga=ga+Math.imul(F0,G0)|0,as=as+Math.imul(F0,Z0)|0,ss=ss+Math.imul(k0,q0)|0,ga=ga+Math.imul(k0,Y0)|0,ga=ga+Math.imul(D0,q0)|0,as=as+Math.imul(D0,Y0)|0,ss=ss+Math.imul(O0,z0)|0,ga=ga+Math.imul(O0,X0)|0,ga=ga+Math.imul(B0,z0)|0,as=as+Math.imul(B0,X0)|0,ss=ss+Math.imul(P0,K0)|0,ga=ga+Math.imul(P0,bo)|0,ga=ga+Math.imul(S0,K0)|0,as=as+Math.imul(S0,bo)|0,ss=ss+Math.imul(C0,W0)|0,ga=ga+Math.imul(C0,J0)|0,ga=ga+Math.imul($0,W0)|0,as=as+Math.imul($0,J0)|0,ss=ss+Math.imul(p0,H0)|0,ga=ga+Math.imul(p0,go)|0,ga=ga+Math.imul(E0,H0)|0,as=as+Math.imul(E0,go)|0,ss=ss+Math.imul(y0,Q0)|0,ga=ga+Math.imul(y0,wo)|0,ga=ga+Math.imul(t0,Q0)|0,as=as+Math.imul(t0,wo)|0;var Zo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,ss=Math.imul(x0,G0),ga=Math.imul(x0,Z0),ga=ga+Math.imul(u0,G0)|0,as=Math.imul(u0,Z0),ss=ss+Math.imul(N0,q0)|0,ga=ga+Math.imul(N0,Y0)|0,ga=ga+Math.imul(F0,q0)|0,as=as+Math.imul(F0,Y0)|0,ss=ss+Math.imul(k0,z0)|0,ga=ga+Math.imul(k0,X0)|0,ga=ga+Math.imul(D0,z0)|0,as=as+Math.imul(D0,X0)|0,ss=ss+Math.imul(O0,K0)|0,ga=ga+Math.imul(O0,bo)|0,ga=ga+Math.imul(B0,K0)|0,as=as+Math.imul(B0,bo)|0,ss=ss+Math.imul(P0,W0)|0,ga=ga+Math.imul(P0,J0)|0,ga=ga+Math.imul(S0,W0)|0,as=as+Math.imul(S0,J0)|0,ss=ss+Math.imul(C0,H0)|0,ga=ga+Math.imul(C0,go)|0,ga=ga+Math.imul($0,H0)|0,as=as+Math.imul($0,go)|0,ss=ss+Math.imul(p0,Q0)|0,ga=ga+Math.imul(p0,wo)|0,ga=ga+Math.imul(E0,Q0)|0,as=as+Math.imul(E0,wo)|0;var Jo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Jo>>>26)|0,Jo&=67108863,ss=Math.imul(x0,q0),ga=Math.imul(x0,Y0),ga=ga+Math.imul(u0,q0)|0,as=Math.imul(u0,Y0),ss=ss+Math.imul(N0,z0)|0,ga=ga+Math.imul(N0,X0)|0,ga=ga+Math.imul(F0,z0)|0,as=as+Math.imul(F0,X0)|0,ss=ss+Math.imul(k0,K0)|0,ga=ga+Math.imul(k0,bo)|0,ga=ga+Math.imul(D0,K0)|0,as=as+Math.imul(D0,bo)|0,ss=ss+Math.imul(O0,W0)|0,ga=ga+Math.imul(O0,J0)|0,ga=ga+Math.imul(B0,W0)|0,as=as+Math.imul(B0,J0)|0,ss=ss+Math.imul(P0,H0)|0,ga=ga+Math.imul(P0,go)|0,ga=ga+Math.imul(S0,H0)|0,as=as+Math.imul(S0,go)|0,ss=ss+Math.imul(C0,Q0)|0,ga=ga+Math.imul(C0,wo)|0,ga=ga+Math.imul($0,Q0)|0,as=as+Math.imul($0,wo)|0;var Qo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,ss=Math.imul(x0,z0),ga=Math.imul(x0,X0),ga=ga+Math.imul(u0,z0)|0,as=Math.imul(u0,X0),ss=ss+Math.imul(N0,K0)|0,ga=ga+Math.imul(N0,bo)|0,ga=ga+Math.imul(F0,K0)|0,as=as+Math.imul(F0,bo)|0,ss=ss+Math.imul(k0,W0)|0,ga=ga+Math.imul(k0,J0)|0,ga=ga+Math.imul(D0,W0)|0,as=as+Math.imul(D0,J0)|0,ss=ss+Math.imul(O0,H0)|0,ga=ga+Math.imul(O0,go)|0,ga=ga+Math.imul(B0,H0)|0,as=as+Math.imul(B0,go)|0,ss=ss+Math.imul(P0,Q0)|0,ga=ga+Math.imul(P0,wo)|0,ga=ga+Math.imul(S0,Q0)|0,as=as+Math.imul(S0,wo)|0;var Xo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,ss=Math.imul(x0,K0),ga=Math.imul(x0,bo),ga=ga+Math.imul(u0,K0)|0,as=Math.imul(u0,bo),ss=ss+Math.imul(N0,W0)|0,ga=ga+Math.imul(N0,J0)|0,ga=ga+Math.imul(F0,W0)|0,as=as+Math.imul(F0,J0)|0,ss=ss+Math.imul(k0,H0)|0,ga=ga+Math.imul(k0,go)|0,ga=ga+Math.imul(D0,H0)|0,as=as+Math.imul(D0,go)|0,ss=ss+Math.imul(O0,Q0)|0,ga=ga+Math.imul(O0,wo)|0,ga=ga+Math.imul(B0,Q0)|0,as=as+Math.imul(B0,wo)|0;var Wo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,ss=Math.imul(x0,W0),ga=Math.imul(x0,J0),ga=ga+Math.imul(u0,W0)|0,as=Math.imul(u0,J0),ss=ss+Math.imul(N0,H0)|0,ga=ga+Math.imul(N0,go)|0,ga=ga+Math.imul(F0,H0)|0,as=as+Math.imul(F0,go)|0,ss=ss+Math.imul(k0,Q0)|0,ga=ga+Math.imul(k0,wo)|0,ga=ga+Math.imul(D0,Q0)|0,as=as+Math.imul(D0,wo)|0;var _f=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(_f>>>26)|0,_f&=67108863,ss=Math.imul(x0,H0),ga=Math.imul(x0,go),ga=ga+Math.imul(u0,H0)|0,as=Math.imul(u0,go),ss=ss+Math.imul(N0,Q0)|0,ga=ga+Math.imul(N0,wo)|0,ga=ga+Math.imul(F0,Q0)|0,as=as+Math.imul(F0,wo)|0;var _c=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(_c>>>26)|0,_c&=67108863,ss=Math.imul(x0,Q0),ga=Math.imul(x0,wo),ga=ga+Math.imul(u0,Q0)|0,as=Math.imul(u0,wo);var yl=(hs+ss|0)+((ga&8191)<<13)|0;return hs=(as+(ga>>>13)|0)+(yl>>>26)|0,yl&=67108863,ls[0]=No,ls[1]=Oo,ls[2]=jo,ls[3]=Uo,ls[4]=zo,ls[5]=qo,ls[6]=Fo,ls[7]=Ko,ls[8]=Ho,ls[9]=Vo,ls[10]=Go,ls[11]=Zo,ls[12]=Jo,ls[13]=Qo,ls[14]=Xo,ls[15]=Wo,ls[16]=_f,ls[17]=_c,ls[18]=yl,hs!==0&&(ls[19]=hs,es.length++),es};Math.imul||(bs=ps);function e0(ds,na,_a){_a.negative=na.negative^ds.negative,_a.length=ds.length+na.length;for(var es=0,ns=0,os=0;os<_a.length-1;os++){var ls=ns;ns=0;for(var hs=es&67108863,ss=Math.min(os,na.length-1),ga=Math.max(0,os-ds.length+1);ga<=ss;ga++){var as=os-ga,r0=ds.words[as]|0,a0=na.words[ga]|0,l0=r0*a0,s0=l0&67108863;ls=ls+(l0/67108864|0)|0,s0=s0+hs|0,hs=s0&67108863,ls=ls+(s0>>>26)|0,ns+=ls>>>26,ls&=67108863}_a.words[os]=hs,es=ls,ls=ns}return es!==0?_a.words[os]=es:_a.length--,_a.strip()}function gs(ds,na,_a){var es=new Ds;return es.mulp(ds,na,_a)}An.prototype.mulTo=function(na,_a){var es,ns=this.length+na.length;return this.length===10&&na.length===10?es=bs(this,na,_a):ns<63?es=ps(this,na,_a):ns<1024?es=e0(this,na,_a):es=gs(this,na,_a),es};function Ds(ds,na){this.x=ds,this.y=na}Ds.prototype.makeRBT=function(na){for(var _a=new Array(na),es=An.prototype._countBits(na)-1,ns=0;ns<na;ns++)_a[ns]=this.revBin(ns,es,na);return _a},Ds.prototype.revBin=function(na,_a,es){if(na===0||na===es-1)return na;for(var ns=0,os=0;os<_a;os++)ns|=(na&1)<<_a-os-1,na>>=1;return ns},Ds.prototype.permute=function(na,_a,es,ns,os,ls){for(var hs=0;hs<ls;hs++)ns[hs]=_a[na[hs]],os[hs]=es[na[hs]]},Ds.prototype.transform=function(na,_a,es,ns,os,ls){this.permute(ls,na,_a,es,ns,os);for(var hs=1;hs<os;hs<<=1)for(var ss=hs<<1,ga=Math.cos(2*Math.PI/ss),as=Math.sin(2*Math.PI/ss),r0=0;r0<os;r0+=ss)for(var a0=ga,l0=as,s0=0;s0<hs;s0++){var b0=es[r0+s0],f0=ns[r0+s0],m0=es[r0+s0+hs],y0=ns[r0+s0+hs],t0=a0*m0-l0*y0;y0=a0*y0+l0*m0,m0=t0,es[r0+s0]=b0+m0,ns[r0+s0]=f0+y0,es[r0+s0+hs]=b0-m0,ns[r0+s0+hs]=f0-y0,s0!==ss&&(t0=ga*a0-as*l0,l0=ga*l0+as*a0,a0=t0)}},Ds.prototype.guessLen13b=function(na,_a){var es=Math.max(_a,na)|1,ns=es&1,os=0;for(es=es/2|0;es;es=es>>>1)os++;return 1<<os+1+ns},Ds.prototype.conjugate=function(na,_a,es){if(!(es<=1))for(var ns=0;ns<es/2;ns++){var os=na[ns];na[ns]=na[es-ns-1],na[es-ns-1]=os,os=_a[ns],_a[ns]=-_a[es-ns-1],_a[es-ns-1]=-os}},Ds.prototype.normalize13b=function(na,_a){for(var es=0,ns=0;ns<_a/2;ns++){var os=Math.round(na[2*ns+1]/_a)*8192+Math.round(na[2*ns]/_a)+es;na[ns]=os&67108863,os<67108864?es=0:es=os/67108864|0}return na},Ds.prototype.convert13b=function(na,_a,es,ns){for(var os=0,ls=0;ls<_a;ls++)os=os+(na[ls]|0),es[2*ls]=os&8191,os=os>>>13,es[2*ls+1]=os&8191,os=os>>>13;for(ls=2*_a;ls<ns;++ls)es[ls]=0;Cn(os===0),Cn((os&-8192)===0)},Ds.prototype.stub=function(na){for(var _a=new Array(na),es=0;es<na;es++)_a[es]=0;return _a},Ds.prototype.mulp=function(na,_a,es){var ns=2*this.guessLen13b(na.length,_a.length),os=this.makeRBT(ns),ls=this.stub(ns),hs=new Array(ns),ss=new Array(ns),ga=new Array(ns),as=new Array(ns),r0=new Array(ns),a0=new Array(ns),l0=es.words;l0.length=ns,this.convert13b(na.words,na.length,hs,ns),this.convert13b(_a.words,_a.length,as,ns),this.transform(hs,ls,ss,ga,ns,os),this.transform(as,ls,r0,a0,ns,os);for(var s0=0;s0<ns;s0++){var b0=ss[s0]*r0[s0]-ga[s0]*a0[s0];ga[s0]=ss[s0]*a0[s0]+ga[s0]*r0[s0],ss[s0]=b0}return this.conjugate(ss,ga,ns),this.transform(ss,ga,l0,ls,ns,os),this.conjugate(l0,ls,ns),this.normalize13b(l0,ns),es.negative=na.negative^_a.negative,es.length=na.length+_a.length,es.strip()},An.prototype.mul=function(na){var _a=new An(null);return _a.words=new Array(this.length+na.length),this.mulTo(na,_a)},An.prototype.mulf=function(na){var _a=new An(null);return _a.words=new Array(this.length+na.length),gs(this,na,_a)},An.prototype.imul=function(na){return this.clone().mulTo(na,this)},An.prototype.imuln=function(na){Cn(typeof na=="number"),Cn(na<67108864);for(var _a=0,es=0;es<this.length;es++){var ns=(this.words[es]|0)*na,os=(ns&67108863)+(_a&67108863);_a>>=26,_a+=ns/67108864|0,_a+=os>>>26,this.words[es]=os&67108863}return _a!==0&&(this.words[es]=_a,this.length++),this},An.prototype.muln=function(na){return this.clone().imuln(na)},An.prototype.sqr=function(){return this.mul(this)},An.prototype.isqr=function(){return this.imul(this.clone())},An.prototype.pow=function(na){var _a=us(na);if(_a.length===0)return new An(1);for(var es=this,ns=0;ns<_a.length&&_a[ns]===0;ns++,es=es.sqr());if(++ns<_a.length)for(var os=es.sqr();ns<_a.length;ns++,os=os.sqr())_a[ns]!==0&&(es=es.mul(os));return es},An.prototype.iushln=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26,ns=67108863>>>26-_a<<26-_a,os;if(_a!==0){var ls=0;for(os=0;os<this.length;os++){var hs=this.words[os]&ns,ss=(this.words[os]|0)-hs<<_a;this.words[os]=ss|ls,ls=hs>>>26-_a}ls&&(this.words[os]=ls,this.length++)}if(es!==0){for(os=this.length-1;os>=0;os--)this.words[os+es]=this.words[os];for(os=0;os<es;os++)this.words[os]=0;this.length+=es}return this.strip()},An.prototype.ishln=function(na){return Cn(this.negative===0),this.iushln(na)},An.prototype.iushrn=function(na,_a,es){Cn(typeof na=="number"&&na>=0);var ns;_a?ns=(_a-_a%26)/26:ns=0;var os=na%26,ls=Math.min((na-os)/26,this.length),hs=67108863^67108863>>>os<<os,ss=es;if(ns-=ls,ns=Math.max(0,ns),ss){for(var ga=0;ga<ls;ga++)ss.words[ga]=this.words[ga];ss.length=ls}if(ls!==0)if(this.length>ls)for(this.length-=ls,ga=0;ga<this.length;ga++)this.words[ga]=this.words[ga+ls];else this.words[0]=0,this.length=1;var as=0;for(ga=this.length-1;ga>=0&&(as!==0||ga>=ns);ga--){var r0=this.words[ga]|0;this.words[ga]=as<<26-os|r0>>>os,as=r0&hs}return ss&&as!==0&&(ss.words[ss.length++]=as),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},An.prototype.ishrn=function(na,_a,es){return Cn(this.negative===0),this.iushrn(na,_a,es)},An.prototype.shln=function(na){return this.clone().ishln(na)},An.prototype.ushln=function(na){return this.clone().iushln(na)},An.prototype.shrn=function(na){return this.clone().ishrn(na)},An.prototype.ushrn=function(na){return this.clone().iushrn(na)},An.prototype.testn=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26,ns=1<<_a;if(this.length<=es)return!1;var os=this.words[es];return!!(os&ns)},An.prototype.imaskn=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26;if(Cn(this.negative===0,"imaskn works only with positive numbers"),this.length<=es)return this;if(_a!==0&&es++,this.length=Math.min(es,this.length),_a!==0){var ns=67108863^67108863>>>_a<<_a;this.words[this.length-1]&=ns}return this.strip()},An.prototype.maskn=function(na){return this.clone().imaskn(na)},An.prototype.iaddn=function(na){return Cn(typeof na=="number"),Cn(na<67108864),na<0?this.isubn(-na):this.negative!==0?this.length===1&&(this.words[0]|0)<na?(this.words[0]=na-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(na),this.negative=1,this):this._iaddn(na)},An.prototype._iaddn=function(na){this.words[0]+=na;for(var _a=0;_a<this.length&&this.words[_a]>=67108864;_a++)this.words[_a]-=67108864,_a===this.length-1?this.words[_a+1]=1:this.words[_a+1]++;return this.length=Math.max(this.length,_a+1),this},An.prototype.isubn=function(na){if(Cn(typeof na=="number"),Cn(na<67108864),na<0)return this.iaddn(-na);if(this.negative!==0)return this.negative=0,this.iaddn(na),this.negative=1,this;if(this.words[0]-=na,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _a=0;_a<this.length&&this.words[_a]<0;_a++)this.words[_a]+=67108864,this.words[_a+1]-=1;return this.strip()},An.prototype.addn=function(na){return this.clone().iaddn(na)},An.prototype.subn=function(na){return this.clone().isubn(na)},An.prototype.iabs=function(){return this.negative=0,this},An.prototype.abs=function(){return this.clone().iabs()},An.prototype._ishlnsubmul=function(na,_a,es){var ns=na.length+es,os;this._expand(ns);var ls,hs=0;for(os=0;os<na.length;os++){ls=(this.words[os+es]|0)+hs;var ss=(na.words[os]|0)*_a;ls-=ss&67108863,hs=(ls>>26)-(ss/67108864|0),this.words[os+es]=ls&67108863}for(;os<this.length-es;os++)ls=(this.words[os+es]|0)+hs,hs=ls>>26,this.words[os+es]=ls&67108863;if(hs===0)return this.strip();for(Cn(hs===-1),hs=0,os=0;os<this.length;os++)ls=-(this.words[os]|0)+hs,hs=ls>>26,this.words[os]=ls&67108863;return this.negative=1,this.strip()},An.prototype._wordDiv=function(na,_a){var es=this.length-na.length,ns=this.clone(),os=na,ls=os.words[os.length-1]|0,hs=this._countBits(ls);es=26-hs,es!==0&&(os=os.ushln(es),ns.iushln(es),ls=os.words[os.length-1]|0);var ss=ns.length-os.length,ga;if(_a!=="mod"){ga=new An(null),ga.length=ss+1,ga.words=new Array(ga.length);for(var as=0;as<ga.length;as++)ga.words[as]=0}var r0=ns.clone()._ishlnsubmul(os,1,ss);r0.negative===0&&(ns=r0,ga&&(ga.words[ss]=1));for(var a0=ss-1;a0>=0;a0--){var l0=(ns.words[os.length+a0]|0)*67108864+(ns.words[os.length+a0-1]|0);for(l0=Math.min(l0/ls|0,67108863),ns._ishlnsubmul(os,l0,a0);ns.negative!==0;)l0--,ns.negative=0,ns._ishlnsubmul(os,1,a0),ns.isZero()||(ns.negative^=1);ga&&(ga.words[a0]=l0)}return ga&&ga.strip(),ns.strip(),_a!=="div"&&es!==0&&ns.iushrn(es),{div:ga||null,mod:ns}},An.prototype.divmod=function(na,_a,es){if(Cn(!na.isZero()),this.isZero())return{div:new An(0),mod:new An(0)};var ns,os,ls;return this.negative!==0&&na.negative===0?(ls=this.neg().divmod(na,_a),_a!=="mod"&&(ns=ls.div.neg()),_a!=="div"&&(os=ls.mod.neg(),es&&os.negative!==0&&os.iadd(na)),{div:ns,mod:os}):this.negative===0&&na.negative!==0?(ls=this.divmod(na.neg(),_a),_a!=="mod"&&(ns=ls.div.neg()),{div:ns,mod:ls.mod}):this.negative&na.negative?(ls=this.neg().divmod(na.neg(),_a),_a!=="div"&&(os=ls.mod.neg(),es&&os.negative!==0&&os.isub(na)),{div:ls.div,mod:os}):na.length>this.length||this.cmp(na)<0?{div:new An(0),mod:this}:na.length===1?_a==="div"?{div:this.divn(na.words[0]),mod:null}:_a==="mod"?{div:null,mod:new An(this.modn(na.words[0]))}:{div:this.divn(na.words[0]),mod:new An(this.modn(na.words[0]))}:this._wordDiv(na,_a)},An.prototype.div=function(na){return this.divmod(na,"div",!1).div},An.prototype.mod=function(na){return this.divmod(na,"mod",!1).mod},An.prototype.umod=function(na){return this.divmod(na,"mod",!0).mod},An.prototype.divRound=function(na){var _a=this.divmod(na);if(_a.mod.isZero())return _a.div;var es=_a.div.negative!==0?_a.mod.isub(na):_a.mod,ns=na.ushrn(1),os=na.andln(1),ls=es.cmp(ns);return ls<0||os===1&&ls===0?_a.div:_a.div.negative!==0?_a.div.isubn(1):_a.div.iaddn(1)},An.prototype.modn=function(na){Cn(na<=67108863);for(var _a=(1<<26)%na,es=0,ns=this.length-1;ns>=0;ns--)es=(_a*es+(this.words[ns]|0))%na;return es},An.prototype.idivn=function(na){Cn(na<=67108863);for(var _a=0,es=this.length-1;es>=0;es--){var ns=(this.words[es]|0)+_a*67108864;this.words[es]=ns/na|0,_a=ns%na}return this.strip()},An.prototype.divn=function(na){return this.clone().idivn(na)},An.prototype.egcd=function(na){Cn(na.negative===0),Cn(!na.isZero());var _a=this,es=na.clone();_a.negative!==0?_a=_a.umod(na):_a=_a.clone();for(var ns=new An(1),os=new An(0),ls=new An(0),hs=new An(1),ss=0;_a.isEven()&&es.isEven();)_a.iushrn(1),es.iushrn(1),++ss;for(var ga=es.clone(),as=_a.clone();!_a.isZero();){for(var r0=0,a0=1;!(_a.words[0]&a0)&&r0<26;++r0,a0<<=1);if(r0>0)for(_a.iushrn(r0);r0-- >0;)(ns.isOdd()||os.isOdd())&&(ns.iadd(ga),os.isub(as)),ns.iushrn(1),os.iushrn(1);for(var l0=0,s0=1;!(es.words[0]&s0)&&l0<26;++l0,s0<<=1);if(l0>0)for(es.iushrn(l0);l0-- >0;)(ls.isOdd()||hs.isOdd())&&(ls.iadd(ga),hs.isub(as)),ls.iushrn(1),hs.iushrn(1);_a.cmp(es)>=0?(_a.isub(es),ns.isub(ls),os.isub(hs)):(es.isub(_a),ls.isub(ns),hs.isub(os))}return{a:ls,b:hs,gcd:es.iushln(ss)}},An.prototype._invmp=function(na){Cn(na.negative===0),Cn(!na.isZero());var _a=this,es=na.clone();_a.negative!==0?_a=_a.umod(na):_a=_a.clone();for(var ns=new An(1),os=new An(0),ls=es.clone();_a.cmpn(1)>0&&es.cmpn(1)>0;){for(var hs=0,ss=1;!(_a.words[0]&ss)&&hs<26;++hs,ss<<=1);if(hs>0)for(_a.iushrn(hs);hs-- >0;)ns.isOdd()&&ns.iadd(ls),ns.iushrn(1);for(var ga=0,as=1;!(es.words[0]&as)&&ga<26;++ga,as<<=1);if(ga>0)for(es.iushrn(ga);ga-- >0;)os.isOdd()&&os.iadd(ls),os.iushrn(1);_a.cmp(es)>=0?(_a.isub(es),ns.isub(os)):(es.isub(_a),os.isub(ns))}var r0;return _a.cmpn(1)===0?r0=ns:r0=os,r0.cmpn(0)<0&&r0.iadd(na),r0},An.prototype.gcd=function(na){if(this.isZero())return na.abs();if(na.isZero())return this.abs();var _a=this.clone(),es=na.clone();_a.negative=0,es.negative=0;for(var ns=0;_a.isEven()&&es.isEven();ns++)_a.iushrn(1),es.iushrn(1);do{for(;_a.isEven();)_a.iushrn(1);for(;es.isEven();)es.iushrn(1);var os=_a.cmp(es);if(os<0){var ls=_a;_a=es,es=ls}else if(os===0||es.cmpn(1)===0)break;_a.isub(es)}while(!0);return es.iushln(ns)},An.prototype.invm=function(na){return this.egcd(na).a.umod(na)},An.prototype.isEven=function(){return(this.words[0]&1)===0},An.prototype.isOdd=function(){return(this.words[0]&1)===1},An.prototype.andln=function(na){return this.words[0]&na},An.prototype.bincn=function(na){Cn(typeof na=="number");var _a=na%26,es=(na-_a)/26,ns=1<<_a;if(this.length<=es)return this._expand(es+1),this.words[es]|=ns,this;for(var os=ns,ls=es;os!==0&&ls<this.length;ls++){var hs=this.words[ls]|0;hs+=os,os=hs>>>26,hs&=67108863,this.words[ls]=hs}return os!==0&&(this.words[ls]=os,this.length++),this},An.prototype.isZero=function(){return this.length===1&&this.words[0]===0},An.prototype.cmpn=function(na){var _a=na<0;if(this.negative!==0&&!_a)return-1;if(this.negative===0&&_a)return 1;this.strip();var es;if(this.length>1)es=1;else{_a&&(na=-na),Cn(na<=67108863,"Number is too big");var ns=this.words[0]|0;es=ns===na?0:ns<na?-1:1}return this.negative!==0?-es|0:es},An.prototype.cmp=function(na){if(this.negative!==0&&na.negative===0)return-1;if(this.negative===0&&na.negative!==0)return 1;var _a=this.ucmp(na);return this.negative!==0?-_a|0:_a},An.prototype.ucmp=function(na){if(this.length>na.length)return 1;if(this.length<na.length)return-1;for(var _a=0,es=this.length-1;es>=0;es--){var ns=this.words[es]|0,os=na.words[es]|0;if(ns!==os){ns<os?_a=-1:ns>os&&(_a=1);break}}return _a},An.prototype.gtn=function(na){return this.cmpn(na)===1},An.prototype.gt=function(na){return this.cmp(na)===1},An.prototype.gten=function(na){return this.cmpn(na)>=0},An.prototype.gte=function(na){return this.cmp(na)>=0},An.prototype.ltn=function(na){return this.cmpn(na)===-1},An.prototype.lt=function(na){return this.cmp(na)===-1},An.prototype.lten=function(na){return this.cmpn(na)<=0},An.prototype.lte=function(na){return this.cmp(na)<=0},An.prototype.eqn=function(na){return this.cmpn(na)===0},An.prototype.eq=function(na){return this.cmp(na)===0},An.red=function(na){return new w0(na)},An.prototype.toRed=function(na){return Cn(!this.red,"Already a number in reduction context"),Cn(this.negative===0,"red works only with positives"),na.convertTo(this)._forceRed(na)},An.prototype.fromRed=function(){return Cn(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},An.prototype._forceRed=function(na){return this.red=na,this},An.prototype.forceRed=function(na){return Cn(!this.red,"Already a number in reduction context"),this._forceRed(na)},An.prototype.redAdd=function(na){return Cn(this.red,"redAdd works only with red numbers"),this.red.add(this,na)},An.prototype.redIAdd=function(na){return Cn(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,na)},An.prototype.redSub=function(na){return Cn(this.red,"redSub works only with red numbers"),this.red.sub(this,na)},An.prototype.redISub=function(na){return Cn(this.red,"redISub works only with red numbers"),this.red.isub(this,na)},An.prototype.redShl=function(na){return Cn(this.red,"redShl works only with red numbers"),this.red.shl(this,na)},An.prototype.redMul=function(na){return Cn(this.red,"redMul works only with red numbers"),this.red._verify2(this,na),this.red.mul(this,na)},An.prototype.redIMul=function(na){return Cn(this.red,"redMul works only with red numbers"),this.red._verify2(this,na),this.red.imul(this,na)},An.prototype.redSqr=function(){return Cn(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},An.prototype.redISqr=function(){return Cn(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},An.prototype.redSqrt=function(){return Cn(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},An.prototype.redInvm=function(){return Cn(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},An.prototype.redNeg=function(){return Cn(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},An.prototype.redPow=function(na){return Cn(this.red&&!na.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,na)};var i0={k256:null,p224:null,p192:null,p25519:null};function n0(ds,na){this.name=ds,this.p=new An(na,16),this.n=this.p.bitLength(),this.k=new An(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}n0.prototype._tmp=function(){var na=new An(null);return na.words=new Array(Math.ceil(this.n/13)),na},n0.prototype.ireduce=function(na){var _a=na,es;do this.split(_a,this.tmp),_a=this.imulK(_a),_a=_a.iadd(this.tmp),es=_a.bitLength();while(es>this.n);var ns=es<this.n?-1:_a.ucmp(this.p);return ns===0?(_a.words[0]=0,_a.length=1):ns>0?_a.isub(this.p):_a.strip!==void 0?_a.strip():_a._strip(),_a},n0.prototype.split=function(na,_a){na.iushrn(this.n,0,_a)},n0.prototype.imulK=function(na){return na.imul(this.k)};function c0(){n0.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}_i(c0,n0),c0.prototype.split=function(na,_a){for(var es=4194303,ns=Math.min(na.length,9),os=0;os<ns;os++)_a.words[os]=na.words[os];if(_a.length=ns,na.length<=9){na.words[0]=0,na.length=1;return}var ls=na.words[9];for(_a.words[_a.length++]=ls&es,os=10;os<na.length;os++){var hs=na.words[os]|0;na.words[os-10]=(hs&es)<<4|ls>>>22,ls=hs}ls>>>=22,na.words[os-10]=ls,ls===0&&na.length>10?na.length-=10:na.length-=9},c0.prototype.imulK=function(na){na.words[na.length]=0,na.words[na.length+1]=0,na.length+=2;for(var _a=0,es=0;es<na.length;es++){var ns=na.words[es]|0;_a+=ns*977,na.words[es]=_a&67108863,_a=ns*64+(_a/67108864|0)}return na.words[na.length-1]===0&&(na.length--,na.words[na.length-1]===0&&na.length--),na};function d0(){n0.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}_i(d0,n0);function o0(){n0.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}_i(o0,n0);function g0(){n0.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}_i(g0,n0),g0.prototype.imulK=function(na){for(var _a=0,es=0;es<na.length;es++){var ns=(na.words[es]|0)*19+_a,os=ns&67108863;ns>>>=26,na.words[es]=os,_a=ns}return _a!==0&&(na.words[na.length++]=_a),na},An._prime=function(na){if(i0[na])return i0[na];var _a;if(na==="k256")_a=new c0;else if(na==="p224")_a=new d0;else if(na==="p192")_a=new o0;else if(na==="p25519")_a=new g0;else throw new Error("Unknown prime "+na);return i0[na]=_a,_a};function w0(ds){if(typeof ds=="string"){var na=An._prime(ds);this.m=na.p,this.prime=na}else Cn(ds.gtn(1),"modulus must be greater than 1"),this.m=ds,this.prime=null}w0.prototype._verify1=function(na){Cn(na.negative===0,"red works only with positives"),Cn(na.red,"red works only with red numbers")},w0.prototype._verify2=function(na,_a){Cn((na.negative|_a.negative)===0,"red works only with positives"),Cn(na.red&&na.red===_a.red,"red works only with red numbers")},w0.prototype.imod=function(na){return this.prime?this.prime.ireduce(na)._forceRed(this):na.umod(this.m)._forceRed(this)},w0.prototype.neg=function(na){return na.isZero()?na.clone():this.m.sub(na)._forceRed(this)},w0.prototype.add=function(na,_a){this._verify2(na,_a);var es=na.add(_a);return es.cmp(this.m)>=0&&es.isub(this.m),es._forceRed(this)},w0.prototype.iadd=function(na,_a){this._verify2(na,_a);var es=na.iadd(_a);return es.cmp(this.m)>=0&&es.isub(this.m),es},w0.prototype.sub=function(na,_a){this._verify2(na,_a);var es=na.sub(_a);return es.cmpn(0)<0&&es.iadd(this.m),es._forceRed(this)},w0.prototype.isub=function(na,_a){this._verify2(na,_a);var es=na.isub(_a);return es.cmpn(0)<0&&es.iadd(this.m),es},w0.prototype.shl=function(na,_a){return this._verify1(na),this.imod(na.ushln(_a))},w0.prototype.imul=function(na,_a){return this._verify2(na,_a),this.imod(na.imul(_a))},w0.prototype.mul=function(na,_a){return this._verify2(na,_a),this.imod(na.mul(_a))},w0.prototype.isqr=function(na){return this.imul(na,na.clone())},w0.prototype.sqr=function(na){return this.mul(na,na)},w0.prototype.sqrt=function(na){if(na.isZero())return na.clone();var _a=this.m.andln(3);if(Cn(_a%2===1),_a===3){var es=this.m.add(new An(1)).iushrn(2);return this.pow(na,es)}for(var ns=this.m.subn(1),os=0;!ns.isZero()&&ns.andln(1)===0;)os++,ns.iushrn(1);Cn(!ns.isZero());var ls=new An(1).toRed(this),hs=ls.redNeg(),ss=this.m.subn(1).iushrn(1),ga=this.m.bitLength();for(ga=new An(2*ga*ga).toRed(this);this.pow(ga,ss).cmp(hs)!==0;)ga.redIAdd(hs);for(var as=this.pow(ga,ns),r0=this.pow(na,ns.addn(1).iushrn(1)),a0=this.pow(na,ns),l0=os;a0.cmp(ls)!==0;){for(var s0=a0,b0=0;s0.cmp(ls)!==0;b0++)s0=s0.redSqr();Cn(b0<l0);var f0=this.pow(as,new An(1).iushln(l0-b0-1));r0=r0.redMul(f0),as=f0.redSqr(),a0=a0.redMul(as),l0=b0}return r0},w0.prototype.invm=function(na){var _a=na._invmp(this.m);return _a.negative!==0?(_a.negative=0,this.imod(_a).redNeg()):this.imod(_a)},w0.prototype.pow=function(na,_a){if(_a.isZero())return new An(1).toRed(this);if(_a.cmpn(1)===0)return na.clone();var es=4,ns=new Array(1<<es);ns[0]=new An(1).toRed(this),ns[1]=na;for(var os=2;os<ns.length;os++)ns[os]=this.mul(ns[os-1],na);var ls=ns[0],hs=0,ss=0,ga=_a.bitLength()%26;for(ga===0&&(ga=26),os=_a.length-1;os>=0;os--){for(var as=_a.words[os],r0=ga-1;r0>=0;r0--){var a0=as>>r0&1;if(ls!==ns[0]&&(ls=this.sqr(ls)),a0===0&&hs===0){ss=0;continue}hs<<=1,hs|=a0,ss++,!(ss!==es&&(os!==0||r0!==0))&&(ls=this.mul(ls,ns[hs]),ss=0,hs=0)}ga=26}return ls},w0.prototype.convertTo=function(na){var _a=na.umod(this.m);return _a===na?_a.clone():_a},w0.prototype.convertFrom=function(na){var _a=na.clone();return _a.red=null,_a},An.mont=function(na){return new M0(na)};function M0(ds){w0.call(this,ds),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new An(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_i(M0,w0),M0.prototype.convertTo=function(na){return this.imod(na.ushln(this.shift))},M0.prototype.convertFrom=function(na){var _a=this.imod(na.mul(this.rinv));return _a.red=null,_a},M0.prototype.imul=function(na,_a){if(na.isZero()||_a.isZero())return na.words[0]=0,na.length=1,na;var es=na.imul(_a),ns=es.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),os=es.isub(ns).iushrn(this.shift),ls=os;return os.cmp(this.m)>=0?ls=os.isub(this.m):os.cmpn(0)<0&&(ls=os.iadd(this.m)),ls._forceRed(this)},M0.prototype.mul=function(na,_a){if(na.isZero()||_a.isZero())return new An(0)._forceRed(this);var es=na.mul(_a),ns=es.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),os=es.isub(ns).iushrn(this.shift),ls=os;return os.cmp(this.m)>=0?ls=os.isub(this.m):os.cmpn(0)<0&&(ls=os.iadd(this.m)),ls._forceRed(this)},M0.prototype.invm=function(na){var _a=this.imod(na._invmp(this.m).mul(this.r2));return _a._forceRed(this)}})(vn,commonjsGlobal)}(bn$7)),bn$7.exports}var api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(vn,fn){if(vn.indexOf)return vn.indexOf(fn);for(var En=0;En<vn.length;En++)if(vn[En]===fn)return En;return-1},Object_keys=function(vn){if(Object.keys)return Object.keys(vn);var fn=[];for(var En in vn)fn.push(En);return fn},forEach=function(vn,fn){if(vn.forEach)return vn.forEach(fn);for(var En=0;En<vn.length;En++)fn(vn[En],En,vn)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(vn,fn,En){Object.defineProperty(vn,fn,{writable:!0,enumerable:!1,configurable:!0,value:En})}}catch{return function(fn,En,Cn){fn[En]=Cn}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(fn){if(!(this instanceof Script))return new Script(fn);this.code=fn};Script.prototype.runInContext=function(vn){if(!(vn instanceof Context))throw new TypeError("needs a 'context' argument.");var fn=document.createElement("iframe");fn.style||(fn.style={}),fn.style.display="none",document.body.appendChild(fn);var En=fn.contentWindow,Cn=En.eval,_i=En.execScript;!Cn&&_i&&(_i.call(En,"null"),Cn=En.eval),forEach(Object_keys(vn),function(xa){En[xa]=vn[xa]}),forEach(globals,function(xa){vn[xa]&&(En[xa]=vn[xa])});var An=Object_keys(En),ba=Cn.call(En,this.code);return forEach(Object_keys(En),function(xa){(xa in vn||indexOf(An,xa)===-1)&&(vn[xa]=En[xa])}),forEach(globals,function(xa){xa in vn||defineProp(vn,xa,En[xa])}),document.body.removeChild(fn),ba},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(vn){var fn=Script.createContext(vn),En=this.runInContext(fn);return vn&&forEach(Object_keys(fn),function(Cn){vn[Cn]=fn[Cn]}),En},forEach(Object_keys(Script.prototype),function(vn){exports[vn]=Script[vn]=function(fn){var En=Script(fn);return En[vn].apply(En,[].slice.call(arguments,1))}}),exports.isContext=function(vn){return vn instanceof Context},exports.createScript=function(vn){return exports.Script(vn)},exports.createContext=Script.createContext=function(vn){var fn=new Context;return typeof vn=="object"&&forEach(Object_keys(vn),function(En){fn[En]=vn[En]}),fn}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(vn){var fn=requireAsn1$1(),En=inherits_browserExports,Cn=vn;Cn.define=function(ba,xa){return new _i(ba,xa)};function _i(An,ba){this.name=An,this.body=ba,this.decoders={},this.encoders={}}_i.prototype._createNamed=function(ba){var xa;try{xa=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{xa=function(rs){this._initNamed(rs)}}return En(xa,ba),xa.prototype._initNamed=function(rs){ba.call(this,rs)},new xa(this)},_i.prototype._getDecoder=function(ba){return ba=ba||"der",this.decoders.hasOwnProperty(ba)||(this.decoders[ba]=this._createNamed(fn.decoders[ba])),this.decoders[ba]},_i.prototype.decode=function(ba,xa,$a){return this._getDecoder(xa).decode(ba,$a)},_i.prototype._getEncoder=function(ba){return ba=ba||"der",this.encoders.hasOwnProperty(ba)||(this.encoders[ba]=this._createNamed(fn.encoders[ba])),this.encoders[ba]},_i.prototype.encode=function(ba,xa,$a){return this._getEncoder(xa).encode(ba,$a)}}(api)),api}var base$2={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var vn=inherits_browserExports;function fn(Cn){this._reporterState={obj:null,path:[],options:Cn||{},errors:[]}}reporter.Reporter=fn,fn.prototype.isError=function(_i){return _i instanceof En},fn.prototype.save=function(){var _i=this._reporterState;return{obj:_i.obj,pathLen:_i.path.length}},fn.prototype.restore=function(_i){var An=this._reporterState;An.obj=_i.obj,An.path=An.path.slice(0,_i.pathLen)},fn.prototype.enterKey=function(_i){return this._reporterState.path.push(_i)},fn.prototype.exitKey=function(_i){var An=this._reporterState;An.path=An.path.slice(0,_i-1)},fn.prototype.leaveKey=function(_i,An,ba){var xa=this._reporterState;this.exitKey(_i),xa.obj!==null&&(xa.obj[An]=ba)},fn.prototype.path=function(){return this._reporterState.path.join("/")},fn.prototype.enterObject=function(){var _i=this._reporterState,An=_i.obj;return _i.obj={},An},fn.prototype.leaveObject=function(_i){var An=this._reporterState,ba=An.obj;return An.obj=_i,ba},fn.prototype.error=function(_i){var An,ba=this._reporterState,xa=_i instanceof En;if(xa?An=_i:An=new En(ba.path.map(function($a){return"["+JSON.stringify($a)+"]"}).join(""),_i.message||_i,_i.stack),!ba.options.partial)throw An;return xa||ba.errors.push(An),An},fn.prototype.wrapResult=function(_i){var An=this._reporterState;return An.options.partial?{result:this.isError(_i)?null:_i,errors:An.errors}:_i};function En(Cn,_i){this.path=Cn,this.rethrow(_i)}return vn(En,Error),En.prototype.rethrow=function(_i){if(this.message=_i+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,En),!this.stack)try{throw new Error(this.message)}catch(An){this.stack=An.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var vn=inherits_browserExports,fn=requireBase().Reporter,En=require$$0$a.Buffer;function Cn(An,ba){if(fn.call(this,ba),!En.isBuffer(An)){this.error("Input not Buffer");return}this.base=An,this.offset=0,this.length=An.length}vn(Cn,fn),buffer.DecoderBuffer=Cn,Cn.prototype.save=function(){return{offset:this.offset,reporter:fn.prototype.save.call(this)}},Cn.prototype.restore=function(ba){var xa=new Cn(this.base);return xa.offset=ba.offset,xa.length=this.offset,this.offset=ba.offset,fn.prototype.restore.call(this,ba.reporter),xa},Cn.prototype.isEmpty=function(){return this.offset===this.length},Cn.prototype.readUInt8=function(ba){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(ba||"DecoderBuffer overrun")},Cn.prototype.skip=function(ba,xa){if(!(this.offset+ba<=this.length))return this.error(xa||"DecoderBuffer overrun");var $a=new Cn(this.base);return $a._reporterState=this._reporterState,$a.offset=this.offset,$a.length=this.offset+ba,this.offset+=ba,$a},Cn.prototype.raw=function(ba){return this.base.slice(ba?ba.offset:this.offset,this.length)};function _i(An,ba){if(Array.isArray(An))this.length=0,this.value=An.map(function(xa){return xa instanceof _i||(xa=new _i(xa,ba)),this.length+=xa.length,xa},this);else if(typeof An=="number"){if(!(0<=An&&An<=255))return ba.error("non-byte EncoderBuffer value");this.value=An,this.length=1}else if(typeof An=="string")this.value=An,this.length=En.byteLength(An);else if(En.isBuffer(An))this.value=An,this.length=An.length;else return ba.error("Unsupported type: "+typeof An)}return buffer.EncoderBuffer=_i,_i.prototype.join=function(ba,xa){return ba||(ba=new En(this.length)),xa||(xa=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function($a){$a.join(ba,xa),xa+=$a.length}):(typeof this.value=="number"?ba[xa]=this.value:typeof this.value=="string"?ba.write(this.value,xa):En.isBuffer(this.value)&&this.value.copy(ba,xa),xa+=this.length)),ba},buffer}var node,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var vn=requireBase().Reporter,fn=requireBase().EncoderBuffer,En=requireBase().DecoderBuffer,Cn=minimalisticAssert$1,_i=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],An=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(_i),ba=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function xa(rs,ts){var is={};this._baseState=is,is.enc=rs,is.parent=ts||null,is.children=null,is.tag=null,is.args=null,is.reverseArgs=null,is.choice=null,is.optional=!1,is.any=!1,is.obj=!1,is.use=null,is.useDecoder=null,is.key=null,is.default=null,is.explicit=null,is.implicit=null,is.contains=null,is.parent||(is.children=[],this._wrap())}node=xa;var $a=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return xa.prototype.clone=function(){var ts=this._baseState,is={};$a.forEach(function(us){is[us]=ts[us]});var cs=new this.constructor(is.parent);return cs._baseState=is,cs},xa.prototype._wrap=function(){var ts=this._baseState;An.forEach(function(is){this[is]=function(){var us=new this.constructor(this);return ts.children.push(us),us[is].apply(us,arguments)}},this)},xa.prototype._init=function(ts){var is=this._baseState;Cn(is.parent===null),ts.call(this),is.children=is.children.filter(function(cs){return cs._baseState.parent===this},this),Cn.equal(is.children.length,1,"Root node can have only one child")},xa.prototype._useArgs=function(ts){var is=this._baseState,cs=ts.filter(function(us){return us instanceof this.constructor},this);ts=ts.filter(function(us){return!(us instanceof this.constructor)},this),cs.length!==0&&(Cn(is.children===null),is.children=cs,cs.forEach(function(us){us._baseState.parent=this},this)),ts.length!==0&&(Cn(is.args===null),is.args=ts,is.reverseArgs=ts.map(function(us){if(typeof us!="object"||us.constructor!==Object)return us;var ps={};return Object.keys(us).forEach(function(bs){bs==(bs|0)&&(bs|=0);var e0=us[bs];ps[e0]=bs}),ps}))},ba.forEach(function(rs){xa.prototype[rs]=function(){var is=this._baseState;throw new Error(rs+" not implemented for encoding: "+is.enc)}}),_i.forEach(function(rs){xa.prototype[rs]=function(){var is=this._baseState,cs=Array.prototype.slice.call(arguments);return Cn(is.tag===null),is.tag=rs,this._useArgs(cs),this}}),xa.prototype.use=function(ts){Cn(ts);var is=this._baseState;return Cn(is.use===null),is.use=ts,this},xa.prototype.optional=function(){var ts=this._baseState;return ts.optional=!0,this},xa.prototype.def=function(ts){var is=this._baseState;return Cn(is.default===null),is.default=ts,is.optional=!0,this},xa.prototype.explicit=function(ts){var is=this._baseState;return Cn(is.explicit===null&&is.implicit===null),is.explicit=ts,this},xa.prototype.implicit=function(ts){var is=this._baseState;return Cn(is.explicit===null&&is.implicit===null),is.implicit=ts,this},xa.prototype.obj=function(){var ts=this._baseState,is=Array.prototype.slice.call(arguments);return ts.obj=!0,is.length!==0&&this._useArgs(is),this},xa.prototype.key=function(ts){var is=this._baseState;return Cn(is.key===null),is.key=ts,this},xa.prototype.any=function(){var ts=this._baseState;return ts.any=!0,this},xa.prototype.choice=function(ts){var is=this._baseState;return Cn(is.choice===null),is.choice=ts,this._useArgs(Object.keys(ts).map(function(cs){return ts[cs]})),this},xa.prototype.contains=function(ts){var is=this._baseState;return Cn(is.use===null),is.contains=ts,this},xa.prototype._decode=function(ts,is){var cs=this._baseState;if(cs.parent===null)return ts.wrapResult(cs.children[0]._decode(ts,is));var us=cs.default,ps=!0,bs=null;if(cs.key!==null&&(bs=ts.enterKey(cs.key)),cs.optional){var e0=null;if(cs.explicit!==null?e0=cs.explicit:cs.implicit!==null?e0=cs.implicit:cs.tag!==null&&(e0=cs.tag),e0===null&&!cs.any){var gs=ts.save();try{cs.choice===null?this._decodeGeneric(cs.tag,ts,is):this._decodeChoice(ts,is),ps=!0}catch{ps=!1}ts.restore(gs)}else if(ps=this._peekTag(ts,e0,cs.any),ts.isError(ps))return ps}var Ds;if(cs.obj&&ps&&(Ds=ts.enterObject()),ps){if(cs.explicit!==null){var i0=this._decodeTag(ts,cs.explicit);if(ts.isError(i0))return i0;ts=i0}var n0=ts.offset;if(cs.use===null&&cs.choice===null){if(cs.any)var gs=ts.save();var c0=this._decodeTag(ts,cs.implicit!==null?cs.implicit:cs.tag,cs.any);if(ts.isError(c0))return c0;cs.any?us=ts.raw(gs):ts=c0}if(is&&is.track&&cs.tag!==null&&is.track(ts.path(),n0,ts.length,"tagged"),is&&is.track&&cs.tag!==null&&is.track(ts.path(),ts.offset,ts.length,"content"),cs.any?us=us:cs.choice===null?us=this._decodeGeneric(cs.tag,ts,is):us=this._decodeChoice(ts,is),ts.isError(us))return us;if(!cs.any&&cs.choice===null&&cs.children!==null&&cs.children.forEach(function(g0){g0._decode(ts,is)}),cs.contains&&(cs.tag==="octstr"||cs.tag==="bitstr")){var d0=new En(us);us=this._getUse(cs.contains,ts._reporterState.obj)._decode(d0,is)}}return cs.obj&&ps&&(us=ts.leaveObject(Ds)),cs.key!==null&&(us!==null||ps===!0)?ts.leaveKey(bs,cs.key,us):bs!==null&&ts.exitKey(bs),us},xa.prototype._decodeGeneric=function(ts,is,cs){var us=this._baseState;return ts==="seq"||ts==="set"?null:ts==="seqof"||ts==="setof"?this._decodeList(is,ts,us.args[0],cs):/str$/.test(ts)?this._decodeStr(is,ts,cs):ts==="objid"&&us.args?this._decodeObjid(is,us.args[0],us.args[1],cs):ts==="objid"?this._decodeObjid(is,null,null,cs):ts==="gentime"||ts==="utctime"?this._decodeTime(is,ts,cs):ts==="null_"?this._decodeNull(is,cs):ts==="bool"?this._decodeBool(is,cs):ts==="objDesc"?this._decodeStr(is,ts,cs):ts==="int"||ts==="enum"?this._decodeInt(is,us.args&&us.args[0],cs):us.use!==null?this._getUse(us.use,is._reporterState.obj)._decode(is,cs):is.error("unknown tag: "+ts)},xa.prototype._getUse=function(ts,is){var cs=this._baseState;return cs.useDecoder=this._use(ts,is),Cn(cs.useDecoder._baseState.parent===null),cs.useDecoder=cs.useDecoder._baseState.children[0],cs.implicit!==cs.useDecoder._baseState.implicit&&(cs.useDecoder=cs.useDecoder.clone(),cs.useDecoder._baseState.implicit=cs.implicit),cs.useDecoder},xa.prototype._decodeChoice=function(ts,is){var cs=this._baseState,us=null,ps=!1;return Object.keys(cs.choice).some(function(bs){var e0=ts.save(),gs=cs.choice[bs];try{var Ds=gs._decode(ts,is);if(ts.isError(Ds))return!1;us={type:bs,value:Ds},ps=!0}catch{return ts.restore(e0),!1}return!0},this),ps?us:ts.error("Choice not matched")},xa.prototype._createEncoderBuffer=function(ts){return new fn(ts,this.reporter)},xa.prototype._encode=function(ts,is,cs){var us=this._baseState;if(!(us.default!==null&&us.default===ts)){var ps=this._encodeValue(ts,is,cs);if(ps!==void 0&&!this._skipDefault(ps,is,cs))return ps}},xa.prototype._encodeValue=function(ts,is,cs){var us=this._baseState;if(us.parent===null)return us.children[0]._encode(ts,is||new vn);var gs=null;if(this.reporter=is,us.optional&&ts===void 0)if(us.default!==null)ts=us.default;else return;var ps=null,bs=!1;if(us.any)gs=this._createEncoderBuffer(ts);else if(us.choice)gs=this._encodeChoice(ts,is);else if(us.contains)ps=this._getUse(us.contains,cs)._encode(ts,is),bs=!0;else if(us.children)ps=us.children.map(function(n0){if(n0._baseState.tag==="null_")return n0._encode(null,is,ts);if(n0._baseState.key===null)return is.error("Child should have a key");var c0=is.enterKey(n0._baseState.key);if(typeof ts!="object")return is.error("Child expected, but input is not object");var d0=n0._encode(ts[n0._baseState.key],is,ts);return is.leaveKey(c0),d0},this).filter(function(n0){return n0}),ps=this._createEncoderBuffer(ps);else if(us.tag==="seqof"||us.tag==="setof"){if(!(us.args&&us.args.length===1))return is.error("Too many args for : "+us.tag);if(!Array.isArray(ts))return is.error("seqof/setof, but data is not Array");var e0=this.clone();e0._baseState.implicit=null,ps=this._createEncoderBuffer(ts.map(function(n0){var c0=this._baseState;return this._getUse(c0.args[0],ts)._encode(n0,is)},e0))}else us.use!==null?gs=this._getUse(us.use,cs)._encode(ts,is):(ps=this._encodePrimitive(us.tag,ts),bs=!0);var gs;if(!us.any&&us.choice===null){var Ds=us.implicit!==null?us.implicit:us.tag,i0=us.implicit===null?"universal":"context";Ds===null?us.use===null&&is.error("Tag could be omitted only for .use()"):us.use===null&&(gs=this._encodeComposite(Ds,bs,i0,ps))}return us.explicit!==null&&(gs=this._encodeComposite(us.explicit,!1,"context",gs)),gs},xa.prototype._encodeChoice=function(ts,is){var cs=this._baseState,us=cs.choice[ts.type];return us||Cn(!1,ts.type+" not found in "+JSON.stringify(Object.keys(cs.choice))),us._encode(ts.value,is)},xa.prototype._encodePrimitive=function(ts,is){var cs=this._baseState;if(/str$/.test(ts))return this._encodeStr(is,ts);if(ts==="objid"&&cs.args)return this._encodeObjid(is,cs.reverseArgs[0],cs.args[1]);if(ts==="objid")return this._encodeObjid(is,null,null);if(ts==="gentime"||ts==="utctime")return this._encodeTime(is,ts);if(ts==="null_")return this._encodeNull();if(ts==="int"||ts==="enum")return this._encodeInt(is,cs.args&&cs.reverseArgs[0]);if(ts==="bool")return this._encodeBool(is);if(ts==="objDesc")return this._encodeStr(is,ts);throw new Error("Unsupported tag: "+ts)},xa.prototype._isNumstr=function(ts){return/^[0-9 ]*$/.test(ts)},xa.prototype._isPrintstr=function(ts){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(ts)},node}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(vn){var fn=vn;fn.Reporter=requireReporter().Reporter,fn.DecoderBuffer=requireBuffer().DecoderBuffer,fn.EncoderBuffer=requireBuffer().EncoderBuffer,fn.Node=requireNode()}(base$2)),base$2}var constants={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(vn){var fn=requireConstants();vn.tagClass={0:"universal",1:"application",2:"context",3:"private"},vn.tagClassByName=fn._reverse(vn.tagClass),vn.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},vn.tagByName=fn._reverse(vn.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(vn){var fn=vn;fn._reverse=function(Cn){var _i={};return Object.keys(Cn).forEach(function(An){(An|0)==An&&(An=An|0);var ba=Cn[An];_i[ba]=An}),_i},fn.der=requireDer$2()}(constants)),constants}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var vn=inherits_browserExports,fn=requireAsn1$1(),En=fn.base,Cn=fn.bignum,_i=fn.constants.der;function An(rs){this.enc="der",this.name=rs.name,this.entity=rs,this.tree=new ba,this.tree._init(rs.body)}der_1$1=An,An.prototype.decode=function(ts,is){return ts instanceof En.DecoderBuffer||(ts=new En.DecoderBuffer(ts,is)),this.tree._decode(ts,is)};function ba(rs){En.Node.call(this,"der",rs)}vn(ba,En.Node),ba.prototype._peekTag=function(ts,is,cs){if(ts.isEmpty())return!1;var us=ts.save(),ps=xa(ts,'Failed to peek tag: "'+is+'"');return ts.isError(ps)?ps:(ts.restore(us),ps.tag===is||ps.tagStr===is||ps.tagStr+"of"===is||cs)},ba.prototype._decodeTag=function(ts,is,cs){var us=xa(ts,'Failed to decode tag of "'+is+'"');if(ts.isError(us))return us;var ps=$a(ts,us.primitive,'Failed to get length of "'+is+'"');if(ts.isError(ps))return ps;if(!cs&&us.tag!==is&&us.tagStr!==is&&us.tagStr+"of"!==is)return ts.error('Failed to match tag: "'+is+'"');if(us.primitive||ps!==null)return ts.skip(ps,'Failed to match body of: "'+is+'"');var bs=ts.save(),e0=this._skipUntilEnd(ts,'Failed to skip indefinite length body: "'+this.tag+'"');return ts.isError(e0)?e0:(ps=ts.offset-bs.offset,ts.restore(bs),ts.skip(ps,'Failed to match body of: "'+is+'"'))},ba.prototype._skipUntilEnd=function(ts,is){for(;;){var cs=xa(ts,is);if(ts.isError(cs))return cs;var us=$a(ts,cs.primitive,is);if(ts.isError(us))return us;var ps;if(cs.primitive||us!==null?ps=ts.skip(us):ps=this._skipUntilEnd(ts,is),ts.isError(ps))return ps;if(cs.tagStr==="end")break}},ba.prototype._decodeList=function(ts,is,cs,us){for(var ps=[];!ts.isEmpty();){var bs=this._peekTag(ts,"end");if(ts.isError(bs))return bs;var e0=cs.decode(ts,"der",us);if(ts.isError(e0)&&bs)break;ps.push(e0)}return ps},ba.prototype._decodeStr=function(ts,is){if(is==="bitstr"){var cs=ts.readUInt8();return ts.isError(cs)?cs:{unused:cs,data:ts.raw()}}else if(is==="bmpstr"){var us=ts.raw();if(us.length%2===1)return ts.error("Decoding of string type: bmpstr length mismatch");for(var ps="",bs=0;bs<us.length/2;bs++)ps+=String.fromCharCode(us.readUInt16BE(bs*2));return ps}else if(is==="numstr"){var e0=ts.raw().toString("ascii");return this._isNumstr(e0)?e0:ts.error("Decoding of string type: numstr unsupported characters")}else{if(is==="octstr")return ts.raw();if(is==="objDesc")return ts.raw();if(is==="printstr"){var gs=ts.raw().toString("ascii");return this._isPrintstr(gs)?gs:ts.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(is)?ts.raw().toString():ts.error("Decoding of string type: "+is+" unsupported")}},ba.prototype._decodeObjid=function(ts,is,cs){for(var us,ps=[],bs=0;!ts.isEmpty();){var e0=ts.readUInt8();bs<<=7,bs|=e0&127,e0&128||(ps.push(bs),bs=0)}e0&128&&ps.push(bs);var gs=ps[0]/40|0,Ds=ps[0]%40;if(cs?us=ps:us=[gs,Ds].concat(ps.slice(1)),is){var i0=is[us.join(" ")];i0===void 0&&(i0=is[us.join(".")]),i0!==void 0&&(us=i0)}return us},ba.prototype._decodeTime=function(ts,is){var cs=ts.raw().toString();if(is==="gentime")var us=cs.slice(0,4)|0,ps=cs.slice(4,6)|0,bs=cs.slice(6,8)|0,e0=cs.slice(8,10)|0,gs=cs.slice(10,12)|0,Ds=cs.slice(12,14)|0;else if(is==="utctime"){var us=cs.slice(0,2)|0,ps=cs.slice(2,4)|0,bs=cs.slice(4,6)|0,e0=cs.slice(6,8)|0,gs=cs.slice(8,10)|0,Ds=cs.slice(10,12)|0;us<70?us=2e3+us:us=1900+us}else return ts.error("Decoding "+is+" time is not supported yet");return Date.UTC(us,ps-1,bs,e0,gs,Ds,0)},ba.prototype._decodeNull=function(ts){return null},ba.prototype._decodeBool=function(ts){var is=ts.readUInt8();return ts.isError(is)?is:is!==0},ba.prototype._decodeInt=function(ts,is){var cs=ts.raw(),us=new Cn(cs);return is&&(us=is[us.toString(10)]||us),us},ba.prototype._use=function(ts,is){return typeof ts=="function"&&(ts=ts(is)),ts._getDecoder("der").tree};function xa(rs,ts){var is=rs.readUInt8(ts);if(rs.isError(is))return is;var cs=_i.tagClass[is>>6],us=(is&32)===0;if((is&31)===31){var ps=is;for(is=0;(ps&128)===128;){if(ps=rs.readUInt8(ts),rs.isError(ps))return ps;is<<=7,is|=ps&127}}else is&=31;var bs=_i.tag[is];return{cls:cs,primitive:us,tag:is,tagStr:bs}}function $a(rs,ts,is){var cs=rs.readUInt8(is);if(rs.isError(cs))return cs;if(!ts&&cs===128)return null;if(!(cs&128))return cs;var us=cs&127;if(us>4)return rs.error("length octect is too long");cs=0;for(var ps=0;ps<us;ps++){cs<<=8;var bs=rs.readUInt8(is);if(rs.isError(bs))return bs;cs|=bs}return cs}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var vn=inherits_browserExports,fn=require$$0$a.Buffer,En=requireDer$1();function Cn(_i){En.call(this,_i),this.enc="pem"}return vn(Cn,En),pem$1=Cn,Cn.prototype.decode=function(An,ba){for(var xa=An.toString().split(/[\r\n]+/g),$a=ba.label.toUpperCase(),rs=/^-----(BEGIN|END) ([^-]+)-----$/,ts=-1,is=-1,cs=0;cs<xa.length;cs++){var us=xa[cs].match(rs);if(us!==null&&us[2]===$a)if(ts===-1){if(us[1]!=="BEGIN")break;ts=cs}else{if(us[1]!=="END")break;is=cs;break}}if(ts===-1||is===-1)throw new Error("PEM section not found for: "+$a);var ps=xa.slice(ts+1,is).join("");ps.replace(/[^a-z0-9\+\/=]+/gi,"");var bs=new fn(ps,"base64");return En.prototype.decode.call(this,bs,ba)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(vn){var fn=vn;fn.der=requireDer$1(),fn.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var vn=inherits_browserExports,fn=require$$0$a.Buffer,En=requireAsn1$1(),Cn=En.base,_i=En.constants.der;function An(rs){this.enc="der",this.name=rs.name,this.entity=rs,this.tree=new ba,this.tree._init(rs.body)}der_1=An,An.prototype.encode=function(ts,is){return this.tree._encode(ts,is).join()};function ba(rs){Cn.Node.call(this,"der",rs)}vn(ba,Cn.Node),ba.prototype._encodeComposite=function(ts,is,cs,us){var ps=$a(ts,is,cs,this.reporter);if(us.length<128){var gs=new fn(2);return gs[0]=ps,gs[1]=us.length,this._createEncoderBuffer([gs,us])}for(var bs=1,e0=us.length;e0>=256;e0>>=8)bs++;var gs=new fn(2+bs);gs[0]=ps,gs[1]=128|bs;for(var e0=1+bs,Ds=us.length;Ds>0;e0--,Ds>>=8)gs[e0]=Ds&255;return this._createEncoderBuffer([gs,us])},ba.prototype._encodeStr=function(ts,is){if(is==="bitstr")return this._createEncoderBuffer([ts.unused|0,ts.data]);if(is==="bmpstr"){for(var cs=new fn(ts.length*2),us=0;us<ts.length;us++)cs.writeUInt16BE(ts.charCodeAt(us),us*2);return this._createEncoderBuffer(cs)}else return is==="numstr"?this._isNumstr(ts)?this._createEncoderBuffer(ts):this.reporter.error("Encoding of string type: numstr supports only digits and space"):is==="printstr"?this._isPrintstr(ts)?this._createEncoderBuffer(ts):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(is)?this._createEncoderBuffer(ts):is==="objDesc"?this._createEncoderBuffer(ts):this.reporter.error("Encoding of string type: "+is+" unsupported")},ba.prototype._encodeObjid=function(ts,is,cs){if(typeof ts=="string"){if(!is)return this.reporter.error("string objid given, but no values map found");if(!is.hasOwnProperty(ts))return this.reporter.error("objid not found in values map");ts=is[ts].split(/[\s\.]+/g);for(var us=0;us<ts.length;us++)ts[us]|=0}else if(Array.isArray(ts)){ts=ts.slice();for(var us=0;us<ts.length;us++)ts[us]|=0}if(!Array.isArray(ts))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(ts));if(!cs){if(ts[1]>=40)return this.reporter.error("Second objid identifier OOB");ts.splice(0,2,ts[0]*40+ts[1])}for(var ps=0,us=0;us<ts.length;us++){var bs=ts[us];for(ps++;bs>=128;bs>>=7)ps++}for(var e0=new fn(ps),gs=e0.length-1,us=ts.length-1;us>=0;us--){var bs=ts[us];for(e0[gs--]=bs&127;(bs>>=7)>0;)e0[gs--]=128|bs&127}return this._createEncoderBuffer(e0)};function xa(rs){return rs<10?"0"+rs:rs}ba.prototype._encodeTime=function(ts,is){var cs,us=new Date(ts);return is==="gentime"?cs=[xa(us.getFullYear()),xa(us.getUTCMonth()+1),xa(us.getUTCDate()),xa(us.getUTCHours()),xa(us.getUTCMinutes()),xa(us.getUTCSeconds()),"Z"].join(""):is==="utctime"?cs=[xa(us.getFullYear()%100),xa(us.getUTCMonth()+1),xa(us.getUTCDate()),xa(us.getUTCHours()),xa(us.getUTCMinutes()),xa(us.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+is+" time is not supported yet"),this._encodeStr(cs,"octstr")},ba.prototype._encodeNull=function(){return this._createEncoderBuffer("")},ba.prototype._encodeInt=function(ts,is){if(typeof ts=="string"){if(!is)return this.reporter.error("String int or enum given, but no values map");if(!is.hasOwnProperty(ts))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(ts));ts=is[ts]}if(typeof ts!="number"&&!fn.isBuffer(ts)){var cs=ts.toArray();!ts.sign&&cs[0]&128&&cs.unshift(0),ts=new fn(cs)}if(fn.isBuffer(ts)){var us=ts.length;ts.length===0&&us++;var bs=new fn(us);return ts.copy(bs),ts.length===0&&(bs[0]=0),this._createEncoderBuffer(bs)}if(ts<128)return this._createEncoderBuffer(ts);if(ts<256)return this._createEncoderBuffer([0,ts]);for(var us=1,ps=ts;ps>=256;ps>>=8)us++;for(var bs=new Array(us),ps=bs.length-1;ps>=0;ps--)bs[ps]=ts&255,ts>>=8;return bs[0]&128&&bs.unshift(0),this._createEncoderBuffer(new fn(bs))},ba.prototype._encodeBool=function(ts){return this._createEncoderBuffer(ts?255:0)},ba.prototype._use=function(ts,is){return typeof ts=="function"&&(ts=ts(is)),ts._getEncoder("der").tree},ba.prototype._skipDefault=function(ts,is,cs){var us=this._baseState,ps;if(us.default===null)return!1;var bs=ts.join();if(us.defaultBuffer===void 0&&(us.defaultBuffer=this._encodeValue(us.default,is,cs).join()),bs.length!==us.defaultBuffer.length)return!1;for(ps=0;ps<bs.length;ps++)if(bs[ps]!==us.defaultBuffer[ps])return!1;return!0};function $a(rs,ts,is,cs){var us;if(rs==="seqof"?rs="seq":rs==="setof"&&(rs="set"),_i.tagByName.hasOwnProperty(rs))us=_i.tagByName[rs];else if(typeof rs=="number"&&(rs|0)===rs)us=rs;else return cs.error("Unknown tag: "+rs);return us>=31?cs.error("Multi-octet tag encoding unsupported"):(ts||(us|=32),us|=_i.tagClassByName[is||"universal"]<<6,us)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var vn=inherits_browserExports,fn=requireDer();function En(Cn){fn.call(this,Cn),this.enc="pem"}return vn(En,fn),pem=En,En.prototype.encode=function(_i,An){for(var ba=fn.prototype.encode.call(this,_i),xa=ba.toString("base64"),$a=["-----BEGIN "+An.label+"-----"],rs=0;rs<xa.length;rs+=64)$a.push(xa.slice(rs,rs+64));return $a.push("-----END "+An.label+"-----"),$a.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(vn){var fn=vn;fn.der=requireDer(),fn.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(vn){var fn=vn;fn.bignum=requireBn$2(),fn.define=requireApi().define,fn.base=requireBase(),fn.constants=requireConstants(),fn.decoders=requireDecoders(),fn.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var vn=requireAsn1$1(),fn=vn.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),En=vn.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),Cn=vn.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),_i=vn.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Cn),this.key("subjectPublicKey").bitstr())}),An=vn.define("RelativeDistinguishedName",function(){this.setof(En)}),ba=vn.define("RDNSequence",function(){this.seqof(An)}),xa=vn.define("Name",function(){this.choice({rdnSequence:this.use(ba)})}),$a=vn.define("Validity",function(){this.seq().obj(this.key("notBefore").use(fn),this.key("notAfter").use(fn))}),rs=vn.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),ts=vn.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(Cn),this.key("issuer").use(xa),this.key("validity").use($a),this.key("subject").use(xa),this.key("subjectPublicKeyInfo").use(_i),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(rs).optional())}),is=vn.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(ts),this.key("signatureAlgorithm").use(Cn),this.key("signatureValue").bitstr())});return certificate=is,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var vn=requireAsn1$1();asn1$1.certificate=requireCertificate();var fn=vn.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=fn;var En=vn.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=En;var Cn=vn.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),_i=vn.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Cn),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=_i;var An=vn.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(Cn),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=An;var ba=vn.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=ba;var xa=vn.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=xa,asn1$1.DSAparam=vn.define("DSAparam",function(){this.int()});var $a=vn.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),rs=vn.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use($a),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=rs,asn1$1.signature=vn.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var vn=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,fn=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,En=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,Cn=requireEvp_bytestokey(),_i=requireBrowser$6(),An=requireSafeBuffer$1().Buffer;return fixProc=function(ba,xa){var $a=ba.toString(),rs=$a.match(vn),ts;if(rs){var cs="aes"+rs[1],us=An.from(rs[2],"hex"),ps=An.from(rs[3].replace(/[\r\n]/g,""),"base64"),bs=Cn(xa,us.slice(0,8),parseInt(rs[1],10)).key,e0=[],gs=_i.createDecipheriv(cs,bs,us);e0.push(gs.update(ps)),e0.push(gs.final()),ts=An.concat(e0)}else{var is=$a.match(En);ts=An.from(is[2].replace(/[\r\n]/g,""),"base64")}var Ds=$a.match(fn)[1];return{tag:Ds,data:ts}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var vn=requireAsn1(),fn=require$$1,En=requireFixProc(),Cn=requireBrowser$6(),_i=requireBrowser$7(),An=requireSafeBuffer$1().Buffer;function ba($a,rs){var ts=$a.algorithm.decrypt.kde.kdeparams.salt,is=parseInt($a.algorithm.decrypt.kde.kdeparams.iters.toString(),10),cs=fn[$a.algorithm.decrypt.cipher.algo.join(".")],us=$a.algorithm.decrypt.cipher.iv,ps=$a.subjectPrivateKey,bs=parseInt(cs.split("-")[1],10)/8,e0=_i.pbkdf2Sync(rs,ts,is,bs,"sha1"),gs=Cn.createDecipheriv(cs,e0,us),Ds=[];return Ds.push(gs.update(ps)),Ds.push(gs.final()),An.concat(Ds)}function xa($a){var rs;typeof $a=="object"&&!An.isBuffer($a)&&(rs=$a.passphrase,$a=$a.key),typeof $a=="string"&&($a=An.from($a));var ts=En($a,rs),is=ts.tag,cs=ts.data,us,ps;switch(is){case"CERTIFICATE":ps=vn.certificate.decode(cs,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(ps||(ps=vn.PublicKey.decode(cs,"der")),us=ps.algorithm.algorithm.join("."),us){case"1.2.840.113549.1.1.1":return vn.RSAPublicKey.decode(ps.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return ps.subjectPrivateKey=ps.subjectPublicKey,{type:"ec",data:ps};case"1.2.840.10040.4.1":return ps.algorithm.params.pub_key=vn.DSAparam.decode(ps.subjectPublicKey.data,"der"),{type:"dsa",data:ps.algorithm.params};default:throw new Error("unknown key id "+us)}case"ENCRYPTED PRIVATE KEY":cs=vn.EncryptedPrivateKey.decode(cs,"der"),cs=ba(cs,rs);case"PRIVATE KEY":switch(ps=vn.PrivateKey.decode(cs,"der"),us=ps.algorithm.algorithm.join("."),us){case"1.2.840.113549.1.1.1":return vn.RSAPrivateKey.decode(ps.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:ps.algorithm.curve,privateKey:vn.ECPrivateKey.decode(ps.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return ps.algorithm.params.priv_key=vn.DSAparam.decode(ps.subjectPrivateKey,"der"),{type:"dsa",params:ps.algorithm.params};default:throw new Error("unknown key id "+us)}case"RSA PUBLIC KEY":return vn.RSAPublicKey.decode(cs,"der");case"RSA PRIVATE KEY":return vn.RSAPrivateKey.decode(cs,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:vn.DSAPrivateKey.decode(cs,"der")};case"EC PRIVATE KEY":return cs=vn.ECPrivateKey.decode(cs,"der"),{curve:cs.parameters.value,privateKey:cs.privateKey};default:throw new Error("unknown key type "+is)}}return xa.signature=vn.signature,parseAsn1=xa,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var vn=requireSafeBuffer$1().Buffer,fn=requireBrowser$8(),En=requireBrowserifyRsa(),Cn=requireElliptic().ec,_i=bnExports$2,An=requireParseAsn1(),ba=require$$4,xa=1;function $a(gs,Ds,i0,n0,c0){var d0=An(Ds);if(d0.curve){if(n0!=="ecdsa"&&n0!=="ecdsa/rsa")throw new Error("wrong private key type");return rs(gs,d0)}else if(d0.type==="dsa"){if(n0!=="dsa")throw new Error("wrong private key type");return ts(gs,d0,i0)}if(n0!=="rsa"&&n0!=="ecdsa/rsa")throw new Error("wrong private key type");if(Ds.padding!==void 0&&Ds.padding!==xa)throw new Error("illegal or unsupported padding mode");gs=vn.concat([c0,gs]);for(var o0=d0.modulus.byteLength(),g0=[0,1];gs.length+g0.length+1<o0;)g0.push(255);g0.push(0);for(var w0=-1;++w0<gs.length;)g0.push(gs[w0]);var M0=En(g0,d0);return M0}function rs(gs,Ds){var i0=ba[Ds.curve.join(".")];if(!i0)throw new Error("unknown curve "+Ds.curve.join("."));var n0=new Cn(i0),c0=n0.keyFromPrivate(Ds.privateKey),d0=c0.sign(gs);return vn.from(d0.toDER())}function ts(gs,Ds,i0){for(var n0=Ds.params.priv_key,c0=Ds.params.p,d0=Ds.params.q,o0=Ds.params.g,g0=new _i(0),w0,M0=us(gs,d0).mod(d0),ds=!1,na=cs(n0,d0,gs,i0);ds===!1;)w0=bs(d0,na,i0),g0=e0(o0,w0,c0,d0),ds=w0.invm(d0).imul(M0.add(n0.mul(g0))).mod(d0),ds.cmpn(0)===0&&(ds=!1,g0=new _i(0));return is(g0,ds)}function is(gs,Ds){gs=gs.toArray(),Ds=Ds.toArray(),gs[0]&128&&(gs=[0].concat(gs)),Ds[0]&128&&(Ds=[0].concat(Ds));var i0=gs.length+Ds.length+4,n0=[48,i0,2,gs.length];return n0=n0.concat(gs,[2,Ds.length],Ds),vn.from(n0)}function cs(gs,Ds,i0,n0){if(gs=vn.from(gs.toArray()),gs.length<Ds.byteLength()){var c0=vn.alloc(Ds.byteLength()-gs.length);gs=vn.concat([c0,gs])}var d0=i0.length,o0=ps(i0,Ds),g0=vn.alloc(d0);g0.fill(1);var w0=vn.alloc(d0);return w0=fn(n0,w0).update(g0).update(vn.from([0])).update(gs).update(o0).digest(),g0=fn(n0,w0).update(g0).digest(),w0=fn(n0,w0).update(g0).update(vn.from([1])).update(gs).update(o0).digest(),g0=fn(n0,w0).update(g0).digest(),{k:w0,v:g0}}function us(gs,Ds){var i0=new _i(gs),n0=(gs.length<<3)-Ds.bitLength();return n0>0&&i0.ishrn(n0),i0}function ps(gs,Ds){gs=us(gs,Ds),gs=gs.mod(Ds);var i0=vn.from(gs.toArray());if(i0.length<Ds.byteLength()){var n0=vn.alloc(Ds.byteLength()-i0.length);i0=vn.concat([n0,i0])}return i0}function bs(gs,Ds,i0){var n0,c0;do{for(n0=vn.alloc(0);n0.length*8<gs.bitLength();)Ds.v=fn(i0,Ds.k).update(Ds.v).digest(),n0=vn.concat([n0,Ds.v]);c0=us(n0,gs),Ds.k=fn(i0,Ds.k).update(Ds.v).update(vn.from([0])).digest(),Ds.v=fn(i0,Ds.k).update(Ds.v).digest()}while(c0.cmp(gs)!==-1);return c0}function e0(gs,Ds,i0,n0){return gs.toRed(_i.mont(i0)).redPow(Ds).fromRed().mod(n0)}return sign.exports=$a,sign.exports.getKey=cs,sign.exports.makeKey=bs,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var vn=requireSafeBuffer$1().Buffer,fn=bnExports$2,En=requireElliptic().ec,Cn=requireParseAsn1(),_i=require$$4;function An(rs,ts,is,cs,us){var ps=Cn(is);if(ps.type==="ec"){if(cs!=="ecdsa"&&cs!=="ecdsa/rsa")throw new Error("wrong public key type");return ba(rs,ts,ps)}else if(ps.type==="dsa"){if(cs!=="dsa")throw new Error("wrong public key type");return xa(rs,ts,ps)}if(cs!=="rsa"&&cs!=="ecdsa/rsa")throw new Error("wrong public key type");ts=vn.concat([us,ts]);for(var bs=ps.modulus.byteLength(),e0=[1],gs=0;ts.length+e0.length+2<bs;)e0.push(255),gs+=1;e0.push(0);for(var Ds=-1;++Ds<ts.length;)e0.push(ts[Ds]);e0=vn.from(e0);var i0=fn.mont(ps.modulus);rs=new fn(rs).toRed(i0),rs=rs.redPow(new fn(ps.publicExponent)),rs=vn.from(rs.fromRed().toArray());var n0=gs<8?1:0;for(bs=Math.min(rs.length,e0.length),rs.length!==e0.length&&(n0=1),Ds=-1;++Ds<bs;)n0|=rs[Ds]^e0[Ds];return n0===0}function ba(rs,ts,is){var cs=_i[is.data.algorithm.curve.join(".")];if(!cs)throw new Error("unknown curve "+is.data.algorithm.curve.join("."));var us=new En(cs),ps=is.data.subjectPrivateKey.data;return us.verify(ts,rs,ps)}function xa(rs,ts,is){var cs=is.data.p,us=is.data.q,ps=is.data.g,bs=is.data.pub_key,e0=Cn.signature.decode(rs,"der"),gs=e0.s,Ds=e0.r;$a(gs,us),$a(Ds,us);var i0=fn.mont(cs),n0=gs.invm(us),c0=ps.toRed(i0).redPow(new fn(ts).mul(n0).mod(us)).fromRed().mul(bs.toRed(i0).redPow(Ds.mul(n0).mod(us)).fromRed()).mod(cs).mod(us);return c0.cmp(Ds)===0}function $a(rs,ts){if(rs.cmpn(0)<=0)throw new Error("invalid sig");if(rs.cmp(ts)>=0)throw new Error("invalid sig")}return verify_1=An,verify_1}var browser$5,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$5;hasRequiredBrowser$3=1;var vn=requireSafeBuffer$1().Buffer,fn=requireBrowser$9(),En=requireReadableBrowser(),Cn=inherits_browserExports,_i=requireSign(),An=requireVerify(),ba=require$$6;Object.keys(ba).forEach(function(is){ba[is].id=vn.from(ba[is].id,"hex"),ba[is.toLowerCase()]=ba[is]});function xa(is){En.Writable.call(this);var cs=ba[is];if(!cs)throw new Error("Unknown message digest");this._hashType=cs.hash,this._hash=fn(cs.hash),this._tag=cs.id,this._signType=cs.sign}Cn(xa,En.Writable),xa.prototype._write=function(cs,us,ps){this._hash.update(cs),ps()},xa.prototype.update=function(cs,us){return this._hash.update(typeof cs=="string"?vn.from(cs,us):cs),this},xa.prototype.sign=function(cs,us){this.end();var ps=this._hash.digest(),bs=_i(ps,cs,this._hashType,this._signType,this._tag);return us?bs.toString(us):bs};function $a(is){En.Writable.call(this);var cs=ba[is];if(!cs)throw new Error("Unknown message digest");this._hash=fn(cs.hash),this._tag=cs.id,this._signType=cs.sign}Cn($a,En.Writable),$a.prototype._write=function(cs,us,ps){this._hash.update(cs),ps()},$a.prototype.update=function(cs,us){return this._hash.update(typeof cs=="string"?vn.from(cs,us):cs),this},$a.prototype.verify=function(cs,us,ps){var bs=typeof us=="string"?vn.from(us,ps):us;this.end();var e0=this._hash.digest();return An(bs,e0,cs,this._signType,this._tag)};function rs(is){return new xa(is)}function ts(is){return new $a(is)}return browser$5={Sign:rs,Verify:ts,createSign:rs,createVerify:ts},browser$5}var bn$6={exports:{}};bn$6.exports;var hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(vn){(function(fn,En){function Cn(ds,na){if(!ds)throw new Error(na||"Assertion failed")}function _i(ds,na){ds.super_=na;var _a=function(){};_a.prototype=na.prototype,ds.prototype=new _a,ds.prototype.constructor=ds}function An(ds,na,_a){if(An.isBN(ds))return ds;this.negative=0,this.words=null,this.length=0,this.red=null,ds!==null&&((na==="le"||na==="be")&&(_a=na,na=10),this._init(ds||0,na||10,_a||"be"))}typeof fn=="object"?fn.exports=An:En.BN=An,An.BN=An,An.wordSize=26;var ba;try{typeof window<"u"&&typeof window.Buffer<"u"?ba=window.Buffer:ba=require$$0$a.Buffer}catch{}An.isBN=function(na){return na instanceof An?!0:na!==null&&typeof na=="object"&&na.constructor.wordSize===An.wordSize&&Array.isArray(na.words)},An.max=function(na,_a){return na.cmp(_a)>0?na:_a},An.min=function(na,_a){return na.cmp(_a)<0?na:_a},An.prototype._init=function(na,_a,es){if(typeof na=="number")return this._initNumber(na,_a,es);if(typeof na=="object")return this._initArray(na,_a,es);_a==="hex"&&(_a=16),Cn(_a===(_a|0)&&_a>=2&&_a<=36),na=na.toString().replace(/\s+/g,"");var ns=0;na[0]==="-"&&(ns++,this.negative=1),ns<na.length&&(_a===16?this._parseHex(na,ns,es):(this._parseBase(na,_a,ns),es==="le"&&this._initArray(this.toArray(),_a,es)))},An.prototype._initNumber=function(na,_a,es){na<0&&(this.negative=1,na=-na),na<67108864?(this.words=[na&67108863],this.length=1):na<4503599627370496?(this.words=[na&67108863,na/67108864&67108863],this.length=2):(Cn(na<9007199254740992),this.words=[na&67108863,na/67108864&67108863,1],this.length=3),es==="le"&&this._initArray(this.toArray(),_a,es)},An.prototype._initArray=function(na,_a,es){if(Cn(typeof na.length=="number"),na.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(na.length/3),this.words=new Array(this.length);for(var ns=0;ns<this.length;ns++)this.words[ns]=0;var os,ls,hs=0;if(es==="be")for(ns=na.length-1,os=0;ns>=0;ns-=3)ls=na[ns]|na[ns-1]<<8|na[ns-2]<<16,this.words[os]|=ls<<hs&67108863,this.words[os+1]=ls>>>26-hs&67108863,hs+=24,hs>=26&&(hs-=26,os++);else if(es==="le")for(ns=0,os=0;ns<na.length;ns+=3)ls=na[ns]|na[ns+1]<<8|na[ns+2]<<16,this.words[os]|=ls<<hs&67108863,this.words[os+1]=ls>>>26-hs&67108863,hs+=24,hs>=26&&(hs-=26,os++);return this.strip()};function xa(ds,na){var _a=ds.charCodeAt(na);return _a>=65&&_a<=70?_a-55:_a>=97&&_a<=102?_a-87:_a-48&15}function $a(ds,na,_a){var es=xa(ds,_a);return _a-1>=na&&(es|=xa(ds,_a-1)<<4),es}An.prototype._parseHex=function(na,_a,es){this.length=Math.ceil((na.length-_a)/6),this.words=new Array(this.length);for(var ns=0;ns<this.length;ns++)this.words[ns]=0;var os=0,ls=0,hs;if(es==="be")for(ns=na.length-1;ns>=_a;ns-=2)hs=$a(na,_a,ns)<<os,this.words[ls]|=hs&67108863,os>=18?(os-=18,ls+=1,this.words[ls]|=hs>>>26):os+=8;else{var ss=na.length-_a;for(ns=ss%2===0?_a+1:_a;ns<na.length;ns+=2)hs=$a(na,_a,ns)<<os,this.words[ls]|=hs&67108863,os>=18?(os-=18,ls+=1,this.words[ls]|=hs>>>26):os+=8}this.strip()};function rs(ds,na,_a,es){for(var ns=0,os=Math.min(ds.length,_a),ls=na;ls<os;ls++){var hs=ds.charCodeAt(ls)-48;ns*=es,hs>=49?ns+=hs-49+10:hs>=17?ns+=hs-17+10:ns+=hs}return ns}An.prototype._parseBase=function(na,_a,es){this.words=[0],this.length=1;for(var ns=0,os=1;os<=67108863;os*=_a)ns++;ns--,os=os/_a|0;for(var ls=na.length-es,hs=ls%ns,ss=Math.min(ls,ls-hs)+es,ga=0,as=es;as<ss;as+=ns)ga=rs(na,as,as+ns,_a),this.imuln(os),this.words[0]+ga<67108864?this.words[0]+=ga:this._iaddn(ga);if(hs!==0){var r0=1;for(ga=rs(na,as,na.length,_a),as=0;as<hs;as++)r0*=_a;this.imuln(r0),this.words[0]+ga<67108864?this.words[0]+=ga:this._iaddn(ga)}this.strip()},An.prototype.copy=function(na){na.words=new Array(this.length);for(var _a=0;_a<this.length;_a++)na.words[_a]=this.words[_a];na.length=this.length,na.negative=this.negative,na.red=this.red},An.prototype.clone=function(){var na=new An(null);return this.copy(na),na},An.prototype._expand=function(na){for(;this.length<na;)this.words[this.length++]=0;return this},An.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},An.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},An.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ts=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],is=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],cs=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];An.prototype.toString=function(na,_a){na=na||10,_a=_a|0||1;var es;if(na===16||na==="hex"){es="";for(var ns=0,os=0,ls=0;ls<this.length;ls++){var hs=this.words[ls],ss=((hs<<ns|os)&16777215).toString(16);os=hs>>>24-ns&16777215,ns+=2,ns>=26&&(ns-=26,ls--),os!==0||ls!==this.length-1?es=ts[6-ss.length]+ss+es:es=ss+es}for(os!==0&&(es=os.toString(16)+es);es.length%_a!==0;)es="0"+es;return this.negative!==0&&(es="-"+es),es}if(na===(na|0)&&na>=2&&na<=36){var ga=is[na],as=cs[na];es="";var r0=this.clone();for(r0.negative=0;!r0.isZero();){var a0=r0.modn(as).toString(na);r0=r0.idivn(as),r0.isZero()?es=a0+es:es=ts[ga-a0.length]+a0+es}for(this.isZero()&&(es="0"+es);es.length%_a!==0;)es="0"+es;return this.negative!==0&&(es="-"+es),es}Cn(!1,"Base should be between 2 and 36")},An.prototype.toNumber=function(){var na=this.words[0];return this.length===2?na+=this.words[1]*67108864:this.length===3&&this.words[2]===1?na+=4503599627370496+this.words[1]*67108864:this.length>2&&Cn(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-na:na},An.prototype.toJSON=function(){return this.toString(16)},An.prototype.toBuffer=function(na,_a){return Cn(typeof ba<"u"),this.toArrayLike(ba,na,_a)},An.prototype.toArray=function(na,_a){return this.toArrayLike(Array,na,_a)},An.prototype.toArrayLike=function(na,_a,es){var ns=this.byteLength(),os=es||Math.max(1,ns);Cn(ns<=os,"byte array longer than desired length"),Cn(os>0,"Requested array length <= 0"),this.strip();var ls=_a==="le",hs=new na(os),ss,ga,as=this.clone();if(ls){for(ga=0;!as.isZero();ga++)ss=as.andln(255),as.iushrn(8),hs[ga]=ss;for(;ga<os;ga++)hs[ga]=0}else{for(ga=0;ga<os-ns;ga++)hs[ga]=0;for(ga=0;!as.isZero();ga++)ss=as.andln(255),as.iushrn(8),hs[os-ga-1]=ss}return hs},Math.clz32?An.prototype._countBits=function(na){return 32-Math.clz32(na)}:An.prototype._countBits=function(na){var _a=na,es=0;return _a>=4096&&(es+=13,_a>>>=13),_a>=64&&(es+=7,_a>>>=7),_a>=8&&(es+=4,_a>>>=4),_a>=2&&(es+=2,_a>>>=2),es+_a},An.prototype._zeroBits=function(na){if(na===0)return 26;var _a=na,es=0;return _a&8191||(es+=13,_a>>>=13),_a&127||(es+=7,_a>>>=7),_a&15||(es+=4,_a>>>=4),_a&3||(es+=2,_a>>>=2),_a&1||es++,es},An.prototype.bitLength=function(){var na=this.words[this.length-1],_a=this._countBits(na);return(this.length-1)*26+_a};function us(ds){for(var na=new Array(ds.bitLength()),_a=0;_a<na.length;_a++){var es=_a/26|0,ns=_a%26;na[_a]=(ds.words[es]&1<<ns)>>>ns}return na}An.prototype.zeroBits=function(){if(this.isZero())return 0;for(var na=0,_a=0;_a<this.length;_a++){var es=this._zeroBits(this.words[_a]);if(na+=es,es!==26)break}return na},An.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},An.prototype.toTwos=function(na){return this.negative!==0?this.abs().inotn(na).iaddn(1):this.clone()},An.prototype.fromTwos=function(na){return this.testn(na-1)?this.notn(na).iaddn(1).ineg():this.clone()},An.prototype.isNeg=function(){return this.negative!==0},An.prototype.neg=function(){return this.clone().ineg()},An.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},An.prototype.iuor=function(na){for(;this.length<na.length;)this.words[this.length++]=0;for(var _a=0;_a<na.length;_a++)this.words[_a]=this.words[_a]|na.words[_a];return this.strip()},An.prototype.ior=function(na){return Cn((this.negative|na.negative)===0),this.iuor(na)},An.prototype.or=function(na){return this.length>na.length?this.clone().ior(na):na.clone().ior(this)},An.prototype.uor=function(na){return this.length>na.length?this.clone().iuor(na):na.clone().iuor(this)},An.prototype.iuand=function(na){var _a;this.length>na.length?_a=na:_a=this;for(var es=0;es<_a.length;es++)this.words[es]=this.words[es]&na.words[es];return this.length=_a.length,this.strip()},An.prototype.iand=function(na){return Cn((this.negative|na.negative)===0),this.iuand(na)},An.prototype.and=function(na){return this.length>na.length?this.clone().iand(na):na.clone().iand(this)},An.prototype.uand=function(na){return this.length>na.length?this.clone().iuand(na):na.clone().iuand(this)},An.prototype.iuxor=function(na){var _a,es;this.length>na.length?(_a=this,es=na):(_a=na,es=this);for(var ns=0;ns<es.length;ns++)this.words[ns]=_a.words[ns]^es.words[ns];if(this!==_a)for(;ns<_a.length;ns++)this.words[ns]=_a.words[ns];return this.length=_a.length,this.strip()},An.prototype.ixor=function(na){return Cn((this.negative|na.negative)===0),this.iuxor(na)},An.prototype.xor=function(na){return this.length>na.length?this.clone().ixor(na):na.clone().ixor(this)},An.prototype.uxor=function(na){return this.length>na.length?this.clone().iuxor(na):na.clone().iuxor(this)},An.prototype.inotn=function(na){Cn(typeof na=="number"&&na>=0);var _a=Math.ceil(na/26)|0,es=na%26;this._expand(_a),es>0&&_a--;for(var ns=0;ns<_a;ns++)this.words[ns]=~this.words[ns]&67108863;return es>0&&(this.words[ns]=~this.words[ns]&67108863>>26-es),this.strip()},An.prototype.notn=function(na){return this.clone().inotn(na)},An.prototype.setn=function(na,_a){Cn(typeof na=="number"&&na>=0);var es=na/26|0,ns=na%26;return this._expand(es+1),_a?this.words[es]=this.words[es]|1<<ns:this.words[es]=this.words[es]&~(1<<ns),this.strip()},An.prototype.iadd=function(na){var _a;if(this.negative!==0&&na.negative===0)return this.negative=0,_a=this.isub(na),this.negative^=1,this._normSign();if(this.negative===0&&na.negative!==0)return na.negative=0,_a=this.isub(na),na.negative=1,_a._normSign();var es,ns;this.length>na.length?(es=this,ns=na):(es=na,ns=this);for(var os=0,ls=0;ls<ns.length;ls++)_a=(es.words[ls]|0)+(ns.words[ls]|0)+os,this.words[ls]=_a&67108863,os=_a>>>26;for(;os!==0&&ls<es.length;ls++)_a=(es.words[ls]|0)+os,this.words[ls]=_a&67108863,os=_a>>>26;if(this.length=es.length,os!==0)this.words[this.length]=os,this.length++;else if(es!==this)for(;ls<es.length;ls++)this.words[ls]=es.words[ls];return this},An.prototype.add=function(na){var _a;return na.negative!==0&&this.negative===0?(na.negative=0,_a=this.sub(na),na.negative^=1,_a):na.negative===0&&this.negative!==0?(this.negative=0,_a=na.sub(this),this.negative=1,_a):this.length>na.length?this.clone().iadd(na):na.clone().iadd(this)},An.prototype.isub=function(na){if(na.negative!==0){na.negative=0;var _a=this.iadd(na);return na.negative=1,_a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(na),this.negative=1,this._normSign();var es=this.cmp(na);if(es===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ns,os;es>0?(ns=this,os=na):(ns=na,os=this);for(var ls=0,hs=0;hs<os.length;hs++)_a=(ns.words[hs]|0)-(os.words[hs]|0)+ls,ls=_a>>26,this.words[hs]=_a&67108863;for(;ls!==0&&hs<ns.length;hs++)_a=(ns.words[hs]|0)+ls,ls=_a>>26,this.words[hs]=_a&67108863;if(ls===0&&hs<ns.length&&ns!==this)for(;hs<ns.length;hs++)this.words[hs]=ns.words[hs];return this.length=Math.max(this.length,hs),ns!==this&&(this.negative=1),this.strip()},An.prototype.sub=function(na){return this.clone().isub(na)};function ps(ds,na,_a){_a.negative=na.negative^ds.negative;var es=ds.length+na.length|0;_a.length=es,es=es-1|0;var ns=ds.words[0]|0,os=na.words[0]|0,ls=ns*os,hs=ls&67108863,ss=ls/67108864|0;_a.words[0]=hs;for(var ga=1;ga<es;ga++){for(var as=ss>>>26,r0=ss&67108863,a0=Math.min(ga,na.length-1),l0=Math.max(0,ga-ds.length+1);l0<=a0;l0++){var s0=ga-l0|0;ns=ds.words[s0]|0,os=na.words[l0]|0,ls=ns*os+r0,as+=ls/67108864|0,r0=ls&67108863}_a.words[ga]=r0|0,ss=as|0}return ss!==0?_a.words[ga]=ss|0:_a.length--,_a.strip()}var bs=function(na,_a,es){var ns=na.words,os=_a.words,ls=es.words,hs=0,ss,ga,as,r0=ns[0]|0,a0=r0&8191,l0=r0>>>13,s0=ns[1]|0,b0=s0&8191,f0=s0>>>13,m0=ns[2]|0,y0=m0&8191,t0=m0>>>13,h0=ns[3]|0,p0=h0&8191,E0=h0>>>13,I0=ns[4]|0,C0=I0&8191,$0=I0>>>13,vo=ns[5]|0,P0=vo&8191,S0=vo>>>13,_o=ns[6]|0,O0=_o&8191,B0=_o>>>13,To=ns[7]|0,k0=To&8191,D0=To>>>13,Eo=ns[8]|0,N0=Eo&8191,F0=Eo>>>13,Co=ns[9]|0,x0=Co&8191,u0=Co>>>13,v0=os[0]|0,_0=v0&8191,T0=v0>>>13,j0=os[1]|0,A0=j0&8191,U0=j0>>>13,$o=os[2]|0,L0=$o&8191,V0=$o>>>13,Mo=os[3]|0,G0=Mo&8191,Z0=Mo>>>13,Io=os[4]|0,q0=Io&8191,Y0=Io>>>13,Ro=os[5]|0,z0=Ro&8191,X0=Ro>>>13,Po=os[6]|0,K0=Po&8191,bo=Po>>>13,ko=os[7]|0,W0=ko&8191,J0=ko>>>13,Ao=os[8]|0,H0=Ao&8191,go=Ao>>>13,Bo=os[9]|0,Q0=Bo&8191,wo=Bo>>>13;es.negative=na.negative^_a.negative,es.length=19,ss=Math.imul(a0,_0),ga=Math.imul(a0,T0),ga=ga+Math.imul(l0,_0)|0,as=Math.imul(l0,T0);var No=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(No>>>26)|0,No&=67108863,ss=Math.imul(b0,_0),ga=Math.imul(b0,T0),ga=ga+Math.imul(f0,_0)|0,as=Math.imul(f0,T0),ss=ss+Math.imul(a0,A0)|0,ga=ga+Math.imul(a0,U0)|0,ga=ga+Math.imul(l0,A0)|0,as=as+Math.imul(l0,U0)|0;var Oo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,ss=Math.imul(y0,_0),ga=Math.imul(y0,T0),ga=ga+Math.imul(t0,_0)|0,as=Math.imul(t0,T0),ss=ss+Math.imul(b0,A0)|0,ga=ga+Math.imul(b0,U0)|0,ga=ga+Math.imul(f0,A0)|0,as=as+Math.imul(f0,U0)|0,ss=ss+Math.imul(a0,L0)|0,ga=ga+Math.imul(a0,V0)|0,ga=ga+Math.imul(l0,L0)|0,as=as+Math.imul(l0,V0)|0;var jo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(jo>>>26)|0,jo&=67108863,ss=Math.imul(p0,_0),ga=Math.imul(p0,T0),ga=ga+Math.imul(E0,_0)|0,as=Math.imul(E0,T0),ss=ss+Math.imul(y0,A0)|0,ga=ga+Math.imul(y0,U0)|0,ga=ga+Math.imul(t0,A0)|0,as=as+Math.imul(t0,U0)|0,ss=ss+Math.imul(b0,L0)|0,ga=ga+Math.imul(b0,V0)|0,ga=ga+Math.imul(f0,L0)|0,as=as+Math.imul(f0,V0)|0,ss=ss+Math.imul(a0,G0)|0,ga=ga+Math.imul(a0,Z0)|0,ga=ga+Math.imul(l0,G0)|0,as=as+Math.imul(l0,Z0)|0;var Uo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,ss=Math.imul(C0,_0),ga=Math.imul(C0,T0),ga=ga+Math.imul($0,_0)|0,as=Math.imul($0,T0),ss=ss+Math.imul(p0,A0)|0,ga=ga+Math.imul(p0,U0)|0,ga=ga+Math.imul(E0,A0)|0,as=as+Math.imul(E0,U0)|0,ss=ss+Math.imul(y0,L0)|0,ga=ga+Math.imul(y0,V0)|0,ga=ga+Math.imul(t0,L0)|0,as=as+Math.imul(t0,V0)|0,ss=ss+Math.imul(b0,G0)|0,ga=ga+Math.imul(b0,Z0)|0,ga=ga+Math.imul(f0,G0)|0,as=as+Math.imul(f0,Z0)|0,ss=ss+Math.imul(a0,q0)|0,ga=ga+Math.imul(a0,Y0)|0,ga=ga+Math.imul(l0,q0)|0,as=as+Math.imul(l0,Y0)|0;var zo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(zo>>>26)|0,zo&=67108863,ss=Math.imul(P0,_0),ga=Math.imul(P0,T0),ga=ga+Math.imul(S0,_0)|0,as=Math.imul(S0,T0),ss=ss+Math.imul(C0,A0)|0,ga=ga+Math.imul(C0,U0)|0,ga=ga+Math.imul($0,A0)|0,as=as+Math.imul($0,U0)|0,ss=ss+Math.imul(p0,L0)|0,ga=ga+Math.imul(p0,V0)|0,ga=ga+Math.imul(E0,L0)|0,as=as+Math.imul(E0,V0)|0,ss=ss+Math.imul(y0,G0)|0,ga=ga+Math.imul(y0,Z0)|0,ga=ga+Math.imul(t0,G0)|0,as=as+Math.imul(t0,Z0)|0,ss=ss+Math.imul(b0,q0)|0,ga=ga+Math.imul(b0,Y0)|0,ga=ga+Math.imul(f0,q0)|0,as=as+Math.imul(f0,Y0)|0,ss=ss+Math.imul(a0,z0)|0,ga=ga+Math.imul(a0,X0)|0,ga=ga+Math.imul(l0,z0)|0,as=as+Math.imul(l0,X0)|0;var qo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(qo>>>26)|0,qo&=67108863,ss=Math.imul(O0,_0),ga=Math.imul(O0,T0),ga=ga+Math.imul(B0,_0)|0,as=Math.imul(B0,T0),ss=ss+Math.imul(P0,A0)|0,ga=ga+Math.imul(P0,U0)|0,ga=ga+Math.imul(S0,A0)|0,as=as+Math.imul(S0,U0)|0,ss=ss+Math.imul(C0,L0)|0,ga=ga+Math.imul(C0,V0)|0,ga=ga+Math.imul($0,L0)|0,as=as+Math.imul($0,V0)|0,ss=ss+Math.imul(p0,G0)|0,ga=ga+Math.imul(p0,Z0)|0,ga=ga+Math.imul(E0,G0)|0,as=as+Math.imul(E0,Z0)|0,ss=ss+Math.imul(y0,q0)|0,ga=ga+Math.imul(y0,Y0)|0,ga=ga+Math.imul(t0,q0)|0,as=as+Math.imul(t0,Y0)|0,ss=ss+Math.imul(b0,z0)|0,ga=ga+Math.imul(b0,X0)|0,ga=ga+Math.imul(f0,z0)|0,as=as+Math.imul(f0,X0)|0,ss=ss+Math.imul(a0,K0)|0,ga=ga+Math.imul(a0,bo)|0,ga=ga+Math.imul(l0,K0)|0,as=as+Math.imul(l0,bo)|0;var Fo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,ss=Math.imul(k0,_0),ga=Math.imul(k0,T0),ga=ga+Math.imul(D0,_0)|0,as=Math.imul(D0,T0),ss=ss+Math.imul(O0,A0)|0,ga=ga+Math.imul(O0,U0)|0,ga=ga+Math.imul(B0,A0)|0,as=as+Math.imul(B0,U0)|0,ss=ss+Math.imul(P0,L0)|0,ga=ga+Math.imul(P0,V0)|0,ga=ga+Math.imul(S0,L0)|0,as=as+Math.imul(S0,V0)|0,ss=ss+Math.imul(C0,G0)|0,ga=ga+Math.imul(C0,Z0)|0,ga=ga+Math.imul($0,G0)|0,as=as+Math.imul($0,Z0)|0,ss=ss+Math.imul(p0,q0)|0,ga=ga+Math.imul(p0,Y0)|0,ga=ga+Math.imul(E0,q0)|0,as=as+Math.imul(E0,Y0)|0,ss=ss+Math.imul(y0,z0)|0,ga=ga+Math.imul(y0,X0)|0,ga=ga+Math.imul(t0,z0)|0,as=as+Math.imul(t0,X0)|0,ss=ss+Math.imul(b0,K0)|0,ga=ga+Math.imul(b0,bo)|0,ga=ga+Math.imul(f0,K0)|0,as=as+Math.imul(f0,bo)|0,ss=ss+Math.imul(a0,W0)|0,ga=ga+Math.imul(a0,J0)|0,ga=ga+Math.imul(l0,W0)|0,as=as+Math.imul(l0,J0)|0;var Ko=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,ss=Math.imul(N0,_0),ga=Math.imul(N0,T0),ga=ga+Math.imul(F0,_0)|0,as=Math.imul(F0,T0),ss=ss+Math.imul(k0,A0)|0,ga=ga+Math.imul(k0,U0)|0,ga=ga+Math.imul(D0,A0)|0,as=as+Math.imul(D0,U0)|0,ss=ss+Math.imul(O0,L0)|0,ga=ga+Math.imul(O0,V0)|0,ga=ga+Math.imul(B0,L0)|0,as=as+Math.imul(B0,V0)|0,ss=ss+Math.imul(P0,G0)|0,ga=ga+Math.imul(P0,Z0)|0,ga=ga+Math.imul(S0,G0)|0,as=as+Math.imul(S0,Z0)|0,ss=ss+Math.imul(C0,q0)|0,ga=ga+Math.imul(C0,Y0)|0,ga=ga+Math.imul($0,q0)|0,as=as+Math.imul($0,Y0)|0,ss=ss+Math.imul(p0,z0)|0,ga=ga+Math.imul(p0,X0)|0,ga=ga+Math.imul(E0,z0)|0,as=as+Math.imul(E0,X0)|0,ss=ss+Math.imul(y0,K0)|0,ga=ga+Math.imul(y0,bo)|0,ga=ga+Math.imul(t0,K0)|0,as=as+Math.imul(t0,bo)|0,ss=ss+Math.imul(b0,W0)|0,ga=ga+Math.imul(b0,J0)|0,ga=ga+Math.imul(f0,W0)|0,as=as+Math.imul(f0,J0)|0,ss=ss+Math.imul(a0,H0)|0,ga=ga+Math.imul(a0,go)|0,ga=ga+Math.imul(l0,H0)|0,as=as+Math.imul(l0,go)|0;var Ho=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,ss=Math.imul(x0,_0),ga=Math.imul(x0,T0),ga=ga+Math.imul(u0,_0)|0,as=Math.imul(u0,T0),ss=ss+Math.imul(N0,A0)|0,ga=ga+Math.imul(N0,U0)|0,ga=ga+Math.imul(F0,A0)|0,as=as+Math.imul(F0,U0)|0,ss=ss+Math.imul(k0,L0)|0,ga=ga+Math.imul(k0,V0)|0,ga=ga+Math.imul(D0,L0)|0,as=as+Math.imul(D0,V0)|0,ss=ss+Math.imul(O0,G0)|0,ga=ga+Math.imul(O0,Z0)|0,ga=ga+Math.imul(B0,G0)|0,as=as+Math.imul(B0,Z0)|0,ss=ss+Math.imul(P0,q0)|0,ga=ga+Math.imul(P0,Y0)|0,ga=ga+Math.imul(S0,q0)|0,as=as+Math.imul(S0,Y0)|0,ss=ss+Math.imul(C0,z0)|0,ga=ga+Math.imul(C0,X0)|0,ga=ga+Math.imul($0,z0)|0,as=as+Math.imul($0,X0)|0,ss=ss+Math.imul(p0,K0)|0,ga=ga+Math.imul(p0,bo)|0,ga=ga+Math.imul(E0,K0)|0,as=as+Math.imul(E0,bo)|0,ss=ss+Math.imul(y0,W0)|0,ga=ga+Math.imul(y0,J0)|0,ga=ga+Math.imul(t0,W0)|0,as=as+Math.imul(t0,J0)|0,ss=ss+Math.imul(b0,H0)|0,ga=ga+Math.imul(b0,go)|0,ga=ga+Math.imul(f0,H0)|0,as=as+Math.imul(f0,go)|0,ss=ss+Math.imul(a0,Q0)|0,ga=ga+Math.imul(a0,wo)|0,ga=ga+Math.imul(l0,Q0)|0,as=as+Math.imul(l0,wo)|0;var Vo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,ss=Math.imul(x0,A0),ga=Math.imul(x0,U0),ga=ga+Math.imul(u0,A0)|0,as=Math.imul(u0,U0),ss=ss+Math.imul(N0,L0)|0,ga=ga+Math.imul(N0,V0)|0,ga=ga+Math.imul(F0,L0)|0,as=as+Math.imul(F0,V0)|0,ss=ss+Math.imul(k0,G0)|0,ga=ga+Math.imul(k0,Z0)|0,ga=ga+Math.imul(D0,G0)|0,as=as+Math.imul(D0,Z0)|0,ss=ss+Math.imul(O0,q0)|0,ga=ga+Math.imul(O0,Y0)|0,ga=ga+Math.imul(B0,q0)|0,as=as+Math.imul(B0,Y0)|0,ss=ss+Math.imul(P0,z0)|0,ga=ga+Math.imul(P0,X0)|0,ga=ga+Math.imul(S0,z0)|0,as=as+Math.imul(S0,X0)|0,ss=ss+Math.imul(C0,K0)|0,ga=ga+Math.imul(C0,bo)|0,ga=ga+Math.imul($0,K0)|0,as=as+Math.imul($0,bo)|0,ss=ss+Math.imul(p0,W0)|0,ga=ga+Math.imul(p0,J0)|0,ga=ga+Math.imul(E0,W0)|0,as=as+Math.imul(E0,J0)|0,ss=ss+Math.imul(y0,H0)|0,ga=ga+Math.imul(y0,go)|0,ga=ga+Math.imul(t0,H0)|0,as=as+Math.imul(t0,go)|0,ss=ss+Math.imul(b0,Q0)|0,ga=ga+Math.imul(b0,wo)|0,ga=ga+Math.imul(f0,Q0)|0,as=as+Math.imul(f0,wo)|0;var Go=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Go>>>26)|0,Go&=67108863,ss=Math.imul(x0,L0),ga=Math.imul(x0,V0),ga=ga+Math.imul(u0,L0)|0,as=Math.imul(u0,V0),ss=ss+Math.imul(N0,G0)|0,ga=ga+Math.imul(N0,Z0)|0,ga=ga+Math.imul(F0,G0)|0,as=as+Math.imul(F0,Z0)|0,ss=ss+Math.imul(k0,q0)|0,ga=ga+Math.imul(k0,Y0)|0,ga=ga+Math.imul(D0,q0)|0,as=as+Math.imul(D0,Y0)|0,ss=ss+Math.imul(O0,z0)|0,ga=ga+Math.imul(O0,X0)|0,ga=ga+Math.imul(B0,z0)|0,as=as+Math.imul(B0,X0)|0,ss=ss+Math.imul(P0,K0)|0,ga=ga+Math.imul(P0,bo)|0,ga=ga+Math.imul(S0,K0)|0,as=as+Math.imul(S0,bo)|0,ss=ss+Math.imul(C0,W0)|0,ga=ga+Math.imul(C0,J0)|0,ga=ga+Math.imul($0,W0)|0,as=as+Math.imul($0,J0)|0,ss=ss+Math.imul(p0,H0)|0,ga=ga+Math.imul(p0,go)|0,ga=ga+Math.imul(E0,H0)|0,as=as+Math.imul(E0,go)|0,ss=ss+Math.imul(y0,Q0)|0,ga=ga+Math.imul(y0,wo)|0,ga=ga+Math.imul(t0,Q0)|0,as=as+Math.imul(t0,wo)|0;var Zo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,ss=Math.imul(x0,G0),ga=Math.imul(x0,Z0),ga=ga+Math.imul(u0,G0)|0,as=Math.imul(u0,Z0),ss=ss+Math.imul(N0,q0)|0,ga=ga+Math.imul(N0,Y0)|0,ga=ga+Math.imul(F0,q0)|0,as=as+Math.imul(F0,Y0)|0,ss=ss+Math.imul(k0,z0)|0,ga=ga+Math.imul(k0,X0)|0,ga=ga+Math.imul(D0,z0)|0,as=as+Math.imul(D0,X0)|0,ss=ss+Math.imul(O0,K0)|0,ga=ga+Math.imul(O0,bo)|0,ga=ga+Math.imul(B0,K0)|0,as=as+Math.imul(B0,bo)|0,ss=ss+Math.imul(P0,W0)|0,ga=ga+Math.imul(P0,J0)|0,ga=ga+Math.imul(S0,W0)|0,as=as+Math.imul(S0,J0)|0,ss=ss+Math.imul(C0,H0)|0,ga=ga+Math.imul(C0,go)|0,ga=ga+Math.imul($0,H0)|0,as=as+Math.imul($0,go)|0,ss=ss+Math.imul(p0,Q0)|0,ga=ga+Math.imul(p0,wo)|0,ga=ga+Math.imul(E0,Q0)|0,as=as+Math.imul(E0,wo)|0;var Jo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Jo>>>26)|0,Jo&=67108863,ss=Math.imul(x0,q0),ga=Math.imul(x0,Y0),ga=ga+Math.imul(u0,q0)|0,as=Math.imul(u0,Y0),ss=ss+Math.imul(N0,z0)|0,ga=ga+Math.imul(N0,X0)|0,ga=ga+Math.imul(F0,z0)|0,as=as+Math.imul(F0,X0)|0,ss=ss+Math.imul(k0,K0)|0,ga=ga+Math.imul(k0,bo)|0,ga=ga+Math.imul(D0,K0)|0,as=as+Math.imul(D0,bo)|0,ss=ss+Math.imul(O0,W0)|0,ga=ga+Math.imul(O0,J0)|0,ga=ga+Math.imul(B0,W0)|0,as=as+Math.imul(B0,J0)|0,ss=ss+Math.imul(P0,H0)|0,ga=ga+Math.imul(P0,go)|0,ga=ga+Math.imul(S0,H0)|0,as=as+Math.imul(S0,go)|0,ss=ss+Math.imul(C0,Q0)|0,ga=ga+Math.imul(C0,wo)|0,ga=ga+Math.imul($0,Q0)|0,as=as+Math.imul($0,wo)|0;var Qo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,ss=Math.imul(x0,z0),ga=Math.imul(x0,X0),ga=ga+Math.imul(u0,z0)|0,as=Math.imul(u0,X0),ss=ss+Math.imul(N0,K0)|0,ga=ga+Math.imul(N0,bo)|0,ga=ga+Math.imul(F0,K0)|0,as=as+Math.imul(F0,bo)|0,ss=ss+Math.imul(k0,W0)|0,ga=ga+Math.imul(k0,J0)|0,ga=ga+Math.imul(D0,W0)|0,as=as+Math.imul(D0,J0)|0,ss=ss+Math.imul(O0,H0)|0,ga=ga+Math.imul(O0,go)|0,ga=ga+Math.imul(B0,H0)|0,as=as+Math.imul(B0,go)|0,ss=ss+Math.imul(P0,Q0)|0,ga=ga+Math.imul(P0,wo)|0,ga=ga+Math.imul(S0,Q0)|0,as=as+Math.imul(S0,wo)|0;var Xo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,ss=Math.imul(x0,K0),ga=Math.imul(x0,bo),ga=ga+Math.imul(u0,K0)|0,as=Math.imul(u0,bo),ss=ss+Math.imul(N0,W0)|0,ga=ga+Math.imul(N0,J0)|0,ga=ga+Math.imul(F0,W0)|0,as=as+Math.imul(F0,J0)|0,ss=ss+Math.imul(k0,H0)|0,ga=ga+Math.imul(k0,go)|0,ga=ga+Math.imul(D0,H0)|0,as=as+Math.imul(D0,go)|0,ss=ss+Math.imul(O0,Q0)|0,ga=ga+Math.imul(O0,wo)|0,ga=ga+Math.imul(B0,Q0)|0,as=as+Math.imul(B0,wo)|0;var Wo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,ss=Math.imul(x0,W0),ga=Math.imul(x0,J0),ga=ga+Math.imul(u0,W0)|0,as=Math.imul(u0,J0),ss=ss+Math.imul(N0,H0)|0,ga=ga+Math.imul(N0,go)|0,ga=ga+Math.imul(F0,H0)|0,as=as+Math.imul(F0,go)|0,ss=ss+Math.imul(k0,Q0)|0,ga=ga+Math.imul(k0,wo)|0,ga=ga+Math.imul(D0,Q0)|0,as=as+Math.imul(D0,wo)|0;var _f=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(_f>>>26)|0,_f&=67108863,ss=Math.imul(x0,H0),ga=Math.imul(x0,go),ga=ga+Math.imul(u0,H0)|0,as=Math.imul(u0,go),ss=ss+Math.imul(N0,Q0)|0,ga=ga+Math.imul(N0,wo)|0,ga=ga+Math.imul(F0,Q0)|0,as=as+Math.imul(F0,wo)|0;var _c=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(_c>>>26)|0,_c&=67108863,ss=Math.imul(x0,Q0),ga=Math.imul(x0,wo),ga=ga+Math.imul(u0,Q0)|0,as=Math.imul(u0,wo);var yl=(hs+ss|0)+((ga&8191)<<13)|0;return hs=(as+(ga>>>13)|0)+(yl>>>26)|0,yl&=67108863,ls[0]=No,ls[1]=Oo,ls[2]=jo,ls[3]=Uo,ls[4]=zo,ls[5]=qo,ls[6]=Fo,ls[7]=Ko,ls[8]=Ho,ls[9]=Vo,ls[10]=Go,ls[11]=Zo,ls[12]=Jo,ls[13]=Qo,ls[14]=Xo,ls[15]=Wo,ls[16]=_f,ls[17]=_c,ls[18]=yl,hs!==0&&(ls[19]=hs,es.length++),es};Math.imul||(bs=ps);function e0(ds,na,_a){_a.negative=na.negative^ds.negative,_a.length=ds.length+na.length;for(var es=0,ns=0,os=0;os<_a.length-1;os++){var ls=ns;ns=0;for(var hs=es&67108863,ss=Math.min(os,na.length-1),ga=Math.max(0,os-ds.length+1);ga<=ss;ga++){var as=os-ga,r0=ds.words[as]|0,a0=na.words[ga]|0,l0=r0*a0,s0=l0&67108863;ls=ls+(l0/67108864|0)|0,s0=s0+hs|0,hs=s0&67108863,ls=ls+(s0>>>26)|0,ns+=ls>>>26,ls&=67108863}_a.words[os]=hs,es=ls,ls=ns}return es!==0?_a.words[os]=es:_a.length--,_a.strip()}function gs(ds,na,_a){var es=new Ds;return es.mulp(ds,na,_a)}An.prototype.mulTo=function(na,_a){var es,ns=this.length+na.length;return this.length===10&&na.length===10?es=bs(this,na,_a):ns<63?es=ps(this,na,_a):ns<1024?es=e0(this,na,_a):es=gs(this,na,_a),es};function Ds(ds,na){this.x=ds,this.y=na}Ds.prototype.makeRBT=function(na){for(var _a=new Array(na),es=An.prototype._countBits(na)-1,ns=0;ns<na;ns++)_a[ns]=this.revBin(ns,es,na);return _a},Ds.prototype.revBin=function(na,_a,es){if(na===0||na===es-1)return na;for(var ns=0,os=0;os<_a;os++)ns|=(na&1)<<_a-os-1,na>>=1;return ns},Ds.prototype.permute=function(na,_a,es,ns,os,ls){for(var hs=0;hs<ls;hs++)ns[hs]=_a[na[hs]],os[hs]=es[na[hs]]},Ds.prototype.transform=function(na,_a,es,ns,os,ls){this.permute(ls,na,_a,es,ns,os);for(var hs=1;hs<os;hs<<=1)for(var ss=hs<<1,ga=Math.cos(2*Math.PI/ss),as=Math.sin(2*Math.PI/ss),r0=0;r0<os;r0+=ss)for(var a0=ga,l0=as,s0=0;s0<hs;s0++){var b0=es[r0+s0],f0=ns[r0+s0],m0=es[r0+s0+hs],y0=ns[r0+s0+hs],t0=a0*m0-l0*y0;y0=a0*y0+l0*m0,m0=t0,es[r0+s0]=b0+m0,ns[r0+s0]=f0+y0,es[r0+s0+hs]=b0-m0,ns[r0+s0+hs]=f0-y0,s0!==ss&&(t0=ga*a0-as*l0,l0=ga*l0+as*a0,a0=t0)}},Ds.prototype.guessLen13b=function(na,_a){var es=Math.max(_a,na)|1,ns=es&1,os=0;for(es=es/2|0;es;es=es>>>1)os++;return 1<<os+1+ns},Ds.prototype.conjugate=function(na,_a,es){if(!(es<=1))for(var ns=0;ns<es/2;ns++){var os=na[ns];na[ns]=na[es-ns-1],na[es-ns-1]=os,os=_a[ns],_a[ns]=-_a[es-ns-1],_a[es-ns-1]=-os}},Ds.prototype.normalize13b=function(na,_a){for(var es=0,ns=0;ns<_a/2;ns++){var os=Math.round(na[2*ns+1]/_a)*8192+Math.round(na[2*ns]/_a)+es;na[ns]=os&67108863,os<67108864?es=0:es=os/67108864|0}return na},Ds.prototype.convert13b=function(na,_a,es,ns){for(var os=0,ls=0;ls<_a;ls++)os=os+(na[ls]|0),es[2*ls]=os&8191,os=os>>>13,es[2*ls+1]=os&8191,os=os>>>13;for(ls=2*_a;ls<ns;++ls)es[ls]=0;Cn(os===0),Cn((os&-8192)===0)},Ds.prototype.stub=function(na){for(var _a=new Array(na),es=0;es<na;es++)_a[es]=0;return _a},Ds.prototype.mulp=function(na,_a,es){var ns=2*this.guessLen13b(na.length,_a.length),os=this.makeRBT(ns),ls=this.stub(ns),hs=new Array(ns),ss=new Array(ns),ga=new Array(ns),as=new Array(ns),r0=new Array(ns),a0=new Array(ns),l0=es.words;l0.length=ns,this.convert13b(na.words,na.length,hs,ns),this.convert13b(_a.words,_a.length,as,ns),this.transform(hs,ls,ss,ga,ns,os),this.transform(as,ls,r0,a0,ns,os);for(var s0=0;s0<ns;s0++){var b0=ss[s0]*r0[s0]-ga[s0]*a0[s0];ga[s0]=ss[s0]*a0[s0]+ga[s0]*r0[s0],ss[s0]=b0}return this.conjugate(ss,ga,ns),this.transform(ss,ga,l0,ls,ns,os),this.conjugate(l0,ls,ns),this.normalize13b(l0,ns),es.negative=na.negative^_a.negative,es.length=na.length+_a.length,es.strip()},An.prototype.mul=function(na){var _a=new An(null);return _a.words=new Array(this.length+na.length),this.mulTo(na,_a)},An.prototype.mulf=function(na){var _a=new An(null);return _a.words=new Array(this.length+na.length),gs(this,na,_a)},An.prototype.imul=function(na){return this.clone().mulTo(na,this)},An.prototype.imuln=function(na){Cn(typeof na=="number"),Cn(na<67108864);for(var _a=0,es=0;es<this.length;es++){var ns=(this.words[es]|0)*na,os=(ns&67108863)+(_a&67108863);_a>>=26,_a+=ns/67108864|0,_a+=os>>>26,this.words[es]=os&67108863}return _a!==0&&(this.words[es]=_a,this.length++),this},An.prototype.muln=function(na){return this.clone().imuln(na)},An.prototype.sqr=function(){return this.mul(this)},An.prototype.isqr=function(){return this.imul(this.clone())},An.prototype.pow=function(na){var _a=us(na);if(_a.length===0)return new An(1);for(var es=this,ns=0;ns<_a.length&&_a[ns]===0;ns++,es=es.sqr());if(++ns<_a.length)for(var os=es.sqr();ns<_a.length;ns++,os=os.sqr())_a[ns]!==0&&(es=es.mul(os));return es},An.prototype.iushln=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26,ns=67108863>>>26-_a<<26-_a,os;if(_a!==0){var ls=0;for(os=0;os<this.length;os++){var hs=this.words[os]&ns,ss=(this.words[os]|0)-hs<<_a;this.words[os]=ss|ls,ls=hs>>>26-_a}ls&&(this.words[os]=ls,this.length++)}if(es!==0){for(os=this.length-1;os>=0;os--)this.words[os+es]=this.words[os];for(os=0;os<es;os++)this.words[os]=0;this.length+=es}return this.strip()},An.prototype.ishln=function(na){return Cn(this.negative===0),this.iushln(na)},An.prototype.iushrn=function(na,_a,es){Cn(typeof na=="number"&&na>=0);var ns;_a?ns=(_a-_a%26)/26:ns=0;var os=na%26,ls=Math.min((na-os)/26,this.length),hs=67108863^67108863>>>os<<os,ss=es;if(ns-=ls,ns=Math.max(0,ns),ss){for(var ga=0;ga<ls;ga++)ss.words[ga]=this.words[ga];ss.length=ls}if(ls!==0)if(this.length>ls)for(this.length-=ls,ga=0;ga<this.length;ga++)this.words[ga]=this.words[ga+ls];else this.words[0]=0,this.length=1;var as=0;for(ga=this.length-1;ga>=0&&(as!==0||ga>=ns);ga--){var r0=this.words[ga]|0;this.words[ga]=as<<26-os|r0>>>os,as=r0&hs}return ss&&as!==0&&(ss.words[ss.length++]=as),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},An.prototype.ishrn=function(na,_a,es){return Cn(this.negative===0),this.iushrn(na,_a,es)},An.prototype.shln=function(na){return this.clone().ishln(na)},An.prototype.ushln=function(na){return this.clone().iushln(na)},An.prototype.shrn=function(na){return this.clone().ishrn(na)},An.prototype.ushrn=function(na){return this.clone().iushrn(na)},An.prototype.testn=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26,ns=1<<_a;if(this.length<=es)return!1;var os=this.words[es];return!!(os&ns)},An.prototype.imaskn=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26;if(Cn(this.negative===0,"imaskn works only with positive numbers"),this.length<=es)return this;if(_a!==0&&es++,this.length=Math.min(es,this.length),_a!==0){var ns=67108863^67108863>>>_a<<_a;this.words[this.length-1]&=ns}return this.strip()},An.prototype.maskn=function(na){return this.clone().imaskn(na)},An.prototype.iaddn=function(na){return Cn(typeof na=="number"),Cn(na<67108864),na<0?this.isubn(-na):this.negative!==0?this.length===1&&(this.words[0]|0)<na?(this.words[0]=na-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(na),this.negative=1,this):this._iaddn(na)},An.prototype._iaddn=function(na){this.words[0]+=na;for(var _a=0;_a<this.length&&this.words[_a]>=67108864;_a++)this.words[_a]-=67108864,_a===this.length-1?this.words[_a+1]=1:this.words[_a+1]++;return this.length=Math.max(this.length,_a+1),this},An.prototype.isubn=function(na){if(Cn(typeof na=="number"),Cn(na<67108864),na<0)return this.iaddn(-na);if(this.negative!==0)return this.negative=0,this.iaddn(na),this.negative=1,this;if(this.words[0]-=na,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _a=0;_a<this.length&&this.words[_a]<0;_a++)this.words[_a]+=67108864,this.words[_a+1]-=1;return this.strip()},An.prototype.addn=function(na){return this.clone().iaddn(na)},An.prototype.subn=function(na){return this.clone().isubn(na)},An.prototype.iabs=function(){return this.negative=0,this},An.prototype.abs=function(){return this.clone().iabs()},An.prototype._ishlnsubmul=function(na,_a,es){var ns=na.length+es,os;this._expand(ns);var ls,hs=0;for(os=0;os<na.length;os++){ls=(this.words[os+es]|0)+hs;var ss=(na.words[os]|0)*_a;ls-=ss&67108863,hs=(ls>>26)-(ss/67108864|0),this.words[os+es]=ls&67108863}for(;os<this.length-es;os++)ls=(this.words[os+es]|0)+hs,hs=ls>>26,this.words[os+es]=ls&67108863;if(hs===0)return this.strip();for(Cn(hs===-1),hs=0,os=0;os<this.length;os++)ls=-(this.words[os]|0)+hs,hs=ls>>26,this.words[os]=ls&67108863;return this.negative=1,this.strip()},An.prototype._wordDiv=function(na,_a){var es=this.length-na.length,ns=this.clone(),os=na,ls=os.words[os.length-1]|0,hs=this._countBits(ls);es=26-hs,es!==0&&(os=os.ushln(es),ns.iushln(es),ls=os.words[os.length-1]|0);var ss=ns.length-os.length,ga;if(_a!=="mod"){ga=new An(null),ga.length=ss+1,ga.words=new Array(ga.length);for(var as=0;as<ga.length;as++)ga.words[as]=0}var r0=ns.clone()._ishlnsubmul(os,1,ss);r0.negative===0&&(ns=r0,ga&&(ga.words[ss]=1));for(var a0=ss-1;a0>=0;a0--){var l0=(ns.words[os.length+a0]|0)*67108864+(ns.words[os.length+a0-1]|0);for(l0=Math.min(l0/ls|0,67108863),ns._ishlnsubmul(os,l0,a0);ns.negative!==0;)l0--,ns.negative=0,ns._ishlnsubmul(os,1,a0),ns.isZero()||(ns.negative^=1);ga&&(ga.words[a0]=l0)}return ga&&ga.strip(),ns.strip(),_a!=="div"&&es!==0&&ns.iushrn(es),{div:ga||null,mod:ns}},An.prototype.divmod=function(na,_a,es){if(Cn(!na.isZero()),this.isZero())return{div:new An(0),mod:new An(0)};var ns,os,ls;return this.negative!==0&&na.negative===0?(ls=this.neg().divmod(na,_a),_a!=="mod"&&(ns=ls.div.neg()),_a!=="div"&&(os=ls.mod.neg(),es&&os.negative!==0&&os.iadd(na)),{div:ns,mod:os}):this.negative===0&&na.negative!==0?(ls=this.divmod(na.neg(),_a),_a!=="mod"&&(ns=ls.div.neg()),{div:ns,mod:ls.mod}):this.negative&na.negative?(ls=this.neg().divmod(na.neg(),_a),_a!=="div"&&(os=ls.mod.neg(),es&&os.negative!==0&&os.isub(na)),{div:ls.div,mod:os}):na.length>this.length||this.cmp(na)<0?{div:new An(0),mod:this}:na.length===1?_a==="div"?{div:this.divn(na.words[0]),mod:null}:_a==="mod"?{div:null,mod:new An(this.modn(na.words[0]))}:{div:this.divn(na.words[0]),mod:new An(this.modn(na.words[0]))}:this._wordDiv(na,_a)},An.prototype.div=function(na){return this.divmod(na,"div",!1).div},An.prototype.mod=function(na){return this.divmod(na,"mod",!1).mod},An.prototype.umod=function(na){return this.divmod(na,"mod",!0).mod},An.prototype.divRound=function(na){var _a=this.divmod(na);if(_a.mod.isZero())return _a.div;var es=_a.div.negative!==0?_a.mod.isub(na):_a.mod,ns=na.ushrn(1),os=na.andln(1),ls=es.cmp(ns);return ls<0||os===1&&ls===0?_a.div:_a.div.negative!==0?_a.div.isubn(1):_a.div.iaddn(1)},An.prototype.modn=function(na){Cn(na<=67108863);for(var _a=(1<<26)%na,es=0,ns=this.length-1;ns>=0;ns--)es=(_a*es+(this.words[ns]|0))%na;return es},An.prototype.idivn=function(na){Cn(na<=67108863);for(var _a=0,es=this.length-1;es>=0;es--){var ns=(this.words[es]|0)+_a*67108864;this.words[es]=ns/na|0,_a=ns%na}return this.strip()},An.prototype.divn=function(na){return this.clone().idivn(na)},An.prototype.egcd=function(na){Cn(na.negative===0),Cn(!na.isZero());var _a=this,es=na.clone();_a.negative!==0?_a=_a.umod(na):_a=_a.clone();for(var ns=new An(1),os=new An(0),ls=new An(0),hs=new An(1),ss=0;_a.isEven()&&es.isEven();)_a.iushrn(1),es.iushrn(1),++ss;for(var ga=es.clone(),as=_a.clone();!_a.isZero();){for(var r0=0,a0=1;!(_a.words[0]&a0)&&r0<26;++r0,a0<<=1);if(r0>0)for(_a.iushrn(r0);r0-- >0;)(ns.isOdd()||os.isOdd())&&(ns.iadd(ga),os.isub(as)),ns.iushrn(1),os.iushrn(1);for(var l0=0,s0=1;!(es.words[0]&s0)&&l0<26;++l0,s0<<=1);if(l0>0)for(es.iushrn(l0);l0-- >0;)(ls.isOdd()||hs.isOdd())&&(ls.iadd(ga),hs.isub(as)),ls.iushrn(1),hs.iushrn(1);_a.cmp(es)>=0?(_a.isub(es),ns.isub(ls),os.isub(hs)):(es.isub(_a),ls.isub(ns),hs.isub(os))}return{a:ls,b:hs,gcd:es.iushln(ss)}},An.prototype._invmp=function(na){Cn(na.negative===0),Cn(!na.isZero());var _a=this,es=na.clone();_a.negative!==0?_a=_a.umod(na):_a=_a.clone();for(var ns=new An(1),os=new An(0),ls=es.clone();_a.cmpn(1)>0&&es.cmpn(1)>0;){for(var hs=0,ss=1;!(_a.words[0]&ss)&&hs<26;++hs,ss<<=1);if(hs>0)for(_a.iushrn(hs);hs-- >0;)ns.isOdd()&&ns.iadd(ls),ns.iushrn(1);for(var ga=0,as=1;!(es.words[0]&as)&&ga<26;++ga,as<<=1);if(ga>0)for(es.iushrn(ga);ga-- >0;)os.isOdd()&&os.iadd(ls),os.iushrn(1);_a.cmp(es)>=0?(_a.isub(es),ns.isub(os)):(es.isub(_a),os.isub(ns))}var r0;return _a.cmpn(1)===0?r0=ns:r0=os,r0.cmpn(0)<0&&r0.iadd(na),r0},An.prototype.gcd=function(na){if(this.isZero())return na.abs();if(na.isZero())return this.abs();var _a=this.clone(),es=na.clone();_a.negative=0,es.negative=0;for(var ns=0;_a.isEven()&&es.isEven();ns++)_a.iushrn(1),es.iushrn(1);do{for(;_a.isEven();)_a.iushrn(1);for(;es.isEven();)es.iushrn(1);var os=_a.cmp(es);if(os<0){var ls=_a;_a=es,es=ls}else if(os===0||es.cmpn(1)===0)break;_a.isub(es)}while(!0);return es.iushln(ns)},An.prototype.invm=function(na){return this.egcd(na).a.umod(na)},An.prototype.isEven=function(){return(this.words[0]&1)===0},An.prototype.isOdd=function(){return(this.words[0]&1)===1},An.prototype.andln=function(na){return this.words[0]&na},An.prototype.bincn=function(na){Cn(typeof na=="number");var _a=na%26,es=(na-_a)/26,ns=1<<_a;if(this.length<=es)return this._expand(es+1),this.words[es]|=ns,this;for(var os=ns,ls=es;os!==0&&ls<this.length;ls++){var hs=this.words[ls]|0;hs+=os,os=hs>>>26,hs&=67108863,this.words[ls]=hs}return os!==0&&(this.words[ls]=os,this.length++),this},An.prototype.isZero=function(){return this.length===1&&this.words[0]===0},An.prototype.cmpn=function(na){var _a=na<0;if(this.negative!==0&&!_a)return-1;if(this.negative===0&&_a)return 1;this.strip();var es;if(this.length>1)es=1;else{_a&&(na=-na),Cn(na<=67108863,"Number is too big");var ns=this.words[0]|0;es=ns===na?0:ns<na?-1:1}return this.negative!==0?-es|0:es},An.prototype.cmp=function(na){if(this.negative!==0&&na.negative===0)return-1;if(this.negative===0&&na.negative!==0)return 1;var _a=this.ucmp(na);return this.negative!==0?-_a|0:_a},An.prototype.ucmp=function(na){if(this.length>na.length)return 1;if(this.length<na.length)return-1;for(var _a=0,es=this.length-1;es>=0;es--){var ns=this.words[es]|0,os=na.words[es]|0;if(ns!==os){ns<os?_a=-1:ns>os&&(_a=1);break}}return _a},An.prototype.gtn=function(na){return this.cmpn(na)===1},An.prototype.gt=function(na){return this.cmp(na)===1},An.prototype.gten=function(na){return this.cmpn(na)>=0},An.prototype.gte=function(na){return this.cmp(na)>=0},An.prototype.ltn=function(na){return this.cmpn(na)===-1},An.prototype.lt=function(na){return this.cmp(na)===-1},An.prototype.lten=function(na){return this.cmpn(na)<=0},An.prototype.lte=function(na){return this.cmp(na)<=0},An.prototype.eqn=function(na){return this.cmpn(na)===0},An.prototype.eq=function(na){return this.cmp(na)===0},An.red=function(na){return new w0(na)},An.prototype.toRed=function(na){return Cn(!this.red,"Already a number in reduction context"),Cn(this.negative===0,"red works only with positives"),na.convertTo(this)._forceRed(na)},An.prototype.fromRed=function(){return Cn(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},An.prototype._forceRed=function(na){return this.red=na,this},An.prototype.forceRed=function(na){return Cn(!this.red,"Already a number in reduction context"),this._forceRed(na)},An.prototype.redAdd=function(na){return Cn(this.red,"redAdd works only with red numbers"),this.red.add(this,na)},An.prototype.redIAdd=function(na){return Cn(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,na)},An.prototype.redSub=function(na){return Cn(this.red,"redSub works only with red numbers"),this.red.sub(this,na)},An.prototype.redISub=function(na){return Cn(this.red,"redISub works only with red numbers"),this.red.isub(this,na)},An.prototype.redShl=function(na){return Cn(this.red,"redShl works only with red numbers"),this.red.shl(this,na)},An.prototype.redMul=function(na){return Cn(this.red,"redMul works only with red numbers"),this.red._verify2(this,na),this.red.mul(this,na)},An.prototype.redIMul=function(na){return Cn(this.red,"redMul works only with red numbers"),this.red._verify2(this,na),this.red.imul(this,na)},An.prototype.redSqr=function(){return Cn(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},An.prototype.redISqr=function(){return Cn(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},An.prototype.redSqrt=function(){return Cn(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},An.prototype.redInvm=function(){return Cn(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},An.prototype.redNeg=function(){return Cn(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},An.prototype.redPow=function(na){return Cn(this.red&&!na.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,na)};var i0={k256:null,p224:null,p192:null,p25519:null};function n0(ds,na){this.name=ds,this.p=new An(na,16),this.n=this.p.bitLength(),this.k=new An(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}n0.prototype._tmp=function(){var na=new An(null);return na.words=new Array(Math.ceil(this.n/13)),na},n0.prototype.ireduce=function(na){var _a=na,es;do this.split(_a,this.tmp),_a=this.imulK(_a),_a=_a.iadd(this.tmp),es=_a.bitLength();while(es>this.n);var ns=es<this.n?-1:_a.ucmp(this.p);return ns===0?(_a.words[0]=0,_a.length=1):ns>0?_a.isub(this.p):_a.strip!==void 0?_a.strip():_a._strip(),_a},n0.prototype.split=function(na,_a){na.iushrn(this.n,0,_a)},n0.prototype.imulK=function(na){return na.imul(this.k)};function c0(){n0.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}_i(c0,n0),c0.prototype.split=function(na,_a){for(var es=4194303,ns=Math.min(na.length,9),os=0;os<ns;os++)_a.words[os]=na.words[os];if(_a.length=ns,na.length<=9){na.words[0]=0,na.length=1;return}var ls=na.words[9];for(_a.words[_a.length++]=ls&es,os=10;os<na.length;os++){var hs=na.words[os]|0;na.words[os-10]=(hs&es)<<4|ls>>>22,ls=hs}ls>>>=22,na.words[os-10]=ls,ls===0&&na.length>10?na.length-=10:na.length-=9},c0.prototype.imulK=function(na){na.words[na.length]=0,na.words[na.length+1]=0,na.length+=2;for(var _a=0,es=0;es<na.length;es++){var ns=na.words[es]|0;_a+=ns*977,na.words[es]=_a&67108863,_a=ns*64+(_a/67108864|0)}return na.words[na.length-1]===0&&(na.length--,na.words[na.length-1]===0&&na.length--),na};function d0(){n0.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}_i(d0,n0);function o0(){n0.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}_i(o0,n0);function g0(){n0.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}_i(g0,n0),g0.prototype.imulK=function(na){for(var _a=0,es=0;es<na.length;es++){var ns=(na.words[es]|0)*19+_a,os=ns&67108863;ns>>>=26,na.words[es]=os,_a=ns}return _a!==0&&(na.words[na.length++]=_a),na},An._prime=function(na){if(i0[na])return i0[na];var _a;if(na==="k256")_a=new c0;else if(na==="p224")_a=new d0;else if(na==="p192")_a=new o0;else if(na==="p25519")_a=new g0;else throw new Error("Unknown prime "+na);return i0[na]=_a,_a};function w0(ds){if(typeof ds=="string"){var na=An._prime(ds);this.m=na.p,this.prime=na}else Cn(ds.gtn(1),"modulus must be greater than 1"),this.m=ds,this.prime=null}w0.prototype._verify1=function(na){Cn(na.negative===0,"red works only with positives"),Cn(na.red,"red works only with red numbers")},w0.prototype._verify2=function(na,_a){Cn((na.negative|_a.negative)===0,"red works only with positives"),Cn(na.red&&na.red===_a.red,"red works only with red numbers")},w0.prototype.imod=function(na){return this.prime?this.prime.ireduce(na)._forceRed(this):na.umod(this.m)._forceRed(this)},w0.prototype.neg=function(na){return na.isZero()?na.clone():this.m.sub(na)._forceRed(this)},w0.prototype.add=function(na,_a){this._verify2(na,_a);var es=na.add(_a);return es.cmp(this.m)>=0&&es.isub(this.m),es._forceRed(this)},w0.prototype.iadd=function(na,_a){this._verify2(na,_a);var es=na.iadd(_a);return es.cmp(this.m)>=0&&es.isub(this.m),es},w0.prototype.sub=function(na,_a){this._verify2(na,_a);var es=na.sub(_a);return es.cmpn(0)<0&&es.iadd(this.m),es._forceRed(this)},w0.prototype.isub=function(na,_a){this._verify2(na,_a);var es=na.isub(_a);return es.cmpn(0)<0&&es.iadd(this.m),es},w0.prototype.shl=function(na,_a){return this._verify1(na),this.imod(na.ushln(_a))},w0.prototype.imul=function(na,_a){return this._verify2(na,_a),this.imod(na.imul(_a))},w0.prototype.mul=function(na,_a){return this._verify2(na,_a),this.imod(na.mul(_a))},w0.prototype.isqr=function(na){return this.imul(na,na.clone())},w0.prototype.sqr=function(na){return this.mul(na,na)},w0.prototype.sqrt=function(na){if(na.isZero())return na.clone();var _a=this.m.andln(3);if(Cn(_a%2===1),_a===3){var es=this.m.add(new An(1)).iushrn(2);return this.pow(na,es)}for(var ns=this.m.subn(1),os=0;!ns.isZero()&&ns.andln(1)===0;)os++,ns.iushrn(1);Cn(!ns.isZero());var ls=new An(1).toRed(this),hs=ls.redNeg(),ss=this.m.subn(1).iushrn(1),ga=this.m.bitLength();for(ga=new An(2*ga*ga).toRed(this);this.pow(ga,ss).cmp(hs)!==0;)ga.redIAdd(hs);for(var as=this.pow(ga,ns),r0=this.pow(na,ns.addn(1).iushrn(1)),a0=this.pow(na,ns),l0=os;a0.cmp(ls)!==0;){for(var s0=a0,b0=0;s0.cmp(ls)!==0;b0++)s0=s0.redSqr();Cn(b0<l0);var f0=this.pow(as,new An(1).iushln(l0-b0-1));r0=r0.redMul(f0),as=f0.redSqr(),a0=a0.redMul(as),l0=b0}return r0},w0.prototype.invm=function(na){var _a=na._invmp(this.m);return _a.negative!==0?(_a.negative=0,this.imod(_a).redNeg()):this.imod(_a)},w0.prototype.pow=function(na,_a){if(_a.isZero())return new An(1).toRed(this);if(_a.cmpn(1)===0)return na.clone();var es=4,ns=new Array(1<<es);ns[0]=new An(1).toRed(this),ns[1]=na;for(var os=2;os<ns.length;os++)ns[os]=this.mul(ns[os-1],na);var ls=ns[0],hs=0,ss=0,ga=_a.bitLength()%26;for(ga===0&&(ga=26),os=_a.length-1;os>=0;os--){for(var as=_a.words[os],r0=ga-1;r0>=0;r0--){var a0=as>>r0&1;if(ls!==ns[0]&&(ls=this.sqr(ls)),a0===0&&hs===0){ss=0;continue}hs<<=1,hs|=a0,ss++,!(ss!==es&&(os!==0||r0!==0))&&(ls=this.mul(ls,ns[hs]),ss=0,hs=0)}ga=26}return ls},w0.prototype.convertTo=function(na){var _a=na.umod(this.m);return _a===na?_a.clone():_a},w0.prototype.convertFrom=function(na){var _a=na.clone();return _a.red=null,_a},An.mont=function(na){return new M0(na)};function M0(ds){w0.call(this,ds),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new An(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_i(M0,w0),M0.prototype.convertTo=function(na){return this.imod(na.ushln(this.shift))},M0.prototype.convertFrom=function(na){var _a=this.imod(na.mul(this.rinv));return _a.red=null,_a},M0.prototype.imul=function(na,_a){if(na.isZero()||_a.isZero())return na.words[0]=0,na.length=1,na;var es=na.imul(_a),ns=es.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),os=es.isub(ns).iushrn(this.shift),ls=os;return os.cmp(this.m)>=0?ls=os.isub(this.m):os.cmpn(0)<0&&(ls=os.iadd(this.m)),ls._forceRed(this)},M0.prototype.mul=function(na,_a){if(na.isZero()||_a.isZero())return new An(0)._forceRed(this);var es=na.mul(_a),ns=es.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),os=es.isub(ns).iushrn(this.shift),ls=os;return os.cmp(this.m)>=0?ls=os.isub(this.m):os.cmpn(0)<0&&(ls=os.iadd(this.m)),ls._forceRed(this)},M0.prototype.invm=function(na){var _a=this.imod(na._invmp(this.m).mul(this.r2));return _a._forceRed(this)}})(vn,commonjsGlobal)}(bn$6)),bn$6.exports}var browser$4,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$4;hasRequiredBrowser$2=1;var vn=requireElliptic(),fn=requireBn$1();browser$4=function(ba){return new Cn(ba)};var En={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};En.p224=En.secp224r1,En.p256=En.secp256r1=En.prime256v1,En.p192=En.secp192r1=En.prime192v1,En.p384=En.secp384r1,En.p521=En.secp521r1;function Cn(An){this.curveType=En[An],this.curveType||(this.curveType={name:An}),this.curve=new vn.ec(this.curveType.name),this.keys=void 0}Cn.prototype.generateKeys=function(An,ba){return this.keys=this.curve.genKeyPair(),this.getPublicKey(An,ba)},Cn.prototype.computeSecret=function(An,ba,xa){ba=ba||"utf8",Buffer$7.isBuffer(An)||(An=new Buffer$7(An,ba));var $a=this.curve.keyFromPublic(An).getPublic(),rs=$a.mul(this.keys.getPrivate()).getX();return _i(rs,xa,this.curveType.byteLength)},Cn.prototype.getPublicKey=function(An,ba){var xa=this.keys.getPublic(ba==="compressed",!0);return ba==="hybrid"&&(xa[xa.length-1]%2?xa[0]=7:xa[0]=6),_i(xa,An)},Cn.prototype.getPrivateKey=function(An){return _i(this.keys.getPrivate(),An)},Cn.prototype.setPublicKey=function(An,ba){return ba=ba||"utf8",Buffer$7.isBuffer(An)||(An=new Buffer$7(An,ba)),this.keys._importPublic(An),this},Cn.prototype.setPrivateKey=function(An,ba){ba=ba||"utf8",Buffer$7.isBuffer(An)||(An=new Buffer$7(An,ba));var xa=new fn(An);return xa=xa.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(xa),this};function _i(An,ba,xa){Array.isArray(An)||(An=An.toArray());var $a=new Buffer$7(An);if(xa&&$a.length<xa){var rs=new Buffer$7(xa-$a.length);rs.fill(0),$a=Buffer$7.concat([rs,$a])}return ba?$a.toString(ba):$a}return browser$4}var browser$3={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var vn=requireBrowser$9(),fn=requireSafeBuffer$1().Buffer;mgf=function(Cn,_i){for(var An=fn.alloc(0),ba=0,xa;An.length<_i;)xa=En(ba++),An=fn.concat([An,vn("sha1").update(Cn).update(xa).digest()]);return An.slice(0,_i)};function En(Cn){var _i=fn.allocUnsafe(4);return _i.writeUInt32BE(Cn,0),_i}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(fn,En){for(var Cn=fn.length,_i=-1;++_i<Cn;)fn[_i]^=En[_i];return fn}),xor}var bn$5={exports:{}};bn$5.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(vn){(function(fn,En){function Cn(ds,na){if(!ds)throw new Error(na||"Assertion failed")}function _i(ds,na){ds.super_=na;var _a=function(){};_a.prototype=na.prototype,ds.prototype=new _a,ds.prototype.constructor=ds}function An(ds,na,_a){if(An.isBN(ds))return ds;this.negative=0,this.words=null,this.length=0,this.red=null,ds!==null&&((na==="le"||na==="be")&&(_a=na,na=10),this._init(ds||0,na||10,_a||"be"))}typeof fn=="object"?fn.exports=An:En.BN=An,An.BN=An,An.wordSize=26;var ba;try{typeof window<"u"&&typeof window.Buffer<"u"?ba=window.Buffer:ba=require$$0$a.Buffer}catch{}An.isBN=function(na){return na instanceof An?!0:na!==null&&typeof na=="object"&&na.constructor.wordSize===An.wordSize&&Array.isArray(na.words)},An.max=function(na,_a){return na.cmp(_a)>0?na:_a},An.min=function(na,_a){return na.cmp(_a)<0?na:_a},An.prototype._init=function(na,_a,es){if(typeof na=="number")return this._initNumber(na,_a,es);if(typeof na=="object")return this._initArray(na,_a,es);_a==="hex"&&(_a=16),Cn(_a===(_a|0)&&_a>=2&&_a<=36),na=na.toString().replace(/\s+/g,"");var ns=0;na[0]==="-"&&(ns++,this.negative=1),ns<na.length&&(_a===16?this._parseHex(na,ns,es):(this._parseBase(na,_a,ns),es==="le"&&this._initArray(this.toArray(),_a,es)))},An.prototype._initNumber=function(na,_a,es){na<0&&(this.negative=1,na=-na),na<67108864?(this.words=[na&67108863],this.length=1):na<4503599627370496?(this.words=[na&67108863,na/67108864&67108863],this.length=2):(Cn(na<9007199254740992),this.words=[na&67108863,na/67108864&67108863,1],this.length=3),es==="le"&&this._initArray(this.toArray(),_a,es)},An.prototype._initArray=function(na,_a,es){if(Cn(typeof na.length=="number"),na.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(na.length/3),this.words=new Array(this.length);for(var ns=0;ns<this.length;ns++)this.words[ns]=0;var os,ls,hs=0;if(es==="be")for(ns=na.length-1,os=0;ns>=0;ns-=3)ls=na[ns]|na[ns-1]<<8|na[ns-2]<<16,this.words[os]|=ls<<hs&67108863,this.words[os+1]=ls>>>26-hs&67108863,hs+=24,hs>=26&&(hs-=26,os++);else if(es==="le")for(ns=0,os=0;ns<na.length;ns+=3)ls=na[ns]|na[ns+1]<<8|na[ns+2]<<16,this.words[os]|=ls<<hs&67108863,this.words[os+1]=ls>>>26-hs&67108863,hs+=24,hs>=26&&(hs-=26,os++);return this.strip()};function xa(ds,na){var _a=ds.charCodeAt(na);return _a>=65&&_a<=70?_a-55:_a>=97&&_a<=102?_a-87:_a-48&15}function $a(ds,na,_a){var es=xa(ds,_a);return _a-1>=na&&(es|=xa(ds,_a-1)<<4),es}An.prototype._parseHex=function(na,_a,es){this.length=Math.ceil((na.length-_a)/6),this.words=new Array(this.length);for(var ns=0;ns<this.length;ns++)this.words[ns]=0;var os=0,ls=0,hs;if(es==="be")for(ns=na.length-1;ns>=_a;ns-=2)hs=$a(na,_a,ns)<<os,this.words[ls]|=hs&67108863,os>=18?(os-=18,ls+=1,this.words[ls]|=hs>>>26):os+=8;else{var ss=na.length-_a;for(ns=ss%2===0?_a+1:_a;ns<na.length;ns+=2)hs=$a(na,_a,ns)<<os,this.words[ls]|=hs&67108863,os>=18?(os-=18,ls+=1,this.words[ls]|=hs>>>26):os+=8}this.strip()};function rs(ds,na,_a,es){for(var ns=0,os=Math.min(ds.length,_a),ls=na;ls<os;ls++){var hs=ds.charCodeAt(ls)-48;ns*=es,hs>=49?ns+=hs-49+10:hs>=17?ns+=hs-17+10:ns+=hs}return ns}An.prototype._parseBase=function(na,_a,es){this.words=[0],this.length=1;for(var ns=0,os=1;os<=67108863;os*=_a)ns++;ns--,os=os/_a|0;for(var ls=na.length-es,hs=ls%ns,ss=Math.min(ls,ls-hs)+es,ga=0,as=es;as<ss;as+=ns)ga=rs(na,as,as+ns,_a),this.imuln(os),this.words[0]+ga<67108864?this.words[0]+=ga:this._iaddn(ga);if(hs!==0){var r0=1;for(ga=rs(na,as,na.length,_a),as=0;as<hs;as++)r0*=_a;this.imuln(r0),this.words[0]+ga<67108864?this.words[0]+=ga:this._iaddn(ga)}this.strip()},An.prototype.copy=function(na){na.words=new Array(this.length);for(var _a=0;_a<this.length;_a++)na.words[_a]=this.words[_a];na.length=this.length,na.negative=this.negative,na.red=this.red},An.prototype.clone=function(){var na=new An(null);return this.copy(na),na},An.prototype._expand=function(na){for(;this.length<na;)this.words[this.length++]=0;return this},An.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},An.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},An.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ts=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],is=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],cs=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];An.prototype.toString=function(na,_a){na=na||10,_a=_a|0||1;var es;if(na===16||na==="hex"){es="";for(var ns=0,os=0,ls=0;ls<this.length;ls++){var hs=this.words[ls],ss=((hs<<ns|os)&16777215).toString(16);os=hs>>>24-ns&16777215,ns+=2,ns>=26&&(ns-=26,ls--),os!==0||ls!==this.length-1?es=ts[6-ss.length]+ss+es:es=ss+es}for(os!==0&&(es=os.toString(16)+es);es.length%_a!==0;)es="0"+es;return this.negative!==0&&(es="-"+es),es}if(na===(na|0)&&na>=2&&na<=36){var ga=is[na],as=cs[na];es="";var r0=this.clone();for(r0.negative=0;!r0.isZero();){var a0=r0.modn(as).toString(na);r0=r0.idivn(as),r0.isZero()?es=a0+es:es=ts[ga-a0.length]+a0+es}for(this.isZero()&&(es="0"+es);es.length%_a!==0;)es="0"+es;return this.negative!==0&&(es="-"+es),es}Cn(!1,"Base should be between 2 and 36")},An.prototype.toNumber=function(){var na=this.words[0];return this.length===2?na+=this.words[1]*67108864:this.length===3&&this.words[2]===1?na+=4503599627370496+this.words[1]*67108864:this.length>2&&Cn(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-na:na},An.prototype.toJSON=function(){return this.toString(16)},An.prototype.toBuffer=function(na,_a){return Cn(typeof ba<"u"),this.toArrayLike(ba,na,_a)},An.prototype.toArray=function(na,_a){return this.toArrayLike(Array,na,_a)},An.prototype.toArrayLike=function(na,_a,es){var ns=this.byteLength(),os=es||Math.max(1,ns);Cn(ns<=os,"byte array longer than desired length"),Cn(os>0,"Requested array length <= 0"),this.strip();var ls=_a==="le",hs=new na(os),ss,ga,as=this.clone();if(ls){for(ga=0;!as.isZero();ga++)ss=as.andln(255),as.iushrn(8),hs[ga]=ss;for(;ga<os;ga++)hs[ga]=0}else{for(ga=0;ga<os-ns;ga++)hs[ga]=0;for(ga=0;!as.isZero();ga++)ss=as.andln(255),as.iushrn(8),hs[os-ga-1]=ss}return hs},Math.clz32?An.prototype._countBits=function(na){return 32-Math.clz32(na)}:An.prototype._countBits=function(na){var _a=na,es=0;return _a>=4096&&(es+=13,_a>>>=13),_a>=64&&(es+=7,_a>>>=7),_a>=8&&(es+=4,_a>>>=4),_a>=2&&(es+=2,_a>>>=2),es+_a},An.prototype._zeroBits=function(na){if(na===0)return 26;var _a=na,es=0;return _a&8191||(es+=13,_a>>>=13),_a&127||(es+=7,_a>>>=7),_a&15||(es+=4,_a>>>=4),_a&3||(es+=2,_a>>>=2),_a&1||es++,es},An.prototype.bitLength=function(){var na=this.words[this.length-1],_a=this._countBits(na);return(this.length-1)*26+_a};function us(ds){for(var na=new Array(ds.bitLength()),_a=0;_a<na.length;_a++){var es=_a/26|0,ns=_a%26;na[_a]=(ds.words[es]&1<<ns)>>>ns}return na}An.prototype.zeroBits=function(){if(this.isZero())return 0;for(var na=0,_a=0;_a<this.length;_a++){var es=this._zeroBits(this.words[_a]);if(na+=es,es!==26)break}return na},An.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},An.prototype.toTwos=function(na){return this.negative!==0?this.abs().inotn(na).iaddn(1):this.clone()},An.prototype.fromTwos=function(na){return this.testn(na-1)?this.notn(na).iaddn(1).ineg():this.clone()},An.prototype.isNeg=function(){return this.negative!==0},An.prototype.neg=function(){return this.clone().ineg()},An.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},An.prototype.iuor=function(na){for(;this.length<na.length;)this.words[this.length++]=0;for(var _a=0;_a<na.length;_a++)this.words[_a]=this.words[_a]|na.words[_a];return this.strip()},An.prototype.ior=function(na){return Cn((this.negative|na.negative)===0),this.iuor(na)},An.prototype.or=function(na){return this.length>na.length?this.clone().ior(na):na.clone().ior(this)},An.prototype.uor=function(na){return this.length>na.length?this.clone().iuor(na):na.clone().iuor(this)},An.prototype.iuand=function(na){var _a;this.length>na.length?_a=na:_a=this;for(var es=0;es<_a.length;es++)this.words[es]=this.words[es]&na.words[es];return this.length=_a.length,this.strip()},An.prototype.iand=function(na){return Cn((this.negative|na.negative)===0),this.iuand(na)},An.prototype.and=function(na){return this.length>na.length?this.clone().iand(na):na.clone().iand(this)},An.prototype.uand=function(na){return this.length>na.length?this.clone().iuand(na):na.clone().iuand(this)},An.prototype.iuxor=function(na){var _a,es;this.length>na.length?(_a=this,es=na):(_a=na,es=this);for(var ns=0;ns<es.length;ns++)this.words[ns]=_a.words[ns]^es.words[ns];if(this!==_a)for(;ns<_a.length;ns++)this.words[ns]=_a.words[ns];return this.length=_a.length,this.strip()},An.prototype.ixor=function(na){return Cn((this.negative|na.negative)===0),this.iuxor(na)},An.prototype.xor=function(na){return this.length>na.length?this.clone().ixor(na):na.clone().ixor(this)},An.prototype.uxor=function(na){return this.length>na.length?this.clone().iuxor(na):na.clone().iuxor(this)},An.prototype.inotn=function(na){Cn(typeof na=="number"&&na>=0);var _a=Math.ceil(na/26)|0,es=na%26;this._expand(_a),es>0&&_a--;for(var ns=0;ns<_a;ns++)this.words[ns]=~this.words[ns]&67108863;return es>0&&(this.words[ns]=~this.words[ns]&67108863>>26-es),this.strip()},An.prototype.notn=function(na){return this.clone().inotn(na)},An.prototype.setn=function(na,_a){Cn(typeof na=="number"&&na>=0);var es=na/26|0,ns=na%26;return this._expand(es+1),_a?this.words[es]=this.words[es]|1<<ns:this.words[es]=this.words[es]&~(1<<ns),this.strip()},An.prototype.iadd=function(na){var _a;if(this.negative!==0&&na.negative===0)return this.negative=0,_a=this.isub(na),this.negative^=1,this._normSign();if(this.negative===0&&na.negative!==0)return na.negative=0,_a=this.isub(na),na.negative=1,_a._normSign();var es,ns;this.length>na.length?(es=this,ns=na):(es=na,ns=this);for(var os=0,ls=0;ls<ns.length;ls++)_a=(es.words[ls]|0)+(ns.words[ls]|0)+os,this.words[ls]=_a&67108863,os=_a>>>26;for(;os!==0&&ls<es.length;ls++)_a=(es.words[ls]|0)+os,this.words[ls]=_a&67108863,os=_a>>>26;if(this.length=es.length,os!==0)this.words[this.length]=os,this.length++;else if(es!==this)for(;ls<es.length;ls++)this.words[ls]=es.words[ls];return this},An.prototype.add=function(na){var _a;return na.negative!==0&&this.negative===0?(na.negative=0,_a=this.sub(na),na.negative^=1,_a):na.negative===0&&this.negative!==0?(this.negative=0,_a=na.sub(this),this.negative=1,_a):this.length>na.length?this.clone().iadd(na):na.clone().iadd(this)},An.prototype.isub=function(na){if(na.negative!==0){na.negative=0;var _a=this.iadd(na);return na.negative=1,_a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(na),this.negative=1,this._normSign();var es=this.cmp(na);if(es===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ns,os;es>0?(ns=this,os=na):(ns=na,os=this);for(var ls=0,hs=0;hs<os.length;hs++)_a=(ns.words[hs]|0)-(os.words[hs]|0)+ls,ls=_a>>26,this.words[hs]=_a&67108863;for(;ls!==0&&hs<ns.length;hs++)_a=(ns.words[hs]|0)+ls,ls=_a>>26,this.words[hs]=_a&67108863;if(ls===0&&hs<ns.length&&ns!==this)for(;hs<ns.length;hs++)this.words[hs]=ns.words[hs];return this.length=Math.max(this.length,hs),ns!==this&&(this.negative=1),this.strip()},An.prototype.sub=function(na){return this.clone().isub(na)};function ps(ds,na,_a){_a.negative=na.negative^ds.negative;var es=ds.length+na.length|0;_a.length=es,es=es-1|0;var ns=ds.words[0]|0,os=na.words[0]|0,ls=ns*os,hs=ls&67108863,ss=ls/67108864|0;_a.words[0]=hs;for(var ga=1;ga<es;ga++){for(var as=ss>>>26,r0=ss&67108863,a0=Math.min(ga,na.length-1),l0=Math.max(0,ga-ds.length+1);l0<=a0;l0++){var s0=ga-l0|0;ns=ds.words[s0]|0,os=na.words[l0]|0,ls=ns*os+r0,as+=ls/67108864|0,r0=ls&67108863}_a.words[ga]=r0|0,ss=as|0}return ss!==0?_a.words[ga]=ss|0:_a.length--,_a.strip()}var bs=function(na,_a,es){var ns=na.words,os=_a.words,ls=es.words,hs=0,ss,ga,as,r0=ns[0]|0,a0=r0&8191,l0=r0>>>13,s0=ns[1]|0,b0=s0&8191,f0=s0>>>13,m0=ns[2]|0,y0=m0&8191,t0=m0>>>13,h0=ns[3]|0,p0=h0&8191,E0=h0>>>13,I0=ns[4]|0,C0=I0&8191,$0=I0>>>13,vo=ns[5]|0,P0=vo&8191,S0=vo>>>13,_o=ns[6]|0,O0=_o&8191,B0=_o>>>13,To=ns[7]|0,k0=To&8191,D0=To>>>13,Eo=ns[8]|0,N0=Eo&8191,F0=Eo>>>13,Co=ns[9]|0,x0=Co&8191,u0=Co>>>13,v0=os[0]|0,_0=v0&8191,T0=v0>>>13,j0=os[1]|0,A0=j0&8191,U0=j0>>>13,$o=os[2]|0,L0=$o&8191,V0=$o>>>13,Mo=os[3]|0,G0=Mo&8191,Z0=Mo>>>13,Io=os[4]|0,q0=Io&8191,Y0=Io>>>13,Ro=os[5]|0,z0=Ro&8191,X0=Ro>>>13,Po=os[6]|0,K0=Po&8191,bo=Po>>>13,ko=os[7]|0,W0=ko&8191,J0=ko>>>13,Ao=os[8]|0,H0=Ao&8191,go=Ao>>>13,Bo=os[9]|0,Q0=Bo&8191,wo=Bo>>>13;es.negative=na.negative^_a.negative,es.length=19,ss=Math.imul(a0,_0),ga=Math.imul(a0,T0),ga=ga+Math.imul(l0,_0)|0,as=Math.imul(l0,T0);var No=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(No>>>26)|0,No&=67108863,ss=Math.imul(b0,_0),ga=Math.imul(b0,T0),ga=ga+Math.imul(f0,_0)|0,as=Math.imul(f0,T0),ss=ss+Math.imul(a0,A0)|0,ga=ga+Math.imul(a0,U0)|0,ga=ga+Math.imul(l0,A0)|0,as=as+Math.imul(l0,U0)|0;var Oo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,ss=Math.imul(y0,_0),ga=Math.imul(y0,T0),ga=ga+Math.imul(t0,_0)|0,as=Math.imul(t0,T0),ss=ss+Math.imul(b0,A0)|0,ga=ga+Math.imul(b0,U0)|0,ga=ga+Math.imul(f0,A0)|0,as=as+Math.imul(f0,U0)|0,ss=ss+Math.imul(a0,L0)|0,ga=ga+Math.imul(a0,V0)|0,ga=ga+Math.imul(l0,L0)|0,as=as+Math.imul(l0,V0)|0;var jo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(jo>>>26)|0,jo&=67108863,ss=Math.imul(p0,_0),ga=Math.imul(p0,T0),ga=ga+Math.imul(E0,_0)|0,as=Math.imul(E0,T0),ss=ss+Math.imul(y0,A0)|0,ga=ga+Math.imul(y0,U0)|0,ga=ga+Math.imul(t0,A0)|0,as=as+Math.imul(t0,U0)|0,ss=ss+Math.imul(b0,L0)|0,ga=ga+Math.imul(b0,V0)|0,ga=ga+Math.imul(f0,L0)|0,as=as+Math.imul(f0,V0)|0,ss=ss+Math.imul(a0,G0)|0,ga=ga+Math.imul(a0,Z0)|0,ga=ga+Math.imul(l0,G0)|0,as=as+Math.imul(l0,Z0)|0;var Uo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,ss=Math.imul(C0,_0),ga=Math.imul(C0,T0),ga=ga+Math.imul($0,_0)|0,as=Math.imul($0,T0),ss=ss+Math.imul(p0,A0)|0,ga=ga+Math.imul(p0,U0)|0,ga=ga+Math.imul(E0,A0)|0,as=as+Math.imul(E0,U0)|0,ss=ss+Math.imul(y0,L0)|0,ga=ga+Math.imul(y0,V0)|0,ga=ga+Math.imul(t0,L0)|0,as=as+Math.imul(t0,V0)|0,ss=ss+Math.imul(b0,G0)|0,ga=ga+Math.imul(b0,Z0)|0,ga=ga+Math.imul(f0,G0)|0,as=as+Math.imul(f0,Z0)|0,ss=ss+Math.imul(a0,q0)|0,ga=ga+Math.imul(a0,Y0)|0,ga=ga+Math.imul(l0,q0)|0,as=as+Math.imul(l0,Y0)|0;var zo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(zo>>>26)|0,zo&=67108863,ss=Math.imul(P0,_0),ga=Math.imul(P0,T0),ga=ga+Math.imul(S0,_0)|0,as=Math.imul(S0,T0),ss=ss+Math.imul(C0,A0)|0,ga=ga+Math.imul(C0,U0)|0,ga=ga+Math.imul($0,A0)|0,as=as+Math.imul($0,U0)|0,ss=ss+Math.imul(p0,L0)|0,ga=ga+Math.imul(p0,V0)|0,ga=ga+Math.imul(E0,L0)|0,as=as+Math.imul(E0,V0)|0,ss=ss+Math.imul(y0,G0)|0,ga=ga+Math.imul(y0,Z0)|0,ga=ga+Math.imul(t0,G0)|0,as=as+Math.imul(t0,Z0)|0,ss=ss+Math.imul(b0,q0)|0,ga=ga+Math.imul(b0,Y0)|0,ga=ga+Math.imul(f0,q0)|0,as=as+Math.imul(f0,Y0)|0,ss=ss+Math.imul(a0,z0)|0,ga=ga+Math.imul(a0,X0)|0,ga=ga+Math.imul(l0,z0)|0,as=as+Math.imul(l0,X0)|0;var qo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(qo>>>26)|0,qo&=67108863,ss=Math.imul(O0,_0),ga=Math.imul(O0,T0),ga=ga+Math.imul(B0,_0)|0,as=Math.imul(B0,T0),ss=ss+Math.imul(P0,A0)|0,ga=ga+Math.imul(P0,U0)|0,ga=ga+Math.imul(S0,A0)|0,as=as+Math.imul(S0,U0)|0,ss=ss+Math.imul(C0,L0)|0,ga=ga+Math.imul(C0,V0)|0,ga=ga+Math.imul($0,L0)|0,as=as+Math.imul($0,V0)|0,ss=ss+Math.imul(p0,G0)|0,ga=ga+Math.imul(p0,Z0)|0,ga=ga+Math.imul(E0,G0)|0,as=as+Math.imul(E0,Z0)|0,ss=ss+Math.imul(y0,q0)|0,ga=ga+Math.imul(y0,Y0)|0,ga=ga+Math.imul(t0,q0)|0,as=as+Math.imul(t0,Y0)|0,ss=ss+Math.imul(b0,z0)|0,ga=ga+Math.imul(b0,X0)|0,ga=ga+Math.imul(f0,z0)|0,as=as+Math.imul(f0,X0)|0,ss=ss+Math.imul(a0,K0)|0,ga=ga+Math.imul(a0,bo)|0,ga=ga+Math.imul(l0,K0)|0,as=as+Math.imul(l0,bo)|0;var Fo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,ss=Math.imul(k0,_0),ga=Math.imul(k0,T0),ga=ga+Math.imul(D0,_0)|0,as=Math.imul(D0,T0),ss=ss+Math.imul(O0,A0)|0,ga=ga+Math.imul(O0,U0)|0,ga=ga+Math.imul(B0,A0)|0,as=as+Math.imul(B0,U0)|0,ss=ss+Math.imul(P0,L0)|0,ga=ga+Math.imul(P0,V0)|0,ga=ga+Math.imul(S0,L0)|0,as=as+Math.imul(S0,V0)|0,ss=ss+Math.imul(C0,G0)|0,ga=ga+Math.imul(C0,Z0)|0,ga=ga+Math.imul($0,G0)|0,as=as+Math.imul($0,Z0)|0,ss=ss+Math.imul(p0,q0)|0,ga=ga+Math.imul(p0,Y0)|0,ga=ga+Math.imul(E0,q0)|0,as=as+Math.imul(E0,Y0)|0,ss=ss+Math.imul(y0,z0)|0,ga=ga+Math.imul(y0,X0)|0,ga=ga+Math.imul(t0,z0)|0,as=as+Math.imul(t0,X0)|0,ss=ss+Math.imul(b0,K0)|0,ga=ga+Math.imul(b0,bo)|0,ga=ga+Math.imul(f0,K0)|0,as=as+Math.imul(f0,bo)|0,ss=ss+Math.imul(a0,W0)|0,ga=ga+Math.imul(a0,J0)|0,ga=ga+Math.imul(l0,W0)|0,as=as+Math.imul(l0,J0)|0;var Ko=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,ss=Math.imul(N0,_0),ga=Math.imul(N0,T0),ga=ga+Math.imul(F0,_0)|0,as=Math.imul(F0,T0),ss=ss+Math.imul(k0,A0)|0,ga=ga+Math.imul(k0,U0)|0,ga=ga+Math.imul(D0,A0)|0,as=as+Math.imul(D0,U0)|0,ss=ss+Math.imul(O0,L0)|0,ga=ga+Math.imul(O0,V0)|0,ga=ga+Math.imul(B0,L0)|0,as=as+Math.imul(B0,V0)|0,ss=ss+Math.imul(P0,G0)|0,ga=ga+Math.imul(P0,Z0)|0,ga=ga+Math.imul(S0,G0)|0,as=as+Math.imul(S0,Z0)|0,ss=ss+Math.imul(C0,q0)|0,ga=ga+Math.imul(C0,Y0)|0,ga=ga+Math.imul($0,q0)|0,as=as+Math.imul($0,Y0)|0,ss=ss+Math.imul(p0,z0)|0,ga=ga+Math.imul(p0,X0)|0,ga=ga+Math.imul(E0,z0)|0,as=as+Math.imul(E0,X0)|0,ss=ss+Math.imul(y0,K0)|0,ga=ga+Math.imul(y0,bo)|0,ga=ga+Math.imul(t0,K0)|0,as=as+Math.imul(t0,bo)|0,ss=ss+Math.imul(b0,W0)|0,ga=ga+Math.imul(b0,J0)|0,ga=ga+Math.imul(f0,W0)|0,as=as+Math.imul(f0,J0)|0,ss=ss+Math.imul(a0,H0)|0,ga=ga+Math.imul(a0,go)|0,ga=ga+Math.imul(l0,H0)|0,as=as+Math.imul(l0,go)|0;var Ho=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,ss=Math.imul(x0,_0),ga=Math.imul(x0,T0),ga=ga+Math.imul(u0,_0)|0,as=Math.imul(u0,T0),ss=ss+Math.imul(N0,A0)|0,ga=ga+Math.imul(N0,U0)|0,ga=ga+Math.imul(F0,A0)|0,as=as+Math.imul(F0,U0)|0,ss=ss+Math.imul(k0,L0)|0,ga=ga+Math.imul(k0,V0)|0,ga=ga+Math.imul(D0,L0)|0,as=as+Math.imul(D0,V0)|0,ss=ss+Math.imul(O0,G0)|0,ga=ga+Math.imul(O0,Z0)|0,ga=ga+Math.imul(B0,G0)|0,as=as+Math.imul(B0,Z0)|0,ss=ss+Math.imul(P0,q0)|0,ga=ga+Math.imul(P0,Y0)|0,ga=ga+Math.imul(S0,q0)|0,as=as+Math.imul(S0,Y0)|0,ss=ss+Math.imul(C0,z0)|0,ga=ga+Math.imul(C0,X0)|0,ga=ga+Math.imul($0,z0)|0,as=as+Math.imul($0,X0)|0,ss=ss+Math.imul(p0,K0)|0,ga=ga+Math.imul(p0,bo)|0,ga=ga+Math.imul(E0,K0)|0,as=as+Math.imul(E0,bo)|0,ss=ss+Math.imul(y0,W0)|0,ga=ga+Math.imul(y0,J0)|0,ga=ga+Math.imul(t0,W0)|0,as=as+Math.imul(t0,J0)|0,ss=ss+Math.imul(b0,H0)|0,ga=ga+Math.imul(b0,go)|0,ga=ga+Math.imul(f0,H0)|0,as=as+Math.imul(f0,go)|0,ss=ss+Math.imul(a0,Q0)|0,ga=ga+Math.imul(a0,wo)|0,ga=ga+Math.imul(l0,Q0)|0,as=as+Math.imul(l0,wo)|0;var Vo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,ss=Math.imul(x0,A0),ga=Math.imul(x0,U0),ga=ga+Math.imul(u0,A0)|0,as=Math.imul(u0,U0),ss=ss+Math.imul(N0,L0)|0,ga=ga+Math.imul(N0,V0)|0,ga=ga+Math.imul(F0,L0)|0,as=as+Math.imul(F0,V0)|0,ss=ss+Math.imul(k0,G0)|0,ga=ga+Math.imul(k0,Z0)|0,ga=ga+Math.imul(D0,G0)|0,as=as+Math.imul(D0,Z0)|0,ss=ss+Math.imul(O0,q0)|0,ga=ga+Math.imul(O0,Y0)|0,ga=ga+Math.imul(B0,q0)|0,as=as+Math.imul(B0,Y0)|0,ss=ss+Math.imul(P0,z0)|0,ga=ga+Math.imul(P0,X0)|0,ga=ga+Math.imul(S0,z0)|0,as=as+Math.imul(S0,X0)|0,ss=ss+Math.imul(C0,K0)|0,ga=ga+Math.imul(C0,bo)|0,ga=ga+Math.imul($0,K0)|0,as=as+Math.imul($0,bo)|0,ss=ss+Math.imul(p0,W0)|0,ga=ga+Math.imul(p0,J0)|0,ga=ga+Math.imul(E0,W0)|0,as=as+Math.imul(E0,J0)|0,ss=ss+Math.imul(y0,H0)|0,ga=ga+Math.imul(y0,go)|0,ga=ga+Math.imul(t0,H0)|0,as=as+Math.imul(t0,go)|0,ss=ss+Math.imul(b0,Q0)|0,ga=ga+Math.imul(b0,wo)|0,ga=ga+Math.imul(f0,Q0)|0,as=as+Math.imul(f0,wo)|0;var Go=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Go>>>26)|0,Go&=67108863,ss=Math.imul(x0,L0),ga=Math.imul(x0,V0),ga=ga+Math.imul(u0,L0)|0,as=Math.imul(u0,V0),ss=ss+Math.imul(N0,G0)|0,ga=ga+Math.imul(N0,Z0)|0,ga=ga+Math.imul(F0,G0)|0,as=as+Math.imul(F0,Z0)|0,ss=ss+Math.imul(k0,q0)|0,ga=ga+Math.imul(k0,Y0)|0,ga=ga+Math.imul(D0,q0)|0,as=as+Math.imul(D0,Y0)|0,ss=ss+Math.imul(O0,z0)|0,ga=ga+Math.imul(O0,X0)|0,ga=ga+Math.imul(B0,z0)|0,as=as+Math.imul(B0,X0)|0,ss=ss+Math.imul(P0,K0)|0,ga=ga+Math.imul(P0,bo)|0,ga=ga+Math.imul(S0,K0)|0,as=as+Math.imul(S0,bo)|0,ss=ss+Math.imul(C0,W0)|0,ga=ga+Math.imul(C0,J0)|0,ga=ga+Math.imul($0,W0)|0,as=as+Math.imul($0,J0)|0,ss=ss+Math.imul(p0,H0)|0,ga=ga+Math.imul(p0,go)|0,ga=ga+Math.imul(E0,H0)|0,as=as+Math.imul(E0,go)|0,ss=ss+Math.imul(y0,Q0)|0,ga=ga+Math.imul(y0,wo)|0,ga=ga+Math.imul(t0,Q0)|0,as=as+Math.imul(t0,wo)|0;var Zo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,ss=Math.imul(x0,G0),ga=Math.imul(x0,Z0),ga=ga+Math.imul(u0,G0)|0,as=Math.imul(u0,Z0),ss=ss+Math.imul(N0,q0)|0,ga=ga+Math.imul(N0,Y0)|0,ga=ga+Math.imul(F0,q0)|0,as=as+Math.imul(F0,Y0)|0,ss=ss+Math.imul(k0,z0)|0,ga=ga+Math.imul(k0,X0)|0,ga=ga+Math.imul(D0,z0)|0,as=as+Math.imul(D0,X0)|0,ss=ss+Math.imul(O0,K0)|0,ga=ga+Math.imul(O0,bo)|0,ga=ga+Math.imul(B0,K0)|0,as=as+Math.imul(B0,bo)|0,ss=ss+Math.imul(P0,W0)|0,ga=ga+Math.imul(P0,J0)|0,ga=ga+Math.imul(S0,W0)|0,as=as+Math.imul(S0,J0)|0,ss=ss+Math.imul(C0,H0)|0,ga=ga+Math.imul(C0,go)|0,ga=ga+Math.imul($0,H0)|0,as=as+Math.imul($0,go)|0,ss=ss+Math.imul(p0,Q0)|0,ga=ga+Math.imul(p0,wo)|0,ga=ga+Math.imul(E0,Q0)|0,as=as+Math.imul(E0,wo)|0;var Jo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Jo>>>26)|0,Jo&=67108863,ss=Math.imul(x0,q0),ga=Math.imul(x0,Y0),ga=ga+Math.imul(u0,q0)|0,as=Math.imul(u0,Y0),ss=ss+Math.imul(N0,z0)|0,ga=ga+Math.imul(N0,X0)|0,ga=ga+Math.imul(F0,z0)|0,as=as+Math.imul(F0,X0)|0,ss=ss+Math.imul(k0,K0)|0,ga=ga+Math.imul(k0,bo)|0,ga=ga+Math.imul(D0,K0)|0,as=as+Math.imul(D0,bo)|0,ss=ss+Math.imul(O0,W0)|0,ga=ga+Math.imul(O0,J0)|0,ga=ga+Math.imul(B0,W0)|0,as=as+Math.imul(B0,J0)|0,ss=ss+Math.imul(P0,H0)|0,ga=ga+Math.imul(P0,go)|0,ga=ga+Math.imul(S0,H0)|0,as=as+Math.imul(S0,go)|0,ss=ss+Math.imul(C0,Q0)|0,ga=ga+Math.imul(C0,wo)|0,ga=ga+Math.imul($0,Q0)|0,as=as+Math.imul($0,wo)|0;var Qo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,ss=Math.imul(x0,z0),ga=Math.imul(x0,X0),ga=ga+Math.imul(u0,z0)|0,as=Math.imul(u0,X0),ss=ss+Math.imul(N0,K0)|0,ga=ga+Math.imul(N0,bo)|0,ga=ga+Math.imul(F0,K0)|0,as=as+Math.imul(F0,bo)|0,ss=ss+Math.imul(k0,W0)|0,ga=ga+Math.imul(k0,J0)|0,ga=ga+Math.imul(D0,W0)|0,as=as+Math.imul(D0,J0)|0,ss=ss+Math.imul(O0,H0)|0,ga=ga+Math.imul(O0,go)|0,ga=ga+Math.imul(B0,H0)|0,as=as+Math.imul(B0,go)|0,ss=ss+Math.imul(P0,Q0)|0,ga=ga+Math.imul(P0,wo)|0,ga=ga+Math.imul(S0,Q0)|0,as=as+Math.imul(S0,wo)|0;var Xo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,ss=Math.imul(x0,K0),ga=Math.imul(x0,bo),ga=ga+Math.imul(u0,K0)|0,as=Math.imul(u0,bo),ss=ss+Math.imul(N0,W0)|0,ga=ga+Math.imul(N0,J0)|0,ga=ga+Math.imul(F0,W0)|0,as=as+Math.imul(F0,J0)|0,ss=ss+Math.imul(k0,H0)|0,ga=ga+Math.imul(k0,go)|0,ga=ga+Math.imul(D0,H0)|0,as=as+Math.imul(D0,go)|0,ss=ss+Math.imul(O0,Q0)|0,ga=ga+Math.imul(O0,wo)|0,ga=ga+Math.imul(B0,Q0)|0,as=as+Math.imul(B0,wo)|0;var Wo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,ss=Math.imul(x0,W0),ga=Math.imul(x0,J0),ga=ga+Math.imul(u0,W0)|0,as=Math.imul(u0,J0),ss=ss+Math.imul(N0,H0)|0,ga=ga+Math.imul(N0,go)|0,ga=ga+Math.imul(F0,H0)|0,as=as+Math.imul(F0,go)|0,ss=ss+Math.imul(k0,Q0)|0,ga=ga+Math.imul(k0,wo)|0,ga=ga+Math.imul(D0,Q0)|0,as=as+Math.imul(D0,wo)|0;var _f=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(_f>>>26)|0,_f&=67108863,ss=Math.imul(x0,H0),ga=Math.imul(x0,go),ga=ga+Math.imul(u0,H0)|0,as=Math.imul(u0,go),ss=ss+Math.imul(N0,Q0)|0,ga=ga+Math.imul(N0,wo)|0,ga=ga+Math.imul(F0,Q0)|0,as=as+Math.imul(F0,wo)|0;var _c=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(_c>>>26)|0,_c&=67108863,ss=Math.imul(x0,Q0),ga=Math.imul(x0,wo),ga=ga+Math.imul(u0,Q0)|0,as=Math.imul(u0,wo);var yl=(hs+ss|0)+((ga&8191)<<13)|0;return hs=(as+(ga>>>13)|0)+(yl>>>26)|0,yl&=67108863,ls[0]=No,ls[1]=Oo,ls[2]=jo,ls[3]=Uo,ls[4]=zo,ls[5]=qo,ls[6]=Fo,ls[7]=Ko,ls[8]=Ho,ls[9]=Vo,ls[10]=Go,ls[11]=Zo,ls[12]=Jo,ls[13]=Qo,ls[14]=Xo,ls[15]=Wo,ls[16]=_f,ls[17]=_c,ls[18]=yl,hs!==0&&(ls[19]=hs,es.length++),es};Math.imul||(bs=ps);function e0(ds,na,_a){_a.negative=na.negative^ds.negative,_a.length=ds.length+na.length;for(var es=0,ns=0,os=0;os<_a.length-1;os++){var ls=ns;ns=0;for(var hs=es&67108863,ss=Math.min(os,na.length-1),ga=Math.max(0,os-ds.length+1);ga<=ss;ga++){var as=os-ga,r0=ds.words[as]|0,a0=na.words[ga]|0,l0=r0*a0,s0=l0&67108863;ls=ls+(l0/67108864|0)|0,s0=s0+hs|0,hs=s0&67108863,ls=ls+(s0>>>26)|0,ns+=ls>>>26,ls&=67108863}_a.words[os]=hs,es=ls,ls=ns}return es!==0?_a.words[os]=es:_a.length--,_a.strip()}function gs(ds,na,_a){var es=new Ds;return es.mulp(ds,na,_a)}An.prototype.mulTo=function(na,_a){var es,ns=this.length+na.length;return this.length===10&&na.length===10?es=bs(this,na,_a):ns<63?es=ps(this,na,_a):ns<1024?es=e0(this,na,_a):es=gs(this,na,_a),es};function Ds(ds,na){this.x=ds,this.y=na}Ds.prototype.makeRBT=function(na){for(var _a=new Array(na),es=An.prototype._countBits(na)-1,ns=0;ns<na;ns++)_a[ns]=this.revBin(ns,es,na);return _a},Ds.prototype.revBin=function(na,_a,es){if(na===0||na===es-1)return na;for(var ns=0,os=0;os<_a;os++)ns|=(na&1)<<_a-os-1,na>>=1;return ns},Ds.prototype.permute=function(na,_a,es,ns,os,ls){for(var hs=0;hs<ls;hs++)ns[hs]=_a[na[hs]],os[hs]=es[na[hs]]},Ds.prototype.transform=function(na,_a,es,ns,os,ls){this.permute(ls,na,_a,es,ns,os);for(var hs=1;hs<os;hs<<=1)for(var ss=hs<<1,ga=Math.cos(2*Math.PI/ss),as=Math.sin(2*Math.PI/ss),r0=0;r0<os;r0+=ss)for(var a0=ga,l0=as,s0=0;s0<hs;s0++){var b0=es[r0+s0],f0=ns[r0+s0],m0=es[r0+s0+hs],y0=ns[r0+s0+hs],t0=a0*m0-l0*y0;y0=a0*y0+l0*m0,m0=t0,es[r0+s0]=b0+m0,ns[r0+s0]=f0+y0,es[r0+s0+hs]=b0-m0,ns[r0+s0+hs]=f0-y0,s0!==ss&&(t0=ga*a0-as*l0,l0=ga*l0+as*a0,a0=t0)}},Ds.prototype.guessLen13b=function(na,_a){var es=Math.max(_a,na)|1,ns=es&1,os=0;for(es=es/2|0;es;es=es>>>1)os++;return 1<<os+1+ns},Ds.prototype.conjugate=function(na,_a,es){if(!(es<=1))for(var ns=0;ns<es/2;ns++){var os=na[ns];na[ns]=na[es-ns-1],na[es-ns-1]=os,os=_a[ns],_a[ns]=-_a[es-ns-1],_a[es-ns-1]=-os}},Ds.prototype.normalize13b=function(na,_a){for(var es=0,ns=0;ns<_a/2;ns++){var os=Math.round(na[2*ns+1]/_a)*8192+Math.round(na[2*ns]/_a)+es;na[ns]=os&67108863,os<67108864?es=0:es=os/67108864|0}return na},Ds.prototype.convert13b=function(na,_a,es,ns){for(var os=0,ls=0;ls<_a;ls++)os=os+(na[ls]|0),es[2*ls]=os&8191,os=os>>>13,es[2*ls+1]=os&8191,os=os>>>13;for(ls=2*_a;ls<ns;++ls)es[ls]=0;Cn(os===0),Cn((os&-8192)===0)},Ds.prototype.stub=function(na){for(var _a=new Array(na),es=0;es<na;es++)_a[es]=0;return _a},Ds.prototype.mulp=function(na,_a,es){var ns=2*this.guessLen13b(na.length,_a.length),os=this.makeRBT(ns),ls=this.stub(ns),hs=new Array(ns),ss=new Array(ns),ga=new Array(ns),as=new Array(ns),r0=new Array(ns),a0=new Array(ns),l0=es.words;l0.length=ns,this.convert13b(na.words,na.length,hs,ns),this.convert13b(_a.words,_a.length,as,ns),this.transform(hs,ls,ss,ga,ns,os),this.transform(as,ls,r0,a0,ns,os);for(var s0=0;s0<ns;s0++){var b0=ss[s0]*r0[s0]-ga[s0]*a0[s0];ga[s0]=ss[s0]*a0[s0]+ga[s0]*r0[s0],ss[s0]=b0}return this.conjugate(ss,ga,ns),this.transform(ss,ga,l0,ls,ns,os),this.conjugate(l0,ls,ns),this.normalize13b(l0,ns),es.negative=na.negative^_a.negative,es.length=na.length+_a.length,es.strip()},An.prototype.mul=function(na){var _a=new An(null);return _a.words=new Array(this.length+na.length),this.mulTo(na,_a)},An.prototype.mulf=function(na){var _a=new An(null);return _a.words=new Array(this.length+na.length),gs(this,na,_a)},An.prototype.imul=function(na){return this.clone().mulTo(na,this)},An.prototype.imuln=function(na){Cn(typeof na=="number"),Cn(na<67108864);for(var _a=0,es=0;es<this.length;es++){var ns=(this.words[es]|0)*na,os=(ns&67108863)+(_a&67108863);_a>>=26,_a+=ns/67108864|0,_a+=os>>>26,this.words[es]=os&67108863}return _a!==0&&(this.words[es]=_a,this.length++),this},An.prototype.muln=function(na){return this.clone().imuln(na)},An.prototype.sqr=function(){return this.mul(this)},An.prototype.isqr=function(){return this.imul(this.clone())},An.prototype.pow=function(na){var _a=us(na);if(_a.length===0)return new An(1);for(var es=this,ns=0;ns<_a.length&&_a[ns]===0;ns++,es=es.sqr());if(++ns<_a.length)for(var os=es.sqr();ns<_a.length;ns++,os=os.sqr())_a[ns]!==0&&(es=es.mul(os));return es},An.prototype.iushln=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26,ns=67108863>>>26-_a<<26-_a,os;if(_a!==0){var ls=0;for(os=0;os<this.length;os++){var hs=this.words[os]&ns,ss=(this.words[os]|0)-hs<<_a;this.words[os]=ss|ls,ls=hs>>>26-_a}ls&&(this.words[os]=ls,this.length++)}if(es!==0){for(os=this.length-1;os>=0;os--)this.words[os+es]=this.words[os];for(os=0;os<es;os++)this.words[os]=0;this.length+=es}return this.strip()},An.prototype.ishln=function(na){return Cn(this.negative===0),this.iushln(na)},An.prototype.iushrn=function(na,_a,es){Cn(typeof na=="number"&&na>=0);var ns;_a?ns=(_a-_a%26)/26:ns=0;var os=na%26,ls=Math.min((na-os)/26,this.length),hs=67108863^67108863>>>os<<os,ss=es;if(ns-=ls,ns=Math.max(0,ns),ss){for(var ga=0;ga<ls;ga++)ss.words[ga]=this.words[ga];ss.length=ls}if(ls!==0)if(this.length>ls)for(this.length-=ls,ga=0;ga<this.length;ga++)this.words[ga]=this.words[ga+ls];else this.words[0]=0,this.length=1;var as=0;for(ga=this.length-1;ga>=0&&(as!==0||ga>=ns);ga--){var r0=this.words[ga]|0;this.words[ga]=as<<26-os|r0>>>os,as=r0&hs}return ss&&as!==0&&(ss.words[ss.length++]=as),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},An.prototype.ishrn=function(na,_a,es){return Cn(this.negative===0),this.iushrn(na,_a,es)},An.prototype.shln=function(na){return this.clone().ishln(na)},An.prototype.ushln=function(na){return this.clone().iushln(na)},An.prototype.shrn=function(na){return this.clone().ishrn(na)},An.prototype.ushrn=function(na){return this.clone().iushrn(na)},An.prototype.testn=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26,ns=1<<_a;if(this.length<=es)return!1;var os=this.words[es];return!!(os&ns)},An.prototype.imaskn=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26;if(Cn(this.negative===0,"imaskn works only with positive numbers"),this.length<=es)return this;if(_a!==0&&es++,this.length=Math.min(es,this.length),_a!==0){var ns=67108863^67108863>>>_a<<_a;this.words[this.length-1]&=ns}return this.strip()},An.prototype.maskn=function(na){return this.clone().imaskn(na)},An.prototype.iaddn=function(na){return Cn(typeof na=="number"),Cn(na<67108864),na<0?this.isubn(-na):this.negative!==0?this.length===1&&(this.words[0]|0)<na?(this.words[0]=na-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(na),this.negative=1,this):this._iaddn(na)},An.prototype._iaddn=function(na){this.words[0]+=na;for(var _a=0;_a<this.length&&this.words[_a]>=67108864;_a++)this.words[_a]-=67108864,_a===this.length-1?this.words[_a+1]=1:this.words[_a+1]++;return this.length=Math.max(this.length,_a+1),this},An.prototype.isubn=function(na){if(Cn(typeof na=="number"),Cn(na<67108864),na<0)return this.iaddn(-na);if(this.negative!==0)return this.negative=0,this.iaddn(na),this.negative=1,this;if(this.words[0]-=na,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _a=0;_a<this.length&&this.words[_a]<0;_a++)this.words[_a]+=67108864,this.words[_a+1]-=1;return this.strip()},An.prototype.addn=function(na){return this.clone().iaddn(na)},An.prototype.subn=function(na){return this.clone().isubn(na)},An.prototype.iabs=function(){return this.negative=0,this},An.prototype.abs=function(){return this.clone().iabs()},An.prototype._ishlnsubmul=function(na,_a,es){var ns=na.length+es,os;this._expand(ns);var ls,hs=0;for(os=0;os<na.length;os++){ls=(this.words[os+es]|0)+hs;var ss=(na.words[os]|0)*_a;ls-=ss&67108863,hs=(ls>>26)-(ss/67108864|0),this.words[os+es]=ls&67108863}for(;os<this.length-es;os++)ls=(this.words[os+es]|0)+hs,hs=ls>>26,this.words[os+es]=ls&67108863;if(hs===0)return this.strip();for(Cn(hs===-1),hs=0,os=0;os<this.length;os++)ls=-(this.words[os]|0)+hs,hs=ls>>26,this.words[os]=ls&67108863;return this.negative=1,this.strip()},An.prototype._wordDiv=function(na,_a){var es=this.length-na.length,ns=this.clone(),os=na,ls=os.words[os.length-1]|0,hs=this._countBits(ls);es=26-hs,es!==0&&(os=os.ushln(es),ns.iushln(es),ls=os.words[os.length-1]|0);var ss=ns.length-os.length,ga;if(_a!=="mod"){ga=new An(null),ga.length=ss+1,ga.words=new Array(ga.length);for(var as=0;as<ga.length;as++)ga.words[as]=0}var r0=ns.clone()._ishlnsubmul(os,1,ss);r0.negative===0&&(ns=r0,ga&&(ga.words[ss]=1));for(var a0=ss-1;a0>=0;a0--){var l0=(ns.words[os.length+a0]|0)*67108864+(ns.words[os.length+a0-1]|0);for(l0=Math.min(l0/ls|0,67108863),ns._ishlnsubmul(os,l0,a0);ns.negative!==0;)l0--,ns.negative=0,ns._ishlnsubmul(os,1,a0),ns.isZero()||(ns.negative^=1);ga&&(ga.words[a0]=l0)}return ga&&ga.strip(),ns.strip(),_a!=="div"&&es!==0&&ns.iushrn(es),{div:ga||null,mod:ns}},An.prototype.divmod=function(na,_a,es){if(Cn(!na.isZero()),this.isZero())return{div:new An(0),mod:new An(0)};var ns,os,ls;return this.negative!==0&&na.negative===0?(ls=this.neg().divmod(na,_a),_a!=="mod"&&(ns=ls.div.neg()),_a!=="div"&&(os=ls.mod.neg(),es&&os.negative!==0&&os.iadd(na)),{div:ns,mod:os}):this.negative===0&&na.negative!==0?(ls=this.divmod(na.neg(),_a),_a!=="mod"&&(ns=ls.div.neg()),{div:ns,mod:ls.mod}):this.negative&na.negative?(ls=this.neg().divmod(na.neg(),_a),_a!=="div"&&(os=ls.mod.neg(),es&&os.negative!==0&&os.isub(na)),{div:ls.div,mod:os}):na.length>this.length||this.cmp(na)<0?{div:new An(0),mod:this}:na.length===1?_a==="div"?{div:this.divn(na.words[0]),mod:null}:_a==="mod"?{div:null,mod:new An(this.modn(na.words[0]))}:{div:this.divn(na.words[0]),mod:new An(this.modn(na.words[0]))}:this._wordDiv(na,_a)},An.prototype.div=function(na){return this.divmod(na,"div",!1).div},An.prototype.mod=function(na){return this.divmod(na,"mod",!1).mod},An.prototype.umod=function(na){return this.divmod(na,"mod",!0).mod},An.prototype.divRound=function(na){var _a=this.divmod(na);if(_a.mod.isZero())return _a.div;var es=_a.div.negative!==0?_a.mod.isub(na):_a.mod,ns=na.ushrn(1),os=na.andln(1),ls=es.cmp(ns);return ls<0||os===1&&ls===0?_a.div:_a.div.negative!==0?_a.div.isubn(1):_a.div.iaddn(1)},An.prototype.modn=function(na){Cn(na<=67108863);for(var _a=(1<<26)%na,es=0,ns=this.length-1;ns>=0;ns--)es=(_a*es+(this.words[ns]|0))%na;return es},An.prototype.idivn=function(na){Cn(na<=67108863);for(var _a=0,es=this.length-1;es>=0;es--){var ns=(this.words[es]|0)+_a*67108864;this.words[es]=ns/na|0,_a=ns%na}return this.strip()},An.prototype.divn=function(na){return this.clone().idivn(na)},An.prototype.egcd=function(na){Cn(na.negative===0),Cn(!na.isZero());var _a=this,es=na.clone();_a.negative!==0?_a=_a.umod(na):_a=_a.clone();for(var ns=new An(1),os=new An(0),ls=new An(0),hs=new An(1),ss=0;_a.isEven()&&es.isEven();)_a.iushrn(1),es.iushrn(1),++ss;for(var ga=es.clone(),as=_a.clone();!_a.isZero();){for(var r0=0,a0=1;!(_a.words[0]&a0)&&r0<26;++r0,a0<<=1);if(r0>0)for(_a.iushrn(r0);r0-- >0;)(ns.isOdd()||os.isOdd())&&(ns.iadd(ga),os.isub(as)),ns.iushrn(1),os.iushrn(1);for(var l0=0,s0=1;!(es.words[0]&s0)&&l0<26;++l0,s0<<=1);if(l0>0)for(es.iushrn(l0);l0-- >0;)(ls.isOdd()||hs.isOdd())&&(ls.iadd(ga),hs.isub(as)),ls.iushrn(1),hs.iushrn(1);_a.cmp(es)>=0?(_a.isub(es),ns.isub(ls),os.isub(hs)):(es.isub(_a),ls.isub(ns),hs.isub(os))}return{a:ls,b:hs,gcd:es.iushln(ss)}},An.prototype._invmp=function(na){Cn(na.negative===0),Cn(!na.isZero());var _a=this,es=na.clone();_a.negative!==0?_a=_a.umod(na):_a=_a.clone();for(var ns=new An(1),os=new An(0),ls=es.clone();_a.cmpn(1)>0&&es.cmpn(1)>0;){for(var hs=0,ss=1;!(_a.words[0]&ss)&&hs<26;++hs,ss<<=1);if(hs>0)for(_a.iushrn(hs);hs-- >0;)ns.isOdd()&&ns.iadd(ls),ns.iushrn(1);for(var ga=0,as=1;!(es.words[0]&as)&&ga<26;++ga,as<<=1);if(ga>0)for(es.iushrn(ga);ga-- >0;)os.isOdd()&&os.iadd(ls),os.iushrn(1);_a.cmp(es)>=0?(_a.isub(es),ns.isub(os)):(es.isub(_a),os.isub(ns))}var r0;return _a.cmpn(1)===0?r0=ns:r0=os,r0.cmpn(0)<0&&r0.iadd(na),r0},An.prototype.gcd=function(na){if(this.isZero())return na.abs();if(na.isZero())return this.abs();var _a=this.clone(),es=na.clone();_a.negative=0,es.negative=0;for(var ns=0;_a.isEven()&&es.isEven();ns++)_a.iushrn(1),es.iushrn(1);do{for(;_a.isEven();)_a.iushrn(1);for(;es.isEven();)es.iushrn(1);var os=_a.cmp(es);if(os<0){var ls=_a;_a=es,es=ls}else if(os===0||es.cmpn(1)===0)break;_a.isub(es)}while(!0);return es.iushln(ns)},An.prototype.invm=function(na){return this.egcd(na).a.umod(na)},An.prototype.isEven=function(){return(this.words[0]&1)===0},An.prototype.isOdd=function(){return(this.words[0]&1)===1},An.prototype.andln=function(na){return this.words[0]&na},An.prototype.bincn=function(na){Cn(typeof na=="number");var _a=na%26,es=(na-_a)/26,ns=1<<_a;if(this.length<=es)return this._expand(es+1),this.words[es]|=ns,this;for(var os=ns,ls=es;os!==0&&ls<this.length;ls++){var hs=this.words[ls]|0;hs+=os,os=hs>>>26,hs&=67108863,this.words[ls]=hs}return os!==0&&(this.words[ls]=os,this.length++),this},An.prototype.isZero=function(){return this.length===1&&this.words[0]===0},An.prototype.cmpn=function(na){var _a=na<0;if(this.negative!==0&&!_a)return-1;if(this.negative===0&&_a)return 1;this.strip();var es;if(this.length>1)es=1;else{_a&&(na=-na),Cn(na<=67108863,"Number is too big");var ns=this.words[0]|0;es=ns===na?0:ns<na?-1:1}return this.negative!==0?-es|0:es},An.prototype.cmp=function(na){if(this.negative!==0&&na.negative===0)return-1;if(this.negative===0&&na.negative!==0)return 1;var _a=this.ucmp(na);return this.negative!==0?-_a|0:_a},An.prototype.ucmp=function(na){if(this.length>na.length)return 1;if(this.length<na.length)return-1;for(var _a=0,es=this.length-1;es>=0;es--){var ns=this.words[es]|0,os=na.words[es]|0;if(ns!==os){ns<os?_a=-1:ns>os&&(_a=1);break}}return _a},An.prototype.gtn=function(na){return this.cmpn(na)===1},An.prototype.gt=function(na){return this.cmp(na)===1},An.prototype.gten=function(na){return this.cmpn(na)>=0},An.prototype.gte=function(na){return this.cmp(na)>=0},An.prototype.ltn=function(na){return this.cmpn(na)===-1},An.prototype.lt=function(na){return this.cmp(na)===-1},An.prototype.lten=function(na){return this.cmpn(na)<=0},An.prototype.lte=function(na){return this.cmp(na)<=0},An.prototype.eqn=function(na){return this.cmpn(na)===0},An.prototype.eq=function(na){return this.cmp(na)===0},An.red=function(na){return new w0(na)},An.prototype.toRed=function(na){return Cn(!this.red,"Already a number in reduction context"),Cn(this.negative===0,"red works only with positives"),na.convertTo(this)._forceRed(na)},An.prototype.fromRed=function(){return Cn(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},An.prototype._forceRed=function(na){return this.red=na,this},An.prototype.forceRed=function(na){return Cn(!this.red,"Already a number in reduction context"),this._forceRed(na)},An.prototype.redAdd=function(na){return Cn(this.red,"redAdd works only with red numbers"),this.red.add(this,na)},An.prototype.redIAdd=function(na){return Cn(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,na)},An.prototype.redSub=function(na){return Cn(this.red,"redSub works only with red numbers"),this.red.sub(this,na)},An.prototype.redISub=function(na){return Cn(this.red,"redISub works only with red numbers"),this.red.isub(this,na)},An.prototype.redShl=function(na){return Cn(this.red,"redShl works only with red numbers"),this.red.shl(this,na)},An.prototype.redMul=function(na){return Cn(this.red,"redMul works only with red numbers"),this.red._verify2(this,na),this.red.mul(this,na)},An.prototype.redIMul=function(na){return Cn(this.red,"redMul works only with red numbers"),this.red._verify2(this,na),this.red.imul(this,na)},An.prototype.redSqr=function(){return Cn(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},An.prototype.redISqr=function(){return Cn(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},An.prototype.redSqrt=function(){return Cn(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},An.prototype.redInvm=function(){return Cn(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},An.prototype.redNeg=function(){return Cn(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},An.prototype.redPow=function(na){return Cn(this.red&&!na.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,na)};var i0={k256:null,p224:null,p192:null,p25519:null};function n0(ds,na){this.name=ds,this.p=new An(na,16),this.n=this.p.bitLength(),this.k=new An(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}n0.prototype._tmp=function(){var na=new An(null);return na.words=new Array(Math.ceil(this.n/13)),na},n0.prototype.ireduce=function(na){var _a=na,es;do this.split(_a,this.tmp),_a=this.imulK(_a),_a=_a.iadd(this.tmp),es=_a.bitLength();while(es>this.n);var ns=es<this.n?-1:_a.ucmp(this.p);return ns===0?(_a.words[0]=0,_a.length=1):ns>0?_a.isub(this.p):_a.strip!==void 0?_a.strip():_a._strip(),_a},n0.prototype.split=function(na,_a){na.iushrn(this.n,0,_a)},n0.prototype.imulK=function(na){return na.imul(this.k)};function c0(){n0.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}_i(c0,n0),c0.prototype.split=function(na,_a){for(var es=4194303,ns=Math.min(na.length,9),os=0;os<ns;os++)_a.words[os]=na.words[os];if(_a.length=ns,na.length<=9){na.words[0]=0,na.length=1;return}var ls=na.words[9];for(_a.words[_a.length++]=ls&es,os=10;os<na.length;os++){var hs=na.words[os]|0;na.words[os-10]=(hs&es)<<4|ls>>>22,ls=hs}ls>>>=22,na.words[os-10]=ls,ls===0&&na.length>10?na.length-=10:na.length-=9},c0.prototype.imulK=function(na){na.words[na.length]=0,na.words[na.length+1]=0,na.length+=2;for(var _a=0,es=0;es<na.length;es++){var ns=na.words[es]|0;_a+=ns*977,na.words[es]=_a&67108863,_a=ns*64+(_a/67108864|0)}return na.words[na.length-1]===0&&(na.length--,na.words[na.length-1]===0&&na.length--),na};function d0(){n0.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}_i(d0,n0);function o0(){n0.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}_i(o0,n0);function g0(){n0.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}_i(g0,n0),g0.prototype.imulK=function(na){for(var _a=0,es=0;es<na.length;es++){var ns=(na.words[es]|0)*19+_a,os=ns&67108863;ns>>>=26,na.words[es]=os,_a=ns}return _a!==0&&(na.words[na.length++]=_a),na},An._prime=function(na){if(i0[na])return i0[na];var _a;if(na==="k256")_a=new c0;else if(na==="p224")_a=new d0;else if(na==="p192")_a=new o0;else if(na==="p25519")_a=new g0;else throw new Error("Unknown prime "+na);return i0[na]=_a,_a};function w0(ds){if(typeof ds=="string"){var na=An._prime(ds);this.m=na.p,this.prime=na}else Cn(ds.gtn(1),"modulus must be greater than 1"),this.m=ds,this.prime=null}w0.prototype._verify1=function(na){Cn(na.negative===0,"red works only with positives"),Cn(na.red,"red works only with red numbers")},w0.prototype._verify2=function(na,_a){Cn((na.negative|_a.negative)===0,"red works only with positives"),Cn(na.red&&na.red===_a.red,"red works only with red numbers")},w0.prototype.imod=function(na){return this.prime?this.prime.ireduce(na)._forceRed(this):na.umod(this.m)._forceRed(this)},w0.prototype.neg=function(na){return na.isZero()?na.clone():this.m.sub(na)._forceRed(this)},w0.prototype.add=function(na,_a){this._verify2(na,_a);var es=na.add(_a);return es.cmp(this.m)>=0&&es.isub(this.m),es._forceRed(this)},w0.prototype.iadd=function(na,_a){this._verify2(na,_a);var es=na.iadd(_a);return es.cmp(this.m)>=0&&es.isub(this.m),es},w0.prototype.sub=function(na,_a){this._verify2(na,_a);var es=na.sub(_a);return es.cmpn(0)<0&&es.iadd(this.m),es._forceRed(this)},w0.prototype.isub=function(na,_a){this._verify2(na,_a);var es=na.isub(_a);return es.cmpn(0)<0&&es.iadd(this.m),es},w0.prototype.shl=function(na,_a){return this._verify1(na),this.imod(na.ushln(_a))},w0.prototype.imul=function(na,_a){return this._verify2(na,_a),this.imod(na.imul(_a))},w0.prototype.mul=function(na,_a){return this._verify2(na,_a),this.imod(na.mul(_a))},w0.prototype.isqr=function(na){return this.imul(na,na.clone())},w0.prototype.sqr=function(na){return this.mul(na,na)},w0.prototype.sqrt=function(na){if(na.isZero())return na.clone();var _a=this.m.andln(3);if(Cn(_a%2===1),_a===3){var es=this.m.add(new An(1)).iushrn(2);return this.pow(na,es)}for(var ns=this.m.subn(1),os=0;!ns.isZero()&&ns.andln(1)===0;)os++,ns.iushrn(1);Cn(!ns.isZero());var ls=new An(1).toRed(this),hs=ls.redNeg(),ss=this.m.subn(1).iushrn(1),ga=this.m.bitLength();for(ga=new An(2*ga*ga).toRed(this);this.pow(ga,ss).cmp(hs)!==0;)ga.redIAdd(hs);for(var as=this.pow(ga,ns),r0=this.pow(na,ns.addn(1).iushrn(1)),a0=this.pow(na,ns),l0=os;a0.cmp(ls)!==0;){for(var s0=a0,b0=0;s0.cmp(ls)!==0;b0++)s0=s0.redSqr();Cn(b0<l0);var f0=this.pow(as,new An(1).iushln(l0-b0-1));r0=r0.redMul(f0),as=f0.redSqr(),a0=a0.redMul(as),l0=b0}return r0},w0.prototype.invm=function(na){var _a=na._invmp(this.m);return _a.negative!==0?(_a.negative=0,this.imod(_a).redNeg()):this.imod(_a)},w0.prototype.pow=function(na,_a){if(_a.isZero())return new An(1).toRed(this);if(_a.cmpn(1)===0)return na.clone();var es=4,ns=new Array(1<<es);ns[0]=new An(1).toRed(this),ns[1]=na;for(var os=2;os<ns.length;os++)ns[os]=this.mul(ns[os-1],na);var ls=ns[0],hs=0,ss=0,ga=_a.bitLength()%26;for(ga===0&&(ga=26),os=_a.length-1;os>=0;os--){for(var as=_a.words[os],r0=ga-1;r0>=0;r0--){var a0=as>>r0&1;if(ls!==ns[0]&&(ls=this.sqr(ls)),a0===0&&hs===0){ss=0;continue}hs<<=1,hs|=a0,ss++,!(ss!==es&&(os!==0||r0!==0))&&(ls=this.mul(ls,ns[hs]),ss=0,hs=0)}ga=26}return ls},w0.prototype.convertTo=function(na){var _a=na.umod(this.m);return _a===na?_a.clone():_a},w0.prototype.convertFrom=function(na){var _a=na.clone();return _a.red=null,_a},An.mont=function(na){return new M0(na)};function M0(ds){w0.call(this,ds),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new An(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_i(M0,w0),M0.prototype.convertTo=function(na){return this.imod(na.ushln(this.shift))},M0.prototype.convertFrom=function(na){var _a=this.imod(na.mul(this.rinv));return _a.red=null,_a},M0.prototype.imul=function(na,_a){if(na.isZero()||_a.isZero())return na.words[0]=0,na.length=1,na;var es=na.imul(_a),ns=es.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),os=es.isub(ns).iushrn(this.shift),ls=os;return os.cmp(this.m)>=0?ls=os.isub(this.m):os.cmpn(0)<0&&(ls=os.iadd(this.m)),ls._forceRed(this)},M0.prototype.mul=function(na,_a){if(na.isZero()||_a.isZero())return new An(0)._forceRed(this);var es=na.mul(_a),ns=es.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),os=es.isub(ns).iushrn(this.shift),ls=os;return os.cmp(this.m)>=0?ls=os.isub(this.m):os.cmpn(0)<0&&(ls=os.iadd(this.m)),ls._forceRed(this)},M0.prototype.invm=function(na){var _a=this.imod(na._invmp(this.m).mul(this.r2));return _a._forceRed(this)}})(vn,commonjsGlobal)}(bn$5)),bn$5.exports}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var vn=requireBn(),fn=requireSafeBuffer$1().Buffer;function En(Cn,_i){return fn.from(Cn.toRed(vn.mont(_i.modulus)).redPow(new vn(_i.publicExponent)).fromRed().toArray())}return withPublic_1=En,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var vn=requireParseAsn1(),fn=requireBrowser$b(),En=requireBrowser$9(),Cn=requireMgf(),_i=requireXor(),An=requireBn(),ba=requireWithPublic(),xa=requireBrowserifyRsa(),$a=requireSafeBuffer$1().Buffer;publicEncrypt=function(us,ps,bs){var e0;us.padding?e0=us.padding:bs?e0=1:e0=4;var gs=vn(us),Ds;if(e0===4)Ds=rs(gs,ps);else if(e0===1)Ds=ts(gs,ps,bs);else if(e0===3){if(Ds=new An(ps),Ds.cmp(gs.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return bs?xa(Ds,gs):ba(Ds,gs)};function rs(cs,us){var ps=cs.modulus.byteLength(),bs=us.length,e0=En("sha1").update($a.alloc(0)).digest(),gs=e0.length,Ds=2*gs;if(bs>ps-Ds-2)throw new Error("message too long");var i0=$a.alloc(ps-bs-Ds-2),n0=ps-gs-1,c0=fn(gs),d0=_i($a.concat([e0,i0,$a.alloc(1,1),us],n0),Cn(c0,n0)),o0=_i(c0,Cn(d0,gs));return new An($a.concat([$a.alloc(1),o0,d0],ps))}function ts(cs,us,ps){var bs=us.length,e0=cs.modulus.byteLength();if(bs>e0-11)throw new Error("message too long");var gs;return ps?gs=$a.alloc(e0-bs-3,255):gs=is(e0-bs-3),new An($a.concat([$a.from([0,ps?1:2]),gs,$a.alloc(1),us],e0))}function is(cs){for(var us=$a.allocUnsafe(cs),ps=0,bs=fn(cs*2),e0=0,gs;ps<cs;)e0===bs.length&&(bs=fn(cs*2),e0=0),gs=bs[e0++],gs&&(us[ps++]=gs);return us}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var vn=requireParseAsn1(),fn=requireMgf(),En=requireXor(),Cn=requireBn(),_i=requireBrowserifyRsa(),An=requireBrowser$9(),ba=requireWithPublic(),xa=requireSafeBuffer$1().Buffer;privateDecrypt=function(cs,us,ps){var bs;cs.padding?bs=cs.padding:ps?bs=1:bs=4;var e0=vn(cs),gs=e0.modulus.byteLength();if(us.length>gs||new Cn(us).cmp(e0.modulus)>=0)throw new Error("decryption error");var Ds;ps?Ds=ba(new Cn(us),e0):Ds=_i(us,e0);var i0=xa.alloc(gs-Ds.length);if(Ds=xa.concat([i0,Ds],gs),bs===4)return $a(e0,Ds);if(bs===1)return rs(e0,Ds,ps);if(bs===3)return Ds;throw new Error("unknown padding")};function $a(is,cs){var us=is.modulus.byteLength(),ps=An("sha1").update(xa.alloc(0)).digest(),bs=ps.length;if(cs[0]!==0)throw new Error("decryption error");var e0=cs.slice(1,bs+1),gs=cs.slice(bs+1),Ds=En(e0,fn(gs,bs)),i0=En(gs,fn(Ds,us-bs-1));if(ts(ps,i0.slice(0,bs)))throw new Error("decryption error");for(var n0=bs;i0[n0]===0;)n0++;if(i0[n0++]!==1)throw new Error("decryption error");return i0.slice(n0)}function rs(is,cs,us){for(var ps=cs.slice(0,2),bs=2,e0=0;cs[bs++]!==0;)if(bs>=cs.length){e0++;break}var gs=cs.slice(2,bs-1);if((ps.toString("hex")!=="0002"&&!us||ps.toString("hex")!=="0001"&&us)&&e0++,gs.length<8&&e0++,e0)throw new Error("decryption error");return cs.slice(bs)}function ts(is,cs){is=xa.from(is),cs=xa.from(cs);var us=0,ps=is.length;is.length!==cs.length&&(us++,ps=Math.min(is.length,cs.length));for(var bs=-1;++bs<ps;)us+=is[bs]^cs[bs];return us}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(vn){vn.publicEncrypt=requirePublicEncrypt(),vn.privateDecrypt=requirePrivateDecrypt(),vn.privateEncrypt=function(En,Cn){return vn.publicEncrypt(En,Cn,!0)},vn.publicDecrypt=function(En,Cn){return vn.privateDecrypt(En,Cn,!0)}}(browser$3)),browser$3}var browser$2={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$2;hasRequiredBrowser=1;function vn(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var fn=requireSafeBuffer$1(),En=requireBrowser$b(),Cn=fn.Buffer,_i=fn.kMaxLength,An=commonjsGlobal.crypto||commonjsGlobal.msCrypto,ba=Math.pow(2,32)-1;function xa(cs,us){if(typeof cs!="number"||cs!==cs)throw new TypeError("offset must be a number");if(cs>ba||cs<0)throw new TypeError("offset must be a uint32");if(cs>_i||cs>us)throw new RangeError("offset out of range")}function $a(cs,us,ps){if(typeof cs!="number"||cs!==cs)throw new TypeError("size must be a number");if(cs>ba||cs<0)throw new TypeError("size must be a uint32");if(cs+us>ps||cs>_i)throw new RangeError("buffer too small")}An&&An.getRandomValues||!process$1.browser?(browser$2.randomFill=rs,browser$2.randomFillSync=is):(browser$2.randomFill=vn,browser$2.randomFillSync=vn);function rs(cs,us,ps,bs){if(!Cn.isBuffer(cs)&&!(cs instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof us=="function")bs=us,us=0,ps=cs.length;else if(typeof ps=="function")bs=ps,ps=cs.length-us;else if(typeof bs!="function")throw new TypeError('"cb" argument must be a function');return xa(us,cs.length),$a(ps,us,cs.length),ts(cs,us,ps,bs)}function ts(cs,us,ps,bs){if(process$1.browser){var e0=cs.buffer,gs=new Uint8Array(e0,us,ps);if(An.getRandomValues(gs),bs){process$1.nextTick(function(){bs(null,cs)});return}return cs}if(bs){En(ps,function(i0,n0){if(i0)return bs(i0);n0.copy(cs,us),bs(null,cs)});return}var Ds=En(ps);return Ds.copy(cs,us),cs}function is(cs,us,ps){if(typeof us>"u"&&(us=0),!Cn.isBuffer(cs)&&!(cs instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return xa(us,cs.length),ps===void 0&&(ps=cs.length-us),$a(ps,us,cs.length),ts(cs,us,ps)}return browser$2}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$b(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var vn=requireAlgos(),fn=Object.keys(vn),En=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(fn);cryptoBrowserify.getHashes=function(){return En};var Cn=requireBrowser$7();cryptoBrowserify.pbkdf2=Cn.pbkdf2,cryptoBrowserify.pbkdf2Sync=Cn.pbkdf2Sync;var _i=requireBrowser$5();cryptoBrowserify.Cipher=_i.Cipher,cryptoBrowserify.createCipher=_i.createCipher,cryptoBrowserify.Cipheriv=_i.Cipheriv,cryptoBrowserify.createCipheriv=_i.createCipheriv,cryptoBrowserify.Decipher=_i.Decipher,cryptoBrowserify.createDecipher=_i.createDecipher,cryptoBrowserify.Decipheriv=_i.Decipheriv,cryptoBrowserify.createDecipheriv=_i.createDecipheriv,cryptoBrowserify.getCiphers=_i.getCiphers,cryptoBrowserify.listCiphers=_i.listCiphers;var An=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=An.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=An.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=An.getDiffieHellman,cryptoBrowserify.createDiffieHellman=An.createDiffieHellman,cryptoBrowserify.DiffieHellman=An.DiffieHellman;var ba=requireBrowser$3();cryptoBrowserify.createSign=ba.createSign,cryptoBrowserify.Sign=ba.Sign,cryptoBrowserify.createVerify=ba.createVerify,cryptoBrowserify.Verify=ba.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var xa=requireBrowser$1();cryptoBrowserify.publicEncrypt=xa.publicEncrypt,cryptoBrowserify.privateEncrypt=xa.privateEncrypt,cryptoBrowserify.publicDecrypt=xa.publicDecrypt,cryptoBrowserify.privateDecrypt=xa.privateDecrypt;var $a=requireBrowser();return cryptoBrowserify.randomFill=$a.randomFill,cryptoBrowserify.randomFillSync=$a.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}Object.defineProperty(node$1,"__esModule",{value:!0});node$1.NodeRandomSource=void 0;const wipe_1$3=wipe$1;class NodeRandomSource{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof commonjsRequire<"u"){const fn=requireCryptoBrowserify();fn&&fn.randomBytes&&(this._crypto=fn,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(fn){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let En=this._crypto.randomBytes(fn);if(En.length!==fn)throw new Error("NodeRandomSource: got fewer bytes than requested");const Cn=new Uint8Array(fn);for(let _i=0;_i<Cn.length;_i++)Cn[_i]=En[_i];return(0,wipe_1$3.wipe)(En),Cn}}node$1.NodeRandomSource=NodeRandomSource;Object.defineProperty(system,"__esModule",{value:!0});system.SystemRandomSource=void 0;const browser_1=browser$e,node_1=node$1;class SystemRandomSource{constructor(){if(this.isAvailable=!1,this.name="",this._source=new browser_1.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new node_1.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(fn){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(fn)}}system.SystemRandomSource=SystemRandomSource;var binary={},int={};(function(vn){Object.defineProperty(vn,"__esModule",{value:!0});function fn(xa,$a){var rs=xa>>>16&65535,ts=xa&65535,is=$a>>>16&65535,cs=$a&65535;return ts*cs+(rs*cs+ts*is<<16>>>0)|0}vn.mul=Math.imul||fn;function En(xa,$a){return xa+$a|0}vn.add=En;function Cn(xa,$a){return xa-$a|0}vn.sub=Cn;function _i(xa,$a){return xa<<$a|xa>>>32-$a}vn.rotl=_i;function An(xa,$a){return xa<<32-$a|xa>>>$a}vn.rotr=An;function ba(xa){return typeof xa=="number"&&isFinite(xa)&&Math.floor(xa)===xa}vn.isInteger=Number.isInteger||ba,vn.MAX_SAFE_INTEGER=9007199254740991,vn.isSafeInteger=function(xa){return vn.isInteger(xa)&&xa>=-vn.MAX_SAFE_INTEGER&&xa<=vn.MAX_SAFE_INTEGER}})(int);Object.defineProperty(binary,"__esModule",{value:!0});var int_1=int;function readInt16BE(vn,fn){return fn===void 0&&(fn=0),(vn[fn+0]<<8|vn[fn+1])<<16>>16}binary.readInt16BE=readInt16BE;function readUint16BE(vn,fn){return fn===void 0&&(fn=0),(vn[fn+0]<<8|vn[fn+1])>>>0}binary.readUint16BE=readUint16BE;function readInt16LE(vn,fn){return fn===void 0&&(fn=0),(vn[fn+1]<<8|vn[fn])<<16>>16}binary.readInt16LE=readInt16LE;function readUint16LE(vn,fn){return fn===void 0&&(fn=0),(vn[fn+1]<<8|vn[fn])>>>0}binary.readUint16LE=readUint16LE;function writeUint16BE(vn,fn,En){return fn===void 0&&(fn=new Uint8Array(2)),En===void 0&&(En=0),fn[En+0]=vn>>>8,fn[En+1]=vn>>>0,fn}binary.writeUint16BE=writeUint16BE;binary.writeInt16BE=writeUint16BE;function writeUint16LE(vn,fn,En){return fn===void 0&&(fn=new Uint8Array(2)),En===void 0&&(En=0),fn[En+0]=vn>>>0,fn[En+1]=vn>>>8,fn}binary.writeUint16LE=writeUint16LE;binary.writeInt16LE=writeUint16LE;function readInt32BE(vn,fn){return fn===void 0&&(fn=0),vn[fn]<<24|vn[fn+1]<<16|vn[fn+2]<<8|vn[fn+3]}binary.readInt32BE=readInt32BE;function readUint32BE(vn,fn){return fn===void 0&&(fn=0),(vn[fn]<<24|vn[fn+1]<<16|vn[fn+2]<<8|vn[fn+3])>>>0}binary.readUint32BE=readUint32BE;function readInt32LE(vn,fn){return fn===void 0&&(fn=0),vn[fn+3]<<24|vn[fn+2]<<16|vn[fn+1]<<8|vn[fn]}binary.readInt32LE=readInt32LE;function readUint32LE(vn,fn){return fn===void 0&&(fn=0),(vn[fn+3]<<24|vn[fn+2]<<16|vn[fn+1]<<8|vn[fn])>>>0}binary.readUint32LE=readUint32LE;function writeUint32BE(vn,fn,En){return fn===void 0&&(fn=new Uint8Array(4)),En===void 0&&(En=0),fn[En+0]=vn>>>24,fn[En+1]=vn>>>16,fn[En+2]=vn>>>8,fn[En+3]=vn>>>0,fn}binary.writeUint32BE=writeUint32BE;binary.writeInt32BE=writeUint32BE;function writeUint32LE(vn,fn,En){return fn===void 0&&(fn=new Uint8Array(4)),En===void 0&&(En=0),fn[En+0]=vn>>>0,fn[En+1]=vn>>>8,fn[En+2]=vn>>>16,fn[En+3]=vn>>>24,fn}binary.writeUint32LE=writeUint32LE;binary.writeInt32LE=writeUint32LE;function readInt64BE(vn,fn){fn===void 0&&(fn=0);var En=readInt32BE(vn,fn),Cn=readInt32BE(vn,fn+4);return En*4294967296+Cn-(Cn>>31)*4294967296}binary.readInt64BE=readInt64BE;function readUint64BE(vn,fn){fn===void 0&&(fn=0);var En=readUint32BE(vn,fn),Cn=readUint32BE(vn,fn+4);return En*4294967296+Cn}binary.readUint64BE=readUint64BE;function readInt64LE(vn,fn){fn===void 0&&(fn=0);var En=readInt32LE(vn,fn),Cn=readInt32LE(vn,fn+4);return Cn*4294967296+En-(En>>31)*4294967296}binary.readInt64LE=readInt64LE;function readUint64LE(vn,fn){fn===void 0&&(fn=0);var En=readUint32LE(vn,fn),Cn=readUint32LE(vn,fn+4);return Cn*4294967296+En}binary.readUint64LE=readUint64LE;function writeUint64BE(vn,fn,En){return fn===void 0&&(fn=new Uint8Array(8)),En===void 0&&(En=0),writeUint32BE(vn/4294967296>>>0,fn,En),writeUint32BE(vn>>>0,fn,En+4),fn}binary.writeUint64BE=writeUint64BE;binary.writeInt64BE=writeUint64BE;function writeUint64LE(vn,fn,En){return fn===void 0&&(fn=new Uint8Array(8)),En===void 0&&(En=0),writeUint32LE(vn>>>0,fn,En),writeUint32LE(vn/4294967296>>>0,fn,En+4),fn}binary.writeUint64LE=writeUint64LE;binary.writeInt64LE=writeUint64LE;function readUintBE(vn,fn,En){if(En===void 0&&(En=0),vn%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(vn/8>fn.length-En)throw new Error("readUintBE: array is too short for the given bitLength");for(var Cn=0,_i=1,An=vn/8+En-1;An>=En;An--)Cn+=fn[An]*_i,_i*=256;return Cn}binary.readUintBE=readUintBE;function readUintLE(vn,fn,En){if(En===void 0&&(En=0),vn%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(vn/8>fn.length-En)throw new Error("readUintLE: array is too short for the given bitLength");for(var Cn=0,_i=1,An=En;An<En+vn/8;An++)Cn+=fn[An]*_i,_i*=256;return Cn}binary.readUintLE=readUintLE;function writeUintBE(vn,fn,En,Cn){if(En===void 0&&(En=new Uint8Array(vn/8)),Cn===void 0&&(Cn=0),vn%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(fn))throw new Error("writeUintBE value must be an integer");for(var _i=1,An=vn/8+Cn-1;An>=Cn;An--)En[An]=fn/_i&255,_i*=256;return En}binary.writeUintBE=writeUintBE;function writeUintLE(vn,fn,En,Cn){if(En===void 0&&(En=new Uint8Array(vn/8)),Cn===void 0&&(Cn=0),vn%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(fn))throw new Error("writeUintLE value must be an integer");for(var _i=1,An=Cn;An<Cn+vn/8;An++)En[An]=fn/_i&255,_i*=256;return En}binary.writeUintLE=writeUintLE;function readFloat32BE(vn,fn){fn===void 0&&(fn=0);var En=new DataView(vn.buffer,vn.byteOffset,vn.byteLength);return En.getFloat32(fn)}binary.readFloat32BE=readFloat32BE;function readFloat32LE(vn,fn){fn===void 0&&(fn=0);var En=new DataView(vn.buffer,vn.byteOffset,vn.byteLength);return En.getFloat32(fn,!0)}binary.readFloat32LE=readFloat32LE;function readFloat64BE(vn,fn){fn===void 0&&(fn=0);var En=new DataView(vn.buffer,vn.byteOffset,vn.byteLength);return En.getFloat64(fn)}binary.readFloat64BE=readFloat64BE;function readFloat64LE(vn,fn){fn===void 0&&(fn=0);var En=new DataView(vn.buffer,vn.byteOffset,vn.byteLength);return En.getFloat64(fn,!0)}binary.readFloat64LE=readFloat64LE;function writeFloat32BE(vn,fn,En){fn===void 0&&(fn=new Uint8Array(4)),En===void 0&&(En=0);var Cn=new DataView(fn.buffer,fn.byteOffset,fn.byteLength);return Cn.setFloat32(En,vn),fn}binary.writeFloat32BE=writeFloat32BE;function writeFloat32LE(vn,fn,En){fn===void 0&&(fn=new Uint8Array(4)),En===void 0&&(En=0);var Cn=new DataView(fn.buffer,fn.byteOffset,fn.byteLength);return Cn.setFloat32(En,vn,!0),fn}binary.writeFloat32LE=writeFloat32LE;function writeFloat64BE(vn,fn,En){fn===void 0&&(fn=new Uint8Array(8)),En===void 0&&(En=0);var Cn=new DataView(fn.buffer,fn.byteOffset,fn.byteLength);return Cn.setFloat64(En,vn),fn}binary.writeFloat64BE=writeFloat64BE;function writeFloat64LE(vn,fn,En){fn===void 0&&(fn=new Uint8Array(8)),En===void 0&&(En=0);var Cn=new DataView(fn.buffer,fn.byteOffset,fn.byteLength);return Cn.setFloat64(En,vn,!0),fn}binary.writeFloat64LE=writeFloat64LE;(function(vn){Object.defineProperty(vn,"__esModule",{value:!0}),vn.randomStringForEntropy=vn.randomString=vn.randomUint32=vn.randomBytes=vn.defaultRandomSource=void 0;const fn=system,En=binary,Cn=wipe$1;vn.defaultRandomSource=new fn.SystemRandomSource;function _i(rs,ts=vn.defaultRandomSource){return ts.randomBytes(rs)}vn.randomBytes=_i;function An(rs=vn.defaultRandomSource){const ts=_i(4,rs),is=(0,En.readUint32LE)(ts);return(0,Cn.wipe)(ts),is}vn.randomUint32=An;const ba="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function xa(rs,ts=ba,is=vn.defaultRandomSource){if(ts.length<2)throw new Error("randomString charset is too short");if(ts.length>256)throw new Error("randomString charset is too long");let cs="";const us=ts.length,ps=256-256%us;for(;rs>0;){const bs=_i(Math.ceil(rs*256/ps),is);for(let e0=0;e0<bs.length&&rs>0;e0++){const gs=bs[e0];gs<ps&&(cs+=ts.charAt(gs%us),rs--)}(0,Cn.wipe)(bs)}return cs}vn.randomString=xa;function $a(rs,ts=ba,is=vn.defaultRandomSource){const cs=Math.ceil(rs/(Math.log(ts.length)/Math.LN2));return xa(cs,ts,is)}vn.randomStringForEntropy=$a})(random);var sha512={};(function(vn){Object.defineProperty(vn,"__esModule",{value:!0});var fn=binary,En=wipe$1;vn.DIGEST_LENGTH=64,vn.BLOCK_SIZE=128;var Cn=function(){function xa(){this.digestLength=vn.DIGEST_LENGTH,this.blockSize=vn.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return xa.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},xa.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},xa.prototype.clean=function(){En.wipe(this._buffer),En.wipe(this._tempHi),En.wipe(this._tempLo),this.reset()},xa.prototype.update=function($a,rs){if(rs===void 0&&(rs=$a.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var ts=0;if(this._bytesHashed+=rs,this._bufferLength>0){for(;this._bufferLength<vn.BLOCK_SIZE&&rs>0;)this._buffer[this._bufferLength++]=$a[ts++],rs--;this._bufferLength===this.blockSize&&(An(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(rs>=this.blockSize&&(ts=An(this._tempHi,this._tempLo,this._stateHi,this._stateLo,$a,ts,rs),rs%=this.blockSize);rs>0;)this._buffer[this._bufferLength++]=$a[ts++],rs--;return this},xa.prototype.finish=function($a){if(!this._finished){var rs=this._bytesHashed,ts=this._bufferLength,is=rs/536870912|0,cs=rs<<3,us=rs%128<112?128:256;this._buffer[ts]=128;for(var ps=ts+1;ps<us-8;ps++)this._buffer[ps]=0;fn.writeUint32BE(is,this._buffer,us-8),fn.writeUint32BE(cs,this._buffer,us-4),An(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,us),this._finished=!0}for(var ps=0;ps<this.digestLength/8;ps++)fn.writeUint32BE(this._stateHi[ps],$a,ps*8),fn.writeUint32BE(this._stateLo[ps],$a,ps*8+4);return this},xa.prototype.digest=function(){var $a=new Uint8Array(this.digestLength);return this.finish($a),$a},xa.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},xa.prototype.restoreState=function($a){return this._stateHi.set($a.stateHi),this._stateLo.set($a.stateLo),this._bufferLength=$a.bufferLength,$a.buffer&&this._buffer.set($a.buffer),this._bytesHashed=$a.bytesHashed,this._finished=!1,this},xa.prototype.cleanSavedState=function($a){En.wipe($a.stateHi),En.wipe($a.stateLo),$a.buffer&&En.wipe($a.buffer),$a.bufferLength=0,$a.bytesHashed=0},xa}();vn.SHA512=Cn;var _i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function An(xa,$a,rs,ts,is,cs,us){for(var ps=rs[0],bs=rs[1],e0=rs[2],gs=rs[3],Ds=rs[4],i0=rs[5],n0=rs[6],c0=rs[7],d0=ts[0],o0=ts[1],g0=ts[2],w0=ts[3],M0=ts[4],ds=ts[5],na=ts[6],_a=ts[7],es,ns,os,ls,hs,ss,ga,as;us>=128;){for(var r0=0;r0<16;r0++){var a0=8*r0+cs;xa[r0]=fn.readUint32BE(is,a0),$a[r0]=fn.readUint32BE(is,a0+4)}for(var r0=0;r0<80;r0++){var l0=ps,s0=bs,b0=e0,f0=gs,m0=Ds,y0=i0,t0=n0,h0=c0,p0=d0,E0=o0,I0=g0,C0=w0,$0=M0,vo=ds,P0=na,S0=_a;if(es=c0,ns=_a,hs=ns&65535,ss=ns>>>16,ga=es&65535,as=es>>>16,es=(Ds>>>14|M0<<18)^(Ds>>>18|M0<<14)^(M0>>>9|Ds<<23),ns=(M0>>>14|Ds<<18)^(M0>>>18|Ds<<14)^(Ds>>>9|M0<<23),hs+=ns&65535,ss+=ns>>>16,ga+=es&65535,as+=es>>>16,es=Ds&i0^~Ds&n0,ns=M0&ds^~M0&na,hs+=ns&65535,ss+=ns>>>16,ga+=es&65535,as+=es>>>16,es=_i[r0*2],ns=_i[r0*2+1],hs+=ns&65535,ss+=ns>>>16,ga+=es&65535,as+=es>>>16,es=xa[r0%16],ns=$a[r0%16],hs+=ns&65535,ss+=ns>>>16,ga+=es&65535,as+=es>>>16,ss+=hs>>>16,ga+=ss>>>16,as+=ga>>>16,os=ga&65535|as<<16,ls=hs&65535|ss<<16,es=os,ns=ls,hs=ns&65535,ss=ns>>>16,ga=es&65535,as=es>>>16,es=(ps>>>28|d0<<4)^(d0>>>2|ps<<30)^(d0>>>7|ps<<25),ns=(d0>>>28|ps<<4)^(ps>>>2|d0<<30)^(ps>>>7|d0<<25),hs+=ns&65535,ss+=ns>>>16,ga+=es&65535,as+=es>>>16,es=ps&bs^ps&e0^bs&e0,ns=d0&o0^d0&g0^o0&g0,hs+=ns&65535,ss+=ns>>>16,ga+=es&65535,as+=es>>>16,ss+=hs>>>16,ga+=ss>>>16,as+=ga>>>16,h0=ga&65535|as<<16,S0=hs&65535|ss<<16,es=f0,ns=C0,hs=ns&65535,ss=ns>>>16,ga=es&65535,as=es>>>16,es=os,ns=ls,hs+=ns&65535,ss+=ns>>>16,ga+=es&65535,as+=es>>>16,ss+=hs>>>16,ga+=ss>>>16,as+=ga>>>16,f0=ga&65535|as<<16,C0=hs&65535|ss<<16,bs=l0,e0=s0,gs=b0,Ds=f0,i0=m0,n0=y0,c0=t0,ps=h0,o0=p0,g0=E0,w0=I0,M0=C0,ds=$0,na=vo,_a=P0,d0=S0,r0%16===15)for(var a0=0;a0<16;a0++)es=xa[a0],ns=$a[a0],hs=ns&65535,ss=ns>>>16,ga=es&65535,as=es>>>16,es=xa[(a0+9)%16],ns=$a[(a0+9)%16],hs+=ns&65535,ss+=ns>>>16,ga+=es&65535,as+=es>>>16,os=xa[(a0+1)%16],ls=$a[(a0+1)%16],es=(os>>>1|ls<<31)^(os>>>8|ls<<24)^os>>>7,ns=(ls>>>1|os<<31)^(ls>>>8|os<<24)^(ls>>>7|os<<25),hs+=ns&65535,ss+=ns>>>16,ga+=es&65535,as+=es>>>16,os=xa[(a0+14)%16],ls=$a[(a0+14)%16],es=(os>>>19|ls<<13)^(ls>>>29|os<<3)^os>>>6,ns=(ls>>>19|os<<13)^(os>>>29|ls<<3)^(ls>>>6|os<<26),hs+=ns&65535,ss+=ns>>>16,ga+=es&65535,as+=es>>>16,ss+=hs>>>16,ga+=ss>>>16,as+=ga>>>16,xa[a0]=ga&65535|as<<16,$a[a0]=hs&65535|ss<<16}es=ps,ns=d0,hs=ns&65535,ss=ns>>>16,ga=es&65535,as=es>>>16,es=rs[0],ns=ts[0],hs+=ns&65535,ss+=ns>>>16,ga+=es&65535,as+=es>>>16,ss+=hs>>>16,ga+=ss>>>16,as+=ga>>>16,rs[0]=ps=ga&65535|as<<16,ts[0]=d0=hs&65535|ss<<16,es=bs,ns=o0,hs=ns&65535,ss=ns>>>16,ga=es&65535,as=es>>>16,es=rs[1],ns=ts[1],hs+=ns&65535,ss+=ns>>>16,ga+=es&65535,as+=es>>>16,ss+=hs>>>16,ga+=ss>>>16,as+=ga>>>16,rs[1]=bs=ga&65535|as<<16,ts[1]=o0=hs&65535|ss<<16,es=e0,ns=g0,hs=ns&65535,ss=ns>>>16,ga=es&65535,as=es>>>16,es=rs[2],ns=ts[2],hs+=ns&65535,ss+=ns>>>16,ga+=es&65535,as+=es>>>16,ss+=hs>>>16,ga+=ss>>>16,as+=ga>>>16,rs[2]=e0=ga&65535|as<<16,ts[2]=g0=hs&65535|ss<<16,es=gs,ns=w0,hs=ns&65535,ss=ns>>>16,ga=es&65535,as=es>>>16,es=rs[3],ns=ts[3],hs+=ns&65535,ss+=ns>>>16,ga+=es&65535,as+=es>>>16,ss+=hs>>>16,ga+=ss>>>16,as+=ga>>>16,rs[3]=gs=ga&65535|as<<16,ts[3]=w0=hs&65535|ss<<16,es=Ds,ns=M0,hs=ns&65535,ss=ns>>>16,ga=es&65535,as=es>>>16,es=rs[4],ns=ts[4],hs+=ns&65535,ss+=ns>>>16,ga+=es&65535,as+=es>>>16,ss+=hs>>>16,ga+=ss>>>16,as+=ga>>>16,rs[4]=Ds=ga&65535|as<<16,ts[4]=M0=hs&65535|ss<<16,es=i0,ns=ds,hs=ns&65535,ss=ns>>>16,ga=es&65535,as=es>>>16,es=rs[5],ns=ts[5],hs+=ns&65535,ss+=ns>>>16,ga+=es&65535,as+=es>>>16,ss+=hs>>>16,ga+=ss>>>16,as+=ga>>>16,rs[5]=i0=ga&65535|as<<16,ts[5]=ds=hs&65535|ss<<16,es=n0,ns=na,hs=ns&65535,ss=ns>>>16,ga=es&65535,as=es>>>16,es=rs[6],ns=ts[6],hs+=ns&65535,ss+=ns>>>16,ga+=es&65535,as+=es>>>16,ss+=hs>>>16,ga+=ss>>>16,as+=ga>>>16,rs[6]=n0=ga&65535|as<<16,ts[6]=na=hs&65535|ss<<16,es=c0,ns=_a,hs=ns&65535,ss=ns>>>16,ga=es&65535,as=es>>>16,es=rs[7],ns=ts[7],hs+=ns&65535,ss+=ns>>>16,ga+=es&65535,as+=es>>>16,ss+=hs>>>16,ga+=ss>>>16,as+=ga>>>16,rs[7]=c0=ga&65535|as<<16,ts[7]=_a=hs&65535|ss<<16,cs+=128,us-=128}return cs}function ba(xa){var $a=new Cn;$a.update(xa);var rs=$a.digest();return $a.clean(),rs}vn.hash=ba})(sha512);(function(vn){Object.defineProperty(vn,"__esModule",{value:!0}),vn.convertSecretKeyToX25519=vn.convertPublicKeyToX25519=vn.verify=vn.sign=vn.extractPublicKeyFromSecretKey=vn.generateKeyPair=vn.generateKeyPairFromSeed=vn.SEED_LENGTH=vn.SECRET_KEY_LENGTH=vn.PUBLIC_KEY_LENGTH=vn.SIGNATURE_LENGTH=void 0;const fn=random,En=sha512,Cn=wipe$1;vn.SIGNATURE_LENGTH=64,vn.PUBLIC_KEY_LENGTH=32,vn.SECRET_KEY_LENGTH=64,vn.SEED_LENGTH=32;function _i(f0){const m0=new Float64Array(16);if(f0)for(let y0=0;y0<f0.length;y0++)m0[y0]=f0[y0];return m0}const An=new Uint8Array(32);An[0]=9;const ba=_i(),xa=_i([1]),$a=_i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),rs=_i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),ts=_i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),is=_i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),cs=_i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function us(f0,m0){for(let y0=0;y0<16;y0++)f0[y0]=m0[y0]|0}function ps(f0){let m0=1;for(let y0=0;y0<16;y0++){let t0=f0[y0]+m0+65535;m0=Math.floor(t0/65536),f0[y0]=t0-m0*65536}f0[0]+=m0-1+37*(m0-1)}function bs(f0,m0,y0){const t0=~(y0-1);for(let h0=0;h0<16;h0++){const p0=t0&(f0[h0]^m0[h0]);f0[h0]^=p0,m0[h0]^=p0}}function e0(f0,m0){const y0=_i(),t0=_i();for(let h0=0;h0<16;h0++)t0[h0]=m0[h0];ps(t0),ps(t0),ps(t0);for(let h0=0;h0<2;h0++){y0[0]=t0[0]-65517;for(let E0=1;E0<15;E0++)y0[E0]=t0[E0]-65535-(y0[E0-1]>>16&1),y0[E0-1]&=65535;y0[15]=t0[15]-32767-(y0[14]>>16&1);const p0=y0[15]>>16&1;y0[14]&=65535,bs(t0,y0,1-p0)}for(let h0=0;h0<16;h0++)f0[2*h0]=t0[h0]&255,f0[2*h0+1]=t0[h0]>>8}function gs(f0,m0){let y0=0;for(let t0=0;t0<32;t0++)y0|=f0[t0]^m0[t0];return(1&y0-1>>>8)-1}function Ds(f0,m0){const y0=new Uint8Array(32),t0=new Uint8Array(32);return e0(y0,f0),e0(t0,m0),gs(y0,t0)}function i0(f0){const m0=new Uint8Array(32);return e0(m0,f0),m0[0]&1}function n0(f0,m0){for(let y0=0;y0<16;y0++)f0[y0]=m0[2*y0]+(m0[2*y0+1]<<8);f0[15]&=32767}function c0(f0,m0,y0){for(let t0=0;t0<16;t0++)f0[t0]=m0[t0]+y0[t0]}function d0(f0,m0,y0){for(let t0=0;t0<16;t0++)f0[t0]=m0[t0]-y0[t0]}function o0(f0,m0,y0){let t0,h0,p0=0,E0=0,I0=0,C0=0,$0=0,vo=0,P0=0,S0=0,_o=0,O0=0,B0=0,To=0,k0=0,D0=0,Eo=0,N0=0,F0=0,Co=0,x0=0,u0=0,v0=0,_0=0,T0=0,j0=0,A0=0,U0=0,$o=0,L0=0,V0=0,Mo=0,G0=0,Z0=y0[0],Io=y0[1],q0=y0[2],Y0=y0[3],Ro=y0[4],z0=y0[5],X0=y0[6],Po=y0[7],K0=y0[8],bo=y0[9],ko=y0[10],W0=y0[11],J0=y0[12],Ao=y0[13],H0=y0[14],go=y0[15];t0=m0[0],p0+=t0*Z0,E0+=t0*Io,I0+=t0*q0,C0+=t0*Y0,$0+=t0*Ro,vo+=t0*z0,P0+=t0*X0,S0+=t0*Po,_o+=t0*K0,O0+=t0*bo,B0+=t0*ko,To+=t0*W0,k0+=t0*J0,D0+=t0*Ao,Eo+=t0*H0,N0+=t0*go,t0=m0[1],E0+=t0*Z0,I0+=t0*Io,C0+=t0*q0,$0+=t0*Y0,vo+=t0*Ro,P0+=t0*z0,S0+=t0*X0,_o+=t0*Po,O0+=t0*K0,B0+=t0*bo,To+=t0*ko,k0+=t0*W0,D0+=t0*J0,Eo+=t0*Ao,N0+=t0*H0,F0+=t0*go,t0=m0[2],I0+=t0*Z0,C0+=t0*Io,$0+=t0*q0,vo+=t0*Y0,P0+=t0*Ro,S0+=t0*z0,_o+=t0*X0,O0+=t0*Po,B0+=t0*K0,To+=t0*bo,k0+=t0*ko,D0+=t0*W0,Eo+=t0*J0,N0+=t0*Ao,F0+=t0*H0,Co+=t0*go,t0=m0[3],C0+=t0*Z0,$0+=t0*Io,vo+=t0*q0,P0+=t0*Y0,S0+=t0*Ro,_o+=t0*z0,O0+=t0*X0,B0+=t0*Po,To+=t0*K0,k0+=t0*bo,D0+=t0*ko,Eo+=t0*W0,N0+=t0*J0,F0+=t0*Ao,Co+=t0*H0,x0+=t0*go,t0=m0[4],$0+=t0*Z0,vo+=t0*Io,P0+=t0*q0,S0+=t0*Y0,_o+=t0*Ro,O0+=t0*z0,B0+=t0*X0,To+=t0*Po,k0+=t0*K0,D0+=t0*bo,Eo+=t0*ko,N0+=t0*W0,F0+=t0*J0,Co+=t0*Ao,x0+=t0*H0,u0+=t0*go,t0=m0[5],vo+=t0*Z0,P0+=t0*Io,S0+=t0*q0,_o+=t0*Y0,O0+=t0*Ro,B0+=t0*z0,To+=t0*X0,k0+=t0*Po,D0+=t0*K0,Eo+=t0*bo,N0+=t0*ko,F0+=t0*W0,Co+=t0*J0,x0+=t0*Ao,u0+=t0*H0,v0+=t0*go,t0=m0[6],P0+=t0*Z0,S0+=t0*Io,_o+=t0*q0,O0+=t0*Y0,B0+=t0*Ro,To+=t0*z0,k0+=t0*X0,D0+=t0*Po,Eo+=t0*K0,N0+=t0*bo,F0+=t0*ko,Co+=t0*W0,x0+=t0*J0,u0+=t0*Ao,v0+=t0*H0,_0+=t0*go,t0=m0[7],S0+=t0*Z0,_o+=t0*Io,O0+=t0*q0,B0+=t0*Y0,To+=t0*Ro,k0+=t0*z0,D0+=t0*X0,Eo+=t0*Po,N0+=t0*K0,F0+=t0*bo,Co+=t0*ko,x0+=t0*W0,u0+=t0*J0,v0+=t0*Ao,_0+=t0*H0,T0+=t0*go,t0=m0[8],_o+=t0*Z0,O0+=t0*Io,B0+=t0*q0,To+=t0*Y0,k0+=t0*Ro,D0+=t0*z0,Eo+=t0*X0,N0+=t0*Po,F0+=t0*K0,Co+=t0*bo,x0+=t0*ko,u0+=t0*W0,v0+=t0*J0,_0+=t0*Ao,T0+=t0*H0,j0+=t0*go,t0=m0[9],O0+=t0*Z0,B0+=t0*Io,To+=t0*q0,k0+=t0*Y0,D0+=t0*Ro,Eo+=t0*z0,N0+=t0*X0,F0+=t0*Po,Co+=t0*K0,x0+=t0*bo,u0+=t0*ko,v0+=t0*W0,_0+=t0*J0,T0+=t0*Ao,j0+=t0*H0,A0+=t0*go,t0=m0[10],B0+=t0*Z0,To+=t0*Io,k0+=t0*q0,D0+=t0*Y0,Eo+=t0*Ro,N0+=t0*z0,F0+=t0*X0,Co+=t0*Po,x0+=t0*K0,u0+=t0*bo,v0+=t0*ko,_0+=t0*W0,T0+=t0*J0,j0+=t0*Ao,A0+=t0*H0,U0+=t0*go,t0=m0[11],To+=t0*Z0,k0+=t0*Io,D0+=t0*q0,Eo+=t0*Y0,N0+=t0*Ro,F0+=t0*z0,Co+=t0*X0,x0+=t0*Po,u0+=t0*K0,v0+=t0*bo,_0+=t0*ko,T0+=t0*W0,j0+=t0*J0,A0+=t0*Ao,U0+=t0*H0,$o+=t0*go,t0=m0[12],k0+=t0*Z0,D0+=t0*Io,Eo+=t0*q0,N0+=t0*Y0,F0+=t0*Ro,Co+=t0*z0,x0+=t0*X0,u0+=t0*Po,v0+=t0*K0,_0+=t0*bo,T0+=t0*ko,j0+=t0*W0,A0+=t0*J0,U0+=t0*Ao,$o+=t0*H0,L0+=t0*go,t0=m0[13],D0+=t0*Z0,Eo+=t0*Io,N0+=t0*q0,F0+=t0*Y0,Co+=t0*Ro,x0+=t0*z0,u0+=t0*X0,v0+=t0*Po,_0+=t0*K0,T0+=t0*bo,j0+=t0*ko,A0+=t0*W0,U0+=t0*J0,$o+=t0*Ao,L0+=t0*H0,V0+=t0*go,t0=m0[14],Eo+=t0*Z0,N0+=t0*Io,F0+=t0*q0,Co+=t0*Y0,x0+=t0*Ro,u0+=t0*z0,v0+=t0*X0,_0+=t0*Po,T0+=t0*K0,j0+=t0*bo,A0+=t0*ko,U0+=t0*W0,$o+=t0*J0,L0+=t0*Ao,V0+=t0*H0,Mo+=t0*go,t0=m0[15],N0+=t0*Z0,F0+=t0*Io,Co+=t0*q0,x0+=t0*Y0,u0+=t0*Ro,v0+=t0*z0,_0+=t0*X0,T0+=t0*Po,j0+=t0*K0,A0+=t0*bo,U0+=t0*ko,$o+=t0*W0,L0+=t0*J0,V0+=t0*Ao,Mo+=t0*H0,G0+=t0*go,p0+=38*F0,E0+=38*Co,I0+=38*x0,C0+=38*u0,$0+=38*v0,vo+=38*_0,P0+=38*T0,S0+=38*j0,_o+=38*A0,O0+=38*U0,B0+=38*$o,To+=38*L0,k0+=38*V0,D0+=38*Mo,Eo+=38*G0,h0=1,t0=p0+h0+65535,h0=Math.floor(t0/65536),p0=t0-h0*65536,t0=E0+h0+65535,h0=Math.floor(t0/65536),E0=t0-h0*65536,t0=I0+h0+65535,h0=Math.floor(t0/65536),I0=t0-h0*65536,t0=C0+h0+65535,h0=Math.floor(t0/65536),C0=t0-h0*65536,t0=$0+h0+65535,h0=Math.floor(t0/65536),$0=t0-h0*65536,t0=vo+h0+65535,h0=Math.floor(t0/65536),vo=t0-h0*65536,t0=P0+h0+65535,h0=Math.floor(t0/65536),P0=t0-h0*65536,t0=S0+h0+65535,h0=Math.floor(t0/65536),S0=t0-h0*65536,t0=_o+h0+65535,h0=Math.floor(t0/65536),_o=t0-h0*65536,t0=O0+h0+65535,h0=Math.floor(t0/65536),O0=t0-h0*65536,t0=B0+h0+65535,h0=Math.floor(t0/65536),B0=t0-h0*65536,t0=To+h0+65535,h0=Math.floor(t0/65536),To=t0-h0*65536,t0=k0+h0+65535,h0=Math.floor(t0/65536),k0=t0-h0*65536,t0=D0+h0+65535,h0=Math.floor(t0/65536),D0=t0-h0*65536,t0=Eo+h0+65535,h0=Math.floor(t0/65536),Eo=t0-h0*65536,t0=N0+h0+65535,h0=Math.floor(t0/65536),N0=t0-h0*65536,p0+=h0-1+37*(h0-1),h0=1,t0=p0+h0+65535,h0=Math.floor(t0/65536),p0=t0-h0*65536,t0=E0+h0+65535,h0=Math.floor(t0/65536),E0=t0-h0*65536,t0=I0+h0+65535,h0=Math.floor(t0/65536),I0=t0-h0*65536,t0=C0+h0+65535,h0=Math.floor(t0/65536),C0=t0-h0*65536,t0=$0+h0+65535,h0=Math.floor(t0/65536),$0=t0-h0*65536,t0=vo+h0+65535,h0=Math.floor(t0/65536),vo=t0-h0*65536,t0=P0+h0+65535,h0=Math.floor(t0/65536),P0=t0-h0*65536,t0=S0+h0+65535,h0=Math.floor(t0/65536),S0=t0-h0*65536,t0=_o+h0+65535,h0=Math.floor(t0/65536),_o=t0-h0*65536,t0=O0+h0+65535,h0=Math.floor(t0/65536),O0=t0-h0*65536,t0=B0+h0+65535,h0=Math.floor(t0/65536),B0=t0-h0*65536,t0=To+h0+65535,h0=Math.floor(t0/65536),To=t0-h0*65536,t0=k0+h0+65535,h0=Math.floor(t0/65536),k0=t0-h0*65536,t0=D0+h0+65535,h0=Math.floor(t0/65536),D0=t0-h0*65536,t0=Eo+h0+65535,h0=Math.floor(t0/65536),Eo=t0-h0*65536,t0=N0+h0+65535,h0=Math.floor(t0/65536),N0=t0-h0*65536,p0+=h0-1+37*(h0-1),f0[0]=p0,f0[1]=E0,f0[2]=I0,f0[3]=C0,f0[4]=$0,f0[5]=vo,f0[6]=P0,f0[7]=S0,f0[8]=_o,f0[9]=O0,f0[10]=B0,f0[11]=To,f0[12]=k0,f0[13]=D0,f0[14]=Eo,f0[15]=N0}function g0(f0,m0){o0(f0,m0,m0)}function w0(f0,m0){const y0=_i();let t0;for(t0=0;t0<16;t0++)y0[t0]=m0[t0];for(t0=253;t0>=0;t0--)g0(y0,y0),t0!==2&&t0!==4&&o0(y0,y0,m0);for(t0=0;t0<16;t0++)f0[t0]=y0[t0]}function M0(f0,m0){const y0=_i();let t0;for(t0=0;t0<16;t0++)y0[t0]=m0[t0];for(t0=250;t0>=0;t0--)g0(y0,y0),t0!==1&&o0(y0,y0,m0);for(t0=0;t0<16;t0++)f0[t0]=y0[t0]}function ds(f0,m0){const y0=_i(),t0=_i(),h0=_i(),p0=_i(),E0=_i(),I0=_i(),C0=_i(),$0=_i(),vo=_i();d0(y0,f0[1],f0[0]),d0(vo,m0[1],m0[0]),o0(y0,y0,vo),c0(t0,f0[0],f0[1]),c0(vo,m0[0],m0[1]),o0(t0,t0,vo),o0(h0,f0[3],m0[3]),o0(h0,h0,rs),o0(p0,f0[2],m0[2]),c0(p0,p0,p0),d0(E0,t0,y0),d0(I0,p0,h0),c0(C0,p0,h0),c0($0,t0,y0),o0(f0[0],E0,I0),o0(f0[1],$0,C0),o0(f0[2],C0,I0),o0(f0[3],E0,$0)}function na(f0,m0,y0){for(let t0=0;t0<4;t0++)bs(f0[t0],m0[t0],y0)}function _a(f0,m0){const y0=_i(),t0=_i(),h0=_i();w0(h0,m0[2]),o0(y0,m0[0],h0),o0(t0,m0[1],h0),e0(f0,t0),f0[31]^=i0(y0)<<7}function es(f0,m0,y0){us(f0[0],ba),us(f0[1],xa),us(f0[2],xa),us(f0[3],ba);for(let t0=255;t0>=0;--t0){const h0=y0[t0/8|0]>>(t0&7)&1;na(f0,m0,h0),ds(m0,f0),ds(f0,f0),na(f0,m0,h0)}}function ns(f0,m0){const y0=[_i(),_i(),_i(),_i()];us(y0[0],ts),us(y0[1],is),us(y0[2],xa),o0(y0[3],ts,is),es(f0,y0,m0)}function os(f0){if(f0.length!==vn.SEED_LENGTH)throw new Error(`ed25519: seed must be ${vn.SEED_LENGTH} bytes`);const m0=(0,En.hash)(f0);m0[0]&=248,m0[31]&=127,m0[31]|=64;const y0=new Uint8Array(32),t0=[_i(),_i(),_i(),_i()];ns(t0,m0),_a(y0,t0);const h0=new Uint8Array(64);return h0.set(f0),h0.set(y0,32),{publicKey:y0,secretKey:h0}}vn.generateKeyPairFromSeed=os;function ls(f0){const m0=(0,fn.randomBytes)(32,f0),y0=os(m0);return(0,Cn.wipe)(m0),y0}vn.generateKeyPair=ls;function hs(f0){if(f0.length!==vn.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${vn.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(f0.subarray(32))}vn.extractPublicKeyFromSecretKey=hs;const ss=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ga(f0,m0){let y0,t0,h0,p0;for(t0=63;t0>=32;--t0){for(y0=0,h0=t0-32,p0=t0-12;h0<p0;++h0)m0[h0]+=y0-16*m0[t0]*ss[h0-(t0-32)],y0=Math.floor((m0[h0]+128)/256),m0[h0]-=y0*256;m0[h0]+=y0,m0[t0]=0}for(y0=0,h0=0;h0<32;h0++)m0[h0]+=y0-(m0[31]>>4)*ss[h0],y0=m0[h0]>>8,m0[h0]&=255;for(h0=0;h0<32;h0++)m0[h0]-=y0*ss[h0];for(t0=0;t0<32;t0++)m0[t0+1]+=m0[t0]>>8,f0[t0]=m0[t0]&255}function as(f0){const m0=new Float64Array(64);for(let y0=0;y0<64;y0++)m0[y0]=f0[y0];for(let y0=0;y0<64;y0++)f0[y0]=0;ga(f0,m0)}function r0(f0,m0){const y0=new Float64Array(64),t0=[_i(),_i(),_i(),_i()],h0=(0,En.hash)(f0.subarray(0,32));h0[0]&=248,h0[31]&=127,h0[31]|=64;const p0=new Uint8Array(64);p0.set(h0.subarray(32),32);const E0=new En.SHA512;E0.update(p0.subarray(32)),E0.update(m0);const I0=E0.digest();E0.clean(),as(I0),ns(t0,I0),_a(p0,t0),E0.reset(),E0.update(p0.subarray(0,32)),E0.update(f0.subarray(32)),E0.update(m0);const C0=E0.digest();as(C0);for(let $0=0;$0<32;$0++)y0[$0]=I0[$0];for(let $0=0;$0<32;$0++)for(let vo=0;vo<32;vo++)y0[$0+vo]+=C0[$0]*h0[vo];return ga(p0.subarray(32),y0),p0}vn.sign=r0;function a0(f0,m0){const y0=_i(),t0=_i(),h0=_i(),p0=_i(),E0=_i(),I0=_i(),C0=_i();return us(f0[2],xa),n0(f0[1],m0),g0(h0,f0[1]),o0(p0,h0,$a),d0(h0,h0,f0[2]),c0(p0,f0[2],p0),g0(E0,p0),g0(I0,E0),o0(C0,I0,E0),o0(y0,C0,h0),o0(y0,y0,p0),M0(y0,y0),o0(y0,y0,h0),o0(y0,y0,p0),o0(y0,y0,p0),o0(f0[0],y0,p0),g0(t0,f0[0]),o0(t0,t0,p0),Ds(t0,h0)&&o0(f0[0],f0[0],cs),g0(t0,f0[0]),o0(t0,t0,p0),Ds(t0,h0)?-1:(i0(f0[0])===m0[31]>>7&&d0(f0[0],ba,f0[0]),o0(f0[3],f0[0],f0[1]),0)}function l0(f0,m0,y0){const t0=new Uint8Array(32),h0=[_i(),_i(),_i(),_i()],p0=[_i(),_i(),_i(),_i()];if(y0.length!==vn.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${vn.SIGNATURE_LENGTH} bytes`);if(a0(p0,f0))return!1;const E0=new En.SHA512;E0.update(y0.subarray(0,32)),E0.update(f0),E0.update(m0);const I0=E0.digest();return as(I0),es(h0,p0,I0),ns(p0,y0.subarray(32)),ds(h0,p0),_a(t0,h0),!gs(y0,t0)}vn.verify=l0;function s0(f0){let m0=[_i(),_i(),_i(),_i()];if(a0(m0,f0))throw new Error("Ed25519: invalid public key");let y0=_i(),t0=_i(),h0=m0[1];c0(y0,xa,h0),d0(t0,xa,h0),w0(t0,t0),o0(y0,y0,t0);let p0=new Uint8Array(32);return e0(p0,y0),p0}vn.convertPublicKeyToX25519=s0;function b0(f0){const m0=(0,En.hash)(f0.subarray(0,32));m0[0]&=248,m0[31]&=127,m0[31]|=64;const y0=new Uint8Array(m0.subarray(0,32));return(0,Cn.wipe)(m0),y0}vn.convertSecretKeyToX25519=b0})(ed25519);const JWT_IRIDIUM_ALG="EdDSA",JWT_IRIDIUM_TYP="JWT",JWT_DELIMITER=".",JWT_ENCODING="base64url",JSON_ENCODING="utf8",DATA_ENCODING="utf8",DID_DELIMITER=":",DID_PREFIX="did",DID_METHOD="key",MULTICODEC_ED25519_ENCODING="base58btc",MULTICODEC_ED25519_BASE="z",MULTICODEC_ED25519_HEADER="K36",KEY_PAIR_SEED_LENGTH=32;function decodeJSON(vn){return safeJsonParse(toString$1(fromString(vn,JWT_ENCODING),JSON_ENCODING))}function encodeJSON(vn){return toString$1(fromString(safeJsonStringify(vn),JSON_ENCODING),JWT_ENCODING)}function encodeIss(vn){const fn=fromString(MULTICODEC_ED25519_HEADER,MULTICODEC_ED25519_ENCODING),En=MULTICODEC_ED25519_BASE+toString$1(concat([fn,vn]),MULTICODEC_ED25519_ENCODING);return[DID_PREFIX,DID_METHOD,En].join(DID_DELIMITER)}function encodeSig(vn){return toString$1(vn,JWT_ENCODING)}function decodeSig(vn){return fromString(vn,JWT_ENCODING)}function encodeData(vn){return fromString([encodeJSON(vn.header),encodeJSON(vn.payload)].join(JWT_DELIMITER),DATA_ENCODING)}function encodeJWT(vn){return[encodeJSON(vn.header),encodeJSON(vn.payload),encodeSig(vn.signature)].join(JWT_DELIMITER)}function decodeJWT(vn){const fn=vn.split(JWT_DELIMITER),En=decodeJSON(fn[0]),Cn=decodeJSON(fn[1]),_i=decodeSig(fn[2]),An=fromString(fn.slice(0,2).join(JWT_DELIMITER),DATA_ENCODING);return{header:En,payload:Cn,signature:_i,data:An}}function generateKeyPair(vn=random.randomBytes(KEY_PAIR_SEED_LENGTH)){return ed25519.generateKeyPairFromSeed(vn)}async function signJWT(vn,fn,En,Cn,_i=cjs$3.fromMiliseconds(Date.now())){const An={alg:JWT_IRIDIUM_ALG,typ:JWT_IRIDIUM_TYP},ba=encodeIss(Cn.publicKey),xa=_i+En,$a={iss:ba,sub:vn,aud:fn,iat:_i,exp:xa},rs=encodeData({header:An,payload:$a}),ts=ed25519.sign(Cn.secretKey,rs);return encodeJWT({header:An,payload:$a,signature:ts})}var __spreadArray$1=function(vn,fn,En){if(En||arguments.length===2)for(var Cn=0,_i=fn.length,An;Cn<_i;Cn++)(An||!(Cn in fn))&&(An||(An=Array.prototype.slice.call(fn,0,Cn)),An[Cn]=fn[Cn]);return vn.concat(An||Array.prototype.slice.call(fn))},BrowserInfo=function(){function vn(fn,En,Cn){this.name=fn,this.version=En,this.os=Cn,this.type="browser"}return vn}(),NodeInfo=function(){function vn(fn){this.version=fn,this.type="node",this.name="node",this.os=process$1.platform}return vn}(),SearchBotDeviceInfo=function(){function vn(fn,En,Cn,_i){this.name=fn,this.version=En,this.os=Cn,this.bot=_i,this.type="bot-device"}return vn}(),BotInfo=function(){function vn(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return vn}(),ReactNativeInfo=function(){function vn(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return vn}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules$1=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(vn){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator<"u"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(vn){return vn!==""&&userAgentRules.reduce(function(fn,En){var Cn=En[0],_i=En[1];if(fn)return fn;var An=_i.exec(vn);return!!An&&[Cn,An]},!1)}function parseUserAgent(vn){var fn=matchUserAgent(vn);if(!fn)return null;var En=fn[0],Cn=fn[1];if(En==="searchbot")return new BotInfo;var _i=Cn[1]&&Cn[1].split(".").join("_").split("_").slice(0,3);_i?_i.length<REQUIRED_VERSION_PARTS&&(_i=__spreadArray$1(__spreadArray$1([],_i,!0),createVersionParts(REQUIRED_VERSION_PARTS-_i.length),!0)):_i=[];var An=_i.join("."),ba=detectOS$2(vn),xa=SEARCHBOT_OS_REGEX.exec(vn);return xa&&xa[1]?new SearchBotDeviceInfo(En,An,ba,xa[1]):new BrowserInfo(En,An,ba)}function detectOS$2(vn){for(var fn=0,En=operatingSystemRules$1.length;fn<En;fn++){var Cn=operatingSystemRules$1[fn],_i=Cn[0],An=Cn[1],ba=An.exec(vn);if(ba)return _i}return null}function getNodeVersion(){var vn=typeof process$1<"u"&&process$1.version;return vn?new NodeInfo(process$1.version.slice(1)):null}function createVersionParts(vn){for(var fn=[],En=0;En<vn;En++)fn.push("0");return fn}var cjs$2={};Object.defineProperty(cjs$2,"__esModule",{value:!0});cjs$2.getLocalStorage=cjs$2.getLocalStorageOrThrow=cjs$2.getCrypto=cjs$2.getCryptoOrThrow=getLocation_1=cjs$2.getLocation=cjs$2.getLocationOrThrow=getNavigator_1=cjs$2.getNavigator=cjs$2.getNavigatorOrThrow=getDocument_1=cjs$2.getDocument=cjs$2.getDocumentOrThrow=cjs$2.getFromWindowOrThrow=cjs$2.getFromWindow=void 0;function getFromWindow(vn){let fn;return typeof window<"u"&&typeof window[vn]<"u"&&(fn=window[vn]),fn}cjs$2.getFromWindow=getFromWindow;function getFromWindowOrThrow(vn){const fn=getFromWindow(vn);if(!fn)throw new Error(`${vn} is not defined in Window`);return fn}cjs$2.getFromWindowOrThrow=getFromWindowOrThrow;function getDocumentOrThrow(){return getFromWindowOrThrow("document")}cjs$2.getDocumentOrThrow=getDocumentOrThrow;function getDocument(){return getFromWindow("document")}var getDocument_1=cjs$2.getDocument=getDocument;function getNavigatorOrThrow(){return getFromWindowOrThrow("navigator")}cjs$2.getNavigatorOrThrow=getNavigatorOrThrow;function getNavigator(){return getFromWindow("navigator")}var getNavigator_1=cjs$2.getNavigator=getNavigator;function getLocationOrThrow(){return getFromWindowOrThrow("location")}cjs$2.getLocationOrThrow=getLocationOrThrow;function getLocation(){return getFromWindow("location")}var getLocation_1=cjs$2.getLocation=getLocation;function getCryptoOrThrow(){return getFromWindowOrThrow("crypto")}cjs$2.getCryptoOrThrow=getCryptoOrThrow;function getCrypto(){return getFromWindow("crypto")}cjs$2.getCrypto=getCrypto;function getLocalStorageOrThrow(){return getFromWindowOrThrow("localStorage")}cjs$2.getLocalStorageOrThrow=getLocalStorageOrThrow;function getLocalStorage(){return getFromWindow("localStorage")}cjs$2.getLocalStorage=getLocalStorage;var cjs$1={};Object.defineProperty(cjs$1,"__esModule",{value:!0});var getWindowMetadata_1=cjs$1.getWindowMetadata=void 0;const window_getters_1=cjs$2;function getWindowMetadata(){let vn,fn;try{vn=window_getters_1.getDocumentOrThrow(),fn=window_getters_1.getLocationOrThrow()}catch{return null}function En(){const is=vn.getElementsByTagName("link"),cs=[];for(let us=0;us<is.length;us++){const ps=is[us],bs=ps.getAttribute("rel");if(bs&&bs.toLowerCase().indexOf("icon")>-1){const e0=ps.getAttribute("href");if(e0)if(e0.toLowerCase().indexOf("https:")===-1&&e0.toLowerCase().indexOf("http:")===-1&&e0.indexOf("//")!==0){let gs=fn.protocol+"//"+fn.host;if(e0.indexOf("/")===0)gs+=e0;else{const Ds=fn.pathname.split("/");Ds.pop();const i0=Ds.join("/");gs+=i0+"/"+e0}cs.push(gs)}else if(e0.indexOf("//")===0){const gs=fn.protocol+e0;cs.push(gs)}else cs.push(e0)}}return cs}function Cn(...is){const cs=vn.getElementsByTagName("meta");for(let us=0;us<cs.length;us++){const ps=cs[us],bs=["itemprop","property","name"].map(e0=>ps.getAttribute(e0)).filter(e0=>e0?is.includes(e0):!1);if(bs.length&&bs){const e0=ps.getAttribute("content");if(e0)return e0}}return""}function _i(){let is=Cn("name","og:site_name","og:title","twitter:title");return is||(is=vn.title),is}function An(){return Cn("description","og:description","twitter:description","keywords")}const ba=_i(),xa=An(),$a=fn.origin,rs=En();return{description:xa,url:$a,icons:rs,name:ba}}getWindowMetadata_1=cjs$1.getWindowMetadata=getWindowMetadata;var queryString={},strictUriEncode=vn=>encodeURIComponent(vn).replace(/[!'()*]/g,fn=>`%${fn.charCodeAt(0).toString(16).toUpperCase()}`),token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(vn,fn){try{return[decodeURIComponent(vn.join(""))]}catch{}if(vn.length===1)return vn;fn=fn||1;var En=vn.slice(0,fn),Cn=vn.slice(fn);return Array.prototype.concat.call([],decodeComponents(En),decodeComponents(Cn))}function decode(vn){try{return decodeURIComponent(vn)}catch{for(var fn=vn.match(singleMatcher)||[],En=1;En<fn.length;En++)vn=decodeComponents(fn,En).join(""),fn=vn.match(singleMatcher)||[];return vn}}function customDecodeURIComponent(vn){for(var fn={"%FE%FF":"","%FF%FE":""},En=multiMatcher.exec(vn);En;){try{fn[En[0]]=decodeURIComponent(En[0])}catch{var Cn=decode(En[0]);Cn!==En[0]&&(fn[En[0]]=Cn)}En=multiMatcher.exec(vn)}fn["%C2"]="";for(var _i=Object.keys(fn),An=0;An<_i.length;An++){var ba=_i[An];vn=vn.replace(new RegExp(ba,"g"),fn[ba])}return vn}var decodeUriComponent=function(vn){if(typeof vn!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof vn+"`");try{return vn=vn.replace(/\+/g," "),decodeURIComponent(vn)}catch{return customDecodeURIComponent(vn)}},splitOnFirst=(vn,fn)=>{if(!(typeof vn=="string"&&typeof fn=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(fn==="")return[vn];const En=vn.indexOf(fn);return En===-1?[vn]:[vn.slice(0,En),vn.slice(En+fn.length)]},filterObj=function(vn,fn){for(var En={},Cn=Object.keys(vn),_i=Array.isArray(fn),An=0;An<Cn.length;An++){var ba=Cn[An],xa=vn[ba];(_i?fn.indexOf(ba)!==-1:fn(ba,xa,vn))&&(En[ba]=xa)}return En};(function(vn){const fn=strictUriEncode,En=decodeUriComponent,Cn=splitOnFirst,_i=filterObj,An=Ds=>Ds==null,ba=Symbol("encodeFragmentIdentifier");function xa(Ds){switch(Ds.arrayFormat){case"index":return i0=>(n0,c0)=>{const d0=n0.length;return c0===void 0||Ds.skipNull&&c0===null||Ds.skipEmptyString&&c0===""?n0:c0===null?[...n0,[ts(i0,Ds),"[",d0,"]"].join("")]:[...n0,[ts(i0,Ds),"[",ts(d0,Ds),"]=",ts(c0,Ds)].join("")]};case"bracket":return i0=>(n0,c0)=>c0===void 0||Ds.skipNull&&c0===null||Ds.skipEmptyString&&c0===""?n0:c0===null?[...n0,[ts(i0,Ds),"[]"].join("")]:[...n0,[ts(i0,Ds),"[]=",ts(c0,Ds)].join("")];case"colon-list-separator":return i0=>(n0,c0)=>c0===void 0||Ds.skipNull&&c0===null||Ds.skipEmptyString&&c0===""?n0:c0===null?[...n0,[ts(i0,Ds),":list="].join("")]:[...n0,[ts(i0,Ds),":list=",ts(c0,Ds)].join("")];case"comma":case"separator":case"bracket-separator":{const i0=Ds.arrayFormat==="bracket-separator"?"[]=":"=";return n0=>(c0,d0)=>d0===void 0||Ds.skipNull&&d0===null||Ds.skipEmptyString&&d0===""?c0:(d0=d0===null?"":d0,c0.length===0?[[ts(n0,Ds),i0,ts(d0,Ds)].join("")]:[[c0,ts(d0,Ds)].join(Ds.arrayFormatSeparator)])}default:return i0=>(n0,c0)=>c0===void 0||Ds.skipNull&&c0===null||Ds.skipEmptyString&&c0===""?n0:c0===null?[...n0,ts(i0,Ds)]:[...n0,[ts(i0,Ds),"=",ts(c0,Ds)].join("")]}}function $a(Ds){let i0;switch(Ds.arrayFormat){case"index":return(n0,c0,d0)=>{if(i0=/\[(\d*)\]$/.exec(n0),n0=n0.replace(/\[\d*\]$/,""),!i0){d0[n0]=c0;return}d0[n0]===void 0&&(d0[n0]={}),d0[n0][i0[1]]=c0};case"bracket":return(n0,c0,d0)=>{if(i0=/(\[\])$/.exec(n0),n0=n0.replace(/\[\]$/,""),!i0){d0[n0]=c0;return}if(d0[n0]===void 0){d0[n0]=[c0];return}d0[n0]=[].concat(d0[n0],c0)};case"colon-list-separator":return(n0,c0,d0)=>{if(i0=/(:list)$/.exec(n0),n0=n0.replace(/:list$/,""),!i0){d0[n0]=c0;return}if(d0[n0]===void 0){d0[n0]=[c0];return}d0[n0]=[].concat(d0[n0],c0)};case"comma":case"separator":return(n0,c0,d0)=>{const o0=typeof c0=="string"&&c0.includes(Ds.arrayFormatSeparator),g0=typeof c0=="string"&&!o0&&is(c0,Ds).includes(Ds.arrayFormatSeparator);c0=g0?is(c0,Ds):c0;const w0=o0||g0?c0.split(Ds.arrayFormatSeparator).map(M0=>is(M0,Ds)):c0===null?c0:is(c0,Ds);d0[n0]=w0};case"bracket-separator":return(n0,c0,d0)=>{const o0=/(\[\])$/.test(n0);if(n0=n0.replace(/\[\]$/,""),!o0){d0[n0]=c0&&is(c0,Ds);return}const g0=c0===null?[]:c0.split(Ds.arrayFormatSeparator).map(w0=>is(w0,Ds));if(d0[n0]===void 0){d0[n0]=g0;return}d0[n0]=[].concat(d0[n0],g0)};default:return(n0,c0,d0)=>{if(d0[n0]===void 0){d0[n0]=c0;return}d0[n0]=[].concat(d0[n0],c0)}}}function rs(Ds){if(typeof Ds!="string"||Ds.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function ts(Ds,i0){return i0.encode?i0.strict?fn(Ds):encodeURIComponent(Ds):Ds}function is(Ds,i0){return i0.decode?En(Ds):Ds}function cs(Ds){return Array.isArray(Ds)?Ds.sort():typeof Ds=="object"?cs(Object.keys(Ds)).sort((i0,n0)=>Number(i0)-Number(n0)).map(i0=>Ds[i0]):Ds}function us(Ds){const i0=Ds.indexOf("#");return i0!==-1&&(Ds=Ds.slice(0,i0)),Ds}function ps(Ds){let i0="";const n0=Ds.indexOf("#");return n0!==-1&&(i0=Ds.slice(n0)),i0}function bs(Ds){Ds=us(Ds);const i0=Ds.indexOf("?");return i0===-1?"":Ds.slice(i0+1)}function e0(Ds,i0){return i0.parseNumbers&&!Number.isNaN(Number(Ds))&&typeof Ds=="string"&&Ds.trim()!==""?Ds=Number(Ds):i0.parseBooleans&&Ds!==null&&(Ds.toLowerCase()==="true"||Ds.toLowerCase()==="false")&&(Ds=Ds.toLowerCase()==="true"),Ds}function gs(Ds,i0){i0=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},i0),rs(i0.arrayFormatSeparator);const n0=$a(i0),c0=Object.create(null);if(typeof Ds!="string"||(Ds=Ds.trim().replace(/^[?#&]/,""),!Ds))return c0;for(const d0 of Ds.split("&")){if(d0==="")continue;let[o0,g0]=Cn(i0.decode?d0.replace(/\+/g," "):d0,"=");g0=g0===void 0?null:["comma","separator","bracket-separator"].includes(i0.arrayFormat)?g0:is(g0,i0),n0(is(o0,i0),g0,c0)}for(const d0 of Object.keys(c0)){const o0=c0[d0];if(typeof o0=="object"&&o0!==null)for(const g0 of Object.keys(o0))o0[g0]=e0(o0[g0],i0);else c0[d0]=e0(o0,i0)}return i0.sort===!1?c0:(i0.sort===!0?Object.keys(c0).sort():Object.keys(c0).sort(i0.sort)).reduce((d0,o0)=>{const g0=c0[o0];return g0&&typeof g0=="object"&&!Array.isArray(g0)?d0[o0]=cs(g0):d0[o0]=g0,d0},Object.create(null))}vn.extract=bs,vn.parse=gs,vn.stringify=(Ds,i0)=>{if(!Ds)return"";i0=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},i0),rs(i0.arrayFormatSeparator);const n0=g0=>i0.skipNull&&An(Ds[g0])||i0.skipEmptyString&&Ds[g0]==="",c0=xa(i0),d0={};for(const g0 of Object.keys(Ds))n0(g0)||(d0[g0]=Ds[g0]);const o0=Object.keys(d0);return i0.sort!==!1&&o0.sort(i0.sort),o0.map(g0=>{const w0=Ds[g0];return w0===void 0?"":w0===null?ts(g0,i0):Array.isArray(w0)?w0.length===0&&i0.arrayFormat==="bracket-separator"?ts(g0,i0)+"[]":w0.reduce(c0(g0),[]).join("&"):ts(g0,i0)+"="+ts(w0,i0)}).filter(g0=>g0.length>0).join("&")},vn.parseUrl=(Ds,i0)=>{i0=Object.assign({decode:!0},i0);const[n0,c0]=Cn(Ds,"#");return Object.assign({url:n0.split("?")[0]||"",query:gs(bs(Ds),i0)},i0&&i0.parseFragmentIdentifier&&c0?{fragmentIdentifier:is(c0,i0)}:{})},vn.stringifyUrl=(Ds,i0)=>{i0=Object.assign({encode:!0,strict:!0,[ba]:!0},i0);const n0=us(Ds.url).split("?")[0]||"",c0=vn.extract(Ds.url),d0=vn.parse(c0,{sort:!1}),o0=Object.assign(d0,Ds.query);let g0=vn.stringify(o0,i0);g0&&(g0=`?${g0}`);let w0=ps(Ds.url);return Ds.fragmentIdentifier&&(w0=`#${i0[ba]?ts(Ds.fragmentIdentifier,i0):Ds.fragmentIdentifier}`),`${n0}${g0}${w0}`},vn.pick=(Ds,i0,n0)=>{n0=Object.assign({parseFragmentIdentifier:!0,[ba]:!1},n0);const{url:c0,query:d0,fragmentIdentifier:o0}=vn.parseUrl(Ds,n0);return vn.stringifyUrl({url:c0,query:_i(d0,i0),fragmentIdentifier:o0},n0)},vn.exclude=(Ds,i0,n0)=>{const c0=Array.isArray(i0)?d0=>!i0.includes(d0):(d0,o0)=>!i0(d0,o0);return vn.pick(Ds,c0,n0)}})(queryString);var chacha20poly1305={},chacha={};Object.defineProperty(chacha,"__esModule",{value:!0});var binary_1=binary,wipe_1$2=wipe$1,ROUNDS=20;function core(vn,fn,En){for(var Cn=1634760805,_i=857760878,An=2036477234,ba=1797285236,xa=En[3]<<24|En[2]<<16|En[1]<<8|En[0],$a=En[7]<<24|En[6]<<16|En[5]<<8|En[4],rs=En[11]<<24|En[10]<<16|En[9]<<8|En[8],ts=En[15]<<24|En[14]<<16|En[13]<<8|En[12],is=En[19]<<24|En[18]<<16|En[17]<<8|En[16],cs=En[23]<<24|En[22]<<16|En[21]<<8|En[20],us=En[27]<<24|En[26]<<16|En[25]<<8|En[24],ps=En[31]<<24|En[30]<<16|En[29]<<8|En[28],bs=fn[3]<<24|fn[2]<<16|fn[1]<<8|fn[0],e0=fn[7]<<24|fn[6]<<16|fn[5]<<8|fn[4],gs=fn[11]<<24|fn[10]<<16|fn[9]<<8|fn[8],Ds=fn[15]<<24|fn[14]<<16|fn[13]<<8|fn[12],i0=Cn,n0=_i,c0=An,d0=ba,o0=xa,g0=$a,w0=rs,M0=ts,ds=is,na=cs,_a=us,es=ps,ns=bs,os=e0,ls=gs,hs=Ds,ss=0;ss<ROUNDS;ss+=2)i0=i0+o0|0,ns^=i0,ns=ns>>>16|ns<<16,ds=ds+ns|0,o0^=ds,o0=o0>>>20|o0<<12,n0=n0+g0|0,os^=n0,os=os>>>16|os<<16,na=na+os|0,g0^=na,g0=g0>>>20|g0<<12,c0=c0+w0|0,ls^=c0,ls=ls>>>16|ls<<16,_a=_a+ls|0,w0^=_a,w0=w0>>>20|w0<<12,d0=d0+M0|0,hs^=d0,hs=hs>>>16|hs<<16,es=es+hs|0,M0^=es,M0=M0>>>20|M0<<12,c0=c0+w0|0,ls^=c0,ls=ls>>>24|ls<<8,_a=_a+ls|0,w0^=_a,w0=w0>>>25|w0<<7,d0=d0+M0|0,hs^=d0,hs=hs>>>24|hs<<8,es=es+hs|0,M0^=es,M0=M0>>>25|M0<<7,n0=n0+g0|0,os^=n0,os=os>>>24|os<<8,na=na+os|0,g0^=na,g0=g0>>>25|g0<<7,i0=i0+o0|0,ns^=i0,ns=ns>>>24|ns<<8,ds=ds+ns|0,o0^=ds,o0=o0>>>25|o0<<7,i0=i0+g0|0,hs^=i0,hs=hs>>>16|hs<<16,_a=_a+hs|0,g0^=_a,g0=g0>>>20|g0<<12,n0=n0+w0|0,ns^=n0,ns=ns>>>16|ns<<16,es=es+ns|0,w0^=es,w0=w0>>>20|w0<<12,c0=c0+M0|0,os^=c0,os=os>>>16|os<<16,ds=ds+os|0,M0^=ds,M0=M0>>>20|M0<<12,d0=d0+o0|0,ls^=d0,ls=ls>>>16|ls<<16,na=na+ls|0,o0^=na,o0=o0>>>20|o0<<12,c0=c0+M0|0,os^=c0,os=os>>>24|os<<8,ds=ds+os|0,M0^=ds,M0=M0>>>25|M0<<7,d0=d0+o0|0,ls^=d0,ls=ls>>>24|ls<<8,na=na+ls|0,o0^=na,o0=o0>>>25|o0<<7,n0=n0+w0|0,ns^=n0,ns=ns>>>24|ns<<8,es=es+ns|0,w0^=es,w0=w0>>>25|w0<<7,i0=i0+g0|0,hs^=i0,hs=hs>>>24|hs<<8,_a=_a+hs|0,g0^=_a,g0=g0>>>25|g0<<7;binary_1.writeUint32LE(i0+Cn|0,vn,0),binary_1.writeUint32LE(n0+_i|0,vn,4),binary_1.writeUint32LE(c0+An|0,vn,8),binary_1.writeUint32LE(d0+ba|0,vn,12),binary_1.writeUint32LE(o0+xa|0,vn,16),binary_1.writeUint32LE(g0+$a|0,vn,20),binary_1.writeUint32LE(w0+rs|0,vn,24),binary_1.writeUint32LE(M0+ts|0,vn,28),binary_1.writeUint32LE(ds+is|0,vn,32),binary_1.writeUint32LE(na+cs|0,vn,36),binary_1.writeUint32LE(_a+us|0,vn,40),binary_1.writeUint32LE(es+ps|0,vn,44),binary_1.writeUint32LE(ns+bs|0,vn,48),binary_1.writeUint32LE(os+e0|0,vn,52),binary_1.writeUint32LE(ls+gs|0,vn,56),binary_1.writeUint32LE(hs+Ds|0,vn,60)}function streamXOR(vn,fn,En,Cn,_i){if(_i===void 0&&(_i=0),vn.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(Cn.length<En.length)throw new Error("ChaCha: destination is shorter than source");var An,ba;if(_i===0){if(fn.length!==8&&fn.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");An=new Uint8Array(16),ba=An.length-fn.length,An.set(fn,ba)}else{if(fn.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");An=fn,ba=_i}for(var xa=new Uint8Array(64),$a=0;$a<En.length;$a+=64){core(xa,An,vn);for(var rs=$a;rs<$a+64&&rs<En.length;rs++)Cn[rs]=En[rs]^xa[rs-$a];incrementCounter(An,0,ba)}return wipe_1$2.wipe(xa),_i===0&&wipe_1$2.wipe(An),Cn}chacha.streamXOR=streamXOR;function stream(vn,fn,En,Cn){return Cn===void 0&&(Cn=0),wipe_1$2.wipe(En),streamXOR(vn,fn,En,En,Cn)}chacha.stream=stream;function incrementCounter(vn,fn,En){for(var Cn=1;En--;)Cn=Cn+(vn[fn]&255)|0,vn[fn]=Cn&255,Cn>>>=8,fn++;if(Cn>0)throw new Error("ChaCha: counter overflow")}var poly1305={},constantTime={};Object.defineProperty(constantTime,"__esModule",{value:!0});function select(vn,fn,En){return~(vn-1)&fn|vn-1&En}constantTime.select=select;function lessOrEqual(vn,fn){return(vn|0)-(fn|0)-1>>>31&1}constantTime.lessOrEqual=lessOrEqual;function compare(vn,fn){if(vn.length!==fn.length)return 0;for(var En=0,Cn=0;Cn<vn.length;Cn++)En|=vn[Cn]^fn[Cn];return 1&En-1>>>8}constantTime.compare=compare;function equal(vn,fn){return vn.length===0||fn.length===0?!1:compare(vn,fn)!==0}constantTime.equal=equal;(function(vn){Object.defineProperty(vn,"__esModule",{value:!0});var fn=constantTime,En=wipe$1;vn.DIGEST_LENGTH=16;var Cn=function(){function ba(xa){this.digestLength=vn.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var $a=xa[0]|xa[1]<<8;this._r[0]=$a&8191;var rs=xa[2]|xa[3]<<8;this._r[1]=($a>>>13|rs<<3)&8191;var ts=xa[4]|xa[5]<<8;this._r[2]=(rs>>>10|ts<<6)&7939;var is=xa[6]|xa[7]<<8;this._r[3]=(ts>>>7|is<<9)&8191;var cs=xa[8]|xa[9]<<8;this._r[4]=(is>>>4|cs<<12)&255,this._r[5]=cs>>>1&8190;var us=xa[10]|xa[11]<<8;this._r[6]=(cs>>>14|us<<2)&8191;var ps=xa[12]|xa[13]<<8;this._r[7]=(us>>>11|ps<<5)&8065;var bs=xa[14]|xa[15]<<8;this._r[8]=(ps>>>8|bs<<8)&8191,this._r[9]=bs>>>5&127,this._pad[0]=xa[16]|xa[17]<<8,this._pad[1]=xa[18]|xa[19]<<8,this._pad[2]=xa[20]|xa[21]<<8,this._pad[3]=xa[22]|xa[23]<<8,this._pad[4]=xa[24]|xa[25]<<8,this._pad[5]=xa[26]|xa[27]<<8,this._pad[6]=xa[28]|xa[29]<<8,this._pad[7]=xa[30]|xa[31]<<8}return ba.prototype._blocks=function(xa,$a,rs){for(var ts=this._fin?0:2048,is=this._h[0],cs=this._h[1],us=this._h[2],ps=this._h[3],bs=this._h[4],e0=this._h[5],gs=this._h[6],Ds=this._h[7],i0=this._h[8],n0=this._h[9],c0=this._r[0],d0=this._r[1],o0=this._r[2],g0=this._r[3],w0=this._r[4],M0=this._r[5],ds=this._r[6],na=this._r[7],_a=this._r[8],es=this._r[9];rs>=16;){var ns=xa[$a+0]|xa[$a+1]<<8;is+=ns&8191;var os=xa[$a+2]|xa[$a+3]<<8;cs+=(ns>>>13|os<<3)&8191;var ls=xa[$a+4]|xa[$a+5]<<8;us+=(os>>>10|ls<<6)&8191;var hs=xa[$a+6]|xa[$a+7]<<8;ps+=(ls>>>7|hs<<9)&8191;var ss=xa[$a+8]|xa[$a+9]<<8;bs+=(hs>>>4|ss<<12)&8191,e0+=ss>>>1&8191;var ga=xa[$a+10]|xa[$a+11]<<8;gs+=(ss>>>14|ga<<2)&8191;var as=xa[$a+12]|xa[$a+13]<<8;Ds+=(ga>>>11|as<<5)&8191;var r0=xa[$a+14]|xa[$a+15]<<8;i0+=(as>>>8|r0<<8)&8191,n0+=r0>>>5|ts;var a0=0,l0=a0;l0+=is*c0,l0+=cs*(5*es),l0+=us*(5*_a),l0+=ps*(5*na),l0+=bs*(5*ds),a0=l0>>>13,l0&=8191,l0+=e0*(5*M0),l0+=gs*(5*w0),l0+=Ds*(5*g0),l0+=i0*(5*o0),l0+=n0*(5*d0),a0+=l0>>>13,l0&=8191;var s0=a0;s0+=is*d0,s0+=cs*c0,s0+=us*(5*es),s0+=ps*(5*_a),s0+=bs*(5*na),a0=s0>>>13,s0&=8191,s0+=e0*(5*ds),s0+=gs*(5*M0),s0+=Ds*(5*w0),s0+=i0*(5*g0),s0+=n0*(5*o0),a0+=s0>>>13,s0&=8191;var b0=a0;b0+=is*o0,b0+=cs*d0,b0+=us*c0,b0+=ps*(5*es),b0+=bs*(5*_a),a0=b0>>>13,b0&=8191,b0+=e0*(5*na),b0+=gs*(5*ds),b0+=Ds*(5*M0),b0+=i0*(5*w0),b0+=n0*(5*g0),a0+=b0>>>13,b0&=8191;var f0=a0;f0+=is*g0,f0+=cs*o0,f0+=us*d0,f0+=ps*c0,f0+=bs*(5*es),a0=f0>>>13,f0&=8191,f0+=e0*(5*_a),f0+=gs*(5*na),f0+=Ds*(5*ds),f0+=i0*(5*M0),f0+=n0*(5*w0),a0+=f0>>>13,f0&=8191;var m0=a0;m0+=is*w0,m0+=cs*g0,m0+=us*o0,m0+=ps*d0,m0+=bs*c0,a0=m0>>>13,m0&=8191,m0+=e0*(5*es),m0+=gs*(5*_a),m0+=Ds*(5*na),m0+=i0*(5*ds),m0+=n0*(5*M0),a0+=m0>>>13,m0&=8191;var y0=a0;y0+=is*M0,y0+=cs*w0,y0+=us*g0,y0+=ps*o0,y0+=bs*d0,a0=y0>>>13,y0&=8191,y0+=e0*c0,y0+=gs*(5*es),y0+=Ds*(5*_a),y0+=i0*(5*na),y0+=n0*(5*ds),a0+=y0>>>13,y0&=8191;var t0=a0;t0+=is*ds,t0+=cs*M0,t0+=us*w0,t0+=ps*g0,t0+=bs*o0,a0=t0>>>13,t0&=8191,t0+=e0*d0,t0+=gs*c0,t0+=Ds*(5*es),t0+=i0*(5*_a),t0+=n0*(5*na),a0+=t0>>>13,t0&=8191;var h0=a0;h0+=is*na,h0+=cs*ds,h0+=us*M0,h0+=ps*w0,h0+=bs*g0,a0=h0>>>13,h0&=8191,h0+=e0*o0,h0+=gs*d0,h0+=Ds*c0,h0+=i0*(5*es),h0+=n0*(5*_a),a0+=h0>>>13,h0&=8191;var p0=a0;p0+=is*_a,p0+=cs*na,p0+=us*ds,p0+=ps*M0,p0+=bs*w0,a0=p0>>>13,p0&=8191,p0+=e0*g0,p0+=gs*o0,p0+=Ds*d0,p0+=i0*c0,p0+=n0*(5*es),a0+=p0>>>13,p0&=8191;var E0=a0;E0+=is*es,E0+=cs*_a,E0+=us*na,E0+=ps*ds,E0+=bs*M0,a0=E0>>>13,E0&=8191,E0+=e0*w0,E0+=gs*g0,E0+=Ds*o0,E0+=i0*d0,E0+=n0*c0,a0+=E0>>>13,E0&=8191,a0=(a0<<2)+a0|0,a0=a0+l0|0,l0=a0&8191,a0=a0>>>13,s0+=a0,is=l0,cs=s0,us=b0,ps=f0,bs=m0,e0=y0,gs=t0,Ds=h0,i0=p0,n0=E0,$a+=16,rs-=16}this._h[0]=is,this._h[1]=cs,this._h[2]=us,this._h[3]=ps,this._h[4]=bs,this._h[5]=e0,this._h[6]=gs,this._h[7]=Ds,this._h[8]=i0,this._h[9]=n0},ba.prototype.finish=function(xa,$a){$a===void 0&&($a=0);var rs=new Uint16Array(10),ts,is,cs,us;if(this._leftover){for(us=this._leftover,this._buffer[us++]=1;us<16;us++)this._buffer[us]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(ts=this._h[1]>>>13,this._h[1]&=8191,us=2;us<10;us++)this._h[us]+=ts,ts=this._h[us]>>>13,this._h[us]&=8191;for(this._h[0]+=ts*5,ts=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=ts,ts=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=ts,rs[0]=this._h[0]+5,ts=rs[0]>>>13,rs[0]&=8191,us=1;us<10;us++)rs[us]=this._h[us]+ts,ts=rs[us]>>>13,rs[us]&=8191;for(rs[9]-=8192,is=(ts^1)-1,us=0;us<10;us++)rs[us]&=is;for(is=~is,us=0;us<10;us++)this._h[us]=this._h[us]&is|rs[us];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,cs=this._h[0]+this._pad[0],this._h[0]=cs&65535,us=1;us<8;us++)cs=(this._h[us]+this._pad[us]|0)+(cs>>>16)|0,this._h[us]=cs&65535;return xa[$a+0]=this._h[0]>>>0,xa[$a+1]=this._h[0]>>>8,xa[$a+2]=this._h[1]>>>0,xa[$a+3]=this._h[1]>>>8,xa[$a+4]=this._h[2]>>>0,xa[$a+5]=this._h[2]>>>8,xa[$a+6]=this._h[3]>>>0,xa[$a+7]=this._h[3]>>>8,xa[$a+8]=this._h[4]>>>0,xa[$a+9]=this._h[4]>>>8,xa[$a+10]=this._h[5]>>>0,xa[$a+11]=this._h[5]>>>8,xa[$a+12]=this._h[6]>>>0,xa[$a+13]=this._h[6]>>>8,xa[$a+14]=this._h[7]>>>0,xa[$a+15]=this._h[7]>>>8,this._finished=!0,this},ba.prototype.update=function(xa){var $a=0,rs=xa.length,ts;if(this._leftover){ts=16-this._leftover,ts>rs&&(ts=rs);for(var is=0;is<ts;is++)this._buffer[this._leftover+is]=xa[$a+is];if(rs-=ts,$a+=ts,this._leftover+=ts,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(rs>=16&&(ts=rs-rs%16,this._blocks(xa,$a,ts),$a+=ts,rs-=ts),rs){for(var is=0;is<rs;is++)this._buffer[this._leftover+is]=xa[$a+is];this._leftover+=rs}return this},ba.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var xa=new Uint8Array(16);return this.finish(xa),xa},ba.prototype.clean=function(){return En.wipe(this._buffer),En.wipe(this._r),En.wipe(this._h),En.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},ba}();vn.Poly1305=Cn;function _i(ba,xa){var $a=new Cn(ba);$a.update(xa);var rs=$a.digest();return $a.clean(),rs}vn.oneTimeAuth=_i;function An(ba,xa){return ba.length!==vn.DIGEST_LENGTH||xa.length!==vn.DIGEST_LENGTH?!1:fn.equal(ba,xa)}vn.equal=An})(poly1305);(function(vn){Object.defineProperty(vn,"__esModule",{value:!0});var fn=chacha,En=poly1305,Cn=wipe$1,_i=binary,An=constantTime;vn.KEY_LENGTH=32,vn.NONCE_LENGTH=12,vn.TAG_LENGTH=16;var ba=new Uint8Array(16),xa=function(){function $a(rs){if(this.nonceLength=vn.NONCE_LENGTH,this.tagLength=vn.TAG_LENGTH,rs.length!==vn.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(rs)}return $a.prototype.seal=function(rs,ts,is,cs){if(rs.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var us=new Uint8Array(16);us.set(rs,us.length-rs.length);var ps=new Uint8Array(32);fn.stream(this._key,us,ps,4);var bs=ts.length+this.tagLength,e0;if(cs){if(cs.length!==bs)throw new Error("ChaCha20Poly1305: incorrect destination length");e0=cs}else e0=new Uint8Array(bs);return fn.streamXOR(this._key,us,ts,e0,4),this._authenticate(e0.subarray(e0.length-this.tagLength,e0.length),ps,e0.subarray(0,e0.length-this.tagLength),is),Cn.wipe(us),e0},$a.prototype.open=function(rs,ts,is,cs){if(rs.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(ts.length<this.tagLength)return null;var us=new Uint8Array(16);us.set(rs,us.length-rs.length);var ps=new Uint8Array(32);fn.stream(this._key,us,ps,4);var bs=new Uint8Array(this.tagLength);if(this._authenticate(bs,ps,ts.subarray(0,ts.length-this.tagLength),is),!An.equal(bs,ts.subarray(ts.length-this.tagLength,ts.length)))return null;var e0=ts.length-this.tagLength,gs;if(cs){if(cs.length!==e0)throw new Error("ChaCha20Poly1305: incorrect destination length");gs=cs}else gs=new Uint8Array(e0);return fn.streamXOR(this._key,us,ts.subarray(0,ts.length-this.tagLength),gs,4),Cn.wipe(us),gs},$a.prototype.clean=function(){return Cn.wipe(this._key),this},$a.prototype._authenticate=function(rs,ts,is,cs){var us=new En.Poly1305(ts);cs&&(us.update(cs),cs.length%16>0&&us.update(ba.subarray(cs.length%16))),us.update(is),is.length%16>0&&us.update(ba.subarray(is.length%16));var ps=new Uint8Array(8);cs&&_i.writeUint64LE(cs.length,ps),us.update(ps),_i.writeUint64LE(is.length,ps),us.update(ps);for(var bs=us.digest(),e0=0;e0<bs.length;e0++)rs[e0]=bs[e0];us.clean(),Cn.wipe(bs),Cn.wipe(ps)},$a}();vn.ChaCha20Poly1305=xa})(chacha20poly1305);var hkdf={},hmac$1={},hash$2={};Object.defineProperty(hash$2,"__esModule",{value:!0});function isSerializableHash(vn){return typeof vn.saveState<"u"&&typeof vn.restoreState<"u"&&typeof vn.cleanSavedState<"u"}hash$2.isSerializableHash=isSerializableHash;Object.defineProperty(hmac$1,"__esModule",{value:!0});var hash_1=hash$2,constant_time_1=constantTime,wipe_1$1=wipe$1,HMAC=function(){function vn(fn,En){this._finished=!1,this._inner=new fn,this._outer=new fn,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var Cn=new Uint8Array(this.blockSize);En.length>this.blockSize?this._inner.update(En).finish(Cn).clean():Cn.set(En);for(var _i=0;_i<Cn.length;_i++)Cn[_i]^=54;this._inner.update(Cn);for(var _i=0;_i<Cn.length;_i++)Cn[_i]^=106;this._outer.update(Cn),hash_1.isSerializableHash(this._inner)&&hash_1.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),wipe_1$1.wipe(Cn)}return vn.prototype.reset=function(){if(!hash_1.isSerializableHash(this._inner)||!hash_1.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},vn.prototype.clean=function(){hash_1.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),hash_1.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},vn.prototype.update=function(fn){return this._inner.update(fn),this},vn.prototype.finish=function(fn){return this._finished?(this._outer.finish(fn),this):(this._inner.finish(fn),this._outer.update(fn.subarray(0,this.digestLength)).finish(fn),this._finished=!0,this)},vn.prototype.digest=function(){var fn=new Uint8Array(this.digestLength);return this.finish(fn),fn},vn.prototype.saveState=function(){if(!hash_1.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},vn.prototype.restoreState=function(fn){if(!hash_1.isSerializableHash(this._inner)||!hash_1.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(fn),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},vn.prototype.cleanSavedState=function(fn){if(!hash_1.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(fn)},vn}();hmac$1.HMAC=HMAC;function hmac(vn,fn,En){var Cn=new HMAC(vn,fn);Cn.update(En);var _i=Cn.digest();return Cn.clean(),_i}hmac$1.hmac=hmac;hmac$1.equal=constant_time_1.equal;Object.defineProperty(hkdf,"__esModule",{value:!0});var hmac_1=hmac$1,wipe_1=wipe$1,HKDF=function(){function vn(fn,En,Cn,_i){Cn===void 0&&(Cn=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=fn,this._info=_i;var An=hmac_1.hmac(this._hash,Cn,En);this._hmac=new hmac_1.HMAC(fn,An),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return vn.prototype._fillBuffer=function(){this._counter[0]++;var fn=this._counter[0];if(fn===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),fn>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},vn.prototype.expand=function(fn){for(var En=new Uint8Array(fn),Cn=0;Cn<En.length;Cn++)this._bufpos===this._buffer.length&&this._fillBuffer(),En[Cn]=this._buffer[this._bufpos++];return En},vn.prototype.clean=function(){this._hmac.clean(),wipe_1.wipe(this._buffer),wipe_1.wipe(this._counter),this._bufpos=0},vn}(),HKDF_1=hkdf.HKDF=HKDF,sha256={};(function(vn){Object.defineProperty(vn,"__esModule",{value:!0});var fn=binary,En=wipe$1;vn.DIGEST_LENGTH=32,vn.BLOCK_SIZE=64;var Cn=function(){function xa(){this.digestLength=vn.DIGEST_LENGTH,this.blockSize=vn.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return xa.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},xa.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},xa.prototype.clean=function(){En.wipe(this._buffer),En.wipe(this._temp),this.reset()},xa.prototype.update=function($a,rs){if(rs===void 0&&(rs=$a.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var ts=0;if(this._bytesHashed+=rs,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&rs>0;)this._buffer[this._bufferLength++]=$a[ts++],rs--;this._bufferLength===this.blockSize&&(An(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(rs>=this.blockSize&&(ts=An(this._temp,this._state,$a,ts,rs),rs%=this.blockSize);rs>0;)this._buffer[this._bufferLength++]=$a[ts++],rs--;return this},xa.prototype.finish=function($a){if(!this._finished){var rs=this._bytesHashed,ts=this._bufferLength,is=rs/536870912|0,cs=rs<<3,us=rs%64<56?64:128;this._buffer[ts]=128;for(var ps=ts+1;ps<us-8;ps++)this._buffer[ps]=0;fn.writeUint32BE(is,this._buffer,us-8),fn.writeUint32BE(cs,this._buffer,us-4),An(this._temp,this._state,this._buffer,0,us),this._finished=!0}for(var ps=0;ps<this.digestLength/4;ps++)fn.writeUint32BE(this._state[ps],$a,ps*4);return this},xa.prototype.digest=function(){var $a=new Uint8Array(this.digestLength);return this.finish($a),$a},xa.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},xa.prototype.restoreState=function($a){return this._state.set($a.state),this._bufferLength=$a.bufferLength,$a.buffer&&this._buffer.set($a.buffer),this._bytesHashed=$a.bytesHashed,this._finished=!1,this},xa.prototype.cleanSavedState=function($a){En.wipe($a.state),$a.buffer&&En.wipe($a.buffer),$a.bufferLength=0,$a.bytesHashed=0},xa}();vn.SHA256=Cn;var _i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function An(xa,$a,rs,ts,is){for(;is>=64;){for(var cs=$a[0],us=$a[1],ps=$a[2],bs=$a[3],e0=$a[4],gs=$a[5],Ds=$a[6],i0=$a[7],n0=0;n0<16;n0++){var c0=ts+n0*4;xa[n0]=fn.readUint32BE(rs,c0)}for(var n0=16;n0<64;n0++){var d0=xa[n0-2],o0=(d0>>>17|d0<<15)^(d0>>>19|d0<<13)^d0>>>10;d0=xa[n0-15];var g0=(d0>>>7|d0<<25)^(d0>>>18|d0<<14)^d0>>>3;xa[n0]=(o0+xa[n0-7]|0)+(g0+xa[n0-16]|0)}for(var n0=0;n0<64;n0++){var o0=(((e0>>>6|e0<<26)^(e0>>>11|e0<<21)^(e0>>>25|e0<<7))+(e0&gs^~e0&Ds)|0)+(i0+(_i[n0]+xa[n0]|0)|0)|0,g0=((cs>>>2|cs<<30)^(cs>>>13|cs<<19)^(cs>>>22|cs<<10))+(cs&us^cs&ps^us&ps)|0;i0=Ds,Ds=gs,gs=e0,e0=bs+o0|0,bs=ps,ps=us,us=cs,cs=o0+g0|0}$a[0]+=cs,$a[1]+=us,$a[2]+=ps,$a[3]+=bs,$a[4]+=e0,$a[5]+=gs,$a[6]+=Ds,$a[7]+=i0,ts+=64,is-=64}return ts}function ba(xa){var $a=new Cn;$a.update(xa);var rs=$a.digest();return $a.clean(),rs}vn.hash=ba})(sha256);var x25519={};(function(vn){Object.defineProperty(vn,"__esModule",{value:!0}),vn.sharedKey=vn.generateKeyPair=vn.generateKeyPairFromSeed=vn.scalarMultBase=vn.scalarMult=vn.SHARED_KEY_LENGTH=vn.SECRET_KEY_LENGTH=vn.PUBLIC_KEY_LENGTH=void 0;const fn=random,En=wipe$1;vn.PUBLIC_KEY_LENGTH=32,vn.SECRET_KEY_LENGTH=32,vn.SHARED_KEY_LENGTH=32;function Cn(n0){const c0=new Float64Array(16);if(n0)for(let d0=0;d0<n0.length;d0++)c0[d0]=n0[d0];return c0}const _i=new Uint8Array(32);_i[0]=9;const An=Cn([56129,1]);function ba(n0){let c0=1;for(let d0=0;d0<16;d0++){let o0=n0[d0]+c0+65535;c0=Math.floor(o0/65536),n0[d0]=o0-c0*65536}n0[0]+=c0-1+37*(c0-1)}function xa(n0,c0,d0){const o0=~(d0-1);for(let g0=0;g0<16;g0++){const w0=o0&(n0[g0]^c0[g0]);n0[g0]^=w0,c0[g0]^=w0}}function $a(n0,c0){const d0=Cn(),o0=Cn();for(let g0=0;g0<16;g0++)o0[g0]=c0[g0];ba(o0),ba(o0),ba(o0);for(let g0=0;g0<2;g0++){d0[0]=o0[0]-65517;for(let M0=1;M0<15;M0++)d0[M0]=o0[M0]-65535-(d0[M0-1]>>16&1),d0[M0-1]&=65535;d0[15]=o0[15]-32767-(d0[14]>>16&1);const w0=d0[15]>>16&1;d0[14]&=65535,xa(o0,d0,1-w0)}for(let g0=0;g0<16;g0++)n0[2*g0]=o0[g0]&255,n0[2*g0+1]=o0[g0]>>8}function rs(n0,c0){for(let d0=0;d0<16;d0++)n0[d0]=c0[2*d0]+(c0[2*d0+1]<<8);n0[15]&=32767}function ts(n0,c0,d0){for(let o0=0;o0<16;o0++)n0[o0]=c0[o0]+d0[o0]}function is(n0,c0,d0){for(let o0=0;o0<16;o0++)n0[o0]=c0[o0]-d0[o0]}function cs(n0,c0,d0){let o0,g0,w0=0,M0=0,ds=0,na=0,_a=0,es=0,ns=0,os=0,ls=0,hs=0,ss=0,ga=0,as=0,r0=0,a0=0,l0=0,s0=0,b0=0,f0=0,m0=0,y0=0,t0=0,h0=0,p0=0,E0=0,I0=0,C0=0,$0=0,vo=0,P0=0,S0=0,_o=d0[0],O0=d0[1],B0=d0[2],To=d0[3],k0=d0[4],D0=d0[5],Eo=d0[6],N0=d0[7],F0=d0[8],Co=d0[9],x0=d0[10],u0=d0[11],v0=d0[12],_0=d0[13],T0=d0[14],j0=d0[15];o0=c0[0],w0+=o0*_o,M0+=o0*O0,ds+=o0*B0,na+=o0*To,_a+=o0*k0,es+=o0*D0,ns+=o0*Eo,os+=o0*N0,ls+=o0*F0,hs+=o0*Co,ss+=o0*x0,ga+=o0*u0,as+=o0*v0,r0+=o0*_0,a0+=o0*T0,l0+=o0*j0,o0=c0[1],M0+=o0*_o,ds+=o0*O0,na+=o0*B0,_a+=o0*To,es+=o0*k0,ns+=o0*D0,os+=o0*Eo,ls+=o0*N0,hs+=o0*F0,ss+=o0*Co,ga+=o0*x0,as+=o0*u0,r0+=o0*v0,a0+=o0*_0,l0+=o0*T0,s0+=o0*j0,o0=c0[2],ds+=o0*_o,na+=o0*O0,_a+=o0*B0,es+=o0*To,ns+=o0*k0,os+=o0*D0,ls+=o0*Eo,hs+=o0*N0,ss+=o0*F0,ga+=o0*Co,as+=o0*x0,r0+=o0*u0,a0+=o0*v0,l0+=o0*_0,s0+=o0*T0,b0+=o0*j0,o0=c0[3],na+=o0*_o,_a+=o0*O0,es+=o0*B0,ns+=o0*To,os+=o0*k0,ls+=o0*D0,hs+=o0*Eo,ss+=o0*N0,ga+=o0*F0,as+=o0*Co,r0+=o0*x0,a0+=o0*u0,l0+=o0*v0,s0+=o0*_0,b0+=o0*T0,f0+=o0*j0,o0=c0[4],_a+=o0*_o,es+=o0*O0,ns+=o0*B0,os+=o0*To,ls+=o0*k0,hs+=o0*D0,ss+=o0*Eo,ga+=o0*N0,as+=o0*F0,r0+=o0*Co,a0+=o0*x0,l0+=o0*u0,s0+=o0*v0,b0+=o0*_0,f0+=o0*T0,m0+=o0*j0,o0=c0[5],es+=o0*_o,ns+=o0*O0,os+=o0*B0,ls+=o0*To,hs+=o0*k0,ss+=o0*D0,ga+=o0*Eo,as+=o0*N0,r0+=o0*F0,a0+=o0*Co,l0+=o0*x0,s0+=o0*u0,b0+=o0*v0,f0+=o0*_0,m0+=o0*T0,y0+=o0*j0,o0=c0[6],ns+=o0*_o,os+=o0*O0,ls+=o0*B0,hs+=o0*To,ss+=o0*k0,ga+=o0*D0,as+=o0*Eo,r0+=o0*N0,a0+=o0*F0,l0+=o0*Co,s0+=o0*x0,b0+=o0*u0,f0+=o0*v0,m0+=o0*_0,y0+=o0*T0,t0+=o0*j0,o0=c0[7],os+=o0*_o,ls+=o0*O0,hs+=o0*B0,ss+=o0*To,ga+=o0*k0,as+=o0*D0,r0+=o0*Eo,a0+=o0*N0,l0+=o0*F0,s0+=o0*Co,b0+=o0*x0,f0+=o0*u0,m0+=o0*v0,y0+=o0*_0,t0+=o0*T0,h0+=o0*j0,o0=c0[8],ls+=o0*_o,hs+=o0*O0,ss+=o0*B0,ga+=o0*To,as+=o0*k0,r0+=o0*D0,a0+=o0*Eo,l0+=o0*N0,s0+=o0*F0,b0+=o0*Co,f0+=o0*x0,m0+=o0*u0,y0+=o0*v0,t0+=o0*_0,h0+=o0*T0,p0+=o0*j0,o0=c0[9],hs+=o0*_o,ss+=o0*O0,ga+=o0*B0,as+=o0*To,r0+=o0*k0,a0+=o0*D0,l0+=o0*Eo,s0+=o0*N0,b0+=o0*F0,f0+=o0*Co,m0+=o0*x0,y0+=o0*u0,t0+=o0*v0,h0+=o0*_0,p0+=o0*T0,E0+=o0*j0,o0=c0[10],ss+=o0*_o,ga+=o0*O0,as+=o0*B0,r0+=o0*To,a0+=o0*k0,l0+=o0*D0,s0+=o0*Eo,b0+=o0*N0,f0+=o0*F0,m0+=o0*Co,y0+=o0*x0,t0+=o0*u0,h0+=o0*v0,p0+=o0*_0,E0+=o0*T0,I0+=o0*j0,o0=c0[11],ga+=o0*_o,as+=o0*O0,r0+=o0*B0,a0+=o0*To,l0+=o0*k0,s0+=o0*D0,b0+=o0*Eo,f0+=o0*N0,m0+=o0*F0,y0+=o0*Co,t0+=o0*x0,h0+=o0*u0,p0+=o0*v0,E0+=o0*_0,I0+=o0*T0,C0+=o0*j0,o0=c0[12],as+=o0*_o,r0+=o0*O0,a0+=o0*B0,l0+=o0*To,s0+=o0*k0,b0+=o0*D0,f0+=o0*Eo,m0+=o0*N0,y0+=o0*F0,t0+=o0*Co,h0+=o0*x0,p0+=o0*u0,E0+=o0*v0,I0+=o0*_0,C0+=o0*T0,$0+=o0*j0,o0=c0[13],r0+=o0*_o,a0+=o0*O0,l0+=o0*B0,s0+=o0*To,b0+=o0*k0,f0+=o0*D0,m0+=o0*Eo,y0+=o0*N0,t0+=o0*F0,h0+=o0*Co,p0+=o0*x0,E0+=o0*u0,I0+=o0*v0,C0+=o0*_0,$0+=o0*T0,vo+=o0*j0,o0=c0[14],a0+=o0*_o,l0+=o0*O0,s0+=o0*B0,b0+=o0*To,f0+=o0*k0,m0+=o0*D0,y0+=o0*Eo,t0+=o0*N0,h0+=o0*F0,p0+=o0*Co,E0+=o0*x0,I0+=o0*u0,C0+=o0*v0,$0+=o0*_0,vo+=o0*T0,P0+=o0*j0,o0=c0[15],l0+=o0*_o,s0+=o0*O0,b0+=o0*B0,f0+=o0*To,m0+=o0*k0,y0+=o0*D0,t0+=o0*Eo,h0+=o0*N0,p0+=o0*F0,E0+=o0*Co,I0+=o0*x0,C0+=o0*u0,$0+=o0*v0,vo+=o0*_0,P0+=o0*T0,S0+=o0*j0,w0+=38*s0,M0+=38*b0,ds+=38*f0,na+=38*m0,_a+=38*y0,es+=38*t0,ns+=38*h0,os+=38*p0,ls+=38*E0,hs+=38*I0,ss+=38*C0,ga+=38*$0,as+=38*vo,r0+=38*P0,a0+=38*S0,g0=1,o0=w0+g0+65535,g0=Math.floor(o0/65536),w0=o0-g0*65536,o0=M0+g0+65535,g0=Math.floor(o0/65536),M0=o0-g0*65536,o0=ds+g0+65535,g0=Math.floor(o0/65536),ds=o0-g0*65536,o0=na+g0+65535,g0=Math.floor(o0/65536),na=o0-g0*65536,o0=_a+g0+65535,g0=Math.floor(o0/65536),_a=o0-g0*65536,o0=es+g0+65535,g0=Math.floor(o0/65536),es=o0-g0*65536,o0=ns+g0+65535,g0=Math.floor(o0/65536),ns=o0-g0*65536,o0=os+g0+65535,g0=Math.floor(o0/65536),os=o0-g0*65536,o0=ls+g0+65535,g0=Math.floor(o0/65536),ls=o0-g0*65536,o0=hs+g0+65535,g0=Math.floor(o0/65536),hs=o0-g0*65536,o0=ss+g0+65535,g0=Math.floor(o0/65536),ss=o0-g0*65536,o0=ga+g0+65535,g0=Math.floor(o0/65536),ga=o0-g0*65536,o0=as+g0+65535,g0=Math.floor(o0/65536),as=o0-g0*65536,o0=r0+g0+65535,g0=Math.floor(o0/65536),r0=o0-g0*65536,o0=a0+g0+65535,g0=Math.floor(o0/65536),a0=o0-g0*65536,o0=l0+g0+65535,g0=Math.floor(o0/65536),l0=o0-g0*65536,w0+=g0-1+37*(g0-1),g0=1,o0=w0+g0+65535,g0=Math.floor(o0/65536),w0=o0-g0*65536,o0=M0+g0+65535,g0=Math.floor(o0/65536),M0=o0-g0*65536,o0=ds+g0+65535,g0=Math.floor(o0/65536),ds=o0-g0*65536,o0=na+g0+65535,g0=Math.floor(o0/65536),na=o0-g0*65536,o0=_a+g0+65535,g0=Math.floor(o0/65536),_a=o0-g0*65536,o0=es+g0+65535,g0=Math.floor(o0/65536),es=o0-g0*65536,o0=ns+g0+65535,g0=Math.floor(o0/65536),ns=o0-g0*65536,o0=os+g0+65535,g0=Math.floor(o0/65536),os=o0-g0*65536,o0=ls+g0+65535,g0=Math.floor(o0/65536),ls=o0-g0*65536,o0=hs+g0+65535,g0=Math.floor(o0/65536),hs=o0-g0*65536,o0=ss+g0+65535,g0=Math.floor(o0/65536),ss=o0-g0*65536,o0=ga+g0+65535,g0=Math.floor(o0/65536),ga=o0-g0*65536,o0=as+g0+65535,g0=Math.floor(o0/65536),as=o0-g0*65536,o0=r0+g0+65535,g0=Math.floor(o0/65536),r0=o0-g0*65536,o0=a0+g0+65535,g0=Math.floor(o0/65536),a0=o0-g0*65536,o0=l0+g0+65535,g0=Math.floor(o0/65536),l0=o0-g0*65536,w0+=g0-1+37*(g0-1),n0[0]=w0,n0[1]=M0,n0[2]=ds,n0[3]=na,n0[4]=_a,n0[5]=es,n0[6]=ns,n0[7]=os,n0[8]=ls,n0[9]=hs,n0[10]=ss,n0[11]=ga,n0[12]=as,n0[13]=r0,n0[14]=a0,n0[15]=l0}function us(n0,c0){cs(n0,c0,c0)}function ps(n0,c0){const d0=Cn();for(let o0=0;o0<16;o0++)d0[o0]=c0[o0];for(let o0=253;o0>=0;o0--)us(d0,d0),o0!==2&&o0!==4&&cs(d0,d0,c0);for(let o0=0;o0<16;o0++)n0[o0]=d0[o0]}function bs(n0,c0){const d0=new Uint8Array(32),o0=new Float64Array(80),g0=Cn(),w0=Cn(),M0=Cn(),ds=Cn(),na=Cn(),_a=Cn();for(let ls=0;ls<31;ls++)d0[ls]=n0[ls];d0[31]=n0[31]&127|64,d0[0]&=248,rs(o0,c0);for(let ls=0;ls<16;ls++)w0[ls]=o0[ls];g0[0]=ds[0]=1;for(let ls=254;ls>=0;--ls){const hs=d0[ls>>>3]>>>(ls&7)&1;xa(g0,w0,hs),xa(M0,ds,hs),ts(na,g0,M0),is(g0,g0,M0),ts(M0,w0,ds),is(w0,w0,ds),us(ds,na),us(_a,g0),cs(g0,M0,g0),cs(M0,w0,na),ts(na,g0,M0),is(g0,g0,M0),us(w0,g0),is(M0,ds,_a),cs(g0,M0,An),ts(g0,g0,ds),cs(M0,M0,g0),cs(g0,ds,_a),cs(ds,w0,o0),us(w0,na),xa(g0,w0,hs),xa(M0,ds,hs)}for(let ls=0;ls<16;ls++)o0[ls+16]=g0[ls],o0[ls+32]=M0[ls],o0[ls+48]=w0[ls],o0[ls+64]=ds[ls];const es=o0.subarray(32),ns=o0.subarray(16);ps(es,es),cs(ns,ns,es);const os=new Uint8Array(32);return $a(os,ns),os}vn.scalarMult=bs;function e0(n0){return bs(n0,_i)}vn.scalarMultBase=e0;function gs(n0){if(n0.length!==vn.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${vn.SECRET_KEY_LENGTH} bytes`);const c0=new Uint8Array(n0);return{publicKey:e0(c0),secretKey:c0}}vn.generateKeyPairFromSeed=gs;function Ds(n0){const c0=(0,fn.randomBytes)(32,n0),d0=gs(c0);return(0,En.wipe)(c0),d0}vn.generateKeyPair=Ds;function i0(n0,c0,d0=!1){if(n0.length!==vn.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(c0.length!==vn.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const o0=bs(n0,c0);if(d0){let g0=0;for(let w0=0;w0<o0.length;w0++)g0|=o0[w0];if(g0===0)throw new Error("X25519: invalid shared key")}return o0}vn.sharedKey=i0})(x25519);var elliptic$1={};const name$1="elliptic",version$2="6.6.0",description$1="EC cryptography",main$1="lib/elliptic.js",files$1=["lib"],scripts$1={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository$1={type:"git",url:"git@github.com:indutny/elliptic"},keywords$1=["EC","Elliptic","curve","Cryptography"],author$1="Fedor Indutny <fedor@indutny.com>",license$1="MIT",bugs$1={url:"https://github.com/indutny/elliptic/issues"},homepage$1="https://github.com/indutny/elliptic",devDependencies$1={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies$1={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0$3={name:name$1,version:version$2,description:description$1,main:main$1,files:files$1,scripts:scripts$1,repository:repository$1,keywords:keywords$1,author:author$1,license:license$1,bugs:bugs$1,homepage:homepage$1,devDependencies:devDependencies$1,dependencies:dependencies$1};var utils$n={},bn$4={exports:{}};bn$4.exports;(function(vn){(function(fn,En){function Cn(ds,na){if(!ds)throw new Error(na||"Assertion failed")}function _i(ds,na){ds.super_=na;var _a=function(){};_a.prototype=na.prototype,ds.prototype=new _a,ds.prototype.constructor=ds}function An(ds,na,_a){if(An.isBN(ds))return ds;this.negative=0,this.words=null,this.length=0,this.red=null,ds!==null&&((na==="le"||na==="be")&&(_a=na,na=10),this._init(ds||0,na||10,_a||"be"))}typeof fn=="object"?fn.exports=An:En.BN=An,An.BN=An,An.wordSize=26;var ba;try{typeof window<"u"&&typeof window.Buffer<"u"?ba=window.Buffer:ba=require$$0$a.Buffer}catch{}An.isBN=function(na){return na instanceof An?!0:na!==null&&typeof na=="object"&&na.constructor.wordSize===An.wordSize&&Array.isArray(na.words)},An.max=function(na,_a){return na.cmp(_a)>0?na:_a},An.min=function(na,_a){return na.cmp(_a)<0?na:_a},An.prototype._init=function(na,_a,es){if(typeof na=="number")return this._initNumber(na,_a,es);if(typeof na=="object")return this._initArray(na,_a,es);_a==="hex"&&(_a=16),Cn(_a===(_a|0)&&_a>=2&&_a<=36),na=na.toString().replace(/\s+/g,"");var ns=0;na[0]==="-"&&(ns++,this.negative=1),ns<na.length&&(_a===16?this._parseHex(na,ns,es):(this._parseBase(na,_a,ns),es==="le"&&this._initArray(this.toArray(),_a,es)))},An.prototype._initNumber=function(na,_a,es){na<0&&(this.negative=1,na=-na),na<67108864?(this.words=[na&67108863],this.length=1):na<4503599627370496?(this.words=[na&67108863,na/67108864&67108863],this.length=2):(Cn(na<9007199254740992),this.words=[na&67108863,na/67108864&67108863,1],this.length=3),es==="le"&&this._initArray(this.toArray(),_a,es)},An.prototype._initArray=function(na,_a,es){if(Cn(typeof na.length=="number"),na.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(na.length/3),this.words=new Array(this.length);for(var ns=0;ns<this.length;ns++)this.words[ns]=0;var os,ls,hs=0;if(es==="be")for(ns=na.length-1,os=0;ns>=0;ns-=3)ls=na[ns]|na[ns-1]<<8|na[ns-2]<<16,this.words[os]|=ls<<hs&67108863,this.words[os+1]=ls>>>26-hs&67108863,hs+=24,hs>=26&&(hs-=26,os++);else if(es==="le")for(ns=0,os=0;ns<na.length;ns+=3)ls=na[ns]|na[ns+1]<<8|na[ns+2]<<16,this.words[os]|=ls<<hs&67108863,this.words[os+1]=ls>>>26-hs&67108863,hs+=24,hs>=26&&(hs-=26,os++);return this.strip()};function xa(ds,na){var _a=ds.charCodeAt(na);return _a>=65&&_a<=70?_a-55:_a>=97&&_a<=102?_a-87:_a-48&15}function $a(ds,na,_a){var es=xa(ds,_a);return _a-1>=na&&(es|=xa(ds,_a-1)<<4),es}An.prototype._parseHex=function(na,_a,es){this.length=Math.ceil((na.length-_a)/6),this.words=new Array(this.length);for(var ns=0;ns<this.length;ns++)this.words[ns]=0;var os=0,ls=0,hs;if(es==="be")for(ns=na.length-1;ns>=_a;ns-=2)hs=$a(na,_a,ns)<<os,this.words[ls]|=hs&67108863,os>=18?(os-=18,ls+=1,this.words[ls]|=hs>>>26):os+=8;else{var ss=na.length-_a;for(ns=ss%2===0?_a+1:_a;ns<na.length;ns+=2)hs=$a(na,_a,ns)<<os,this.words[ls]|=hs&67108863,os>=18?(os-=18,ls+=1,this.words[ls]|=hs>>>26):os+=8}this.strip()};function rs(ds,na,_a,es){for(var ns=0,os=Math.min(ds.length,_a),ls=na;ls<os;ls++){var hs=ds.charCodeAt(ls)-48;ns*=es,hs>=49?ns+=hs-49+10:hs>=17?ns+=hs-17+10:ns+=hs}return ns}An.prototype._parseBase=function(na,_a,es){this.words=[0],this.length=1;for(var ns=0,os=1;os<=67108863;os*=_a)ns++;ns--,os=os/_a|0;for(var ls=na.length-es,hs=ls%ns,ss=Math.min(ls,ls-hs)+es,ga=0,as=es;as<ss;as+=ns)ga=rs(na,as,as+ns,_a),this.imuln(os),this.words[0]+ga<67108864?this.words[0]+=ga:this._iaddn(ga);if(hs!==0){var r0=1;for(ga=rs(na,as,na.length,_a),as=0;as<hs;as++)r0*=_a;this.imuln(r0),this.words[0]+ga<67108864?this.words[0]+=ga:this._iaddn(ga)}this.strip()},An.prototype.copy=function(na){na.words=new Array(this.length);for(var _a=0;_a<this.length;_a++)na.words[_a]=this.words[_a];na.length=this.length,na.negative=this.negative,na.red=this.red},An.prototype.clone=function(){var na=new An(null);return this.copy(na),na},An.prototype._expand=function(na){for(;this.length<na;)this.words[this.length++]=0;return this},An.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},An.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},An.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ts=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],is=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],cs=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];An.prototype.toString=function(na,_a){na=na||10,_a=_a|0||1;var es;if(na===16||na==="hex"){es="";for(var ns=0,os=0,ls=0;ls<this.length;ls++){var hs=this.words[ls],ss=((hs<<ns|os)&16777215).toString(16);os=hs>>>24-ns&16777215,ns+=2,ns>=26&&(ns-=26,ls--),os!==0||ls!==this.length-1?es=ts[6-ss.length]+ss+es:es=ss+es}for(os!==0&&(es=os.toString(16)+es);es.length%_a!==0;)es="0"+es;return this.negative!==0&&(es="-"+es),es}if(na===(na|0)&&na>=2&&na<=36){var ga=is[na],as=cs[na];es="";var r0=this.clone();for(r0.negative=0;!r0.isZero();){var a0=r0.modn(as).toString(na);r0=r0.idivn(as),r0.isZero()?es=a0+es:es=ts[ga-a0.length]+a0+es}for(this.isZero()&&(es="0"+es);es.length%_a!==0;)es="0"+es;return this.negative!==0&&(es="-"+es),es}Cn(!1,"Base should be between 2 and 36")},An.prototype.toNumber=function(){var na=this.words[0];return this.length===2?na+=this.words[1]*67108864:this.length===3&&this.words[2]===1?na+=4503599627370496+this.words[1]*67108864:this.length>2&&Cn(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-na:na},An.prototype.toJSON=function(){return this.toString(16)},An.prototype.toBuffer=function(na,_a){return Cn(typeof ba<"u"),this.toArrayLike(ba,na,_a)},An.prototype.toArray=function(na,_a){return this.toArrayLike(Array,na,_a)},An.prototype.toArrayLike=function(na,_a,es){var ns=this.byteLength(),os=es||Math.max(1,ns);Cn(ns<=os,"byte array longer than desired length"),Cn(os>0,"Requested array length <= 0"),this.strip();var ls=_a==="le",hs=new na(os),ss,ga,as=this.clone();if(ls){for(ga=0;!as.isZero();ga++)ss=as.andln(255),as.iushrn(8),hs[ga]=ss;for(;ga<os;ga++)hs[ga]=0}else{for(ga=0;ga<os-ns;ga++)hs[ga]=0;for(ga=0;!as.isZero();ga++)ss=as.andln(255),as.iushrn(8),hs[os-ga-1]=ss}return hs},Math.clz32?An.prototype._countBits=function(na){return 32-Math.clz32(na)}:An.prototype._countBits=function(na){var _a=na,es=0;return _a>=4096&&(es+=13,_a>>>=13),_a>=64&&(es+=7,_a>>>=7),_a>=8&&(es+=4,_a>>>=4),_a>=2&&(es+=2,_a>>>=2),es+_a},An.prototype._zeroBits=function(na){if(na===0)return 26;var _a=na,es=0;return _a&8191||(es+=13,_a>>>=13),_a&127||(es+=7,_a>>>=7),_a&15||(es+=4,_a>>>=4),_a&3||(es+=2,_a>>>=2),_a&1||es++,es},An.prototype.bitLength=function(){var na=this.words[this.length-1],_a=this._countBits(na);return(this.length-1)*26+_a};function us(ds){for(var na=new Array(ds.bitLength()),_a=0;_a<na.length;_a++){var es=_a/26|0,ns=_a%26;na[_a]=(ds.words[es]&1<<ns)>>>ns}return na}An.prototype.zeroBits=function(){if(this.isZero())return 0;for(var na=0,_a=0;_a<this.length;_a++){var es=this._zeroBits(this.words[_a]);if(na+=es,es!==26)break}return na},An.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},An.prototype.toTwos=function(na){return this.negative!==0?this.abs().inotn(na).iaddn(1):this.clone()},An.prototype.fromTwos=function(na){return this.testn(na-1)?this.notn(na).iaddn(1).ineg():this.clone()},An.prototype.isNeg=function(){return this.negative!==0},An.prototype.neg=function(){return this.clone().ineg()},An.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},An.prototype.iuor=function(na){for(;this.length<na.length;)this.words[this.length++]=0;for(var _a=0;_a<na.length;_a++)this.words[_a]=this.words[_a]|na.words[_a];return this.strip()},An.prototype.ior=function(na){return Cn((this.negative|na.negative)===0),this.iuor(na)},An.prototype.or=function(na){return this.length>na.length?this.clone().ior(na):na.clone().ior(this)},An.prototype.uor=function(na){return this.length>na.length?this.clone().iuor(na):na.clone().iuor(this)},An.prototype.iuand=function(na){var _a;this.length>na.length?_a=na:_a=this;for(var es=0;es<_a.length;es++)this.words[es]=this.words[es]&na.words[es];return this.length=_a.length,this.strip()},An.prototype.iand=function(na){return Cn((this.negative|na.negative)===0),this.iuand(na)},An.prototype.and=function(na){return this.length>na.length?this.clone().iand(na):na.clone().iand(this)},An.prototype.uand=function(na){return this.length>na.length?this.clone().iuand(na):na.clone().iuand(this)},An.prototype.iuxor=function(na){var _a,es;this.length>na.length?(_a=this,es=na):(_a=na,es=this);for(var ns=0;ns<es.length;ns++)this.words[ns]=_a.words[ns]^es.words[ns];if(this!==_a)for(;ns<_a.length;ns++)this.words[ns]=_a.words[ns];return this.length=_a.length,this.strip()},An.prototype.ixor=function(na){return Cn((this.negative|na.negative)===0),this.iuxor(na)},An.prototype.xor=function(na){return this.length>na.length?this.clone().ixor(na):na.clone().ixor(this)},An.prototype.uxor=function(na){return this.length>na.length?this.clone().iuxor(na):na.clone().iuxor(this)},An.prototype.inotn=function(na){Cn(typeof na=="number"&&na>=0);var _a=Math.ceil(na/26)|0,es=na%26;this._expand(_a),es>0&&_a--;for(var ns=0;ns<_a;ns++)this.words[ns]=~this.words[ns]&67108863;return es>0&&(this.words[ns]=~this.words[ns]&67108863>>26-es),this.strip()},An.prototype.notn=function(na){return this.clone().inotn(na)},An.prototype.setn=function(na,_a){Cn(typeof na=="number"&&na>=0);var es=na/26|0,ns=na%26;return this._expand(es+1),_a?this.words[es]=this.words[es]|1<<ns:this.words[es]=this.words[es]&~(1<<ns),this.strip()},An.prototype.iadd=function(na){var _a;if(this.negative!==0&&na.negative===0)return this.negative=0,_a=this.isub(na),this.negative^=1,this._normSign();if(this.negative===0&&na.negative!==0)return na.negative=0,_a=this.isub(na),na.negative=1,_a._normSign();var es,ns;this.length>na.length?(es=this,ns=na):(es=na,ns=this);for(var os=0,ls=0;ls<ns.length;ls++)_a=(es.words[ls]|0)+(ns.words[ls]|0)+os,this.words[ls]=_a&67108863,os=_a>>>26;for(;os!==0&&ls<es.length;ls++)_a=(es.words[ls]|0)+os,this.words[ls]=_a&67108863,os=_a>>>26;if(this.length=es.length,os!==0)this.words[this.length]=os,this.length++;else if(es!==this)for(;ls<es.length;ls++)this.words[ls]=es.words[ls];return this},An.prototype.add=function(na){var _a;return na.negative!==0&&this.negative===0?(na.negative=0,_a=this.sub(na),na.negative^=1,_a):na.negative===0&&this.negative!==0?(this.negative=0,_a=na.sub(this),this.negative=1,_a):this.length>na.length?this.clone().iadd(na):na.clone().iadd(this)},An.prototype.isub=function(na){if(na.negative!==0){na.negative=0;var _a=this.iadd(na);return na.negative=1,_a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(na),this.negative=1,this._normSign();var es=this.cmp(na);if(es===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ns,os;es>0?(ns=this,os=na):(ns=na,os=this);for(var ls=0,hs=0;hs<os.length;hs++)_a=(ns.words[hs]|0)-(os.words[hs]|0)+ls,ls=_a>>26,this.words[hs]=_a&67108863;for(;ls!==0&&hs<ns.length;hs++)_a=(ns.words[hs]|0)+ls,ls=_a>>26,this.words[hs]=_a&67108863;if(ls===0&&hs<ns.length&&ns!==this)for(;hs<ns.length;hs++)this.words[hs]=ns.words[hs];return this.length=Math.max(this.length,hs),ns!==this&&(this.negative=1),this.strip()},An.prototype.sub=function(na){return this.clone().isub(na)};function ps(ds,na,_a){_a.negative=na.negative^ds.negative;var es=ds.length+na.length|0;_a.length=es,es=es-1|0;var ns=ds.words[0]|0,os=na.words[0]|0,ls=ns*os,hs=ls&67108863,ss=ls/67108864|0;_a.words[0]=hs;for(var ga=1;ga<es;ga++){for(var as=ss>>>26,r0=ss&67108863,a0=Math.min(ga,na.length-1),l0=Math.max(0,ga-ds.length+1);l0<=a0;l0++){var s0=ga-l0|0;ns=ds.words[s0]|0,os=na.words[l0]|0,ls=ns*os+r0,as+=ls/67108864|0,r0=ls&67108863}_a.words[ga]=r0|0,ss=as|0}return ss!==0?_a.words[ga]=ss|0:_a.length--,_a.strip()}var bs=function(na,_a,es){var ns=na.words,os=_a.words,ls=es.words,hs=0,ss,ga,as,r0=ns[0]|0,a0=r0&8191,l0=r0>>>13,s0=ns[1]|0,b0=s0&8191,f0=s0>>>13,m0=ns[2]|0,y0=m0&8191,t0=m0>>>13,h0=ns[3]|0,p0=h0&8191,E0=h0>>>13,I0=ns[4]|0,C0=I0&8191,$0=I0>>>13,vo=ns[5]|0,P0=vo&8191,S0=vo>>>13,_o=ns[6]|0,O0=_o&8191,B0=_o>>>13,To=ns[7]|0,k0=To&8191,D0=To>>>13,Eo=ns[8]|0,N0=Eo&8191,F0=Eo>>>13,Co=ns[9]|0,x0=Co&8191,u0=Co>>>13,v0=os[0]|0,_0=v0&8191,T0=v0>>>13,j0=os[1]|0,A0=j0&8191,U0=j0>>>13,$o=os[2]|0,L0=$o&8191,V0=$o>>>13,Mo=os[3]|0,G0=Mo&8191,Z0=Mo>>>13,Io=os[4]|0,q0=Io&8191,Y0=Io>>>13,Ro=os[5]|0,z0=Ro&8191,X0=Ro>>>13,Po=os[6]|0,K0=Po&8191,bo=Po>>>13,ko=os[7]|0,W0=ko&8191,J0=ko>>>13,Ao=os[8]|0,H0=Ao&8191,go=Ao>>>13,Bo=os[9]|0,Q0=Bo&8191,wo=Bo>>>13;es.negative=na.negative^_a.negative,es.length=19,ss=Math.imul(a0,_0),ga=Math.imul(a0,T0),ga=ga+Math.imul(l0,_0)|0,as=Math.imul(l0,T0);var No=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(No>>>26)|0,No&=67108863,ss=Math.imul(b0,_0),ga=Math.imul(b0,T0),ga=ga+Math.imul(f0,_0)|0,as=Math.imul(f0,T0),ss=ss+Math.imul(a0,A0)|0,ga=ga+Math.imul(a0,U0)|0,ga=ga+Math.imul(l0,A0)|0,as=as+Math.imul(l0,U0)|0;var Oo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,ss=Math.imul(y0,_0),ga=Math.imul(y0,T0),ga=ga+Math.imul(t0,_0)|0,as=Math.imul(t0,T0),ss=ss+Math.imul(b0,A0)|0,ga=ga+Math.imul(b0,U0)|0,ga=ga+Math.imul(f0,A0)|0,as=as+Math.imul(f0,U0)|0,ss=ss+Math.imul(a0,L0)|0,ga=ga+Math.imul(a0,V0)|0,ga=ga+Math.imul(l0,L0)|0,as=as+Math.imul(l0,V0)|0;var jo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(jo>>>26)|0,jo&=67108863,ss=Math.imul(p0,_0),ga=Math.imul(p0,T0),ga=ga+Math.imul(E0,_0)|0,as=Math.imul(E0,T0),ss=ss+Math.imul(y0,A0)|0,ga=ga+Math.imul(y0,U0)|0,ga=ga+Math.imul(t0,A0)|0,as=as+Math.imul(t0,U0)|0,ss=ss+Math.imul(b0,L0)|0,ga=ga+Math.imul(b0,V0)|0,ga=ga+Math.imul(f0,L0)|0,as=as+Math.imul(f0,V0)|0,ss=ss+Math.imul(a0,G0)|0,ga=ga+Math.imul(a0,Z0)|0,ga=ga+Math.imul(l0,G0)|0,as=as+Math.imul(l0,Z0)|0;var Uo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,ss=Math.imul(C0,_0),ga=Math.imul(C0,T0),ga=ga+Math.imul($0,_0)|0,as=Math.imul($0,T0),ss=ss+Math.imul(p0,A0)|0,ga=ga+Math.imul(p0,U0)|0,ga=ga+Math.imul(E0,A0)|0,as=as+Math.imul(E0,U0)|0,ss=ss+Math.imul(y0,L0)|0,ga=ga+Math.imul(y0,V0)|0,ga=ga+Math.imul(t0,L0)|0,as=as+Math.imul(t0,V0)|0,ss=ss+Math.imul(b0,G0)|0,ga=ga+Math.imul(b0,Z0)|0,ga=ga+Math.imul(f0,G0)|0,as=as+Math.imul(f0,Z0)|0,ss=ss+Math.imul(a0,q0)|0,ga=ga+Math.imul(a0,Y0)|0,ga=ga+Math.imul(l0,q0)|0,as=as+Math.imul(l0,Y0)|0;var zo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(zo>>>26)|0,zo&=67108863,ss=Math.imul(P0,_0),ga=Math.imul(P0,T0),ga=ga+Math.imul(S0,_0)|0,as=Math.imul(S0,T0),ss=ss+Math.imul(C0,A0)|0,ga=ga+Math.imul(C0,U0)|0,ga=ga+Math.imul($0,A0)|0,as=as+Math.imul($0,U0)|0,ss=ss+Math.imul(p0,L0)|0,ga=ga+Math.imul(p0,V0)|0,ga=ga+Math.imul(E0,L0)|0,as=as+Math.imul(E0,V0)|0,ss=ss+Math.imul(y0,G0)|0,ga=ga+Math.imul(y0,Z0)|0,ga=ga+Math.imul(t0,G0)|0,as=as+Math.imul(t0,Z0)|0,ss=ss+Math.imul(b0,q0)|0,ga=ga+Math.imul(b0,Y0)|0,ga=ga+Math.imul(f0,q0)|0,as=as+Math.imul(f0,Y0)|0,ss=ss+Math.imul(a0,z0)|0,ga=ga+Math.imul(a0,X0)|0,ga=ga+Math.imul(l0,z0)|0,as=as+Math.imul(l0,X0)|0;var qo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(qo>>>26)|0,qo&=67108863,ss=Math.imul(O0,_0),ga=Math.imul(O0,T0),ga=ga+Math.imul(B0,_0)|0,as=Math.imul(B0,T0),ss=ss+Math.imul(P0,A0)|0,ga=ga+Math.imul(P0,U0)|0,ga=ga+Math.imul(S0,A0)|0,as=as+Math.imul(S0,U0)|0,ss=ss+Math.imul(C0,L0)|0,ga=ga+Math.imul(C0,V0)|0,ga=ga+Math.imul($0,L0)|0,as=as+Math.imul($0,V0)|0,ss=ss+Math.imul(p0,G0)|0,ga=ga+Math.imul(p0,Z0)|0,ga=ga+Math.imul(E0,G0)|0,as=as+Math.imul(E0,Z0)|0,ss=ss+Math.imul(y0,q0)|0,ga=ga+Math.imul(y0,Y0)|0,ga=ga+Math.imul(t0,q0)|0,as=as+Math.imul(t0,Y0)|0,ss=ss+Math.imul(b0,z0)|0,ga=ga+Math.imul(b0,X0)|0,ga=ga+Math.imul(f0,z0)|0,as=as+Math.imul(f0,X0)|0,ss=ss+Math.imul(a0,K0)|0,ga=ga+Math.imul(a0,bo)|0,ga=ga+Math.imul(l0,K0)|0,as=as+Math.imul(l0,bo)|0;var Fo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,ss=Math.imul(k0,_0),ga=Math.imul(k0,T0),ga=ga+Math.imul(D0,_0)|0,as=Math.imul(D0,T0),ss=ss+Math.imul(O0,A0)|0,ga=ga+Math.imul(O0,U0)|0,ga=ga+Math.imul(B0,A0)|0,as=as+Math.imul(B0,U0)|0,ss=ss+Math.imul(P0,L0)|0,ga=ga+Math.imul(P0,V0)|0,ga=ga+Math.imul(S0,L0)|0,as=as+Math.imul(S0,V0)|0,ss=ss+Math.imul(C0,G0)|0,ga=ga+Math.imul(C0,Z0)|0,ga=ga+Math.imul($0,G0)|0,as=as+Math.imul($0,Z0)|0,ss=ss+Math.imul(p0,q0)|0,ga=ga+Math.imul(p0,Y0)|0,ga=ga+Math.imul(E0,q0)|0,as=as+Math.imul(E0,Y0)|0,ss=ss+Math.imul(y0,z0)|0,ga=ga+Math.imul(y0,X0)|0,ga=ga+Math.imul(t0,z0)|0,as=as+Math.imul(t0,X0)|0,ss=ss+Math.imul(b0,K0)|0,ga=ga+Math.imul(b0,bo)|0,ga=ga+Math.imul(f0,K0)|0,as=as+Math.imul(f0,bo)|0,ss=ss+Math.imul(a0,W0)|0,ga=ga+Math.imul(a0,J0)|0,ga=ga+Math.imul(l0,W0)|0,as=as+Math.imul(l0,J0)|0;var Ko=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,ss=Math.imul(N0,_0),ga=Math.imul(N0,T0),ga=ga+Math.imul(F0,_0)|0,as=Math.imul(F0,T0),ss=ss+Math.imul(k0,A0)|0,ga=ga+Math.imul(k0,U0)|0,ga=ga+Math.imul(D0,A0)|0,as=as+Math.imul(D0,U0)|0,ss=ss+Math.imul(O0,L0)|0,ga=ga+Math.imul(O0,V0)|0,ga=ga+Math.imul(B0,L0)|0,as=as+Math.imul(B0,V0)|0,ss=ss+Math.imul(P0,G0)|0,ga=ga+Math.imul(P0,Z0)|0,ga=ga+Math.imul(S0,G0)|0,as=as+Math.imul(S0,Z0)|0,ss=ss+Math.imul(C0,q0)|0,ga=ga+Math.imul(C0,Y0)|0,ga=ga+Math.imul($0,q0)|0,as=as+Math.imul($0,Y0)|0,ss=ss+Math.imul(p0,z0)|0,ga=ga+Math.imul(p0,X0)|0,ga=ga+Math.imul(E0,z0)|0,as=as+Math.imul(E0,X0)|0,ss=ss+Math.imul(y0,K0)|0,ga=ga+Math.imul(y0,bo)|0,ga=ga+Math.imul(t0,K0)|0,as=as+Math.imul(t0,bo)|0,ss=ss+Math.imul(b0,W0)|0,ga=ga+Math.imul(b0,J0)|0,ga=ga+Math.imul(f0,W0)|0,as=as+Math.imul(f0,J0)|0,ss=ss+Math.imul(a0,H0)|0,ga=ga+Math.imul(a0,go)|0,ga=ga+Math.imul(l0,H0)|0,as=as+Math.imul(l0,go)|0;var Ho=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,ss=Math.imul(x0,_0),ga=Math.imul(x0,T0),ga=ga+Math.imul(u0,_0)|0,as=Math.imul(u0,T0),ss=ss+Math.imul(N0,A0)|0,ga=ga+Math.imul(N0,U0)|0,ga=ga+Math.imul(F0,A0)|0,as=as+Math.imul(F0,U0)|0,ss=ss+Math.imul(k0,L0)|0,ga=ga+Math.imul(k0,V0)|0,ga=ga+Math.imul(D0,L0)|0,as=as+Math.imul(D0,V0)|0,ss=ss+Math.imul(O0,G0)|0,ga=ga+Math.imul(O0,Z0)|0,ga=ga+Math.imul(B0,G0)|0,as=as+Math.imul(B0,Z0)|0,ss=ss+Math.imul(P0,q0)|0,ga=ga+Math.imul(P0,Y0)|0,ga=ga+Math.imul(S0,q0)|0,as=as+Math.imul(S0,Y0)|0,ss=ss+Math.imul(C0,z0)|0,ga=ga+Math.imul(C0,X0)|0,ga=ga+Math.imul($0,z0)|0,as=as+Math.imul($0,X0)|0,ss=ss+Math.imul(p0,K0)|0,ga=ga+Math.imul(p0,bo)|0,ga=ga+Math.imul(E0,K0)|0,as=as+Math.imul(E0,bo)|0,ss=ss+Math.imul(y0,W0)|0,ga=ga+Math.imul(y0,J0)|0,ga=ga+Math.imul(t0,W0)|0,as=as+Math.imul(t0,J0)|0,ss=ss+Math.imul(b0,H0)|0,ga=ga+Math.imul(b0,go)|0,ga=ga+Math.imul(f0,H0)|0,as=as+Math.imul(f0,go)|0,ss=ss+Math.imul(a0,Q0)|0,ga=ga+Math.imul(a0,wo)|0,ga=ga+Math.imul(l0,Q0)|0,as=as+Math.imul(l0,wo)|0;var Vo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,ss=Math.imul(x0,A0),ga=Math.imul(x0,U0),ga=ga+Math.imul(u0,A0)|0,as=Math.imul(u0,U0),ss=ss+Math.imul(N0,L0)|0,ga=ga+Math.imul(N0,V0)|0,ga=ga+Math.imul(F0,L0)|0,as=as+Math.imul(F0,V0)|0,ss=ss+Math.imul(k0,G0)|0,ga=ga+Math.imul(k0,Z0)|0,ga=ga+Math.imul(D0,G0)|0,as=as+Math.imul(D0,Z0)|0,ss=ss+Math.imul(O0,q0)|0,ga=ga+Math.imul(O0,Y0)|0,ga=ga+Math.imul(B0,q0)|0,as=as+Math.imul(B0,Y0)|0,ss=ss+Math.imul(P0,z0)|0,ga=ga+Math.imul(P0,X0)|0,ga=ga+Math.imul(S0,z0)|0,as=as+Math.imul(S0,X0)|0,ss=ss+Math.imul(C0,K0)|0,ga=ga+Math.imul(C0,bo)|0,ga=ga+Math.imul($0,K0)|0,as=as+Math.imul($0,bo)|0,ss=ss+Math.imul(p0,W0)|0,ga=ga+Math.imul(p0,J0)|0,ga=ga+Math.imul(E0,W0)|0,as=as+Math.imul(E0,J0)|0,ss=ss+Math.imul(y0,H0)|0,ga=ga+Math.imul(y0,go)|0,ga=ga+Math.imul(t0,H0)|0,as=as+Math.imul(t0,go)|0,ss=ss+Math.imul(b0,Q0)|0,ga=ga+Math.imul(b0,wo)|0,ga=ga+Math.imul(f0,Q0)|0,as=as+Math.imul(f0,wo)|0;var Go=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Go>>>26)|0,Go&=67108863,ss=Math.imul(x0,L0),ga=Math.imul(x0,V0),ga=ga+Math.imul(u0,L0)|0,as=Math.imul(u0,V0),ss=ss+Math.imul(N0,G0)|0,ga=ga+Math.imul(N0,Z0)|0,ga=ga+Math.imul(F0,G0)|0,as=as+Math.imul(F0,Z0)|0,ss=ss+Math.imul(k0,q0)|0,ga=ga+Math.imul(k0,Y0)|0,ga=ga+Math.imul(D0,q0)|0,as=as+Math.imul(D0,Y0)|0,ss=ss+Math.imul(O0,z0)|0,ga=ga+Math.imul(O0,X0)|0,ga=ga+Math.imul(B0,z0)|0,as=as+Math.imul(B0,X0)|0,ss=ss+Math.imul(P0,K0)|0,ga=ga+Math.imul(P0,bo)|0,ga=ga+Math.imul(S0,K0)|0,as=as+Math.imul(S0,bo)|0,ss=ss+Math.imul(C0,W0)|0,ga=ga+Math.imul(C0,J0)|0,ga=ga+Math.imul($0,W0)|0,as=as+Math.imul($0,J0)|0,ss=ss+Math.imul(p0,H0)|0,ga=ga+Math.imul(p0,go)|0,ga=ga+Math.imul(E0,H0)|0,as=as+Math.imul(E0,go)|0,ss=ss+Math.imul(y0,Q0)|0,ga=ga+Math.imul(y0,wo)|0,ga=ga+Math.imul(t0,Q0)|0,as=as+Math.imul(t0,wo)|0;var Zo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,ss=Math.imul(x0,G0),ga=Math.imul(x0,Z0),ga=ga+Math.imul(u0,G0)|0,as=Math.imul(u0,Z0),ss=ss+Math.imul(N0,q0)|0,ga=ga+Math.imul(N0,Y0)|0,ga=ga+Math.imul(F0,q0)|0,as=as+Math.imul(F0,Y0)|0,ss=ss+Math.imul(k0,z0)|0,ga=ga+Math.imul(k0,X0)|0,ga=ga+Math.imul(D0,z0)|0,as=as+Math.imul(D0,X0)|0,ss=ss+Math.imul(O0,K0)|0,ga=ga+Math.imul(O0,bo)|0,ga=ga+Math.imul(B0,K0)|0,as=as+Math.imul(B0,bo)|0,ss=ss+Math.imul(P0,W0)|0,ga=ga+Math.imul(P0,J0)|0,ga=ga+Math.imul(S0,W0)|0,as=as+Math.imul(S0,J0)|0,ss=ss+Math.imul(C0,H0)|0,ga=ga+Math.imul(C0,go)|0,ga=ga+Math.imul($0,H0)|0,as=as+Math.imul($0,go)|0,ss=ss+Math.imul(p0,Q0)|0,ga=ga+Math.imul(p0,wo)|0,ga=ga+Math.imul(E0,Q0)|0,as=as+Math.imul(E0,wo)|0;var Jo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Jo>>>26)|0,Jo&=67108863,ss=Math.imul(x0,q0),ga=Math.imul(x0,Y0),ga=ga+Math.imul(u0,q0)|0,as=Math.imul(u0,Y0),ss=ss+Math.imul(N0,z0)|0,ga=ga+Math.imul(N0,X0)|0,ga=ga+Math.imul(F0,z0)|0,as=as+Math.imul(F0,X0)|0,ss=ss+Math.imul(k0,K0)|0,ga=ga+Math.imul(k0,bo)|0,ga=ga+Math.imul(D0,K0)|0,as=as+Math.imul(D0,bo)|0,ss=ss+Math.imul(O0,W0)|0,ga=ga+Math.imul(O0,J0)|0,ga=ga+Math.imul(B0,W0)|0,as=as+Math.imul(B0,J0)|0,ss=ss+Math.imul(P0,H0)|0,ga=ga+Math.imul(P0,go)|0,ga=ga+Math.imul(S0,H0)|0,as=as+Math.imul(S0,go)|0,ss=ss+Math.imul(C0,Q0)|0,ga=ga+Math.imul(C0,wo)|0,ga=ga+Math.imul($0,Q0)|0,as=as+Math.imul($0,wo)|0;var Qo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,ss=Math.imul(x0,z0),ga=Math.imul(x0,X0),ga=ga+Math.imul(u0,z0)|0,as=Math.imul(u0,X0),ss=ss+Math.imul(N0,K0)|0,ga=ga+Math.imul(N0,bo)|0,ga=ga+Math.imul(F0,K0)|0,as=as+Math.imul(F0,bo)|0,ss=ss+Math.imul(k0,W0)|0,ga=ga+Math.imul(k0,J0)|0,ga=ga+Math.imul(D0,W0)|0,as=as+Math.imul(D0,J0)|0,ss=ss+Math.imul(O0,H0)|0,ga=ga+Math.imul(O0,go)|0,ga=ga+Math.imul(B0,H0)|0,as=as+Math.imul(B0,go)|0,ss=ss+Math.imul(P0,Q0)|0,ga=ga+Math.imul(P0,wo)|0,ga=ga+Math.imul(S0,Q0)|0,as=as+Math.imul(S0,wo)|0;var Xo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,ss=Math.imul(x0,K0),ga=Math.imul(x0,bo),ga=ga+Math.imul(u0,K0)|0,as=Math.imul(u0,bo),ss=ss+Math.imul(N0,W0)|0,ga=ga+Math.imul(N0,J0)|0,ga=ga+Math.imul(F0,W0)|0,as=as+Math.imul(F0,J0)|0,ss=ss+Math.imul(k0,H0)|0,ga=ga+Math.imul(k0,go)|0,ga=ga+Math.imul(D0,H0)|0,as=as+Math.imul(D0,go)|0,ss=ss+Math.imul(O0,Q0)|0,ga=ga+Math.imul(O0,wo)|0,ga=ga+Math.imul(B0,Q0)|0,as=as+Math.imul(B0,wo)|0;var Wo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,ss=Math.imul(x0,W0),ga=Math.imul(x0,J0),ga=ga+Math.imul(u0,W0)|0,as=Math.imul(u0,J0),ss=ss+Math.imul(N0,H0)|0,ga=ga+Math.imul(N0,go)|0,ga=ga+Math.imul(F0,H0)|0,as=as+Math.imul(F0,go)|0,ss=ss+Math.imul(k0,Q0)|0,ga=ga+Math.imul(k0,wo)|0,ga=ga+Math.imul(D0,Q0)|0,as=as+Math.imul(D0,wo)|0;var _f=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(_f>>>26)|0,_f&=67108863,ss=Math.imul(x0,H0),ga=Math.imul(x0,go),ga=ga+Math.imul(u0,H0)|0,as=Math.imul(u0,go),ss=ss+Math.imul(N0,Q0)|0,ga=ga+Math.imul(N0,wo)|0,ga=ga+Math.imul(F0,Q0)|0,as=as+Math.imul(F0,wo)|0;var _c=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(_c>>>26)|0,_c&=67108863,ss=Math.imul(x0,Q0),ga=Math.imul(x0,wo),ga=ga+Math.imul(u0,Q0)|0,as=Math.imul(u0,wo);var yl=(hs+ss|0)+((ga&8191)<<13)|0;return hs=(as+(ga>>>13)|0)+(yl>>>26)|0,yl&=67108863,ls[0]=No,ls[1]=Oo,ls[2]=jo,ls[3]=Uo,ls[4]=zo,ls[5]=qo,ls[6]=Fo,ls[7]=Ko,ls[8]=Ho,ls[9]=Vo,ls[10]=Go,ls[11]=Zo,ls[12]=Jo,ls[13]=Qo,ls[14]=Xo,ls[15]=Wo,ls[16]=_f,ls[17]=_c,ls[18]=yl,hs!==0&&(ls[19]=hs,es.length++),es};Math.imul||(bs=ps);function e0(ds,na,_a){_a.negative=na.negative^ds.negative,_a.length=ds.length+na.length;for(var es=0,ns=0,os=0;os<_a.length-1;os++){var ls=ns;ns=0;for(var hs=es&67108863,ss=Math.min(os,na.length-1),ga=Math.max(0,os-ds.length+1);ga<=ss;ga++){var as=os-ga,r0=ds.words[as]|0,a0=na.words[ga]|0,l0=r0*a0,s0=l0&67108863;ls=ls+(l0/67108864|0)|0,s0=s0+hs|0,hs=s0&67108863,ls=ls+(s0>>>26)|0,ns+=ls>>>26,ls&=67108863}_a.words[os]=hs,es=ls,ls=ns}return es!==0?_a.words[os]=es:_a.length--,_a.strip()}function gs(ds,na,_a){var es=new Ds;return es.mulp(ds,na,_a)}An.prototype.mulTo=function(na,_a){var es,ns=this.length+na.length;return this.length===10&&na.length===10?es=bs(this,na,_a):ns<63?es=ps(this,na,_a):ns<1024?es=e0(this,na,_a):es=gs(this,na,_a),es};function Ds(ds,na){this.x=ds,this.y=na}Ds.prototype.makeRBT=function(na){for(var _a=new Array(na),es=An.prototype._countBits(na)-1,ns=0;ns<na;ns++)_a[ns]=this.revBin(ns,es,na);return _a},Ds.prototype.revBin=function(na,_a,es){if(na===0||na===es-1)return na;for(var ns=0,os=0;os<_a;os++)ns|=(na&1)<<_a-os-1,na>>=1;return ns},Ds.prototype.permute=function(na,_a,es,ns,os,ls){for(var hs=0;hs<ls;hs++)ns[hs]=_a[na[hs]],os[hs]=es[na[hs]]},Ds.prototype.transform=function(na,_a,es,ns,os,ls){this.permute(ls,na,_a,es,ns,os);for(var hs=1;hs<os;hs<<=1)for(var ss=hs<<1,ga=Math.cos(2*Math.PI/ss),as=Math.sin(2*Math.PI/ss),r0=0;r0<os;r0+=ss)for(var a0=ga,l0=as,s0=0;s0<hs;s0++){var b0=es[r0+s0],f0=ns[r0+s0],m0=es[r0+s0+hs],y0=ns[r0+s0+hs],t0=a0*m0-l0*y0;y0=a0*y0+l0*m0,m0=t0,es[r0+s0]=b0+m0,ns[r0+s0]=f0+y0,es[r0+s0+hs]=b0-m0,ns[r0+s0+hs]=f0-y0,s0!==ss&&(t0=ga*a0-as*l0,l0=ga*l0+as*a0,a0=t0)}},Ds.prototype.guessLen13b=function(na,_a){var es=Math.max(_a,na)|1,ns=es&1,os=0;for(es=es/2|0;es;es=es>>>1)os++;return 1<<os+1+ns},Ds.prototype.conjugate=function(na,_a,es){if(!(es<=1))for(var ns=0;ns<es/2;ns++){var os=na[ns];na[ns]=na[es-ns-1],na[es-ns-1]=os,os=_a[ns],_a[ns]=-_a[es-ns-1],_a[es-ns-1]=-os}},Ds.prototype.normalize13b=function(na,_a){for(var es=0,ns=0;ns<_a/2;ns++){var os=Math.round(na[2*ns+1]/_a)*8192+Math.round(na[2*ns]/_a)+es;na[ns]=os&67108863,os<67108864?es=0:es=os/67108864|0}return na},Ds.prototype.convert13b=function(na,_a,es,ns){for(var os=0,ls=0;ls<_a;ls++)os=os+(na[ls]|0),es[2*ls]=os&8191,os=os>>>13,es[2*ls+1]=os&8191,os=os>>>13;for(ls=2*_a;ls<ns;++ls)es[ls]=0;Cn(os===0),Cn((os&-8192)===0)},Ds.prototype.stub=function(na){for(var _a=new Array(na),es=0;es<na;es++)_a[es]=0;return _a},Ds.prototype.mulp=function(na,_a,es){var ns=2*this.guessLen13b(na.length,_a.length),os=this.makeRBT(ns),ls=this.stub(ns),hs=new Array(ns),ss=new Array(ns),ga=new Array(ns),as=new Array(ns),r0=new Array(ns),a0=new Array(ns),l0=es.words;l0.length=ns,this.convert13b(na.words,na.length,hs,ns),this.convert13b(_a.words,_a.length,as,ns),this.transform(hs,ls,ss,ga,ns,os),this.transform(as,ls,r0,a0,ns,os);for(var s0=0;s0<ns;s0++){var b0=ss[s0]*r0[s0]-ga[s0]*a0[s0];ga[s0]=ss[s0]*a0[s0]+ga[s0]*r0[s0],ss[s0]=b0}return this.conjugate(ss,ga,ns),this.transform(ss,ga,l0,ls,ns,os),this.conjugate(l0,ls,ns),this.normalize13b(l0,ns),es.negative=na.negative^_a.negative,es.length=na.length+_a.length,es.strip()},An.prototype.mul=function(na){var _a=new An(null);return _a.words=new Array(this.length+na.length),this.mulTo(na,_a)},An.prototype.mulf=function(na){var _a=new An(null);return _a.words=new Array(this.length+na.length),gs(this,na,_a)},An.prototype.imul=function(na){return this.clone().mulTo(na,this)},An.prototype.imuln=function(na){Cn(typeof na=="number"),Cn(na<67108864);for(var _a=0,es=0;es<this.length;es++){var ns=(this.words[es]|0)*na,os=(ns&67108863)+(_a&67108863);_a>>=26,_a+=ns/67108864|0,_a+=os>>>26,this.words[es]=os&67108863}return _a!==0&&(this.words[es]=_a,this.length++),this},An.prototype.muln=function(na){return this.clone().imuln(na)},An.prototype.sqr=function(){return this.mul(this)},An.prototype.isqr=function(){return this.imul(this.clone())},An.prototype.pow=function(na){var _a=us(na);if(_a.length===0)return new An(1);for(var es=this,ns=0;ns<_a.length&&_a[ns]===0;ns++,es=es.sqr());if(++ns<_a.length)for(var os=es.sqr();ns<_a.length;ns++,os=os.sqr())_a[ns]!==0&&(es=es.mul(os));return es},An.prototype.iushln=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26,ns=67108863>>>26-_a<<26-_a,os;if(_a!==0){var ls=0;for(os=0;os<this.length;os++){var hs=this.words[os]&ns,ss=(this.words[os]|0)-hs<<_a;this.words[os]=ss|ls,ls=hs>>>26-_a}ls&&(this.words[os]=ls,this.length++)}if(es!==0){for(os=this.length-1;os>=0;os--)this.words[os+es]=this.words[os];for(os=0;os<es;os++)this.words[os]=0;this.length+=es}return this.strip()},An.prototype.ishln=function(na){return Cn(this.negative===0),this.iushln(na)},An.prototype.iushrn=function(na,_a,es){Cn(typeof na=="number"&&na>=0);var ns;_a?ns=(_a-_a%26)/26:ns=0;var os=na%26,ls=Math.min((na-os)/26,this.length),hs=67108863^67108863>>>os<<os,ss=es;if(ns-=ls,ns=Math.max(0,ns),ss){for(var ga=0;ga<ls;ga++)ss.words[ga]=this.words[ga];ss.length=ls}if(ls!==0)if(this.length>ls)for(this.length-=ls,ga=0;ga<this.length;ga++)this.words[ga]=this.words[ga+ls];else this.words[0]=0,this.length=1;var as=0;for(ga=this.length-1;ga>=0&&(as!==0||ga>=ns);ga--){var r0=this.words[ga]|0;this.words[ga]=as<<26-os|r0>>>os,as=r0&hs}return ss&&as!==0&&(ss.words[ss.length++]=as),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},An.prototype.ishrn=function(na,_a,es){return Cn(this.negative===0),this.iushrn(na,_a,es)},An.prototype.shln=function(na){return this.clone().ishln(na)},An.prototype.ushln=function(na){return this.clone().iushln(na)},An.prototype.shrn=function(na){return this.clone().ishrn(na)},An.prototype.ushrn=function(na){return this.clone().iushrn(na)},An.prototype.testn=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26,ns=1<<_a;if(this.length<=es)return!1;var os=this.words[es];return!!(os&ns)},An.prototype.imaskn=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26;if(Cn(this.negative===0,"imaskn works only with positive numbers"),this.length<=es)return this;if(_a!==0&&es++,this.length=Math.min(es,this.length),_a!==0){var ns=67108863^67108863>>>_a<<_a;this.words[this.length-1]&=ns}return this.strip()},An.prototype.maskn=function(na){return this.clone().imaskn(na)},An.prototype.iaddn=function(na){return Cn(typeof na=="number"),Cn(na<67108864),na<0?this.isubn(-na):this.negative!==0?this.length===1&&(this.words[0]|0)<na?(this.words[0]=na-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(na),this.negative=1,this):this._iaddn(na)},An.prototype._iaddn=function(na){this.words[0]+=na;for(var _a=0;_a<this.length&&this.words[_a]>=67108864;_a++)this.words[_a]-=67108864,_a===this.length-1?this.words[_a+1]=1:this.words[_a+1]++;return this.length=Math.max(this.length,_a+1),this},An.prototype.isubn=function(na){if(Cn(typeof na=="number"),Cn(na<67108864),na<0)return this.iaddn(-na);if(this.negative!==0)return this.negative=0,this.iaddn(na),this.negative=1,this;if(this.words[0]-=na,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _a=0;_a<this.length&&this.words[_a]<0;_a++)this.words[_a]+=67108864,this.words[_a+1]-=1;return this.strip()},An.prototype.addn=function(na){return this.clone().iaddn(na)},An.prototype.subn=function(na){return this.clone().isubn(na)},An.prototype.iabs=function(){return this.negative=0,this},An.prototype.abs=function(){return this.clone().iabs()},An.prototype._ishlnsubmul=function(na,_a,es){var ns=na.length+es,os;this._expand(ns);var ls,hs=0;for(os=0;os<na.length;os++){ls=(this.words[os+es]|0)+hs;var ss=(na.words[os]|0)*_a;ls-=ss&67108863,hs=(ls>>26)-(ss/67108864|0),this.words[os+es]=ls&67108863}for(;os<this.length-es;os++)ls=(this.words[os+es]|0)+hs,hs=ls>>26,this.words[os+es]=ls&67108863;if(hs===0)return this.strip();for(Cn(hs===-1),hs=0,os=0;os<this.length;os++)ls=-(this.words[os]|0)+hs,hs=ls>>26,this.words[os]=ls&67108863;return this.negative=1,this.strip()},An.prototype._wordDiv=function(na,_a){var es=this.length-na.length,ns=this.clone(),os=na,ls=os.words[os.length-1]|0,hs=this._countBits(ls);es=26-hs,es!==0&&(os=os.ushln(es),ns.iushln(es),ls=os.words[os.length-1]|0);var ss=ns.length-os.length,ga;if(_a!=="mod"){ga=new An(null),ga.length=ss+1,ga.words=new Array(ga.length);for(var as=0;as<ga.length;as++)ga.words[as]=0}var r0=ns.clone()._ishlnsubmul(os,1,ss);r0.negative===0&&(ns=r0,ga&&(ga.words[ss]=1));for(var a0=ss-1;a0>=0;a0--){var l0=(ns.words[os.length+a0]|0)*67108864+(ns.words[os.length+a0-1]|0);for(l0=Math.min(l0/ls|0,67108863),ns._ishlnsubmul(os,l0,a0);ns.negative!==0;)l0--,ns.negative=0,ns._ishlnsubmul(os,1,a0),ns.isZero()||(ns.negative^=1);ga&&(ga.words[a0]=l0)}return ga&&ga.strip(),ns.strip(),_a!=="div"&&es!==0&&ns.iushrn(es),{div:ga||null,mod:ns}},An.prototype.divmod=function(na,_a,es){if(Cn(!na.isZero()),this.isZero())return{div:new An(0),mod:new An(0)};var ns,os,ls;return this.negative!==0&&na.negative===0?(ls=this.neg().divmod(na,_a),_a!=="mod"&&(ns=ls.div.neg()),_a!=="div"&&(os=ls.mod.neg(),es&&os.negative!==0&&os.iadd(na)),{div:ns,mod:os}):this.negative===0&&na.negative!==0?(ls=this.divmod(na.neg(),_a),_a!=="mod"&&(ns=ls.div.neg()),{div:ns,mod:ls.mod}):this.negative&na.negative?(ls=this.neg().divmod(na.neg(),_a),_a!=="div"&&(os=ls.mod.neg(),es&&os.negative!==0&&os.isub(na)),{div:ls.div,mod:os}):na.length>this.length||this.cmp(na)<0?{div:new An(0),mod:this}:na.length===1?_a==="div"?{div:this.divn(na.words[0]),mod:null}:_a==="mod"?{div:null,mod:new An(this.modn(na.words[0]))}:{div:this.divn(na.words[0]),mod:new An(this.modn(na.words[0]))}:this._wordDiv(na,_a)},An.prototype.div=function(na){return this.divmod(na,"div",!1).div},An.prototype.mod=function(na){return this.divmod(na,"mod",!1).mod},An.prototype.umod=function(na){return this.divmod(na,"mod",!0).mod},An.prototype.divRound=function(na){var _a=this.divmod(na);if(_a.mod.isZero())return _a.div;var es=_a.div.negative!==0?_a.mod.isub(na):_a.mod,ns=na.ushrn(1),os=na.andln(1),ls=es.cmp(ns);return ls<0||os===1&&ls===0?_a.div:_a.div.negative!==0?_a.div.isubn(1):_a.div.iaddn(1)},An.prototype.modn=function(na){Cn(na<=67108863);for(var _a=(1<<26)%na,es=0,ns=this.length-1;ns>=0;ns--)es=(_a*es+(this.words[ns]|0))%na;return es},An.prototype.idivn=function(na){Cn(na<=67108863);for(var _a=0,es=this.length-1;es>=0;es--){var ns=(this.words[es]|0)+_a*67108864;this.words[es]=ns/na|0,_a=ns%na}return this.strip()},An.prototype.divn=function(na){return this.clone().idivn(na)},An.prototype.egcd=function(na){Cn(na.negative===0),Cn(!na.isZero());var _a=this,es=na.clone();_a.negative!==0?_a=_a.umod(na):_a=_a.clone();for(var ns=new An(1),os=new An(0),ls=new An(0),hs=new An(1),ss=0;_a.isEven()&&es.isEven();)_a.iushrn(1),es.iushrn(1),++ss;for(var ga=es.clone(),as=_a.clone();!_a.isZero();){for(var r0=0,a0=1;!(_a.words[0]&a0)&&r0<26;++r0,a0<<=1);if(r0>0)for(_a.iushrn(r0);r0-- >0;)(ns.isOdd()||os.isOdd())&&(ns.iadd(ga),os.isub(as)),ns.iushrn(1),os.iushrn(1);for(var l0=0,s0=1;!(es.words[0]&s0)&&l0<26;++l0,s0<<=1);if(l0>0)for(es.iushrn(l0);l0-- >0;)(ls.isOdd()||hs.isOdd())&&(ls.iadd(ga),hs.isub(as)),ls.iushrn(1),hs.iushrn(1);_a.cmp(es)>=0?(_a.isub(es),ns.isub(ls),os.isub(hs)):(es.isub(_a),ls.isub(ns),hs.isub(os))}return{a:ls,b:hs,gcd:es.iushln(ss)}},An.prototype._invmp=function(na){Cn(na.negative===0),Cn(!na.isZero());var _a=this,es=na.clone();_a.negative!==0?_a=_a.umod(na):_a=_a.clone();for(var ns=new An(1),os=new An(0),ls=es.clone();_a.cmpn(1)>0&&es.cmpn(1)>0;){for(var hs=0,ss=1;!(_a.words[0]&ss)&&hs<26;++hs,ss<<=1);if(hs>0)for(_a.iushrn(hs);hs-- >0;)ns.isOdd()&&ns.iadd(ls),ns.iushrn(1);for(var ga=0,as=1;!(es.words[0]&as)&&ga<26;++ga,as<<=1);if(ga>0)for(es.iushrn(ga);ga-- >0;)os.isOdd()&&os.iadd(ls),os.iushrn(1);_a.cmp(es)>=0?(_a.isub(es),ns.isub(os)):(es.isub(_a),os.isub(ns))}var r0;return _a.cmpn(1)===0?r0=ns:r0=os,r0.cmpn(0)<0&&r0.iadd(na),r0},An.prototype.gcd=function(na){if(this.isZero())return na.abs();if(na.isZero())return this.abs();var _a=this.clone(),es=na.clone();_a.negative=0,es.negative=0;for(var ns=0;_a.isEven()&&es.isEven();ns++)_a.iushrn(1),es.iushrn(1);do{for(;_a.isEven();)_a.iushrn(1);for(;es.isEven();)es.iushrn(1);var os=_a.cmp(es);if(os<0){var ls=_a;_a=es,es=ls}else if(os===0||es.cmpn(1)===0)break;_a.isub(es)}while(!0);return es.iushln(ns)},An.prototype.invm=function(na){return this.egcd(na).a.umod(na)},An.prototype.isEven=function(){return(this.words[0]&1)===0},An.prototype.isOdd=function(){return(this.words[0]&1)===1},An.prototype.andln=function(na){return this.words[0]&na},An.prototype.bincn=function(na){Cn(typeof na=="number");var _a=na%26,es=(na-_a)/26,ns=1<<_a;if(this.length<=es)return this._expand(es+1),this.words[es]|=ns,this;for(var os=ns,ls=es;os!==0&&ls<this.length;ls++){var hs=this.words[ls]|0;hs+=os,os=hs>>>26,hs&=67108863,this.words[ls]=hs}return os!==0&&(this.words[ls]=os,this.length++),this},An.prototype.isZero=function(){return this.length===1&&this.words[0]===0},An.prototype.cmpn=function(na){var _a=na<0;if(this.negative!==0&&!_a)return-1;if(this.negative===0&&_a)return 1;this.strip();var es;if(this.length>1)es=1;else{_a&&(na=-na),Cn(na<=67108863,"Number is too big");var ns=this.words[0]|0;es=ns===na?0:ns<na?-1:1}return this.negative!==0?-es|0:es},An.prototype.cmp=function(na){if(this.negative!==0&&na.negative===0)return-1;if(this.negative===0&&na.negative!==0)return 1;var _a=this.ucmp(na);return this.negative!==0?-_a|0:_a},An.prototype.ucmp=function(na){if(this.length>na.length)return 1;if(this.length<na.length)return-1;for(var _a=0,es=this.length-1;es>=0;es--){var ns=this.words[es]|0,os=na.words[es]|0;if(ns!==os){ns<os?_a=-1:ns>os&&(_a=1);break}}return _a},An.prototype.gtn=function(na){return this.cmpn(na)===1},An.prototype.gt=function(na){return this.cmp(na)===1},An.prototype.gten=function(na){return this.cmpn(na)>=0},An.prototype.gte=function(na){return this.cmp(na)>=0},An.prototype.ltn=function(na){return this.cmpn(na)===-1},An.prototype.lt=function(na){return this.cmp(na)===-1},An.prototype.lten=function(na){return this.cmpn(na)<=0},An.prototype.lte=function(na){return this.cmp(na)<=0},An.prototype.eqn=function(na){return this.cmpn(na)===0},An.prototype.eq=function(na){return this.cmp(na)===0},An.red=function(na){return new w0(na)},An.prototype.toRed=function(na){return Cn(!this.red,"Already a number in reduction context"),Cn(this.negative===0,"red works only with positives"),na.convertTo(this)._forceRed(na)},An.prototype.fromRed=function(){return Cn(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},An.prototype._forceRed=function(na){return this.red=na,this},An.prototype.forceRed=function(na){return Cn(!this.red,"Already a number in reduction context"),this._forceRed(na)},An.prototype.redAdd=function(na){return Cn(this.red,"redAdd works only with red numbers"),this.red.add(this,na)},An.prototype.redIAdd=function(na){return Cn(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,na)},An.prototype.redSub=function(na){return Cn(this.red,"redSub works only with red numbers"),this.red.sub(this,na)},An.prototype.redISub=function(na){return Cn(this.red,"redISub works only with red numbers"),this.red.isub(this,na)},An.prototype.redShl=function(na){return Cn(this.red,"redShl works only with red numbers"),this.red.shl(this,na)},An.prototype.redMul=function(na){return Cn(this.red,"redMul works only with red numbers"),this.red._verify2(this,na),this.red.mul(this,na)},An.prototype.redIMul=function(na){return Cn(this.red,"redMul works only with red numbers"),this.red._verify2(this,na),this.red.imul(this,na)},An.prototype.redSqr=function(){return Cn(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},An.prototype.redISqr=function(){return Cn(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},An.prototype.redSqrt=function(){return Cn(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},An.prototype.redInvm=function(){return Cn(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},An.prototype.redNeg=function(){return Cn(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},An.prototype.redPow=function(na){return Cn(this.red&&!na.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,na)};var i0={k256:null,p224:null,p192:null,p25519:null};function n0(ds,na){this.name=ds,this.p=new An(na,16),this.n=this.p.bitLength(),this.k=new An(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}n0.prototype._tmp=function(){var na=new An(null);return na.words=new Array(Math.ceil(this.n/13)),na},n0.prototype.ireduce=function(na){var _a=na,es;do this.split(_a,this.tmp),_a=this.imulK(_a),_a=_a.iadd(this.tmp),es=_a.bitLength();while(es>this.n);var ns=es<this.n?-1:_a.ucmp(this.p);return ns===0?(_a.words[0]=0,_a.length=1):ns>0?_a.isub(this.p):_a.strip!==void 0?_a.strip():_a._strip(),_a},n0.prototype.split=function(na,_a){na.iushrn(this.n,0,_a)},n0.prototype.imulK=function(na){return na.imul(this.k)};function c0(){n0.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}_i(c0,n0),c0.prototype.split=function(na,_a){for(var es=4194303,ns=Math.min(na.length,9),os=0;os<ns;os++)_a.words[os]=na.words[os];if(_a.length=ns,na.length<=9){na.words[0]=0,na.length=1;return}var ls=na.words[9];for(_a.words[_a.length++]=ls&es,os=10;os<na.length;os++){var hs=na.words[os]|0;na.words[os-10]=(hs&es)<<4|ls>>>22,ls=hs}ls>>>=22,na.words[os-10]=ls,ls===0&&na.length>10?na.length-=10:na.length-=9},c0.prototype.imulK=function(na){na.words[na.length]=0,na.words[na.length+1]=0,na.length+=2;for(var _a=0,es=0;es<na.length;es++){var ns=na.words[es]|0;_a+=ns*977,na.words[es]=_a&67108863,_a=ns*64+(_a/67108864|0)}return na.words[na.length-1]===0&&(na.length--,na.words[na.length-1]===0&&na.length--),na};function d0(){n0.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}_i(d0,n0);function o0(){n0.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}_i(o0,n0);function g0(){n0.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}_i(g0,n0),g0.prototype.imulK=function(na){for(var _a=0,es=0;es<na.length;es++){var ns=(na.words[es]|0)*19+_a,os=ns&67108863;ns>>>=26,na.words[es]=os,_a=ns}return _a!==0&&(na.words[na.length++]=_a),na},An._prime=function(na){if(i0[na])return i0[na];var _a;if(na==="k256")_a=new c0;else if(na==="p224")_a=new d0;else if(na==="p192")_a=new o0;else if(na==="p25519")_a=new g0;else throw new Error("Unknown prime "+na);return i0[na]=_a,_a};function w0(ds){if(typeof ds=="string"){var na=An._prime(ds);this.m=na.p,this.prime=na}else Cn(ds.gtn(1),"modulus must be greater than 1"),this.m=ds,this.prime=null}w0.prototype._verify1=function(na){Cn(na.negative===0,"red works only with positives"),Cn(na.red,"red works only with red numbers")},w0.prototype._verify2=function(na,_a){Cn((na.negative|_a.negative)===0,"red works only with positives"),Cn(na.red&&na.red===_a.red,"red works only with red numbers")},w0.prototype.imod=function(na){return this.prime?this.prime.ireduce(na)._forceRed(this):na.umod(this.m)._forceRed(this)},w0.prototype.neg=function(na){return na.isZero()?na.clone():this.m.sub(na)._forceRed(this)},w0.prototype.add=function(na,_a){this._verify2(na,_a);var es=na.add(_a);return es.cmp(this.m)>=0&&es.isub(this.m),es._forceRed(this)},w0.prototype.iadd=function(na,_a){this._verify2(na,_a);var es=na.iadd(_a);return es.cmp(this.m)>=0&&es.isub(this.m),es},w0.prototype.sub=function(na,_a){this._verify2(na,_a);var es=na.sub(_a);return es.cmpn(0)<0&&es.iadd(this.m),es._forceRed(this)},w0.prototype.isub=function(na,_a){this._verify2(na,_a);var es=na.isub(_a);return es.cmpn(0)<0&&es.iadd(this.m),es},w0.prototype.shl=function(na,_a){return this._verify1(na),this.imod(na.ushln(_a))},w0.prototype.imul=function(na,_a){return this._verify2(na,_a),this.imod(na.imul(_a))},w0.prototype.mul=function(na,_a){return this._verify2(na,_a),this.imod(na.mul(_a))},w0.prototype.isqr=function(na){return this.imul(na,na.clone())},w0.prototype.sqr=function(na){return this.mul(na,na)},w0.prototype.sqrt=function(na){if(na.isZero())return na.clone();var _a=this.m.andln(3);if(Cn(_a%2===1),_a===3){var es=this.m.add(new An(1)).iushrn(2);return this.pow(na,es)}for(var ns=this.m.subn(1),os=0;!ns.isZero()&&ns.andln(1)===0;)os++,ns.iushrn(1);Cn(!ns.isZero());var ls=new An(1).toRed(this),hs=ls.redNeg(),ss=this.m.subn(1).iushrn(1),ga=this.m.bitLength();for(ga=new An(2*ga*ga).toRed(this);this.pow(ga,ss).cmp(hs)!==0;)ga.redIAdd(hs);for(var as=this.pow(ga,ns),r0=this.pow(na,ns.addn(1).iushrn(1)),a0=this.pow(na,ns),l0=os;a0.cmp(ls)!==0;){for(var s0=a0,b0=0;s0.cmp(ls)!==0;b0++)s0=s0.redSqr();Cn(b0<l0);var f0=this.pow(as,new An(1).iushln(l0-b0-1));r0=r0.redMul(f0),as=f0.redSqr(),a0=a0.redMul(as),l0=b0}return r0},w0.prototype.invm=function(na){var _a=na._invmp(this.m);return _a.negative!==0?(_a.negative=0,this.imod(_a).redNeg()):this.imod(_a)},w0.prototype.pow=function(na,_a){if(_a.isZero())return new An(1).toRed(this);if(_a.cmpn(1)===0)return na.clone();var es=4,ns=new Array(1<<es);ns[0]=new An(1).toRed(this),ns[1]=na;for(var os=2;os<ns.length;os++)ns[os]=this.mul(ns[os-1],na);var ls=ns[0],hs=0,ss=0,ga=_a.bitLength()%26;for(ga===0&&(ga=26),os=_a.length-1;os>=0;os--){for(var as=_a.words[os],r0=ga-1;r0>=0;r0--){var a0=as>>r0&1;if(ls!==ns[0]&&(ls=this.sqr(ls)),a0===0&&hs===0){ss=0;continue}hs<<=1,hs|=a0,ss++,!(ss!==es&&(os!==0||r0!==0))&&(ls=this.mul(ls,ns[hs]),ss=0,hs=0)}ga=26}return ls},w0.prototype.convertTo=function(na){var _a=na.umod(this.m);return _a===na?_a.clone():_a},w0.prototype.convertFrom=function(na){var _a=na.clone();return _a.red=null,_a},An.mont=function(na){return new M0(na)};function M0(ds){w0.call(this,ds),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new An(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_i(M0,w0),M0.prototype.convertTo=function(na){return this.imod(na.ushln(this.shift))},M0.prototype.convertFrom=function(na){var _a=this.imod(na.mul(this.rinv));return _a.red=null,_a},M0.prototype.imul=function(na,_a){if(na.isZero()||_a.isZero())return na.words[0]=0,na.length=1,na;var es=na.imul(_a),ns=es.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),os=es.isub(ns).iushrn(this.shift),ls=os;return os.cmp(this.m)>=0?ls=os.isub(this.m):os.cmpn(0)<0&&(ls=os.iadd(this.m)),ls._forceRed(this)},M0.prototype.mul=function(na,_a){if(na.isZero()||_a.isZero())return new An(0)._forceRed(this);var es=na.mul(_a),ns=es.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),os=es.isub(ns).iushrn(this.shift),ls=os;return os.cmp(this.m)>=0?ls=os.isub(this.m):os.cmpn(0)<0&&(ls=os.iadd(this.m)),ls._forceRed(this)},M0.prototype.invm=function(na){var _a=this.imod(na._invmp(this.m).mul(this.r2));return _a._forceRed(this)}})(vn,commonjsGlobal)})(bn$4);var bnExports$1=bn$4.exports;(function(vn){var fn=vn,En=bnExports$1,Cn=minimalisticAssert$1,_i=utils$p;fn.assert=Cn,fn.toArray=_i.toArray,fn.zero2=_i.zero2,fn.toHex=_i.toHex,fn.encode=_i.encode;function An(ts,is,cs){var us=new Array(Math.max(ts.bitLength(),cs)+1),ps;for(ps=0;ps<us.length;ps+=1)us[ps]=0;var bs=1<<is+1,e0=ts.clone();for(ps=0;ps<us.length;ps++){var gs,Ds=e0.andln(bs-1);e0.isOdd()?(Ds>(bs>>1)-1?gs=(bs>>1)-Ds:gs=Ds,e0.isubn(gs)):gs=0,us[ps]=gs,e0.iushrn(1)}return us}fn.getNAF=An;function ba(ts,is){var cs=[[],[]];ts=ts.clone(),is=is.clone();for(var us=0,ps=0,bs;ts.cmpn(-us)>0||is.cmpn(-ps)>0;){var e0=ts.andln(3)+us&3,gs=is.andln(3)+ps&3;e0===3&&(e0=-1),gs===3&&(gs=-1);var Ds;e0&1?(bs=ts.andln(7)+us&7,(bs===3||bs===5)&&gs===2?Ds=-e0:Ds=e0):Ds=0,cs[0].push(Ds);var i0;gs&1?(bs=is.andln(7)+ps&7,(bs===3||bs===5)&&e0===2?i0=-gs:i0=gs):i0=0,cs[1].push(i0),2*us===Ds+1&&(us=1-us),2*ps===i0+1&&(ps=1-ps),ts.iushrn(1),is.iushrn(1)}return cs}fn.getJSF=ba;function xa(ts,is,cs){var us="_"+is;ts.prototype[is]=function(){return this[us]!==void 0?this[us]:this[us]=cs.call(this)}}fn.cachedProperty=xa;function $a(ts){return typeof ts=="string"?fn.toArray(ts,"hex"):ts}fn.parseBytes=$a;function rs(ts){return new En(ts,"hex","le")}fn.intFromLE=rs})(utils$n);var curve$1={},BN$f=bnExports$1,utils$m=utils$n,getNAF$1=utils$m.getNAF,getJSF$1=utils$m.getJSF,assert$h=utils$m.assert;function BaseCurve$1(vn,fn){this.type=vn,this.p=new BN$f(fn.p,16),this.red=fn.prime?BN$f.red(fn.prime):BN$f.mont(this.p),this.zero=new BN$f(0).toRed(this.red),this.one=new BN$f(1).toRed(this.red),this.two=new BN$f(2).toRed(this.red),this.n=fn.n&&new BN$f(fn.n,16),this.g=fn.g&&this.pointFromJSON(fn.g,fn.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var En=this.n&&this.p.div(this.n);!En||En.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$1=BaseCurve$1;BaseCurve$1.prototype.point=function vn(){throw new Error("Not implemented")};BaseCurve$1.prototype.validate=function vn(){throw new Error("Not implemented")};BaseCurve$1.prototype._fixedNafMul=function vn(fn,En){assert$h(fn.precomputed);var Cn=fn._getDoubles(),_i=getNAF$1(En,1,this._bitLength),An=(1<<Cn.step+1)-(Cn.step%2===0?2:1);An/=3;var ba=[],xa,$a;for(xa=0;xa<_i.length;xa+=Cn.step){$a=0;for(var rs=xa+Cn.step-1;rs>=xa;rs--)$a=($a<<1)+_i[rs];ba.push($a)}for(var ts=this.jpoint(null,null,null),is=this.jpoint(null,null,null),cs=An;cs>0;cs--){for(xa=0;xa<ba.length;xa++)$a=ba[xa],$a===cs?is=is.mixedAdd(Cn.points[xa]):$a===-cs&&(is=is.mixedAdd(Cn.points[xa].neg()));ts=ts.add(is)}return ts.toP()};BaseCurve$1.prototype._wnafMul=function vn(fn,En){var Cn=4,_i=fn._getNAFPoints(Cn);Cn=_i.wnd;for(var An=_i.points,ba=getNAF$1(En,Cn,this._bitLength),xa=this.jpoint(null,null,null),$a=ba.length-1;$a>=0;$a--){for(var rs=0;$a>=0&&ba[$a]===0;$a--)rs++;if($a>=0&&rs++,xa=xa.dblp(rs),$a<0)break;var ts=ba[$a];assert$h(ts!==0),fn.type==="affine"?ts>0?xa=xa.mixedAdd(An[ts-1>>1]):xa=xa.mixedAdd(An[-ts-1>>1].neg()):ts>0?xa=xa.add(An[ts-1>>1]):xa=xa.add(An[-ts-1>>1].neg())}return fn.type==="affine"?xa.toP():xa};BaseCurve$1.prototype._wnafMulAdd=function vn(fn,En,Cn,_i,An){var ba=this._wnafT1,xa=this._wnafT2,$a=this._wnafT3,rs=0,ts,is,cs;for(ts=0;ts<_i;ts++){cs=En[ts];var us=cs._getNAFPoints(fn);ba[ts]=us.wnd,xa[ts]=us.points}for(ts=_i-1;ts>=1;ts-=2){var ps=ts-1,bs=ts;if(ba[ps]!==1||ba[bs]!==1){$a[ps]=getNAF$1(Cn[ps],ba[ps],this._bitLength),$a[bs]=getNAF$1(Cn[bs],ba[bs],this._bitLength),rs=Math.max($a[ps].length,rs),rs=Math.max($a[bs].length,rs);continue}var e0=[En[ps],null,null,En[bs]];En[ps].y.cmp(En[bs].y)===0?(e0[1]=En[ps].add(En[bs]),e0[2]=En[ps].toJ().mixedAdd(En[bs].neg())):En[ps].y.cmp(En[bs].y.redNeg())===0?(e0[1]=En[ps].toJ().mixedAdd(En[bs]),e0[2]=En[ps].add(En[bs].neg())):(e0[1]=En[ps].toJ().mixedAdd(En[bs]),e0[2]=En[ps].toJ().mixedAdd(En[bs].neg()));var gs=[-3,-1,-5,-7,0,7,5,1,3],Ds=getJSF$1(Cn[ps],Cn[bs]);for(rs=Math.max(Ds[0].length,rs),$a[ps]=new Array(rs),$a[bs]=new Array(rs),is=0;is<rs;is++){var i0=Ds[0][is]|0,n0=Ds[1][is]|0;$a[ps][is]=gs[(i0+1)*3+(n0+1)],$a[bs][is]=0,xa[ps]=e0}}var c0=this.jpoint(null,null,null),d0=this._wnafT4;for(ts=rs;ts>=0;ts--){for(var o0=0;ts>=0;){var g0=!0;for(is=0;is<_i;is++)d0[is]=$a[is][ts]|0,d0[is]!==0&&(g0=!1);if(!g0)break;o0++,ts--}if(ts>=0&&o0++,c0=c0.dblp(o0),ts<0)break;for(is=0;is<_i;is++){var w0=d0[is];w0!==0&&(w0>0?cs=xa[is][w0-1>>1]:w0<0&&(cs=xa[is][-w0-1>>1].neg()),cs.type==="affine"?c0=c0.mixedAdd(cs):c0=c0.add(cs))}}for(ts=0;ts<_i;ts++)xa[ts]=null;return An?c0:c0.toP()};function BasePoint$1(vn,fn){this.curve=vn,this.type=fn,this.precomputed=null}BaseCurve$1.BasePoint=BasePoint$1;BasePoint$1.prototype.eq=function vn(){throw new Error("Not implemented")};BasePoint$1.prototype.validate=function vn(){return this.curve.validate(this)};BaseCurve$1.prototype.decodePoint=function vn(fn,En){fn=utils$m.toArray(fn,En);var Cn=this.p.byteLength();if((fn[0]===4||fn[0]===6||fn[0]===7)&&fn.length-1===2*Cn){fn[0]===6?assert$h(fn[fn.length-1]%2===0):fn[0]===7&&assert$h(fn[fn.length-1]%2===1);var _i=this.point(fn.slice(1,1+Cn),fn.slice(1+Cn,1+2*Cn));return _i}else if((fn[0]===2||fn[0]===3)&&fn.length-1===Cn)return this.pointFromX(fn.slice(1,1+Cn),fn[0]===3);throw new Error("Unknown point format")};BasePoint$1.prototype.encodeCompressed=function vn(fn){return this.encode(fn,!0)};BasePoint$1.prototype._encode=function vn(fn){var En=this.curve.p.byteLength(),Cn=this.getX().toArray("be",En);return fn?[this.getY().isEven()?2:3].concat(Cn):[4].concat(Cn,this.getY().toArray("be",En))};BasePoint$1.prototype.encode=function vn(fn,En){return utils$m.encode(this._encode(En),fn)};BasePoint$1.prototype.precompute=function vn(fn){if(this.precomputed)return this;var En={doubles:null,naf:null,beta:null};return En.naf=this._getNAFPoints(8),En.doubles=this._getDoubles(4,fn),En.beta=this._getBeta(),this.precomputed=En,this};BasePoint$1.prototype._hasDoubles=function vn(fn){if(!this.precomputed)return!1;var En=this.precomputed.doubles;return En?En.points.length>=Math.ceil((fn.bitLength()+1)/En.step):!1};BasePoint$1.prototype._getDoubles=function vn(fn,En){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var Cn=[this],_i=this,An=0;An<En;An+=fn){for(var ba=0;ba<fn;ba++)_i=_i.dbl();Cn.push(_i)}return{step:fn,points:Cn}};BasePoint$1.prototype._getNAFPoints=function vn(fn){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var En=[this],Cn=(1<<fn)-1,_i=Cn===1?null:this.dbl(),An=1;An<Cn;An++)En[An]=En[An-1].add(_i);return{wnd:fn,points:En}};BasePoint$1.prototype._getBeta=function vn(){return null};BasePoint$1.prototype.dblp=function vn(fn){for(var En=this,Cn=0;Cn<fn;Cn++)En=En.dbl();return En};var utils$l=utils$n,BN$e=bnExports$1,inherits$5=inherits_browserExports,Base$5=base$1,assert$g=utils$l.assert;function ShortCurve$1(vn){Base$5.call(this,"short",vn),this.a=new BN$e(vn.a,16).toRed(this.red),this.b=new BN$e(vn.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(vn),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits$5(ShortCurve$1,Base$5);var short$1=ShortCurve$1;ShortCurve$1.prototype._getEndomorphism=function vn(fn){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var En,Cn;if(fn.beta)En=new BN$e(fn.beta,16).toRed(this.red);else{var _i=this._getEndoRoots(this.p);En=_i[0].cmp(_i[1])<0?_i[0]:_i[1],En=En.toRed(this.red)}if(fn.lambda)Cn=new BN$e(fn.lambda,16);else{var An=this._getEndoRoots(this.n);this.g.mul(An[0]).x.cmp(this.g.x.redMul(En))===0?Cn=An[0]:(Cn=An[1],assert$g(this.g.mul(Cn).x.cmp(this.g.x.redMul(En))===0))}var ba;return fn.basis?ba=fn.basis.map(function(xa){return{a:new BN$e(xa.a,16),b:new BN$e(xa.b,16)}}):ba=this._getEndoBasis(Cn),{beta:En,lambda:Cn,basis:ba}}};ShortCurve$1.prototype._getEndoRoots=function vn(fn){var En=fn===this.p?this.red:BN$e.mont(fn),Cn=new BN$e(2).toRed(En).redInvm(),_i=Cn.redNeg(),An=new BN$e(3).toRed(En).redNeg().redSqrt().redMul(Cn),ba=_i.redAdd(An).fromRed(),xa=_i.redSub(An).fromRed();return[ba,xa]};ShortCurve$1.prototype._getEndoBasis=function vn(fn){for(var En=this.n.ushrn(Math.floor(this.n.bitLength()/2)),Cn=fn,_i=this.n.clone(),An=new BN$e(1),ba=new BN$e(0),xa=new BN$e(0),$a=new BN$e(1),rs,ts,is,cs,us,ps,bs,e0=0,gs,Ds;Cn.cmpn(0)!==0;){var i0=_i.div(Cn);gs=_i.sub(i0.mul(Cn)),Ds=xa.sub(i0.mul(An));var n0=$a.sub(i0.mul(ba));if(!is&&gs.cmp(En)<0)rs=bs.neg(),ts=An,is=gs.neg(),cs=Ds;else if(is&&++e0===2)break;bs=gs,_i=Cn,Cn=gs,xa=An,An=Ds,$a=ba,ba=n0}us=gs.neg(),ps=Ds;var c0=is.sqr().add(cs.sqr()),d0=us.sqr().add(ps.sqr());return d0.cmp(c0)>=0&&(us=rs,ps=ts),is.negative&&(is=is.neg(),cs=cs.neg()),us.negative&&(us=us.neg(),ps=ps.neg()),[{a:is,b:cs},{a:us,b:ps}]};ShortCurve$1.prototype._endoSplit=function vn(fn){var En=this.endo.basis,Cn=En[0],_i=En[1],An=_i.b.mul(fn).divRound(this.n),ba=Cn.b.neg().mul(fn).divRound(this.n),xa=An.mul(Cn.a),$a=ba.mul(_i.a),rs=An.mul(Cn.b),ts=ba.mul(_i.b),is=fn.sub(xa).sub($a),cs=rs.add(ts).neg();return{k1:is,k2:cs}};ShortCurve$1.prototype.pointFromX=function vn(fn,En){fn=new BN$e(fn,16),fn.red||(fn=fn.toRed(this.red));var Cn=fn.redSqr().redMul(fn).redIAdd(fn.redMul(this.a)).redIAdd(this.b),_i=Cn.redSqrt();if(_i.redSqr().redSub(Cn).cmp(this.zero)!==0)throw new Error("invalid point");var An=_i.fromRed().isOdd();return(En&&!An||!En&&An)&&(_i=_i.redNeg()),this.point(fn,_i)};ShortCurve$1.prototype.validate=function vn(fn){if(fn.inf)return!0;var En=fn.x,Cn=fn.y,_i=this.a.redMul(En),An=En.redSqr().redMul(En).redIAdd(_i).redIAdd(this.b);return Cn.redSqr().redISub(An).cmpn(0)===0};ShortCurve$1.prototype._endoWnafMulAdd=function vn(fn,En,Cn){for(var _i=this._endoWnafT1,An=this._endoWnafT2,ba=0;ba<fn.length;ba++){var xa=this._endoSplit(En[ba]),$a=fn[ba],rs=$a._getBeta();xa.k1.negative&&(xa.k1.ineg(),$a=$a.neg(!0)),xa.k2.negative&&(xa.k2.ineg(),rs=rs.neg(!0)),_i[ba*2]=$a,_i[ba*2+1]=rs,An[ba*2]=xa.k1,An[ba*2+1]=xa.k2}for(var ts=this._wnafMulAdd(1,_i,An,ba*2,Cn),is=0;is<ba*2;is++)_i[is]=null,An[is]=null;return ts};function Point$5(vn,fn,En,Cn){Base$5.BasePoint.call(this,vn,"affine"),fn===null&&En===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$e(fn,16),this.y=new BN$e(En,16),Cn&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits$5(Point$5,Base$5.BasePoint);ShortCurve$1.prototype.point=function vn(fn,En,Cn){return new Point$5(this,fn,En,Cn)};ShortCurve$1.prototype.pointFromJSON=function vn(fn,En){return Point$5.fromJSON(this,fn,En)};Point$5.prototype._getBeta=function vn(){if(this.curve.endo){var fn=this.precomputed;if(fn&&fn.beta)return fn.beta;var En=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(fn){var Cn=this.curve,_i=function(An){return Cn.point(An.x.redMul(Cn.endo.beta),An.y)};fn.beta=En,En.precomputed={beta:null,naf:fn.naf&&{wnd:fn.naf.wnd,points:fn.naf.points.map(_i)},doubles:fn.doubles&&{step:fn.doubles.step,points:fn.doubles.points.map(_i)}}}return En}};Point$5.prototype.toJSON=function vn(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point$5.fromJSON=function vn(fn,En,Cn){typeof En=="string"&&(En=JSON.parse(En));var _i=fn.point(En[0],En[1],Cn);if(!En[2])return _i;function An(xa){return fn.point(xa[0],xa[1],Cn)}var ba=En[2];return _i.precomputed={beta:null,doubles:ba.doubles&&{step:ba.doubles.step,points:[_i].concat(ba.doubles.points.map(An))},naf:ba.naf&&{wnd:ba.naf.wnd,points:[_i].concat(ba.naf.points.map(An))}},_i};Point$5.prototype.inspect=function vn(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$5.prototype.isInfinity=function vn(){return this.inf};Point$5.prototype.add=function vn(fn){if(this.inf)return fn;if(fn.inf)return this;if(this.eq(fn))return this.dbl();if(this.neg().eq(fn))return this.curve.point(null,null);if(this.x.cmp(fn.x)===0)return this.curve.point(null,null);var En=this.y.redSub(fn.y);En.cmpn(0)!==0&&(En=En.redMul(this.x.redSub(fn.x).redInvm()));var Cn=En.redSqr().redISub(this.x).redISub(fn.x),_i=En.redMul(this.x.redSub(Cn)).redISub(this.y);return this.curve.point(Cn,_i)};Point$5.prototype.dbl=function vn(){if(this.inf)return this;var fn=this.y.redAdd(this.y);if(fn.cmpn(0)===0)return this.curve.point(null,null);var En=this.curve.a,Cn=this.x.redSqr(),_i=fn.redInvm(),An=Cn.redAdd(Cn).redIAdd(Cn).redIAdd(En).redMul(_i),ba=An.redSqr().redISub(this.x.redAdd(this.x)),xa=An.redMul(this.x.redSub(ba)).redISub(this.y);return this.curve.point(ba,xa)};Point$5.prototype.getX=function vn(){return this.x.fromRed()};Point$5.prototype.getY=function vn(){return this.y.fromRed()};Point$5.prototype.mul=function vn(fn){return fn=new BN$e(fn,16),this.isInfinity()?this:this._hasDoubles(fn)?this.curve._fixedNafMul(this,fn):this.curve.endo?this.curve._endoWnafMulAdd([this],[fn]):this.curve._wnafMul(this,fn)};Point$5.prototype.mulAdd=function vn(fn,En,Cn){var _i=[this,En],An=[fn,Cn];return this.curve.endo?this.curve._endoWnafMulAdd(_i,An):this.curve._wnafMulAdd(1,_i,An,2)};Point$5.prototype.jmulAdd=function vn(fn,En,Cn){var _i=[this,En],An=[fn,Cn];return this.curve.endo?this.curve._endoWnafMulAdd(_i,An,!0):this.curve._wnafMulAdd(1,_i,An,2,!0)};Point$5.prototype.eq=function vn(fn){return this===fn||this.inf===fn.inf&&(this.inf||this.x.cmp(fn.x)===0&&this.y.cmp(fn.y)===0)};Point$5.prototype.neg=function vn(fn){if(this.inf)return this;var En=this.curve.point(this.x,this.y.redNeg());if(fn&&this.precomputed){var Cn=this.precomputed,_i=function(An){return An.neg()};En.precomputed={naf:Cn.naf&&{wnd:Cn.naf.wnd,points:Cn.naf.points.map(_i)},doubles:Cn.doubles&&{step:Cn.doubles.step,points:Cn.doubles.points.map(_i)}}}return En};Point$5.prototype.toJ=function vn(){if(this.inf)return this.curve.jpoint(null,null,null);var fn=this.curve.jpoint(this.x,this.y,this.curve.one);return fn};function JPoint$1(vn,fn,En,Cn){Base$5.BasePoint.call(this,vn,"jacobian"),fn===null&&En===null&&Cn===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$e(0)):(this.x=new BN$e(fn,16),this.y=new BN$e(En,16),this.z=new BN$e(Cn,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits$5(JPoint$1,Base$5.BasePoint);ShortCurve$1.prototype.jpoint=function vn(fn,En,Cn){return new JPoint$1(this,fn,En,Cn)};JPoint$1.prototype.toP=function vn(){if(this.isInfinity())return this.curve.point(null,null);var fn=this.z.redInvm(),En=fn.redSqr(),Cn=this.x.redMul(En),_i=this.y.redMul(En).redMul(fn);return this.curve.point(Cn,_i)};JPoint$1.prototype.neg=function vn(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint$1.prototype.add=function vn(fn){if(this.isInfinity())return fn;if(fn.isInfinity())return this;var En=fn.z.redSqr(),Cn=this.z.redSqr(),_i=this.x.redMul(En),An=fn.x.redMul(Cn),ba=this.y.redMul(En.redMul(fn.z)),xa=fn.y.redMul(Cn.redMul(this.z)),$a=_i.redSub(An),rs=ba.redSub(xa);if($a.cmpn(0)===0)return rs.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ts=$a.redSqr(),is=ts.redMul($a),cs=_i.redMul(ts),us=rs.redSqr().redIAdd(is).redISub(cs).redISub(cs),ps=rs.redMul(cs.redISub(us)).redISub(ba.redMul(is)),bs=this.z.redMul(fn.z).redMul($a);return this.curve.jpoint(us,ps,bs)};JPoint$1.prototype.mixedAdd=function vn(fn){if(this.isInfinity())return fn.toJ();if(fn.isInfinity())return this;var En=this.z.redSqr(),Cn=this.x,_i=fn.x.redMul(En),An=this.y,ba=fn.y.redMul(En).redMul(this.z),xa=Cn.redSub(_i),$a=An.redSub(ba);if(xa.cmpn(0)===0)return $a.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var rs=xa.redSqr(),ts=rs.redMul(xa),is=Cn.redMul(rs),cs=$a.redSqr().redIAdd(ts).redISub(is).redISub(is),us=$a.redMul(is.redISub(cs)).redISub(An.redMul(ts)),ps=this.z.redMul(xa);return this.curve.jpoint(cs,us,ps)};JPoint$1.prototype.dblp=function vn(fn){if(fn===0)return this;if(this.isInfinity())return this;if(!fn)return this.dbl();var En;if(this.curve.zeroA||this.curve.threeA){var Cn=this;for(En=0;En<fn;En++)Cn=Cn.dbl();return Cn}var _i=this.curve.a,An=this.curve.tinv,ba=this.x,xa=this.y,$a=this.z,rs=$a.redSqr().redSqr(),ts=xa.redAdd(xa);for(En=0;En<fn;En++){var is=ba.redSqr(),cs=ts.redSqr(),us=cs.redSqr(),ps=is.redAdd(is).redIAdd(is).redIAdd(_i.redMul(rs)),bs=ba.redMul(cs),e0=ps.redSqr().redISub(bs.redAdd(bs)),gs=bs.redISub(e0),Ds=ps.redMul(gs);Ds=Ds.redIAdd(Ds).redISub(us);var i0=ts.redMul($a);En+1<fn&&(rs=rs.redMul(us)),ba=e0,$a=i0,ts=Ds}return this.curve.jpoint(ba,ts.redMul(An),$a)};JPoint$1.prototype.dbl=function vn(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint$1.prototype._zeroDbl=function vn(){var fn,En,Cn;if(this.zOne){var _i=this.x.redSqr(),An=this.y.redSqr(),ba=An.redSqr(),xa=this.x.redAdd(An).redSqr().redISub(_i).redISub(ba);xa=xa.redIAdd(xa);var $a=_i.redAdd(_i).redIAdd(_i),rs=$a.redSqr().redISub(xa).redISub(xa),ts=ba.redIAdd(ba);ts=ts.redIAdd(ts),ts=ts.redIAdd(ts),fn=rs,En=$a.redMul(xa.redISub(rs)).redISub(ts),Cn=this.y.redAdd(this.y)}else{var is=this.x.redSqr(),cs=this.y.redSqr(),us=cs.redSqr(),ps=this.x.redAdd(cs).redSqr().redISub(is).redISub(us);ps=ps.redIAdd(ps);var bs=is.redAdd(is).redIAdd(is),e0=bs.redSqr(),gs=us.redIAdd(us);gs=gs.redIAdd(gs),gs=gs.redIAdd(gs),fn=e0.redISub(ps).redISub(ps),En=bs.redMul(ps.redISub(fn)).redISub(gs),Cn=this.y.redMul(this.z),Cn=Cn.redIAdd(Cn)}return this.curve.jpoint(fn,En,Cn)};JPoint$1.prototype._threeDbl=function vn(){var fn,En,Cn;if(this.zOne){var _i=this.x.redSqr(),An=this.y.redSqr(),ba=An.redSqr(),xa=this.x.redAdd(An).redSqr().redISub(_i).redISub(ba);xa=xa.redIAdd(xa);var $a=_i.redAdd(_i).redIAdd(_i).redIAdd(this.curve.a),rs=$a.redSqr().redISub(xa).redISub(xa);fn=rs;var ts=ba.redIAdd(ba);ts=ts.redIAdd(ts),ts=ts.redIAdd(ts),En=$a.redMul(xa.redISub(rs)).redISub(ts),Cn=this.y.redAdd(this.y)}else{var is=this.z.redSqr(),cs=this.y.redSqr(),us=this.x.redMul(cs),ps=this.x.redSub(is).redMul(this.x.redAdd(is));ps=ps.redAdd(ps).redIAdd(ps);var bs=us.redIAdd(us);bs=bs.redIAdd(bs);var e0=bs.redAdd(bs);fn=ps.redSqr().redISub(e0),Cn=this.y.redAdd(this.z).redSqr().redISub(cs).redISub(is);var gs=cs.redSqr();gs=gs.redIAdd(gs),gs=gs.redIAdd(gs),gs=gs.redIAdd(gs),En=ps.redMul(bs.redISub(fn)).redISub(gs)}return this.curve.jpoint(fn,En,Cn)};JPoint$1.prototype._dbl=function vn(){var fn=this.curve.a,En=this.x,Cn=this.y,_i=this.z,An=_i.redSqr().redSqr(),ba=En.redSqr(),xa=Cn.redSqr(),$a=ba.redAdd(ba).redIAdd(ba).redIAdd(fn.redMul(An)),rs=En.redAdd(En);rs=rs.redIAdd(rs);var ts=rs.redMul(xa),is=$a.redSqr().redISub(ts.redAdd(ts)),cs=ts.redISub(is),us=xa.redSqr();us=us.redIAdd(us),us=us.redIAdd(us),us=us.redIAdd(us);var ps=$a.redMul(cs).redISub(us),bs=Cn.redAdd(Cn).redMul(_i);return this.curve.jpoint(is,ps,bs)};JPoint$1.prototype.trpl=function vn(){if(!this.curve.zeroA)return this.dbl().add(this);var fn=this.x.redSqr(),En=this.y.redSqr(),Cn=this.z.redSqr(),_i=En.redSqr(),An=fn.redAdd(fn).redIAdd(fn),ba=An.redSqr(),xa=this.x.redAdd(En).redSqr().redISub(fn).redISub(_i);xa=xa.redIAdd(xa),xa=xa.redAdd(xa).redIAdd(xa),xa=xa.redISub(ba);var $a=xa.redSqr(),rs=_i.redIAdd(_i);rs=rs.redIAdd(rs),rs=rs.redIAdd(rs),rs=rs.redIAdd(rs);var ts=An.redIAdd(xa).redSqr().redISub(ba).redISub($a).redISub(rs),is=En.redMul(ts);is=is.redIAdd(is),is=is.redIAdd(is);var cs=this.x.redMul($a).redISub(is);cs=cs.redIAdd(cs),cs=cs.redIAdd(cs);var us=this.y.redMul(ts.redMul(rs.redISub(ts)).redISub(xa.redMul($a)));us=us.redIAdd(us),us=us.redIAdd(us),us=us.redIAdd(us);var ps=this.z.redAdd(xa).redSqr().redISub(Cn).redISub($a);return this.curve.jpoint(cs,us,ps)};JPoint$1.prototype.mul=function vn(fn,En){return fn=new BN$e(fn,En),this.curve._wnafMul(this,fn)};JPoint$1.prototype.eq=function vn(fn){if(fn.type==="affine")return this.eq(fn.toJ());if(this===fn)return!0;var En=this.z.redSqr(),Cn=fn.z.redSqr();if(this.x.redMul(Cn).redISub(fn.x.redMul(En)).cmpn(0)!==0)return!1;var _i=En.redMul(this.z),An=Cn.redMul(fn.z);return this.y.redMul(An).redISub(fn.y.redMul(_i)).cmpn(0)===0};JPoint$1.prototype.eqXToP=function vn(fn){var En=this.z.redSqr(),Cn=fn.toRed(this.curve.red).redMul(En);if(this.x.cmp(Cn)===0)return!0;for(var _i=fn.clone(),An=this.curve.redN.redMul(En);;){if(_i.iadd(this.curve.n),_i.cmp(this.curve.p)>=0)return!1;if(Cn.redIAdd(An),this.x.cmp(Cn)===0)return!0}};JPoint$1.prototype.inspect=function vn(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint$1.prototype.isInfinity=function vn(){return this.z.cmpn(0)===0};var BN$d=bnExports$1,inherits$4=inherits_browserExports,Base$4=base$1,utils$k=utils$n;function MontCurve$1(vn){Base$4.call(this,"mont",vn),this.a=new BN$d(vn.a,16).toRed(this.red),this.b=new BN$d(vn.b,16).toRed(this.red),this.i4=new BN$d(4).toRed(this.red).redInvm(),this.two=new BN$d(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits$4(MontCurve$1,Base$4);var mont$1=MontCurve$1;MontCurve$1.prototype.validate=function vn(fn){var En=fn.normalize().x,Cn=En.redSqr(),_i=Cn.redMul(En).redAdd(Cn.redMul(this.a)).redAdd(En),An=_i.redSqrt();return An.redSqr().cmp(_i)===0};function Point$4(vn,fn,En){Base$4.BasePoint.call(this,vn,"projective"),fn===null&&En===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN$d(fn,16),this.z=new BN$d(En,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}inherits$4(Point$4,Base$4.BasePoint);MontCurve$1.prototype.decodePoint=function vn(fn,En){return this.point(utils$k.toArray(fn,En),1)};MontCurve$1.prototype.point=function vn(fn,En){return new Point$4(this,fn,En)};MontCurve$1.prototype.pointFromJSON=function vn(fn){return Point$4.fromJSON(this,fn)};Point$4.prototype.precompute=function vn(){};Point$4.prototype._encode=function vn(){return this.getX().toArray("be",this.curve.p.byteLength())};Point$4.fromJSON=function vn(fn,En){return new Point$4(fn,En[0],En[1]||fn.one)};Point$4.prototype.inspect=function vn(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point$4.prototype.isInfinity=function vn(){return this.z.cmpn(0)===0};Point$4.prototype.dbl=function vn(){var fn=this.x.redAdd(this.z),En=fn.redSqr(),Cn=this.x.redSub(this.z),_i=Cn.redSqr(),An=En.redSub(_i),ba=En.redMul(_i),xa=An.redMul(_i.redAdd(this.curve.a24.redMul(An)));return this.curve.point(ba,xa)};Point$4.prototype.add=function vn(){throw new Error("Not supported on Montgomery curve")};Point$4.prototype.diffAdd=function vn(fn,En){var Cn=this.x.redAdd(this.z),_i=this.x.redSub(this.z),An=fn.x.redAdd(fn.z),ba=fn.x.redSub(fn.z),xa=ba.redMul(Cn),$a=An.redMul(_i),rs=En.z.redMul(xa.redAdd($a).redSqr()),ts=En.x.redMul(xa.redISub($a).redSqr());return this.curve.point(rs,ts)};Point$4.prototype.mul=function vn(fn){for(var En=fn.clone(),Cn=this,_i=this.curve.point(null,null),An=this,ba=[];En.cmpn(0)!==0;En.iushrn(1))ba.push(En.andln(1));for(var xa=ba.length-1;xa>=0;xa--)ba[xa]===0?(Cn=Cn.diffAdd(_i,An),_i=_i.dbl()):(_i=Cn.diffAdd(_i,An),Cn=Cn.dbl());return _i};Point$4.prototype.mulAdd=function vn(){throw new Error("Not supported on Montgomery curve")};Point$4.prototype.jumlAdd=function vn(){throw new Error("Not supported on Montgomery curve")};Point$4.prototype.eq=function vn(fn){return this.getX().cmp(fn.getX())===0};Point$4.prototype.normalize=function vn(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Point$4.prototype.getX=function vn(){return this.normalize(),this.x.fromRed()};var utils$j=utils$n,BN$c=bnExports$1,inherits$3=inherits_browserExports,Base$3=base$1,assert$f=utils$j.assert;function EdwardsCurve$1(vn){this.twisted=(vn.a|0)!==1,this.mOneA=this.twisted&&(vn.a|0)===-1,this.extended=this.mOneA,Base$3.call(this,"edwards",vn),this.a=new BN$c(vn.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN$c(vn.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN$c(vn.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert$f(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(vn.c|0)===1}inherits$3(EdwardsCurve$1,Base$3);var edwards$1=EdwardsCurve$1;EdwardsCurve$1.prototype._mulA=function vn(fn){return this.mOneA?fn.redNeg():this.a.redMul(fn)};EdwardsCurve$1.prototype._mulC=function vn(fn){return this.oneC?fn:this.c.redMul(fn)};EdwardsCurve$1.prototype.jpoint=function vn(fn,En,Cn,_i){return this.point(fn,En,Cn,_i)};EdwardsCurve$1.prototype.pointFromX=function vn(fn,En){fn=new BN$c(fn,16),fn.red||(fn=fn.toRed(this.red));var Cn=fn.redSqr(),_i=this.c2.redSub(this.a.redMul(Cn)),An=this.one.redSub(this.c2.redMul(this.d).redMul(Cn)),ba=_i.redMul(An.redInvm()),xa=ba.redSqrt();if(xa.redSqr().redSub(ba).cmp(this.zero)!==0)throw new Error("invalid point");var $a=xa.fromRed().isOdd();return(En&&!$a||!En&&$a)&&(xa=xa.redNeg()),this.point(fn,xa)};EdwardsCurve$1.prototype.pointFromY=function vn(fn,En){fn=new BN$c(fn,16),fn.red||(fn=fn.toRed(this.red));var Cn=fn.redSqr(),_i=Cn.redSub(this.c2),An=Cn.redMul(this.d).redMul(this.c2).redSub(this.a),ba=_i.redMul(An.redInvm());if(ba.cmp(this.zero)===0){if(En)throw new Error("invalid point");return this.point(this.zero,fn)}var xa=ba.redSqrt();if(xa.redSqr().redSub(ba).cmp(this.zero)!==0)throw new Error("invalid point");return xa.fromRed().isOdd()!==En&&(xa=xa.redNeg()),this.point(xa,fn)};EdwardsCurve$1.prototype.validate=function vn(fn){if(fn.isInfinity())return!0;fn.normalize();var En=fn.x.redSqr(),Cn=fn.y.redSqr(),_i=En.redMul(this.a).redAdd(Cn),An=this.c2.redMul(this.one.redAdd(this.d.redMul(En).redMul(Cn)));return _i.cmp(An)===0};function Point$3(vn,fn,En,Cn,_i){Base$3.BasePoint.call(this,vn,"projective"),fn===null&&En===null&&Cn===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN$c(fn,16),this.y=new BN$c(En,16),this.z=Cn?new BN$c(Cn,16):this.curve.one,this.t=_i&&new BN$c(_i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}inherits$3(Point$3,Base$3.BasePoint);EdwardsCurve$1.prototype.pointFromJSON=function vn(fn){return Point$3.fromJSON(this,fn)};EdwardsCurve$1.prototype.point=function vn(fn,En,Cn,_i){return new Point$3(this,fn,En,Cn,_i)};Point$3.fromJSON=function vn(fn,En){return new Point$3(fn,En[0],En[1],En[2])};Point$3.prototype.inspect=function vn(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point$3.prototype.isInfinity=function vn(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Point$3.prototype._extDbl=function vn(){var fn=this.x.redSqr(),En=this.y.redSqr(),Cn=this.z.redSqr();Cn=Cn.redIAdd(Cn);var _i=this.curve._mulA(fn),An=this.x.redAdd(this.y).redSqr().redISub(fn).redISub(En),ba=_i.redAdd(En),xa=ba.redSub(Cn),$a=_i.redSub(En),rs=An.redMul(xa),ts=ba.redMul($a),is=An.redMul($a),cs=xa.redMul(ba);return this.curve.point(rs,ts,cs,is)};Point$3.prototype._projDbl=function vn(){var fn=this.x.redAdd(this.y).redSqr(),En=this.x.redSqr(),Cn=this.y.redSqr(),_i,An,ba,xa,$a,rs;if(this.curve.twisted){xa=this.curve._mulA(En);var ts=xa.redAdd(Cn);this.zOne?(_i=fn.redSub(En).redSub(Cn).redMul(ts.redSub(this.curve.two)),An=ts.redMul(xa.redSub(Cn)),ba=ts.redSqr().redSub(ts).redSub(ts)):($a=this.z.redSqr(),rs=ts.redSub($a).redISub($a),_i=fn.redSub(En).redISub(Cn).redMul(rs),An=ts.redMul(xa.redSub(Cn)),ba=ts.redMul(rs))}else xa=En.redAdd(Cn),$a=this.curve._mulC(this.z).redSqr(),rs=xa.redSub($a).redSub($a),_i=this.curve._mulC(fn.redISub(xa)).redMul(rs),An=this.curve._mulC(xa).redMul(En.redISub(Cn)),ba=xa.redMul(rs);return this.curve.point(_i,An,ba)};Point$3.prototype.dbl=function vn(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Point$3.prototype._extAdd=function vn(fn){var En=this.y.redSub(this.x).redMul(fn.y.redSub(fn.x)),Cn=this.y.redAdd(this.x).redMul(fn.y.redAdd(fn.x)),_i=this.t.redMul(this.curve.dd).redMul(fn.t),An=this.z.redMul(fn.z.redAdd(fn.z)),ba=Cn.redSub(En),xa=An.redSub(_i),$a=An.redAdd(_i),rs=Cn.redAdd(En),ts=ba.redMul(xa),is=$a.redMul(rs),cs=ba.redMul(rs),us=xa.redMul($a);return this.curve.point(ts,is,us,cs)};Point$3.prototype._projAdd=function vn(fn){var En=this.z.redMul(fn.z),Cn=En.redSqr(),_i=this.x.redMul(fn.x),An=this.y.redMul(fn.y),ba=this.curve.d.redMul(_i).redMul(An),xa=Cn.redSub(ba),$a=Cn.redAdd(ba),rs=this.x.redAdd(this.y).redMul(fn.x.redAdd(fn.y)).redISub(_i).redISub(An),ts=En.redMul(xa).redMul(rs),is,cs;return this.curve.twisted?(is=En.redMul($a).redMul(An.redSub(this.curve._mulA(_i))),cs=xa.redMul($a)):(is=En.redMul($a).redMul(An.redSub(_i)),cs=this.curve._mulC(xa).redMul($a)),this.curve.point(ts,is,cs)};Point$3.prototype.add=function vn(fn){return this.isInfinity()?fn:fn.isInfinity()?this:this.curve.extended?this._extAdd(fn):this._projAdd(fn)};Point$3.prototype.mul=function vn(fn){return this._hasDoubles(fn)?this.curve._fixedNafMul(this,fn):this.curve._wnafMul(this,fn)};Point$3.prototype.mulAdd=function vn(fn,En,Cn){return this.curve._wnafMulAdd(1,[this,En],[fn,Cn],2,!1)};Point$3.prototype.jmulAdd=function vn(fn,En,Cn){return this.curve._wnafMulAdd(1,[this,En],[fn,Cn],2,!0)};Point$3.prototype.normalize=function vn(){if(this.zOne)return this;var fn=this.z.redInvm();return this.x=this.x.redMul(fn),this.y=this.y.redMul(fn),this.t&&(this.t=this.t.redMul(fn)),this.z=this.curve.one,this.zOne=!0,this};Point$3.prototype.neg=function vn(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point$3.prototype.getX=function vn(){return this.normalize(),this.x.fromRed()};Point$3.prototype.getY=function vn(){return this.normalize(),this.y.fromRed()};Point$3.prototype.eq=function vn(fn){return this===fn||this.getX().cmp(fn.getX())===0&&this.getY().cmp(fn.getY())===0};Point$3.prototype.eqXToP=function vn(fn){var En=fn.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(En)===0)return!0;for(var Cn=fn.clone(),_i=this.curve.redN.redMul(this.z);;){if(Cn.iadd(this.curve.n),Cn.cmp(this.curve.p)>=0)return!1;if(En.redIAdd(_i),this.x.cmp(En)===0)return!0}};Point$3.prototype.toP=Point$3.prototype.normalize;Point$3.prototype.mixedAdd=Point$3.prototype.add;(function(vn){var fn=vn;fn.base=base$1,fn.short=short$1,fn.mont=mont$1,fn.edwards=edwards$1})(curve$1);var curves$5={},secp256k1$1,hasRequiredSecp256k1$1;function requireSecp256k1$1(){return hasRequiredSecp256k1$1||(hasRequiredSecp256k1$1=1,secp256k1$1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1$1}(function(vn){var fn=vn,En=hash$6,Cn=curve$1,_i=utils$n,An=_i.assert;function ba(rs){rs.type==="short"?this.curve=new Cn.short(rs):rs.type==="edwards"?this.curve=new Cn.edwards(rs):this.curve=new Cn.mont(rs),this.g=this.curve.g,this.n=this.curve.n,this.hash=rs.hash,An(this.g.validate(),"Invalid curve"),An(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}fn.PresetCurve=ba;function xa(rs,ts){Object.defineProperty(fn,rs,{configurable:!0,enumerable:!0,get:function(){var is=new ba(ts);return Object.defineProperty(fn,rs,{configurable:!0,enumerable:!0,value:is}),is}})}xa("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:En.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),xa("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:En.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),xa("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:En.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),xa("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:En.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),xa("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:En.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),xa("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:En.sha256,gRed:!1,g:["9"]}),xa("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:En.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var $a;try{$a=requireSecp256k1$1()}catch{$a=void 0}xa("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:En.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",$a]})})(curves$5);var BN$b=bnExports$1,utils$i=utils$n,assert$e=utils$i.assert;function KeyPair$7(vn,fn){this.ec=vn,this.priv=null,this.pub=null,fn.priv&&this._importPrivate(fn.priv,fn.privEnc),fn.pub&&this._importPublic(fn.pub,fn.pubEnc)}var key$3=KeyPair$7;KeyPair$7.fromPublic=function vn(fn,En,Cn){return En instanceof KeyPair$7?En:new KeyPair$7(fn,{pub:En,pubEnc:Cn})};KeyPair$7.fromPrivate=function vn(fn,En,Cn){return En instanceof KeyPair$7?En:new KeyPair$7(fn,{priv:En,privEnc:Cn})};KeyPair$7.prototype.validate=function vn(){var fn=this.getPublic();return fn.isInfinity()?{result:!1,reason:"Invalid public key"}:fn.validate()?fn.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair$7.prototype.getPublic=function vn(fn,En){return typeof fn=="string"&&(En=fn,fn=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),En?this.pub.encode(En,fn):this.pub};KeyPair$7.prototype.getPrivate=function vn(fn){return fn==="hex"?this.priv.toString(16,2):this.priv};KeyPair$7.prototype._importPrivate=function vn(fn,En){this.priv=new BN$b(fn,En||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$7.prototype._importPublic=function vn(fn,En){if(fn.x||fn.y){this.ec.curve.type==="mont"?assert$e(fn.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$e(fn.x&&fn.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(fn.x,fn.y);return}this.pub=this.ec.curve.decodePoint(fn,En)};KeyPair$7.prototype.derive=function vn(fn){return fn.validate()||assert$e(fn.validate(),"public point not validated"),fn.mul(this.priv).getX()};KeyPair$7.prototype.sign=function vn(fn,En,Cn){return this.ec.sign(fn,this,En,Cn)};KeyPair$7.prototype.verify=function vn(fn,En,Cn){return this.ec.verify(fn,En,this,void 0,Cn)};KeyPair$7.prototype.inspect=function vn(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var BN$a=bnExports$1,utils$h=utils$n,assert$d=utils$h.assert;function Signature$7(vn,fn){if(vn instanceof Signature$7)return vn;this._importDER(vn,fn)||(assert$d(vn.r&&vn.s,"Signature without r or s"),this.r=new BN$a(vn.r,16),this.s=new BN$a(vn.s,16),vn.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=vn.recoveryParam)}var signature$3=Signature$7;function Position$1(){this.place=0}function getLength$1(vn,fn){var En=vn[fn.place++];if(!(En&128))return En;var Cn=En&15;if(Cn===0||Cn>4||vn[fn.place]===0)return!1;for(var _i=0,An=0,ba=fn.place;An<Cn;An++,ba++)_i<<=8,_i|=vn[ba],_i>>>=0;return _i<=127?!1:(fn.place=ba,_i)}function rmPadding$1(vn){for(var fn=0,En=vn.length-1;!vn[fn]&&!(vn[fn+1]&128)&&fn<En;)fn++;return fn===0?vn:vn.slice(fn)}Signature$7.prototype._importDER=function vn(fn,En){fn=utils$h.toArray(fn,En);var Cn=new Position$1;if(fn[Cn.place++]!==48)return!1;var _i=getLength$1(fn,Cn);if(_i===!1||_i+Cn.place!==fn.length||fn[Cn.place++]!==2)return!1;var An=getLength$1(fn,Cn);if(An===!1||fn[Cn.place]&128)return!1;var ba=fn.slice(Cn.place,An+Cn.place);if(Cn.place+=An,fn[Cn.place++]!==2)return!1;var xa=getLength$1(fn,Cn);if(xa===!1||fn.length!==xa+Cn.place||fn[Cn.place]&128)return!1;var $a=fn.slice(Cn.place,xa+Cn.place);if(ba[0]===0)if(ba[1]&128)ba=ba.slice(1);else return!1;if($a[0]===0)if($a[1]&128)$a=$a.slice(1);else return!1;return this.r=new BN$a(ba),this.s=new BN$a($a),this.recoveryParam=null,!0};function constructLength$1(vn,fn){if(fn<128){vn.push(fn);return}var En=1+(Math.log(fn)/Math.LN2>>>3);for(vn.push(En|128);--En;)vn.push(fn>>>(En<<3)&255);vn.push(fn)}Signature$7.prototype.toDER=function vn(fn){var En=this.r.toArray(),Cn=this.s.toArray();for(En[0]&128&&(En=[0].concat(En)),Cn[0]&128&&(Cn=[0].concat(Cn)),En=rmPadding$1(En),Cn=rmPadding$1(Cn);!Cn[0]&&!(Cn[1]&128);)Cn=Cn.slice(1);var _i=[2];constructLength$1(_i,En.length),_i=_i.concat(En),_i.push(2),constructLength$1(_i,Cn.length);var An=_i.concat(Cn),ba=[48];return constructLength$1(ba,An.length),ba=ba.concat(An),utils$h.encode(ba,fn)};var BN$9=bnExports$1,HmacDRBG$1=hmacDrbg,utils$g=utils$n,curves$4=curves$5,rand$1=requireBrorand(),assert$c=utils$g.assert,KeyPair$6=key$3,Signature$6=signature$3;function EC$1(vn){if(!(this instanceof EC$1))return new EC$1(vn);typeof vn=="string"&&(assert$c(Object.prototype.hasOwnProperty.call(curves$4,vn),"Unknown curve "+vn),vn=curves$4[vn]),vn instanceof curves$4.PresetCurve&&(vn={curve:vn}),this.curve=vn.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=vn.curve.g,this.g.precompute(vn.curve.n.bitLength()+1),this.hash=vn.hash||vn.curve.hash}var ec$1=EC$1;EC$1.prototype.keyPair=function vn(fn){return new KeyPair$6(this,fn)};EC$1.prototype.keyFromPrivate=function vn(fn,En){return KeyPair$6.fromPrivate(this,fn,En)};EC$1.prototype.keyFromPublic=function vn(fn,En){return KeyPair$6.fromPublic(this,fn,En)};EC$1.prototype.genKeyPair=function vn(fn){fn||(fn={});for(var En=new HmacDRBG$1({hash:this.hash,pers:fn.pers,persEnc:fn.persEnc||"utf8",entropy:fn.entropy||rand$1(this.hash.hmacStrength),entropyEnc:fn.entropy&&fn.entropyEnc||"utf8",nonce:this.n.toArray()}),Cn=this.n.byteLength(),_i=this.n.sub(new BN$9(2));;){var An=new BN$9(En.generate(Cn));if(!(An.cmp(_i)>0))return An.iaddn(1),this.keyFromPrivate(An)}};EC$1.prototype._truncateToN=function vn(fn,En,Cn){var _i;if(BN$9.isBN(fn)||typeof fn=="number")fn=new BN$9(fn,16),_i=fn.byteLength();else if(typeof fn=="object")_i=fn.length,fn=new BN$9(fn,16);else{var An=fn.toString();_i=An.length+1>>>1,fn=new BN$9(An,16)}typeof Cn!="number"&&(Cn=_i*8);var ba=Cn-this.n.bitLength();return ba>0&&(fn=fn.ushrn(ba)),!En&&fn.cmp(this.n)>=0?fn.sub(this.n):fn};EC$1.prototype.sign=function vn(fn,En,Cn,_i){typeof Cn=="object"&&(_i=Cn,Cn=null),_i||(_i={}),En=this.keyFromPrivate(En,Cn),fn=this._truncateToN(fn,!1,_i.msgBitLength);for(var An=this.n.byteLength(),ba=En.getPrivate().toArray("be",An),xa=fn.toArray("be",An),$a=new HmacDRBG$1({hash:this.hash,entropy:ba,nonce:xa,pers:_i.pers,persEnc:_i.persEnc||"utf8"}),rs=this.n.sub(new BN$9(1)),ts=0;;ts++){var is=_i.k?_i.k(ts):new BN$9($a.generate(this.n.byteLength()));if(is=this._truncateToN(is,!0),!(is.cmpn(1)<=0||is.cmp(rs)>=0)){var cs=this.g.mul(is);if(!cs.isInfinity()){var us=cs.getX(),ps=us.umod(this.n);if(ps.cmpn(0)!==0){var bs=is.invm(this.n).mul(ps.mul(En.getPrivate()).iadd(fn));if(bs=bs.umod(this.n),bs.cmpn(0)!==0){var e0=(cs.getY().isOdd()?1:0)|(us.cmp(ps)!==0?2:0);return _i.canonical&&bs.cmp(this.nh)>0&&(bs=this.n.sub(bs),e0^=1),new Signature$6({r:ps,s:bs,recoveryParam:e0})}}}}}};EC$1.prototype.verify=function vn(fn,En,Cn,_i,An){An||(An={}),fn=this._truncateToN(fn,!1,An.msgBitLength),Cn=this.keyFromPublic(Cn,_i),En=new Signature$6(En,"hex");var ba=En.r,xa=En.s;if(ba.cmpn(1)<0||ba.cmp(this.n)>=0||xa.cmpn(1)<0||xa.cmp(this.n)>=0)return!1;var $a=xa.invm(this.n),rs=$a.mul(fn).umod(this.n),ts=$a.mul(ba).umod(this.n),is;return this.curve._maxwellTrick?(is=this.g.jmulAdd(rs,Cn.getPublic(),ts),is.isInfinity()?!1:is.eqXToP(ba)):(is=this.g.mulAdd(rs,Cn.getPublic(),ts),is.isInfinity()?!1:is.getX().umod(this.n).cmp(ba)===0)};EC$1.prototype.recoverPubKey=function(vn,fn,En,Cn){assert$c((3&En)===En,"The recovery param is more than two bits"),fn=new Signature$6(fn,Cn);var _i=this.n,An=new BN$9(vn),ba=fn.r,xa=fn.s,$a=En&1,rs=En>>1;if(ba.cmp(this.curve.p.umod(this.curve.n))>=0&&rs)throw new Error("Unable to find sencond key candinate");rs?ba=this.curve.pointFromX(ba.add(this.curve.n),$a):ba=this.curve.pointFromX(ba,$a);var ts=fn.r.invm(_i),is=_i.sub(An).mul(ts).umod(_i),cs=xa.mul(ts).umod(_i);return this.g.mulAdd(is,ba,cs)};EC$1.prototype.getKeyRecoveryParam=function(vn,fn,En,Cn){if(fn=new Signature$6(fn,Cn),fn.recoveryParam!==null)return fn.recoveryParam;for(var _i=0;_i<4;_i++){var An;try{An=this.recoverPubKey(vn,fn,_i)}catch{continue}if(An.eq(En))return _i}throw new Error("Unable to find valid recovery factor")};var utils$f=utils$n,assert$b=utils$f.assert,parseBytes$5=utils$f.parseBytes,cachedProperty$3=utils$f.cachedProperty;function KeyPair$5(vn,fn){this.eddsa=vn,this._secret=parseBytes$5(fn.secret),vn.isPoint(fn.pub)?this._pub=fn.pub:this._pubBytes=parseBytes$5(fn.pub)}KeyPair$5.fromPublic=function vn(fn,En){return En instanceof KeyPair$5?En:new KeyPair$5(fn,{pub:En})};KeyPair$5.fromSecret=function vn(fn,En){return En instanceof KeyPair$5?En:new KeyPair$5(fn,{secret:En})};KeyPair$5.prototype.secret=function vn(){return this._secret};cachedProperty$3(KeyPair$5,"pubBytes",function vn(){return this.eddsa.encodePoint(this.pub())});cachedProperty$3(KeyPair$5,"pub",function vn(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});cachedProperty$3(KeyPair$5,"privBytes",function vn(){var fn=this.eddsa,En=this.hash(),Cn=fn.encodingLength-1,_i=En.slice(0,fn.encodingLength);return _i[0]&=248,_i[Cn]&=127,_i[Cn]|=64,_i});cachedProperty$3(KeyPair$5,"priv",function vn(){return this.eddsa.decodeInt(this.privBytes())});cachedProperty$3(KeyPair$5,"hash",function vn(){return this.eddsa.hash().update(this.secret()).digest()});cachedProperty$3(KeyPair$5,"messagePrefix",function vn(){return this.hash().slice(this.eddsa.encodingLength)});KeyPair$5.prototype.sign=function vn(fn){return assert$b(this._secret,"KeyPair can only verify"),this.eddsa.sign(fn,this)};KeyPair$5.prototype.verify=function vn(fn,En){return this.eddsa.verify(fn,En,this)};KeyPair$5.prototype.getSecret=function vn(fn){return assert$b(this._secret,"KeyPair is public only"),utils$f.encode(this.secret(),fn)};KeyPair$5.prototype.getPublic=function vn(fn){return utils$f.encode(this.pubBytes(),fn)};var key$2=KeyPair$5,BN$8=bnExports$1,utils$e=utils$n,assert$a=utils$e.assert,cachedProperty$2=utils$e.cachedProperty,parseBytes$4=utils$e.parseBytes;function Signature$5(vn,fn){this.eddsa=vn,typeof fn!="object"&&(fn=parseBytes$4(fn)),Array.isArray(fn)&&(assert$a(fn.length===vn.encodingLength*2,"Signature has invalid size"),fn={R:fn.slice(0,vn.encodingLength),S:fn.slice(vn.encodingLength)}),assert$a(fn.R&&fn.S,"Signature without R or S"),vn.isPoint(fn.R)&&(this._R=fn.R),fn.S instanceof BN$8&&(this._S=fn.S),this._Rencoded=Array.isArray(fn.R)?fn.R:fn.Rencoded,this._Sencoded=Array.isArray(fn.S)?fn.S:fn.Sencoded}cachedProperty$2(Signature$5,"S",function vn(){return this.eddsa.decodeInt(this.Sencoded())});cachedProperty$2(Signature$5,"R",function vn(){return this.eddsa.decodePoint(this.Rencoded())});cachedProperty$2(Signature$5,"Rencoded",function vn(){return this.eddsa.encodePoint(this.R())});cachedProperty$2(Signature$5,"Sencoded",function vn(){return this.eddsa.encodeInt(this.S())});Signature$5.prototype.toBytes=function vn(){return this.Rencoded().concat(this.Sencoded())};Signature$5.prototype.toHex=function vn(){return utils$e.encode(this.toBytes(),"hex").toUpperCase()};var signature$2=Signature$5,hash$1=hash$6,curves$3=curves$5,utils$d=utils$n,assert$9=utils$d.assert,parseBytes$3=utils$d.parseBytes,KeyPair$4=key$2,Signature$4=signature$2;function EDDSA$1(vn){if(assert$9(vn==="ed25519","only tested with ed25519 so far"),!(this instanceof EDDSA$1))return new EDDSA$1(vn);vn=curves$3[vn].curve,this.curve=vn,this.g=vn.g,this.g.precompute(vn.n.bitLength()+1),this.pointClass=vn.point().constructor,this.encodingLength=Math.ceil(vn.n.bitLength()/8),this.hash=hash$1.sha512}var eddsa$1=EDDSA$1;EDDSA$1.prototype.sign=function vn(fn,En){fn=parseBytes$3(fn);var Cn=this.keyFromSecret(En),_i=this.hashInt(Cn.messagePrefix(),fn),An=this.g.mul(_i),ba=this.encodePoint(An),xa=this.hashInt(ba,Cn.pubBytes(),fn).mul(Cn.priv()),$a=_i.add(xa).umod(this.curve.n);return this.makeSignature({R:An,S:$a,Rencoded:ba})};EDDSA$1.prototype.verify=function vn(fn,En,Cn){if(fn=parseBytes$3(fn),En=this.makeSignature(En),En.S().gte(En.eddsa.curve.n)||En.S().isNeg())return!1;var _i=this.keyFromPublic(Cn),An=this.hashInt(En.Rencoded(),_i.pubBytes(),fn),ba=this.g.mul(En.S()),xa=En.R().add(_i.pub().mul(An));return xa.eq(ba)};EDDSA$1.prototype.hashInt=function vn(){for(var fn=this.hash(),En=0;En<arguments.length;En++)fn.update(arguments[En]);return utils$d.intFromLE(fn.digest()).umod(this.curve.n)};EDDSA$1.prototype.keyFromPublic=function vn(fn){return KeyPair$4.fromPublic(this,fn)};EDDSA$1.prototype.keyFromSecret=function vn(fn){return KeyPair$4.fromSecret(this,fn)};EDDSA$1.prototype.makeSignature=function vn(fn){return fn instanceof Signature$4?fn:new Signature$4(this,fn)};EDDSA$1.prototype.encodePoint=function vn(fn){var En=fn.getY().toArray("le",this.encodingLength);return En[this.encodingLength-1]|=fn.getX().isOdd()?128:0,En};EDDSA$1.prototype.decodePoint=function vn(fn){fn=utils$d.parseBytes(fn);var En=fn.length-1,Cn=fn.slice(0,En).concat(fn[En]&-129),_i=(fn[En]&128)!==0,An=utils$d.intFromLE(Cn);return this.curve.pointFromY(An,_i)};EDDSA$1.prototype.encodeInt=function vn(fn){return fn.toArray("le",this.encodingLength)};EDDSA$1.prototype.decodeInt=function vn(fn){return utils$d.intFromLE(fn)};EDDSA$1.prototype.isPoint=function vn(fn){return fn instanceof this.pointClass};(function(vn){var fn=vn;fn.version=require$$0$3.version,fn.utils=utils$n,fn.rand=requireBrorand(),fn.curve=curve$1,fn.curves=curves$5,fn.ec=ec$1,fn.eddsa=eddsa$1})(elliptic$1);const C$3={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var define_process_env_default$1={},gt$6=Object.defineProperty,Ke$1=Object.getOwnPropertySymbols,vt$5=Object.prototype.hasOwnProperty,bt$5=Object.prototype.propertyIsEnumerable,Le$2=(vn,fn,En)=>fn in vn?gt$6(vn,fn,{enumerable:!0,configurable:!0,writable:!0,value:En}):vn[fn]=En,Fe$1=(vn,fn)=>{for(var En in fn||(fn={}))vt$5.call(fn,En)&&Le$2(vn,En,fn[En]);if(Ke$1)for(var En of Ke$1(fn))bt$5.call(fn,En)&&Le$2(vn,En,fn[En]);return vn};const qe$1="ReactNative",y$3={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},He$1="js";function ce$2(){return typeof process$1<"u"&&typeof process$1.versions<"u"&&typeof process$1.versions.node<"u"}function _$2(){return!getDocument_1()&&!!getNavigator_1()&&navigator.product===qe$1}function V$5(){return!ce$2()&&!!getNavigator_1()&&!!getDocument_1()}function P$4(){return _$2()?y$3.reactNative:ce$2()?y$3.node:V$5()?y$3.browser:y$3.unknown}function Ot$5(){var vn;try{return _$2()&&typeof global$1<"u"&&typeof(global$1==null?void 0:global$1.Application)<"u"?(vn=global$1.Application)==null?void 0:vn.applicationId:void 0}catch{return}}function We$4(vn,fn){let En=queryString.parse(vn);return En=Fe$1(Fe$1({},En),fn),vn=queryString.stringify(En),vn}function Nt$5(){return getWindowMetadata_1()||{name:"",description:"",url:"",icons:[""]}}function Je$3(){if(P$4()===y$3.reactNative&&typeof global$1<"u"&&typeof(global$1==null?void 0:global$1.Platform)<"u"){const{OS:En,Version:Cn}=global$1.Platform;return[En,Cn].join("-")}const vn=detect();if(vn===null)return"unknown";const fn=vn.os?vn.os.replace(" ","").toLowerCase():"unknown";return vn.type==="browser"?[fn,vn.name,vn.version].join("-"):[fn,vn.version].join("-")}function ze$1(){var vn;const fn=P$4();return fn===y$3.browser?[fn,((vn=getLocation_1())==null?void 0:vn.host)||"unknown"].join(":"):fn}function Ge$1(vn,fn,En){const Cn=Je$3(),_i=ze$1();return[[vn,fn].join("-"),[He$1,En].join("-"),Cn,_i].join("/")}function $t$4({protocol:vn,version:fn,relayUrl:En,sdkVersion:Cn,auth:_i,projectId:An,useOnCloseEvent:ba,bundleId:xa}){const $a=En.split("?"),rs=Ge$1(vn,fn,Cn),ts={auth:_i,ua:rs,projectId:An,useOnCloseEvent:ba||void 0,origin:xa||void 0},is=We$4($a[1]||"",ts);return $a[0]+"?"+is}function Tt$5(vn){return Object.fromEntries(vn.entries())}function Pt$5(vn){return new Map(Object.entries(vn))}function _t$5(vn=cjs$3.FIVE_MINUTES,fn){const En=cjs$3.toMiliseconds(vn||cjs$3.FIVE_MINUTES);let Cn,_i,An;return{resolve:ba=>{An&&Cn&&(clearTimeout(An),Cn(ba))},reject:ba=>{An&&_i&&(clearTimeout(An),_i(ba))},done:()=>new Promise((ba,xa)=>{An=setTimeout(()=>{xa(new Error(fn))},En),Cn=ba,_i=xa})}}function kt$5(vn,fn,En){return new Promise(async(Cn,_i)=>{const An=setTimeout(()=>_i(new Error(En)),fn);try{const ba=await vn;Cn(ba)}catch(ba){_i(ba)}clearTimeout(An)})}function ae$3(vn,fn){if(typeof fn=="string"&&fn.startsWith(`${vn}:`))return fn;if(vn.toLowerCase()==="topic"){if(typeof fn!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${fn}`}else if(vn.toLowerCase()==="id"){if(typeof fn!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${fn}`}throw new Error(`Unknown expirer target type: ${vn}`)}function Dt$4(vn){return ae$3("topic",vn)}function xt$5(vn){return ae$3("id",vn)}function Vt$4(vn){const[fn,En]=vn.split(":"),Cn={id:void 0,topic:void 0};if(fn==="topic"&&typeof En=="string")Cn.topic=En;else if(fn==="id"&&Number.isInteger(Number(En)))Cn.id=Number(En);else throw new Error(`Invalid target, expected id:number or topic:string, got ${fn}:${En}`);return Cn}function Mt$4(vn,fn){return cjs$3.fromMiliseconds(Date.now()+cjs$3.toMiliseconds(vn))}function Kt$4(vn){return Date.now()>=cjs$3.toMiliseconds(vn)}function Lt$5(vn,fn){return`${vn}${fn?`:${fn}`:""}`}function Ht$4(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,vn=>{const fn=Math.random()*16|0;return(vn==="x"?fn:fn&3|8).toString(16)})}function Wt$4(){return typeof process$1<"u"&&define_process_env_default$1.IS_VITEST==="true"}function le$2(vn){return Buffer$7.from(vn,"base64").toString("utf-8")}const ye$5="base10",g$3="base16",ge$2="base64pad",k$2="utf8",ve$3=0,D$3=1,M$5=2,dr$4=0,wn$1=1,K$3=12,be$5=32;function fr$4(){const vn=x25519.generateKeyPair();return{privateKey:toString$1(vn.secretKey,g$3),publicKey:toString$1(vn.publicKey,g$3)}}function pr$4(){const vn=random.randomBytes(be$5);return toString$1(vn,g$3)}function mr$4(vn,fn){const En=x25519.sharedKey(fromString(vn,g$3),fromString(fn,g$3),!0),Cn=new HKDF_1(sha256.SHA256,En).expand(be$5);return toString$1(Cn,g$3)}function hr$4(vn){const fn=sha256.hash(fromString(vn,g$3));return toString$1(fn,g$3)}function yr$4(vn){const fn=sha256.hash(fromString(vn,k$2));return toString$1(fn,g$3)}function Ee$4(vn){return fromString(`${vn}`,ye$5)}function A$1(vn){return Number(toString$1(vn,ye$5))}function gr$4(vn){const fn=Ee$4(typeof vn.type<"u"?vn.type:ve$3);if(A$1(fn)===D$3&&typeof vn.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const En=typeof vn.senderPublicKey<"u"?fromString(vn.senderPublicKey,g$3):void 0,Cn=typeof vn.iv<"u"?fromString(vn.iv,g$3):random.randomBytes(K$3),_i=new chacha20poly1305.ChaCha20Poly1305(fromString(vn.symKey,g$3)).seal(Cn,fromString(vn.message,k$2));return we$5({type:fn,sealed:_i,iv:Cn,senderPublicKey:En,encoding:vn.encoding})}function vr$4(vn,fn){const En=Ee$4(M$5),Cn=random.randomBytes(K$3),_i=fromString(vn,k$2);return we$5({type:En,sealed:_i,iv:Cn,encoding:fn})}function br$4(vn){const fn=new chacha20poly1305.ChaCha20Poly1305(fromString(vn.symKey,g$3)),{sealed:En,iv:Cn}=Q$2({encoded:vn.encoded,encoding:vn==null?void 0:vn.encoding}),_i=fn.open(Cn,En);if(_i===null)throw new Error("Failed to decrypt");return toString$1(_i,k$2)}function Er$4(vn,fn){const{sealed:En}=Q$2({encoded:vn,encoding:fn});return toString$1(En,k$2)}function we$5(vn){const{encoding:fn=ge$2}=vn;if(A$1(vn.type)===M$5)return toString$1(concat([vn.type,vn.sealed]),fn);if(A$1(vn.type)===D$3){if(typeof vn.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return toString$1(concat([vn.type,vn.senderPublicKey,vn.iv,vn.sealed]),fn)}return toString$1(concat([vn.type,vn.iv,vn.sealed]),fn)}function Q$2(vn){const{encoded:fn,encoding:En=ge$2}=vn,Cn=fromString(fn,En),_i=Cn.slice(dr$4,wn$1),An=wn$1;if(A$1(_i)===D$3){const rs=An+be$5,ts=rs+K$3,is=Cn.slice(An,rs),cs=Cn.slice(rs,ts),us=Cn.slice(ts);return{type:_i,sealed:us,iv:cs,senderPublicKey:is}}if(A$1(_i)===M$5){const rs=Cn.slice(An),ts=random.randomBytes(K$3);return{type:_i,sealed:rs,iv:ts}}const ba=An+K$3,xa=Cn.slice(An,ba),$a=Cn.slice(ba);return{type:_i,sealed:$a,iv:xa}}function wr$4(vn,fn){const En=Q$2({encoded:vn,encoding:fn==null?void 0:fn.encoding});return On$1({type:A$1(En.type),senderPublicKey:typeof En.senderPublicKey<"u"?toString$1(En.senderPublicKey,g$3):void 0,receiverPublicKey:fn==null?void 0:fn.receiverPublicKey})}function On$1(vn){const fn=(vn==null?void 0:vn.type)||ve$3;if(fn===D$3){if(typeof(vn==null?void 0:vn.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(vn==null?void 0:vn.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:fn,senderPublicKey:vn==null?void 0:vn.senderPublicKey,receiverPublicKey:vn==null?void 0:vn.receiverPublicKey}}function Or$4(vn){return vn.type===D$3&&typeof vn.senderPublicKey=="string"&&typeof vn.receiverPublicKey=="string"}function Nr$4(vn){return vn.type===M$5}function Nn$1(vn){return new elliptic$1.ec("p256").keyFromPublic({x:Buffer$7.from(vn.x,"base64").toString("hex"),y:Buffer$7.from(vn.y,"base64").toString("hex")},"hex")}function Sr$4(vn){let fn=vn.replace(/-/g,"+").replace(/_/g,"/");const En=fn.length%4;return En>0&&(fn+="=".repeat(4-En)),fn}function $r$4(vn){return Buffer$7.from(Sr$4(vn),"base64")}function Rr$4(vn,fn){const[En,Cn,_i]=vn.split("."),An=$r$4(_i);if(An.length!==64)throw new Error("Invalid signature length");const ba=An.slice(0,32).toString("hex"),xa=An.slice(32,64).toString("hex"),$a=`${En}.${Cn}`,rs=new sha256.SHA256().update(Buffer$7.from($a)).digest(),ts=Nn$1(fn),is=Buffer$7.from(rs).toString("hex");if(!ts.verify(is,{r:ba,s:xa}))throw new Error("Invalid signature");return decodeJWT(vn).payload}const Sn$1="irn";function Ir$3(vn){return(vn==null?void 0:vn.relay)||{protocol:Sn$1}}function jr$3(vn){const fn=C$3[vn];if(typeof fn>"u")throw new Error(`Relay Protocol not supported: ${vn}`);return fn}var Tr$4=Object.defineProperty,Pr$4=Object.defineProperties,Ar$4=Object.getOwnPropertyDescriptors,$n$1=Object.getOwnPropertySymbols,Cr$4=Object.prototype.hasOwnProperty,Ur$3=Object.prototype.propertyIsEnumerable,Rn$1=(vn,fn,En)=>fn in vn?Tr$4(vn,fn,{enumerable:!0,configurable:!0,writable:!0,value:En}):vn[fn]=En,In$1=(vn,fn)=>{for(var En in fn||(fn={}))Cr$4.call(fn,En)&&Rn$1(vn,En,fn[En]);if($n$1)for(var En of $n$1(fn))Ur$3.call(fn,En)&&Rn$1(vn,En,fn[En]);return vn},_r$4=(vn,fn)=>Pr$4(vn,Ar$4(fn));function jn$1(vn,fn="-"){const En={},Cn="relay"+fn;return Object.keys(vn).forEach(_i=>{if(_i.startsWith(Cn)){const An=_i.replace(Cn,""),ba=vn[_i];En[An]=ba}}),En}function kr$3(vn){if(!vn.includes("wc:")){const $a=le$2(vn);$a!=null&&$a.includes("wc:")&&(vn=$a)}vn=vn.includes("wc://")?vn.replace("wc://",""):vn,vn=vn.includes("wc:")?vn.replace("wc:",""):vn;const fn=vn.indexOf(":"),En=vn.indexOf("?")!==-1?vn.indexOf("?"):void 0,Cn=vn.substring(0,fn),_i=vn.substring(fn+1,En).split("@"),An=typeof En<"u"?vn.substring(En):"",ba=queryString.parse(An),xa=typeof ba.methods=="string"?ba.methods.split(","):void 0;return{protocol:Cn,topic:Tn$1(_i[0]),version:parseInt(_i[1],10),symKey:ba.symKey,relay:jn$1(ba),methods:xa,expiryTimestamp:ba.expiryTimestamp?parseInt(ba.expiryTimestamp,10):void 0}}function Tn$1(vn){return vn.startsWith("//")?vn.substring(2):vn}function Pn$1(vn,fn="-"){const En="relay",Cn={};return Object.keys(vn).forEach(_i=>{const An=En+fn+_i;vn[_i]&&(Cn[An]=vn[_i])}),Cn}function Dr$4(vn){return`${vn.protocol}:${vn.topic}@${vn.version}?`+queryString.stringify(In$1(_r$4(In$1({symKey:vn.symKey},Pn$1(vn.relay)),{expiryTimestamp:vn.expiryTimestamp}),vn.methods?{methods:vn.methods.join(",")}:{}))}const Vn$1={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Mn$1={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function S$7(vn,fn){const{message:En,code:Cn}=Mn$1[vn];return{message:fn?`${En} ${fn}`:En,code:Cn}}function U$3(vn,fn){const{message:En,code:Cn}=Vn$1[vn];return{message:fn?`${En} ${fn}`:En,code:Cn}}function L$3(vn,fn){return!!Array.isArray(vn)}function I$5(vn){return typeof vn>"u"}function b$3(vn,fn){return typeof vn=="string"&&!!vn.trim().length}function X$3(vn,fn){return typeof vn=="number"&&!isNaN(vn)}function Gr$3(vn){function fn(En){try{return typeof new URL(En)<"u"}catch{return!1}}try{if(b$3(vn,!1)){if(fn(vn))return!0;const En=le$2(vn);return fn(En)}}catch{}return!1}function Yr$3(vn){var fn;return(fn=vn==null?void 0:vn.proposer)==null?void 0:fn.publicKey}function Qr$3(vn){return vn==null?void 0:vn.topic}function to$1(vn){return typeof vn<"u"&&typeof vn!==null}function po$1(vn,fn){return X$3(vn)&&vn<=fn.max&&vn>=fn.min}function mo$1(){const vn=P$4();return new Promise(fn=>{switch(vn){case y$3.browser:fn(Yn$1());break;case y$3.reactNative:fn(Qn$1());break;case y$3.node:fn(Zn$1());break;default:fn(!0)}})}function Yn$1(){return V$5()&&(navigator==null?void 0:navigator.onLine)}async function Qn$1(){if(_$2()&&typeof global$1<"u"&&global$1!=null&&global$1.NetInfo){const vn=await(global$1==null?void 0:global$1.NetInfo.fetch());return vn==null?void 0:vn.isConnected}return!0}function Zn$1(){return!0}function ho$1(vn){switch(P$4()){case y$3.browser:Xn$1(vn);break;case y$3.reactNative:et$4(vn);break}}function Xn$1(vn){!_$2()&&V$5()&&(window.addEventListener("online",()=>vn(!0)),window.addEventListener("offline",()=>vn(!1)))}function et$4(vn){_$2()&&typeof global$1<"u"&&global$1!=null&&global$1.NetInfo&&(global$1==null||global$1.NetInfo.addEventListener(fn=>vn(fn==null?void 0:fn.isConnected)))}const PARSE_ERROR="PARSE_ERROR",INVALID_REQUEST="INVALID_REQUEST",METHOD_NOT_FOUND="METHOD_NOT_FOUND",INVALID_PARAMS="INVALID_PARAMS",INTERNAL_ERROR="INTERNAL_ERROR",SERVER_ERROR="SERVER_ERROR",RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],STANDARD_ERROR_MAP={[PARSE_ERROR]:{code:-32700,message:"Parse error"},[INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[SERVER_ERROR]:{code:-32e3,message:"Server error"}},DEFAULT_ERROR=SERVER_ERROR;function isReservedErrorCode(vn){return RESERVED_ERROR_CODES.includes(vn)}function getError(vn){return Object.keys(STANDARD_ERROR_MAP).includes(vn)?STANDARD_ERROR_MAP[vn]:STANDARD_ERROR_MAP[DEFAULT_ERROR]}function getErrorByCode(vn){const fn=Object.values(STANDARD_ERROR_MAP).find(En=>En.code===vn);return fn||STANDARD_ERROR_MAP[DEFAULT_ERROR]}function parseConnectionError(vn,fn,En){return vn.message.includes("getaddrinfo ENOTFOUND")||vn.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${En} RPC url at ${fn}`):vn}var cjs={},crypto$1={},hasRequiredCrypto;function requireCrypto(){if(hasRequiredCrypto)return crypto$1;hasRequiredCrypto=1,Object.defineProperty(crypto$1,"__esModule",{value:!0}),crypto$1.isBrowserCryptoAvailable=crypto$1.getSubtleCrypto=crypto$1.getBrowerCrypto=void 0;function vn(){return(commonjsGlobal==null?void 0:commonjsGlobal.crypto)||(commonjsGlobal==null?void 0:commonjsGlobal.msCrypto)||{}}crypto$1.getBrowerCrypto=vn;function fn(){const Cn=vn();return Cn.subtle||Cn.webkitSubtle}crypto$1.getSubtleCrypto=fn;function En(){return!!vn()&&!!fn()}return crypto$1.isBrowserCryptoAvailable=En,crypto$1}var env={},hasRequiredEnv;function requireEnv(){if(hasRequiredEnv)return env;hasRequiredEnv=1,Object.defineProperty(env,"__esModule",{value:!0}),env.isBrowser=env.isNode=env.isReactNative=void 0;function vn(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}env.isReactNative=vn;function fn(){return typeof process$1<"u"&&typeof process$1.versions<"u"&&typeof process$1.versions.node<"u"}env.isNode=fn;function En(){return!vn()&&!fn()}return env.isBrowser=En,env}(function(vn){Object.defineProperty(vn,"__esModule",{value:!0});const fn=require$$0$5;fn.__exportStar(requireCrypto(),vn),fn.__exportStar(requireEnv(),vn)})(cjs);function payloadId(vn=3){const fn=Date.now()*Math.pow(10,vn),En=Math.floor(Math.random()*Math.pow(10,vn));return fn+En}function getBigIntRpcId(vn=6){return BigInt(payloadId(vn))}function formatJsonRpcRequest(vn,fn,En){return{id:En||payloadId(),jsonrpc:"2.0",method:vn,params:fn}}function formatJsonRpcResult(vn,fn){return{id:vn,jsonrpc:"2.0",result:fn}}function formatJsonRpcError(vn,fn,En){return{id:vn,jsonrpc:"2.0",error:formatErrorMessage(fn)}}function formatErrorMessage(vn,fn){return typeof vn>"u"?getError(INTERNAL_ERROR):(typeof vn=="string"&&(vn=Object.assign(Object.assign({},getError(SERVER_ERROR)),{message:vn})),isReservedErrorCode(vn.code)&&(vn=getErrorByCode(vn.code)),vn)}let e$1=class{},n$2=class extends e$1{constructor(){super()}},r$1=class extends n$2{constructor(fn){super()}};const HTTP_REGEX="^https?:",WS_REGEX="^wss?:";function getUrlProtocol(vn){const fn=vn.match(new RegExp(/^\w+:/,"gi"));if(!(!fn||!fn.length))return fn[0]}function matchRegexProtocol(vn,fn){const En=getUrlProtocol(vn);return typeof En>"u"?!1:new RegExp(fn).test(En)}function isHttpUrl(vn){return matchRegexProtocol(vn,HTTP_REGEX)}function isWsUrl(vn){return matchRegexProtocol(vn,WS_REGEX)}function isLocalhostUrl(vn){return new RegExp("wss?://localhost(:d{2,5})?").test(vn)}function isJsonRpcPayload(vn){return typeof vn=="object"&&"id"in vn&&"jsonrpc"in vn&&vn.jsonrpc==="2.0"}function isJsonRpcRequest(vn){return isJsonRpcPayload(vn)&&"method"in vn}function isJsonRpcResponse(vn){return isJsonRpcPayload(vn)&&(isJsonRpcResult(vn)||isJsonRpcError(vn))}function isJsonRpcResult(vn){return"result"in vn}function isJsonRpcError(vn){return"error"in vn}let o$2=class extends r$1{constructor(fn){super(fn),this.events=new eventsExports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(fn),this.connection.connected&&this.registerEventListeners()}async connect(fn=this.connection){await this.open(fn)}async disconnect(){await this.close()}on(fn,En){this.events.on(fn,En)}once(fn,En){this.events.once(fn,En)}off(fn,En){this.events.off(fn,En)}removeListener(fn,En){this.events.removeListener(fn,En)}async request(fn,En){return this.requestStrict(formatJsonRpcRequest(fn.method,fn.params||[],fn.id||getBigIntRpcId().toString()),En)}async requestStrict(fn,En){return new Promise(async(Cn,_i)=>{if(!this.connection.connected)try{await this.open()}catch(An){_i(An)}this.events.on(`${fn.id}`,An=>{isJsonRpcError(An)?_i(An.error):Cn(An.result)});try{await this.connection.send(fn,En)}catch(An){_i(An)}})}setConnection(fn=this.connection){return fn}onPayload(fn){this.events.emit("payload",fn),isJsonRpcResponse(fn)?this.events.emit(`${fn.id}`,fn):this.events.emit("message",{type:fn.method,data:fn.params})}onClose(fn){fn&&fn.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${fn.code} ${fn.reason?`(${fn.reason})`:""}`)),this.events.emit("disconnect")}async open(fn=this.connection){this.connection===fn&&this.connection.connected||(this.connection.connected&&this.close(),typeof fn=="string"&&(await this.connection.open(fn),fn=this.connection),this.connection=this.setConnection(fn),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",fn=>this.onPayload(fn)),this.connection.on("close",fn=>this.onClose(fn)),this.connection.on("error",fn=>this.events.emit("error",fn)),this.connection.on("register_error",fn=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const w$1=()=>typeof WebSocket<"u"?WebSocket:typeof global$1<"u"&&typeof global$1.WebSocket<"u"?global$1.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),b$2=()=>typeof WebSocket<"u"||typeof global$1<"u"&&typeof global$1.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",a$1=vn=>vn.split("?")[0],h$1=10,S$6=w$1();let f$3=class{constructor(fn){if(this.url=fn,this.events=new eventsExports.EventEmitter,this.registering=!1,!isWsUrl(fn))throw new Error(`Provided URL is not compatible with WebSocket connection: ${fn}`);this.url=fn}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(fn,En){this.events.on(fn,En)}once(fn,En){this.events.once(fn,En)}off(fn,En){this.events.off(fn,En)}removeListener(fn,En){this.events.removeListener(fn,En)}async open(fn=this.url){await this.register(fn)}async close(){return new Promise((fn,En)=>{if(typeof this.socket>"u"){En(new Error("Connection already closed"));return}this.socket.onclose=Cn=>{this.onClose(Cn),fn()},this.socket.close()})}async send(fn){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(safeJsonStringify(fn))}catch(En){this.onError(fn.id,En)}}register(fn=this.url){if(!isWsUrl(fn))throw new Error(`Provided URL is not compatible with WebSocket connection: ${fn}`);if(this.registering){const En=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=En||this.events.listenerCount("open")>=En)&&this.events.setMaxListeners(En+1),new Promise((Cn,_i)=>{this.events.once("register_error",An=>{this.resetMaxListeners(),_i(An)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return _i(new Error("WebSocket connection is missing or invalid"));Cn(this.socket)})})}return this.url=fn,this.registering=!0,new Promise((En,Cn)=>{const _i=new URLSearchParams(fn).get("origin"),An=cjs.isReactNative()?{headers:{origin:_i}}:{rejectUnauthorized:!isLocalhostUrl(fn)},ba=new S$6(fn,[],An);b$2()?ba.onerror=xa=>{const $a=xa;Cn(this.emitError($a.error))}:ba.on("error",xa=>{Cn(this.emitError(xa))}),ba.onopen=()=>{this.onOpen(ba),En(ba)}})}onOpen(fn){fn.onmessage=En=>this.onPayload(En),fn.onclose=En=>this.onClose(En),this.socket=fn,this.registering=!1,this.events.emit("open")}onClose(fn){this.socket=void 0,this.registering=!1,this.events.emit("close",fn)}onPayload(fn){if(typeof fn.data>"u")return;const En=typeof fn.data=="string"?safeJsonParse(fn.data):fn.data;this.events.emit("payload",En)}onError(fn,En){const Cn=this.parseError(En),_i=Cn.message||Cn.toString(),An=formatJsonRpcError(fn,_i);this.events.emit("payload",An)}parseError(fn,En=this.url){return parseConnectionError(fn,a$1(En),"WS")}resetMaxListeners(){this.events.getMaxListeners()>h$1&&this.events.setMaxListeners(h$1)}emitError(fn){const En=this.parseError(new Error((fn==null?void 0:fn.message)||`WebSocket connection failed for host: ${a$1(this.url)}`));return this.events.emit("register_error",En),En}};var lodash_isequal={exports:{}};lodash_isequal.exports;(function(vn,fn){var En=200,Cn="__lodash_hash_undefined__",_i=1,An=2,ba=9007199254740991,xa="[object Arguments]",$a="[object Array]",rs="[object AsyncFunction]",ts="[object Boolean]",is="[object Date]",cs="[object Error]",us="[object Function]",ps="[object GeneratorFunction]",bs="[object Map]",e0="[object Number]",gs="[object Null]",Ds="[object Object]",i0="[object Promise]",n0="[object Proxy]",c0="[object RegExp]",d0="[object Set]",o0="[object String]",g0="[object Symbol]",w0="[object Undefined]",M0="[object WeakMap]",ds="[object ArrayBuffer]",na="[object DataView]",_a="[object Float32Array]",es="[object Float64Array]",ns="[object Int8Array]",os="[object Int16Array]",ls="[object Int32Array]",hs="[object Uint8Array]",ss="[object Uint8ClampedArray]",ga="[object Uint16Array]",as="[object Uint32Array]",r0=/[\\^$.*+?()[\]{}|]/g,a0=/^\[object .+?Constructor\]$/,l0=/^(?:0|[1-9]\d*)$/,s0={};s0[_a]=s0[es]=s0[ns]=s0[os]=s0[ls]=s0[hs]=s0[ss]=s0[ga]=s0[as]=!0,s0[xa]=s0[$a]=s0[ds]=s0[ts]=s0[na]=s0[is]=s0[cs]=s0[us]=s0[bs]=s0[e0]=s0[Ds]=s0[c0]=s0[d0]=s0[o0]=s0[M0]=!1;var b0=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,f0=typeof self=="object"&&self&&self.Object===Object&&self,m0=b0||f0||Function("return this")(),y0=fn&&!fn.nodeType&&fn,t0=y0&&!0&&vn&&!vn.nodeType&&vn,h0=t0&&t0.exports===y0,p0=h0&&b0.process,E0=function(){try{return p0&&p0.binding&&p0.binding("util")}catch{}}(),I0=E0&&E0.isTypedArray;function C0(R0,xo){for(var So=-1,Do=R0==null?0:R0.length,wl=0,Yo=[];++So<Do;){var _l=R0[So];xo(_l,So,R0)&&(Yo[wl++]=_l)}return Yo}function $0(R0,xo){for(var So=-1,Do=xo.length,wl=R0.length;++So<Do;)R0[wl+So]=xo[So];return R0}function vo(R0,xo){for(var So=-1,Do=R0==null?0:R0.length;++So<Do;)if(xo(R0[So],So,R0))return!0;return!1}function P0(R0,xo){for(var So=-1,Do=Array(R0);++So<R0;)Do[So]=xo(So);return Do}function S0(R0){return function(xo){return R0(xo)}}function _o(R0,xo){return R0.has(xo)}function O0(R0,xo){return R0==null?void 0:R0[xo]}function B0(R0){var xo=-1,So=Array(R0.size);return R0.forEach(function(Do,wl){So[++xo]=[wl,Do]}),So}function To(R0,xo){return function(So){return R0(xo(So))}}function k0(R0){var xo=-1,So=Array(R0.size);return R0.forEach(function(Do){So[++xo]=Do}),So}var D0=Array.prototype,Eo=Function.prototype,N0=Object.prototype,F0=m0["__core-js_shared__"],Co=Eo.toString,x0=N0.hasOwnProperty,u0=function(){var R0=/[^.]+$/.exec(F0&&F0.keys&&F0.keys.IE_PROTO||"");return R0?"Symbol(src)_1."+R0:""}(),v0=N0.toString,_0=RegExp("^"+Co.call(x0).replace(r0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T0=h0?m0.Buffer:void 0,j0=m0.Symbol,A0=m0.Uint8Array,U0=N0.propertyIsEnumerable,$o=D0.splice,L0=j0?j0.toStringTag:void 0,V0=Object.getOwnPropertySymbols,Mo=T0?T0.isBuffer:void 0,G0=To(Object.keys,Object),Z0=Fl(m0,"DataView"),Io=Fl(m0,"Map"),q0=Fl(m0,"Promise"),Y0=Fl(m0,"Set"),Ro=Fl(m0,"WeakMap"),z0=Fl(Object,"create"),X0=Ol(Z0),Po=Ol(Io),K0=Ol(q0),bo=Ol(Y0),ko=Ol(Ro),W0=j0?j0.prototype:void 0,J0=W0?W0.valueOf:void 0;function Ao(R0){var xo=-1,So=R0==null?0:R0.length;for(this.clear();++xo<So;){var Do=R0[xo];this.set(Do[0],Do[1])}}function H0(){this.__data__=z0?z0(null):{},this.size=0}function go(R0){var xo=this.has(R0)&&delete this.__data__[R0];return this.size-=xo?1:0,xo}function Bo(R0){var xo=this.__data__;if(z0){var So=xo[R0];return So===Cn?void 0:So}return x0.call(xo,R0)?xo[R0]:void 0}function Q0(R0){var xo=this.__data__;return z0?xo[R0]!==void 0:x0.call(xo,R0)}function wo(R0,xo){var So=this.__data__;return this.size+=this.has(R0)?0:1,So[R0]=z0&&xo===void 0?Cn:xo,this}Ao.prototype.clear=H0,Ao.prototype.delete=go,Ao.prototype.get=Bo,Ao.prototype.has=Q0,Ao.prototype.set=wo;function No(R0){var xo=-1,So=R0==null?0:R0.length;for(this.clear();++xo<So;){var Do=R0[xo];this.set(Do[0],Do[1])}}function Oo(){this.__data__=[],this.size=0}function jo(R0){var xo=this.__data__,So=Kl(xo,R0);if(So<0)return!1;var Do=xo.length-1;return So==Do?xo.pop():$o.call(xo,So,1),--this.size,!0}function Uo(R0){var xo=this.__data__,So=Kl(xo,R0);return So<0?void 0:xo[So][1]}function zo(R0){return Kl(this.__data__,R0)>-1}function qo(R0,xo){var So=this.__data__,Do=Kl(So,R0);return Do<0?(++this.size,So.push([R0,xo])):So[Do][1]=xo,this}No.prototype.clear=Oo,No.prototype.delete=jo,No.prototype.get=Uo,No.prototype.has=zo,No.prototype.set=qo;function Fo(R0){var xo=-1,So=R0==null?0:R0.length;for(this.clear();++xo<So;){var Do=R0[xo];this.set(Do[0],Do[1])}}function Ko(){this.size=0,this.__data__={hash:new Ao,map:new(Io||No),string:new Ao}}function Ho(R0){var xo=Hl(this,R0).delete(R0);return this.size-=xo?1:0,xo}function Vo(R0){return Hl(this,R0).get(R0)}function Go(R0){return Hl(this,R0).has(R0)}function Zo(R0,xo){var So=Hl(this,R0),Do=So.size;return So.set(R0,xo),this.size+=So.size==Do?0:1,this}Fo.prototype.clear=Ko,Fo.prototype.delete=Ho,Fo.prototype.get=Vo,Fo.prototype.has=Go,Fo.prototype.set=Zo;function Jo(R0){var xo=-1,So=R0==null?0:R0.length;for(this.__data__=new Fo;++xo<So;)this.add(R0[xo])}function Qo(R0){return this.__data__.set(R0,Cn),this}function Xo(R0){return this.__data__.has(R0)}Jo.prototype.add=Jo.prototype.push=Qo,Jo.prototype.has=Xo;function Wo(R0){var xo=this.__data__=new No(R0);this.size=xo.size}function _f(){this.__data__=new No,this.size=0}function _c(R0){var xo=this.__data__,So=xo.delete(R0);return this.size=xo.size,So}function yl(R0){return this.__data__.get(R0)}function Ll(R0){return this.__data__.has(R0)}function Ul(R0,xo){var So=this.__data__;if(So instanceof No){var Do=So.__data__;if(!Io||Do.length<En-1)return Do.push([R0,xo]),this.size=++So.size,this;So=this.__data__=new Fo(Do)}return So.set(R0,xo),this.size=So.size,this}Wo.prototype.clear=_f,Wo.prototype.delete=_c,Wo.prototype.get=yl,Wo.prototype.has=Ll,Wo.prototype.set=Ul;function hu(R0,xo){var So=Vl(R0),Do=!So&&$u(R0),wl=!So&&!Do&&Jl(R0),Yo=!So&&!Do&&!wl&&ou(R0),_l=So||Do||wl||Yo,El=_l?P0(R0.length,String):[],Tl=El.length;for(var xl in R0)x0.call(R0,xl)&&!(_l&&(xl=="length"||wl&&(xl=="offset"||xl=="parent")||Yo&&(xl=="buffer"||xl=="byteLength"||xl=="byteOffset")||Eu(xl,Tl)))&&El.push(xl);return El}function Kl(R0,xo){for(var So=R0.length;So--;)if(nu(R0[So][0],xo))return So;return-1}function pu(R0,xo,So){var Do=xo(R0);return Vl(R0)?Do:$0(Do,So(R0))}function zl(R0){return R0==null?R0===void 0?w0:gs:L0&&L0 in Object(R0)?xu(R0):Mu(R0)}function Xl(R0){return Wl(R0)&&zl(R0)==xa}function eu(R0,xo,So,Do,wl){return R0===xo?!0:R0==null||xo==null||!Wl(R0)&&!Wl(xo)?R0!==R0&&xo!==xo:mu(R0,xo,So,Do,eu,wl)}function mu(R0,xo,So,Do,wl,Yo){var _l=Vl(R0),El=Vl(xo),Tl=_l?$a:Pl(R0),xl=El?$a:Pl(xo);Tl=Tl==xa?Ds:Tl,xl=xl==xa?Ds:xl;var Ml=Tl==Ds,Il=xl==Ds,Sl=Tl==xl;if(Sl&&Jl(R0)){if(!Jl(xo))return!1;_l=!0,Ml=!1}if(Sl&&!Ml)return Yo||(Yo=new Wo),_l||ou(R0)?tu(R0,xo,So,Do,wl,Yo):vu(R0,xo,Tl,So,Do,wl,Yo);if(!(So&_i)){var $l=Ml&&x0.call(R0,"__wrapped__"),Al=Il&&x0.call(xo,"__wrapped__");if($l||Al){var Nl=$l?R0.value():R0,Rl=Al?xo.value():xo;return Yo||(Yo=new Wo),wl(Nl,Rl,So,Do,Yo)}}return Sl?(Yo||(Yo=new Wo),wu(R0,xo,So,Do,wl,Yo)):!1}function yu(R0){if(!su(R0)||Su(R0))return!1;var xo=iu(R0)?_0:a0;return xo.test(Ol(R0))}function bu(R0){return Wl(R0)&&au(R0.length)&&!!s0[zl(R0)]}function gu(R0){if(!Cu(R0))return G0(R0);var xo=[];for(var So in Object(R0))x0.call(R0,So)&&So!="constructor"&&xo.push(So);return xo}function tu(R0,xo,So,Do,wl,Yo){var _l=So&_i,El=R0.length,Tl=xo.length;if(El!=Tl&&!(_l&&Tl>El))return!1;var xl=Yo.get(R0);if(xl&&Yo.get(xo))return xl==xo;var Ml=-1,Il=!0,Sl=So&An?new Jo:void 0;for(Yo.set(R0,xo),Yo.set(xo,R0);++Ml<El;){var $l=R0[Ml],Al=xo[Ml];if(Do)var Nl=_l?Do(Al,$l,Ml,xo,R0,Yo):Do($l,Al,Ml,R0,xo,Yo);if(Nl!==void 0){if(Nl)continue;Il=!1;break}if(Sl){if(!vo(xo,function(Rl,Bl){if(!_o(Sl,Bl)&&($l===Rl||wl($l,Rl,So,Do,Yo)))return Sl.push(Bl)})){Il=!1;break}}else if(!($l===Al||wl($l,Al,So,Do,Yo))){Il=!1;break}}return Yo.delete(R0),Yo.delete(xo),Il}function vu(R0,xo,So,Do,wl,Yo,_l){switch(So){case na:if(R0.byteLength!=xo.byteLength||R0.byteOffset!=xo.byteOffset)return!1;R0=R0.buffer,xo=xo.buffer;case ds:return!(R0.byteLength!=xo.byteLength||!Yo(new A0(R0),new A0(xo)));case ts:case is:case e0:return nu(+R0,+xo);case cs:return R0.name==xo.name&&R0.message==xo.message;case c0:case o0:return R0==xo+"";case bs:var El=B0;case d0:var Tl=Do&_i;if(El||(El=k0),R0.size!=xo.size&&!Tl)return!1;var xl=_l.get(R0);if(xl)return xl==xo;Do|=An,_l.set(R0,xo);var Ml=tu(El(R0),El(xo),Do,wl,Yo,_l);return _l.delete(R0),Ml;case g0:if(J0)return J0.call(R0)==J0.call(xo)}return!1}function wu(R0,xo,So,Do,wl,Yo){var _l=So&_i,El=ru(R0),Tl=El.length,xl=ru(xo),Ml=xl.length;if(Tl!=Ml&&!_l)return!1;for(var Il=Tl;Il--;){var Sl=El[Il];if(!(_l?Sl in xo:x0.call(xo,Sl)))return!1}var $l=Yo.get(R0);if($l&&Yo.get(xo))return $l==xo;var Al=!0;Yo.set(R0,xo),Yo.set(xo,R0);for(var Nl=_l;++Il<Tl;){Sl=El[Il];var Rl=R0[Sl],Bl=xo[Sl];if(Do)var fu=_l?Do(Bl,Rl,Sl,xo,R0,Yo):Do(Rl,Bl,Sl,R0,xo,Yo);if(!(fu===void 0?Rl===Bl||wl(Rl,Bl,So,Do,Yo):fu)){Al=!1;break}Nl||(Nl=Sl=="constructor")}if(Al&&!Nl){var Gl=R0.constructor,Zl=xo.constructor;Gl!=Zl&&"constructor"in R0&&"constructor"in xo&&!(typeof Gl=="function"&&Gl instanceof Gl&&typeof Zl=="function"&&Zl instanceof Zl)&&(Al=!1)}return Yo.delete(R0),Yo.delete(xo),Al}function ru(R0){return pu(R0,Ru,_u)}function Hl(R0,xo){var So=R0.__data__;return Tu(xo)?So[typeof xo=="string"?"string":"hash"]:So.map}function Fl(R0,xo){var So=O0(R0,xo);return yu(So)?So:void 0}function xu(R0){var xo=x0.call(R0,L0),So=R0[L0];try{R0[L0]=void 0;var Do=!0}catch{}var wl=v0.call(R0);return Do&&(xo?R0[L0]=So:delete R0[L0]),wl}var _u=V0?function(R0){return R0==null?[]:(R0=Object(R0),C0(V0(R0),function(xo){return U0.call(R0,xo)}))}:Pu,Pl=zl;(Z0&&Pl(new Z0(new ArrayBuffer(1)))!=na||Io&&Pl(new Io)!=bs||q0&&Pl(q0.resolve())!=i0||Y0&&Pl(new Y0)!=d0||Ro&&Pl(new Ro)!=M0)&&(Pl=function(R0){var xo=zl(R0),So=xo==Ds?R0.constructor:void 0,Do=So?Ol(So):"";if(Do)switch(Do){case X0:return na;case Po:return bs;case K0:return i0;case bo:return d0;case ko:return M0}return xo});function Eu(R0,xo){return xo=xo??ba,!!xo&&(typeof R0=="number"||l0.test(R0))&&R0>-1&&R0%1==0&&R0<xo}function Tu(R0){var xo=typeof R0;return xo=="string"||xo=="number"||xo=="symbol"||xo=="boolean"?R0!=="__proto__":R0===null}function Su(R0){return!!u0&&u0 in R0}function Cu(R0){var xo=R0&&R0.constructor,So=typeof xo=="function"&&xo.prototype||N0;return R0===So}function Mu(R0){return v0.call(R0)}function Ol(R0){if(R0!=null){try{return Co.call(R0)}catch{}try{return R0+""}catch{}}return""}function nu(R0,xo){return R0===xo||R0!==R0&&xo!==xo}var $u=Xl(function(){return arguments}())?Xl:function(R0){return Wl(R0)&&x0.call(R0,"callee")&&!U0.call(R0,"callee")},Vl=Array.isArray;function Au(R0){return R0!=null&&au(R0.length)&&!iu(R0)}var Jl=Mo||ku;function Iu(R0,xo){return eu(R0,xo)}function iu(R0){if(!su(R0))return!1;var xo=zl(R0);return xo==us||xo==ps||xo==rs||xo==n0}function au(R0){return typeof R0=="number"&&R0>-1&&R0%1==0&&R0<=ba}function su(R0){var xo=typeof R0;return R0!=null&&(xo=="object"||xo=="function")}function Wl(R0){return R0!=null&&typeof R0=="object"}var ou=I0?S0(I0):bu;function Ru(R0){return Au(R0)?hu(R0):gu(R0)}function Pu(){return[]}function ku(){return!1}vn.exports=Iu})(lodash_isequal,lodash_isequal.exports);var lodash_isequalExports=lodash_isequal.exports;const Yi=getDefaultExportFromCjs$1(lodash_isequalExports),ye$4="wc",De$2=2,ie$3="core",x$5=`${ye$4}@2:${ie$3}:`,Ye$1={name:ie$3,logger:"error"},Je$2={database:":memory:"},Xe$2="crypto",me$4="client_ed25519_seed",We$3=cjs$3.ONE_DAY,Ze$2="keychain",Qe$1="0.3",et$3="messages",tt$2="0.3",it$3=cjs$3.SIX_HOURS,st$3="publisher",rt$3="irn",nt$3="error",be$4="wss://relay.walletconnect.org",ot$3="relayer",v$4={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},at$3="_subscription",I$4={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},ht$4=.1,se$3="2.17.2",M$4={link_mode:"link_mode",relay:"relay"},ct$3="0.3",lt$3="WALLETCONNECT_CLIENT_ID",fe$3="WALLETCONNECT_LINK_MODE_APPS",O$4={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},ut$3="subscription",dt$3="0.3",pt$3=cjs$3.FIVE_SECONDS*1e3,gt$5="pairing",yt$3="0.3",B$3={wc_pairingDelete:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:cjs$3.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:cjs$3.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:0},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:0}}},V$4={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},P$3={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Dt$3="history",mt$2="0.3",bt$4="expirer",S$5={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},ft$2="0.3",_t$4="verify-api",vs$2="https://verify.walletconnect.com",Et$3="https://verify.walletconnect.org",J$2=Et$3,vt$4=`${J$2}/v3`,wt$3=[vs$2,Et$3],It$2="echo",Tt$4="https://echo.walletconnect.com",z$5={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},$$4={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Ct$2=.1,Pt$4="event-client",St$3=86400,Rt$2="https://pulse.walletconnect.org/batch";function Ss$2(vn,fn){if(vn.length>=255)throw new TypeError("Alphabet too long");for(var En=new Uint8Array(256),Cn=0;Cn<En.length;Cn++)En[Cn]=255;for(var _i=0;_i<vn.length;_i++){var An=vn.charAt(_i),ba=An.charCodeAt(0);if(En[ba]!==255)throw new TypeError(An+" is ambiguous");En[ba]=_i}var xa=vn.length,$a=vn.charAt(0),rs=Math.log(xa)/Math.log(256),ts=Math.log(256)/Math.log(xa);function is(ps){if(ps instanceof Uint8Array||(ArrayBuffer.isView(ps)?ps=new Uint8Array(ps.buffer,ps.byteOffset,ps.byteLength):Array.isArray(ps)&&(ps=Uint8Array.from(ps))),!(ps instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(ps.length===0)return"";for(var bs=0,e0=0,gs=0,Ds=ps.length;gs!==Ds&&ps[gs]===0;)gs++,bs++;for(var i0=(Ds-gs)*ts+1>>>0,n0=new Uint8Array(i0);gs!==Ds;){for(var c0=ps[gs],d0=0,o0=i0-1;(c0!==0||d0<e0)&&o0!==-1;o0--,d0++)c0+=256*n0[o0]>>>0,n0[o0]=c0%xa>>>0,c0=c0/xa>>>0;if(c0!==0)throw new Error("Non-zero carry");e0=d0,gs++}for(var g0=i0-e0;g0!==i0&&n0[g0]===0;)g0++;for(var w0=$a.repeat(bs);g0<i0;++g0)w0+=vn.charAt(n0[g0]);return w0}function cs(ps){if(typeof ps!="string")throw new TypeError("Expected String");if(ps.length===0)return new Uint8Array;var bs=0;if(ps[bs]!==" "){for(var e0=0,gs=0;ps[bs]===$a;)e0++,bs++;for(var Ds=(ps.length-bs)*rs+1>>>0,i0=new Uint8Array(Ds);ps[bs];){var n0=En[ps.charCodeAt(bs)];if(n0===255)return;for(var c0=0,d0=Ds-1;(n0!==0||c0<gs)&&d0!==-1;d0--,c0++)n0+=xa*i0[d0]>>>0,i0[d0]=n0%256>>>0,n0=n0/256>>>0;if(n0!==0)throw new Error("Non-zero carry");gs=c0,bs++}if(ps[bs]!==" "){for(var o0=Ds-gs;o0!==Ds&&i0[o0]===0;)o0++;for(var g0=new Uint8Array(e0+(Ds-o0)),w0=e0;o0!==Ds;)g0[w0++]=i0[o0++];return g0}}}function us(ps){var bs=cs(ps);if(bs)return bs;throw new Error(`Non-${fn} character`)}return{encode:is,decodeUnsafe:cs,decode:us}}var Rs$2=Ss$2,xs$1=Rs$2;const xt$4=vn=>{if(vn instanceof Uint8Array&&vn.constructor.name==="Uint8Array")return vn;if(vn instanceof ArrayBuffer)return new Uint8Array(vn);if(ArrayBuffer.isView(vn))return new Uint8Array(vn.buffer,vn.byteOffset,vn.byteLength);throw new Error("Unknown type, must be binary type")},Os$1=vn=>new TextEncoder().encode(vn),As$1=vn=>new TextDecoder().decode(vn);let Ns$2=class{constructor(fn,En,Cn){this.name=fn,this.prefix=En,this.baseEncode=Cn}encode(fn){if(fn instanceof Uint8Array)return`${this.prefix}${this.baseEncode(fn)}`;throw Error("Unknown type, must be binary type")}},zs$1=class{constructor(fn,En,Cn){if(this.name=fn,this.prefix=En,En.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=En.codePointAt(0),this.baseDecode=Cn}decode(fn){if(typeof fn=="string"){if(fn.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(fn)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(fn.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(fn){return Ot$4(this,fn)}},Ls$1=class{constructor(fn){this.decoders=fn}or(fn){return Ot$4(this,fn)}decode(fn){const En=fn[0],Cn=this.decoders[En];if(Cn)return Cn.decode(fn);throw RangeError(`Unable to decode multibase string ${JSON.stringify(fn)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Ot$4=(vn,fn)=>new Ls$1({...vn.decoders||{[vn.prefix]:vn},...fn.decoders||{[fn.prefix]:fn}});let $s$1=class{constructor(fn,En,Cn,_i){this.name=fn,this.prefix=En,this.baseEncode=Cn,this.baseDecode=_i,this.encoder=new Ns$2(fn,En,Cn),this.decoder=new zs$1(fn,En,_i)}encode(fn){return this.encoder.encode(fn)}decode(fn){return this.decoder.decode(fn)}};const re$3=({name:vn,prefix:fn,encode:En,decode:Cn})=>new $s$1(vn,fn,En,Cn),X$2=({prefix:vn,name:fn,alphabet:En})=>{const{encode:Cn,decode:_i}=xs$1(En,fn);return re$3({prefix:vn,name:fn,encode:Cn,decode:An=>xt$4(_i(An))})},ks$1=(vn,fn,En,Cn)=>{const _i={};for(let ts=0;ts<fn.length;++ts)_i[fn[ts]]=ts;let An=vn.length;for(;vn[An-1]==="=";)--An;const ba=new Uint8Array(An*En/8|0);let xa=0,$a=0,rs=0;for(let ts=0;ts<An;++ts){const is=_i[vn[ts]];if(is===void 0)throw new SyntaxError(`Non-${Cn} character`);$a=$a<<En|is,xa+=En,xa>=8&&(xa-=8,ba[rs++]=255&$a>>xa)}if(xa>=En||255&$a<<8-xa)throw new SyntaxError("Unexpected end of data");return ba},Ms$1=(vn,fn,En)=>{const Cn=fn[fn.length-1]==="=",_i=(1<<En)-1;let An="",ba=0,xa=0;for(let $a=0;$a<vn.length;++$a)for(xa=xa<<8|vn[$a],ba+=8;ba>En;)ba-=En,An+=fn[_i&xa>>ba];if(ba&&(An+=fn[_i&xa<<En-ba]),Cn)for(;An.length*En&7;)An+="=";return An},f$2=({name:vn,prefix:fn,bitsPerChar:En,alphabet:Cn})=>re$3({prefix:fn,name:vn,encode(_i){return Ms$1(_i,Cn,En)},decode(_i){return ks$1(_i,Cn,En,vn)}}),Us$1=re$3({prefix:"\0",name:"identity",encode:vn=>As$1(vn),decode:vn=>Os$1(vn)});var Fs$1=Object.freeze({__proto__:null,identity:Us$1});const Ks$1=f$2({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Bs$1=Object.freeze({__proto__:null,base2:Ks$1});const Vs$1=f$2({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var js$1=Object.freeze({__proto__:null,base8:Vs$1});const qs$2=X$2({prefix:"9",name:"base10",alphabet:"0123456789"});var Gs$1=Object.freeze({__proto__:null,base10:qs$2});const Hs$1=f$2({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ys$1=f$2({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Js$1=Object.freeze({__proto__:null,base16:Hs$1,base16upper:Ys$1});const Xs$1=f$2({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ws$1=f$2({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Zs$1=f$2({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Qs$1=f$2({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),er$3=f$2({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),tr$2=f$2({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ir$3=f$2({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),sr$2=f$2({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),rr$2=f$2({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var nr$3=Object.freeze({__proto__:null,base32:Xs$1,base32upper:Ws$1,base32pad:Zs$1,base32padupper:Qs$1,base32hex:er$3,base32hexupper:tr$2,base32hexpad:ir$3,base32hexpadupper:sr$2,base32z:rr$2});const or$2=X$2({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ar$3=X$2({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var hr$3=Object.freeze({__proto__:null,base36:or$2,base36upper:ar$3});const cr$3=X$2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),lr$3=X$2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ur$3=Object.freeze({__proto__:null,base58btc:cr$3,base58flickr:lr$3});const dr$3=f$2({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),pr$3=f$2({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),gr$3=f$2({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),yr$3=f$2({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Dr$3=Object.freeze({__proto__:null,base64:dr$3,base64pad:pr$3,base64url:gr$3,base64urlpad:yr$3});const At$3=Array.from(""),mr$3=At$3.reduce((vn,fn,En)=>(vn[En]=fn,vn),[]),br$3=At$3.reduce((vn,fn,En)=>(vn[fn.codePointAt(0)]=En,vn),[]);function fr$3(vn){return vn.reduce((fn,En)=>(fn+=mr$3[En],fn),"")}function _r$3(vn){const fn=[];for(const En of vn){const Cn=br$3[En.codePointAt(0)];if(Cn===void 0)throw new Error(`Non-base256emoji character: ${En}`);fn.push(Cn)}return new Uint8Array(fn)}const Er$3=re$3({prefix:"",name:"base256emoji",encode:fr$3,decode:_r$3});var vr$3=Object.freeze({__proto__:null,base256emoji:Er$3}),wr$3=zt$3,Nt$4=128,Ir$2=127,Tr$3=~Ir$2,Cr$3=Math.pow(2,31);function zt$3(vn,fn,En){fn=fn||[],En=En||0;for(var Cn=En;vn>=Cr$3;)fn[En++]=vn&255|Nt$4,vn/=128;for(;vn&Tr$3;)fn[En++]=vn&255|Nt$4,vn>>>=7;return fn[En]=vn|0,zt$3.bytes=En-Cn+1,fn}var Pr$3=_e$2,Sr$3=128,Lt$4=127;function _e$2(vn,Cn){var En=0,Cn=Cn||0,_i=0,An=Cn,ba,xa=vn.length;do{if(An>=xa)throw _e$2.bytes=0,new RangeError("Could not decode varint");ba=vn[An++],En+=_i<28?(ba&Lt$4)<<_i:(ba&Lt$4)*Math.pow(2,_i),_i+=7}while(ba>=Sr$3);return _e$2.bytes=An-Cn,En}var Rr$3=Math.pow(2,7),xr$3=Math.pow(2,14),Or$3=Math.pow(2,21),Ar$3=Math.pow(2,28),Nr$3=Math.pow(2,35),zr$3=Math.pow(2,42),Lr$1=Math.pow(2,49),$r$3=Math.pow(2,56),kr$2=Math.pow(2,63),Mr$1=function(vn){return vn<Rr$3?1:vn<xr$3?2:vn<Or$3?3:vn<Ar$3?4:vn<Nr$3?5:vn<zr$3?6:vn<Lr$1?7:vn<$r$3?8:vn<kr$2?9:10},Ur$2={encode:wr$3,decode:Pr$3,encodingLength:Mr$1},$t$3=Ur$2;const kt$4=(vn,fn,En=0)=>($t$3.encode(vn,fn,En),fn),Mt$3=vn=>$t$3.encodingLength(vn),Ee$3=(vn,fn)=>{const En=fn.byteLength,Cn=Mt$3(vn),_i=Cn+Mt$3(En),An=new Uint8Array(_i+En);return kt$4(vn,An,0),kt$4(En,An,Cn),An.set(fn,_i),new Fr$2(vn,En,fn,An)};let Fr$2=class{constructor(fn,En,Cn,_i){this.code=fn,this.size=En,this.digest=Cn,this.bytes=_i}};const Ut$2=({name:vn,code:fn,encode:En})=>new Kr$1(vn,fn,En);let Kr$1=class{constructor(fn,En,Cn){this.name=fn,this.code=En,this.encode=Cn}digest(fn){if(fn instanceof Uint8Array){const En=this.encode(fn);return En instanceof Uint8Array?Ee$3(this.code,En):En.then(Cn=>Ee$3(this.code,Cn))}else throw Error("Unknown type, must be binary type")}};const Ft$3=vn=>async fn=>new Uint8Array(await crypto.subtle.digest(vn,fn)),Br$2=Ut$2({name:"sha2-256",code:18,encode:Ft$3("SHA-256")}),Vr$1=Ut$2({name:"sha2-512",code:19,encode:Ft$3("SHA-512")});var jr$2=Object.freeze({__proto__:null,sha256:Br$2,sha512:Vr$1});const Kt$3=0,qr$1="identity",Bt$4=xt$4,Gr$2=vn=>Ee$3(Kt$3,Bt$4(vn)),Hr$1={code:Kt$3,name:qr$1,encode:Bt$4,digest:Gr$2};var Yr$2=Object.freeze({__proto__:null,identity:Hr$1});new TextEncoder,new TextDecoder;const Vt$3={...Fs$1,...Bs$1,...js$1,...Gs$1,...Js$1,...nr$3,...hr$3,...ur$3,...Dr$3,...vr$3};({...jr$2,...Yr$2});function Jr$2(vn=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(vn):new Uint8Array(vn)}function jt$3(vn,fn,En,Cn){return{name:vn,prefix:fn,encoder:{name:vn,prefix:fn,encode:En},decoder:{decode:Cn}}}const qt$3=jt$3("utf8","u",vn=>"u"+new TextDecoder("utf8").decode(vn),vn=>new TextEncoder().encode(vn.substring(1))),ve$2=jt$3("ascii","a",vn=>{let fn="a";for(let En=0;En<vn.length;En++)fn+=String.fromCharCode(vn[En]);return fn},vn=>{vn=vn.substring(1);const fn=Jr$2(vn.length);for(let En=0;En<vn.length;En++)fn[En]=vn.charCodeAt(En);return fn}),Xr$2={utf8:qt$3,"utf-8":qt$3,hex:Vt$3.base16,latin1:ve$2,ascii:ve$2,binary:ve$2,...Vt$3};function Wr$1(vn,fn="utf8"){const En=Xr$2[fn];if(!En)throw new Error(`Unsupported encoding "${fn}"`);return(fn==="utf8"||fn==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(vn,"utf8"):En.decoder.decode(`${En.prefix}${vn}`)}let Gt$4=class{constructor(fn,En){this.core=fn,this.logger=En,this.keychain=new Map,this.name=Ze$2,this.version=Qe$1,this.initialized=!1,this.storagePrefix=x$5,this.init=async()=>{if(!this.initialized){const Cn=await this.getKeyChain();typeof Cn<"u"&&(this.keychain=Cn),this.initialized=!0}},this.has=Cn=>(this.isInitialized(),this.keychain.has(Cn)),this.set=async(Cn,_i)=>{this.isInitialized(),this.keychain.set(Cn,_i),await this.persist()},this.get=Cn=>{this.isInitialized();const _i=this.keychain.get(Cn);if(typeof _i>"u"){const{message:An}=S$7("NO_MATCHING_KEY",`${this.name}: ${Cn}`);throw new Error(An)}return _i},this.del=async Cn=>{this.isInitialized(),this.keychain.delete(Cn),await this.persist()},this.core=fn,this.logger=E$1(En,this.name)}get context(){return y$5(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(fn){await this.core.storage.setItem(this.storageKey,Tt$5(fn))}async getKeyChain(){const fn=await this.core.storage.getItem(this.storageKey);return typeof fn<"u"?Pt$5(fn):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:fn}=S$7("NOT_INITIALIZED",this.name);throw new Error(fn)}}},Ht$3=class{constructor(fn,En,Cn){this.core=fn,this.logger=En,this.name=Xe$2,this.randomSessionIdentifier=pr$4(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=_i=>(this.isInitialized(),this.keychain.has(_i)),this.getClientId=async()=>{this.isInitialized();const _i=await this.getClientSeed(),An=generateKeyPair(_i);return encodeIss(An.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const _i=fr$4();return this.setPrivateKey(_i.publicKey,_i.privateKey)},this.signJWT=async _i=>{this.isInitialized();const An=await this.getClientSeed(),ba=generateKeyPair(An),xa=this.randomSessionIdentifier;return await signJWT(xa,_i,We$3,ba)},this.generateSharedKey=(_i,An,ba)=>{this.isInitialized();const xa=this.getPrivateKey(_i),$a=mr$4(xa,An);return this.setSymKey($a,ba)},this.setSymKey=async(_i,An)=>{this.isInitialized();const ba=An||hr$4(_i);return await this.keychain.set(ba,_i),ba},this.deleteKeyPair=async _i=>{this.isInitialized(),await this.keychain.del(_i)},this.deleteSymKey=async _i=>{this.isInitialized(),await this.keychain.del(_i)},this.encode=async(_i,An,ba)=>{this.isInitialized();const xa=On$1(ba),$a=safeJsonStringify(An);if(Nr$4(xa))return vr$4($a,ba==null?void 0:ba.encoding);if(Or$4(xa)){const cs=xa.senderPublicKey,us=xa.receiverPublicKey;_i=await this.generateSharedKey(cs,us)}const rs=this.getSymKey(_i),{type:ts,senderPublicKey:is}=xa;return gr$4({type:ts,symKey:rs,message:$a,senderPublicKey:is,encoding:ba==null?void 0:ba.encoding})},this.decode=async(_i,An,ba)=>{this.isInitialized();const xa=wr$4(An,ba);if(Nr$4(xa)){const $a=Er$4(An,ba==null?void 0:ba.encoding);return safeJsonParse($a)}if(Or$4(xa)){const $a=xa.receiverPublicKey,rs=xa.senderPublicKey;_i=await this.generateSharedKey($a,rs)}try{const $a=this.getSymKey(_i),rs=br$4({symKey:$a,encoded:An,encoding:ba==null?void 0:ba.encoding});return safeJsonParse(rs)}catch($a){this.logger.error(`Failed to decode message from topic: '${_i}', clientId: '${await this.getClientId()}'`),this.logger.error($a)}},this.getPayloadType=(_i,An=ge$2)=>{const ba=Q$2({encoded:_i,encoding:An});return A$1(ba.type)},this.getPayloadSenderPublicKey=(_i,An=ge$2)=>{const ba=Q$2({encoded:_i,encoding:An});return ba.senderPublicKey?toString$1(ba.senderPublicKey,g$3):void 0},this.core=fn,this.logger=E$1(En,this.name),this.keychain=Cn||new Gt$4(this.core,this.logger)}get context(){return y$5(this.logger)}async setPrivateKey(fn,En){return await this.keychain.set(fn,En),fn}getPrivateKey(fn){return this.keychain.get(fn)}async getClientSeed(){let fn="";try{fn=this.keychain.get(me$4)}catch{fn=pr$4(),await this.keychain.set(me$4,fn)}return Wr$1(fn,"base16")}getSymKey(fn){return this.keychain.get(fn)}isInitialized(){if(!this.initialized){const{message:fn}=S$7("NOT_INITIALIZED",this.name);throw new Error(fn)}}},Yt$3=class extends a$2{constructor(fn,En){super(fn,En),this.logger=fn,this.core=En,this.messages=new Map,this.name=et$3,this.version=tt$2,this.initialized=!1,this.storagePrefix=x$5,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const Cn=await this.getRelayerMessages();typeof Cn<"u"&&(this.messages=Cn),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(Cn){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(Cn)}finally{this.initialized=!0}}},this.set=async(Cn,_i)=>{this.isInitialized();const An=yr$4(_i);let ba=this.messages.get(Cn);return typeof ba>"u"&&(ba={}),typeof ba[An]<"u"||(ba[An]=_i,this.messages.set(Cn,ba),await this.persist()),An},this.get=Cn=>{this.isInitialized();let _i=this.messages.get(Cn);return typeof _i>"u"&&(_i={}),_i},this.has=(Cn,_i)=>{this.isInitialized();const An=this.get(Cn),ba=yr$4(_i);return typeof An[ba]<"u"},this.del=async Cn=>{this.isInitialized(),this.messages.delete(Cn),await this.persist()},this.logger=E$1(fn,this.name),this.core=En}get context(){return y$5(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(fn){await this.core.storage.setItem(this.storageKey,Tt$5(fn))}async getRelayerMessages(){const fn=await this.core.storage.getItem(this.storageKey);return typeof fn<"u"?Pt$5(fn):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:fn}=S$7("NOT_INITIALIZED",this.name);throw new Error(fn)}}},Zr$2=class extends g$6{constructor(fn,En){super(fn,En),this.relayer=fn,this.logger=En,this.events=new eventsExports.EventEmitter,this.name=st$3,this.queue=new Map,this.publishTimeout=cjs$3.toMiliseconds(cjs$3.ONE_MINUTE),this.failedPublishTimeout=cjs$3.toMiliseconds(cjs$3.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(Cn,_i,An)=>{var ba;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:Cn,message:_i,opts:An}});const xa=(An==null?void 0:An.ttl)||it$3,$a=Ir$3(An),rs=(An==null?void 0:An.prompt)||!1,ts=(An==null?void 0:An.tag)||0,is=(An==null?void 0:An.id)||getBigIntRpcId().toString(),cs={topic:Cn,message:_i,opts:{ttl:xa,relay:$a,prompt:rs,tag:ts,id:is,attestation:An==null?void 0:An.attestation}},us=`Failed to publish payload, please try again. id:${is} tag:${ts}`,ps=Date.now();let bs,e0=1;try{for(;bs===void 0;){if(Date.now()-ps>this.publishTimeout)throw new Error(us);this.logger.trace({id:is,attempts:e0},`publisher.publish - attempt ${e0}`),bs=await await kt$5(this.rpcPublish(Cn,_i,xa,$a,rs,ts,is,An==null?void 0:An.attestation).catch(gs=>this.logger.warn(gs)),this.publishTimeout,us),e0++,bs||await new Promise(gs=>setTimeout(gs,this.failedPublishTimeout))}this.relayer.events.emit(v$4.publish,cs),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:is,topic:Cn,message:_i,opts:An}})}catch(gs){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(gs),(ba=An==null?void 0:An.internal)!=null&&ba.throwOnFailedPublish)throw gs;this.queue.set(is,cs)}},this.on=(Cn,_i)=>{this.events.on(Cn,_i)},this.once=(Cn,_i)=>{this.events.once(Cn,_i)},this.off=(Cn,_i)=>{this.events.off(Cn,_i)},this.removeListener=(Cn,_i)=>{this.events.removeListener(Cn,_i)},this.relayer=fn,this.logger=E$1(En,this.name),this.registerEventListeners()}get context(){return y$5(this.logger)}rpcPublish(fn,En,Cn,_i,An,ba,xa,$a){var rs,ts,is,cs;const us={method:jr$3(_i.protocol).publish,params:{topic:fn,message:En,ttl:Cn,prompt:An,tag:ba,attestation:$a},id:xa};return I$5((rs=us.params)==null?void 0:rs.prompt)&&((ts=us.params)==null||delete ts.prompt),I$5((is=us.params)==null?void 0:is.tag)&&((cs=us.params)==null||delete cs.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:us}),this.relayer.request(us)}removeRequestFromQueue(fn){this.queue.delete(fn)}checkQueue(){this.queue.forEach(async fn=>{const{topic:En,message:Cn,opts:_i}=fn;await this.publish(En,Cn,_i)})}registerEventListeners(){this.relayer.core.heartbeat.on(r$2.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(v$4.connection_stalled);return}this.checkQueue()}),this.relayer.on(v$4.message_ack,fn=>{this.removeRequestFromQueue(fn.id.toString())})}},Qr$2=class{constructor(){this.map=new Map,this.set=(fn,En)=>{const Cn=this.get(fn);this.exists(fn,En)||this.map.set(fn,[...Cn,En])},this.get=fn=>this.map.get(fn)||[],this.exists=(fn,En)=>this.get(fn).includes(En),this.delete=(fn,En)=>{if(typeof En>"u"){this.map.delete(fn);return}if(!this.map.has(fn))return;const Cn=this.get(fn);if(!this.exists(fn,En))return;const _i=Cn.filter(An=>An!==En);if(!_i.length){this.map.delete(fn);return}this.map.set(fn,_i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}};var en$3=Object.defineProperty,tn$2=Object.defineProperties,sn$2=Object.getOwnPropertyDescriptors,Jt$3=Object.getOwnPropertySymbols,rn$2=Object.prototype.hasOwnProperty,nn$2=Object.prototype.propertyIsEnumerable,Xt$3=(vn,fn,En)=>fn in vn?en$3(vn,fn,{enumerable:!0,configurable:!0,writable:!0,value:En}):vn[fn]=En,W$3=(vn,fn)=>{for(var En in fn||(fn={}))rn$2.call(fn,En)&&Xt$3(vn,En,fn[En]);if(Jt$3)for(var En of Jt$3(fn))nn$2.call(fn,En)&&Xt$3(vn,En,fn[En]);return vn},we$4=(vn,fn)=>tn$2(vn,sn$2(fn));let Wt$3=class extends d$2{constructor(fn,En){super(fn,En),this.relayer=fn,this.logger=En,this.subscriptions=new Map,this.topicMap=new Qr$2,this.events=new eventsExports.EventEmitter,this.name=ut$3,this.version=dt$3,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=x$5,this.subscribeTimeout=cjs$3.toMiliseconds(cjs$3.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(Cn,_i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:Cn,opts:_i}});try{const An=Ir$3(_i),ba={topic:Cn,relay:An,transportType:_i==null?void 0:_i.transportType};this.pending.set(Cn,ba);const xa=await this.rpcSubscribe(Cn,An,_i);return typeof xa=="string"&&(this.onSubscribe(xa,ba),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:Cn,opts:_i}})),xa}catch(An){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(An),An}},this.unsubscribe=async(Cn,_i)=>{await this.restartToComplete(),this.isInitialized(),typeof(_i==null?void 0:_i.id)<"u"?await this.unsubscribeById(Cn,_i.id,_i):await this.unsubscribeByTopic(Cn,_i)},this.isSubscribed=async Cn=>{if(this.topics.includes(Cn))return!0;const _i=`${this.pendingSubscriptionWatchLabel}_${Cn}`;return await new Promise((An,ba)=>{const xa=new cjs$3.Watch;xa.start(_i);const $a=setInterval(()=>{!this.pending.has(Cn)&&this.topics.includes(Cn)&&(clearInterval($a),xa.stop(_i),An(!0)),xa.elapsed(_i)>=pt$3&&(clearInterval($a),xa.stop(_i),ba(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(Cn,_i)=>{this.events.on(Cn,_i)},this.once=(Cn,_i)=>{this.events.once(Cn,_i)},this.off=(Cn,_i)=>{this.events.off(Cn,_i)},this.removeListener=(Cn,_i)=>{this.events.removeListener(Cn,_i)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=fn,this.logger=E$1(En,this.name),this.clientId=""}get context(){return y$5(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(fn,En){let Cn=!1;try{Cn=this.getSubscription(fn).topic===En}catch{}return Cn}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(fn,En){const Cn=this.topicMap.get(fn);await Promise.all(Cn.map(async _i=>await this.unsubscribeById(fn,_i,En)))}async unsubscribeById(fn,En,Cn){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:fn,id:En,opts:Cn}});try{const _i=Ir$3(Cn);await this.rpcUnsubscribe(fn,En,_i);const An=U$3("USER_DISCONNECTED",`${this.name}, ${fn}`);await this.onUnsubscribe(fn,En,An),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:fn,id:En,opts:Cn}})}catch(_i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(_i),_i}}async rpcSubscribe(fn,En,Cn){var _i;(Cn==null?void 0:Cn.transportType)===M$4.relay&&await this.restartToComplete();const An={method:jr$3(En.protocol).subscribe,params:{topic:fn}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:An});const ba=(_i=Cn==null?void 0:Cn.internal)==null?void 0:_i.throwOnFailedPublish;try{const xa=yr$4(fn+this.clientId);if((Cn==null?void 0:Cn.transportType)===M$4.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(An).catch(rs=>this.logger.warn(rs))},cjs$3.toMiliseconds(cjs$3.ONE_SECOND)),xa;const $a=await kt$5(this.relayer.request(An).catch(rs=>this.logger.warn(rs)),this.subscribeTimeout,`Subscribing to ${fn} failed, please try again`);if(!$a&&ba)throw new Error(`Subscribing to ${fn} failed, please try again`);return $a?xa:null}catch(xa){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(v$4.connection_stalled),ba)throw xa}return null}async rpcBatchSubscribe(fn){if(!fn.length)return;const En=fn[0].relay,Cn={method:jr$3(En.protocol).batchSubscribe,params:{topics:fn.map(_i=>_i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:Cn});try{return await await kt$5(this.relayer.request(Cn).catch(_i=>this.logger.warn(_i)),this.subscribeTimeout)}catch{this.relayer.events.emit(v$4.connection_stalled)}}async rpcBatchFetchMessages(fn){if(!fn.length)return;const En=fn[0].relay,Cn={method:jr$3(En.protocol).batchFetchMessages,params:{topics:fn.map(An=>An.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:Cn});let _i;try{_i=await await kt$5(this.relayer.request(Cn).catch(An=>this.logger.warn(An)),this.subscribeTimeout)}catch{this.relayer.events.emit(v$4.connection_stalled)}return _i}rpcUnsubscribe(fn,En,Cn){const _i={method:jr$3(Cn.protocol).unsubscribe,params:{topic:fn,id:En}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:_i}),this.relayer.request(_i)}onSubscribe(fn,En){this.setSubscription(fn,we$4(W$3({},En),{id:fn})),this.pending.delete(En.topic)}onBatchSubscribe(fn){fn.length&&fn.forEach(En=>{this.setSubscription(En.id,W$3({},En)),this.pending.delete(En.topic)})}async onUnsubscribe(fn,En,Cn){this.events.removeAllListeners(En),this.hasSubscription(En,fn)&&this.deleteSubscription(En,Cn),await this.relayer.messages.del(fn)}async setRelayerSubscriptions(fn){await this.relayer.core.storage.setItem(this.storageKey,fn)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(fn,En){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:fn,subscription:En}),this.addSubscription(fn,En)}addSubscription(fn,En){this.subscriptions.set(fn,W$3({},En)),this.topicMap.set(En.topic,fn),this.events.emit(O$4.created,En)}getSubscription(fn){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:fn});const En=this.subscriptions.get(fn);if(!En){const{message:Cn}=S$7("NO_MATCHING_KEY",`${this.name}: ${fn}`);throw new Error(Cn)}return En}deleteSubscription(fn,En){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:fn,reason:En});const Cn=this.getSubscription(fn);this.subscriptions.delete(fn),this.topicMap.delete(Cn.topic,fn),this.events.emit(O$4.deleted,we$4(W$3({},Cn),{reason:En}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(O$4.sync)}async reset(){if(this.cached.length){const fn=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let En=0;En<fn;En++){const Cn=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(Cn),await this.batchSubscribe(Cn)}}this.events.emit(O$4.resubscribed)}async restore(){try{const fn=await this.getRelayerSubscriptions();if(typeof fn>"u"||!fn.length)return;if(this.subscriptions.size){const{message:En}=S$7("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(En),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(En)}this.cached=fn,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(fn){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(fn)}}async batchSubscribe(fn){if(!fn.length)return;const En=await this.rpcBatchSubscribe(fn);L$3(En)&&this.onBatchSubscribe(En.map((Cn,_i)=>we$4(W$3({},fn[_i]),{id:Cn})))}async batchFetchMessages(fn){if(!fn.length)return;this.logger.trace(`Fetching batch messages for ${fn.length} subscriptions`);const En=await this.rpcBatchFetchMessages(fn);En&&En.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(En.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const fn=[];this.pending.forEach(En=>{fn.push(En)}),await this.batchSubscribe(fn),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(r$2.pulse,async()=>{await this.checkPending()}),this.events.on(O$4.created,async fn=>{const En=O$4.created;this.logger.info(`Emitting ${En}`),this.logger.debug({type:"event",event:En,data:fn}),await this.persist()}),this.events.on(O$4.deleted,async fn=>{const En=O$4.deleted;this.logger.info(`Emitting ${En}`),this.logger.debug({type:"event",event:En,data:fn}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:fn}=S$7("NOT_INITIALIZED",this.name);throw new Error(fn)}}async restartToComplete(){!this.relayer.connected&&!this.relayer.connecting&&await this.relayer.transportOpen(),this.restartInProgress&&await new Promise(fn=>{const En=setInterval(()=>{this.restartInProgress||(clearInterval(En),fn())},this.pollingInterval)})}};var on$2=Object.defineProperty,Zt$3=Object.getOwnPropertySymbols,an$2=Object.prototype.hasOwnProperty,hn$2=Object.prototype.propertyIsEnumerable,Qt$3=(vn,fn,En)=>fn in vn?on$2(vn,fn,{enumerable:!0,configurable:!0,writable:!0,value:En}):vn[fn]=En,ei$1=(vn,fn)=>{for(var En in fn||(fn={}))an$2.call(fn,En)&&Qt$3(vn,En,fn[En]);if(Zt$3)for(var En of Zt$3(fn))hn$2.call(fn,En)&&Qt$3(vn,En,fn[En]);return vn};let ti$1=class extends u$1{constructor(fn){super(fn),this.protocol="wc",this.version=2,this.events=new eventsExports.EventEmitter,this.name=ot$3,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=cjs$3.toMiliseconds(cjs$3.THIRTY_SECONDS+cjs$3.ONE_SECOND),this.request=async En=>{var Cn,_i;this.logger.debug("Publishing Request Payload");const An=En.id||getBigIntRpcId().toString();await this.toEstablishConnection();try{const ba=this.provider.request(En);this.requestsInFlight.set(An,{promise:ba,request:En}),this.logger.trace({id:An,method:En.method,topic:(Cn=En.params)==null?void 0:Cn.topic},"relayer.request - attempt to publish...");const xa=await new Promise(async($a,rs)=>{const ts=()=>{rs(new Error(`relayer.request - publish interrupted, id: ${An}`))};this.provider.on(I$4.disconnect,ts);const is=await ba;this.provider.off(I$4.disconnect,ts),$a(is)});return this.logger.trace({id:An,method:En.method,topic:(_i=En.params)==null?void 0:_i.topic},"relayer.request - published"),xa}catch(ba){throw this.logger.debug(`Failed to Publish Request: ${An}`),ba}finally{this.requestsInFlight.delete(An)}},this.resetPingTimeout=()=>{if(ce$2())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var En,Cn,_i;(_i=(Cn=(En=this.provider)==null?void 0:En.connection)==null?void 0:Cn.socket)==null||_i.terminate()},this.heartBeatTimeout)}catch(En){this.logger.warn(En)}},this.onPayloadHandler=En=>{this.onProviderPayload(En),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(v$4.connect)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=En=>{this.logger.error(En),this.events.emit(v$4.error,En),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(I$4.payload,this.onPayloadHandler),this.provider.on(I$4.connect,this.onConnectHandler),this.provider.on(I$4.disconnect,this.onDisconnectHandler),this.provider.on(I$4.error,this.onProviderErrorHandler)},this.core=fn.core,this.logger=typeof fn.logger<"u"&&typeof fn.logger!="string"?E$1(fn.logger,this.name):Hg(k$3({level:fn.logger||nt$3})),this.messages=new Yt$3(this.logger,fn.core),this.subscriber=new Wt$3(this,this.logger),this.publisher=new Zr$2(this,this.logger),this.relayUrl=(fn==null?void 0:fn.relayUrl)||be$4,this.projectId=fn.projectId,this.bundleId=Ot$5(),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(fn){this.logger.warn(fn)}}get context(){return y$5(this.logger)}get connected(){var fn,En,Cn;return((Cn=(En=(fn=this.provider)==null?void 0:fn.connection)==null?void 0:En.socket)==null?void 0:Cn.readyState)===1}get connecting(){var fn,En,Cn;return((Cn=(En=(fn=this.provider)==null?void 0:fn.connection)==null?void 0:En.socket)==null?void 0:Cn.readyState)===0}async publish(fn,En,Cn){this.isInitialized(),await this.publisher.publish(fn,En,Cn),await this.recordMessageEvent({topic:fn,message:En,publishedAt:Date.now(),transportType:M$4.relay})}async subscribe(fn,En){var Cn,_i,An;this.isInitialized(),(En==null?void 0:En.transportType)==="relay"&&await this.toEstablishConnection();const ba=typeof((Cn=En==null?void 0:En.internal)==null?void 0:Cn.throwOnFailedPublish)>"u"?!0:(_i=En==null?void 0:En.internal)==null?void 0:_i.throwOnFailedPublish;let xa=((An=this.subscriber.topicMap.get(fn))==null?void 0:An[0])||"",$a;const rs=ts=>{ts.topic===fn&&(this.subscriber.off(O$4.created,rs),$a())};return await Promise.all([new Promise(ts=>{$a=ts,this.subscriber.on(O$4.created,rs)}),new Promise(async(ts,is)=>{xa=await this.subscriber.subscribe(fn,ei$1({internal:{throwOnFailedPublish:ba}},En)).catch(cs=>{ba&&is(cs)})||xa,ts()})]),xa}async unsubscribe(fn,En){this.isInitialized(),await this.subscriber.unsubscribe(fn,En)}on(fn,En){this.events.on(fn,En)}once(fn,En){this.events.once(fn,En)}off(fn,En){this.events.off(fn,En)}removeListener(fn,En){this.events.removeListener(fn,En)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(fn=>fn.promise))}catch(fn){this.logger.warn(fn)}this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await kt$5(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(fn){await this.confirmOnlineStateOrThrow(),fn&&fn!==this.relayUrl&&(this.relayUrl=fn,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(En,Cn)=>{const _i=()=>{this.provider.off(I$4.disconnect,_i),Cn(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(I$4.disconnect,_i),await kt$5(this.provider.connect(),cjs$3.toMiliseconds(cjs$3.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(An=>{Cn(An)}).finally(()=>{clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0}),this.subscriber.start().catch(An=>{this.logger.error(An),this.onDisconnectHandler()}),this.hasExperiencedNetworkDisruption=!1,En()})}catch(En){this.logger.error(En);const Cn=En;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(Cn.message))throw En}finally{this.connectionAttemptInProgress=!1}}async restartTransport(fn){this.connectionAttemptInProgress||(this.relayUrl=fn||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await mo$1())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(fn){if((fn==null?void 0:fn.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const En=fn.sort((Cn,_i)=>Cn.publishedAt-_i.publishedAt);this.logger.trace(`Batch of ${En.length} message events sorted`);for(const Cn of En)try{await this.onMessageEvent(Cn)}catch(_i){this.logger.warn(_i)}this.logger.trace(`Batch of ${En.length} message events processed`)}async onLinkMessageEvent(fn,En){const{topic:Cn}=fn;if(!En.sessionExists){const _i=Mt$4(cjs$3.FIVE_MINUTES),An={topic:Cn,expiry:_i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(Cn,An)}this.events.emit(v$4.message,fn),await this.recordMessageEvent(fn)}startPingTimeout(){var fn,En,Cn,_i,An;if(ce$2())try{(En=(fn=this.provider)==null?void 0:fn.connection)!=null&&En.socket&&((An=(_i=(Cn=this.provider)==null?void 0:Cn.connection)==null?void 0:_i.socket)==null||An.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(ba){this.logger.warn(ba)}}isConnectionStalled(fn){return this.staleConnectionErrors.some(En=>fn.includes(En))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const fn=await this.core.crypto.signJWT(this.relayUrl);this.provider=new o$2(new f$3($t$4({sdkVersion:se$3,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:fn,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(fn){const{topic:En,message:Cn}=fn;await this.messages.set(En,Cn)}async shouldIgnoreMessageEvent(fn){const{topic:En,message:Cn}=fn;if(!Cn||Cn.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${Cn}`),!0;if(!await this.subscriber.isSubscribed(En))return this.logger.debug(`Ignoring message for non-subscribed topic ${En}`),!0;const _i=this.messages.has(En,Cn);return _i&&this.logger.debug(`Ignoring duplicate message: ${Cn}`),_i}async onProviderPayload(fn){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:fn}),isJsonRpcRequest(fn)){if(!fn.method.endsWith(at$3))return;const En=fn.params,{topic:Cn,message:_i,publishedAt:An,attestation:ba}=En.data,xa={topic:Cn,message:_i,publishedAt:An,transportType:M$4.relay,attestation:ba};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(ei$1({type:"event",event:En.id},xa)),this.events.emit(En.id,xa),await this.acknowledgePayload(fn),await this.onMessageEvent(xa)}else isJsonRpcResponse(fn)&&this.events.emit(v$4.message_ack,fn)}async onMessageEvent(fn){await this.shouldIgnoreMessageEvent(fn)||(this.events.emit(v$4.message,fn),await this.recordMessageEvent(fn))}async acknowledgePayload(fn){const En=formatJsonRpcResult(fn.id,!0);await this.provider.connection.send(En)}unregisterProviderListeners(){this.provider.off(I$4.payload,this.onPayloadHandler),this.provider.off(I$4.connect,this.onConnectHandler),this.provider.off(I$4.disconnect,this.onDisconnectHandler),this.provider.off(I$4.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let fn=await mo$1();ho$1(async En=>{fn!==En&&(fn=En,En?await this.restartTransport().catch(Cn=>this.logger.error(Cn)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(v$4.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(fn=>this.logger.error(fn))},cjs$3.toMiliseconds(ht$4))))}isInitialized(){if(!this.initialized){const{message:fn}=S$7("NOT_INITIALIZED",this.name);throw new Error(fn)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise(fn=>{const En=setInterval(()=>{this.connected&&(clearInterval(En),fn())},this.connectionStatusPollingInterval)}),await this.transportOpen())}};var cn$2=Object.defineProperty,ii$1=Object.getOwnPropertySymbols,ln$2=Object.prototype.hasOwnProperty,un$2=Object.prototype.propertyIsEnumerable,si$1=(vn,fn,En)=>fn in vn?cn$2(vn,fn,{enumerable:!0,configurable:!0,writable:!0,value:En}):vn[fn]=En,ri$1=(vn,fn)=>{for(var En in fn||(fn={}))ln$2.call(fn,En)&&si$1(vn,En,fn[En]);if(ii$1)for(var En of ii$1(fn))un$2.call(fn,En)&&si$1(vn,En,fn[En]);return vn};let ni$1=class extends p$2{constructor(fn,En,Cn,_i=x$5,An=void 0){super(fn,En,Cn,_i),this.core=fn,this.logger=En,this.name=Cn,this.map=new Map,this.version=ct$3,this.cached=[],this.initialized=!1,this.storagePrefix=x$5,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(ba=>{this.getKey&&ba!==null&&!I$5(ba)?this.map.set(this.getKey(ba),ba):Yr$3(ba)?this.map.set(ba.id,ba):Qr$3(ba)&&this.map.set(ba.topic,ba)}),this.cached=[],this.initialized=!0)},this.set=async(ba,xa)=>{this.isInitialized(),this.map.has(ba)?await this.update(ba,xa):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:ba,value:xa}),this.map.set(ba,xa),await this.persist())},this.get=ba=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:ba}),this.getData(ba)),this.getAll=ba=>(this.isInitialized(),ba?this.values.filter(xa=>Object.keys(ba).every($a=>Yi(xa[$a],ba[$a]))):this.values),this.update=async(ba,xa)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:ba,update:xa});const $a=ri$1(ri$1({},this.getData(ba)),xa);this.map.set(ba,$a),await this.persist()},this.delete=async(ba,xa)=>{this.isInitialized(),this.map.has(ba)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:ba,reason:xa}),this.map.delete(ba),this.addToRecentlyDeleted(ba),await this.persist())},this.logger=E$1(En,this.name),this.storagePrefix=_i,this.getKey=An}get context(){return y$5(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(fn){this.recentlyDeleted.push(fn),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(fn){await this.core.storage.setItem(this.storageKey,fn)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(fn){const En=this.map.get(fn);if(!En){if(this.recentlyDeleted.includes(fn)){const{message:_i}=S$7("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${fn}`);throw this.logger.error(_i),new Error(_i)}const{message:Cn}=S$7("NO_MATCHING_KEY",`${this.name}: ${fn}`);throw this.logger.error(Cn),new Error(Cn)}return En}async persist(){await this.setDataStore(this.values)}async restore(){try{const fn=await this.getDataStore();if(typeof fn>"u"||!fn.length)return;if(this.map.size){const{message:En}=S$7("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(En),new Error(En)}this.cached=fn,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(fn){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(fn)}}isInitialized(){if(!this.initialized){const{message:fn}=S$7("NOT_INITIALIZED",this.name);throw new Error(fn)}}},oi$1=class{constructor(fn,En){this.core=fn,this.logger=En,this.name=gt$5,this.version=yt$3,this.events=new Wg,this.initialized=!1,this.storagePrefix=x$5,this.ignoredPayloadTypes=[D$3],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:Cn})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...Cn])]},this.create=async Cn=>{this.isInitialized();const _i=pr$4(),An=await this.core.crypto.setSymKey(_i),ba=Mt$4(cjs$3.FIVE_MINUTES),xa={protocol:rt$3},$a={topic:An,expiry:ba,relay:xa,active:!1,methods:Cn==null?void 0:Cn.methods},rs=Dr$4({protocol:this.core.protocol,version:this.core.version,topic:An,symKey:_i,relay:xa,expiryTimestamp:ba,methods:Cn==null?void 0:Cn.methods});return this.events.emit(V$4.create,$a),this.core.expirer.set(An,ba),await this.pairings.set(An,$a),await this.core.relayer.subscribe(An,{transportType:Cn==null?void 0:Cn.transportType}),{topic:An,uri:rs}},this.pair=async Cn=>{this.isInitialized();const _i=this.core.eventClient.createEvent({properties:{topic:Cn==null?void 0:Cn.uri,trace:[z$5.pairing_started]}});this.isValidPair(Cn,_i);const{topic:An,symKey:ba,relay:xa,expiryTimestamp:$a,methods:rs}=kr$3(Cn.uri);_i.props.properties.topic=An,_i.addTrace(z$5.pairing_uri_validation_success),_i.addTrace(z$5.pairing_uri_not_expired);let ts;if(this.pairings.keys.includes(An)){if(ts=this.pairings.get(An),_i.addTrace(z$5.existing_pairing),ts.active)throw _i.setError($$4.active_pairing_already_exists),new Error(`Pairing already exists: ${An}. Please try again with a new connection URI.`);_i.addTrace(z$5.pairing_not_expired)}const is=$a||Mt$4(cjs$3.FIVE_MINUTES),cs={topic:An,relay:xa,expiry:is,active:!1,methods:rs};this.core.expirer.set(An,is),await this.pairings.set(An,cs),_i.addTrace(z$5.store_new_pairing),Cn.activatePairing&&await this.activate({topic:An}),this.events.emit(V$4.create,cs),_i.addTrace(z$5.emit_inactive_pairing),this.core.crypto.keychain.has(An)||await this.core.crypto.setSymKey(ba,An),_i.addTrace(z$5.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{_i.setError($$4.no_internet_connection)}try{await this.core.relayer.subscribe(An,{relay:xa})}catch(us){throw _i.setError($$4.subscribe_pairing_topic_failure),us}return _i.addTrace(z$5.subscribe_pairing_topic_success),cs},this.activate=async({topic:Cn})=>{this.isInitialized();const _i=Mt$4(cjs$3.THIRTY_DAYS);this.core.expirer.set(Cn,_i),await this.pairings.update(Cn,{active:!0,expiry:_i})},this.ping=async Cn=>{this.isInitialized(),await this.isValidPing(Cn);const{topic:_i}=Cn;if(this.pairings.keys.includes(_i)){const An=await this.sendRequest(_i,"wc_pairingPing",{}),{done:ba,resolve:xa,reject:$a}=_t$5();this.events.once(Lt$5("pairing_ping",An),({error:rs})=>{rs?$a(rs):xa()}),await ba()}},this.updateExpiry=async({topic:Cn,expiry:_i})=>{this.isInitialized(),await this.pairings.update(Cn,{expiry:_i})},this.updateMetadata=async({topic:Cn,metadata:_i})=>{this.isInitialized(),await this.pairings.update(Cn,{peerMetadata:_i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async Cn=>{this.isInitialized(),await this.isValidDisconnect(Cn);const{topic:_i}=Cn;this.pairings.keys.includes(_i)&&(await this.sendRequest(_i,"wc_pairingDelete",U$3("USER_DISCONNECTED")),await this.deletePairing(_i))},this.formatUriFromPairing=Cn=>{this.isInitialized();const{topic:_i,relay:An,expiry:ba,methods:xa}=Cn,$a=this.core.crypto.keychain.get(_i);return Dr$4({protocol:this.core.protocol,version:this.core.version,topic:_i,symKey:$a,relay:An,expiryTimestamp:ba,methods:xa})},this.sendRequest=async(Cn,_i,An)=>{const ba=formatJsonRpcRequest(_i,An),xa=await this.core.crypto.encode(Cn,ba),$a=B$3[_i].req;return this.core.history.set(Cn,ba),this.core.relayer.publish(Cn,xa,$a),ba.id},this.sendResult=async(Cn,_i,An)=>{const ba=formatJsonRpcResult(Cn,An),xa=await this.core.crypto.encode(_i,ba),$a=await this.core.history.get(_i,Cn),rs=B$3[$a.request.method].res;await this.core.relayer.publish(_i,xa,rs),await this.core.history.resolve(ba)},this.sendError=async(Cn,_i,An)=>{const ba=formatJsonRpcError(Cn,An),xa=await this.core.crypto.encode(_i,ba),$a=await this.core.history.get(_i,Cn),rs=B$3[$a.request.method]?B$3[$a.request.method].res:B$3.unregistered_method.res;await this.core.relayer.publish(_i,xa,rs),await this.core.history.resolve(ba)},this.deletePairing=async(Cn,_i)=>{await this.core.relayer.unsubscribe(Cn),await Promise.all([this.pairings.delete(Cn,U$3("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(Cn),_i?Promise.resolve():this.core.expirer.del(Cn)])},this.cleanup=async()=>{const Cn=this.pairings.getAll().filter(_i=>Kt$4(_i.expiry));await Promise.all(Cn.map(_i=>this.deletePairing(_i.topic)))},this.onRelayEventRequest=Cn=>{const{topic:_i,payload:An}=Cn;switch(An.method){case"wc_pairingPing":return this.onPairingPingRequest(_i,An);case"wc_pairingDelete":return this.onPairingDeleteRequest(_i,An);default:return this.onUnknownRpcMethodRequest(_i,An)}},this.onRelayEventResponse=async Cn=>{const{topic:_i,payload:An}=Cn,ba=(await this.core.history.get(_i,An.id)).request.method;switch(ba){case"wc_pairingPing":return this.onPairingPingResponse(_i,An);default:return this.onUnknownRpcMethodResponse(ba)}},this.onPairingPingRequest=async(Cn,_i)=>{const{id:An}=_i;try{this.isValidPing({topic:Cn}),await this.sendResult(An,Cn,!0),this.events.emit(V$4.ping,{id:An,topic:Cn})}catch(ba){await this.sendError(An,Cn,ba),this.logger.error(ba)}},this.onPairingPingResponse=(Cn,_i)=>{const{id:An}=_i;setTimeout(()=>{isJsonRpcResult(_i)?this.events.emit(Lt$5("pairing_ping",An),{}):isJsonRpcError(_i)&&this.events.emit(Lt$5("pairing_ping",An),{error:_i.error})},500)},this.onPairingDeleteRequest=async(Cn,_i)=>{const{id:An}=_i;try{this.isValidDisconnect({topic:Cn}),await this.deletePairing(Cn),this.events.emit(V$4.delete,{id:An,topic:Cn})}catch(ba){await this.sendError(An,Cn,ba),this.logger.error(ba)}},this.onUnknownRpcMethodRequest=async(Cn,_i)=>{const{id:An,method:ba}=_i;try{if(this.registeredMethods.includes(ba))return;const xa=U$3("WC_METHOD_UNSUPPORTED",ba);await this.sendError(An,Cn,xa),this.logger.error(xa)}catch(xa){await this.sendError(An,Cn,xa),this.logger.error(xa)}},this.onUnknownRpcMethodResponse=Cn=>{this.registeredMethods.includes(Cn)||this.logger.error(U$3("WC_METHOD_UNSUPPORTED",Cn))},this.isValidPair=(Cn,_i)=>{var An;if(!to$1(Cn)){const{message:xa}=S$7("MISSING_OR_INVALID",`pair() params: ${Cn}`);throw _i.setError($$4.malformed_pairing_uri),new Error(xa)}if(!Gr$3(Cn.uri)){const{message:xa}=S$7("MISSING_OR_INVALID",`pair() uri: ${Cn.uri}`);throw _i.setError($$4.malformed_pairing_uri),new Error(xa)}const ba=kr$3(Cn==null?void 0:Cn.uri);if(!((An=ba==null?void 0:ba.relay)!=null&&An.protocol)){const{message:xa}=S$7("MISSING_OR_INVALID","pair() uri#relay-protocol");throw _i.setError($$4.malformed_pairing_uri),new Error(xa)}if(!(ba!=null&&ba.symKey)){const{message:xa}=S$7("MISSING_OR_INVALID","pair() uri#symKey");throw _i.setError($$4.malformed_pairing_uri),new Error(xa)}if(ba!=null&&ba.expiryTimestamp&&cjs$3.toMiliseconds(ba==null?void 0:ba.expiryTimestamp)<Date.now()){_i.setError($$4.pairing_expired);const{message:xa}=S$7("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(xa)}},this.isValidPing=async Cn=>{if(!to$1(Cn)){const{message:An}=S$7("MISSING_OR_INVALID",`ping() params: ${Cn}`);throw new Error(An)}const{topic:_i}=Cn;await this.isValidPairingTopic(_i)},this.isValidDisconnect=async Cn=>{if(!to$1(Cn)){const{message:An}=S$7("MISSING_OR_INVALID",`disconnect() params: ${Cn}`);throw new Error(An)}const{topic:_i}=Cn;await this.isValidPairingTopic(_i)},this.isValidPairingTopic=async Cn=>{if(!b$3(Cn)){const{message:_i}=S$7("MISSING_OR_INVALID",`pairing topic should be a string: ${Cn}`);throw new Error(_i)}if(!this.pairings.keys.includes(Cn)){const{message:_i}=S$7("NO_MATCHING_KEY",`pairing topic doesn't exist: ${Cn}`);throw new Error(_i)}if(Kt$4(this.pairings.get(Cn).expiry)){await this.deletePairing(Cn);const{message:_i}=S$7("EXPIRED",`pairing topic: ${Cn}`);throw new Error(_i)}},this.core=fn,this.logger=E$1(En,this.name),this.pairings=new ni$1(this.core,this.logger,this.name,this.storagePrefix)}get context(){return y$5(this.logger)}isInitialized(){if(!this.initialized){const{message:fn}=S$7("NOT_INITIALIZED",this.name);throw new Error(fn)}}registerRelayerEvents(){this.core.relayer.on(v$4.message,async fn=>{const{topic:En,message:Cn,transportType:_i}=fn;if(!this.pairings.keys.includes(En)||_i===M$4.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(Cn)))return;const An=await this.core.crypto.decode(En,Cn);try{isJsonRpcRequest(An)?(this.core.history.set(En,An),this.onRelayEventRequest({topic:En,payload:An})):isJsonRpcResponse(An)&&(await this.core.history.resolve(An),await this.onRelayEventResponse({topic:En,payload:An}),this.core.history.delete(En,An.id))}catch(ba){this.logger.error(ba)}})}registerExpirerEvents(){this.core.expirer.on(S$5.expired,async fn=>{const{topic:En}=Vt$4(fn.target);En&&this.pairings.keys.includes(En)&&(await this.deletePairing(En,!0),this.events.emit(V$4.expire,{topic:En}))})}},ai$1=class extends h$2{constructor(fn,En){super(fn,En),this.core=fn,this.logger=En,this.records=new Map,this.events=new eventsExports.EventEmitter,this.name=Dt$3,this.version=mt$2,this.cached=[],this.initialized=!1,this.storagePrefix=x$5,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(Cn=>this.records.set(Cn.id,Cn)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(Cn,_i,An)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:Cn,request:_i,chainId:An}),this.records.has(_i.id))return;const ba={id:_i.id,topic:Cn,request:{method:_i.method,params:_i.params||null},chainId:An,expiry:Mt$4(cjs$3.THIRTY_DAYS)};this.records.set(ba.id,ba),this.persist(),this.events.emit(P$3.created,ba)},this.resolve=async Cn=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:Cn}),!this.records.has(Cn.id))return;const _i=await this.getRecord(Cn.id);typeof _i.response>"u"&&(_i.response=isJsonRpcError(Cn)?{error:Cn.error}:{result:Cn.result},this.records.set(_i.id,_i),this.persist(),this.events.emit(P$3.updated,_i))},this.get=async(Cn,_i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:Cn,id:_i}),await this.getRecord(_i)),this.delete=(Cn,_i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:_i}),this.values.forEach(An=>{if(An.topic===Cn){if(typeof _i<"u"&&An.id!==_i)return;this.records.delete(An.id),this.events.emit(P$3.deleted,An)}}),this.persist()},this.exists=async(Cn,_i)=>(this.isInitialized(),this.records.has(_i)?(await this.getRecord(_i)).topic===Cn:!1),this.on=(Cn,_i)=>{this.events.on(Cn,_i)},this.once=(Cn,_i)=>{this.events.once(Cn,_i)},this.off=(Cn,_i)=>{this.events.off(Cn,_i)},this.removeListener=(Cn,_i)=>{this.events.removeListener(Cn,_i)},this.logger=E$1(En,this.name)}get context(){return y$5(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const fn=[];return this.values.forEach(En=>{if(typeof En.response<"u")return;const Cn={topic:En.topic,request:formatJsonRpcRequest(En.request.method,En.request.params,En.id),chainId:En.chainId};return fn.push(Cn)}),fn}async setJsonRpcRecords(fn){await this.core.storage.setItem(this.storageKey,fn)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(fn){this.isInitialized();const En=this.records.get(fn);if(!En){const{message:Cn}=S$7("NO_MATCHING_KEY",`${this.name}: ${fn}`);throw new Error(Cn)}return En}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(P$3.sync)}async restore(){try{const fn=await this.getJsonRpcRecords();if(typeof fn>"u"||!fn.length)return;if(this.records.size){const{message:En}=S$7("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(En),new Error(En)}this.cached=fn,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(fn){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(fn)}}registerEventListeners(){this.events.on(P$3.created,fn=>{const En=P$3.created;this.logger.info(`Emitting ${En}`),this.logger.debug({type:"event",event:En,record:fn})}),this.events.on(P$3.updated,fn=>{const En=P$3.updated;this.logger.info(`Emitting ${En}`),this.logger.debug({type:"event",event:En,record:fn})}),this.events.on(P$3.deleted,fn=>{const En=P$3.deleted;this.logger.info(`Emitting ${En}`),this.logger.debug({type:"event",event:En,record:fn})}),this.core.heartbeat.on(r$2.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let fn=!1;this.records.forEach(En=>{cjs$3.toMiliseconds(En.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${En.id}`),this.records.delete(En.id),this.events.emit(P$3.deleted,En,!1),fn=!0)}),fn&&this.persist()}catch(fn){this.logger.warn(fn)}}isInitialized(){if(!this.initialized){const{message:fn}=S$7("NOT_INITIALIZED",this.name);throw new Error(fn)}}},hi$1=class extends x$6{constructor(fn,En){super(fn,En),this.core=fn,this.logger=En,this.expirations=new Map,this.events=new eventsExports.EventEmitter,this.name=bt$4,this.version=ft$2,this.cached=[],this.initialized=!1,this.storagePrefix=x$5,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(Cn=>this.expirations.set(Cn.target,Cn)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=Cn=>{try{const _i=this.formatTarget(Cn);return typeof this.getExpiration(_i)<"u"}catch{return!1}},this.set=(Cn,_i)=>{this.isInitialized();const An=this.formatTarget(Cn),ba={target:An,expiry:_i};this.expirations.set(An,ba),this.checkExpiry(An,ba),this.events.emit(S$5.created,{target:An,expiration:ba})},this.get=Cn=>{this.isInitialized();const _i=this.formatTarget(Cn);return this.getExpiration(_i)},this.del=Cn=>{if(this.isInitialized(),this.has(Cn)){const _i=this.formatTarget(Cn),An=this.getExpiration(_i);this.expirations.delete(_i),this.events.emit(S$5.deleted,{target:_i,expiration:An})}},this.on=(Cn,_i)=>{this.events.on(Cn,_i)},this.once=(Cn,_i)=>{this.events.once(Cn,_i)},this.off=(Cn,_i)=>{this.events.off(Cn,_i)},this.removeListener=(Cn,_i)=>{this.events.removeListener(Cn,_i)},this.logger=E$1(En,this.name)}get context(){return y$5(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(fn){if(typeof fn=="string")return Dt$4(fn);if(typeof fn=="number")return xt$5(fn);const{message:En}=S$7("UNKNOWN_TYPE",`Target type: ${typeof fn}`);throw new Error(En)}async setExpirations(fn){await this.core.storage.setItem(this.storageKey,fn)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(S$5.sync)}async restore(){try{const fn=await this.getExpirations();if(typeof fn>"u"||!fn.length)return;if(this.expirations.size){const{message:En}=S$7("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(En),new Error(En)}this.cached=fn,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(fn){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(fn)}}getExpiration(fn){const En=this.expirations.get(fn);if(!En){const{message:Cn}=S$7("NO_MATCHING_KEY",`${this.name}: ${fn}`);throw this.logger.warn(Cn),new Error(Cn)}return En}checkExpiry(fn,En){const{expiry:Cn}=En;cjs$3.toMiliseconds(Cn)-Date.now()<=0&&this.expire(fn,En)}expire(fn,En){this.expirations.delete(fn),this.events.emit(S$5.expired,{target:fn,expiration:En})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((fn,En)=>this.checkExpiry(En,fn))}registerEventListeners(){this.core.heartbeat.on(r$2.pulse,()=>this.checkExpirations()),this.events.on(S$5.created,fn=>{const En=S$5.created;this.logger.info(`Emitting ${En}`),this.logger.debug({type:"event",event:En,data:fn}),this.persist()}),this.events.on(S$5.expired,fn=>{const En=S$5.expired;this.logger.info(`Emitting ${En}`),this.logger.debug({type:"event",event:En,data:fn}),this.persist()}),this.events.on(S$5.deleted,fn=>{const En=S$5.deleted;this.logger.info(`Emitting ${En}`),this.logger.debug({type:"event",event:En,data:fn}),this.persist()})}isInitialized(){if(!this.initialized){const{message:fn}=S$7("NOT_INITIALIZED",this.name);throw new Error(fn)}}},ci$1=class extends y$4{constructor(fn,En,Cn){super(fn,En,Cn),this.core=fn,this.logger=En,this.store=Cn,this.name=_t$4,this.verifyUrlV3=vt$4,this.storagePrefix=x$5,this.version=De$2,this.init=async()=>{var _i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&cjs$3.toMiliseconds((_i=this.publicKey)==null?void 0:_i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async _i=>{if(!V$5()||this.isDevEnv)return;const An=window.location.origin,{id:ba,decryptedId:xa}=_i,$a=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${An}&id=${ba}&decryptedId=${xa}`;try{const rs=getDocument_1(),ts=this.startAbortTimer(cjs$3.ONE_SECOND*5),is=await new Promise((cs,us)=>{const ps=()=>{window.removeEventListener("message",e0),rs.body.removeChild(bs),us("attestation aborted")};this.abortController.signal.addEventListener("abort",ps);const bs=rs.createElement("iframe");bs.src=$a,bs.style.display="none",bs.addEventListener("error",ps,{signal:this.abortController.signal});const e0=gs=>{if(gs.data&&typeof gs.data=="string")try{const Ds=JSON.parse(gs.data);if(Ds.type==="verify_attestation"){if(decodeJWT(Ds.attestation).payload.id!==ba)return;clearInterval(ts),rs.body.removeChild(bs),this.abortController.signal.removeEventListener("abort",ps),window.removeEventListener("message",e0),cs(Ds.attestation===null?"":Ds.attestation)}}catch(Ds){this.logger.warn(Ds)}};rs.body.appendChild(bs),window.addEventListener("message",e0,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",is),is}catch(rs){this.logger.warn(rs)}return""},this.resolve=async _i=>{if(this.isDevEnv)return"";const{attestationId:An,hash:ba,encryptedId:xa}=_i;if(An===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(An){if(decodeJWT(An).payload.id!==xa)return;const rs=await this.isValidJwtAttestation(An);if(rs){if(!rs.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return rs}}if(!ba)return;const $a=this.getVerifyUrl(_i==null?void 0:_i.verifyUrl);return this.fetchAttestation(ba,$a)},this.fetchAttestation=async(_i,An)=>{this.logger.debug(`resolving attestation: ${_i} from url: ${An}`);const ba=this.startAbortTimer(cjs$3.ONE_SECOND*5),xa=await fetch(`${An}/attestation/${_i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(ba),xa.status===200?await xa.json():void 0},this.getVerifyUrl=_i=>{let An=_i||J$2;return wt$3.includes(An)||(this.logger.info(`verify url: ${An}, not included in trusted list, assigning default: ${J$2}`),An=J$2),An},this.fetchPublicKey=async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const _i=this.startAbortTimer(cjs$3.FIVE_SECONDS),An=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(_i),await An.json()}catch(_i){this.logger.warn(_i)}},this.persistPublicKey=async _i=>{this.logger.debug("persisting public key to local storage",_i),await this.store.setItem(this.storeKey,_i),this.publicKey=_i},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async _i=>{const An=await this.getPublicKey();try{if(An)return this.validateAttestation(_i,An)}catch(xa){this.logger.error(xa),this.logger.warn("error validating attestation")}const ba=await this.fetchAndPersistPublicKey();try{if(ba)return this.validateAttestation(_i,ba)}catch(xa){this.logger.error(xa),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async An=>{const ba=await this.fetchPublicKey();ba&&(await this.persistPublicKey(ba),An(ba))});const _i=await this.fetchPromise;return this.fetchPromise=void 0,_i},this.validateAttestation=(_i,An)=>{const ba=Rr$4(_i,An.publicKey),xa={hasExpired:cjs$3.toMiliseconds(ba.exp)<Date.now(),payload:ba};if(xa.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:xa.payload.origin,isScam:xa.payload.isScam,isVerified:xa.payload.isVerified}},this.logger=E$1(En,this.name),this.abortController=new AbortController,this.isDevEnv=Wt$4(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return y$5(this.logger)}startAbortTimer(fn){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),cjs$3.toMiliseconds(fn))}},li$1=class extends v$5{constructor(fn,En){super(fn,En),this.projectId=fn,this.logger=En,this.context=It$2,this.registerDeviceToken=async Cn=>{const{clientId:_i,token:An,notificationType:ba,enableEncrypted:xa=!1}=Cn,$a=`${Tt$4}/${this.projectId}/clients`;await fetch($a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:_i,type:ba,token:An,always_raw:xa})})},this.logger=E$1(En,this.context)}};var dn$2=Object.defineProperty,ui$1=Object.getOwnPropertySymbols,pn$1=Object.prototype.hasOwnProperty,gn$2=Object.prototype.propertyIsEnumerable,di$1=(vn,fn,En)=>fn in vn?dn$2(vn,fn,{enumerable:!0,configurable:!0,writable:!0,value:En}):vn[fn]=En,Z$4=(vn,fn)=>{for(var En in fn||(fn={}))pn$1.call(fn,En)&&di$1(vn,En,fn[En]);if(ui$1)for(var En of ui$1(fn))gn$2.call(fn,En)&&di$1(vn,En,fn[En]);return vn};let pi$1=class extends C$4{constructor(fn,En,Cn=!0){super(fn,En,Cn),this.core=fn,this.logger=En,this.context=Pt$4,this.storagePrefix=x$5,this.storageVersion=Ct$2,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!Wt$4())try{const _i={eventId:Ht$4(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Ge$1(this.core.relayer.protocol,this.core.relayer.version,se$3)}}};await this.sendEvent([_i])}catch(_i){this.logger.warn(_i)}},this.createEvent=_i=>{const{event:An="ERROR",type:ba="",properties:{topic:xa,trace:$a}}=_i,rs=Ht$4(),ts=this.core.projectId||"",is=Date.now(),cs=Z$4({eventId:rs,timestamp:is,props:{event:An,type:ba,properties:{topic:xa,trace:$a}},bundleId:ts,domain:this.getAppDomain()},this.setMethods(rs));return this.telemetryEnabled&&(this.events.set(rs,cs),this.shouldPersist=!0),cs},this.getEvent=_i=>{const{eventId:An,topic:ba}=_i;if(An)return this.events.get(An);const xa=Array.from(this.events.values()).find($a=>$a.props.properties.topic===ba);if(xa)return Z$4(Z$4({},xa),this.setMethods(xa.eventId))},this.deleteEvent=_i=>{const{eventId:An}=_i;this.events.delete(An),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(r$2.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(_i=>{cjs$3.fromMiliseconds(Date.now())-cjs$3.fromMiliseconds(_i.timestamp)>St$3&&(this.events.delete(_i.eventId),this.shouldPersist=!0)})})},this.setMethods=_i=>({addTrace:An=>this.addTrace(_i,An),setError:An=>this.setError(_i,An)}),this.addTrace=(_i,An)=>{const ba=this.events.get(_i);ba&&(ba.props.properties.trace.push(An),this.events.set(_i,ba),this.shouldPersist=!0)},this.setError=(_i,An)=>{const ba=this.events.get(_i);ba&&(ba.props.type=An,ba.timestamp=Date.now(),this.events.set(_i,ba),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{const _i=await this.core.storage.getItem(this.storageKey)||[];if(!_i.length)return;_i.forEach(An=>{this.events.set(An.eventId,Z$4(Z$4({},An),this.setMethods(An.eventId)))})}catch(_i){this.logger.warn(_i)}},this.submit=async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const _i=[];for(const[An,ba]of this.events)ba.props.type&&_i.push(ba);if(_i.length!==0)try{if((await this.sendEvent(_i)).ok)for(const An of _i)this.events.delete(An.eventId),this.shouldPersist=!0}catch(An){this.logger.warn(An)}},this.sendEvent=async _i=>{const An=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Rt$2}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${se$3}${An}`,{method:"POST",body:JSON.stringify(_i)})},this.getAppDomain=()=>Nt$5().url,this.logger=E$1(En,this.context),this.telemetryEnabled=Cn,Cn?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var yn$2=Object.defineProperty,gi$1=Object.getOwnPropertySymbols,Dn$1=Object.prototype.hasOwnProperty,mn$1=Object.prototype.propertyIsEnumerable,yi$1=(vn,fn,En)=>fn in vn?yn$2(vn,fn,{enumerable:!0,configurable:!0,writable:!0,value:En}):vn[fn]=En,Di$1=(vn,fn)=>{for(var En in fn||(fn={}))Dn$1.call(fn,En)&&yi$1(vn,En,fn[En]);if(gi$1)for(var En of gi$1(fn))mn$1.call(fn,En)&&yi$1(vn,En,fn[En]);return vn};let ne$3=class lu extends n$3{constructor(fn){var En;super(fn),this.protocol=ye$4,this.version=De$2,this.name=ie$3,this.events=new eventsExports.EventEmitter,this.initialized=!1,this.on=(ba,xa)=>this.events.on(ba,xa),this.once=(ba,xa)=>this.events.once(ba,xa),this.off=(ba,xa)=>this.events.off(ba,xa),this.removeListener=(ba,xa)=>this.events.removeListener(ba,xa),this.dispatchEnvelope=({topic:ba,message:xa,sessionExists:$a})=>{if(!ba||!xa)return;const rs={topic:ba,message:xa,publishedAt:Date.now(),transportType:M$4.link_mode};this.relayer.onLinkMessageEvent(rs,{sessionExists:$a})},this.projectId=fn==null?void 0:fn.projectId,this.relayUrl=(fn==null?void 0:fn.relayUrl)||be$4,this.customStoragePrefix=fn!=null&&fn.customStoragePrefix?`:${fn.customStoragePrefix}`:"";const Cn=k$3({level:typeof(fn==null?void 0:fn.logger)=="string"&&fn.logger?fn.logger:Ye$1.logger}),{logger:_i,chunkLoggerController:An}=A$2({opts:Cn,maxSizeInBytes:fn==null?void 0:fn.maxLogBlobSizeInBytes,loggerOverride:fn==null?void 0:fn.logger});this.logChunkController=An,(En=this.logChunkController)!=null&&En.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var ba,xa;(ba=this.logChunkController)!=null&&ba.downloadLogsBlobInBrowser&&((xa=this.logChunkController)==null||xa.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=E$1(_i,this.name),this.heartbeat=new i$2,this.crypto=new Ht$3(this,this.logger,fn==null?void 0:fn.keychain),this.history=new ai$1(this,this.logger),this.expirer=new hi$1(this,this.logger),this.storage=fn!=null&&fn.storage?fn.storage:new h$3(Di$1(Di$1({},Je$2),fn==null?void 0:fn.storageOptions)),this.relayer=new ti$1({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new oi$1(this,this.logger),this.verify=new ci$1(this,this.logger,this.storage),this.echoClient=new li$1(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new pi$1(this,this.logger,fn==null?void 0:fn.telemetryEnabled)}static async init(fn){const En=new lu(fn);await En.initialize();const Cn=await En.crypto.getClientId();return await En.storage.setItem(lt$3,Cn),En}get context(){return y$5(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var fn;return(fn=this.logChunkController)==null?void 0:fn.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(fn){this.linkModeSupportedApps.includes(fn)||(this.linkModeSupportedApps.push(fn),await this.storage.setItem(fe$3,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.eventClient.init(),this.linkModeSupportedApps=await this.storage.getItem(fe$3)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(fn){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,fn),this.logger.error(fn.message),fn}}};const bn$3=ne$3;function unfetch_module(vn,fn){return fn=fn||{},new Promise(function(En,Cn){var _i=new XMLHttpRequest,An=[],ba=[],xa={},$a=function(){return{ok:(_i.status/100|0)==2,statusText:_i.statusText,status:_i.status,url:_i.responseURL,text:function(){return Promise.resolve(_i.responseText)},json:function(){return Promise.resolve(_i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([_i.response]))},clone:$a,headers:{keys:function(){return An},entries:function(){return ba},get:function(ts){return xa[ts.toLowerCase()]},has:function(ts){return ts.toLowerCase()in xa}}}};for(var rs in _i.open(fn.method||"get",vn,!0),_i.onload=function(){_i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(ts,is,cs){An.push(is=is.toLowerCase()),ba.push([is,cs]),xa[is]=xa[is]?xa[is]+","+cs:cs}),En($a())},_i.onerror=Cn,_i.withCredentials=fn.credentials=="include",fn.headers)_i.setRequestHeader(rs,fn.headers[rs]);_i.send(fn.body||null)})}const unfetch_module$1=Object.freeze(Object.defineProperty({__proto__:null,default:unfetch_module},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(unfetch_module$1);var browser$1=self.fetch||(self.fetch=require$$0$2.default||require$$0$2);const Hi=getDefaultExportFromCjs$1(browser$1);let G$1=class{constructor(fn){this.client=fn}},H$1=class{constructor(fn){this.opts=fn}};const Y$3="https://rpc.walletconnect.com/v1",R$2={wc_authRequest:{req:{ttl:cjs$3.ONE_DAY,prompt:!0,tag:3e3},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:3001}}},U$2={min:cjs$3.FIVE_MINUTES,max:cjs$3.SEVEN_DAYS},$$3="wc",Q$1=1,Z$3="auth",B$2="authClient",F$2=`${$$3}@1:${Z$3}:`,x$4=`${F$2}:PUB_KEY`;function z$4(vn){return vn==null?void 0:vn.split(":")}function Ze$1(vn){const fn=vn&&z$4(vn);if(fn)return fn[3]}function We$2(vn){const fn=vn&&z$4(vn);if(fn)return fn[2]+":"+fn[3]}function W$2(vn){const fn=vn&&z$4(vn);if(fn)return fn.pop()}async function et$2(vn,fn,En,Cn,_i){switch(En.t){case"eip191":return tt$1(vn,fn,En.s);case"eip1271":return await rt$2(vn,fn,En.s,Cn,_i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${En.t}`)}}function tt$1(vn,fn,En){return recoverAddress(hashMessage(fn),En).toLowerCase()===vn.toLowerCase()}async function rt$2(vn,fn,En,Cn,_i){try{const An="0x1626ba7e",ba="0000000000000000000000000000000000000000000000000000000000000040",xa="0000000000000000000000000000000000000000000000000000000000000041",$a=En.substring(2),rs=hashMessage(fn).substring(2),ts=An+rs+ba+xa+$a,is=await Hi(`${Y$3}/?chainId=${Cn}&projectId=${_i}`,{method:"POST",body:JSON.stringify({id:it$2(),jsonrpc:"2.0",method:"eth_call",params:[{to:vn,data:ts},"latest"]})}),{result:cs}=await is.json();return cs?cs.slice(0,An.length).toLowerCase()===An.toLowerCase():!1}catch(An){return console.error("isValidEip1271Signature: ",An),!1}}function it$2(){return Date.now()+Math.floor(Math.random()*1e3)}function ee$1(vn){return vn.getAll().filter(fn=>"requester"in fn)}function te$1(vn,fn){return ee$1(vn).find(En=>En.id===fn)}function nt$2(vn){const fn=Gr$3(vn.aud),En=new RegExp(`${vn.domain}`).test(vn.aud),Cn=!!vn.nonce,_i=vn.type?vn.type==="eip4361":!0,An=vn.expiry;if(An&&!po$1(An,U$2)){const{message:ba}=S$7("MISSING_OR_INVALID",`request() expiry: ${An}. Expiry must be a number (in seconds) between ${U$2.min} and ${U$2.max}`);throw new Error(ba)}return!!(fn&&En&&Cn&&_i)}function st$2(vn,fn){return!!te$1(fn,vn.id)}function ot$2(vn=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(vn):new Uint8Array(vn)}function ut$2(vn,fn){if(vn.length>=255)throw new TypeError("Alphabet too long");for(var En=new Uint8Array(256),Cn=0;Cn<En.length;Cn++)En[Cn]=255;for(var _i=0;_i<vn.length;_i++){var An=vn.charAt(_i),ba=An.charCodeAt(0);if(En[ba]!==255)throw new TypeError(An+" is ambiguous");En[ba]=_i}var xa=vn.length,$a=vn.charAt(0),rs=Math.log(xa)/Math.log(256),ts=Math.log(256)/Math.log(xa);function is(ps){if(ps instanceof Uint8Array||(ArrayBuffer.isView(ps)?ps=new Uint8Array(ps.buffer,ps.byteOffset,ps.byteLength):Array.isArray(ps)&&(ps=Uint8Array.from(ps))),!(ps instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(ps.length===0)return"";for(var bs=0,e0=0,gs=0,Ds=ps.length;gs!==Ds&&ps[gs]===0;)gs++,bs++;for(var i0=(Ds-gs)*ts+1>>>0,n0=new Uint8Array(i0);gs!==Ds;){for(var c0=ps[gs],d0=0,o0=i0-1;(c0!==0||d0<e0)&&o0!==-1;o0--,d0++)c0+=256*n0[o0]>>>0,n0[o0]=c0%xa>>>0,c0=c0/xa>>>0;if(c0!==0)throw new Error("Non-zero carry");e0=d0,gs++}for(var g0=i0-e0;g0!==i0&&n0[g0]===0;)g0++;for(var w0=$a.repeat(bs);g0<i0;++g0)w0+=vn.charAt(n0[g0]);return w0}function cs(ps){if(typeof ps!="string")throw new TypeError("Expected String");if(ps.length===0)return new Uint8Array;var bs=0;if(ps[bs]!==" "){for(var e0=0,gs=0;ps[bs]===$a;)e0++,bs++;for(var Ds=(ps.length-bs)*rs+1>>>0,i0=new Uint8Array(Ds);ps[bs];){var n0=En[ps.charCodeAt(bs)];if(n0===255)return;for(var c0=0,d0=Ds-1;(n0!==0||c0<gs)&&d0!==-1;d0--,c0++)n0+=xa*i0[d0]>>>0,i0[d0]=n0%256>>>0,n0=n0/256>>>0;if(n0!==0)throw new Error("Non-zero carry");gs=c0,bs++}if(ps[bs]!==" "){for(var o0=Ds-gs;o0!==Ds&&i0[o0]===0;)o0++;for(var g0=new Uint8Array(e0+(Ds-o0)),w0=e0;o0!==Ds;)g0[w0++]=i0[o0++];return g0}}}function us(ps){var bs=cs(ps);if(bs)return bs;throw new Error(`Non-${fn} character`)}return{encode:is,decodeUnsafe:cs,decode:us}}var at$2=ut$2,Dt$2=at$2;const re$2=vn=>{if(vn instanceof Uint8Array&&vn.constructor.name==="Uint8Array")return vn;if(vn instanceof ArrayBuffer)return new Uint8Array(vn);if(ArrayBuffer.isView(vn))return new Uint8Array(vn.buffer,vn.byteOffset,vn.byteLength);throw new Error("Unknown type, must be binary type")},ct$2=vn=>new TextEncoder().encode(vn),ht$3=vn=>new TextDecoder().decode(vn);let lt$2=class{constructor(fn,En,Cn){this.name=fn,this.prefix=En,this.baseEncode=Cn}encode(fn){if(fn instanceof Uint8Array)return`${this.prefix}${this.baseEncode(fn)}`;throw Error("Unknown type, must be binary type")}},dt$2=class{constructor(fn,En,Cn){if(this.name=fn,this.prefix=En,En.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=En.codePointAt(0),this.baseDecode=Cn}decode(fn){if(typeof fn=="string"){if(fn.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(fn)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(fn.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(fn){return ie$2(this,fn)}},pt$2=class{constructor(fn){this.decoders=fn}or(fn){return ie$2(this,fn)}decode(fn){const En=fn[0],Cn=this.decoders[En];if(Cn)return Cn.decode(fn);throw RangeError(`Unable to decode multibase string ${JSON.stringify(fn)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const ie$2=(vn,fn)=>new pt$2({...vn.decoders||{[vn.prefix]:vn},...fn.decoders||{[fn.prefix]:fn}});let ft$1=class{constructor(fn,En,Cn,_i){this.name=fn,this.prefix=En,this.baseEncode=Cn,this.baseDecode=_i,this.encoder=new lt$2(fn,En,Cn),this.decoder=new dt$2(fn,En,_i)}encode(fn){return this.encoder.encode(fn)}decode(fn){return this.decoder.decode(fn)}};const O$3=({name:vn,prefix:fn,encode:En,decode:Cn})=>new ft$1(vn,fn,En,Cn),T$1=({prefix:vn,name:fn,alphabet:En})=>{const{encode:Cn,decode:_i}=Dt$2(En,fn);return O$3({prefix:vn,name:fn,encode:Cn,decode:An=>re$2(_i(An))})},gt$4=(vn,fn,En,Cn)=>{const _i={};for(let ts=0;ts<fn.length;++ts)_i[fn[ts]]=ts;let An=vn.length;for(;vn[An-1]==="=";)--An;const ba=new Uint8Array(An*En/8|0);let xa=0,$a=0,rs=0;for(let ts=0;ts<An;++ts){const is=_i[vn[ts]];if(is===void 0)throw new SyntaxError(`Non-${Cn} character`);$a=$a<<En|is,xa+=En,xa>=8&&(xa-=8,ba[rs++]=255&$a>>xa)}if(xa>=En||255&$a<<8-xa)throw new SyntaxError("Unexpected end of data");return ba},Et$2=(vn,fn,En)=>{const Cn=fn[fn.length-1]==="=",_i=(1<<En)-1;let An="",ba=0,xa=0;for(let $a=0;$a<vn.length;++$a)for(xa=xa<<8|vn[$a],ba+=8;ba>En;)ba-=En,An+=fn[_i&xa>>ba];if(ba&&(An+=fn[_i&xa<<En-ba]),Cn)for(;An.length*En&7;)An+="=";return An},d$1=({name:vn,prefix:fn,bitsPerChar:En,alphabet:Cn})=>O$3({prefix:fn,name:vn,encode(_i){return Et$2(_i,Cn,En)},decode(_i){return gt$4(_i,Cn,En,vn)}}),bt$3=O$3({prefix:"\0",name:"identity",encode:vn=>ht$3(vn),decode:vn=>ct$2(vn)});var yt$2=Object.freeze({__proto__:null,identity:bt$3});const wt$2=d$1({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Ct$1=Object.freeze({__proto__:null,base2:wt$2});const mt$1=d$1({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var vt$3=Object.freeze({__proto__:null,base8:mt$1});const At$2=T$1({prefix:"9",name:"base10",alphabet:"0123456789"});var _t$3=Object.freeze({__proto__:null,base10:At$2});const xt$3=d$1({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Rt$1=d$1({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Ft$2=Object.freeze({__proto__:null,base16:xt$3,base16upper:Rt$1});const Tt$3=d$1({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),It$1=d$1({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),qt$2=d$1({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ut$1=d$1({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ot$3=d$1({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),St$2=d$1({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Pt$3=d$1({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Nt$3=d$1({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),$t$2=d$1({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Bt$3=Object.freeze({__proto__:null,base32:Tt$3,base32upper:It$1,base32pad:qt$2,base32padupper:Ut$1,base32hex:Ot$3,base32hexupper:St$2,base32hexpad:Pt$3,base32hexpadupper:Nt$3,base32z:$t$2});const zt$2=T$1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),jt$2=T$1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Mt$2=Object.freeze({__proto__:null,base36:zt$2,base36upper:jt$2});const Lt$3=T$1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Kt$2=T$1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Vt$2=Object.freeze({__proto__:null,base58btc:Lt$3,base58flickr:Kt$2});const kt$3=d$1({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Jt$2=d$1({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Xt$2=d$1({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Gt$3=d$1({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Ht$2=Object.freeze({__proto__:null,base64:kt$3,base64pad:Jt$2,base64url:Xt$2,base64urlpad:Gt$3});const ne$2=Array.from(""),Yt$2=ne$2.reduce((vn,fn,En)=>(vn[En]=fn,vn),[]),Qt$2=ne$2.reduce((vn,fn,En)=>(vn[fn.codePointAt(0)]=En,vn),[]);function Zt$2(vn){return vn.reduce((fn,En)=>(fn+=Yt$2[En],fn),"")}function Wt$2(vn){const fn=[];for(const En of vn){const Cn=Qt$2[En.codePointAt(0)];if(Cn===void 0)throw new Error(`Non-base256emoji character: ${En}`);fn.push(Cn)}return new Uint8Array(fn)}const er$2=O$3({prefix:"",name:"base256emoji",encode:Zt$2,decode:Wt$2});var tr$1=Object.freeze({__proto__:null,base256emoji:er$2}),rr$1=oe$1,se$2=128,ir$2=127,nr$2=~ir$2,sr$1=Math.pow(2,31);function oe$1(vn,fn,En){fn=fn||[],En=En||0;for(var Cn=En;vn>=sr$1;)fn[En++]=vn&255|se$2,vn/=128;for(;vn&nr$2;)fn[En++]=vn&255|se$2,vn>>>=7;return fn[En]=vn|0,oe$1.bytes=En-Cn+1,fn}var or$1=j$1,ur$2=128,ue=127;function j$1(vn,Cn){var En=0,Cn=Cn||0,_i=0,An=Cn,ba,xa=vn.length;do{if(An>=xa)throw j$1.bytes=0,new RangeError("Could not decode varint");ba=vn[An++],En+=_i<28?(ba&ue)<<_i:(ba&ue)*Math.pow(2,_i),_i+=7}while(ba>=ur$2);return j$1.bytes=An-Cn,En}var ar$2=Math.pow(2,7),Dr$2=Math.pow(2,14),cr$2=Math.pow(2,21),hr$2=Math.pow(2,28),lr$2=Math.pow(2,35),dr$2=Math.pow(2,42),pr$2=Math.pow(2,49),fr$2=Math.pow(2,56),gr$2=Math.pow(2,63),Er$2=function(vn){return vn<ar$2?1:vn<Dr$2?2:vn<cr$2?3:vn<hr$2?4:vn<lr$2?5:vn<dr$2?6:vn<pr$2?7:vn<fr$2?8:vn<gr$2?9:10},br$2={encode:rr$1,decode:or$1,encodingLength:Er$2},ae$2=br$2;const De$1=(vn,fn,En=0)=>(ae$2.encode(vn,fn,En),fn),ce$1=vn=>ae$2.encodingLength(vn),M$3=(vn,fn)=>{const En=fn.byteLength,Cn=ce$1(vn),_i=Cn+ce$1(En),An=new Uint8Array(_i+En);return De$1(vn,An,0),De$1(En,An,Cn),An.set(fn,_i),new yr$2(vn,En,fn,An)};let yr$2=class{constructor(fn,En,Cn,_i){this.code=fn,this.size=En,this.digest=Cn,this.bytes=_i}};const he$1=({name:vn,code:fn,encode:En})=>new wr$2(vn,fn,En);let wr$2=class{constructor(fn,En,Cn){this.name=fn,this.code=En,this.encode=Cn}digest(fn){if(fn instanceof Uint8Array){const En=this.encode(fn);return En instanceof Uint8Array?M$3(this.code,En):En.then(Cn=>M$3(this.code,Cn))}else throw Error("Unknown type, must be binary type")}};const le$1=vn=>async fn=>new Uint8Array(await crypto.subtle.digest(vn,fn)),Cr$2=he$1({name:"sha2-256",code:18,encode:le$1("SHA-256")}),mr$2=he$1({name:"sha2-512",code:19,encode:le$1("SHA-512")});var vr$2=Object.freeze({__proto__:null,sha256:Cr$2,sha512:mr$2});const de$1=0,Ar$2="identity",pe$1=re$2,_r$2=vn=>M$3(de$1,pe$1(vn)),xr$2={code:de$1,name:Ar$2,encode:pe$1,digest:_r$2};var Rr$2=Object.freeze({__proto__:null,identity:xr$2});new TextEncoder,new TextDecoder;const fe$2={...yt$2,...Ct$1,...vt$3,..._t$3,...Ft$2,...Bt$3,...Mt$2,...Vt$2,...Ht$2,...tr$1};({...vr$2,...Rr$2});function ge$1(vn,fn,En,Cn){return{name:vn,prefix:fn,encoder:{name:vn,prefix:fn,encode:En},decoder:{decode:Cn}}}const Ee$2=ge$1("utf8","u",vn=>"u"+new TextDecoder("utf8").decode(vn),vn=>new TextEncoder().encode(vn.substring(1))),L$2=ge$1("ascii","a",vn=>{let fn="a";for(let En=0;En<vn.length;En++)fn+=String.fromCharCode(vn[En]);return fn},vn=>{vn=vn.substring(1);const fn=ot$2(vn.length);for(let En=0;En<vn.length;En++)fn[En]=vn.charCodeAt(En);return fn}),be$3={utf8:Ee$2,"utf-8":Ee$2,hex:fe$2.base16,latin1:L$2,ascii:L$2,binary:L$2,...fe$2};function Fr$1(vn,fn="utf8"){const En=be$3[fn];if(!En)throw new Error(`Unsupported encoding "${fn}"`);return(fn==="utf8"||fn==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(vn,"utf8"):En.decoder.decode(`${En.prefix}${vn}`)}function Tr$2(vn,fn="utf8"){const En=be$3[fn];if(!En)throw new Error(`Unsupported encoding "${fn}"`);return(fn==="utf8"||fn==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(vn.buffer,vn.byteOffset,vn.byteLength).toString("utf8"):En.encoder.encode(vn).substring(1)}const ye$3="base16",we$3="utf8";function K$2(vn){const fn=sha256.hash(Fr$1(vn,we$3));return Tr$2(fn,ye$3)}var Or$2=Object.defineProperty,Sr$2=Object.defineProperties,Pr$2=Object.getOwnPropertyDescriptors,Ce$1=Object.getOwnPropertySymbols,Nr$2=Object.prototype.hasOwnProperty,$r$2=Object.prototype.propertyIsEnumerable,me$3=(vn,fn,En)=>fn in vn?Or$2(vn,fn,{enumerable:!0,configurable:!0,writable:!0,value:En}):vn[fn]=En,I$3=(vn,fn)=>{for(var En in fn||(fn={}))Nr$2.call(fn,En)&&me$3(vn,En,fn[En]);if(Ce$1)for(var En of Ce$1(fn))$r$2.call(fn,En)&&me$3(vn,En,fn[En]);return vn},V$3=(vn,fn)=>Sr$2(vn,Pr$2(fn));let Br$1=class extends G$1{constructor(fn){super(fn),this.initialized=!1,this.name="authEngine",this.init=()=>{this.initialized||(this.registerRelayerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(R$2)}),this.initialized=!0)},this.request=async(En,Cn)=>{if(this.isInitialized(),!nt$2(En))throw new Error("Invalid request");if(Cn!=null&&Cn.topic)return await this.requestOnKnownPairing(Cn.topic,En);const{chainId:_i,statement:An,aud:ba,domain:xa,nonce:$a,type:rs,exp:ts,nbf:is}=En,{topic:cs,uri:us}=await this.client.core.pairing.create();this.client.logger.info({message:"Generated new pairing",pairing:{topic:cs,uri:us}});const ps=await this.client.core.crypto.generateKeyPair(),bs=hr$4(ps);await this.client.authKeys.set(x$4,{responseTopic:bs,publicKey:ps}),await this.client.pairingTopics.set(bs,{topic:bs,pairingTopic:cs}),await this.client.core.relayer.subscribe(bs),this.client.logger.info(`sending request to new pairing topic: ${cs}`);const e0=await this.sendRequest(cs,"wc_authRequest",{payloadParams:{type:rs??"eip4361",chainId:_i,statement:An,aud:ba,domain:xa,version:"1",nonce:$a,iat:new Date().toISOString(),exp:ts,nbf:is},requester:{publicKey:ps,metadata:this.client.metadata}},{},En.expiry);return this.client.logger.info(`sent request to new pairing topic: ${cs}`),{uri:us,id:e0}},this.respond=async(En,Cn)=>{if(this.isInitialized(),!st$2(En,this.client.requests))throw new Error("Invalid response");const _i=te$1(this.client.requests,En.id);if(!_i)throw new Error(`Could not find pending auth request with id ${En.id}`);const An=_i.requester.publicKey,ba=await this.client.core.crypto.generateKeyPair(),xa=hr$4(An),$a={type:D$3,receiverPublicKey:An,senderPublicKey:ba};if("error"in En){await this.sendError(_i.id,xa,En,$a);return}const rs={h:{t:"eip4361"},p:V$3(I$3({},_i.cacaoPayload),{iss:Cn}),s:En.signature};await this.sendResult(_i.id,xa,rs,$a),await this.client.core.pairing.activate({topic:_i.pairingTopic}),await this.client.requests.update(_i.id,I$3({},rs))},this.getPendingRequests=()=>ee$1(this.client.requests),this.formatMessage=(En,Cn)=>{this.client.logger.debug(`formatMessage, cacao is: ${JSON.stringify(En)}`);const _i=`${En.domain} wants you to sign in with your Ethereum account:`,An=W$2(Cn),ba=En.statement,xa=`URI: ${En.aud}`,$a=`Version: ${En.version}`,rs=`Chain ID: ${Ze$1(Cn)}`,ts=`Nonce: ${En.nonce}`,is=`Issued At: ${En.iat}`,cs=En.exp?`Expiry: ${En.exp}`:void 0,us=En.resources&&En.resources.length>0?`Resources:
${En.resources.map(ps=>`- ${ps}`).join(`
`)}`:void 0;return[_i,An,"",ba,"",xa,$a,rs,ts,is,cs,us].filter(ps=>ps!=null).join(`
`)},this.setExpiry=async(En,Cn)=>{this.client.core.pairing.pairings.keys.includes(En)&&await this.client.core.pairing.updateExpiry({topic:En,expiry:Cn}),this.client.core.expirer.set(En,Cn)},this.sendRequest=async(En,Cn,_i,An,ba)=>{const xa=formatJsonRpcRequest(Cn,_i),$a=await this.client.core.crypto.encode(En,xa,An),rs=R$2[Cn].req;if(ba&&(rs.ttl=ba),this.client.core.history.set(En,xa),V$5()){const ts=K$2(JSON.stringify(xa));this.client.core.verify.register({attestationId:ts})}return await this.client.core.relayer.publish(En,$a,V$3(I$3({},rs),{internal:{throwOnFailedPublish:!0}})),xa.id},this.sendResult=async(En,Cn,_i,An)=>{const ba=formatJsonRpcResult(En,_i),xa=await this.client.core.crypto.encode(Cn,ba,An),$a=await this.client.core.history.get(Cn,En),rs=R$2[$a.request.method].res;return await this.client.core.relayer.publish(Cn,xa,V$3(I$3({},rs),{internal:{throwOnFailedPublish:!0}})),await this.client.core.history.resolve(ba),ba.id},this.sendError=async(En,Cn,_i,An)=>{const ba=formatJsonRpcError(En,_i.error),xa=await this.client.core.crypto.encode(Cn,ba,An),$a=await this.client.core.history.get(Cn,En),rs=R$2[$a.request.method].res;return await this.client.core.relayer.publish(Cn,xa,rs),await this.client.core.history.resolve(ba),ba.id},this.requestOnKnownPairing=async(En,Cn)=>{const _i=this.client.core.pairing.pairings.getAll({active:!0}).find(us=>us.topic===En);if(!_i)throw new Error(`Could not find pairing for provided topic ${En}`);const{publicKey:An}=this.client.authKeys.get(x$4),{chainId:ba,statement:xa,aud:$a,domain:rs,nonce:ts,type:is}=Cn,cs=await this.sendRequest(_i.topic,"wc_authRequest",{payloadParams:{type:is??"eip4361",chainId:ba,statement:xa,aud:$a,domain:rs,version:"1",nonce:ts,iat:new Date().toISOString()},requester:{publicKey:An,metadata:this.client.metadata}},{},Cn.expiry);return this.client.logger.info(`sent request to known pairing topic: ${_i.topic}`),{id:cs}},this.onPairingCreated=En=>{const Cn=this.getPendingRequests();if(Cn){const _i=Object.values(Cn).find(An=>An.pairingTopic===En.topic);_i&&this.handleAuthRequest(_i)}},this.onRelayEventRequest=En=>{const{topic:Cn,payload:_i}=En,An=_i.method;switch(An){case"wc_authRequest":return this.onAuthRequest(Cn,_i);default:return this.client.logger.info(`Unsupported request method ${An}`)}},this.onRelayEventResponse=async En=>{const{topic:Cn,payload:_i}=En,An=(await this.client.core.history.get(Cn,_i.id)).request.method;switch(An){case"wc_authRequest":return this.onAuthResponse(Cn,_i);default:return this.client.logger.info(`Unsupported response method ${An}`)}},this.onAuthRequest=async(En,Cn)=>{const{requester:_i,payloadParams:An}=Cn.params;this.client.logger.info({type:"onAuthRequest",topic:En,payload:Cn});const ba=K$2(JSON.stringify(Cn)),xa=await this.getVerifyContext(ba,this.client.metadata),$a={requester:_i,pairingTopic:En,id:Cn.id,cacaoPayload:An,verifyContext:xa};await this.client.requests.set(Cn.id,$a),this.handleAuthRequest($a)},this.handleAuthRequest=async En=>{const{id:Cn,pairingTopic:_i,requester:An,cacaoPayload:ba,verifyContext:xa}=En;try{this.client.emit("auth_request",{id:Cn,topic:_i,params:{requester:An,cacaoPayload:ba},verifyContext:xa})}catch($a){await this.sendError(En.id,En.pairingTopic,$a),this.client.logger.error($a)}},this.onAuthResponse=async(En,Cn)=>{const{id:_i}=Cn;if(this.client.logger.info({type:"onAuthResponse",topic:En,response:Cn}),isJsonRpcResult(Cn)){const{pairingTopic:An}=this.client.pairingTopics.get(En);await this.client.core.pairing.activate({topic:An});const{s:ba,p:xa}=Cn.result;await this.client.requests.set(_i,I$3({id:_i,pairingTopic:An},Cn.result));const $a=this.formatMessage(xa,xa.iss);this.client.logger.debug(`reconstructed message:
`,JSON.stringify($a)),this.client.logger.debug("payload.iss:",xa.iss),this.client.logger.debug("signature:",ba);const rs=W$2(xa.iss),ts=We$2(xa.iss);if(!rs)throw new Error("Could not derive address from `payload.iss`");if(!ts)throw new Error("Could not derive chainId from `payload.iss`");this.client.logger.debug("walletAddress extracted from `payload.iss`:",rs),await et$2(rs,$a,ba,ts,this.client.projectId)?this.client.emit("auth_response",{id:_i,topic:En,params:Cn}):this.client.emit("auth_response",{id:_i,topic:En,params:{message:"Invalid signature",code:-1}})}else isJsonRpcError(Cn)&&this.client.emit("auth_response",{id:_i,topic:En,params:Cn})},this.getVerifyContext=async(En,Cn)=>{const _i={verified:{verifyUrl:Cn.verifyUrl||"",validation:"UNKNOWN",origin:Cn.url||""}};try{const An=await this.client.core.verify.resolve({attestationId:En,verifyUrl:Cn.verifyUrl});An&&(_i.verified.origin=An.origin,_i.verified.isScam=An.isScam,_i.verified.validation=origin===new URL(Cn.url).origin?"VALID":"INVALID")}catch(An){this.client.logger.error(An)}return this.client.logger.info(`Verify context: ${JSON.stringify(_i)}`),_i}}isInitialized(){if(!this.initialized){const{message:fn}=S$7("NOT_INITIALIZED",this.name);throw new Error(fn)}}registerRelayerEvents(){this.client.core.relayer.on(v$4.message,async fn=>{const{topic:En,message:Cn}=fn,{responseTopic:_i,publicKey:An}=this.client.authKeys.keys.includes(x$4)?this.client.authKeys.get(x$4):{responseTopic:void 0,publicKey:void 0};if(_i&&En!==_i){this.client.logger.debug("[Auth] Ignoring message from unknown topic",En);return}const ba=await this.client.core.crypto.decode(En,Cn,{receiverPublicKey:An});isJsonRpcRequest(ba)?(this.client.core.history.set(En,ba),this.onRelayEventRequest({topic:En,payload:ba})):isJsonRpcResponse(ba)&&(await this.client.core.history.resolve(ba),this.onRelayEventResponse({topic:En,payload:ba}))})}registerPairingEvents(){this.client.core.pairing.events.on(V$4.create,fn=>this.onPairingCreated(fn))}},S$4=class uu extends H$1{constructor(fn){super(fn),this.protocol=$$3,this.version=Q$1,this.name=B$2,this.events=new eventsExports.EventEmitter,this.emit=(Cn,_i)=>this.events.emit(Cn,_i),this.on=(Cn,_i)=>this.events.on(Cn,_i),this.once=(Cn,_i)=>this.events.once(Cn,_i),this.off=(Cn,_i)=>this.events.off(Cn,_i),this.removeListener=(Cn,_i)=>this.events.removeListener(Cn,_i),this.request=async(Cn,_i)=>{try{return await this.engine.request(Cn,_i)}catch(An){throw this.logger.error(An.message),An}},this.respond=async(Cn,_i)=>{try{return await this.engine.respond(Cn,_i)}catch(An){throw this.logger.error(An.message),An}},this.getPendingRequests=()=>{try{return this.engine.getPendingRequests()}catch(Cn){throw this.logger.error(Cn.message),Cn}},this.formatMessage=(Cn,_i)=>{try{return this.engine.formatMessage(Cn,_i)}catch(An){throw this.logger.error(An.message),An}};const En=typeof fn.logger<"u"&&typeof fn.logger!="string"?fn.logger:Hg(k$3({level:fn.logger||"error"}));this.name=(fn==null?void 0:fn.name)||B$2,this.metadata=fn.metadata,this.projectId=fn.projectId,this.core=fn.core||new bn$3(fn),this.logger=E$1(En,this.name),this.authKeys=new ni$1(this.core,this.logger,"authKeys",F$2,()=>x$4),this.pairingTopics=new ni$1(this.core,this.logger,"pairingTopics",F$2),this.requests=new ni$1(this.core,this.logger,"requests",F$2,Cn=>Cn.id),this.engine=new Br$1(this)}static async init(fn){const En=new uu(fn);return await En.initialize(),En}get context(){return y$5(this.logger)}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.authKeys.init(),await this.requests.init(),await this.pairingTopics.init(),await this.engine.init(),this.logger.info("AuthClient Initialization Success"),this.logger.info({authClient:this})}catch(fn){throw this.logger.info("AuthClient Initialization Failure"),this.logger.error(fn.message),fn}}};const zr$2=S$4;let n$1=class extends IEvents{constructor(fn){super(),this.opts=fn,this.protocol="wc",this.version=2}};class h extends IEvents{constructor(fn,En){super(),this.core=fn,this.logger=En,this.records=new Map}}class a{constructor(fn,En){this.logger=fn,this.core=En}}let g$2=class extends IEvents{constructor(fn,En){super(),this.relayer=fn,this.logger=En}};class u extends IEvents{constructor(fn){super()}}let p$1=class{constructor(fn,En,Cn,_i){this.core=fn,this.logger=En,this.name=Cn}};class d extends IEvents{constructor(fn,En){super(),this.relayer=fn,this.logger=En}}let x$3=class extends IEvents{constructor(fn,En){super(),this.core=fn,this.logger=En}},y$2=class{constructor(fn,En,Cn){this.core=fn,this.logger=En,this.store=Cn}},v$3=class{constructor(fn,En){this.projectId=fn,this.logger=En}},C$2=class{constructor(fn,En,Cn){this.core=fn,this.logger=En,this.telemetryEnabled=Cn}},S$3=class{constructor(fn){this.opts=fn,this.protocol="wc",this.version=2}},M$2=class{constructor(fn){this.client=fn}};var elliptic={};const name="elliptic",version$1="6.5.7",description="EC cryptography",main="lib/elliptic.js",files=["lib"],scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author="Fedor Indutny <fedor@indutny.com>",license="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0$1={name,version:version$1,description,main,files,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,dependencies};var utils$c={},bn$2={exports:{}};bn$2.exports;(function(vn){(function(fn,En){function Cn(ds,na){if(!ds)throw new Error(na||"Assertion failed")}function _i(ds,na){ds.super_=na;var _a=function(){};_a.prototype=na.prototype,ds.prototype=new _a,ds.prototype.constructor=ds}function An(ds,na,_a){if(An.isBN(ds))return ds;this.negative=0,this.words=null,this.length=0,this.red=null,ds!==null&&((na==="le"||na==="be")&&(_a=na,na=10),this._init(ds||0,na||10,_a||"be"))}typeof fn=="object"?fn.exports=An:En.BN=An,An.BN=An,An.wordSize=26;var ba;try{typeof window<"u"&&typeof window.Buffer<"u"?ba=window.Buffer:ba=require$$0$a.Buffer}catch{}An.isBN=function(na){return na instanceof An?!0:na!==null&&typeof na=="object"&&na.constructor.wordSize===An.wordSize&&Array.isArray(na.words)},An.max=function(na,_a){return na.cmp(_a)>0?na:_a},An.min=function(na,_a){return na.cmp(_a)<0?na:_a},An.prototype._init=function(na,_a,es){if(typeof na=="number")return this._initNumber(na,_a,es);if(typeof na=="object")return this._initArray(na,_a,es);_a==="hex"&&(_a=16),Cn(_a===(_a|0)&&_a>=2&&_a<=36),na=na.toString().replace(/\s+/g,"");var ns=0;na[0]==="-"&&(ns++,this.negative=1),ns<na.length&&(_a===16?this._parseHex(na,ns,es):(this._parseBase(na,_a,ns),es==="le"&&this._initArray(this.toArray(),_a,es)))},An.prototype._initNumber=function(na,_a,es){na<0&&(this.negative=1,na=-na),na<67108864?(this.words=[na&67108863],this.length=1):na<4503599627370496?(this.words=[na&67108863,na/67108864&67108863],this.length=2):(Cn(na<9007199254740992),this.words=[na&67108863,na/67108864&67108863,1],this.length=3),es==="le"&&this._initArray(this.toArray(),_a,es)},An.prototype._initArray=function(na,_a,es){if(Cn(typeof na.length=="number"),na.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(na.length/3),this.words=new Array(this.length);for(var ns=0;ns<this.length;ns++)this.words[ns]=0;var os,ls,hs=0;if(es==="be")for(ns=na.length-1,os=0;ns>=0;ns-=3)ls=na[ns]|na[ns-1]<<8|na[ns-2]<<16,this.words[os]|=ls<<hs&67108863,this.words[os+1]=ls>>>26-hs&67108863,hs+=24,hs>=26&&(hs-=26,os++);else if(es==="le")for(ns=0,os=0;ns<na.length;ns+=3)ls=na[ns]|na[ns+1]<<8|na[ns+2]<<16,this.words[os]|=ls<<hs&67108863,this.words[os+1]=ls>>>26-hs&67108863,hs+=24,hs>=26&&(hs-=26,os++);return this.strip()};function xa(ds,na){var _a=ds.charCodeAt(na);return _a>=65&&_a<=70?_a-55:_a>=97&&_a<=102?_a-87:_a-48&15}function $a(ds,na,_a){var es=xa(ds,_a);return _a-1>=na&&(es|=xa(ds,_a-1)<<4),es}An.prototype._parseHex=function(na,_a,es){this.length=Math.ceil((na.length-_a)/6),this.words=new Array(this.length);for(var ns=0;ns<this.length;ns++)this.words[ns]=0;var os=0,ls=0,hs;if(es==="be")for(ns=na.length-1;ns>=_a;ns-=2)hs=$a(na,_a,ns)<<os,this.words[ls]|=hs&67108863,os>=18?(os-=18,ls+=1,this.words[ls]|=hs>>>26):os+=8;else{var ss=na.length-_a;for(ns=ss%2===0?_a+1:_a;ns<na.length;ns+=2)hs=$a(na,_a,ns)<<os,this.words[ls]|=hs&67108863,os>=18?(os-=18,ls+=1,this.words[ls]|=hs>>>26):os+=8}this.strip()};function rs(ds,na,_a,es){for(var ns=0,os=Math.min(ds.length,_a),ls=na;ls<os;ls++){var hs=ds.charCodeAt(ls)-48;ns*=es,hs>=49?ns+=hs-49+10:hs>=17?ns+=hs-17+10:ns+=hs}return ns}An.prototype._parseBase=function(na,_a,es){this.words=[0],this.length=1;for(var ns=0,os=1;os<=67108863;os*=_a)ns++;ns--,os=os/_a|0;for(var ls=na.length-es,hs=ls%ns,ss=Math.min(ls,ls-hs)+es,ga=0,as=es;as<ss;as+=ns)ga=rs(na,as,as+ns,_a),this.imuln(os),this.words[0]+ga<67108864?this.words[0]+=ga:this._iaddn(ga);if(hs!==0){var r0=1;for(ga=rs(na,as,na.length,_a),as=0;as<hs;as++)r0*=_a;this.imuln(r0),this.words[0]+ga<67108864?this.words[0]+=ga:this._iaddn(ga)}this.strip()},An.prototype.copy=function(na){na.words=new Array(this.length);for(var _a=0;_a<this.length;_a++)na.words[_a]=this.words[_a];na.length=this.length,na.negative=this.negative,na.red=this.red},An.prototype.clone=function(){var na=new An(null);return this.copy(na),na},An.prototype._expand=function(na){for(;this.length<na;)this.words[this.length++]=0;return this},An.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},An.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},An.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ts=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],is=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],cs=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];An.prototype.toString=function(na,_a){na=na||10,_a=_a|0||1;var es;if(na===16||na==="hex"){es="";for(var ns=0,os=0,ls=0;ls<this.length;ls++){var hs=this.words[ls],ss=((hs<<ns|os)&16777215).toString(16);os=hs>>>24-ns&16777215,ns+=2,ns>=26&&(ns-=26,ls--),os!==0||ls!==this.length-1?es=ts[6-ss.length]+ss+es:es=ss+es}for(os!==0&&(es=os.toString(16)+es);es.length%_a!==0;)es="0"+es;return this.negative!==0&&(es="-"+es),es}if(na===(na|0)&&na>=2&&na<=36){var ga=is[na],as=cs[na];es="";var r0=this.clone();for(r0.negative=0;!r0.isZero();){var a0=r0.modn(as).toString(na);r0=r0.idivn(as),r0.isZero()?es=a0+es:es=ts[ga-a0.length]+a0+es}for(this.isZero()&&(es="0"+es);es.length%_a!==0;)es="0"+es;return this.negative!==0&&(es="-"+es),es}Cn(!1,"Base should be between 2 and 36")},An.prototype.toNumber=function(){var na=this.words[0];return this.length===2?na+=this.words[1]*67108864:this.length===3&&this.words[2]===1?na+=4503599627370496+this.words[1]*67108864:this.length>2&&Cn(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-na:na},An.prototype.toJSON=function(){return this.toString(16)},An.prototype.toBuffer=function(na,_a){return Cn(typeof ba<"u"),this.toArrayLike(ba,na,_a)},An.prototype.toArray=function(na,_a){return this.toArrayLike(Array,na,_a)},An.prototype.toArrayLike=function(na,_a,es){var ns=this.byteLength(),os=es||Math.max(1,ns);Cn(ns<=os,"byte array longer than desired length"),Cn(os>0,"Requested array length <= 0"),this.strip();var ls=_a==="le",hs=new na(os),ss,ga,as=this.clone();if(ls){for(ga=0;!as.isZero();ga++)ss=as.andln(255),as.iushrn(8),hs[ga]=ss;for(;ga<os;ga++)hs[ga]=0}else{for(ga=0;ga<os-ns;ga++)hs[ga]=0;for(ga=0;!as.isZero();ga++)ss=as.andln(255),as.iushrn(8),hs[os-ga-1]=ss}return hs},Math.clz32?An.prototype._countBits=function(na){return 32-Math.clz32(na)}:An.prototype._countBits=function(na){var _a=na,es=0;return _a>=4096&&(es+=13,_a>>>=13),_a>=64&&(es+=7,_a>>>=7),_a>=8&&(es+=4,_a>>>=4),_a>=2&&(es+=2,_a>>>=2),es+_a},An.prototype._zeroBits=function(na){if(na===0)return 26;var _a=na,es=0;return _a&8191||(es+=13,_a>>>=13),_a&127||(es+=7,_a>>>=7),_a&15||(es+=4,_a>>>=4),_a&3||(es+=2,_a>>>=2),_a&1||es++,es},An.prototype.bitLength=function(){var na=this.words[this.length-1],_a=this._countBits(na);return(this.length-1)*26+_a};function us(ds){for(var na=new Array(ds.bitLength()),_a=0;_a<na.length;_a++){var es=_a/26|0,ns=_a%26;na[_a]=(ds.words[es]&1<<ns)>>>ns}return na}An.prototype.zeroBits=function(){if(this.isZero())return 0;for(var na=0,_a=0;_a<this.length;_a++){var es=this._zeroBits(this.words[_a]);if(na+=es,es!==26)break}return na},An.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},An.prototype.toTwos=function(na){return this.negative!==0?this.abs().inotn(na).iaddn(1):this.clone()},An.prototype.fromTwos=function(na){return this.testn(na-1)?this.notn(na).iaddn(1).ineg():this.clone()},An.prototype.isNeg=function(){return this.negative!==0},An.prototype.neg=function(){return this.clone().ineg()},An.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},An.prototype.iuor=function(na){for(;this.length<na.length;)this.words[this.length++]=0;for(var _a=0;_a<na.length;_a++)this.words[_a]=this.words[_a]|na.words[_a];return this.strip()},An.prototype.ior=function(na){return Cn((this.negative|na.negative)===0),this.iuor(na)},An.prototype.or=function(na){return this.length>na.length?this.clone().ior(na):na.clone().ior(this)},An.prototype.uor=function(na){return this.length>na.length?this.clone().iuor(na):na.clone().iuor(this)},An.prototype.iuand=function(na){var _a;this.length>na.length?_a=na:_a=this;for(var es=0;es<_a.length;es++)this.words[es]=this.words[es]&na.words[es];return this.length=_a.length,this.strip()},An.prototype.iand=function(na){return Cn((this.negative|na.negative)===0),this.iuand(na)},An.prototype.and=function(na){return this.length>na.length?this.clone().iand(na):na.clone().iand(this)},An.prototype.uand=function(na){return this.length>na.length?this.clone().iuand(na):na.clone().iuand(this)},An.prototype.iuxor=function(na){var _a,es;this.length>na.length?(_a=this,es=na):(_a=na,es=this);for(var ns=0;ns<es.length;ns++)this.words[ns]=_a.words[ns]^es.words[ns];if(this!==_a)for(;ns<_a.length;ns++)this.words[ns]=_a.words[ns];return this.length=_a.length,this.strip()},An.prototype.ixor=function(na){return Cn((this.negative|na.negative)===0),this.iuxor(na)},An.prototype.xor=function(na){return this.length>na.length?this.clone().ixor(na):na.clone().ixor(this)},An.prototype.uxor=function(na){return this.length>na.length?this.clone().iuxor(na):na.clone().iuxor(this)},An.prototype.inotn=function(na){Cn(typeof na=="number"&&na>=0);var _a=Math.ceil(na/26)|0,es=na%26;this._expand(_a),es>0&&_a--;for(var ns=0;ns<_a;ns++)this.words[ns]=~this.words[ns]&67108863;return es>0&&(this.words[ns]=~this.words[ns]&67108863>>26-es),this.strip()},An.prototype.notn=function(na){return this.clone().inotn(na)},An.prototype.setn=function(na,_a){Cn(typeof na=="number"&&na>=0);var es=na/26|0,ns=na%26;return this._expand(es+1),_a?this.words[es]=this.words[es]|1<<ns:this.words[es]=this.words[es]&~(1<<ns),this.strip()},An.prototype.iadd=function(na){var _a;if(this.negative!==0&&na.negative===0)return this.negative=0,_a=this.isub(na),this.negative^=1,this._normSign();if(this.negative===0&&na.negative!==0)return na.negative=0,_a=this.isub(na),na.negative=1,_a._normSign();var es,ns;this.length>na.length?(es=this,ns=na):(es=na,ns=this);for(var os=0,ls=0;ls<ns.length;ls++)_a=(es.words[ls]|0)+(ns.words[ls]|0)+os,this.words[ls]=_a&67108863,os=_a>>>26;for(;os!==0&&ls<es.length;ls++)_a=(es.words[ls]|0)+os,this.words[ls]=_a&67108863,os=_a>>>26;if(this.length=es.length,os!==0)this.words[this.length]=os,this.length++;else if(es!==this)for(;ls<es.length;ls++)this.words[ls]=es.words[ls];return this},An.prototype.add=function(na){var _a;return na.negative!==0&&this.negative===0?(na.negative=0,_a=this.sub(na),na.negative^=1,_a):na.negative===0&&this.negative!==0?(this.negative=0,_a=na.sub(this),this.negative=1,_a):this.length>na.length?this.clone().iadd(na):na.clone().iadd(this)},An.prototype.isub=function(na){if(na.negative!==0){na.negative=0;var _a=this.iadd(na);return na.negative=1,_a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(na),this.negative=1,this._normSign();var es=this.cmp(na);if(es===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ns,os;es>0?(ns=this,os=na):(ns=na,os=this);for(var ls=0,hs=0;hs<os.length;hs++)_a=(ns.words[hs]|0)-(os.words[hs]|0)+ls,ls=_a>>26,this.words[hs]=_a&67108863;for(;ls!==0&&hs<ns.length;hs++)_a=(ns.words[hs]|0)+ls,ls=_a>>26,this.words[hs]=_a&67108863;if(ls===0&&hs<ns.length&&ns!==this)for(;hs<ns.length;hs++)this.words[hs]=ns.words[hs];return this.length=Math.max(this.length,hs),ns!==this&&(this.negative=1),this.strip()},An.prototype.sub=function(na){return this.clone().isub(na)};function ps(ds,na,_a){_a.negative=na.negative^ds.negative;var es=ds.length+na.length|0;_a.length=es,es=es-1|0;var ns=ds.words[0]|0,os=na.words[0]|0,ls=ns*os,hs=ls&67108863,ss=ls/67108864|0;_a.words[0]=hs;for(var ga=1;ga<es;ga++){for(var as=ss>>>26,r0=ss&67108863,a0=Math.min(ga,na.length-1),l0=Math.max(0,ga-ds.length+1);l0<=a0;l0++){var s0=ga-l0|0;ns=ds.words[s0]|0,os=na.words[l0]|0,ls=ns*os+r0,as+=ls/67108864|0,r0=ls&67108863}_a.words[ga]=r0|0,ss=as|0}return ss!==0?_a.words[ga]=ss|0:_a.length--,_a.strip()}var bs=function(na,_a,es){var ns=na.words,os=_a.words,ls=es.words,hs=0,ss,ga,as,r0=ns[0]|0,a0=r0&8191,l0=r0>>>13,s0=ns[1]|0,b0=s0&8191,f0=s0>>>13,m0=ns[2]|0,y0=m0&8191,t0=m0>>>13,h0=ns[3]|0,p0=h0&8191,E0=h0>>>13,I0=ns[4]|0,C0=I0&8191,$0=I0>>>13,vo=ns[5]|0,P0=vo&8191,S0=vo>>>13,_o=ns[6]|0,O0=_o&8191,B0=_o>>>13,To=ns[7]|0,k0=To&8191,D0=To>>>13,Eo=ns[8]|0,N0=Eo&8191,F0=Eo>>>13,Co=ns[9]|0,x0=Co&8191,u0=Co>>>13,v0=os[0]|0,_0=v0&8191,T0=v0>>>13,j0=os[1]|0,A0=j0&8191,U0=j0>>>13,$o=os[2]|0,L0=$o&8191,V0=$o>>>13,Mo=os[3]|0,G0=Mo&8191,Z0=Mo>>>13,Io=os[4]|0,q0=Io&8191,Y0=Io>>>13,Ro=os[5]|0,z0=Ro&8191,X0=Ro>>>13,Po=os[6]|0,K0=Po&8191,bo=Po>>>13,ko=os[7]|0,W0=ko&8191,J0=ko>>>13,Ao=os[8]|0,H0=Ao&8191,go=Ao>>>13,Bo=os[9]|0,Q0=Bo&8191,wo=Bo>>>13;es.negative=na.negative^_a.negative,es.length=19,ss=Math.imul(a0,_0),ga=Math.imul(a0,T0),ga=ga+Math.imul(l0,_0)|0,as=Math.imul(l0,T0);var No=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(No>>>26)|0,No&=67108863,ss=Math.imul(b0,_0),ga=Math.imul(b0,T0),ga=ga+Math.imul(f0,_0)|0,as=Math.imul(f0,T0),ss=ss+Math.imul(a0,A0)|0,ga=ga+Math.imul(a0,U0)|0,ga=ga+Math.imul(l0,A0)|0,as=as+Math.imul(l0,U0)|0;var Oo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,ss=Math.imul(y0,_0),ga=Math.imul(y0,T0),ga=ga+Math.imul(t0,_0)|0,as=Math.imul(t0,T0),ss=ss+Math.imul(b0,A0)|0,ga=ga+Math.imul(b0,U0)|0,ga=ga+Math.imul(f0,A0)|0,as=as+Math.imul(f0,U0)|0,ss=ss+Math.imul(a0,L0)|0,ga=ga+Math.imul(a0,V0)|0,ga=ga+Math.imul(l0,L0)|0,as=as+Math.imul(l0,V0)|0;var jo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(jo>>>26)|0,jo&=67108863,ss=Math.imul(p0,_0),ga=Math.imul(p0,T0),ga=ga+Math.imul(E0,_0)|0,as=Math.imul(E0,T0),ss=ss+Math.imul(y0,A0)|0,ga=ga+Math.imul(y0,U0)|0,ga=ga+Math.imul(t0,A0)|0,as=as+Math.imul(t0,U0)|0,ss=ss+Math.imul(b0,L0)|0,ga=ga+Math.imul(b0,V0)|0,ga=ga+Math.imul(f0,L0)|0,as=as+Math.imul(f0,V0)|0,ss=ss+Math.imul(a0,G0)|0,ga=ga+Math.imul(a0,Z0)|0,ga=ga+Math.imul(l0,G0)|0,as=as+Math.imul(l0,Z0)|0;var Uo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,ss=Math.imul(C0,_0),ga=Math.imul(C0,T0),ga=ga+Math.imul($0,_0)|0,as=Math.imul($0,T0),ss=ss+Math.imul(p0,A0)|0,ga=ga+Math.imul(p0,U0)|0,ga=ga+Math.imul(E0,A0)|0,as=as+Math.imul(E0,U0)|0,ss=ss+Math.imul(y0,L0)|0,ga=ga+Math.imul(y0,V0)|0,ga=ga+Math.imul(t0,L0)|0,as=as+Math.imul(t0,V0)|0,ss=ss+Math.imul(b0,G0)|0,ga=ga+Math.imul(b0,Z0)|0,ga=ga+Math.imul(f0,G0)|0,as=as+Math.imul(f0,Z0)|0,ss=ss+Math.imul(a0,q0)|0,ga=ga+Math.imul(a0,Y0)|0,ga=ga+Math.imul(l0,q0)|0,as=as+Math.imul(l0,Y0)|0;var zo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(zo>>>26)|0,zo&=67108863,ss=Math.imul(P0,_0),ga=Math.imul(P0,T0),ga=ga+Math.imul(S0,_0)|0,as=Math.imul(S0,T0),ss=ss+Math.imul(C0,A0)|0,ga=ga+Math.imul(C0,U0)|0,ga=ga+Math.imul($0,A0)|0,as=as+Math.imul($0,U0)|0,ss=ss+Math.imul(p0,L0)|0,ga=ga+Math.imul(p0,V0)|0,ga=ga+Math.imul(E0,L0)|0,as=as+Math.imul(E0,V0)|0,ss=ss+Math.imul(y0,G0)|0,ga=ga+Math.imul(y0,Z0)|0,ga=ga+Math.imul(t0,G0)|0,as=as+Math.imul(t0,Z0)|0,ss=ss+Math.imul(b0,q0)|0,ga=ga+Math.imul(b0,Y0)|0,ga=ga+Math.imul(f0,q0)|0,as=as+Math.imul(f0,Y0)|0,ss=ss+Math.imul(a0,z0)|0,ga=ga+Math.imul(a0,X0)|0,ga=ga+Math.imul(l0,z0)|0,as=as+Math.imul(l0,X0)|0;var qo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(qo>>>26)|0,qo&=67108863,ss=Math.imul(O0,_0),ga=Math.imul(O0,T0),ga=ga+Math.imul(B0,_0)|0,as=Math.imul(B0,T0),ss=ss+Math.imul(P0,A0)|0,ga=ga+Math.imul(P0,U0)|0,ga=ga+Math.imul(S0,A0)|0,as=as+Math.imul(S0,U0)|0,ss=ss+Math.imul(C0,L0)|0,ga=ga+Math.imul(C0,V0)|0,ga=ga+Math.imul($0,L0)|0,as=as+Math.imul($0,V0)|0,ss=ss+Math.imul(p0,G0)|0,ga=ga+Math.imul(p0,Z0)|0,ga=ga+Math.imul(E0,G0)|0,as=as+Math.imul(E0,Z0)|0,ss=ss+Math.imul(y0,q0)|0,ga=ga+Math.imul(y0,Y0)|0,ga=ga+Math.imul(t0,q0)|0,as=as+Math.imul(t0,Y0)|0,ss=ss+Math.imul(b0,z0)|0,ga=ga+Math.imul(b0,X0)|0,ga=ga+Math.imul(f0,z0)|0,as=as+Math.imul(f0,X0)|0,ss=ss+Math.imul(a0,K0)|0,ga=ga+Math.imul(a0,bo)|0,ga=ga+Math.imul(l0,K0)|0,as=as+Math.imul(l0,bo)|0;var Fo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,ss=Math.imul(k0,_0),ga=Math.imul(k0,T0),ga=ga+Math.imul(D0,_0)|0,as=Math.imul(D0,T0),ss=ss+Math.imul(O0,A0)|0,ga=ga+Math.imul(O0,U0)|0,ga=ga+Math.imul(B0,A0)|0,as=as+Math.imul(B0,U0)|0,ss=ss+Math.imul(P0,L0)|0,ga=ga+Math.imul(P0,V0)|0,ga=ga+Math.imul(S0,L0)|0,as=as+Math.imul(S0,V0)|0,ss=ss+Math.imul(C0,G0)|0,ga=ga+Math.imul(C0,Z0)|0,ga=ga+Math.imul($0,G0)|0,as=as+Math.imul($0,Z0)|0,ss=ss+Math.imul(p0,q0)|0,ga=ga+Math.imul(p0,Y0)|0,ga=ga+Math.imul(E0,q0)|0,as=as+Math.imul(E0,Y0)|0,ss=ss+Math.imul(y0,z0)|0,ga=ga+Math.imul(y0,X0)|0,ga=ga+Math.imul(t0,z0)|0,as=as+Math.imul(t0,X0)|0,ss=ss+Math.imul(b0,K0)|0,ga=ga+Math.imul(b0,bo)|0,ga=ga+Math.imul(f0,K0)|0,as=as+Math.imul(f0,bo)|0,ss=ss+Math.imul(a0,W0)|0,ga=ga+Math.imul(a0,J0)|0,ga=ga+Math.imul(l0,W0)|0,as=as+Math.imul(l0,J0)|0;var Ko=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,ss=Math.imul(N0,_0),ga=Math.imul(N0,T0),ga=ga+Math.imul(F0,_0)|0,as=Math.imul(F0,T0),ss=ss+Math.imul(k0,A0)|0,ga=ga+Math.imul(k0,U0)|0,ga=ga+Math.imul(D0,A0)|0,as=as+Math.imul(D0,U0)|0,ss=ss+Math.imul(O0,L0)|0,ga=ga+Math.imul(O0,V0)|0,ga=ga+Math.imul(B0,L0)|0,as=as+Math.imul(B0,V0)|0,ss=ss+Math.imul(P0,G0)|0,ga=ga+Math.imul(P0,Z0)|0,ga=ga+Math.imul(S0,G0)|0,as=as+Math.imul(S0,Z0)|0,ss=ss+Math.imul(C0,q0)|0,ga=ga+Math.imul(C0,Y0)|0,ga=ga+Math.imul($0,q0)|0,as=as+Math.imul($0,Y0)|0,ss=ss+Math.imul(p0,z0)|0,ga=ga+Math.imul(p0,X0)|0,ga=ga+Math.imul(E0,z0)|0,as=as+Math.imul(E0,X0)|0,ss=ss+Math.imul(y0,K0)|0,ga=ga+Math.imul(y0,bo)|0,ga=ga+Math.imul(t0,K0)|0,as=as+Math.imul(t0,bo)|0,ss=ss+Math.imul(b0,W0)|0,ga=ga+Math.imul(b0,J0)|0,ga=ga+Math.imul(f0,W0)|0,as=as+Math.imul(f0,J0)|0,ss=ss+Math.imul(a0,H0)|0,ga=ga+Math.imul(a0,go)|0,ga=ga+Math.imul(l0,H0)|0,as=as+Math.imul(l0,go)|0;var Ho=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,ss=Math.imul(x0,_0),ga=Math.imul(x0,T0),ga=ga+Math.imul(u0,_0)|0,as=Math.imul(u0,T0),ss=ss+Math.imul(N0,A0)|0,ga=ga+Math.imul(N0,U0)|0,ga=ga+Math.imul(F0,A0)|0,as=as+Math.imul(F0,U0)|0,ss=ss+Math.imul(k0,L0)|0,ga=ga+Math.imul(k0,V0)|0,ga=ga+Math.imul(D0,L0)|0,as=as+Math.imul(D0,V0)|0,ss=ss+Math.imul(O0,G0)|0,ga=ga+Math.imul(O0,Z0)|0,ga=ga+Math.imul(B0,G0)|0,as=as+Math.imul(B0,Z0)|0,ss=ss+Math.imul(P0,q0)|0,ga=ga+Math.imul(P0,Y0)|0,ga=ga+Math.imul(S0,q0)|0,as=as+Math.imul(S0,Y0)|0,ss=ss+Math.imul(C0,z0)|0,ga=ga+Math.imul(C0,X0)|0,ga=ga+Math.imul($0,z0)|0,as=as+Math.imul($0,X0)|0,ss=ss+Math.imul(p0,K0)|0,ga=ga+Math.imul(p0,bo)|0,ga=ga+Math.imul(E0,K0)|0,as=as+Math.imul(E0,bo)|0,ss=ss+Math.imul(y0,W0)|0,ga=ga+Math.imul(y0,J0)|0,ga=ga+Math.imul(t0,W0)|0,as=as+Math.imul(t0,J0)|0,ss=ss+Math.imul(b0,H0)|0,ga=ga+Math.imul(b0,go)|0,ga=ga+Math.imul(f0,H0)|0,as=as+Math.imul(f0,go)|0,ss=ss+Math.imul(a0,Q0)|0,ga=ga+Math.imul(a0,wo)|0,ga=ga+Math.imul(l0,Q0)|0,as=as+Math.imul(l0,wo)|0;var Vo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,ss=Math.imul(x0,A0),ga=Math.imul(x0,U0),ga=ga+Math.imul(u0,A0)|0,as=Math.imul(u0,U0),ss=ss+Math.imul(N0,L0)|0,ga=ga+Math.imul(N0,V0)|0,ga=ga+Math.imul(F0,L0)|0,as=as+Math.imul(F0,V0)|0,ss=ss+Math.imul(k0,G0)|0,ga=ga+Math.imul(k0,Z0)|0,ga=ga+Math.imul(D0,G0)|0,as=as+Math.imul(D0,Z0)|0,ss=ss+Math.imul(O0,q0)|0,ga=ga+Math.imul(O0,Y0)|0,ga=ga+Math.imul(B0,q0)|0,as=as+Math.imul(B0,Y0)|0,ss=ss+Math.imul(P0,z0)|0,ga=ga+Math.imul(P0,X0)|0,ga=ga+Math.imul(S0,z0)|0,as=as+Math.imul(S0,X0)|0,ss=ss+Math.imul(C0,K0)|0,ga=ga+Math.imul(C0,bo)|0,ga=ga+Math.imul($0,K0)|0,as=as+Math.imul($0,bo)|0,ss=ss+Math.imul(p0,W0)|0,ga=ga+Math.imul(p0,J0)|0,ga=ga+Math.imul(E0,W0)|0,as=as+Math.imul(E0,J0)|0,ss=ss+Math.imul(y0,H0)|0,ga=ga+Math.imul(y0,go)|0,ga=ga+Math.imul(t0,H0)|0,as=as+Math.imul(t0,go)|0,ss=ss+Math.imul(b0,Q0)|0,ga=ga+Math.imul(b0,wo)|0,ga=ga+Math.imul(f0,Q0)|0,as=as+Math.imul(f0,wo)|0;var Go=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Go>>>26)|0,Go&=67108863,ss=Math.imul(x0,L0),ga=Math.imul(x0,V0),ga=ga+Math.imul(u0,L0)|0,as=Math.imul(u0,V0),ss=ss+Math.imul(N0,G0)|0,ga=ga+Math.imul(N0,Z0)|0,ga=ga+Math.imul(F0,G0)|0,as=as+Math.imul(F0,Z0)|0,ss=ss+Math.imul(k0,q0)|0,ga=ga+Math.imul(k0,Y0)|0,ga=ga+Math.imul(D0,q0)|0,as=as+Math.imul(D0,Y0)|0,ss=ss+Math.imul(O0,z0)|0,ga=ga+Math.imul(O0,X0)|0,ga=ga+Math.imul(B0,z0)|0,as=as+Math.imul(B0,X0)|0,ss=ss+Math.imul(P0,K0)|0,ga=ga+Math.imul(P0,bo)|0,ga=ga+Math.imul(S0,K0)|0,as=as+Math.imul(S0,bo)|0,ss=ss+Math.imul(C0,W0)|0,ga=ga+Math.imul(C0,J0)|0,ga=ga+Math.imul($0,W0)|0,as=as+Math.imul($0,J0)|0,ss=ss+Math.imul(p0,H0)|0,ga=ga+Math.imul(p0,go)|0,ga=ga+Math.imul(E0,H0)|0,as=as+Math.imul(E0,go)|0,ss=ss+Math.imul(y0,Q0)|0,ga=ga+Math.imul(y0,wo)|0,ga=ga+Math.imul(t0,Q0)|0,as=as+Math.imul(t0,wo)|0;var Zo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,ss=Math.imul(x0,G0),ga=Math.imul(x0,Z0),ga=ga+Math.imul(u0,G0)|0,as=Math.imul(u0,Z0),ss=ss+Math.imul(N0,q0)|0,ga=ga+Math.imul(N0,Y0)|0,ga=ga+Math.imul(F0,q0)|0,as=as+Math.imul(F0,Y0)|0,ss=ss+Math.imul(k0,z0)|0,ga=ga+Math.imul(k0,X0)|0,ga=ga+Math.imul(D0,z0)|0,as=as+Math.imul(D0,X0)|0,ss=ss+Math.imul(O0,K0)|0,ga=ga+Math.imul(O0,bo)|0,ga=ga+Math.imul(B0,K0)|0,as=as+Math.imul(B0,bo)|0,ss=ss+Math.imul(P0,W0)|0,ga=ga+Math.imul(P0,J0)|0,ga=ga+Math.imul(S0,W0)|0,as=as+Math.imul(S0,J0)|0,ss=ss+Math.imul(C0,H0)|0,ga=ga+Math.imul(C0,go)|0,ga=ga+Math.imul($0,H0)|0,as=as+Math.imul($0,go)|0,ss=ss+Math.imul(p0,Q0)|0,ga=ga+Math.imul(p0,wo)|0,ga=ga+Math.imul(E0,Q0)|0,as=as+Math.imul(E0,wo)|0;var Jo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Jo>>>26)|0,Jo&=67108863,ss=Math.imul(x0,q0),ga=Math.imul(x0,Y0),ga=ga+Math.imul(u0,q0)|0,as=Math.imul(u0,Y0),ss=ss+Math.imul(N0,z0)|0,ga=ga+Math.imul(N0,X0)|0,ga=ga+Math.imul(F0,z0)|0,as=as+Math.imul(F0,X0)|0,ss=ss+Math.imul(k0,K0)|0,ga=ga+Math.imul(k0,bo)|0,ga=ga+Math.imul(D0,K0)|0,as=as+Math.imul(D0,bo)|0,ss=ss+Math.imul(O0,W0)|0,ga=ga+Math.imul(O0,J0)|0,ga=ga+Math.imul(B0,W0)|0,as=as+Math.imul(B0,J0)|0,ss=ss+Math.imul(P0,H0)|0,ga=ga+Math.imul(P0,go)|0,ga=ga+Math.imul(S0,H0)|0,as=as+Math.imul(S0,go)|0,ss=ss+Math.imul(C0,Q0)|0,ga=ga+Math.imul(C0,wo)|0,ga=ga+Math.imul($0,Q0)|0,as=as+Math.imul($0,wo)|0;var Qo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,ss=Math.imul(x0,z0),ga=Math.imul(x0,X0),ga=ga+Math.imul(u0,z0)|0,as=Math.imul(u0,X0),ss=ss+Math.imul(N0,K0)|0,ga=ga+Math.imul(N0,bo)|0,ga=ga+Math.imul(F0,K0)|0,as=as+Math.imul(F0,bo)|0,ss=ss+Math.imul(k0,W0)|0,ga=ga+Math.imul(k0,J0)|0,ga=ga+Math.imul(D0,W0)|0,as=as+Math.imul(D0,J0)|0,ss=ss+Math.imul(O0,H0)|0,ga=ga+Math.imul(O0,go)|0,ga=ga+Math.imul(B0,H0)|0,as=as+Math.imul(B0,go)|0,ss=ss+Math.imul(P0,Q0)|0,ga=ga+Math.imul(P0,wo)|0,ga=ga+Math.imul(S0,Q0)|0,as=as+Math.imul(S0,wo)|0;var Xo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,ss=Math.imul(x0,K0),ga=Math.imul(x0,bo),ga=ga+Math.imul(u0,K0)|0,as=Math.imul(u0,bo),ss=ss+Math.imul(N0,W0)|0,ga=ga+Math.imul(N0,J0)|0,ga=ga+Math.imul(F0,W0)|0,as=as+Math.imul(F0,J0)|0,ss=ss+Math.imul(k0,H0)|0,ga=ga+Math.imul(k0,go)|0,ga=ga+Math.imul(D0,H0)|0,as=as+Math.imul(D0,go)|0,ss=ss+Math.imul(O0,Q0)|0,ga=ga+Math.imul(O0,wo)|0,ga=ga+Math.imul(B0,Q0)|0,as=as+Math.imul(B0,wo)|0;var Wo=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,ss=Math.imul(x0,W0),ga=Math.imul(x0,J0),ga=ga+Math.imul(u0,W0)|0,as=Math.imul(u0,J0),ss=ss+Math.imul(N0,H0)|0,ga=ga+Math.imul(N0,go)|0,ga=ga+Math.imul(F0,H0)|0,as=as+Math.imul(F0,go)|0,ss=ss+Math.imul(k0,Q0)|0,ga=ga+Math.imul(k0,wo)|0,ga=ga+Math.imul(D0,Q0)|0,as=as+Math.imul(D0,wo)|0;var _f=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(_f>>>26)|0,_f&=67108863,ss=Math.imul(x0,H0),ga=Math.imul(x0,go),ga=ga+Math.imul(u0,H0)|0,as=Math.imul(u0,go),ss=ss+Math.imul(N0,Q0)|0,ga=ga+Math.imul(N0,wo)|0,ga=ga+Math.imul(F0,Q0)|0,as=as+Math.imul(F0,wo)|0;var _c=(hs+ss|0)+((ga&8191)<<13)|0;hs=(as+(ga>>>13)|0)+(_c>>>26)|0,_c&=67108863,ss=Math.imul(x0,Q0),ga=Math.imul(x0,wo),ga=ga+Math.imul(u0,Q0)|0,as=Math.imul(u0,wo);var yl=(hs+ss|0)+((ga&8191)<<13)|0;return hs=(as+(ga>>>13)|0)+(yl>>>26)|0,yl&=67108863,ls[0]=No,ls[1]=Oo,ls[2]=jo,ls[3]=Uo,ls[4]=zo,ls[5]=qo,ls[6]=Fo,ls[7]=Ko,ls[8]=Ho,ls[9]=Vo,ls[10]=Go,ls[11]=Zo,ls[12]=Jo,ls[13]=Qo,ls[14]=Xo,ls[15]=Wo,ls[16]=_f,ls[17]=_c,ls[18]=yl,hs!==0&&(ls[19]=hs,es.length++),es};Math.imul||(bs=ps);function e0(ds,na,_a){_a.negative=na.negative^ds.negative,_a.length=ds.length+na.length;for(var es=0,ns=0,os=0;os<_a.length-1;os++){var ls=ns;ns=0;for(var hs=es&67108863,ss=Math.min(os,na.length-1),ga=Math.max(0,os-ds.length+1);ga<=ss;ga++){var as=os-ga,r0=ds.words[as]|0,a0=na.words[ga]|0,l0=r0*a0,s0=l0&67108863;ls=ls+(l0/67108864|0)|0,s0=s0+hs|0,hs=s0&67108863,ls=ls+(s0>>>26)|0,ns+=ls>>>26,ls&=67108863}_a.words[os]=hs,es=ls,ls=ns}return es!==0?_a.words[os]=es:_a.length--,_a.strip()}function gs(ds,na,_a){var es=new Ds;return es.mulp(ds,na,_a)}An.prototype.mulTo=function(na,_a){var es,ns=this.length+na.length;return this.length===10&&na.length===10?es=bs(this,na,_a):ns<63?es=ps(this,na,_a):ns<1024?es=e0(this,na,_a):es=gs(this,na,_a),es};function Ds(ds,na){this.x=ds,this.y=na}Ds.prototype.makeRBT=function(na){for(var _a=new Array(na),es=An.prototype._countBits(na)-1,ns=0;ns<na;ns++)_a[ns]=this.revBin(ns,es,na);return _a},Ds.prototype.revBin=function(na,_a,es){if(na===0||na===es-1)return na;for(var ns=0,os=0;os<_a;os++)ns|=(na&1)<<_a-os-1,na>>=1;return ns},Ds.prototype.permute=function(na,_a,es,ns,os,ls){for(var hs=0;hs<ls;hs++)ns[hs]=_a[na[hs]],os[hs]=es[na[hs]]},Ds.prototype.transform=function(na,_a,es,ns,os,ls){this.permute(ls,na,_a,es,ns,os);for(var hs=1;hs<os;hs<<=1)for(var ss=hs<<1,ga=Math.cos(2*Math.PI/ss),as=Math.sin(2*Math.PI/ss),r0=0;r0<os;r0+=ss)for(var a0=ga,l0=as,s0=0;s0<hs;s0++){var b0=es[r0+s0],f0=ns[r0+s0],m0=es[r0+s0+hs],y0=ns[r0+s0+hs],t0=a0*m0-l0*y0;y0=a0*y0+l0*m0,m0=t0,es[r0+s0]=b0+m0,ns[r0+s0]=f0+y0,es[r0+s0+hs]=b0-m0,ns[r0+s0+hs]=f0-y0,s0!==ss&&(t0=ga*a0-as*l0,l0=ga*l0+as*a0,a0=t0)}},Ds.prototype.guessLen13b=function(na,_a){var es=Math.max(_a,na)|1,ns=es&1,os=0;for(es=es/2|0;es;es=es>>>1)os++;return 1<<os+1+ns},Ds.prototype.conjugate=function(na,_a,es){if(!(es<=1))for(var ns=0;ns<es/2;ns++){var os=na[ns];na[ns]=na[es-ns-1],na[es-ns-1]=os,os=_a[ns],_a[ns]=-_a[es-ns-1],_a[es-ns-1]=-os}},Ds.prototype.normalize13b=function(na,_a){for(var es=0,ns=0;ns<_a/2;ns++){var os=Math.round(na[2*ns+1]/_a)*8192+Math.round(na[2*ns]/_a)+es;na[ns]=os&67108863,os<67108864?es=0:es=os/67108864|0}return na},Ds.prototype.convert13b=function(na,_a,es,ns){for(var os=0,ls=0;ls<_a;ls++)os=os+(na[ls]|0),es[2*ls]=os&8191,os=os>>>13,es[2*ls+1]=os&8191,os=os>>>13;for(ls=2*_a;ls<ns;++ls)es[ls]=0;Cn(os===0),Cn((os&-8192)===0)},Ds.prototype.stub=function(na){for(var _a=new Array(na),es=0;es<na;es++)_a[es]=0;return _a},Ds.prototype.mulp=function(na,_a,es){var ns=2*this.guessLen13b(na.length,_a.length),os=this.makeRBT(ns),ls=this.stub(ns),hs=new Array(ns),ss=new Array(ns),ga=new Array(ns),as=new Array(ns),r0=new Array(ns),a0=new Array(ns),l0=es.words;l0.length=ns,this.convert13b(na.words,na.length,hs,ns),this.convert13b(_a.words,_a.length,as,ns),this.transform(hs,ls,ss,ga,ns,os),this.transform(as,ls,r0,a0,ns,os);for(var s0=0;s0<ns;s0++){var b0=ss[s0]*r0[s0]-ga[s0]*a0[s0];ga[s0]=ss[s0]*a0[s0]+ga[s0]*r0[s0],ss[s0]=b0}return this.conjugate(ss,ga,ns),this.transform(ss,ga,l0,ls,ns,os),this.conjugate(l0,ls,ns),this.normalize13b(l0,ns),es.negative=na.negative^_a.negative,es.length=na.length+_a.length,es.strip()},An.prototype.mul=function(na){var _a=new An(null);return _a.words=new Array(this.length+na.length),this.mulTo(na,_a)},An.prototype.mulf=function(na){var _a=new An(null);return _a.words=new Array(this.length+na.length),gs(this,na,_a)},An.prototype.imul=function(na){return this.clone().mulTo(na,this)},An.prototype.imuln=function(na){Cn(typeof na=="number"),Cn(na<67108864);for(var _a=0,es=0;es<this.length;es++){var ns=(this.words[es]|0)*na,os=(ns&67108863)+(_a&67108863);_a>>=26,_a+=ns/67108864|0,_a+=os>>>26,this.words[es]=os&67108863}return _a!==0&&(this.words[es]=_a,this.length++),this},An.prototype.muln=function(na){return this.clone().imuln(na)},An.prototype.sqr=function(){return this.mul(this)},An.prototype.isqr=function(){return this.imul(this.clone())},An.prototype.pow=function(na){var _a=us(na);if(_a.length===0)return new An(1);for(var es=this,ns=0;ns<_a.length&&_a[ns]===0;ns++,es=es.sqr());if(++ns<_a.length)for(var os=es.sqr();ns<_a.length;ns++,os=os.sqr())_a[ns]!==0&&(es=es.mul(os));return es},An.prototype.iushln=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26,ns=67108863>>>26-_a<<26-_a,os;if(_a!==0){var ls=0;for(os=0;os<this.length;os++){var hs=this.words[os]&ns,ss=(this.words[os]|0)-hs<<_a;this.words[os]=ss|ls,ls=hs>>>26-_a}ls&&(this.words[os]=ls,this.length++)}if(es!==0){for(os=this.length-1;os>=0;os--)this.words[os+es]=this.words[os];for(os=0;os<es;os++)this.words[os]=0;this.length+=es}return this.strip()},An.prototype.ishln=function(na){return Cn(this.negative===0),this.iushln(na)},An.prototype.iushrn=function(na,_a,es){Cn(typeof na=="number"&&na>=0);var ns;_a?ns=(_a-_a%26)/26:ns=0;var os=na%26,ls=Math.min((na-os)/26,this.length),hs=67108863^67108863>>>os<<os,ss=es;if(ns-=ls,ns=Math.max(0,ns),ss){for(var ga=0;ga<ls;ga++)ss.words[ga]=this.words[ga];ss.length=ls}if(ls!==0)if(this.length>ls)for(this.length-=ls,ga=0;ga<this.length;ga++)this.words[ga]=this.words[ga+ls];else this.words[0]=0,this.length=1;var as=0;for(ga=this.length-1;ga>=0&&(as!==0||ga>=ns);ga--){var r0=this.words[ga]|0;this.words[ga]=as<<26-os|r0>>>os,as=r0&hs}return ss&&as!==0&&(ss.words[ss.length++]=as),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},An.prototype.ishrn=function(na,_a,es){return Cn(this.negative===0),this.iushrn(na,_a,es)},An.prototype.shln=function(na){return this.clone().ishln(na)},An.prototype.ushln=function(na){return this.clone().iushln(na)},An.prototype.shrn=function(na){return this.clone().ishrn(na)},An.prototype.ushrn=function(na){return this.clone().iushrn(na)},An.prototype.testn=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26,ns=1<<_a;if(this.length<=es)return!1;var os=this.words[es];return!!(os&ns)},An.prototype.imaskn=function(na){Cn(typeof na=="number"&&na>=0);var _a=na%26,es=(na-_a)/26;if(Cn(this.negative===0,"imaskn works only with positive numbers"),this.length<=es)return this;if(_a!==0&&es++,this.length=Math.min(es,this.length),_a!==0){var ns=67108863^67108863>>>_a<<_a;this.words[this.length-1]&=ns}return this.strip()},An.prototype.maskn=function(na){return this.clone().imaskn(na)},An.prototype.iaddn=function(na){return Cn(typeof na=="number"),Cn(na<67108864),na<0?this.isubn(-na):this.negative!==0?this.length===1&&(this.words[0]|0)<na?(this.words[0]=na-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(na),this.negative=1,this):this._iaddn(na)},An.prototype._iaddn=function(na){this.words[0]+=na;for(var _a=0;_a<this.length&&this.words[_a]>=67108864;_a++)this.words[_a]-=67108864,_a===this.length-1?this.words[_a+1]=1:this.words[_a+1]++;return this.length=Math.max(this.length,_a+1),this},An.prototype.isubn=function(na){if(Cn(typeof na=="number"),Cn(na<67108864),na<0)return this.iaddn(-na);if(this.negative!==0)return this.negative=0,this.iaddn(na),this.negative=1,this;if(this.words[0]-=na,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _a=0;_a<this.length&&this.words[_a]<0;_a++)this.words[_a]+=67108864,this.words[_a+1]-=1;return this.strip()},An.prototype.addn=function(na){return this.clone().iaddn(na)},An.prototype.subn=function(na){return this.clone().isubn(na)},An.prototype.iabs=function(){return this.negative=0,this},An.prototype.abs=function(){return this.clone().iabs()},An.prototype._ishlnsubmul=function(na,_a,es){var ns=na.length+es,os;this._expand(ns);var ls,hs=0;for(os=0;os<na.length;os++){ls=(this.words[os+es]|0)+hs;var ss=(na.words[os]|0)*_a;ls-=ss&67108863,hs=(ls>>26)-(ss/67108864|0),this.words[os+es]=ls&67108863}for(;os<this.length-es;os++)ls=(this.words[os+es]|0)+hs,hs=ls>>26,this.words[os+es]=ls&67108863;if(hs===0)return this.strip();for(Cn(hs===-1),hs=0,os=0;os<this.length;os++)ls=-(this.words[os]|0)+hs,hs=ls>>26,this.words[os]=ls&67108863;return this.negative=1,this.strip()},An.prototype._wordDiv=function(na,_a){var es=this.length-na.length,ns=this.clone(),os=na,ls=os.words[os.length-1]|0,hs=this._countBits(ls);es=26-hs,es!==0&&(os=os.ushln(es),ns.iushln(es),ls=os.words[os.length-1]|0);var ss=ns.length-os.length,ga;if(_a!=="mod"){ga=new An(null),ga.length=ss+1,ga.words=new Array(ga.length);for(var as=0;as<ga.length;as++)ga.words[as]=0}var r0=ns.clone()._ishlnsubmul(os,1,ss);r0.negative===0&&(ns=r0,ga&&(ga.words[ss]=1));for(var a0=ss-1;a0>=0;a0--){var l0=(ns.words[os.length+a0]|0)*67108864+(ns.words[os.length+a0-1]|0);for(l0=Math.min(l0/ls|0,67108863),ns._ishlnsubmul(os,l0,a0);ns.negative!==0;)l0--,ns.negative=0,ns._ishlnsubmul(os,1,a0),ns.isZero()||(ns.negative^=1);ga&&(ga.words[a0]=l0)}return ga&&ga.strip(),ns.strip(),_a!=="div"&&es!==0&&ns.iushrn(es),{div:ga||null,mod:ns}},An.prototype.divmod=function(na,_a,es){if(Cn(!na.isZero()),this.isZero())return{div:new An(0),mod:new An(0)};var ns,os,ls;return this.negative!==0&&na.negative===0?(ls=this.neg().divmod(na,_a),_a!=="mod"&&(ns=ls.div.neg()),_a!=="div"&&(os=ls.mod.neg(),es&&os.negative!==0&&os.iadd(na)),{div:ns,mod:os}):this.negative===0&&na.negative!==0?(ls=this.divmod(na.neg(),_a),_a!=="mod"&&(ns=ls.div.neg()),{div:ns,mod:ls.mod}):this.negative&na.negative?(ls=this.neg().divmod(na.neg(),_a),_a!=="div"&&(os=ls.mod.neg(),es&&os.negative!==0&&os.isub(na)),{div:ls.div,mod:os}):na.length>this.length||this.cmp(na)<0?{div:new An(0),mod:this}:na.length===1?_a==="div"?{div:this.divn(na.words[0]),mod:null}:_a==="mod"?{div:null,mod:new An(this.modn(na.words[0]))}:{div:this.divn(na.words[0]),mod:new An(this.modn(na.words[0]))}:this._wordDiv(na,_a)},An.prototype.div=function(na){return this.divmod(na,"div",!1).div},An.prototype.mod=function(na){return this.divmod(na,"mod",!1).mod},An.prototype.umod=function(na){return this.divmod(na,"mod",!0).mod},An.prototype.divRound=function(na){var _a=this.divmod(na);if(_a.mod.isZero())return _a.div;var es=_a.div.negative!==0?_a.mod.isub(na):_a.mod,ns=na.ushrn(1),os=na.andln(1),ls=es.cmp(ns);return ls<0||os===1&&ls===0?_a.div:_a.div.negative!==0?_a.div.isubn(1):_a.div.iaddn(1)},An.prototype.modn=function(na){Cn(na<=67108863);for(var _a=(1<<26)%na,es=0,ns=this.length-1;ns>=0;ns--)es=(_a*es+(this.words[ns]|0))%na;return es},An.prototype.idivn=function(na){Cn(na<=67108863);for(var _a=0,es=this.length-1;es>=0;es--){var ns=(this.words[es]|0)+_a*67108864;this.words[es]=ns/na|0,_a=ns%na}return this.strip()},An.prototype.divn=function(na){return this.clone().idivn(na)},An.prototype.egcd=function(na){Cn(na.negative===0),Cn(!na.isZero());var _a=this,es=na.clone();_a.negative!==0?_a=_a.umod(na):_a=_a.clone();for(var ns=new An(1),os=new An(0),ls=new An(0),hs=new An(1),ss=0;_a.isEven()&&es.isEven();)_a.iushrn(1),es.iushrn(1),++ss;for(var ga=es.clone(),as=_a.clone();!_a.isZero();){for(var r0=0,a0=1;!(_a.words[0]&a0)&&r0<26;++r0,a0<<=1);if(r0>0)for(_a.iushrn(r0);r0-- >0;)(ns.isOdd()||os.isOdd())&&(ns.iadd(ga),os.isub(as)),ns.iushrn(1),os.iushrn(1);for(var l0=0,s0=1;!(es.words[0]&s0)&&l0<26;++l0,s0<<=1);if(l0>0)for(es.iushrn(l0);l0-- >0;)(ls.isOdd()||hs.isOdd())&&(ls.iadd(ga),hs.isub(as)),ls.iushrn(1),hs.iushrn(1);_a.cmp(es)>=0?(_a.isub(es),ns.isub(ls),os.isub(hs)):(es.isub(_a),ls.isub(ns),hs.isub(os))}return{a:ls,b:hs,gcd:es.iushln(ss)}},An.prototype._invmp=function(na){Cn(na.negative===0),Cn(!na.isZero());var _a=this,es=na.clone();_a.negative!==0?_a=_a.umod(na):_a=_a.clone();for(var ns=new An(1),os=new An(0),ls=es.clone();_a.cmpn(1)>0&&es.cmpn(1)>0;){for(var hs=0,ss=1;!(_a.words[0]&ss)&&hs<26;++hs,ss<<=1);if(hs>0)for(_a.iushrn(hs);hs-- >0;)ns.isOdd()&&ns.iadd(ls),ns.iushrn(1);for(var ga=0,as=1;!(es.words[0]&as)&&ga<26;++ga,as<<=1);if(ga>0)for(es.iushrn(ga);ga-- >0;)os.isOdd()&&os.iadd(ls),os.iushrn(1);_a.cmp(es)>=0?(_a.isub(es),ns.isub(os)):(es.isub(_a),os.isub(ns))}var r0;return _a.cmpn(1)===0?r0=ns:r0=os,r0.cmpn(0)<0&&r0.iadd(na),r0},An.prototype.gcd=function(na){if(this.isZero())return na.abs();if(na.isZero())return this.abs();var _a=this.clone(),es=na.clone();_a.negative=0,es.negative=0;for(var ns=0;_a.isEven()&&es.isEven();ns++)_a.iushrn(1),es.iushrn(1);do{for(;_a.isEven();)_a.iushrn(1);for(;es.isEven();)es.iushrn(1);var os=_a.cmp(es);if(os<0){var ls=_a;_a=es,es=ls}else if(os===0||es.cmpn(1)===0)break;_a.isub(es)}while(!0);return es.iushln(ns)},An.prototype.invm=function(na){return this.egcd(na).a.umod(na)},An.prototype.isEven=function(){return(this.words[0]&1)===0},An.prototype.isOdd=function(){return(this.words[0]&1)===1},An.prototype.andln=function(na){return this.words[0]&na},An.prototype.bincn=function(na){Cn(typeof na=="number");var _a=na%26,es=(na-_a)/26,ns=1<<_a;if(this.length<=es)return this._expand(es+1),this.words[es]|=ns,this;for(var os=ns,ls=es;os!==0&&ls<this.length;ls++){var hs=this.words[ls]|0;hs+=os,os=hs>>>26,hs&=67108863,this.words[ls]=hs}return os!==0&&(this.words[ls]=os,this.length++),this},An.prototype.isZero=function(){return this.length===1&&this.words[0]===0},An.prototype.cmpn=function(na){var _a=na<0;if(this.negative!==0&&!_a)return-1;if(this.negative===0&&_a)return 1;this.strip();var es;if(this.length>1)es=1;else{_a&&(na=-na),Cn(na<=67108863,"Number is too big");var ns=this.words[0]|0;es=ns===na?0:ns<na?-1:1}return this.negative!==0?-es|0:es},An.prototype.cmp=function(na){if(this.negative!==0&&na.negative===0)return-1;if(this.negative===0&&na.negative!==0)return 1;var _a=this.ucmp(na);return this.negative!==0?-_a|0:_a},An.prototype.ucmp=function(na){if(this.length>na.length)return 1;if(this.length<na.length)return-1;for(var _a=0,es=this.length-1;es>=0;es--){var ns=this.words[es]|0,os=na.words[es]|0;if(ns!==os){ns<os?_a=-1:ns>os&&(_a=1);break}}return _a},An.prototype.gtn=function(na){return this.cmpn(na)===1},An.prototype.gt=function(na){return this.cmp(na)===1},An.prototype.gten=function(na){return this.cmpn(na)>=0},An.prototype.gte=function(na){return this.cmp(na)>=0},An.prototype.ltn=function(na){return this.cmpn(na)===-1},An.prototype.lt=function(na){return this.cmp(na)===-1},An.prototype.lten=function(na){return this.cmpn(na)<=0},An.prototype.lte=function(na){return this.cmp(na)<=0},An.prototype.eqn=function(na){return this.cmpn(na)===0},An.prototype.eq=function(na){return this.cmp(na)===0},An.red=function(na){return new w0(na)},An.prototype.toRed=function(na){return Cn(!this.red,"Already a number in reduction context"),Cn(this.negative===0,"red works only with positives"),na.convertTo(this)._forceRed(na)},An.prototype.fromRed=function(){return Cn(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},An.prototype._forceRed=function(na){return this.red=na,this},An.prototype.forceRed=function(na){return Cn(!this.red,"Already a number in reduction context"),this._forceRed(na)},An.prototype.redAdd=function(na){return Cn(this.red,"redAdd works only with red numbers"),this.red.add(this,na)},An.prototype.redIAdd=function(na){return Cn(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,na)},An.prototype.redSub=function(na){return Cn(this.red,"redSub works only with red numbers"),this.red.sub(this,na)},An.prototype.redISub=function(na){return Cn(this.red,"redISub works only with red numbers"),this.red.isub(this,na)},An.prototype.redShl=function(na){return Cn(this.red,"redShl works only with red numbers"),this.red.shl(this,na)},An.prototype.redMul=function(na){return Cn(this.red,"redMul works only with red numbers"),this.red._verify2(this,na),this.red.mul(this,na)},An.prototype.redIMul=function(na){return Cn(this.red,"redMul works only with red numbers"),this.red._verify2(this,na),this.red.imul(this,na)},An.prototype.redSqr=function(){return Cn(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},An.prototype.redISqr=function(){return Cn(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},An.prototype.redSqrt=function(){return Cn(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},An.prototype.redInvm=function(){return Cn(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},An.prototype.redNeg=function(){return Cn(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},An.prototype.redPow=function(na){return Cn(this.red&&!na.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,na)};var i0={k256:null,p224:null,p192:null,p25519:null};function n0(ds,na){this.name=ds,this.p=new An(na,16),this.n=this.p.bitLength(),this.k=new An(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}n0.prototype._tmp=function(){var na=new An(null);return na.words=new Array(Math.ceil(this.n/13)),na},n0.prototype.ireduce=function(na){var _a=na,es;do this.split(_a,this.tmp),_a=this.imulK(_a),_a=_a.iadd(this.tmp),es=_a.bitLength();while(es>this.n);var ns=es<this.n?-1:_a.ucmp(this.p);return ns===0?(_a.words[0]=0,_a.length=1):ns>0?_a.isub(this.p):_a.strip!==void 0?_a.strip():_a._strip(),_a},n0.prototype.split=function(na,_a){na.iushrn(this.n,0,_a)},n0.prototype.imulK=function(na){return na.imul(this.k)};function c0(){n0.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}_i(c0,n0),c0.prototype.split=function(na,_a){for(var es=4194303,ns=Math.min(na.length,9),os=0;os<ns;os++)_a.words[os]=na.words[os];if(_a.length=ns,na.length<=9){na.words[0]=0,na.length=1;return}var ls=na.words[9];for(_a.words[_a.length++]=ls&es,os=10;os<na.length;os++){var hs=na.words[os]|0;na.words[os-10]=(hs&es)<<4|ls>>>22,ls=hs}ls>>>=22,na.words[os-10]=ls,ls===0&&na.length>10?na.length-=10:na.length-=9},c0.prototype.imulK=function(na){na.words[na.length]=0,na.words[na.length+1]=0,na.length+=2;for(var _a=0,es=0;es<na.length;es++){var ns=na.words[es]|0;_a+=ns*977,na.words[es]=_a&67108863,_a=ns*64+(_a/67108864|0)}return na.words[na.length-1]===0&&(na.length--,na.words[na.length-1]===0&&na.length--),na};function d0(){n0.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}_i(d0,n0);function o0(){n0.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}_i(o0,n0);function g0(){n0.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}_i(g0,n0),g0.prototype.imulK=function(na){for(var _a=0,es=0;es<na.length;es++){var ns=(na.words[es]|0)*19+_a,os=ns&67108863;ns>>>=26,na.words[es]=os,_a=ns}return _a!==0&&(na.words[na.length++]=_a),na},An._prime=function(na){if(i0[na])return i0[na];var _a;if(na==="k256")_a=new c0;else if(na==="p224")_a=new d0;else if(na==="p192")_a=new o0;else if(na==="p25519")_a=new g0;else throw new Error("Unknown prime "+na);return i0[na]=_a,_a};function w0(ds){if(typeof ds=="string"){var na=An._prime(ds);this.m=na.p,this.prime=na}else Cn(ds.gtn(1),"modulus must be greater than 1"),this.m=ds,this.prime=null}w0.prototype._verify1=function(na){Cn(na.negative===0,"red works only with positives"),Cn(na.red,"red works only with red numbers")},w0.prototype._verify2=function(na,_a){Cn((na.negative|_a.negative)===0,"red works only with positives"),Cn(na.red&&na.red===_a.red,"red works only with red numbers")},w0.prototype.imod=function(na){return this.prime?this.prime.ireduce(na)._forceRed(this):na.umod(this.m)._forceRed(this)},w0.prototype.neg=function(na){return na.isZero()?na.clone():this.m.sub(na)._forceRed(this)},w0.prototype.add=function(na,_a){this._verify2(na,_a);var es=na.add(_a);return es.cmp(this.m)>=0&&es.isub(this.m),es._forceRed(this)},w0.prototype.iadd=function(na,_a){this._verify2(na,_a);var es=na.iadd(_a);return es.cmp(this.m)>=0&&es.isub(this.m),es},w0.prototype.sub=function(na,_a){this._verify2(na,_a);var es=na.sub(_a);return es.cmpn(0)<0&&es.iadd(this.m),es._forceRed(this)},w0.prototype.isub=function(na,_a){this._verify2(na,_a);var es=na.isub(_a);return es.cmpn(0)<0&&es.iadd(this.m),es},w0.prototype.shl=function(na,_a){return this._verify1(na),this.imod(na.ushln(_a))},w0.prototype.imul=function(na,_a){return this._verify2(na,_a),this.imod(na.imul(_a))},w0.prototype.mul=function(na,_a){return this._verify2(na,_a),this.imod(na.mul(_a))},w0.prototype.isqr=function(na){return this.imul(na,na.clone())},w0.prototype.sqr=function(na){return this.mul(na,na)},w0.prototype.sqrt=function(na){if(na.isZero())return na.clone();var _a=this.m.andln(3);if(Cn(_a%2===1),_a===3){var es=this.m.add(new An(1)).iushrn(2);return this.pow(na,es)}for(var ns=this.m.subn(1),os=0;!ns.isZero()&&ns.andln(1)===0;)os++,ns.iushrn(1);Cn(!ns.isZero());var ls=new An(1).toRed(this),hs=ls.redNeg(),ss=this.m.subn(1).iushrn(1),ga=this.m.bitLength();for(ga=new An(2*ga*ga).toRed(this);this.pow(ga,ss).cmp(hs)!==0;)ga.redIAdd(hs);for(var as=this.pow(ga,ns),r0=this.pow(na,ns.addn(1).iushrn(1)),a0=this.pow(na,ns),l0=os;a0.cmp(ls)!==0;){for(var s0=a0,b0=0;s0.cmp(ls)!==0;b0++)s0=s0.redSqr();Cn(b0<l0);var f0=this.pow(as,new An(1).iushln(l0-b0-1));r0=r0.redMul(f0),as=f0.redSqr(),a0=a0.redMul(as),l0=b0}return r0},w0.prototype.invm=function(na){var _a=na._invmp(this.m);return _a.negative!==0?(_a.negative=0,this.imod(_a).redNeg()):this.imod(_a)},w0.prototype.pow=function(na,_a){if(_a.isZero())return new An(1).toRed(this);if(_a.cmpn(1)===0)return na.clone();var es=4,ns=new Array(1<<es);ns[0]=new An(1).toRed(this),ns[1]=na;for(var os=2;os<ns.length;os++)ns[os]=this.mul(ns[os-1],na);var ls=ns[0],hs=0,ss=0,ga=_a.bitLength()%26;for(ga===0&&(ga=26),os=_a.length-1;os>=0;os--){for(var as=_a.words[os],r0=ga-1;r0>=0;r0--){var a0=as>>r0&1;if(ls!==ns[0]&&(ls=this.sqr(ls)),a0===0&&hs===0){ss=0;continue}hs<<=1,hs|=a0,ss++,!(ss!==es&&(os!==0||r0!==0))&&(ls=this.mul(ls,ns[hs]),ss=0,hs=0)}ga=26}return ls},w0.prototype.convertTo=function(na){var _a=na.umod(this.m);return _a===na?_a.clone():_a},w0.prototype.convertFrom=function(na){var _a=na.clone();return _a.red=null,_a},An.mont=function(na){return new M0(na)};function M0(ds){w0.call(this,ds),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new An(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_i(M0,w0),M0.prototype.convertTo=function(na){return this.imod(na.ushln(this.shift))},M0.prototype.convertFrom=function(na){var _a=this.imod(na.mul(this.rinv));return _a.red=null,_a},M0.prototype.imul=function(na,_a){if(na.isZero()||_a.isZero())return na.words[0]=0,na.length=1,na;var es=na.imul(_a),ns=es.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),os=es.isub(ns).iushrn(this.shift),ls=os;return os.cmp(this.m)>=0?ls=os.isub(this.m):os.cmpn(0)<0&&(ls=os.iadd(this.m)),ls._forceRed(this)},M0.prototype.mul=function(na,_a){if(na.isZero()||_a.isZero())return new An(0)._forceRed(this);var es=na.mul(_a),ns=es.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),os=es.isub(ns).iushrn(this.shift),ls=os;return os.cmp(this.m)>=0?ls=os.isub(this.m):os.cmpn(0)<0&&(ls=os.iadd(this.m)),ls._forceRed(this)},M0.prototype.invm=function(na){var _a=this.imod(na._invmp(this.m).mul(this.r2));return _a._forceRed(this)}})(vn,commonjsGlobal)})(bn$2);var bnExports=bn$2.exports;(function(vn){var fn=vn,En=bnExports,Cn=minimalisticAssert$1,_i=utils$p;fn.assert=Cn,fn.toArray=_i.toArray,fn.zero2=_i.zero2,fn.toHex=_i.toHex,fn.encode=_i.encode;function An(ts,is,cs){var us=new Array(Math.max(ts.bitLength(),cs)+1),ps;for(ps=0;ps<us.length;ps+=1)us[ps]=0;var bs=1<<is+1,e0=ts.clone();for(ps=0;ps<us.length;ps++){var gs,Ds=e0.andln(bs-1);e0.isOdd()?(Ds>(bs>>1)-1?gs=(bs>>1)-Ds:gs=Ds,e0.isubn(gs)):gs=0,us[ps]=gs,e0.iushrn(1)}return us}fn.getNAF=An;function ba(ts,is){var cs=[[],[]];ts=ts.clone(),is=is.clone();for(var us=0,ps=0,bs;ts.cmpn(-us)>0||is.cmpn(-ps)>0;){var e0=ts.andln(3)+us&3,gs=is.andln(3)+ps&3;e0===3&&(e0=-1),gs===3&&(gs=-1);var Ds;e0&1?(bs=ts.andln(7)+us&7,(bs===3||bs===5)&&gs===2?Ds=-e0:Ds=e0):Ds=0,cs[0].push(Ds);var i0;gs&1?(bs=is.andln(7)+ps&7,(bs===3||bs===5)&&e0===2?i0=-gs:i0=gs):i0=0,cs[1].push(i0),2*us===Ds+1&&(us=1-us),2*ps===i0+1&&(ps=1-ps),ts.iushrn(1),is.iushrn(1)}return cs}fn.getJSF=ba;function xa(ts,is,cs){var us="_"+is;ts.prototype[is]=function(){return this[us]!==void 0?this[us]:this[us]=cs.call(this)}}fn.cachedProperty=xa;function $a(ts){return typeof ts=="string"?fn.toArray(ts,"hex"):ts}fn.parseBytes=$a;function rs(ts){return new En(ts,"hex","le")}fn.intFromLE=rs})(utils$c);var curve={},BN$7=bnExports,utils$b=utils$c,getNAF=utils$b.getNAF,getJSF=utils$b.getJSF,assert$8=utils$b.assert;function BaseCurve(vn,fn){this.type=vn,this.p=new BN$7(fn.p,16),this.red=fn.prime?BN$7.red(fn.prime):BN$7.mont(this.p),this.zero=new BN$7(0).toRed(this.red),this.one=new BN$7(1).toRed(this.red),this.two=new BN$7(2).toRed(this.red),this.n=fn.n&&new BN$7(fn.n,16),this.g=fn.g&&this.pointFromJSON(fn.g,fn.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var En=this.n&&this.p.div(this.n);!En||En.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base=BaseCurve;BaseCurve.prototype.point=function vn(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function vn(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function vn(fn,En){assert$8(fn.precomputed);var Cn=fn._getDoubles(),_i=getNAF(En,1,this._bitLength),An=(1<<Cn.step+1)-(Cn.step%2===0?2:1);An/=3;var ba=[],xa,$a;for(xa=0;xa<_i.length;xa+=Cn.step){$a=0;for(var rs=xa+Cn.step-1;rs>=xa;rs--)$a=($a<<1)+_i[rs];ba.push($a)}for(var ts=this.jpoint(null,null,null),is=this.jpoint(null,null,null),cs=An;cs>0;cs--){for(xa=0;xa<ba.length;xa++)$a=ba[xa],$a===cs?is=is.mixedAdd(Cn.points[xa]):$a===-cs&&(is=is.mixedAdd(Cn.points[xa].neg()));ts=ts.add(is)}return ts.toP()};BaseCurve.prototype._wnafMul=function vn(fn,En){var Cn=4,_i=fn._getNAFPoints(Cn);Cn=_i.wnd;for(var An=_i.points,ba=getNAF(En,Cn,this._bitLength),xa=this.jpoint(null,null,null),$a=ba.length-1;$a>=0;$a--){for(var rs=0;$a>=0&&ba[$a]===0;$a--)rs++;if($a>=0&&rs++,xa=xa.dblp(rs),$a<0)break;var ts=ba[$a];assert$8(ts!==0),fn.type==="affine"?ts>0?xa=xa.mixedAdd(An[ts-1>>1]):xa=xa.mixedAdd(An[-ts-1>>1].neg()):ts>0?xa=xa.add(An[ts-1>>1]):xa=xa.add(An[-ts-1>>1].neg())}return fn.type==="affine"?xa.toP():xa};BaseCurve.prototype._wnafMulAdd=function vn(fn,En,Cn,_i,An){var ba=this._wnafT1,xa=this._wnafT2,$a=this._wnafT3,rs=0,ts,is,cs;for(ts=0;ts<_i;ts++){cs=En[ts];var us=cs._getNAFPoints(fn);ba[ts]=us.wnd,xa[ts]=us.points}for(ts=_i-1;ts>=1;ts-=2){var ps=ts-1,bs=ts;if(ba[ps]!==1||ba[bs]!==1){$a[ps]=getNAF(Cn[ps],ba[ps],this._bitLength),$a[bs]=getNAF(Cn[bs],ba[bs],this._bitLength),rs=Math.max($a[ps].length,rs),rs=Math.max($a[bs].length,rs);continue}var e0=[En[ps],null,null,En[bs]];En[ps].y.cmp(En[bs].y)===0?(e0[1]=En[ps].add(En[bs]),e0[2]=En[ps].toJ().mixedAdd(En[bs].neg())):En[ps].y.cmp(En[bs].y.redNeg())===0?(e0[1]=En[ps].toJ().mixedAdd(En[bs]),e0[2]=En[ps].add(En[bs].neg())):(e0[1]=En[ps].toJ().mixedAdd(En[bs]),e0[2]=En[ps].toJ().mixedAdd(En[bs].neg()));var gs=[-3,-1,-5,-7,0,7,5,1,3],Ds=getJSF(Cn[ps],Cn[bs]);for(rs=Math.max(Ds[0].length,rs),$a[ps]=new Array(rs),$a[bs]=new Array(rs),is=0;is<rs;is++){var i0=Ds[0][is]|0,n0=Ds[1][is]|0;$a[ps][is]=gs[(i0+1)*3+(n0+1)],$a[bs][is]=0,xa[ps]=e0}}var c0=this.jpoint(null,null,null),d0=this._wnafT4;for(ts=rs;ts>=0;ts--){for(var o0=0;ts>=0;){var g0=!0;for(is=0;is<_i;is++)d0[is]=$a[is][ts]|0,d0[is]!==0&&(g0=!1);if(!g0)break;o0++,ts--}if(ts>=0&&o0++,c0=c0.dblp(o0),ts<0)break;for(is=0;is<_i;is++){var w0=d0[is];w0!==0&&(w0>0?cs=xa[is][w0-1>>1]:w0<0&&(cs=xa[is][-w0-1>>1].neg()),cs.type==="affine"?c0=c0.mixedAdd(cs):c0=c0.add(cs))}}for(ts=0;ts<_i;ts++)xa[ts]=null;return An?c0:c0.toP()};function BasePoint(vn,fn){this.curve=vn,this.type=fn,this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function vn(){throw new Error("Not implemented")};BasePoint.prototype.validate=function vn(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function vn(fn,En){fn=utils$b.toArray(fn,En);var Cn=this.p.byteLength();if((fn[0]===4||fn[0]===6||fn[0]===7)&&fn.length-1===2*Cn){fn[0]===6?assert$8(fn[fn.length-1]%2===0):fn[0]===7&&assert$8(fn[fn.length-1]%2===1);var _i=this.point(fn.slice(1,1+Cn),fn.slice(1+Cn,1+2*Cn));return _i}else if((fn[0]===2||fn[0]===3)&&fn.length-1===Cn)return this.pointFromX(fn.slice(1,1+Cn),fn[0]===3);throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function vn(fn){return this.encode(fn,!0)};BasePoint.prototype._encode=function vn(fn){var En=this.curve.p.byteLength(),Cn=this.getX().toArray("be",En);return fn?[this.getY().isEven()?2:3].concat(Cn):[4].concat(Cn,this.getY().toArray("be",En))};BasePoint.prototype.encode=function vn(fn,En){return utils$b.encode(this._encode(En),fn)};BasePoint.prototype.precompute=function vn(fn){if(this.precomputed)return this;var En={doubles:null,naf:null,beta:null};return En.naf=this._getNAFPoints(8),En.doubles=this._getDoubles(4,fn),En.beta=this._getBeta(),this.precomputed=En,this};BasePoint.prototype._hasDoubles=function vn(fn){if(!this.precomputed)return!1;var En=this.precomputed.doubles;return En?En.points.length>=Math.ceil((fn.bitLength()+1)/En.step):!1};BasePoint.prototype._getDoubles=function vn(fn,En){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var Cn=[this],_i=this,An=0;An<En;An+=fn){for(var ba=0;ba<fn;ba++)_i=_i.dbl();Cn.push(_i)}return{step:fn,points:Cn}};BasePoint.prototype._getNAFPoints=function vn(fn){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var En=[this],Cn=(1<<fn)-1,_i=Cn===1?null:this.dbl(),An=1;An<Cn;An++)En[An]=En[An-1].add(_i);return{wnd:fn,points:En}};BasePoint.prototype._getBeta=function vn(){return null};BasePoint.prototype.dblp=function vn(fn){for(var En=this,Cn=0;Cn<fn;Cn++)En=En.dbl();return En};var utils$a=utils$c,BN$6=bnExports,inherits$2=inherits_browserExports,Base$2=base,assert$7=utils$a.assert;function ShortCurve(vn){Base$2.call(this,"short",vn),this.a=new BN$6(vn.a,16).toRed(this.red),this.b=new BN$6(vn.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(vn),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits$2(ShortCurve,Base$2);var short=ShortCurve;ShortCurve.prototype._getEndomorphism=function vn(fn){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var En,Cn;if(fn.beta)En=new BN$6(fn.beta,16).toRed(this.red);else{var _i=this._getEndoRoots(this.p);En=_i[0].cmp(_i[1])<0?_i[0]:_i[1],En=En.toRed(this.red)}if(fn.lambda)Cn=new BN$6(fn.lambda,16);else{var An=this._getEndoRoots(this.n);this.g.mul(An[0]).x.cmp(this.g.x.redMul(En))===0?Cn=An[0]:(Cn=An[1],assert$7(this.g.mul(Cn).x.cmp(this.g.x.redMul(En))===0))}var ba;return fn.basis?ba=fn.basis.map(function(xa){return{a:new BN$6(xa.a,16),b:new BN$6(xa.b,16)}}):ba=this._getEndoBasis(Cn),{beta:En,lambda:Cn,basis:ba}}};ShortCurve.prototype._getEndoRoots=function vn(fn){var En=fn===this.p?this.red:BN$6.mont(fn),Cn=new BN$6(2).toRed(En).redInvm(),_i=Cn.redNeg(),An=new BN$6(3).toRed(En).redNeg().redSqrt().redMul(Cn),ba=_i.redAdd(An).fromRed(),xa=_i.redSub(An).fromRed();return[ba,xa]};ShortCurve.prototype._getEndoBasis=function vn(fn){for(var En=this.n.ushrn(Math.floor(this.n.bitLength()/2)),Cn=fn,_i=this.n.clone(),An=new BN$6(1),ba=new BN$6(0),xa=new BN$6(0),$a=new BN$6(1),rs,ts,is,cs,us,ps,bs,e0=0,gs,Ds;Cn.cmpn(0)!==0;){var i0=_i.div(Cn);gs=_i.sub(i0.mul(Cn)),Ds=xa.sub(i0.mul(An));var n0=$a.sub(i0.mul(ba));if(!is&&gs.cmp(En)<0)rs=bs.neg(),ts=An,is=gs.neg(),cs=Ds;else if(is&&++e0===2)break;bs=gs,_i=Cn,Cn=gs,xa=An,An=Ds,$a=ba,ba=n0}us=gs.neg(),ps=Ds;var c0=is.sqr().add(cs.sqr()),d0=us.sqr().add(ps.sqr());return d0.cmp(c0)>=0&&(us=rs,ps=ts),is.negative&&(is=is.neg(),cs=cs.neg()),us.negative&&(us=us.neg(),ps=ps.neg()),[{a:is,b:cs},{a:us,b:ps}]};ShortCurve.prototype._endoSplit=function vn(fn){var En=this.endo.basis,Cn=En[0],_i=En[1],An=_i.b.mul(fn).divRound(this.n),ba=Cn.b.neg().mul(fn).divRound(this.n),xa=An.mul(Cn.a),$a=ba.mul(_i.a),rs=An.mul(Cn.b),ts=ba.mul(_i.b),is=fn.sub(xa).sub($a),cs=rs.add(ts).neg();return{k1:is,k2:cs}};ShortCurve.prototype.pointFromX=function vn(fn,En){fn=new BN$6(fn,16),fn.red||(fn=fn.toRed(this.red));var Cn=fn.redSqr().redMul(fn).redIAdd(fn.redMul(this.a)).redIAdd(this.b),_i=Cn.redSqrt();if(_i.redSqr().redSub(Cn).cmp(this.zero)!==0)throw new Error("invalid point");var An=_i.fromRed().isOdd();return(En&&!An||!En&&An)&&(_i=_i.redNeg()),this.point(fn,_i)};ShortCurve.prototype.validate=function vn(fn){if(fn.inf)return!0;var En=fn.x,Cn=fn.y,_i=this.a.redMul(En),An=En.redSqr().redMul(En).redIAdd(_i).redIAdd(this.b);return Cn.redSqr().redISub(An).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function vn(fn,En,Cn){for(var _i=this._endoWnafT1,An=this._endoWnafT2,ba=0;ba<fn.length;ba++){var xa=this._endoSplit(En[ba]),$a=fn[ba],rs=$a._getBeta();xa.k1.negative&&(xa.k1.ineg(),$a=$a.neg(!0)),xa.k2.negative&&(xa.k2.ineg(),rs=rs.neg(!0)),_i[ba*2]=$a,_i[ba*2+1]=rs,An[ba*2]=xa.k1,An[ba*2+1]=xa.k2}for(var ts=this._wnafMulAdd(1,_i,An,ba*2,Cn),is=0;is<ba*2;is++)_i[is]=null,An[is]=null;return ts};function Point$2(vn,fn,En,Cn){Base$2.BasePoint.call(this,vn,"affine"),fn===null&&En===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$6(fn,16),this.y=new BN$6(En,16),Cn&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits$2(Point$2,Base$2.BasePoint);ShortCurve.prototype.point=function vn(fn,En,Cn){return new Point$2(this,fn,En,Cn)};ShortCurve.prototype.pointFromJSON=function vn(fn,En){return Point$2.fromJSON(this,fn,En)};Point$2.prototype._getBeta=function vn(){if(this.curve.endo){var fn=this.precomputed;if(fn&&fn.beta)return fn.beta;var En=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(fn){var Cn=this.curve,_i=function(An){return Cn.point(An.x.redMul(Cn.endo.beta),An.y)};fn.beta=En,En.precomputed={beta:null,naf:fn.naf&&{wnd:fn.naf.wnd,points:fn.naf.points.map(_i)},doubles:fn.doubles&&{step:fn.doubles.step,points:fn.doubles.points.map(_i)}}}return En}};Point$2.prototype.toJSON=function vn(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point$2.fromJSON=function vn(fn,En,Cn){typeof En=="string"&&(En=JSON.parse(En));var _i=fn.point(En[0],En[1],Cn);if(!En[2])return _i;function An(xa){return fn.point(xa[0],xa[1],Cn)}var ba=En[2];return _i.precomputed={beta:null,doubles:ba.doubles&&{step:ba.doubles.step,points:[_i].concat(ba.doubles.points.map(An))},naf:ba.naf&&{wnd:ba.naf.wnd,points:[_i].concat(ba.naf.points.map(An))}},_i};Point$2.prototype.inspect=function vn(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$2.prototype.isInfinity=function vn(){return this.inf};Point$2.prototype.add=function vn(fn){if(this.inf)return fn;if(fn.inf)return this;if(this.eq(fn))return this.dbl();if(this.neg().eq(fn))return this.curve.point(null,null);if(this.x.cmp(fn.x)===0)return this.curve.point(null,null);var En=this.y.redSub(fn.y);En.cmpn(0)!==0&&(En=En.redMul(this.x.redSub(fn.x).redInvm()));var Cn=En.redSqr().redISub(this.x).redISub(fn.x),_i=En.redMul(this.x.redSub(Cn)).redISub(this.y);return this.curve.point(Cn,_i)};Point$2.prototype.dbl=function vn(){if(this.inf)return this;var fn=this.y.redAdd(this.y);if(fn.cmpn(0)===0)return this.curve.point(null,null);var En=this.curve.a,Cn=this.x.redSqr(),_i=fn.redInvm(),An=Cn.redAdd(Cn).redIAdd(Cn).redIAdd(En).redMul(_i),ba=An.redSqr().redISub(this.x.redAdd(this.x)),xa=An.redMul(this.x.redSub(ba)).redISub(this.y);return this.curve.point(ba,xa)};Point$2.prototype.getX=function vn(){return this.x.fromRed()};Point$2.prototype.getY=function vn(){return this.y.fromRed()};Point$2.prototype.mul=function vn(fn){return fn=new BN$6(fn,16),this.isInfinity()?this:this._hasDoubles(fn)?this.curve._fixedNafMul(this,fn):this.curve.endo?this.curve._endoWnafMulAdd([this],[fn]):this.curve._wnafMul(this,fn)};Point$2.prototype.mulAdd=function vn(fn,En,Cn){var _i=[this,En],An=[fn,Cn];return this.curve.endo?this.curve._endoWnafMulAdd(_i,An):this.curve._wnafMulAdd(1,_i,An,2)};Point$2.prototype.jmulAdd=function vn(fn,En,Cn){var _i=[this,En],An=[fn,Cn];return this.curve.endo?this.curve._endoWnafMulAdd(_i,An,!0):this.curve._wnafMulAdd(1,_i,An,2,!0)};Point$2.prototype.eq=function vn(fn){return this===fn||this.inf===fn.inf&&(this.inf||this.x.cmp(fn.x)===0&&this.y.cmp(fn.y)===0)};Point$2.prototype.neg=function vn(fn){if(this.inf)return this;var En=this.curve.point(this.x,this.y.redNeg());if(fn&&this.precomputed){var Cn=this.precomputed,_i=function(An){return An.neg()};En.precomputed={naf:Cn.naf&&{wnd:Cn.naf.wnd,points:Cn.naf.points.map(_i)},doubles:Cn.doubles&&{step:Cn.doubles.step,points:Cn.doubles.points.map(_i)}}}return En};Point$2.prototype.toJ=function vn(){if(this.inf)return this.curve.jpoint(null,null,null);var fn=this.curve.jpoint(this.x,this.y,this.curve.one);return fn};function JPoint(vn,fn,En,Cn){Base$2.BasePoint.call(this,vn,"jacobian"),fn===null&&En===null&&Cn===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$6(0)):(this.x=new BN$6(fn,16),this.y=new BN$6(En,16),this.z=new BN$6(Cn,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits$2(JPoint,Base$2.BasePoint);ShortCurve.prototype.jpoint=function vn(fn,En,Cn){return new JPoint(this,fn,En,Cn)};JPoint.prototype.toP=function vn(){if(this.isInfinity())return this.curve.point(null,null);var fn=this.z.redInvm(),En=fn.redSqr(),Cn=this.x.redMul(En),_i=this.y.redMul(En).redMul(fn);return this.curve.point(Cn,_i)};JPoint.prototype.neg=function vn(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function vn(fn){if(this.isInfinity())return fn;if(fn.isInfinity())return this;var En=fn.z.redSqr(),Cn=this.z.redSqr(),_i=this.x.redMul(En),An=fn.x.redMul(Cn),ba=this.y.redMul(En.redMul(fn.z)),xa=fn.y.redMul(Cn.redMul(this.z)),$a=_i.redSub(An),rs=ba.redSub(xa);if($a.cmpn(0)===0)return rs.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ts=$a.redSqr(),is=ts.redMul($a),cs=_i.redMul(ts),us=rs.redSqr().redIAdd(is).redISub(cs).redISub(cs),ps=rs.redMul(cs.redISub(us)).redISub(ba.redMul(is)),bs=this.z.redMul(fn.z).redMul($a);return this.curve.jpoint(us,ps,bs)};JPoint.prototype.mixedAdd=function vn(fn){if(this.isInfinity())return fn.toJ();if(fn.isInfinity())return this;var En=this.z.redSqr(),Cn=this.x,_i=fn.x.redMul(En),An=this.y,ba=fn.y.redMul(En).redMul(this.z),xa=Cn.redSub(_i),$a=An.redSub(ba);if(xa.cmpn(0)===0)return $a.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var rs=xa.redSqr(),ts=rs.redMul(xa),is=Cn.redMul(rs),cs=$a.redSqr().redIAdd(ts).redISub(is).redISub(is),us=$a.redMul(is.redISub(cs)).redISub(An.redMul(ts)),ps=this.z.redMul(xa);return this.curve.jpoint(cs,us,ps)};JPoint.prototype.dblp=function vn(fn){if(fn===0)return this;if(this.isInfinity())return this;if(!fn)return this.dbl();var En;if(this.curve.zeroA||this.curve.threeA){var Cn=this;for(En=0;En<fn;En++)Cn=Cn.dbl();return Cn}var _i=this.curve.a,An=this.curve.tinv,ba=this.x,xa=this.y,$a=this.z,rs=$a.redSqr().redSqr(),ts=xa.redAdd(xa);for(En=0;En<fn;En++){var is=ba.redSqr(),cs=ts.redSqr(),us=cs.redSqr(),ps=is.redAdd(is).redIAdd(is).redIAdd(_i.redMul(rs)),bs=ba.redMul(cs),e0=ps.redSqr().redISub(bs.redAdd(bs)),gs=bs.redISub(e0),Ds=ps.redMul(gs);Ds=Ds.redIAdd(Ds).redISub(us);var i0=ts.redMul($a);En+1<fn&&(rs=rs.redMul(us)),ba=e0,$a=i0,ts=Ds}return this.curve.jpoint(ba,ts.redMul(An),$a)};JPoint.prototype.dbl=function vn(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint.prototype._zeroDbl=function vn(){var fn,En,Cn;if(this.zOne){var _i=this.x.redSqr(),An=this.y.redSqr(),ba=An.redSqr(),xa=this.x.redAdd(An).redSqr().redISub(_i).redISub(ba);xa=xa.redIAdd(xa);var $a=_i.redAdd(_i).redIAdd(_i),rs=$a.redSqr().redISub(xa).redISub(xa),ts=ba.redIAdd(ba);ts=ts.redIAdd(ts),ts=ts.redIAdd(ts),fn=rs,En=$a.redMul(xa.redISub(rs)).redISub(ts),Cn=this.y.redAdd(this.y)}else{var is=this.x.redSqr(),cs=this.y.redSqr(),us=cs.redSqr(),ps=this.x.redAdd(cs).redSqr().redISub(is).redISub(us);ps=ps.redIAdd(ps);var bs=is.redAdd(is).redIAdd(is),e0=bs.redSqr(),gs=us.redIAdd(us);gs=gs.redIAdd(gs),gs=gs.redIAdd(gs),fn=e0.redISub(ps).redISub(ps),En=bs.redMul(ps.redISub(fn)).redISub(gs),Cn=this.y.redMul(this.z),Cn=Cn.redIAdd(Cn)}return this.curve.jpoint(fn,En,Cn)};JPoint.prototype._threeDbl=function vn(){var fn,En,Cn;if(this.zOne){var _i=this.x.redSqr(),An=this.y.redSqr(),ba=An.redSqr(),xa=this.x.redAdd(An).redSqr().redISub(_i).redISub(ba);xa=xa.redIAdd(xa);var $a=_i.redAdd(_i).redIAdd(_i).redIAdd(this.curve.a),rs=$a.redSqr().redISub(xa).redISub(xa);fn=rs;var ts=ba.redIAdd(ba);ts=ts.redIAdd(ts),ts=ts.redIAdd(ts),En=$a.redMul(xa.redISub(rs)).redISub(ts),Cn=this.y.redAdd(this.y)}else{var is=this.z.redSqr(),cs=this.y.redSqr(),us=this.x.redMul(cs),ps=this.x.redSub(is).redMul(this.x.redAdd(is));ps=ps.redAdd(ps).redIAdd(ps);var bs=us.redIAdd(us);bs=bs.redIAdd(bs);var e0=bs.redAdd(bs);fn=ps.redSqr().redISub(e0),Cn=this.y.redAdd(this.z).redSqr().redISub(cs).redISub(is);var gs=cs.redSqr();gs=gs.redIAdd(gs),gs=gs.redIAdd(gs),gs=gs.redIAdd(gs),En=ps.redMul(bs.redISub(fn)).redISub(gs)}return this.curve.jpoint(fn,En,Cn)};JPoint.prototype._dbl=function vn(){var fn=this.curve.a,En=this.x,Cn=this.y,_i=this.z,An=_i.redSqr().redSqr(),ba=En.redSqr(),xa=Cn.redSqr(),$a=ba.redAdd(ba).redIAdd(ba).redIAdd(fn.redMul(An)),rs=En.redAdd(En);rs=rs.redIAdd(rs);var ts=rs.redMul(xa),is=$a.redSqr().redISub(ts.redAdd(ts)),cs=ts.redISub(is),us=xa.redSqr();us=us.redIAdd(us),us=us.redIAdd(us),us=us.redIAdd(us);var ps=$a.redMul(cs).redISub(us),bs=Cn.redAdd(Cn).redMul(_i);return this.curve.jpoint(is,ps,bs)};JPoint.prototype.trpl=function vn(){if(!this.curve.zeroA)return this.dbl().add(this);var fn=this.x.redSqr(),En=this.y.redSqr(),Cn=this.z.redSqr(),_i=En.redSqr(),An=fn.redAdd(fn).redIAdd(fn),ba=An.redSqr(),xa=this.x.redAdd(En).redSqr().redISub(fn).redISub(_i);xa=xa.redIAdd(xa),xa=xa.redAdd(xa).redIAdd(xa),xa=xa.redISub(ba);var $a=xa.redSqr(),rs=_i.redIAdd(_i);rs=rs.redIAdd(rs),rs=rs.redIAdd(rs),rs=rs.redIAdd(rs);var ts=An.redIAdd(xa).redSqr().redISub(ba).redISub($a).redISub(rs),is=En.redMul(ts);is=is.redIAdd(is),is=is.redIAdd(is);var cs=this.x.redMul($a).redISub(is);cs=cs.redIAdd(cs),cs=cs.redIAdd(cs);var us=this.y.redMul(ts.redMul(rs.redISub(ts)).redISub(xa.redMul($a)));us=us.redIAdd(us),us=us.redIAdd(us),us=us.redIAdd(us);var ps=this.z.redAdd(xa).redSqr().redISub(Cn).redISub($a);return this.curve.jpoint(cs,us,ps)};JPoint.prototype.mul=function vn(fn,En){return fn=new BN$6(fn,En),this.curve._wnafMul(this,fn)};JPoint.prototype.eq=function vn(fn){if(fn.type==="affine")return this.eq(fn.toJ());if(this===fn)return!0;var En=this.z.redSqr(),Cn=fn.z.redSqr();if(this.x.redMul(Cn).redISub(fn.x.redMul(En)).cmpn(0)!==0)return!1;var _i=En.redMul(this.z),An=Cn.redMul(fn.z);return this.y.redMul(An).redISub(fn.y.redMul(_i)).cmpn(0)===0};JPoint.prototype.eqXToP=function vn(fn){var En=this.z.redSqr(),Cn=fn.toRed(this.curve.red).redMul(En);if(this.x.cmp(Cn)===0)return!0;for(var _i=fn.clone(),An=this.curve.redN.redMul(En);;){if(_i.iadd(this.curve.n),_i.cmp(this.curve.p)>=0)return!1;if(Cn.redIAdd(An),this.x.cmp(Cn)===0)return!0}};JPoint.prototype.inspect=function vn(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function vn(){return this.z.cmpn(0)===0};var BN$5=bnExports,inherits$1=inherits_browserExports,Base$1=base,utils$9=utils$c;function MontCurve(vn){Base$1.call(this,"mont",vn),this.a=new BN$5(vn.a,16).toRed(this.red),this.b=new BN$5(vn.b,16).toRed(this.red),this.i4=new BN$5(4).toRed(this.red).redInvm(),this.two=new BN$5(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits$1(MontCurve,Base$1);var mont=MontCurve;MontCurve.prototype.validate=function vn(fn){var En=fn.normalize().x,Cn=En.redSqr(),_i=Cn.redMul(En).redAdd(Cn.redMul(this.a)).redAdd(En),An=_i.redSqrt();return An.redSqr().cmp(_i)===0};function Point$1(vn,fn,En){Base$1.BasePoint.call(this,vn,"projective"),fn===null&&En===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN$5(fn,16),this.z=new BN$5(En,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}inherits$1(Point$1,Base$1.BasePoint);MontCurve.prototype.decodePoint=function vn(fn,En){return this.point(utils$9.toArray(fn,En),1)};MontCurve.prototype.point=function vn(fn,En){return new Point$1(this,fn,En)};MontCurve.prototype.pointFromJSON=function vn(fn){return Point$1.fromJSON(this,fn)};Point$1.prototype.precompute=function vn(){};Point$1.prototype._encode=function vn(){return this.getX().toArray("be",this.curve.p.byteLength())};Point$1.fromJSON=function vn(fn,En){return new Point$1(fn,En[0],En[1]||fn.one)};Point$1.prototype.inspect=function vn(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point$1.prototype.isInfinity=function vn(){return this.z.cmpn(0)===0};Point$1.prototype.dbl=function vn(){var fn=this.x.redAdd(this.z),En=fn.redSqr(),Cn=this.x.redSub(this.z),_i=Cn.redSqr(),An=En.redSub(_i),ba=En.redMul(_i),xa=An.redMul(_i.redAdd(this.curve.a24.redMul(An)));return this.curve.point(ba,xa)};Point$1.prototype.add=function vn(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.diffAdd=function vn(fn,En){var Cn=this.x.redAdd(this.z),_i=this.x.redSub(this.z),An=fn.x.redAdd(fn.z),ba=fn.x.redSub(fn.z),xa=ba.redMul(Cn),$a=An.redMul(_i),rs=En.z.redMul(xa.redAdd($a).redSqr()),ts=En.x.redMul(xa.redISub($a).redSqr());return this.curve.point(rs,ts)};Point$1.prototype.mul=function vn(fn){for(var En=fn.clone(),Cn=this,_i=this.curve.point(null,null),An=this,ba=[];En.cmpn(0)!==0;En.iushrn(1))ba.push(En.andln(1));for(var xa=ba.length-1;xa>=0;xa--)ba[xa]===0?(Cn=Cn.diffAdd(_i,An),_i=_i.dbl()):(_i=Cn.diffAdd(_i,An),Cn=Cn.dbl());return _i};Point$1.prototype.mulAdd=function vn(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.jumlAdd=function vn(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.eq=function vn(fn){return this.getX().cmp(fn.getX())===0};Point$1.prototype.normalize=function vn(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Point$1.prototype.getX=function vn(){return this.normalize(),this.x.fromRed()};var utils$8=utils$c,BN$4=bnExports,inherits=inherits_browserExports,Base=base,assert$6=utils$8.assert;function EdwardsCurve(vn){this.twisted=(vn.a|0)!==1,this.mOneA=this.twisted&&(vn.a|0)===-1,this.extended=this.mOneA,Base.call(this,"edwards",vn),this.a=new BN$4(vn.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN$4(vn.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN$4(vn.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert$6(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(vn.c|0)===1}inherits(EdwardsCurve,Base);var edwards=EdwardsCurve;EdwardsCurve.prototype._mulA=function vn(fn){return this.mOneA?fn.redNeg():this.a.redMul(fn)};EdwardsCurve.prototype._mulC=function vn(fn){return this.oneC?fn:this.c.redMul(fn)};EdwardsCurve.prototype.jpoint=function vn(fn,En,Cn,_i){return this.point(fn,En,Cn,_i)};EdwardsCurve.prototype.pointFromX=function vn(fn,En){fn=new BN$4(fn,16),fn.red||(fn=fn.toRed(this.red));var Cn=fn.redSqr(),_i=this.c2.redSub(this.a.redMul(Cn)),An=this.one.redSub(this.c2.redMul(this.d).redMul(Cn)),ba=_i.redMul(An.redInvm()),xa=ba.redSqrt();if(xa.redSqr().redSub(ba).cmp(this.zero)!==0)throw new Error("invalid point");var $a=xa.fromRed().isOdd();return(En&&!$a||!En&&$a)&&(xa=xa.redNeg()),this.point(fn,xa)};EdwardsCurve.prototype.pointFromY=function vn(fn,En){fn=new BN$4(fn,16),fn.red||(fn=fn.toRed(this.red));var Cn=fn.redSqr(),_i=Cn.redSub(this.c2),An=Cn.redMul(this.d).redMul(this.c2).redSub(this.a),ba=_i.redMul(An.redInvm());if(ba.cmp(this.zero)===0){if(En)throw new Error("invalid point");return this.point(this.zero,fn)}var xa=ba.redSqrt();if(xa.redSqr().redSub(ba).cmp(this.zero)!==0)throw new Error("invalid point");return xa.fromRed().isOdd()!==En&&(xa=xa.redNeg()),this.point(xa,fn)};EdwardsCurve.prototype.validate=function vn(fn){if(fn.isInfinity())return!0;fn.normalize();var En=fn.x.redSqr(),Cn=fn.y.redSqr(),_i=En.redMul(this.a).redAdd(Cn),An=this.c2.redMul(this.one.redAdd(this.d.redMul(En).redMul(Cn)));return _i.cmp(An)===0};function Point(vn,fn,En,Cn,_i){Base.BasePoint.call(this,vn,"projective"),fn===null&&En===null&&Cn===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN$4(fn,16),this.y=new BN$4(En,16),this.z=Cn?new BN$4(Cn,16):this.curve.one,this.t=_i&&new BN$4(_i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}inherits(Point,Base.BasePoint);EdwardsCurve.prototype.pointFromJSON=function vn(fn){return Point.fromJSON(this,fn)};EdwardsCurve.prototype.point=function vn(fn,En,Cn,_i){return new Point(this,fn,En,Cn,_i)};Point.fromJSON=function vn(fn,En){return new Point(fn,En[0],En[1],En[2])};Point.prototype.inspect=function vn(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function vn(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Point.prototype._extDbl=function vn(){var fn=this.x.redSqr(),En=this.y.redSqr(),Cn=this.z.redSqr();Cn=Cn.redIAdd(Cn);var _i=this.curve._mulA(fn),An=this.x.redAdd(this.y).redSqr().redISub(fn).redISub(En),ba=_i.redAdd(En),xa=ba.redSub(Cn),$a=_i.redSub(En),rs=An.redMul(xa),ts=ba.redMul($a),is=An.redMul($a),cs=xa.redMul(ba);return this.curve.point(rs,ts,cs,is)};Point.prototype._projDbl=function vn(){var fn=this.x.redAdd(this.y).redSqr(),En=this.x.redSqr(),Cn=this.y.redSqr(),_i,An,ba,xa,$a,rs;if(this.curve.twisted){xa=this.curve._mulA(En);var ts=xa.redAdd(Cn);this.zOne?(_i=fn.redSub(En).redSub(Cn).redMul(ts.redSub(this.curve.two)),An=ts.redMul(xa.redSub(Cn)),ba=ts.redSqr().redSub(ts).redSub(ts)):($a=this.z.redSqr(),rs=ts.redSub($a).redISub($a),_i=fn.redSub(En).redISub(Cn).redMul(rs),An=ts.redMul(xa.redSub(Cn)),ba=ts.redMul(rs))}else xa=En.redAdd(Cn),$a=this.curve._mulC(this.z).redSqr(),rs=xa.redSub($a).redSub($a),_i=this.curve._mulC(fn.redISub(xa)).redMul(rs),An=this.curve._mulC(xa).redMul(En.redISub(Cn)),ba=xa.redMul(rs);return this.curve.point(_i,An,ba)};Point.prototype.dbl=function vn(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Point.prototype._extAdd=function vn(fn){var En=this.y.redSub(this.x).redMul(fn.y.redSub(fn.x)),Cn=this.y.redAdd(this.x).redMul(fn.y.redAdd(fn.x)),_i=this.t.redMul(this.curve.dd).redMul(fn.t),An=this.z.redMul(fn.z.redAdd(fn.z)),ba=Cn.redSub(En),xa=An.redSub(_i),$a=An.redAdd(_i),rs=Cn.redAdd(En),ts=ba.redMul(xa),is=$a.redMul(rs),cs=ba.redMul(rs),us=xa.redMul($a);return this.curve.point(ts,is,us,cs)};Point.prototype._projAdd=function vn(fn){var En=this.z.redMul(fn.z),Cn=En.redSqr(),_i=this.x.redMul(fn.x),An=this.y.redMul(fn.y),ba=this.curve.d.redMul(_i).redMul(An),xa=Cn.redSub(ba),$a=Cn.redAdd(ba),rs=this.x.redAdd(this.y).redMul(fn.x.redAdd(fn.y)).redISub(_i).redISub(An),ts=En.redMul(xa).redMul(rs),is,cs;return this.curve.twisted?(is=En.redMul($a).redMul(An.redSub(this.curve._mulA(_i))),cs=xa.redMul($a)):(is=En.redMul($a).redMul(An.redSub(_i)),cs=this.curve._mulC(xa).redMul($a)),this.curve.point(ts,is,cs)};Point.prototype.add=function vn(fn){return this.isInfinity()?fn:fn.isInfinity()?this:this.curve.extended?this._extAdd(fn):this._projAdd(fn)};Point.prototype.mul=function vn(fn){return this._hasDoubles(fn)?this.curve._fixedNafMul(this,fn):this.curve._wnafMul(this,fn)};Point.prototype.mulAdd=function vn(fn,En,Cn){return this.curve._wnafMulAdd(1,[this,En],[fn,Cn],2,!1)};Point.prototype.jmulAdd=function vn(fn,En,Cn){return this.curve._wnafMulAdd(1,[this,En],[fn,Cn],2,!0)};Point.prototype.normalize=function vn(){if(this.zOne)return this;var fn=this.z.redInvm();return this.x=this.x.redMul(fn),this.y=this.y.redMul(fn),this.t&&(this.t=this.t.redMul(fn)),this.z=this.curve.one,this.zOne=!0,this};Point.prototype.neg=function vn(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point.prototype.getX=function vn(){return this.normalize(),this.x.fromRed()};Point.prototype.getY=function vn(){return this.normalize(),this.y.fromRed()};Point.prototype.eq=function vn(fn){return this===fn||this.getX().cmp(fn.getX())===0&&this.getY().cmp(fn.getY())===0};Point.prototype.eqXToP=function vn(fn){var En=fn.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(En)===0)return!0;for(var Cn=fn.clone(),_i=this.curve.redN.redMul(this.z);;){if(Cn.iadd(this.curve.n),Cn.cmp(this.curve.p)>=0)return!1;if(En.redIAdd(_i),this.x.cmp(En)===0)return!0}};Point.prototype.toP=Point.prototype.normalize;Point.prototype.mixedAdd=Point.prototype.add;(function(vn){var fn=vn;fn.base=base,fn.short=short,fn.mont=mont,fn.edwards=edwards})(curve);var curves$2={},secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}(function(vn){var fn=vn,En=hash$6,Cn=curve,_i=utils$c,An=_i.assert;function ba(rs){rs.type==="short"?this.curve=new Cn.short(rs):rs.type==="edwards"?this.curve=new Cn.edwards(rs):this.curve=new Cn.mont(rs),this.g=this.curve.g,this.n=this.curve.n,this.hash=rs.hash,An(this.g.validate(),"Invalid curve"),An(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}fn.PresetCurve=ba;function xa(rs,ts){Object.defineProperty(fn,rs,{configurable:!0,enumerable:!0,get:function(){var is=new ba(ts);return Object.defineProperty(fn,rs,{configurable:!0,enumerable:!0,value:is}),is}})}xa("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:En.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),xa("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:En.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),xa("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:En.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),xa("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:En.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),xa("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:En.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),xa("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:En.sha256,gRed:!1,g:["9"]}),xa("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:En.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var $a;try{$a=requireSecp256k1()}catch{$a=void 0}xa("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:En.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",$a]})})(curves$2);var BN$3=bnExports,utils$7=utils$c,assert$5=utils$7.assert;function KeyPair$3(vn,fn){this.ec=vn,this.priv=null,this.pub=null,fn.priv&&this._importPrivate(fn.priv,fn.privEnc),fn.pub&&this._importPublic(fn.pub,fn.pubEnc)}var key$1=KeyPair$3;KeyPair$3.fromPublic=function vn(fn,En,Cn){return En instanceof KeyPair$3?En:new KeyPair$3(fn,{pub:En,pubEnc:Cn})};KeyPair$3.fromPrivate=function vn(fn,En,Cn){return En instanceof KeyPair$3?En:new KeyPair$3(fn,{priv:En,privEnc:Cn})};KeyPair$3.prototype.validate=function vn(){var fn=this.getPublic();return fn.isInfinity()?{result:!1,reason:"Invalid public key"}:fn.validate()?fn.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair$3.prototype.getPublic=function vn(fn,En){return typeof fn=="string"&&(En=fn,fn=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),En?this.pub.encode(En,fn):this.pub};KeyPair$3.prototype.getPrivate=function vn(fn){return fn==="hex"?this.priv.toString(16,2):this.priv};KeyPair$3.prototype._importPrivate=function vn(fn,En){this.priv=new BN$3(fn,En||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$3.prototype._importPublic=function vn(fn,En){if(fn.x||fn.y){this.ec.curve.type==="mont"?assert$5(fn.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$5(fn.x&&fn.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(fn.x,fn.y);return}this.pub=this.ec.curve.decodePoint(fn,En)};KeyPair$3.prototype.derive=function vn(fn){return fn.validate()||assert$5(fn.validate(),"public point not validated"),fn.mul(this.priv).getX()};KeyPair$3.prototype.sign=function vn(fn,En,Cn){return this.ec.sign(fn,this,En,Cn)};KeyPair$3.prototype.verify=function vn(fn,En){return this.ec.verify(fn,En,this)};KeyPair$3.prototype.inspect=function vn(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var BN$2=bnExports,utils$6=utils$c,assert$4=utils$6.assert;function Signature$3(vn,fn){if(vn instanceof Signature$3)return vn;this._importDER(vn,fn)||(assert$4(vn.r&&vn.s,"Signature without r or s"),this.r=new BN$2(vn.r,16),this.s=new BN$2(vn.s,16),vn.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=vn.recoveryParam)}var signature$1=Signature$3;function Position(){this.place=0}function getLength(vn,fn){var En=vn[fn.place++];if(!(En&128))return En;var Cn=En&15;if(Cn===0||Cn>4||vn[fn.place]===0)return!1;for(var _i=0,An=0,ba=fn.place;An<Cn;An++,ba++)_i<<=8,_i|=vn[ba],_i>>>=0;return _i<=127?!1:(fn.place=ba,_i)}function rmPadding(vn){for(var fn=0,En=vn.length-1;!vn[fn]&&!(vn[fn+1]&128)&&fn<En;)fn++;return fn===0?vn:vn.slice(fn)}Signature$3.prototype._importDER=function vn(fn,En){fn=utils$6.toArray(fn,En);var Cn=new Position;if(fn[Cn.place++]!==48)return!1;var _i=getLength(fn,Cn);if(_i===!1||_i+Cn.place!==fn.length||fn[Cn.place++]!==2)return!1;var An=getLength(fn,Cn);if(An===!1||fn[Cn.place]&128)return!1;var ba=fn.slice(Cn.place,An+Cn.place);if(Cn.place+=An,fn[Cn.place++]!==2)return!1;var xa=getLength(fn,Cn);if(xa===!1||fn.length!==xa+Cn.place||fn[Cn.place]&128)return!1;var $a=fn.slice(Cn.place,xa+Cn.place);if(ba[0]===0)if(ba[1]&128)ba=ba.slice(1);else return!1;if($a[0]===0)if($a[1]&128)$a=$a.slice(1);else return!1;return this.r=new BN$2(ba),this.s=new BN$2($a),this.recoveryParam=null,!0};function constructLength(vn,fn){if(fn<128){vn.push(fn);return}var En=1+(Math.log(fn)/Math.LN2>>>3);for(vn.push(En|128);--En;)vn.push(fn>>>(En<<3)&255);vn.push(fn)}Signature$3.prototype.toDER=function vn(fn){var En=this.r.toArray(),Cn=this.s.toArray();for(En[0]&128&&(En=[0].concat(En)),Cn[0]&128&&(Cn=[0].concat(Cn)),En=rmPadding(En),Cn=rmPadding(Cn);!Cn[0]&&!(Cn[1]&128);)Cn=Cn.slice(1);var _i=[2];constructLength(_i,En.length),_i=_i.concat(En),_i.push(2),constructLength(_i,Cn.length);var An=_i.concat(Cn),ba=[48];return constructLength(ba,An.length),ba=ba.concat(An),utils$6.encode(ba,fn)};var BN$1=bnExports,HmacDRBG=hmacDrbg,utils$5=utils$c,curves$1=curves$2,rand=requireBrorand(),assert$3=utils$5.assert,KeyPair$2=key$1,Signature$2=signature$1;function EC(vn){if(!(this instanceof EC))return new EC(vn);typeof vn=="string"&&(assert$3(Object.prototype.hasOwnProperty.call(curves$1,vn),"Unknown curve "+vn),vn=curves$1[vn]),vn instanceof curves$1.PresetCurve&&(vn={curve:vn}),this.curve=vn.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=vn.curve.g,this.g.precompute(vn.curve.n.bitLength()+1),this.hash=vn.hash||vn.curve.hash}var ec=EC;EC.prototype.keyPair=function vn(fn){return new KeyPair$2(this,fn)};EC.prototype.keyFromPrivate=function vn(fn,En){return KeyPair$2.fromPrivate(this,fn,En)};EC.prototype.keyFromPublic=function vn(fn,En){return KeyPair$2.fromPublic(this,fn,En)};EC.prototype.genKeyPair=function vn(fn){fn||(fn={});for(var En=new HmacDRBG({hash:this.hash,pers:fn.pers,persEnc:fn.persEnc||"utf8",entropy:fn.entropy||rand(this.hash.hmacStrength),entropyEnc:fn.entropy&&fn.entropyEnc||"utf8",nonce:this.n.toArray()}),Cn=this.n.byteLength(),_i=this.n.sub(new BN$1(2));;){var An=new BN$1(En.generate(Cn));if(!(An.cmp(_i)>0))return An.iaddn(1),this.keyFromPrivate(An)}};EC.prototype._truncateToN=function vn(fn,En){var Cn=fn.byteLength()*8-this.n.bitLength();return Cn>0&&(fn=fn.ushrn(Cn)),!En&&fn.cmp(this.n)>=0?fn.sub(this.n):fn};EC.prototype.sign=function vn(fn,En,Cn,_i){typeof Cn=="object"&&(_i=Cn,Cn=null),_i||(_i={}),En=this.keyFromPrivate(En,Cn),fn=this._truncateToN(new BN$1(fn,16));for(var An=this.n.byteLength(),ba=En.getPrivate().toArray("be",An),xa=fn.toArray("be",An),$a=new HmacDRBG({hash:this.hash,entropy:ba,nonce:xa,pers:_i.pers,persEnc:_i.persEnc||"utf8"}),rs=this.n.sub(new BN$1(1)),ts=0;;ts++){var is=_i.k?_i.k(ts):new BN$1($a.generate(this.n.byteLength()));if(is=this._truncateToN(is,!0),!(is.cmpn(1)<=0||is.cmp(rs)>=0)){var cs=this.g.mul(is);if(!cs.isInfinity()){var us=cs.getX(),ps=us.umod(this.n);if(ps.cmpn(0)!==0){var bs=is.invm(this.n).mul(ps.mul(En.getPrivate()).iadd(fn));if(bs=bs.umod(this.n),bs.cmpn(0)!==0){var e0=(cs.getY().isOdd()?1:0)|(us.cmp(ps)!==0?2:0);return _i.canonical&&bs.cmp(this.nh)>0&&(bs=this.n.sub(bs),e0^=1),new Signature$2({r:ps,s:bs,recoveryParam:e0})}}}}}};EC.prototype.verify=function vn(fn,En,Cn,_i){fn=this._truncateToN(new BN$1(fn,16)),Cn=this.keyFromPublic(Cn,_i),En=new Signature$2(En,"hex");var An=En.r,ba=En.s;if(An.cmpn(1)<0||An.cmp(this.n)>=0||ba.cmpn(1)<0||ba.cmp(this.n)>=0)return!1;var xa=ba.invm(this.n),$a=xa.mul(fn).umod(this.n),rs=xa.mul(An).umod(this.n),ts;return this.curve._maxwellTrick?(ts=this.g.jmulAdd($a,Cn.getPublic(),rs),ts.isInfinity()?!1:ts.eqXToP(An)):(ts=this.g.mulAdd($a,Cn.getPublic(),rs),ts.isInfinity()?!1:ts.getX().umod(this.n).cmp(An)===0)};EC.prototype.recoverPubKey=function(vn,fn,En,Cn){assert$3((3&En)===En,"The recovery param is more than two bits"),fn=new Signature$2(fn,Cn);var _i=this.n,An=new BN$1(vn),ba=fn.r,xa=fn.s,$a=En&1,rs=En>>1;if(ba.cmp(this.curve.p.umod(this.curve.n))>=0&&rs)throw new Error("Unable to find sencond key candinate");rs?ba=this.curve.pointFromX(ba.add(this.curve.n),$a):ba=this.curve.pointFromX(ba,$a);var ts=fn.r.invm(_i),is=_i.sub(An).mul(ts).umod(_i),cs=xa.mul(ts).umod(_i);return this.g.mulAdd(is,ba,cs)};EC.prototype.getKeyRecoveryParam=function(vn,fn,En,Cn){if(fn=new Signature$2(fn,Cn),fn.recoveryParam!==null)return fn.recoveryParam;for(var _i=0;_i<4;_i++){var An;try{An=this.recoverPubKey(vn,fn,_i)}catch{continue}if(An.eq(En))return _i}throw new Error("Unable to find valid recovery factor")};var utils$4=utils$c,assert$2=utils$4.assert,parseBytes$2=utils$4.parseBytes,cachedProperty$1=utils$4.cachedProperty;function KeyPair$1(vn,fn){this.eddsa=vn,this._secret=parseBytes$2(fn.secret),vn.isPoint(fn.pub)?this._pub=fn.pub:this._pubBytes=parseBytes$2(fn.pub)}KeyPair$1.fromPublic=function vn(fn,En){return En instanceof KeyPair$1?En:new KeyPair$1(fn,{pub:En})};KeyPair$1.fromSecret=function vn(fn,En){return En instanceof KeyPair$1?En:new KeyPair$1(fn,{secret:En})};KeyPair$1.prototype.secret=function vn(){return this._secret};cachedProperty$1(KeyPair$1,"pubBytes",function vn(){return this.eddsa.encodePoint(this.pub())});cachedProperty$1(KeyPair$1,"pub",function vn(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});cachedProperty$1(KeyPair$1,"privBytes",function vn(){var fn=this.eddsa,En=this.hash(),Cn=fn.encodingLength-1,_i=En.slice(0,fn.encodingLength);return _i[0]&=248,_i[Cn]&=127,_i[Cn]|=64,_i});cachedProperty$1(KeyPair$1,"priv",function vn(){return this.eddsa.decodeInt(this.privBytes())});cachedProperty$1(KeyPair$1,"hash",function vn(){return this.eddsa.hash().update(this.secret()).digest()});cachedProperty$1(KeyPair$1,"messagePrefix",function vn(){return this.hash().slice(this.eddsa.encodingLength)});KeyPair$1.prototype.sign=function vn(fn){return assert$2(this._secret,"KeyPair can only verify"),this.eddsa.sign(fn,this)};KeyPair$1.prototype.verify=function vn(fn,En){return this.eddsa.verify(fn,En,this)};KeyPair$1.prototype.getSecret=function vn(fn){return assert$2(this._secret,"KeyPair is public only"),utils$4.encode(this.secret(),fn)};KeyPair$1.prototype.getPublic=function vn(fn){return utils$4.encode(this.pubBytes(),fn)};var key=KeyPair$1,BN=bnExports,utils$3=utils$c,assert$1=utils$3.assert,cachedProperty=utils$3.cachedProperty,parseBytes$1=utils$3.parseBytes;function Signature$1(vn,fn){this.eddsa=vn,typeof fn!="object"&&(fn=parseBytes$1(fn)),Array.isArray(fn)&&(assert$1(fn.length===vn.encodingLength*2,"Signature has invalid size"),fn={R:fn.slice(0,vn.encodingLength),S:fn.slice(vn.encodingLength)}),assert$1(fn.R&&fn.S,"Signature without R or S"),vn.isPoint(fn.R)&&(this._R=fn.R),fn.S instanceof BN&&(this._S=fn.S),this._Rencoded=Array.isArray(fn.R)?fn.R:fn.Rencoded,this._Sencoded=Array.isArray(fn.S)?fn.S:fn.Sencoded}cachedProperty(Signature$1,"S",function vn(){return this.eddsa.decodeInt(this.Sencoded())});cachedProperty(Signature$1,"R",function vn(){return this.eddsa.decodePoint(this.Rencoded())});cachedProperty(Signature$1,"Rencoded",function vn(){return this.eddsa.encodePoint(this.R())});cachedProperty(Signature$1,"Sencoded",function vn(){return this.eddsa.encodeInt(this.S())});Signature$1.prototype.toBytes=function vn(){return this.Rencoded().concat(this.Sencoded())};Signature$1.prototype.toHex=function vn(){return utils$3.encode(this.toBytes(),"hex").toUpperCase()};var signature=Signature$1,hash=hash$6,curves=curves$2,utils$2=utils$c,assert=utils$2.assert,parseBytes=utils$2.parseBytes,KeyPair=key,Signature=signature;function EDDSA(vn){if(assert(vn==="ed25519","only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(vn);vn=curves[vn].curve,this.curve=vn,this.g=vn.g,this.g.precompute(vn.n.bitLength()+1),this.pointClass=vn.point().constructor,this.encodingLength=Math.ceil(vn.n.bitLength()/8),this.hash=hash.sha512}var eddsa=EDDSA;EDDSA.prototype.sign=function vn(fn,En){fn=parseBytes(fn);var Cn=this.keyFromSecret(En),_i=this.hashInt(Cn.messagePrefix(),fn),An=this.g.mul(_i),ba=this.encodePoint(An),xa=this.hashInt(ba,Cn.pubBytes(),fn).mul(Cn.priv()),$a=_i.add(xa).umod(this.curve.n);return this.makeSignature({R:An,S:$a,Rencoded:ba})};EDDSA.prototype.verify=function vn(fn,En,Cn){if(fn=parseBytes(fn),En=this.makeSignature(En),En.S().gte(En.eddsa.curve.n)||En.S().isNeg())return!1;var _i=this.keyFromPublic(Cn),An=this.hashInt(En.Rencoded(),_i.pubBytes(),fn),ba=this.g.mul(En.S()),xa=En.R().add(_i.pub().mul(An));return xa.eq(ba)};EDDSA.prototype.hashInt=function vn(){for(var fn=this.hash(),En=0;En<arguments.length;En++)fn.update(arguments[En]);return utils$2.intFromLE(fn.digest()).umod(this.curve.n)};EDDSA.prototype.keyFromPublic=function vn(fn){return KeyPair.fromPublic(this,fn)};EDDSA.prototype.keyFromSecret=function vn(fn){return KeyPair.fromSecret(this,fn)};EDDSA.prototype.makeSignature=function vn(fn){return fn instanceof Signature?fn:new Signature(this,fn)};EDDSA.prototype.encodePoint=function vn(fn){var En=fn.getY().toArray("le",this.encodingLength);return En[this.encodingLength-1]|=fn.getX().isOdd()?128:0,En};EDDSA.prototype.decodePoint=function vn(fn){fn=utils$2.parseBytes(fn);var En=fn.length-1,Cn=fn.slice(0,En).concat(fn[En]&-129),_i=(fn[En]&128)!==0,An=utils$2.intFromLE(Cn);return this.curve.pointFromY(An,_i)};EDDSA.prototype.encodeInt=function vn(fn){return fn.toArray("le",this.encodingLength)};EDDSA.prototype.decodeInt=function vn(fn){return utils$2.intFromLE(fn)};EDDSA.prototype.isPoint=function vn(fn){return fn instanceof this.pointClass};(function(vn){var fn=vn;fn.version=require$$0$1.version,fn.utils=utils$c,fn.rand=requireBrorand(),fn.curve=curve,fn.curves=curves$2,fn.ec=ec,fn.eddsa=eddsa})(elliptic);var define_process_env_default={};const H=":";function re$1(vn){const[fn,En]=vn.split(H);return{namespace:fn,reference:En}}function W$1(vn,fn){return vn.includes(":")?[vn]:fn.chains||[]}var gt$3=Object.defineProperty,Ke=Object.getOwnPropertySymbols,vt$2=Object.prototype.hasOwnProperty,bt$2=Object.prototype.propertyIsEnumerable,Le$1=(vn,fn,En)=>fn in vn?gt$3(vn,fn,{enumerable:!0,configurable:!0,writable:!0,value:En}):vn[fn]=En,Fe=(vn,fn)=>{for(var En in fn||(fn={}))vt$2.call(fn,En)&&Le$1(vn,En,fn[En]);if(Ke)for(var En of Ke(fn))bt$2.call(fn,En)&&Le$1(vn,En,fn[En]);return vn};const qe="ReactNative",y$1={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},He="js";function ce(){return typeof process$1<"u"&&typeof process$1.versions<"u"&&typeof process$1.versions.node<"u"}function _$1(){return!getDocument_1()&&!!getNavigator_1()&&navigator.product===qe}function V$2(){return!ce()&&!!getNavigator_1()&&!!getDocument_1()}function P$2(){return _$1()?y$1.reactNative:ce()?y$1.node:V$2()?y$1.browser:y$1.unknown}function Ot$2(){var vn;try{return _$1()&&typeof global$1<"u"&&typeof(global$1==null?void 0:global$1.Application)<"u"?(vn=global$1.Application)==null?void 0:vn.applicationId:void 0}catch{return}}function We$1(vn,fn){let En=queryString.parse(vn);return En=Fe(Fe({},En),fn),vn=queryString.stringify(En),vn}function Nt$2(){return getWindowMetadata_1()||{name:"",description:"",url:"",icons:[""]}}function Je$1(){if(P$2()===y$1.reactNative&&typeof global$1<"u"&&typeof(global$1==null?void 0:global$1.Platform)<"u"){const{OS:En,Version:Cn}=global$1.Platform;return[En,Cn].join("-")}const vn=detect();if(vn===null)return"unknown";const fn=vn.os?vn.os.replace(" ","").toLowerCase():"unknown";return vn.type==="browser"?[fn,vn.name,vn.version].join("-"):[fn,vn.version].join("-")}function ze(){var vn;const fn=P$2();return fn===y$1.browser?[fn,((vn=getLocation_1())==null?void 0:vn.host)||"unknown"].join(":"):fn}function Ge(vn,fn,En){const Cn=Je$1(),_i=ze();return[[vn,fn].join("-"),[He,En].join("-"),Cn,_i].join("/")}function $t$1({protocol:vn,version:fn,relayUrl:En,sdkVersion:Cn,auth:_i,projectId:An,useOnCloseEvent:ba,bundleId:xa}){const $a=En.split("?"),rs=Ge(vn,fn,Cn),ts={auth:_i,ua:rs,projectId:An,useOnCloseEvent:ba||void 0,origin:xa||void 0},is=We$1($a[1]||"",ts);return $a[0]+"?"+is}function $$2(vn,fn){return vn.filter(En=>fn.includes(En)).length===vn.length}function Tt$2(vn){return Object.fromEntries(vn.entries())}function Pt$2(vn){return new Map(Object.entries(vn))}function _t$2(vn=cjs$3.FIVE_MINUTES,fn){const En=cjs$3.toMiliseconds(vn||cjs$3.FIVE_MINUTES);let Cn,_i,An;return{resolve:ba=>{An&&Cn&&(clearTimeout(An),Cn(ba))},reject:ba=>{An&&_i&&(clearTimeout(An),_i(ba))},done:()=>new Promise((ba,xa)=>{An=setTimeout(()=>{xa(new Error(fn))},En),Cn=ba,_i=xa})}}function kt$2(vn,fn,En){return new Promise(async(Cn,_i)=>{const An=setTimeout(()=>_i(new Error(En)),fn);try{const ba=await vn;Cn(ba)}catch(ba){_i(ba)}clearTimeout(An)})}function ae$1(vn,fn){if(typeof fn=="string"&&fn.startsWith(`${vn}:`))return fn;if(vn.toLowerCase()==="topic"){if(typeof fn!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${fn}`}else if(vn.toLowerCase()==="id"){if(typeof fn!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${fn}`}throw new Error(`Unknown expirer target type: ${vn}`)}function Dt$1(vn){return ae$1("topic",vn)}function xt$2(vn){return ae$1("id",vn)}function Vt$1(vn){const[fn,En]=vn.split(":"),Cn={id:void 0,topic:void 0};if(fn==="topic"&&typeof En=="string")Cn.topic=En;else if(fn==="id"&&Number.isInteger(Number(En)))Cn.id=Number(En);else throw new Error(`Invalid target, expected id:number or topic:string, got ${fn}:${En}`);return Cn}function Mt$1(vn,fn){return cjs$3.fromMiliseconds(Date.now()+cjs$3.toMiliseconds(vn))}function Kt$1(vn){return Date.now()>=cjs$3.toMiliseconds(vn)}function Lt$2(vn,fn){return`${vn}${fn?`:${fn}`:""}`}function N(vn=[],fn=[]){return[...new Set([...vn,...fn])]}async function Ft$1({id:vn,topic:fn,wcDeepLink:En}){var Cn;try{if(!En)return;const _i=typeof En=="string"?JSON.parse(En):En,An=_i==null?void 0:_i.href;if(typeof An!="string")return;const ba=Xe$1(An,vn,fn),xa=P$2();if(xa===y$1.browser){if(!((Cn=getDocument_1())!=null&&Cn.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}ba.startsWith("https://")||ba.startsWith("http://")?window.open(ba,"_blank","noreferrer noopener"):window.open(ba,en$2()?"_blank":"_self","noreferrer noopener")}else xa===y$1.reactNative&&typeof(global$1==null?void 0:global$1.Linking)<"u"&&await global$1.Linking.openURL(ba)}catch(_i){console.error(_i)}}function Xe$1(vn,fn,En){const Cn=`requestId=${fn}&sessionTopic=${En}`;vn.endsWith("/")&&(vn=vn.slice(0,-1));let _i=`${vn}`;if(vn.startsWith("https://t.me")){const An=vn.includes("?")?"&startapp=":"?startapp=";_i=`${_i}${An}${nn$1(Cn,!0)}`}else _i=`${_i}/wc?${Cn}`;return _i}async function qt$1(vn,fn){let En="";try{if(V$2()&&(En=localStorage.getItem(fn),En))return En;En=await vn.getItem(fn)}catch(Cn){console.error(Cn)}return En}function Bt$2(vn,fn){if(!vn.includes(fn))return null;const En=vn.split(/([&,?,=])/),Cn=En.indexOf(fn);return En[Cn+2]}function Ht$1(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,vn=>{const fn=Math.random()*16|0;return(vn==="x"?fn:fn&3|8).toString(16)})}function Wt$1(){return typeof process$1<"u"&&define_process_env_default.IS_VITEST==="true"}function en$2(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function nn$1(vn,fn=!1){const En=Buffer$7.from(vn).toString("base64");return fn?En.replace(/[=]/g,""):En}function le(vn){return Buffer$7.from(vn,"base64").toString("utf-8")}const Jt$1="https://rpc.walletconnect.org/v1";async function tn$1(vn,fn,En,Cn,_i,An){switch(En.t){case"eip191":return rn$1(vn,fn,En.s);case"eip1271":return await on$1(vn,fn,En.s,Cn,_i,An);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${En.t}`)}}function rn$1(vn,fn,En){return recoverAddress(hashMessage(fn),En).toLowerCase()===vn.toLowerCase()}async function on$1(vn,fn,En,Cn,_i,An){const ba=re$1(Cn);if(!ba.namespace||!ba.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${Cn}`);try{const xa="0x1626ba7e",$a="0000000000000000000000000000000000000000000000000000000000000040",rs="0000000000000000000000000000000000000000000000000000000000000041",ts=En.substring(2),is=hashMessage(fn).substring(2),cs=xa+is+$a+rs+ts,us=await fetch(`${An||Jt$1}/?chainId=${Cn}&projectId=${_i}`,{method:"POST",body:JSON.stringify({id:zt$1(),jsonrpc:"2.0",method:"eth_call",params:[{to:vn,data:cs},"latest"]})}),{result:ps}=await us.json();return ps?ps.slice(0,xa.length).toLowerCase()===xa.toLowerCase():!1}catch(xa){return console.error("isValidEip1271Signature: ",xa),!1}}function zt$1(){return Date.now()+Math.floor(Math.random()*1e3)}var Gt$2=Object.defineProperty,Yt$1=Object.defineProperties,Qt$1=Object.getOwnPropertyDescriptors,sn$1=Object.getOwnPropertySymbols,Zt$1=Object.prototype.hasOwnProperty,Xt$1=Object.prototype.propertyIsEnumerable,cn$1=(vn,fn,En)=>fn in vn?Gt$2(vn,fn,{enumerable:!0,configurable:!0,writable:!0,value:En}):vn[fn]=En,de=(vn,fn)=>{for(var En in fn||(fn={}))Zt$1.call(fn,En)&&cn$1(vn,En,fn[En]);if(sn$1)for(var En of sn$1(fn))Xt$1.call(fn,En)&&cn$1(vn,En,fn[En]);return vn},an$1=(vn,fn)=>Yt$1(vn,Qt$1(fn));const er$1="did:pkh:",z$3=vn=>vn==null?void 0:vn.split(":"),un$1=vn=>{const fn=vn&&z$3(vn);if(fn)return vn.includes(er$1)?fn[3]:fn[1]},ln$1=vn=>{const fn=vn&&z$3(vn);if(fn)return fn[2]+":"+fn[3]},fe$1=vn=>{const fn=vn&&z$3(vn);if(fn)return fn.pop()};async function nr$1(vn){const{cacao:fn,projectId:En}=vn,{s:Cn,p:_i}=fn,An=dn$1(_i,_i.iss),ba=fe$1(_i.iss);return await tn$1(ba,An,Cn,ln$1(_i.iss),En)}const dn$1=(vn,fn)=>{const En=`${vn.domain} wants you to sign in with your Ethereum account:`,Cn=fe$1(fn);if(!vn.aud&&!vn.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let _i=vn.statement||void 0;const An=`URI: ${vn.aud||vn.uri}`,ba=`Version: ${vn.version}`,xa=`Chain ID: ${un$1(fn)}`,$a=`Nonce: ${vn.nonce}`,rs=`Issued At: ${vn.iat}`,ts=vn.exp?`Expiration Time: ${vn.exp}`:void 0,is=vn.nbf?`Not Before: ${vn.nbf}`:void 0,cs=vn.requestId?`Request ID: ${vn.requestId}`:void 0,us=vn.resources?`Resources:${vn.resources.map(bs=>`
- ${bs}`).join("")}`:void 0,ps=Y$2(vn.resources);if(ps){const bs=R$1(ps);_i=he(_i,bs)}return[En,Cn,"",_i,"",An,ba,xa,$a,rs,ts,is,cs,us].filter(bs=>bs!=null).join(`
`)};function hn$1(vn){return Buffer$7.from(JSON.stringify(vn)).toString("base64")}function yn$1(vn){return JSON.parse(Buffer$7.from(vn,"base64").toString("utf-8"))}function O$2(vn){if(!vn)throw new Error("No recap provided, value is undefined");if(!vn.att)throw new Error("No `att` property found");const fn=Object.keys(vn.att);if(!(fn!=null&&fn.length))throw new Error("No resources found in `att` property");fn.forEach(En=>{const Cn=vn.att[En];if(Array.isArray(Cn))throw new Error(`Resource must be an object: ${En}`);if(typeof Cn!="object")throw new Error(`Resource must be an object: ${En}`);if(!Object.keys(Cn).length)throw new Error(`Resource object is empty: ${En}`);Object.keys(Cn).forEach(_i=>{const An=Cn[_i];if(!Array.isArray(An))throw new Error(`Ability limits ${_i} must be an array of objects, found: ${An}`);if(!An.length)throw new Error(`Value of ${_i} is empty array, must be an array with objects`);An.forEach(ba=>{if(typeof ba!="object")throw new Error(`Ability limits (${_i}) must be an array of objects, found: ${ba}`)})})})}function gn$1(vn,fn,En,Cn={}){return En==null||En.sort((_i,An)=>_i.localeCompare(An)),{att:{[vn]:pe(fn,En,Cn)}}}function pe(vn,fn,En={}){fn=fn==null?void 0:fn.sort((_i,An)=>_i.localeCompare(An));const Cn=fn.map(_i=>({[`${vn}/${_i}`]:[En]}));return Object.assign({},...Cn)}function G(vn){return O$2(vn),`urn:recap:${hn$1(vn).replace(/=/g,"")}`}function R$1(vn){const fn=yn$1(vn.replace("urn:recap:",""));return O$2(fn),fn}function ir$1(vn,fn,En){const Cn=gn$1(vn,fn,En);return G(Cn)}function me$2(vn){return vn&&vn.includes("urn:recap:")}function cr$1(vn,fn){const En=R$1(vn),Cn=R$1(fn),_i=bn$1(En,Cn);return G(_i)}function bn$1(vn,fn){O$2(vn),O$2(fn);const En=Object.keys(vn.att).concat(Object.keys(fn.att)).sort((_i,An)=>_i.localeCompare(An)),Cn={att:{}};return En.forEach(_i=>{var An,ba;Object.keys(((An=vn.att)==null?void 0:An[_i])||{}).concat(Object.keys(((ba=fn.att)==null?void 0:ba[_i])||{})).sort((xa,$a)=>xa.localeCompare($a)).forEach(xa=>{var $a,rs;Cn.att[_i]=an$1(de({},Cn.att[_i]),{[xa]:(($a=vn.att[_i])==null?void 0:$a[xa])||((rs=fn.att[_i])==null?void 0:rs[xa])})})}),Cn}function he(vn="",fn){O$2(fn);const En="I further authorize the stated URI to perform the following actions on my behalf: ";if(vn.includes(En))return vn;const Cn=[];let _i=0;Object.keys(fn.att).forEach(xa=>{const $a=Object.keys(fn.att[xa]).map(is=>({ability:is.split("/")[0],action:is.split("/")[1]}));$a.sort((is,cs)=>is.action.localeCompare(cs.action));const rs={};$a.forEach(is=>{rs[is.ability]||(rs[is.ability]=[]),rs[is.ability].push(is.action)});const ts=Object.keys(rs).map(is=>(_i++,`(${_i}) '${is}': '${rs[is].join("', '")}' for '${xa}'.`));Cn.push(ts.join(", ").replace(".,","."))});const An=Cn.join(" "),ba=`${En}${An}`;return`${vn?vn+" ":""}${ba}`}function ar$1(vn){var fn;const En=R$1(vn);O$2(En);const Cn=(fn=En.att)==null?void 0:fn.eip155;return Cn?Object.keys(Cn).map(_i=>_i.split("/")[1]):[]}function ur$1(vn){const fn=R$1(vn);O$2(fn);const En=[];return Object.values(fn.att).forEach(Cn=>{Object.values(Cn).forEach(_i=>{var An;(An=_i==null?void 0:_i[0])!=null&&An.chains&&En.push(_i[0].chains)})}),[...new Set(En.flat())]}function Y$2(vn){if(!vn)return;const fn=vn==null?void 0:vn[vn.length-1];return me$2(fn)?fn:void 0}const ye$2="base10",g$1="base16",ge="base64pad",lr$1="base64url",k$1="utf8",ve$1=0,D$2=1,M$1=2,dr$1=0,wn=1,K$1=12,be$2=32;function fr$1(){const vn=x25519.generateKeyPair();return{privateKey:toString$1(vn.secretKey,g$1),publicKey:toString$1(vn.publicKey,g$1)}}function pr$1(){const vn=random.randomBytes(be$2);return toString$1(vn,g$1)}function mr$1(vn,fn){const En=x25519.sharedKey(fromString(vn,g$1),fromString(fn,g$1),!0),Cn=new HKDF_1(sha256.SHA256,En).expand(be$2);return toString$1(Cn,g$1)}function hr$1(vn){const fn=sha256.hash(fromString(vn,g$1));return toString$1(fn,g$1)}function yr$1(vn){const fn=sha256.hash(fromString(vn,k$1));return toString$1(fn,g$1)}function Ee$1(vn){return fromString(`${vn}`,ye$2)}function A(vn){return Number(toString$1(vn,ye$2))}function gr$1(vn){const fn=Ee$1(typeof vn.type<"u"?vn.type:ve$1);if(A(fn)===D$2&&typeof vn.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const En=typeof vn.senderPublicKey<"u"?fromString(vn.senderPublicKey,g$1):void 0,Cn=typeof vn.iv<"u"?fromString(vn.iv,g$1):random.randomBytes(K$1),_i=new chacha20poly1305.ChaCha20Poly1305(fromString(vn.symKey,g$1)).seal(Cn,fromString(vn.message,k$1));return we$2({type:fn,sealed:_i,iv:Cn,senderPublicKey:En,encoding:vn.encoding})}function vr$1(vn,fn){const En=Ee$1(M$1),Cn=random.randomBytes(K$1),_i=fromString(vn,k$1);return we$2({type:En,sealed:_i,iv:Cn,encoding:fn})}function br$1(vn){const fn=new chacha20poly1305.ChaCha20Poly1305(fromString(vn.symKey,g$1)),{sealed:En,iv:Cn}=Q({encoded:vn.encoded,encoding:vn==null?void 0:vn.encoding}),_i=fn.open(Cn,En);if(_i===null)throw new Error("Failed to decrypt");return toString$1(_i,k$1)}function Er$1(vn,fn){const{sealed:En}=Q({encoded:vn,encoding:fn});return toString$1(En,k$1)}function we$2(vn){const{encoding:fn=ge}=vn;if(A(vn.type)===M$1)return toString$1(concat([vn.type,vn.sealed]),fn);if(A(vn.type)===D$2){if(typeof vn.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return toString$1(concat([vn.type,vn.senderPublicKey,vn.iv,vn.sealed]),fn)}return toString$1(concat([vn.type,vn.iv,vn.sealed]),fn)}function Q(vn){const{encoded:fn,encoding:En=ge}=vn,Cn=fromString(fn,En),_i=Cn.slice(dr$1,wn),An=wn;if(A(_i)===D$2){const rs=An+be$2,ts=rs+K$1,is=Cn.slice(An,rs),cs=Cn.slice(rs,ts),us=Cn.slice(ts);return{type:_i,sealed:us,iv:cs,senderPublicKey:is}}if(A(_i)===M$1){const rs=Cn.slice(An),ts=random.randomBytes(K$1);return{type:_i,sealed:rs,iv:ts}}const ba=An+K$1,xa=Cn.slice(An,ba),$a=Cn.slice(ba);return{type:_i,sealed:$a,iv:xa}}function wr$1(vn,fn){const En=Q({encoded:vn,encoding:fn==null?void 0:fn.encoding});return On({type:A(En.type),senderPublicKey:typeof En.senderPublicKey<"u"?toString$1(En.senderPublicKey,g$1):void 0,receiverPublicKey:fn==null?void 0:fn.receiverPublicKey})}function On(vn){const fn=(vn==null?void 0:vn.type)||ve$1;if(fn===D$2){if(typeof(vn==null?void 0:vn.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(vn==null?void 0:vn.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:fn,senderPublicKey:vn==null?void 0:vn.senderPublicKey,receiverPublicKey:vn==null?void 0:vn.receiverPublicKey}}function Or$1(vn){return vn.type===D$2&&typeof vn.senderPublicKey=="string"&&typeof vn.receiverPublicKey=="string"}function Nr$1(vn){return vn.type===M$1}function Nn(vn){return new elliptic.ec("p256").keyFromPublic({x:Buffer$7.from(vn.x,"base64").toString("hex"),y:Buffer$7.from(vn.y,"base64").toString("hex")},"hex")}function Sr$1(vn){let fn=vn.replace(/-/g,"+").replace(/_/g,"/");const En=fn.length%4;return En>0&&(fn+="=".repeat(4-En)),fn}function $r$1(vn){return Buffer$7.from(Sr$1(vn),"base64")}function Rr$1(vn,fn){const[En,Cn,_i]=vn.split("."),An=$r$1(_i);if(An.length!==64)throw new Error("Invalid signature length");const ba=An.slice(0,32).toString("hex"),xa=An.slice(32,64).toString("hex"),$a=`${En}.${Cn}`,rs=new sha256.SHA256().update(Buffer$7.from($a)).digest(),ts=Nn(fn),is=Buffer$7.from(rs).toString("hex");if(!ts.verify(is,{r:ba,s:xa}))throw new Error("Invalid signature");return decodeJWT(vn).payload}const Sn="irn";function Ir$1(vn){return(vn==null?void 0:vn.relay)||{protocol:Sn}}function jr$1(vn){const fn=C$3[vn];if(typeof fn>"u")throw new Error(`Relay Protocol not supported: ${vn}`);return fn}var Tr$1=Object.defineProperty,Pr$1=Object.defineProperties,Ar$1=Object.getOwnPropertyDescriptors,$n=Object.getOwnPropertySymbols,Cr$1=Object.prototype.hasOwnProperty,Ur$1=Object.prototype.propertyIsEnumerable,Rn=(vn,fn,En)=>fn in vn?Tr$1(vn,fn,{enumerable:!0,configurable:!0,writable:!0,value:En}):vn[fn]=En,In=(vn,fn)=>{for(var En in fn||(fn={}))Cr$1.call(fn,En)&&Rn(vn,En,fn[En]);if($n)for(var En of $n(fn))Ur$1.call(fn,En)&&Rn(vn,En,fn[En]);return vn},_r$1=(vn,fn)=>Pr$1(vn,Ar$1(fn));function jn(vn,fn="-"){const En={},Cn="relay"+fn;return Object.keys(vn).forEach(_i=>{if(_i.startsWith(Cn)){const An=_i.replace(Cn,""),ba=vn[_i];En[An]=ba}}),En}function kr$1(vn){if(!vn.includes("wc:")){const $a=le(vn);$a!=null&&$a.includes("wc:")&&(vn=$a)}vn=vn.includes("wc://")?vn.replace("wc://",""):vn,vn=vn.includes("wc:")?vn.replace("wc:",""):vn;const fn=vn.indexOf(":"),En=vn.indexOf("?")!==-1?vn.indexOf("?"):void 0,Cn=vn.substring(0,fn),_i=vn.substring(fn+1,En).split("@"),An=typeof En<"u"?vn.substring(En):"",ba=queryString.parse(An),xa=typeof ba.methods=="string"?ba.methods.split(","):void 0;return{protocol:Cn,topic:Tn(_i[0]),version:parseInt(_i[1],10),symKey:ba.symKey,relay:jn(ba),methods:xa,expiryTimestamp:ba.expiryTimestamp?parseInt(ba.expiryTimestamp,10):void 0}}function Tn(vn){return vn.startsWith("//")?vn.substring(2):vn}function Pn(vn,fn="-"){const En="relay",Cn={};return Object.keys(vn).forEach(_i=>{const An=En+fn+_i;vn[_i]&&(Cn[An]=vn[_i])}),Cn}function Dr$1(vn){return`${vn.protocol}:${vn.topic}@${vn.version}?`+queryString.stringify(In(_r$1(In({symKey:vn.symKey},Pn(vn.relay)),{expiryTimestamp:vn.expiryTimestamp}),vn.methods?{methods:vn.methods.join(",")}:{}))}function xr$1(vn,fn,En){return`${vn}?wc_ev=${En}&topic=${fn}`}function C$1(vn){const fn=[];return vn.forEach(En=>{const[Cn,_i]=En.split(":");fn.push(`${Cn}:${_i}`)}),fn}function Un(vn){const fn=[];return Object.values(vn).forEach(En=>{fn.push(...C$1(En.accounts))}),fn}function _n(vn,fn){const En=[];return Object.values(vn).forEach(Cn=>{C$1(Cn.accounts).includes(fn)&&En.push(...Cn.methods)}),En}function kn(vn,fn){const En=[];return Object.values(vn).forEach(Cn=>{C$1(Cn.accounts).includes(fn)&&En.push(...Cn.events)}),En}function xn(vn){const fn={};return vn==null||vn.forEach(En=>{const[Cn,_i]=En.split(":");fn[Cn]||(fn[Cn]={accounts:[],chains:[],events:[]}),fn[Cn].accounts.push(En),fn[Cn].chains.push(`${Cn}:${_i}`)}),fn}function Jr$1(vn,fn){fn=fn.map(Cn=>Cn.replace("did:pkh:",""));const En=xn(fn);for(const[Cn,_i]of Object.entries(En))_i.methods?_i.methods=N(_i.methods,vn):_i.methods=vn,_i.events=["chainChanged","accountsChanged"];return En}const Vn={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Mn={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function S$2(vn,fn){const{message:En,code:Cn}=Mn[vn];return{message:fn?`${En} ${fn}`:En,code:Cn}}function U$1(vn,fn){const{message:En,code:Cn}=Vn[vn];return{message:fn?`${En} ${fn}`:En,code:Cn}}function L$1(vn,fn){return!!Array.isArray(vn)}function Z$2(vn){return Object.getPrototypeOf(vn)===Object.prototype&&Object.keys(vn).length}function I$2(vn){return typeof vn>"u"}function b$1(vn,fn){return fn&&I$2(vn)?!0:typeof vn=="string"&&!!vn.trim().length}function X$1(vn,fn){return typeof vn=="number"&&!isNaN(vn)}function zr$1(vn,fn){const{requiredNamespaces:En}=fn,Cn=Object.keys(vn.namespaces),_i=Object.keys(En);let An=!0;return $$2(_i,Cn)?(Cn.forEach(ba=>{const{accounts:xa,methods:$a,events:rs}=vn.namespaces[ba],ts=C$1(xa),is=En[ba];(!$$2(W$1(ba,is),ts)||!$$2(is.methods,$a)||!$$2(is.events,rs))&&(An=!1)}),An):!1}function F$1(vn){return b$1(vn,!1)&&vn.includes(":")?vn.split(":").length===2:!1}function Kn(vn){if(b$1(vn,!1)&&vn.includes(":")){const fn=vn.split(":");if(fn.length===3){const En=fn[0]+":"+fn[1];return!!fn[2]&&F$1(En)}}return!1}function Gr$1(vn){function fn(En){try{return typeof new URL(En)<"u"}catch{return!1}}try{if(b$1(vn,!1)){if(fn(vn))return!0;const En=le(vn);return fn(En)}}catch{}return!1}function Yr$1(vn){var fn;return(fn=vn==null?void 0:vn.proposer)==null?void 0:fn.publicKey}function Qr$1(vn){return vn==null?void 0:vn.topic}function Zr$1(vn,fn){let En=null;return b$1(vn==null?void 0:vn.publicKey,!1)||(En=S$2("MISSING_OR_INVALID",`${fn} controller public key should be a string`)),En}function Se(vn){let fn=!0;return L$1(vn)?vn.length&&(fn=vn.every(En=>b$1(En,!1))):fn=!1,fn}function Ln(vn,fn,En){let Cn=null;return L$1(fn)&&fn.length?fn.forEach(_i=>{Cn||F$1(_i)||(Cn=U$1("UNSUPPORTED_CHAINS",`${En}, chain ${_i} should be a string and conform to "namespace:chainId" format`))}):F$1(vn)||(Cn=U$1("UNSUPPORTED_CHAINS",`${En}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),Cn}function Fn(vn,fn,En){let Cn=null;return Object.entries(vn).forEach(([_i,An])=>{if(Cn)return;const ba=Ln(_i,W$1(_i,An),`${fn} ${En}`);ba&&(Cn=ba)}),Cn}function qn(vn,fn){let En=null;return L$1(vn)?vn.forEach(Cn=>{En||Kn(Cn)||(En=U$1("UNSUPPORTED_ACCOUNTS",`${fn}, account ${Cn} should be a string and conform to "namespace:chainId:address" format`))}):En=U$1("UNSUPPORTED_ACCOUNTS",`${fn}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),En}function Bn(vn,fn){let En=null;return Object.values(vn).forEach(Cn=>{if(En)return;const _i=qn(Cn==null?void 0:Cn.accounts,`${fn} namespace`);_i&&(En=_i)}),En}function Hn(vn,fn){let En=null;return Se(vn==null?void 0:vn.methods)?Se(vn==null?void 0:vn.events)||(En=U$1("UNSUPPORTED_EVENTS",`${fn}, events should be an array of strings or empty array for no events`)):En=U$1("UNSUPPORTED_METHODS",`${fn}, methods should be an array of strings or empty array for no methods`),En}function $e(vn,fn){let En=null;return Object.values(vn).forEach(Cn=>{if(En)return;const _i=Hn(Cn,`${fn}, namespace`);_i&&(En=_i)}),En}function Xr$1(vn,fn,En){let Cn=null;if(vn&&Z$2(vn)){const _i=$e(vn,fn);_i&&(Cn=_i);const An=Fn(vn,fn,En);An&&(Cn=An)}else Cn=S$2("MISSING_OR_INVALID",`${fn}, ${En} should be an object with data`);return Cn}function Wn(vn,fn){let En=null;if(vn&&Z$2(vn)){const Cn=$e(vn,fn);Cn&&(En=Cn);const _i=Bn(vn,fn);_i&&(En=_i)}else En=S$2("MISSING_OR_INVALID",`${fn}, namespaces should be an object with data`);return En}function Jn(vn){return b$1(vn.protocol,!0)}function eo(vn,fn){let En=!1;return vn?vn&&L$1(vn)&&vn.length&&vn.forEach(Cn=>{En=Jn(Cn)}):En=!0,En}function no(vn){return typeof vn=="number"}function to(vn){return typeof vn<"u"&&typeof vn!==null}function ro(vn){return!(!vn||typeof vn!="object"||!vn.code||!X$1(vn.code)||!vn.message||!b$1(vn.message,!1))}function oo(vn){return!(I$2(vn)||!b$1(vn.method,!1))}function so(vn){return!(I$2(vn)||I$2(vn.result)&&I$2(vn.error)||!X$1(vn.id)||!b$1(vn.jsonrpc,!1))}function io(vn){return!(I$2(vn)||!b$1(vn.name,!1))}function co(vn,fn){return!(!F$1(fn)||!Un(vn).includes(fn))}function ao(vn,fn,En){return b$1(En,!1)?_n(vn,fn).includes(En):!1}function uo(vn,fn,En){return b$1(En,!1)?kn(vn,fn).includes(En):!1}function zn(vn,fn,En){let Cn=null;const _i=lo(vn),An=fo(fn),ba=Object.keys(_i),xa=Object.keys(An),$a=Gn(Object.keys(vn)),rs=Gn(Object.keys(fn)),ts=$a.filter(is=>!rs.includes(is));return ts.length&&(Cn=S$2("NON_CONFORMING_NAMESPACES",`${En} namespaces keys don't satisfy requiredNamespaces.
      Required: ${ts.toString()}
      Received: ${Object.keys(fn).toString()}`)),$$2(ba,xa)||(Cn=S$2("NON_CONFORMING_NAMESPACES",`${En} namespaces chains don't satisfy required namespaces.
      Required: ${ba.toString()}
      Approved: ${xa.toString()}`)),Object.keys(fn).forEach(is=>{if(!is.includes(":")||Cn)return;const cs=C$1(fn[is].accounts);cs.includes(is)||(Cn=S$2("NON_CONFORMING_NAMESPACES",`${En} namespaces accounts don't satisfy namespace accounts for ${is}
        Required: ${is}
        Approved: ${cs.toString()}`))}),ba.forEach(is=>{Cn||($$2(_i[is].methods,An[is].methods)?$$2(_i[is].events,An[is].events)||(Cn=S$2("NON_CONFORMING_NAMESPACES",`${En} namespaces events don't satisfy namespace events for ${is}`)):Cn=S$2("NON_CONFORMING_NAMESPACES",`${En} namespaces methods don't satisfy namespace methods for ${is}`))}),Cn}function lo(vn){const fn={};return Object.keys(vn).forEach(En=>{var Cn;En.includes(":")?fn[En]=vn[En]:(Cn=vn[En].chains)==null||Cn.forEach(_i=>{fn[_i]={methods:vn[En].methods,events:vn[En].events}})}),fn}function Gn(vn){return[...new Set(vn.map(fn=>fn.includes(":")?fn.split(":")[0]:fn))]}function fo(vn){const fn={};return Object.keys(vn).forEach(En=>{if(En.includes(":"))fn[En]=vn[En];else{const Cn=C$1(vn[En].accounts);Cn==null||Cn.forEach(_i=>{fn[_i]={accounts:vn[En].accounts.filter(An=>An.includes(`${_i}:`)),methods:vn[En].methods,events:vn[En].events}})}}),fn}function po(vn,fn){return X$1(vn)&&vn<=fn.max&&vn>=fn.min}function mo(){const vn=P$2();return new Promise(fn=>{switch(vn){case y$1.browser:fn(Yn());break;case y$1.reactNative:fn(Qn());break;case y$1.node:fn(Zn());break;default:fn(!0)}})}function Yn(){return V$2()&&(navigator==null?void 0:navigator.onLine)}async function Qn(){if(_$1()&&typeof global$1<"u"&&global$1!=null&&global$1.NetInfo){const vn=await(global$1==null?void 0:global$1.NetInfo.fetch());return vn==null?void 0:vn.isConnected}return!0}function Zn(){return!0}function ho(vn){switch(P$2()){case y$1.browser:Xn(vn);break;case y$1.reactNative:et$1(vn);break}}function Xn(vn){!_$1()&&V$2()&&(window.addEventListener("online",()=>vn(!0)),window.addEventListener("offline",()=>vn(!1)))}function et$1(vn){_$1()&&typeof global$1<"u"&&global$1!=null&&global$1.NetInfo&&(global$1==null||global$1.NetInfo.addEventListener(fn=>vn(fn==null?void 0:fn.isConnected)))}const Re={};class yo{static get(fn){return Re[fn]}static set(fn,En){Re[fn]=En}static delete(fn){delete Re[fn]}}const ye$1="wc",De=2,ie$1="core",x$2=`${ye$1}@2:${ie$1}:`,Ye={name:ie$1,logger:"error"},Je={database:":memory:"},Xe="crypto",me$1="client_ed25519_seed",We=cjs$3.ONE_DAY,Ze="keychain",Qe="0.3",et="messages",tt="0.3",it$1=cjs$3.SIX_HOURS,st$1="publisher",rt$1="irn",nt$1="error",be$1="wss://relay.walletconnect.org",ot$1="relayer",v$2={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},at$1="_subscription",I$1={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},ht$2=.1,se$1="2.17.1",M={link_mode:"link_mode",relay:"relay"},ct$1="0.3",lt$1="WALLETCONNECT_CLIENT_ID",fe="WALLETCONNECT_LINK_MODE_APPS",O$1={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},ut$1="subscription",dt$1="0.3",pt$1=cjs$3.FIVE_SECONDS*1e3,gt$2="pairing",yt$1="0.3",B$1={wc_pairingDelete:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:cjs$3.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:cjs$3.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:0},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:0}}},V$1={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},P$1={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Dt="history",mt="0.3",bt$1="expirer",S$1={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},ft="0.3",_t$1="verify-api",vs$1="https://verify.walletconnect.com",Et$1="https://verify.walletconnect.org",J$1=Et$1,vt$1=`${J$1}/v3`,wt$1=[vs$1,Et$1],It="echo",Tt$1="https://echo.walletconnect.com",z$2={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},$$1={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Is$1={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Ts$1={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Cs={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},Ps$1={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Ct=.1,Pt$1="event-client",St$1=86400,Rt="https://pulse.walletconnect.org/batch";function Ss$1(vn,fn){if(vn.length>=255)throw new TypeError("Alphabet too long");for(var En=new Uint8Array(256),Cn=0;Cn<En.length;Cn++)En[Cn]=255;for(var _i=0;_i<vn.length;_i++){var An=vn.charAt(_i),ba=An.charCodeAt(0);if(En[ba]!==255)throw new TypeError(An+" is ambiguous");En[ba]=_i}var xa=vn.length,$a=vn.charAt(0),rs=Math.log(xa)/Math.log(256),ts=Math.log(256)/Math.log(xa);function is(ps){if(ps instanceof Uint8Array||(ArrayBuffer.isView(ps)?ps=new Uint8Array(ps.buffer,ps.byteOffset,ps.byteLength):Array.isArray(ps)&&(ps=Uint8Array.from(ps))),!(ps instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(ps.length===0)return"";for(var bs=0,e0=0,gs=0,Ds=ps.length;gs!==Ds&&ps[gs]===0;)gs++,bs++;for(var i0=(Ds-gs)*ts+1>>>0,n0=new Uint8Array(i0);gs!==Ds;){for(var c0=ps[gs],d0=0,o0=i0-1;(c0!==0||d0<e0)&&o0!==-1;o0--,d0++)c0+=256*n0[o0]>>>0,n0[o0]=c0%xa>>>0,c0=c0/xa>>>0;if(c0!==0)throw new Error("Non-zero carry");e0=d0,gs++}for(var g0=i0-e0;g0!==i0&&n0[g0]===0;)g0++;for(var w0=$a.repeat(bs);g0<i0;++g0)w0+=vn.charAt(n0[g0]);return w0}function cs(ps){if(typeof ps!="string")throw new TypeError("Expected String");if(ps.length===0)return new Uint8Array;var bs=0;if(ps[bs]!==" "){for(var e0=0,gs=0;ps[bs]===$a;)e0++,bs++;for(var Ds=(ps.length-bs)*rs+1>>>0,i0=new Uint8Array(Ds);ps[bs];){var n0=En[ps.charCodeAt(bs)];if(n0===255)return;for(var c0=0,d0=Ds-1;(n0!==0||c0<gs)&&d0!==-1;d0--,c0++)n0+=xa*i0[d0]>>>0,i0[d0]=n0%256>>>0,n0=n0/256>>>0;if(n0!==0)throw new Error("Non-zero carry");gs=c0,bs++}if(ps[bs]!==" "){for(var o0=Ds-gs;o0!==Ds&&i0[o0]===0;)o0++;for(var g0=new Uint8Array(e0+(Ds-o0)),w0=e0;o0!==Ds;)g0[w0++]=i0[o0++];return g0}}}function us(ps){var bs=cs(ps);if(bs)return bs;throw new Error(`Non-${fn} character`)}return{encode:is,decodeUnsafe:cs,decode:us}}var Rs$1=Ss$1,xs=Rs$1;const xt$1=vn=>{if(vn instanceof Uint8Array&&vn.constructor.name==="Uint8Array")return vn;if(vn instanceof ArrayBuffer)return new Uint8Array(vn);if(ArrayBuffer.isView(vn))return new Uint8Array(vn.buffer,vn.byteOffset,vn.byteLength);throw new Error("Unknown type, must be binary type")},Os=vn=>new TextEncoder().encode(vn),As=vn=>new TextDecoder().decode(vn);let Ns$1=class{constructor(fn,En,Cn){this.name=fn,this.prefix=En,this.baseEncode=Cn}encode(fn){if(fn instanceof Uint8Array)return`${this.prefix}${this.baseEncode(fn)}`;throw Error("Unknown type, must be binary type")}};class zs{constructor(fn,En,Cn){if(this.name=fn,this.prefix=En,En.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=En.codePointAt(0),this.baseDecode=Cn}decode(fn){if(typeof fn=="string"){if(fn.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(fn)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(fn.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(fn){return Ot$1(this,fn)}}class Ls{constructor(fn){this.decoders=fn}or(fn){return Ot$1(this,fn)}decode(fn){const En=fn[0],Cn=this.decoders[En];if(Cn)return Cn.decode(fn);throw RangeError(`Unable to decode multibase string ${JSON.stringify(fn)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ot$1=(vn,fn)=>new Ls({...vn.decoders||{[vn.prefix]:vn},...fn.decoders||{[fn.prefix]:fn}});class $s{constructor(fn,En,Cn,_i){this.name=fn,this.prefix=En,this.baseEncode=Cn,this.baseDecode=_i,this.encoder=new Ns$1(fn,En,Cn),this.decoder=new zs(fn,En,_i)}encode(fn){return this.encoder.encode(fn)}decode(fn){return this.decoder.decode(fn)}}const re=({name:vn,prefix:fn,encode:En,decode:Cn})=>new $s(vn,fn,En,Cn),X=({prefix:vn,name:fn,alphabet:En})=>{const{encode:Cn,decode:_i}=xs(En,fn);return re({prefix:vn,name:fn,encode:Cn,decode:An=>xt$1(_i(An))})},ks=(vn,fn,En,Cn)=>{const _i={};for(let ts=0;ts<fn.length;++ts)_i[fn[ts]]=ts;let An=vn.length;for(;vn[An-1]==="=";)--An;const ba=new Uint8Array(An*En/8|0);let xa=0,$a=0,rs=0;for(let ts=0;ts<An;++ts){const is=_i[vn[ts]];if(is===void 0)throw new SyntaxError(`Non-${Cn} character`);$a=$a<<En|is,xa+=En,xa>=8&&(xa-=8,ba[rs++]=255&$a>>xa)}if(xa>=En||255&$a<<8-xa)throw new SyntaxError("Unexpected end of data");return ba},Ms=(vn,fn,En)=>{const Cn=fn[fn.length-1]==="=",_i=(1<<En)-1;let An="",ba=0,xa=0;for(let $a=0;$a<vn.length;++$a)for(xa=xa<<8|vn[$a],ba+=8;ba>En;)ba-=En,An+=fn[_i&xa>>ba];if(ba&&(An+=fn[_i&xa<<En-ba]),Cn)for(;An.length*En&7;)An+="=";return An},f$1=({name:vn,prefix:fn,bitsPerChar:En,alphabet:Cn})=>re({prefix:fn,name:vn,encode(_i){return Ms(_i,Cn,En)},decode(_i){return ks(_i,Cn,En,vn)}}),Us=re({prefix:"\0",name:"identity",encode:vn=>As(vn),decode:vn=>Os(vn)});var Fs=Object.freeze({__proto__:null,identity:Us});const Ks=f$1({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Bs=Object.freeze({__proto__:null,base2:Ks});const Vs=f$1({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var js=Object.freeze({__proto__:null,base8:Vs});const qs$1=X({prefix:"9",name:"base10",alphabet:"0123456789"});var Gs=Object.freeze({__proto__:null,base10:qs$1});const Hs=f$1({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ys=f$1({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Js=Object.freeze({__proto__:null,base16:Hs,base16upper:Ys});const Xs=f$1({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ws=f$1({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Zs=f$1({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Qs=f$1({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),er=f$1({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),tr=f$1({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ir=f$1({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),sr=f$1({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),rr=f$1({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var nr=Object.freeze({__proto__:null,base32:Xs,base32upper:Ws,base32pad:Zs,base32padupper:Qs,base32hex:er,base32hexupper:tr,base32hexpad:ir,base32hexpadupper:sr,base32z:rr});const or=X({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ar=X({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var hr=Object.freeze({__proto__:null,base36:or,base36upper:ar});const cr=X({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),lr=X({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ur=Object.freeze({__proto__:null,base58btc:cr,base58flickr:lr});const dr=f$1({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),pr=f$1({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),gr=f$1({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),yr=f$1({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Dr=Object.freeze({__proto__:null,base64:dr,base64pad:pr,base64url:gr,base64urlpad:yr});const At$1=Array.from(""),mr=At$1.reduce((vn,fn,En)=>(vn[En]=fn,vn),[]),br=At$1.reduce((vn,fn,En)=>(vn[fn.codePointAt(0)]=En,vn),[]);function fr(vn){return vn.reduce((fn,En)=>(fn+=mr[En],fn),"")}function _r(vn){const fn=[];for(const En of vn){const Cn=br[En.codePointAt(0)];if(Cn===void 0)throw new Error(`Non-base256emoji character: ${En}`);fn.push(Cn)}return new Uint8Array(fn)}const Er=re({prefix:"",name:"base256emoji",encode:fr,decode:_r});var vr=Object.freeze({__proto__:null,base256emoji:Er}),wr=zt,Nt$1=128,Ir=127,Tr=~Ir,Cr=Math.pow(2,31);function zt(vn,fn,En){fn=fn||[],En=En||0;for(var Cn=En;vn>=Cr;)fn[En++]=vn&255|Nt$1,vn/=128;for(;vn&Tr;)fn[En++]=vn&255|Nt$1,vn>>>=7;return fn[En]=vn|0,zt.bytes=En-Cn+1,fn}var Pr=_e$1,Sr=128,Lt$1=127;function _e$1(vn,Cn){var En=0,Cn=Cn||0,_i=0,An=Cn,ba,xa=vn.length;do{if(An>=xa)throw _e$1.bytes=0,new RangeError("Could not decode varint");ba=vn[An++],En+=_i<28?(ba&Lt$1)<<_i:(ba&Lt$1)*Math.pow(2,_i),_i+=7}while(ba>=Sr);return _e$1.bytes=An-Cn,En}var Rr=Math.pow(2,7),xr=Math.pow(2,14),Or=Math.pow(2,21),Ar=Math.pow(2,28),Nr=Math.pow(2,35),zr=Math.pow(2,42),Lr=Math.pow(2,49),$r=Math.pow(2,56),kr=Math.pow(2,63),Mr=function(vn){return vn<Rr?1:vn<xr?2:vn<Or?3:vn<Ar?4:vn<Nr?5:vn<zr?6:vn<Lr?7:vn<$r?8:vn<kr?9:10},Ur={encode:wr,decode:Pr,encodingLength:Mr},$t=Ur;const kt$1=(vn,fn,En=0)=>($t.encode(vn,fn,En),fn),Mt=vn=>$t.encodingLength(vn),Ee=(vn,fn)=>{const En=fn.byteLength,Cn=Mt(vn),_i=Cn+Mt(En),An=new Uint8Array(_i+En);return kt$1(vn,An,0),kt$1(En,An,Cn),An.set(fn,_i),new Fr(vn,En,fn,An)};class Fr{constructor(fn,En,Cn,_i){this.code=fn,this.size=En,this.digest=Cn,this.bytes=_i}}const Ut=({name:vn,code:fn,encode:En})=>new Kr(vn,fn,En);class Kr{constructor(fn,En,Cn){this.name=fn,this.code=En,this.encode=Cn}digest(fn){if(fn instanceof Uint8Array){const En=this.encode(fn);return En instanceof Uint8Array?Ee(this.code,En):En.then(Cn=>Ee(this.code,Cn))}else throw Error("Unknown type, must be binary type")}}const Ft=vn=>async fn=>new Uint8Array(await crypto.subtle.digest(vn,fn)),Br=Ut({name:"sha2-256",code:18,encode:Ft("SHA-256")}),Vr=Ut({name:"sha2-512",code:19,encode:Ft("SHA-512")});var jr=Object.freeze({__proto__:null,sha256:Br,sha512:Vr});const Kt=0,qr="identity",Bt$1=xt$1,Gr=vn=>Ee(Kt,Bt$1(vn)),Hr={code:Kt,name:qr,encode:Bt$1,digest:Gr};var Yr=Object.freeze({__proto__:null,identity:Hr});new TextEncoder,new TextDecoder;const Vt={...Fs,...Bs,...js,...Gs,...Js,...nr,...hr,...ur,...Dr,...vr};({...jr,...Yr});function Jr(vn=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(vn):new Uint8Array(vn)}function jt$1(vn,fn,En,Cn){return{name:vn,prefix:fn,encoder:{name:vn,prefix:fn,encode:En},decoder:{decode:Cn}}}const qt=jt$1("utf8","u",vn=>"u"+new TextDecoder("utf8").decode(vn),vn=>new TextEncoder().encode(vn.substring(1))),ve=jt$1("ascii","a",vn=>{let fn="a";for(let En=0;En<vn.length;En++)fn+=String.fromCharCode(vn[En]);return fn},vn=>{vn=vn.substring(1);const fn=Jr(vn.length);for(let En=0;En<vn.length;En++)fn[En]=vn.charCodeAt(En);return fn}),Xr={utf8:qt,"utf-8":qt,hex:Vt.base16,latin1:ve,ascii:ve,binary:ve,...Vt};function Wr(vn,fn="utf8"){const En=Xr[fn];if(!En)throw new Error(`Unsupported encoding "${fn}"`);return(fn==="utf8"||fn==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(vn,"utf8"):En.decoder.decode(`${En.prefix}${vn}`)}let Gt$1=class{constructor(fn,En){this.core=fn,this.logger=En,this.keychain=new Map,this.name=Ze,this.version=Qe,this.initialized=!1,this.storagePrefix=x$2,this.init=async()=>{if(!this.initialized){const Cn=await this.getKeyChain();typeof Cn<"u"&&(this.keychain=Cn),this.initialized=!0}},this.has=Cn=>(this.isInitialized(),this.keychain.has(Cn)),this.set=async(Cn,_i)=>{this.isInitialized(),this.keychain.set(Cn,_i),await this.persist()},this.get=Cn=>{this.isInitialized();const _i=this.keychain.get(Cn);if(typeof _i>"u"){const{message:An}=S$2("NO_MATCHING_KEY",`${this.name}: ${Cn}`);throw new Error(An)}return _i},this.del=async Cn=>{this.isInitialized(),this.keychain.delete(Cn),await this.persist()},this.core=fn,this.logger=E$1(En,this.name)}get context(){return y$5(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(fn){await this.core.storage.setItem(this.storageKey,Tt$2(fn))}async getKeyChain(){const fn=await this.core.storage.getItem(this.storageKey);return typeof fn<"u"?Pt$2(fn):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:fn}=S$2("NOT_INITIALIZED",this.name);throw new Error(fn)}}};class Ht{constructor(fn,En,Cn){this.core=fn,this.logger=En,this.name=Xe,this.randomSessionIdentifier=pr$1(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=_i=>(this.isInitialized(),this.keychain.has(_i)),this.getClientId=async()=>{this.isInitialized();const _i=await this.getClientSeed(),An=generateKeyPair(_i);return encodeIss(An.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const _i=fr$1();return this.setPrivateKey(_i.publicKey,_i.privateKey)},this.signJWT=async _i=>{this.isInitialized();const An=await this.getClientSeed(),ba=generateKeyPair(An),xa=this.randomSessionIdentifier;return await signJWT(xa,_i,We,ba)},this.generateSharedKey=(_i,An,ba)=>{this.isInitialized();const xa=this.getPrivateKey(_i),$a=mr$1(xa,An);return this.setSymKey($a,ba)},this.setSymKey=async(_i,An)=>{this.isInitialized();const ba=An||hr$1(_i);return await this.keychain.set(ba,_i),ba},this.deleteKeyPair=async _i=>{this.isInitialized(),await this.keychain.del(_i)},this.deleteSymKey=async _i=>{this.isInitialized(),await this.keychain.del(_i)},this.encode=async(_i,An,ba)=>{this.isInitialized();const xa=On(ba),$a=safeJsonStringify(An);if(Nr$1(xa))return vr$1($a,ba==null?void 0:ba.encoding);if(Or$1(xa)){const cs=xa.senderPublicKey,us=xa.receiverPublicKey;_i=await this.generateSharedKey(cs,us)}const rs=this.getSymKey(_i),{type:ts,senderPublicKey:is}=xa;return gr$1({type:ts,symKey:rs,message:$a,senderPublicKey:is,encoding:ba==null?void 0:ba.encoding})},this.decode=async(_i,An,ba)=>{this.isInitialized();const xa=wr$1(An,ba);if(Nr$1(xa)){const $a=Er$1(An,ba==null?void 0:ba.encoding);return safeJsonParse($a)}if(Or$1(xa)){const $a=xa.receiverPublicKey,rs=xa.senderPublicKey;_i=await this.generateSharedKey($a,rs)}try{const $a=this.getSymKey(_i),rs=br$1({symKey:$a,encoded:An,encoding:ba==null?void 0:ba.encoding});return safeJsonParse(rs)}catch($a){this.logger.error(`Failed to decode message from topic: '${_i}', clientId: '${await this.getClientId()}'`),this.logger.error($a)}},this.getPayloadType=(_i,An=ge)=>{const ba=Q({encoded:_i,encoding:An});return A(ba.type)},this.getPayloadSenderPublicKey=(_i,An=ge)=>{const ba=Q({encoded:_i,encoding:An});return ba.senderPublicKey?toString$1(ba.senderPublicKey,g$1):void 0},this.core=fn,this.logger=E$1(En,this.name),this.keychain=Cn||new Gt$1(this.core,this.logger)}get context(){return y$5(this.logger)}async setPrivateKey(fn,En){return await this.keychain.set(fn,En),fn}getPrivateKey(fn){return this.keychain.get(fn)}async getClientSeed(){let fn="";try{fn=this.keychain.get(me$1)}catch{fn=pr$1(),await this.keychain.set(me$1,fn)}return Wr(fn,"base16")}getSymKey(fn){return this.keychain.get(fn)}isInitialized(){if(!this.initialized){const{message:fn}=S$2("NOT_INITIALIZED",this.name);throw new Error(fn)}}}class Yt extends a{constructor(fn,En){super(fn,En),this.logger=fn,this.core=En,this.messages=new Map,this.name=et,this.version=tt,this.initialized=!1,this.storagePrefix=x$2,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const Cn=await this.getRelayerMessages();typeof Cn<"u"&&(this.messages=Cn),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(Cn){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(Cn)}finally{this.initialized=!0}}},this.set=async(Cn,_i)=>{this.isInitialized();const An=yr$1(_i);let ba=this.messages.get(Cn);return typeof ba>"u"&&(ba={}),typeof ba[An]<"u"||(ba[An]=_i,this.messages.set(Cn,ba),await this.persist()),An},this.get=Cn=>{this.isInitialized();let _i=this.messages.get(Cn);return typeof _i>"u"&&(_i={}),_i},this.has=(Cn,_i)=>{this.isInitialized();const An=this.get(Cn),ba=yr$1(_i);return typeof An[ba]<"u"},this.del=async Cn=>{this.isInitialized(),this.messages.delete(Cn),await this.persist()},this.logger=E$1(fn,this.name),this.core=En}get context(){return y$5(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(fn){await this.core.storage.setItem(this.storageKey,Tt$2(fn))}async getRelayerMessages(){const fn=await this.core.storage.getItem(this.storageKey);return typeof fn<"u"?Pt$2(fn):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:fn}=S$2("NOT_INITIALIZED",this.name);throw new Error(fn)}}}class Zr extends g$2{constructor(fn,En){super(fn,En),this.relayer=fn,this.logger=En,this.events=new eventsExports.EventEmitter,this.name=st$1,this.queue=new Map,this.publishTimeout=cjs$3.toMiliseconds(cjs$3.ONE_MINUTE),this.failedPublishTimeout=cjs$3.toMiliseconds(cjs$3.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(Cn,_i,An)=>{var ba;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:Cn,message:_i,opts:An}});const xa=(An==null?void 0:An.ttl)||it$1,$a=Ir$1(An),rs=(An==null?void 0:An.prompt)||!1,ts=(An==null?void 0:An.tag)||0,is=(An==null?void 0:An.id)||getBigIntRpcId().toString(),cs={topic:Cn,message:_i,opts:{ttl:xa,relay:$a,prompt:rs,tag:ts,id:is,attestation:An==null?void 0:An.attestation}},us=`Failed to publish payload, please try again. id:${is} tag:${ts}`,ps=Date.now();let bs,e0=1;try{for(;bs===void 0;){if(Date.now()-ps>this.publishTimeout)throw new Error(us);this.logger.trace({id:is,attempts:e0},`publisher.publish - attempt ${e0}`),bs=await await kt$2(this.rpcPublish(Cn,_i,xa,$a,rs,ts,is,An==null?void 0:An.attestation).catch(gs=>this.logger.warn(gs)),this.publishTimeout,us),e0++,bs||await new Promise(gs=>setTimeout(gs,this.failedPublishTimeout))}this.relayer.events.emit(v$2.publish,cs),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:is,topic:Cn,message:_i,opts:An}})}catch(gs){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(gs),(ba=An==null?void 0:An.internal)!=null&&ba.throwOnFailedPublish)throw gs;this.queue.set(is,cs)}},this.on=(Cn,_i)=>{this.events.on(Cn,_i)},this.once=(Cn,_i)=>{this.events.once(Cn,_i)},this.off=(Cn,_i)=>{this.events.off(Cn,_i)},this.removeListener=(Cn,_i)=>{this.events.removeListener(Cn,_i)},this.relayer=fn,this.logger=E$1(En,this.name),this.registerEventListeners()}get context(){return y$5(this.logger)}rpcPublish(fn,En,Cn,_i,An,ba,xa,$a){var rs,ts,is,cs;const us={method:jr$1(_i.protocol).publish,params:{topic:fn,message:En,ttl:Cn,prompt:An,tag:ba,attestation:$a},id:xa};return I$2((rs=us.params)==null?void 0:rs.prompt)&&((ts=us.params)==null||delete ts.prompt),I$2((is=us.params)==null?void 0:is.tag)&&((cs=us.params)==null||delete cs.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:us}),this.relayer.request(us)}removeRequestFromQueue(fn){this.queue.delete(fn)}checkQueue(){this.queue.forEach(async fn=>{const{topic:En,message:Cn,opts:_i}=fn;await this.publish(En,Cn,_i)})}registerEventListeners(){this.relayer.core.heartbeat.on(r$2.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(v$2.connection_stalled);return}this.checkQueue()}),this.relayer.on(v$2.message_ack,fn=>{this.removeRequestFromQueue(fn.id.toString())})}}class Qr{constructor(){this.map=new Map,this.set=(fn,En)=>{const Cn=this.get(fn);this.exists(fn,En)||this.map.set(fn,[...Cn,En])},this.get=fn=>this.map.get(fn)||[],this.exists=(fn,En)=>this.get(fn).includes(En),this.delete=(fn,En)=>{if(typeof En>"u"){this.map.delete(fn);return}if(!this.map.has(fn))return;const Cn=this.get(fn);if(!this.exists(fn,En))return;const _i=Cn.filter(An=>An!==En);if(!_i.length){this.map.delete(fn);return}this.map.set(fn,_i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var en$1=Object.defineProperty,tn=Object.defineProperties,sn=Object.getOwnPropertyDescriptors,Jt=Object.getOwnPropertySymbols,rn=Object.prototype.hasOwnProperty,nn=Object.prototype.propertyIsEnumerable,Xt=(vn,fn,En)=>fn in vn?en$1(vn,fn,{enumerable:!0,configurable:!0,writable:!0,value:En}):vn[fn]=En,W=(vn,fn)=>{for(var En in fn||(fn={}))rn.call(fn,En)&&Xt(vn,En,fn[En]);if(Jt)for(var En of Jt(fn))nn.call(fn,En)&&Xt(vn,En,fn[En]);return vn},we$1=(vn,fn)=>tn(vn,sn(fn));class Wt extends d{constructor(fn,En){super(fn,En),this.relayer=fn,this.logger=En,this.subscriptions=new Map,this.topicMap=new Qr,this.events=new eventsExports.EventEmitter,this.name=ut$1,this.version=dt$1,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=x$2,this.subscribeTimeout=cjs$3.toMiliseconds(cjs$3.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(Cn,_i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:Cn,opts:_i}});try{const An=Ir$1(_i),ba={topic:Cn,relay:An,transportType:_i==null?void 0:_i.transportType};this.pending.set(Cn,ba);const xa=await this.rpcSubscribe(Cn,An,_i);return typeof xa=="string"&&(this.onSubscribe(xa,ba),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:Cn,opts:_i}})),xa}catch(An){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(An),An}},this.unsubscribe=async(Cn,_i)=>{await this.restartToComplete(),this.isInitialized(),typeof(_i==null?void 0:_i.id)<"u"?await this.unsubscribeById(Cn,_i.id,_i):await this.unsubscribeByTopic(Cn,_i)},this.isSubscribed=async Cn=>{if(this.topics.includes(Cn))return!0;const _i=`${this.pendingSubscriptionWatchLabel}_${Cn}`;return await new Promise((An,ba)=>{const xa=new cjs$3.Watch;xa.start(_i);const $a=setInterval(()=>{!this.pending.has(Cn)&&this.topics.includes(Cn)&&(clearInterval($a),xa.stop(_i),An(!0)),xa.elapsed(_i)>=pt$1&&(clearInterval($a),xa.stop(_i),ba(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(Cn,_i)=>{this.events.on(Cn,_i)},this.once=(Cn,_i)=>{this.events.once(Cn,_i)},this.off=(Cn,_i)=>{this.events.off(Cn,_i)},this.removeListener=(Cn,_i)=>{this.events.removeListener(Cn,_i)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=fn,this.logger=E$1(En,this.name),this.clientId=""}get context(){return y$5(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(fn,En){let Cn=!1;try{Cn=this.getSubscription(fn).topic===En}catch{}return Cn}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(fn,En){const Cn=this.topicMap.get(fn);await Promise.all(Cn.map(async _i=>await this.unsubscribeById(fn,_i,En)))}async unsubscribeById(fn,En,Cn){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:fn,id:En,opts:Cn}});try{const _i=Ir$1(Cn);await this.rpcUnsubscribe(fn,En,_i);const An=U$1("USER_DISCONNECTED",`${this.name}, ${fn}`);await this.onUnsubscribe(fn,En,An),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:fn,id:En,opts:Cn}})}catch(_i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(_i),_i}}async rpcSubscribe(fn,En,Cn){var _i;(Cn==null?void 0:Cn.transportType)===M.relay&&await this.restartToComplete();const An={method:jr$1(En.protocol).subscribe,params:{topic:fn}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:An});const ba=(_i=Cn==null?void 0:Cn.internal)==null?void 0:_i.throwOnFailedPublish;try{const xa=yr$1(fn+this.clientId);if((Cn==null?void 0:Cn.transportType)===M.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(An).catch(rs=>this.logger.warn(rs))},cjs$3.toMiliseconds(cjs$3.ONE_SECOND)),xa;const $a=await kt$2(this.relayer.request(An).catch(rs=>this.logger.warn(rs)),this.subscribeTimeout,`Subscribing to ${fn} failed, please try again`);if(!$a&&ba)throw new Error(`Subscribing to ${fn} failed, please try again`);return $a?xa:null}catch(xa){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(v$2.connection_stalled),ba)throw xa}return null}async rpcBatchSubscribe(fn){if(!fn.length)return;const En=fn[0].relay,Cn={method:jr$1(En.protocol).batchSubscribe,params:{topics:fn.map(_i=>_i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:Cn});try{return await await kt$2(this.relayer.request(Cn).catch(_i=>this.logger.warn(_i)),this.subscribeTimeout)}catch{this.relayer.events.emit(v$2.connection_stalled)}}async rpcBatchFetchMessages(fn){if(!fn.length)return;const En=fn[0].relay,Cn={method:jr$1(En.protocol).batchFetchMessages,params:{topics:fn.map(An=>An.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:Cn});let _i;try{_i=await await kt$2(this.relayer.request(Cn).catch(An=>this.logger.warn(An)),this.subscribeTimeout)}catch{this.relayer.events.emit(v$2.connection_stalled)}return _i}rpcUnsubscribe(fn,En,Cn){const _i={method:jr$1(Cn.protocol).unsubscribe,params:{topic:fn,id:En}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:_i}),this.relayer.request(_i)}onSubscribe(fn,En){this.setSubscription(fn,we$1(W({},En),{id:fn})),this.pending.delete(En.topic)}onBatchSubscribe(fn){fn.length&&fn.forEach(En=>{this.setSubscription(En.id,W({},En)),this.pending.delete(En.topic)})}async onUnsubscribe(fn,En,Cn){this.events.removeAllListeners(En),this.hasSubscription(En,fn)&&this.deleteSubscription(En,Cn),await this.relayer.messages.del(fn)}async setRelayerSubscriptions(fn){await this.relayer.core.storage.setItem(this.storageKey,fn)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(fn,En){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:fn,subscription:En}),this.addSubscription(fn,En)}addSubscription(fn,En){this.subscriptions.set(fn,W({},En)),this.topicMap.set(En.topic,fn),this.events.emit(O$1.created,En)}getSubscription(fn){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:fn});const En=this.subscriptions.get(fn);if(!En){const{message:Cn}=S$2("NO_MATCHING_KEY",`${this.name}: ${fn}`);throw new Error(Cn)}return En}deleteSubscription(fn,En){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:fn,reason:En});const Cn=this.getSubscription(fn);this.subscriptions.delete(fn),this.topicMap.delete(Cn.topic,fn),this.events.emit(O$1.deleted,we$1(W({},Cn),{reason:En}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(O$1.sync)}async reset(){if(this.cached.length){const fn=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let En=0;En<fn;En++){const Cn=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(Cn),await this.batchSubscribe(Cn)}}this.events.emit(O$1.resubscribed)}async restore(){try{const fn=await this.getRelayerSubscriptions();if(typeof fn>"u"||!fn.length)return;if(this.subscriptions.size){const{message:En}=S$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(En),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(En)}this.cached=fn,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(fn){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(fn)}}async batchSubscribe(fn){if(!fn.length)return;const En=await this.rpcBatchSubscribe(fn);L$1(En)&&this.onBatchSubscribe(En.map((Cn,_i)=>we$1(W({},fn[_i]),{id:Cn})))}async batchFetchMessages(fn){if(!fn.length)return;this.logger.trace(`Fetching batch messages for ${fn.length} subscriptions`);const En=await this.rpcBatchFetchMessages(fn);En&&En.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(En.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const fn=[];this.pending.forEach(En=>{fn.push(En)}),await this.batchSubscribe(fn),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(r$2.pulse,async()=>{await this.checkPending()}),this.events.on(O$1.created,async fn=>{const En=O$1.created;this.logger.info(`Emitting ${En}`),this.logger.debug({type:"event",event:En,data:fn}),await this.persist()}),this.events.on(O$1.deleted,async fn=>{const En=O$1.deleted;this.logger.info(`Emitting ${En}`),this.logger.debug({type:"event",event:En,data:fn}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:fn}=S$2("NOT_INITIALIZED",this.name);throw new Error(fn)}}async restartToComplete(){!this.relayer.connected&&!this.relayer.connecting&&await this.relayer.transportOpen(),this.restartInProgress&&await new Promise(fn=>{const En=setInterval(()=>{this.restartInProgress||(clearInterval(En),fn())},this.pollingInterval)})}}var on=Object.defineProperty,Zt=Object.getOwnPropertySymbols,an=Object.prototype.hasOwnProperty,hn=Object.prototype.propertyIsEnumerable,Qt=(vn,fn,En)=>fn in vn?on(vn,fn,{enumerable:!0,configurable:!0,writable:!0,value:En}):vn[fn]=En,ei=(vn,fn)=>{for(var En in fn||(fn={}))an.call(fn,En)&&Qt(vn,En,fn[En]);if(Zt)for(var En of Zt(fn))hn.call(fn,En)&&Qt(vn,En,fn[En]);return vn};class ti extends u{constructor(fn){super(fn),this.protocol="wc",this.version=2,this.events=new eventsExports.EventEmitter,this.name=ot$1,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=cjs$3.toMiliseconds(cjs$3.THIRTY_SECONDS+cjs$3.ONE_SECOND),this.request=async En=>{var Cn,_i;this.logger.debug("Publishing Request Payload");const An=En.id||getBigIntRpcId().toString();await this.toEstablishConnection();try{const ba=this.provider.request(En);this.requestsInFlight.set(An,{promise:ba,request:En}),this.logger.trace({id:An,method:En.method,topic:(Cn=En.params)==null?void 0:Cn.topic},"relayer.request - attempt to publish...");const xa=await new Promise(async($a,rs)=>{const ts=()=>{rs(new Error(`relayer.request - publish interrupted, id: ${An}`))};this.provider.on(I$1.disconnect,ts);const is=await ba;this.provider.off(I$1.disconnect,ts),$a(is)});return this.logger.trace({id:An,method:En.method,topic:(_i=En.params)==null?void 0:_i.topic},"relayer.request - published"),xa}catch(ba){throw this.logger.debug(`Failed to Publish Request: ${An}`),ba}finally{this.requestsInFlight.delete(An)}},this.resetPingTimeout=()=>{if(ce())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var En,Cn,_i;(_i=(Cn=(En=this.provider)==null?void 0:En.connection)==null?void 0:Cn.socket)==null||_i.terminate()},this.heartBeatTimeout)}catch(En){this.logger.warn(En)}},this.onPayloadHandler=En=>{this.onProviderPayload(En),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(v$2.connect)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=En=>{this.logger.error(En),this.events.emit(v$2.error,En),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(I$1.payload,this.onPayloadHandler),this.provider.on(I$1.connect,this.onConnectHandler),this.provider.on(I$1.disconnect,this.onDisconnectHandler),this.provider.on(I$1.error,this.onProviderErrorHandler)},this.core=fn.core,this.logger=typeof fn.logger<"u"&&typeof fn.logger!="string"?E$1(fn.logger,this.name):Hg(k$3({level:fn.logger||nt$1})),this.messages=new Yt(this.logger,fn.core),this.subscriber=new Wt(this,this.logger),this.publisher=new Zr(this,this.logger),this.relayUrl=(fn==null?void 0:fn.relayUrl)||be$1,this.projectId=fn.projectId,this.bundleId=Ot$2(),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(fn){this.logger.warn(fn)}}get context(){return y$5(this.logger)}get connected(){var fn,En,Cn;return((Cn=(En=(fn=this.provider)==null?void 0:fn.connection)==null?void 0:En.socket)==null?void 0:Cn.readyState)===1}get connecting(){var fn,En,Cn;return((Cn=(En=(fn=this.provider)==null?void 0:fn.connection)==null?void 0:En.socket)==null?void 0:Cn.readyState)===0}async publish(fn,En,Cn){this.isInitialized(),await this.publisher.publish(fn,En,Cn),await this.recordMessageEvent({topic:fn,message:En,publishedAt:Date.now(),transportType:M.relay})}async subscribe(fn,En){var Cn,_i,An;this.isInitialized(),(En==null?void 0:En.transportType)==="relay"&&await this.toEstablishConnection();const ba=typeof((Cn=En==null?void 0:En.internal)==null?void 0:Cn.throwOnFailedPublish)>"u"?!0:(_i=En==null?void 0:En.internal)==null?void 0:_i.throwOnFailedPublish;let xa=((An=this.subscriber.topicMap.get(fn))==null?void 0:An[0])||"",$a;const rs=ts=>{ts.topic===fn&&(this.subscriber.off(O$1.created,rs),$a())};return await Promise.all([new Promise(ts=>{$a=ts,this.subscriber.on(O$1.created,rs)}),new Promise(async(ts,is)=>{xa=await this.subscriber.subscribe(fn,ei({internal:{throwOnFailedPublish:ba}},En)).catch(cs=>{ba&&is(cs)})||xa,ts()})]),xa}async unsubscribe(fn,En){this.isInitialized(),await this.subscriber.unsubscribe(fn,En)}on(fn,En){this.events.on(fn,En)}once(fn,En){this.events.once(fn,En)}off(fn,En){this.events.off(fn,En)}removeListener(fn,En){this.events.removeListener(fn,En)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(fn=>fn.promise))}catch(fn){this.logger.warn(fn)}this.hasExperiencedNetworkDisruption||this.connected?await kt$2(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(fn){await this.confirmOnlineStateOrThrow(),fn&&fn!==this.relayUrl&&(this.relayUrl=fn,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(En,Cn)=>{const _i=()=>{this.provider.off(I$1.disconnect,_i),Cn(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(I$1.disconnect,_i),await kt$2(this.provider.connect(),cjs$3.toMiliseconds(cjs$3.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(An=>{Cn(An)}).finally(()=>{clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0}),this.subscriber.start().catch(An=>{this.logger.error(An),this.onDisconnectHandler()}),this.hasExperiencedNetworkDisruption=!1,En()})}catch(En){this.logger.error(En);const Cn=En;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(Cn.message))throw En}finally{this.connectionAttemptInProgress=!1}}async restartTransport(fn){this.connectionAttemptInProgress||(this.relayUrl=fn||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await mo())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(fn){if((fn==null?void 0:fn.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const En=fn.sort((Cn,_i)=>Cn.publishedAt-_i.publishedAt);this.logger.trace(`Batch of ${En.length} message events sorted`);for(const Cn of En)try{await this.onMessageEvent(Cn)}catch(_i){this.logger.warn(_i)}this.logger.trace(`Batch of ${En.length} message events processed`)}async onLinkMessageEvent(fn,En){const{topic:Cn}=fn;if(!En.sessionExists){const _i=Mt$1(cjs$3.FIVE_MINUTES),An={topic:Cn,expiry:_i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(Cn,An)}this.events.emit(v$2.message,fn),await this.recordMessageEvent(fn)}startPingTimeout(){var fn,En,Cn,_i,An;if(ce())try{(En=(fn=this.provider)==null?void 0:fn.connection)!=null&&En.socket&&((An=(_i=(Cn=this.provider)==null?void 0:Cn.connection)==null?void 0:_i.socket)==null||An.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(ba){this.logger.warn(ba)}}isConnectionStalled(fn){return this.staleConnectionErrors.some(En=>fn.includes(En))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const fn=await this.core.crypto.signJWT(this.relayUrl);this.provider=new o$2(new f$3($t$1({sdkVersion:se$1,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:fn,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(fn){const{topic:En,message:Cn}=fn;await this.messages.set(En,Cn)}async shouldIgnoreMessageEvent(fn){const{topic:En,message:Cn}=fn;if(!Cn||Cn.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${Cn}`),!0;if(!await this.subscriber.isSubscribed(En))return this.logger.debug(`Ignoring message for non-subscribed topic ${En}`),!0;const _i=this.messages.has(En,Cn);return _i&&this.logger.debug(`Ignoring duplicate message: ${Cn}`),_i}async onProviderPayload(fn){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:fn}),isJsonRpcRequest(fn)){if(!fn.method.endsWith(at$1))return;const En=fn.params,{topic:Cn,message:_i,publishedAt:An,attestation:ba}=En.data,xa={topic:Cn,message:_i,publishedAt:An,transportType:M.relay,attestation:ba};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(ei({type:"event",event:En.id},xa)),this.events.emit(En.id,xa),await this.acknowledgePayload(fn),await this.onMessageEvent(xa)}else isJsonRpcResponse(fn)&&this.events.emit(v$2.message_ack,fn)}async onMessageEvent(fn){await this.shouldIgnoreMessageEvent(fn)||(this.events.emit(v$2.message,fn),await this.recordMessageEvent(fn))}async acknowledgePayload(fn){const En=formatJsonRpcResult(fn.id,!0);await this.provider.connection.send(En)}unregisterProviderListeners(){this.provider.off(I$1.payload,this.onPayloadHandler),this.provider.off(I$1.connect,this.onConnectHandler),this.provider.off(I$1.disconnect,this.onDisconnectHandler),this.provider.off(I$1.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let fn=await mo();ho(async En=>{fn!==En&&(fn=En,En?await this.restartTransport().catch(Cn=>this.logger.error(Cn)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(v$2.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(fn=>this.logger.error(fn))},cjs$3.toMiliseconds(ht$2))))}isInitialized(){if(!this.initialized){const{message:fn}=S$2("NOT_INITIALIZED",this.name);throw new Error(fn)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise(fn=>{const En=setInterval(()=>{this.connected&&(clearInterval(En),fn())},this.connectionStatusPollingInterval)}),await this.transportOpen())}}var cn=Object.defineProperty,ii=Object.getOwnPropertySymbols,ln=Object.prototype.hasOwnProperty,un=Object.prototype.propertyIsEnumerable,si=(vn,fn,En)=>fn in vn?cn(vn,fn,{enumerable:!0,configurable:!0,writable:!0,value:En}):vn[fn]=En,ri=(vn,fn)=>{for(var En in fn||(fn={}))ln.call(fn,En)&&si(vn,En,fn[En]);if(ii)for(var En of ii(fn))un.call(fn,En)&&si(vn,En,fn[En]);return vn};class ni extends p$1{constructor(fn,En,Cn,_i=x$2,An=void 0){super(fn,En,Cn,_i),this.core=fn,this.logger=En,this.name=Cn,this.map=new Map,this.version=ct$1,this.cached=[],this.initialized=!1,this.storagePrefix=x$2,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(ba=>{this.getKey&&ba!==null&&!I$2(ba)?this.map.set(this.getKey(ba),ba):Yr$1(ba)?this.map.set(ba.id,ba):Qr$1(ba)&&this.map.set(ba.topic,ba)}),this.cached=[],this.initialized=!0)},this.set=async(ba,xa)=>{this.isInitialized(),this.map.has(ba)?await this.update(ba,xa):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:ba,value:xa}),this.map.set(ba,xa),await this.persist())},this.get=ba=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:ba}),this.getData(ba)),this.getAll=ba=>(this.isInitialized(),ba?this.values.filter(xa=>Object.keys(ba).every($a=>Yi(xa[$a],ba[$a]))):this.values),this.update=async(ba,xa)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:ba,update:xa});const $a=ri(ri({},this.getData(ba)),xa);this.map.set(ba,$a),await this.persist()},this.delete=async(ba,xa)=>{this.isInitialized(),this.map.has(ba)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:ba,reason:xa}),this.map.delete(ba),this.addToRecentlyDeleted(ba),await this.persist())},this.logger=E$1(En,this.name),this.storagePrefix=_i,this.getKey=An}get context(){return y$5(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(fn){this.recentlyDeleted.push(fn),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(fn){await this.core.storage.setItem(this.storageKey,fn)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(fn){const En=this.map.get(fn);if(!En){if(this.recentlyDeleted.includes(fn)){const{message:_i}=S$2("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${fn}`);throw this.logger.error(_i),new Error(_i)}const{message:Cn}=S$2("NO_MATCHING_KEY",`${this.name}: ${fn}`);throw this.logger.error(Cn),new Error(Cn)}return En}async persist(){await this.setDataStore(this.values)}async restore(){try{const fn=await this.getDataStore();if(typeof fn>"u"||!fn.length)return;if(this.map.size){const{message:En}=S$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(En),new Error(En)}this.cached=fn,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(fn){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(fn)}}isInitialized(){if(!this.initialized){const{message:fn}=S$2("NOT_INITIALIZED",this.name);throw new Error(fn)}}}class oi{constructor(fn,En){this.core=fn,this.logger=En,this.name=gt$2,this.version=yt$1,this.events=new Wg,this.initialized=!1,this.storagePrefix=x$2,this.ignoredPayloadTypes=[D$2],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:Cn})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...Cn])]},this.create=async Cn=>{this.isInitialized();const _i=pr$1(),An=await this.core.crypto.setSymKey(_i),ba=Mt$1(cjs$3.FIVE_MINUTES),xa={protocol:rt$1},$a={topic:An,expiry:ba,relay:xa,active:!1,methods:Cn==null?void 0:Cn.methods},rs=Dr$1({protocol:this.core.protocol,version:this.core.version,topic:An,symKey:_i,relay:xa,expiryTimestamp:ba,methods:Cn==null?void 0:Cn.methods});return this.events.emit(V$1.create,$a),this.core.expirer.set(An,ba),await this.pairings.set(An,$a),await this.core.relayer.subscribe(An,{transportType:Cn==null?void 0:Cn.transportType}),{topic:An,uri:rs}},this.pair=async Cn=>{this.isInitialized();const _i=this.core.eventClient.createEvent({properties:{topic:Cn==null?void 0:Cn.uri,trace:[z$2.pairing_started]}});this.isValidPair(Cn,_i);const{topic:An,symKey:ba,relay:xa,expiryTimestamp:$a,methods:rs}=kr$1(Cn.uri);_i.props.properties.topic=An,_i.addTrace(z$2.pairing_uri_validation_success),_i.addTrace(z$2.pairing_uri_not_expired);let ts;if(this.pairings.keys.includes(An)){if(ts=this.pairings.get(An),_i.addTrace(z$2.existing_pairing),ts.active)throw _i.setError($$1.active_pairing_already_exists),new Error(`Pairing already exists: ${An}. Please try again with a new connection URI.`);_i.addTrace(z$2.pairing_not_expired)}const is=$a||Mt$1(cjs$3.FIVE_MINUTES),cs={topic:An,relay:xa,expiry:is,active:!1,methods:rs};this.core.expirer.set(An,is),await this.pairings.set(An,cs),_i.addTrace(z$2.store_new_pairing),Cn.activatePairing&&await this.activate({topic:An}),this.events.emit(V$1.create,cs),_i.addTrace(z$2.emit_inactive_pairing),this.core.crypto.keychain.has(An)||await this.core.crypto.setSymKey(ba,An),_i.addTrace(z$2.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{_i.setError($$1.no_internet_connection)}try{await this.core.relayer.subscribe(An,{relay:xa})}catch(us){throw _i.setError($$1.subscribe_pairing_topic_failure),us}return _i.addTrace(z$2.subscribe_pairing_topic_success),cs},this.activate=async({topic:Cn})=>{this.isInitialized();const _i=Mt$1(cjs$3.THIRTY_DAYS);this.core.expirer.set(Cn,_i),await this.pairings.update(Cn,{active:!0,expiry:_i})},this.ping=async Cn=>{this.isInitialized(),await this.isValidPing(Cn);const{topic:_i}=Cn;if(this.pairings.keys.includes(_i)){const An=await this.sendRequest(_i,"wc_pairingPing",{}),{done:ba,resolve:xa,reject:$a}=_t$2();this.events.once(Lt$2("pairing_ping",An),({error:rs})=>{rs?$a(rs):xa()}),await ba()}},this.updateExpiry=async({topic:Cn,expiry:_i})=>{this.isInitialized(),await this.pairings.update(Cn,{expiry:_i})},this.updateMetadata=async({topic:Cn,metadata:_i})=>{this.isInitialized(),await this.pairings.update(Cn,{peerMetadata:_i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async Cn=>{this.isInitialized(),await this.isValidDisconnect(Cn);const{topic:_i}=Cn;this.pairings.keys.includes(_i)&&(await this.sendRequest(_i,"wc_pairingDelete",U$1("USER_DISCONNECTED")),await this.deletePairing(_i))},this.formatUriFromPairing=Cn=>{this.isInitialized();const{topic:_i,relay:An,expiry:ba,methods:xa}=Cn,$a=this.core.crypto.keychain.get(_i);return Dr$1({protocol:this.core.protocol,version:this.core.version,topic:_i,symKey:$a,relay:An,expiryTimestamp:ba,methods:xa})},this.sendRequest=async(Cn,_i,An)=>{const ba=formatJsonRpcRequest(_i,An),xa=await this.core.crypto.encode(Cn,ba),$a=B$1[_i].req;return this.core.history.set(Cn,ba),this.core.relayer.publish(Cn,xa,$a),ba.id},this.sendResult=async(Cn,_i,An)=>{const ba=formatJsonRpcResult(Cn,An),xa=await this.core.crypto.encode(_i,ba),$a=await this.core.history.get(_i,Cn),rs=B$1[$a.request.method].res;await this.core.relayer.publish(_i,xa,rs),await this.core.history.resolve(ba)},this.sendError=async(Cn,_i,An)=>{const ba=formatJsonRpcError(Cn,An),xa=await this.core.crypto.encode(_i,ba),$a=await this.core.history.get(_i,Cn),rs=B$1[$a.request.method]?B$1[$a.request.method].res:B$1.unregistered_method.res;await this.core.relayer.publish(_i,xa,rs),await this.core.history.resolve(ba)},this.deletePairing=async(Cn,_i)=>{await this.core.relayer.unsubscribe(Cn),await Promise.all([this.pairings.delete(Cn,U$1("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(Cn),_i?Promise.resolve():this.core.expirer.del(Cn)])},this.cleanup=async()=>{const Cn=this.pairings.getAll().filter(_i=>Kt$1(_i.expiry));await Promise.all(Cn.map(_i=>this.deletePairing(_i.topic)))},this.onRelayEventRequest=Cn=>{const{topic:_i,payload:An}=Cn;switch(An.method){case"wc_pairingPing":return this.onPairingPingRequest(_i,An);case"wc_pairingDelete":return this.onPairingDeleteRequest(_i,An);default:return this.onUnknownRpcMethodRequest(_i,An)}},this.onRelayEventResponse=async Cn=>{const{topic:_i,payload:An}=Cn,ba=(await this.core.history.get(_i,An.id)).request.method;switch(ba){case"wc_pairingPing":return this.onPairingPingResponse(_i,An);default:return this.onUnknownRpcMethodResponse(ba)}},this.onPairingPingRequest=async(Cn,_i)=>{const{id:An}=_i;try{this.isValidPing({topic:Cn}),await this.sendResult(An,Cn,!0),this.events.emit(V$1.ping,{id:An,topic:Cn})}catch(ba){await this.sendError(An,Cn,ba),this.logger.error(ba)}},this.onPairingPingResponse=(Cn,_i)=>{const{id:An}=_i;setTimeout(()=>{isJsonRpcResult(_i)?this.events.emit(Lt$2("pairing_ping",An),{}):isJsonRpcError(_i)&&this.events.emit(Lt$2("pairing_ping",An),{error:_i.error})},500)},this.onPairingDeleteRequest=async(Cn,_i)=>{const{id:An}=_i;try{this.isValidDisconnect({topic:Cn}),await this.deletePairing(Cn),this.events.emit(V$1.delete,{id:An,topic:Cn})}catch(ba){await this.sendError(An,Cn,ba),this.logger.error(ba)}},this.onUnknownRpcMethodRequest=async(Cn,_i)=>{const{id:An,method:ba}=_i;try{if(this.registeredMethods.includes(ba))return;const xa=U$1("WC_METHOD_UNSUPPORTED",ba);await this.sendError(An,Cn,xa),this.logger.error(xa)}catch(xa){await this.sendError(An,Cn,xa),this.logger.error(xa)}},this.onUnknownRpcMethodResponse=Cn=>{this.registeredMethods.includes(Cn)||this.logger.error(U$1("WC_METHOD_UNSUPPORTED",Cn))},this.isValidPair=(Cn,_i)=>{var An;if(!to(Cn)){const{message:xa}=S$2("MISSING_OR_INVALID",`pair() params: ${Cn}`);throw _i.setError($$1.malformed_pairing_uri),new Error(xa)}if(!Gr$1(Cn.uri)){const{message:xa}=S$2("MISSING_OR_INVALID",`pair() uri: ${Cn.uri}`);throw _i.setError($$1.malformed_pairing_uri),new Error(xa)}const ba=kr$1(Cn==null?void 0:Cn.uri);if(!((An=ba==null?void 0:ba.relay)!=null&&An.protocol)){const{message:xa}=S$2("MISSING_OR_INVALID","pair() uri#relay-protocol");throw _i.setError($$1.malformed_pairing_uri),new Error(xa)}if(!(ba!=null&&ba.symKey)){const{message:xa}=S$2("MISSING_OR_INVALID","pair() uri#symKey");throw _i.setError($$1.malformed_pairing_uri),new Error(xa)}if(ba!=null&&ba.expiryTimestamp&&cjs$3.toMiliseconds(ba==null?void 0:ba.expiryTimestamp)<Date.now()){_i.setError($$1.pairing_expired);const{message:xa}=S$2("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(xa)}},this.isValidPing=async Cn=>{if(!to(Cn)){const{message:An}=S$2("MISSING_OR_INVALID",`ping() params: ${Cn}`);throw new Error(An)}const{topic:_i}=Cn;await this.isValidPairingTopic(_i)},this.isValidDisconnect=async Cn=>{if(!to(Cn)){const{message:An}=S$2("MISSING_OR_INVALID",`disconnect() params: ${Cn}`);throw new Error(An)}const{topic:_i}=Cn;await this.isValidPairingTopic(_i)},this.isValidPairingTopic=async Cn=>{if(!b$1(Cn,!1)){const{message:_i}=S$2("MISSING_OR_INVALID",`pairing topic should be a string: ${Cn}`);throw new Error(_i)}if(!this.pairings.keys.includes(Cn)){const{message:_i}=S$2("NO_MATCHING_KEY",`pairing topic doesn't exist: ${Cn}`);throw new Error(_i)}if(Kt$1(this.pairings.get(Cn).expiry)){await this.deletePairing(Cn);const{message:_i}=S$2("EXPIRED",`pairing topic: ${Cn}`);throw new Error(_i)}},this.core=fn,this.logger=E$1(En,this.name),this.pairings=new ni(this.core,this.logger,this.name,this.storagePrefix)}get context(){return y$5(this.logger)}isInitialized(){if(!this.initialized){const{message:fn}=S$2("NOT_INITIALIZED",this.name);throw new Error(fn)}}registerRelayerEvents(){this.core.relayer.on(v$2.message,async fn=>{const{topic:En,message:Cn,transportType:_i}=fn;if(!this.pairings.keys.includes(En)||_i===M.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(Cn)))return;const An=await this.core.crypto.decode(En,Cn);try{isJsonRpcRequest(An)?(this.core.history.set(En,An),this.onRelayEventRequest({topic:En,payload:An})):isJsonRpcResponse(An)&&(await this.core.history.resolve(An),await this.onRelayEventResponse({topic:En,payload:An}),this.core.history.delete(En,An.id))}catch(ba){this.logger.error(ba)}})}registerExpirerEvents(){this.core.expirer.on(S$1.expired,async fn=>{const{topic:En}=Vt$1(fn.target);En&&this.pairings.keys.includes(En)&&(await this.deletePairing(En,!0),this.events.emit(V$1.expire,{topic:En}))})}}class ai extends h{constructor(fn,En){super(fn,En),this.core=fn,this.logger=En,this.records=new Map,this.events=new eventsExports.EventEmitter,this.name=Dt,this.version=mt,this.cached=[],this.initialized=!1,this.storagePrefix=x$2,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(Cn=>this.records.set(Cn.id,Cn)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(Cn,_i,An)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:Cn,request:_i,chainId:An}),this.records.has(_i.id))return;const ba={id:_i.id,topic:Cn,request:{method:_i.method,params:_i.params||null},chainId:An,expiry:Mt$1(cjs$3.THIRTY_DAYS)};this.records.set(ba.id,ba),this.persist(),this.events.emit(P$1.created,ba)},this.resolve=async Cn=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:Cn}),!this.records.has(Cn.id))return;const _i=await this.getRecord(Cn.id);typeof _i.response>"u"&&(_i.response=isJsonRpcError(Cn)?{error:Cn.error}:{result:Cn.result},this.records.set(_i.id,_i),this.persist(),this.events.emit(P$1.updated,_i))},this.get=async(Cn,_i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:Cn,id:_i}),await this.getRecord(_i)),this.delete=(Cn,_i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:_i}),this.values.forEach(An=>{if(An.topic===Cn){if(typeof _i<"u"&&An.id!==_i)return;this.records.delete(An.id),this.events.emit(P$1.deleted,An)}}),this.persist()},this.exists=async(Cn,_i)=>(this.isInitialized(),this.records.has(_i)?(await this.getRecord(_i)).topic===Cn:!1),this.on=(Cn,_i)=>{this.events.on(Cn,_i)},this.once=(Cn,_i)=>{this.events.once(Cn,_i)},this.off=(Cn,_i)=>{this.events.off(Cn,_i)},this.removeListener=(Cn,_i)=>{this.events.removeListener(Cn,_i)},this.logger=E$1(En,this.name)}get context(){return y$5(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const fn=[];return this.values.forEach(En=>{if(typeof En.response<"u")return;const Cn={topic:En.topic,request:formatJsonRpcRequest(En.request.method,En.request.params,En.id),chainId:En.chainId};return fn.push(Cn)}),fn}async setJsonRpcRecords(fn){await this.core.storage.setItem(this.storageKey,fn)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(fn){this.isInitialized();const En=this.records.get(fn);if(!En){const{message:Cn}=S$2("NO_MATCHING_KEY",`${this.name}: ${fn}`);throw new Error(Cn)}return En}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(P$1.sync)}async restore(){try{const fn=await this.getJsonRpcRecords();if(typeof fn>"u"||!fn.length)return;if(this.records.size){const{message:En}=S$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(En),new Error(En)}this.cached=fn,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(fn){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(fn)}}registerEventListeners(){this.events.on(P$1.created,fn=>{const En=P$1.created;this.logger.info(`Emitting ${En}`),this.logger.debug({type:"event",event:En,record:fn})}),this.events.on(P$1.updated,fn=>{const En=P$1.updated;this.logger.info(`Emitting ${En}`),this.logger.debug({type:"event",event:En,record:fn})}),this.events.on(P$1.deleted,fn=>{const En=P$1.deleted;this.logger.info(`Emitting ${En}`),this.logger.debug({type:"event",event:En,record:fn})}),this.core.heartbeat.on(r$2.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let fn=!1;this.records.forEach(En=>{cjs$3.toMiliseconds(En.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${En.id}`),this.records.delete(En.id),this.events.emit(P$1.deleted,En,!1),fn=!0)}),fn&&this.persist()}catch(fn){this.logger.warn(fn)}}isInitialized(){if(!this.initialized){const{message:fn}=S$2("NOT_INITIALIZED",this.name);throw new Error(fn)}}}class hi extends x$3{constructor(fn,En){super(fn,En),this.core=fn,this.logger=En,this.expirations=new Map,this.events=new eventsExports.EventEmitter,this.name=bt$1,this.version=ft,this.cached=[],this.initialized=!1,this.storagePrefix=x$2,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(Cn=>this.expirations.set(Cn.target,Cn)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=Cn=>{try{const _i=this.formatTarget(Cn);return typeof this.getExpiration(_i)<"u"}catch{return!1}},this.set=(Cn,_i)=>{this.isInitialized();const An=this.formatTarget(Cn),ba={target:An,expiry:_i};this.expirations.set(An,ba),this.checkExpiry(An,ba),this.events.emit(S$1.created,{target:An,expiration:ba})},this.get=Cn=>{this.isInitialized();const _i=this.formatTarget(Cn);return this.getExpiration(_i)},this.del=Cn=>{if(this.isInitialized(),this.has(Cn)){const _i=this.formatTarget(Cn),An=this.getExpiration(_i);this.expirations.delete(_i),this.events.emit(S$1.deleted,{target:_i,expiration:An})}},this.on=(Cn,_i)=>{this.events.on(Cn,_i)},this.once=(Cn,_i)=>{this.events.once(Cn,_i)},this.off=(Cn,_i)=>{this.events.off(Cn,_i)},this.removeListener=(Cn,_i)=>{this.events.removeListener(Cn,_i)},this.logger=E$1(En,this.name)}get context(){return y$5(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(fn){if(typeof fn=="string")return Dt$1(fn);if(typeof fn=="number")return xt$2(fn);const{message:En}=S$2("UNKNOWN_TYPE",`Target type: ${typeof fn}`);throw new Error(En)}async setExpirations(fn){await this.core.storage.setItem(this.storageKey,fn)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(S$1.sync)}async restore(){try{const fn=await this.getExpirations();if(typeof fn>"u"||!fn.length)return;if(this.expirations.size){const{message:En}=S$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(En),new Error(En)}this.cached=fn,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(fn){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(fn)}}getExpiration(fn){const En=this.expirations.get(fn);if(!En){const{message:Cn}=S$2("NO_MATCHING_KEY",`${this.name}: ${fn}`);throw this.logger.warn(Cn),new Error(Cn)}return En}checkExpiry(fn,En){const{expiry:Cn}=En;cjs$3.toMiliseconds(Cn)-Date.now()<=0&&this.expire(fn,En)}expire(fn,En){this.expirations.delete(fn),this.events.emit(S$1.expired,{target:fn,expiration:En})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((fn,En)=>this.checkExpiry(En,fn))}registerEventListeners(){this.core.heartbeat.on(r$2.pulse,()=>this.checkExpirations()),this.events.on(S$1.created,fn=>{const En=S$1.created;this.logger.info(`Emitting ${En}`),this.logger.debug({type:"event",event:En,data:fn}),this.persist()}),this.events.on(S$1.expired,fn=>{const En=S$1.expired;this.logger.info(`Emitting ${En}`),this.logger.debug({type:"event",event:En,data:fn}),this.persist()}),this.events.on(S$1.deleted,fn=>{const En=S$1.deleted;this.logger.info(`Emitting ${En}`),this.logger.debug({type:"event",event:En,data:fn}),this.persist()})}isInitialized(){if(!this.initialized){const{message:fn}=S$2("NOT_INITIALIZED",this.name);throw new Error(fn)}}}class ci extends y$2{constructor(fn,En,Cn){super(fn,En,Cn),this.core=fn,this.logger=En,this.store=Cn,this.name=_t$1,this.verifyUrlV3=vt$1,this.storagePrefix=x$2,this.version=De,this.init=async()=>{var _i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&cjs$3.toMiliseconds((_i=this.publicKey)==null?void 0:_i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async _i=>{if(!V$2()||this.isDevEnv)return;const An=window.location.origin,{id:ba,decryptedId:xa}=_i,$a=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${An}&id=${ba}&decryptedId=${xa}`;try{const rs=getDocument_1(),ts=this.startAbortTimer(cjs$3.ONE_SECOND*5),is=await new Promise((cs,us)=>{const ps=()=>{window.removeEventListener("message",e0),rs.body.removeChild(bs),us("attestation aborted")};this.abortController.signal.addEventListener("abort",ps);const bs=rs.createElement("iframe");bs.src=$a,bs.style.display="none",bs.addEventListener("error",ps,{signal:this.abortController.signal});const e0=gs=>{if(gs.data&&typeof gs.data=="string")try{const Ds=JSON.parse(gs.data);if(Ds.type==="verify_attestation"){if(decodeJWT(Ds.attestation).payload.id!==ba)return;clearInterval(ts),rs.body.removeChild(bs),this.abortController.signal.removeEventListener("abort",ps),window.removeEventListener("message",e0),cs(Ds.attestation===null?"":Ds.attestation)}}catch(Ds){this.logger.warn(Ds)}};rs.body.appendChild(bs),window.addEventListener("message",e0,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",is),is}catch(rs){this.logger.warn(rs)}return""},this.resolve=async _i=>{if(this.isDevEnv)return"";const{attestationId:An,hash:ba,encryptedId:xa}=_i;if(An===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(An){if(decodeJWT(An).payload.id!==xa)return;const rs=await this.isValidJwtAttestation(An);if(rs){if(!rs.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return rs}}if(!ba)return;const $a=this.getVerifyUrl(_i==null?void 0:_i.verifyUrl);return this.fetchAttestation(ba,$a)},this.fetchAttestation=async(_i,An)=>{this.logger.debug(`resolving attestation: ${_i} from url: ${An}`);const ba=this.startAbortTimer(cjs$3.ONE_SECOND*5),xa=await fetch(`${An}/attestation/${_i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(ba),xa.status===200?await xa.json():void 0},this.getVerifyUrl=_i=>{let An=_i||J$1;return wt$1.includes(An)||(this.logger.info(`verify url: ${An}, not included in trusted list, assigning default: ${J$1}`),An=J$1),An},this.fetchPublicKey=async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const _i=this.startAbortTimer(cjs$3.FIVE_SECONDS),An=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(_i),await An.json()}catch(_i){this.logger.warn(_i)}},this.persistPublicKey=async _i=>{this.logger.debug("persisting public key to local storage",_i),await this.store.setItem(this.storeKey,_i),this.publicKey=_i},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async _i=>{const An=await this.getPublicKey();try{if(An)return this.validateAttestation(_i,An)}catch(xa){this.logger.error(xa),this.logger.warn("error validating attestation")}const ba=await this.fetchAndPersistPublicKey();try{if(ba)return this.validateAttestation(_i,ba)}catch(xa){this.logger.error(xa),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async An=>{const ba=await this.fetchPublicKey();ba&&(await this.persistPublicKey(ba),An(ba))});const _i=await this.fetchPromise;return this.fetchPromise=void 0,_i},this.validateAttestation=(_i,An)=>{const ba=Rr$1(_i,An.publicKey),xa={hasExpired:cjs$3.toMiliseconds(ba.exp)<Date.now(),payload:ba};if(xa.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:xa.payload.origin,isScam:xa.payload.isScam,isVerified:xa.payload.isVerified}},this.logger=E$1(En,this.name),this.abortController=new AbortController,this.isDevEnv=Wt$1(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return y$5(this.logger)}startAbortTimer(fn){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),cjs$3.toMiliseconds(fn))}}class li extends v$3{constructor(fn,En){super(fn,En),this.projectId=fn,this.logger=En,this.context=It,this.registerDeviceToken=async Cn=>{const{clientId:_i,token:An,notificationType:ba,enableEncrypted:xa=!1}=Cn,$a=`${Tt$1}/${this.projectId}/clients`;await fetch($a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:_i,type:ba,token:An,always_raw:xa})})},this.logger=E$1(En,this.context)}}var dn=Object.defineProperty,ui=Object.getOwnPropertySymbols,pn=Object.prototype.hasOwnProperty,gn=Object.prototype.propertyIsEnumerable,di=(vn,fn,En)=>fn in vn?dn(vn,fn,{enumerable:!0,configurable:!0,writable:!0,value:En}):vn[fn]=En,Z$1=(vn,fn)=>{for(var En in fn||(fn={}))pn.call(fn,En)&&di(vn,En,fn[En]);if(ui)for(var En of ui(fn))gn.call(fn,En)&&di(vn,En,fn[En]);return vn};class pi extends C$2{constructor(fn,En,Cn=!0){super(fn,En,Cn),this.core=fn,this.logger=En,this.context=Pt$1,this.storagePrefix=x$2,this.storageVersion=Ct,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!Wt$1())try{const _i={eventId:Ht$1(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Ge(this.core.relayer.protocol,this.core.relayer.version,se$1)}}};await this.sendEvent([_i])}catch(_i){this.logger.warn(_i)}},this.createEvent=_i=>{const{event:An="ERROR",type:ba="",properties:{topic:xa,trace:$a}}=_i,rs=Ht$1(),ts=this.core.projectId||"",is=Date.now(),cs=Z$1({eventId:rs,timestamp:is,props:{event:An,type:ba,properties:{topic:xa,trace:$a}},bundleId:ts,domain:this.getAppDomain()},this.setMethods(rs));return this.telemetryEnabled&&(this.events.set(rs,cs),this.shouldPersist=!0),cs},this.getEvent=_i=>{const{eventId:An,topic:ba}=_i;if(An)return this.events.get(An);const xa=Array.from(this.events.values()).find($a=>$a.props.properties.topic===ba);if(xa)return Z$1(Z$1({},xa),this.setMethods(xa.eventId))},this.deleteEvent=_i=>{const{eventId:An}=_i;this.events.delete(An),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(r$2.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(_i=>{cjs$3.fromMiliseconds(Date.now())-cjs$3.fromMiliseconds(_i.timestamp)>St$1&&(this.events.delete(_i.eventId),this.shouldPersist=!0)})})},this.setMethods=_i=>({addTrace:An=>this.addTrace(_i,An),setError:An=>this.setError(_i,An)}),this.addTrace=(_i,An)=>{const ba=this.events.get(_i);ba&&(ba.props.properties.trace.push(An),this.events.set(_i,ba),this.shouldPersist=!0)},this.setError=(_i,An)=>{const ba=this.events.get(_i);ba&&(ba.props.type=An,ba.timestamp=Date.now(),this.events.set(_i,ba),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{const _i=await this.core.storage.getItem(this.storageKey)||[];if(!_i.length)return;_i.forEach(An=>{this.events.set(An.eventId,Z$1(Z$1({},An),this.setMethods(An.eventId)))})}catch(_i){this.logger.warn(_i)}},this.submit=async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const _i=[];for(const[An,ba]of this.events)ba.props.type&&_i.push(ba);if(_i.length!==0)try{if((await this.sendEvent(_i)).ok)for(const An of _i)this.events.delete(An.eventId),this.shouldPersist=!0}catch(An){this.logger.warn(An)}},this.sendEvent=async _i=>{const An=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Rt}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${se$1}${An}`,{method:"POST",body:JSON.stringify(_i)})},this.getAppDomain=()=>Nt$2().url,this.logger=E$1(En,this.context),this.telemetryEnabled=Cn,Cn?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var yn=Object.defineProperty,gi=Object.getOwnPropertySymbols,Dn=Object.prototype.hasOwnProperty,mn=Object.prototype.propertyIsEnumerable,yi=(vn,fn,En)=>fn in vn?yn(vn,fn,{enumerable:!0,configurable:!0,writable:!0,value:En}):vn[fn]=En,Di=(vn,fn)=>{for(var En in fn||(fn={}))Dn.call(fn,En)&&yi(vn,En,fn[En]);if(gi)for(var En of gi(fn))mn.call(fn,En)&&yi(vn,En,fn[En]);return vn};let ne$1=class du extends n$1{constructor(fn){var En;super(fn),this.protocol=ye$1,this.version=De,this.name=ie$1,this.events=new eventsExports.EventEmitter,this.initialized=!1,this.on=(ba,xa)=>this.events.on(ba,xa),this.once=(ba,xa)=>this.events.once(ba,xa),this.off=(ba,xa)=>this.events.off(ba,xa),this.removeListener=(ba,xa)=>this.events.removeListener(ba,xa),this.dispatchEnvelope=({topic:ba,message:xa,sessionExists:$a})=>{if(!ba||!xa)return;const rs={topic:ba,message:xa,publishedAt:Date.now(),transportType:M.link_mode};this.relayer.onLinkMessageEvent(rs,{sessionExists:$a})},this.projectId=fn==null?void 0:fn.projectId,this.relayUrl=(fn==null?void 0:fn.relayUrl)||be$1,this.customStoragePrefix=fn!=null&&fn.customStoragePrefix?`:${fn.customStoragePrefix}`:"";const Cn=k$3({level:typeof(fn==null?void 0:fn.logger)=="string"&&fn.logger?fn.logger:Ye.logger}),{logger:_i,chunkLoggerController:An}=A$2({opts:Cn,maxSizeInBytes:fn==null?void 0:fn.maxLogBlobSizeInBytes,loggerOverride:fn==null?void 0:fn.logger});this.logChunkController=An,(En=this.logChunkController)!=null&&En.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var ba,xa;(ba=this.logChunkController)!=null&&ba.downloadLogsBlobInBrowser&&((xa=this.logChunkController)==null||xa.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=E$1(_i,this.name),this.heartbeat=new i$2,this.crypto=new Ht(this,this.logger,fn==null?void 0:fn.keychain),this.history=new ai(this,this.logger),this.expirer=new hi(this,this.logger),this.storage=fn!=null&&fn.storage?fn.storage:new h$3(Di(Di({},Je),fn==null?void 0:fn.storageOptions)),this.relayer=new ti({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new oi(this,this.logger),this.verify=new ci(this,this.logger,this.storage),this.echoClient=new li(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new pi(this,this.logger,fn==null?void 0:fn.telemetryEnabled)}static async init(fn){const En=new du(fn);await En.initialize();const Cn=await En.crypto.getClientId();return await En.storage.setItem(lt$1,Cn),En}get context(){return y$5(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var fn;return(fn=this.logChunkController)==null?void 0:fn.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(fn){this.linkModeSupportedApps.includes(fn)||(this.linkModeSupportedApps.push(fn),await this.storage.setItem(fe,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.eventClient.init(),this.linkModeSupportedApps=await this.storage.getItem(fe)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(fn){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,fn),this.logger.error(fn.message),fn}}};const bn=ne$1,be="wc",Ce=2,Le="client",ye=`${be}@${Ce}:${Le}:`,we={name:Le,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},xe="WALLETCONNECT_DEEPLINK_CHOICE",st="proposal",it="Proposal expired",rt="session",z$1=cjs$3.SEVEN_DAYS,nt="engine",v$1={wc_sessionPropose:{req:{ttl:cjs$3.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1104},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1106},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:cjs$3.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:cjs$3.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1112},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1114},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:cjs$3.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:cjs$3.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1119}}},me={min:cjs$3.FIVE_MINUTES,max:cjs$3.SEVEN_DAYS},x$1={idle:"IDLE",active:"ACTIVE"},ot="request",at=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],ct="wc",lt="auth",pt="authKeys",ht$1="pairingTopics",dt="requests",oe=`${ct}@${1.5}:${lt}:`,ae=`${oe}:PUB_KEY`;var ys=Object.defineProperty,ws=Object.defineProperties,ms=Object.getOwnPropertyDescriptors,ut=Object.getOwnPropertySymbols,_s=Object.prototype.hasOwnProperty,Es=Object.prototype.propertyIsEnumerable,gt$1=(vn,fn,En)=>fn in vn?ys(vn,fn,{enumerable:!0,configurable:!0,writable:!0,value:En}):vn[fn]=En,I=(vn,fn)=>{for(var En in fn||(fn={}))_s.call(fn,En)&&gt$1(vn,En,fn[En]);if(ut)for(var En of ut(fn))Es.call(fn,En)&&gt$1(vn,En,fn[En]);return vn},D$1=(vn,fn)=>ws(vn,ms(fn));class Rs extends M$2{constructor(fn){super(fn),this.name=nt,this.events=new Wg,this.initialized=!1,this.requestQueue={state:x$1.idle,queue:[]},this.sessionRequestQueue={state:x$1.idle,queue:[]},this.requestQueueDelay=cjs$3.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(v$1)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},cjs$3.toMiliseconds(this.requestQueueDelay)))},this.connect=async En=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const Cn=D$1(I({},En),{requiredNamespaces:En.requiredNamespaces||{},optionalNamespaces:En.optionalNamespaces||{}});await this.isValidConnect(Cn);const{pairingTopic:_i,requiredNamespaces:An,optionalNamespaces:ba,sessionProperties:xa,relays:$a}=Cn;let rs=_i,ts,is=!1;try{rs&&(is=this.client.core.pairing.pairings.get(rs).active)}catch(n0){throw this.client.logger.error(`connect() -> pairing.get(${rs}) failed`),n0}if(!rs||!is){const{topic:n0,uri:c0}=await this.client.core.pairing.create();rs=n0,ts=c0}if(!rs){const{message:n0}=S$2("NO_MATCHING_KEY",`connect() pairing topic: ${rs}`);throw new Error(n0)}const cs=await this.client.core.crypto.generateKeyPair(),us=v$1.wc_sessionPropose.req.ttl||cjs$3.FIVE_MINUTES,ps=Mt$1(us),bs=I({requiredNamespaces:An,optionalNamespaces:ba,relays:$a??[{protocol:rt$1}],proposer:{publicKey:cs,metadata:this.client.metadata},expiryTimestamp:ps,pairingTopic:rs},xa&&{sessionProperties:xa}),{reject:e0,resolve:gs,done:Ds}=_t$2(us,it);this.events.once(Lt$2("session_connect"),async({error:n0,session:c0})=>{if(n0)e0(n0);else if(c0){c0.self.publicKey=cs;const d0=D$1(I({},c0),{pairingTopic:bs.pairingTopic,requiredNamespaces:bs.requiredNamespaces,optionalNamespaces:bs.optionalNamespaces,transportType:M.relay});await this.client.session.set(c0.topic,d0),await this.setExpiry(c0.topic,c0.expiry),rs&&await this.client.core.pairing.updateMetadata({topic:rs,metadata:c0.peer.metadata}),this.cleanupDuplicatePairings(d0),gs(d0)}});const i0=await this.sendRequest({topic:rs,method:"wc_sessionPropose",params:bs,throwOnFailedPublish:!0});return await this.setProposal(i0,I({id:i0},bs)),{uri:ts,approval:Ds}},this.pair=async En=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(En)}catch(Cn){throw this.client.logger.error("pair() failed"),Cn}},this.approve=async En=>{var Cn,_i,An;const ba=this.client.core.eventClient.createEvent({properties:{topic:(Cn=En==null?void 0:En.id)==null?void 0:Cn.toString(),trace:[Is$1.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(g0){throw ba.setError(Ts$1.no_internet_connection),g0}try{await this.isValidProposalId(En==null?void 0:En.id)}catch(g0){throw this.client.logger.error(`approve() -> proposal.get(${En==null?void 0:En.id}) failed`),ba.setError(Ts$1.proposal_not_found),g0}try{await this.isValidApprove(En)}catch(g0){throw this.client.logger.error("approve() -> isValidApprove() failed"),ba.setError(Ts$1.session_approve_namespace_validation_failure),g0}const{id:xa,relayProtocol:$a,namespaces:rs,sessionProperties:ts,sessionConfig:is}=En,cs=this.client.proposal.get(xa);this.client.core.eventClient.deleteEvent({eventId:ba.eventId});const{pairingTopic:us,proposer:ps,requiredNamespaces:bs,optionalNamespaces:e0}=cs;let gs=(_i=this.client.core.eventClient)==null?void 0:_i.getEvent({topic:us});gs||(gs=(An=this.client.core.eventClient)==null?void 0:An.createEvent({type:Is$1.session_approve_started,properties:{topic:us,trace:[Is$1.session_approve_started,Is$1.session_namespaces_validation_success]}}));const Ds=await this.client.core.crypto.generateKeyPair(),i0=ps.publicKey,n0=await this.client.core.crypto.generateSharedKey(Ds,i0),c0=I(I({relay:{protocol:$a??"irn"},namespaces:rs,controller:{publicKey:Ds,metadata:this.client.metadata},expiry:Mt$1(z$1)},ts&&{sessionProperties:ts}),is&&{sessionConfig:is}),d0=M.relay;gs.addTrace(Is$1.subscribing_session_topic);try{await this.client.core.relayer.subscribe(n0,{transportType:d0})}catch(g0){throw gs.setError(Ts$1.subscribe_session_topic_failure),g0}gs.addTrace(Is$1.subscribe_session_topic_success);const o0=D$1(I({},c0),{topic:n0,requiredNamespaces:bs,optionalNamespaces:e0,pairingTopic:us,acknowledged:!1,self:c0.controller,peer:{publicKey:ps.publicKey,metadata:ps.metadata},controller:Ds,transportType:M.relay});await this.client.session.set(n0,o0),gs.addTrace(Is$1.store_session);try{gs.addTrace(Is$1.publishing_session_settle),await this.sendRequest({topic:n0,method:"wc_sessionSettle",params:c0,throwOnFailedPublish:!0}).catch(g0=>{throw gs==null||gs.setError(Ts$1.session_settle_publish_failure),g0}),gs.addTrace(Is$1.session_settle_publish_success),gs.addTrace(Is$1.publishing_session_approve),await this.sendResult({id:xa,topic:us,result:{relay:{protocol:$a??"irn"},responderPublicKey:Ds},throwOnFailedPublish:!0}).catch(g0=>{throw gs==null||gs.setError(Ts$1.session_approve_publish_failure),g0}),gs.addTrace(Is$1.session_approve_publish_success)}catch(g0){throw this.client.logger.error(g0),this.client.session.delete(n0,U$1("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(n0),g0}return this.client.core.eventClient.deleteEvent({eventId:gs.eventId}),await this.client.core.pairing.updateMetadata({topic:us,metadata:ps.metadata}),await this.client.proposal.delete(xa,U$1("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:us}),await this.setExpiry(n0,Mt$1(z$1)),{topic:n0,acknowledged:()=>Promise.resolve(this.client.session.get(n0))}},this.reject=async En=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(En)}catch(ba){throw this.client.logger.error("reject() -> isValidReject() failed"),ba}const{id:Cn,reason:_i}=En;let An;try{An=this.client.proposal.get(Cn).pairingTopic}catch(ba){throw this.client.logger.error(`reject() -> proposal.get(${Cn}) failed`),ba}An&&(await this.sendError({id:Cn,topic:An,error:_i,rpcOpts:v$1.wc_sessionPropose.reject}),await this.client.proposal.delete(Cn,U$1("USER_DISCONNECTED")))},this.update=async En=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(En)}catch(is){throw this.client.logger.error("update() -> isValidUpdate() failed"),is}const{topic:Cn,namespaces:_i}=En,{done:An,resolve:ba,reject:xa}=_t$2(),$a=payloadId(),rs=getBigIntRpcId().toString(),ts=this.client.session.get(Cn).namespaces;return this.events.once(Lt$2("session_update",$a),({error:is})=>{is?xa(is):ba()}),await this.client.session.update(Cn,{namespaces:_i}),await this.sendRequest({topic:Cn,method:"wc_sessionUpdate",params:{namespaces:_i},throwOnFailedPublish:!0,clientRpcId:$a,relayRpcId:rs}).catch(is=>{this.client.logger.error(is),this.client.session.update(Cn,{namespaces:ts}),xa(is)}),{acknowledged:An}},this.extend=async En=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(En)}catch($a){throw this.client.logger.error("extend() -> isValidExtend() failed"),$a}const{topic:Cn}=En,_i=payloadId(),{done:An,resolve:ba,reject:xa}=_t$2();return this.events.once(Lt$2("session_extend",_i),({error:$a})=>{$a?xa($a):ba()}),await this.setExpiry(Cn,Mt$1(z$1)),this.sendRequest({topic:Cn,method:"wc_sessionExtend",params:{},clientRpcId:_i,throwOnFailedPublish:!0}).catch($a=>{xa($a)}),{acknowledged:An}},this.request=async En=>{this.isInitialized();try{await this.isValidRequest(En)}catch(ps){throw this.client.logger.error("request() -> isValidRequest() failed"),ps}const{chainId:Cn,request:_i,topic:An,expiry:ba=v$1.wc_sessionRequest.req.ttl}=En,xa=this.client.session.get(An);(xa==null?void 0:xa.transportType)===M.relay&&await this.confirmOnlineStateOrThrow();const $a=payloadId(),rs=getBigIntRpcId().toString(),{done:ts,resolve:is,reject:cs}=_t$2(ba,"Request expired. Please try again.");this.events.once(Lt$2("session_request",$a),({error:ps,result:bs})=>{ps?cs(ps):is(bs)});const us=this.getAppLinkIfEnabled(xa.peer.metadata,xa.transportType);return us?(await this.sendRequest({clientRpcId:$a,relayRpcId:rs,topic:An,method:"wc_sessionRequest",params:{request:D$1(I({},_i),{expiryTimestamp:Mt$1(ba)}),chainId:Cn},expiry:ba,throwOnFailedPublish:!0,appLink:us}).catch(ps=>cs(ps)),this.client.events.emit("session_request_sent",{topic:An,request:_i,chainId:Cn,id:$a}),await ts()):await Promise.all([new Promise(async ps=>{await this.sendRequest({clientRpcId:$a,relayRpcId:rs,topic:An,method:"wc_sessionRequest",params:{request:D$1(I({},_i),{expiryTimestamp:Mt$1(ba)}),chainId:Cn},expiry:ba,throwOnFailedPublish:!0}).catch(bs=>cs(bs)),this.client.events.emit("session_request_sent",{topic:An,request:_i,chainId:Cn,id:$a}),ps()}),new Promise(async ps=>{var bs;if(!((bs=xa.sessionConfig)!=null&&bs.disableDeepLink)){const e0=await qt$1(this.client.core.storage,xe);await Ft$1({id:$a,topic:An,wcDeepLink:e0})}ps()}),ts()]).then(ps=>ps[2])},this.respond=async En=>{this.isInitialized(),await this.isValidRespond(En);const{topic:Cn,response:_i}=En,{id:An}=_i,ba=this.client.session.get(Cn);ba.transportType===M.relay&&await this.confirmOnlineStateOrThrow();const xa=this.getAppLinkIfEnabled(ba.peer.metadata,ba.transportType);isJsonRpcResult(_i)?await this.sendResult({id:An,topic:Cn,result:_i.result,throwOnFailedPublish:!0,appLink:xa}):isJsonRpcError(_i)&&await this.sendError({id:An,topic:Cn,error:_i.error,appLink:xa}),this.cleanupAfterResponse(En)},this.ping=async En=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(En)}catch(_i){throw this.client.logger.error("ping() -> isValidPing() failed"),_i}const{topic:Cn}=En;if(this.client.session.keys.includes(Cn)){const _i=payloadId(),An=getBigIntRpcId().toString(),{done:ba,resolve:xa,reject:$a}=_t$2();this.events.once(Lt$2("session_ping",_i),({error:rs})=>{rs?$a(rs):xa()}),await Promise.all([this.sendRequest({topic:Cn,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:_i,relayRpcId:An}),ba()])}else this.client.core.pairing.pairings.keys.includes(Cn)&&await this.client.core.pairing.ping({topic:Cn})},this.emit=async En=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(En);const{topic:Cn,event:_i,chainId:An}=En,ba=getBigIntRpcId().toString();await this.sendRequest({topic:Cn,method:"wc_sessionEvent",params:{event:_i,chainId:An},throwOnFailedPublish:!0,relayRpcId:ba})},this.disconnect=async En=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(En);const{topic:Cn}=En;if(this.client.session.keys.includes(Cn))await this.sendRequest({topic:Cn,method:"wc_sessionDelete",params:U$1("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:Cn,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(Cn))await this.client.core.pairing.disconnect({topic:Cn});else{const{message:_i}=S$2("MISMATCHED_TOPIC",`Session or pairing topic not found: ${Cn}`);throw new Error(_i)}},this.find=En=>(this.isInitialized(),this.client.session.getAll().filter(Cn=>zr$1(Cn,En))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async(En,Cn)=>{var _i;this.isInitialized(),this.isValidAuthenticate(En);const An=Cn&&this.client.core.linkModeSupportedApps.includes(Cn)&&((_i=this.client.metadata.redirect)==null?void 0:_i.linkMode),ba=An?M.link_mode:M.relay;ba===M.relay&&await this.confirmOnlineStateOrThrow();const{chains:xa,statement:$a="",uri:rs,domain:ts,nonce:is,type:cs,exp:us,nbf:ps,methods:bs=[],expiry:e0}=En,gs=[...En.resources||[]],{topic:Ds,uri:i0}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:ba});this.client.logger.info({message:"Generated new pairing",pairing:{topic:Ds,uri:i0}});const n0=await this.client.core.crypto.generateKeyPair(),c0=hr$1(n0);if(await Promise.all([this.client.auth.authKeys.set(ae,{responseTopic:c0,publicKey:n0}),this.client.auth.pairingTopics.set(c0,{topic:c0,pairingTopic:Ds})]),await this.client.core.relayer.subscribe(c0,{transportType:ba}),this.client.logger.info(`sending request to new pairing topic: ${Ds}`),bs.length>0){const{namespace:hs}=re$1(xa[0]);let ss=ir$1(hs,"request",bs);Y$2(gs)&&(ss=cr$1(ss,gs.pop())),gs.push(ss)}const d0=e0&&e0>v$1.wc_sessionAuthenticate.req.ttl?e0:v$1.wc_sessionAuthenticate.req.ttl,o0={authPayload:{type:cs??"caip122",chains:xa,statement:$a,aud:rs,domain:ts,version:"1",nonce:is,iat:new Date().toISOString(),exp:us,nbf:ps,resources:gs},requester:{publicKey:n0,metadata:this.client.metadata},expiryTimestamp:Mt$1(d0)},g0={eip155:{chains:xa,methods:[...new Set(["personal_sign",...bs])],events:["chainChanged","accountsChanged"]}},w0={requiredNamespaces:{},optionalNamespaces:g0,relays:[{protocol:"irn"}],pairingTopic:Ds,proposer:{publicKey:n0,metadata:this.client.metadata},expiryTimestamp:Mt$1(v$1.wc_sessionPropose.req.ttl)},{done:M0,resolve:ds,reject:na}=_t$2(d0,"Request expired"),_a=async({error:hs,session:ss})=>{if(this.events.off(Lt$2("session_request",ns),es),hs)na(hs);else if(ss){ss.self.publicKey=n0,await this.client.session.set(ss.topic,ss),await this.setExpiry(ss.topic,ss.expiry),Ds&&await this.client.core.pairing.updateMetadata({topic:Ds,metadata:ss.peer.metadata});const ga=this.client.session.get(ss.topic);await this.deleteProposal(os),ds({session:ga})}},es=async hs=>{var ss,ga,as;if(await this.deletePendingAuthRequest(ns,{message:"fulfilled",code:0}),hs.error){const m0=U$1("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return hs.error.code===m0.code?void 0:(this.events.off(Lt$2("session_connect"),_a),na(hs.error.message))}await this.deleteProposal(os),this.events.off(Lt$2("session_connect"),_a);const{cacaos:r0,responder:a0}=hs.result,l0=[],s0=[];for(const m0 of r0){await nr$1({cacao:m0,projectId:this.client.core.projectId})||(this.client.logger.error(m0,"Signature verification failed"),na(U$1("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:y0}=m0,t0=Y$2(y0.resources),h0=[ln$1(y0.iss)],p0=fe$1(y0.iss);if(t0){const E0=ar$1(t0),I0=ur$1(t0);l0.push(...E0),h0.push(...I0)}for(const E0 of h0)s0.push(`${E0}:${p0}`)}const b0=await this.client.core.crypto.generateSharedKey(n0,a0.publicKey);let f0;l0.length>0&&(f0={topic:b0,acknowledged:!0,self:{publicKey:n0,metadata:this.client.metadata},peer:a0,controller:a0.publicKey,expiry:Mt$1(z$1),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:Ds,namespaces:Jr$1([...new Set(l0)],[...new Set(s0)]),transportType:ba},await this.client.core.relayer.subscribe(b0,{transportType:ba}),await this.client.session.set(b0,f0),Ds&&await this.client.core.pairing.updateMetadata({topic:Ds,metadata:a0.metadata}),f0=this.client.session.get(b0)),(ss=this.client.metadata.redirect)!=null&&ss.linkMode&&(ga=a0.metadata.redirect)!=null&&ga.linkMode&&(as=a0.metadata.redirect)!=null&&as.universal&&Cn&&(this.client.core.addLinkModeSupportedApp(a0.metadata.redirect.universal),this.client.session.update(b0,{transportType:M.link_mode})),ds({auths:r0,session:f0})},ns=payloadId(),os=payloadId();this.events.once(Lt$2("session_connect"),_a),this.events.once(Lt$2("session_request",ns),es);let ls;try{if(An){const hs=formatJsonRpcRequest("wc_sessionAuthenticate",o0,ns);this.client.core.history.set(Ds,hs);const ss=await this.client.core.crypto.encode("",hs,{type:M$1,encoding:lr$1});ls=xr$1(Cn,Ds,ss)}else await Promise.all([this.sendRequest({topic:Ds,method:"wc_sessionAuthenticate",params:o0,expiry:En.expiry,throwOnFailedPublish:!0,clientRpcId:ns}),this.sendRequest({topic:Ds,method:"wc_sessionPropose",params:w0,expiry:v$1.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:os})])}catch(hs){throw this.events.off(Lt$2("session_connect"),_a),this.events.off(Lt$2("session_request",ns),es),hs}return await this.setProposal(os,I({id:os},w0)),await this.setAuthRequest(ns,{request:D$1(I({},o0),{verifyContext:{}}),pairingTopic:Ds,transportType:ba}),{uri:ls??i0,response:M0}},this.approveSessionAuthenticate=async En=>{const{id:Cn,auths:_i}=En,An=this.client.core.eventClient.createEvent({properties:{topic:Cn.toString(),trace:[Cs.authenticated_session_approve_started]}});try{this.isInitialized()}catch(e0){throw An.setError(Ps$1.no_internet_connection),e0}const ba=this.getPendingAuthRequest(Cn);if(!ba)throw An.setError(Ps$1.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${Cn}`);const xa=ba.transportType||M.relay;xa===M.relay&&await this.confirmOnlineStateOrThrow();const $a=ba.requester.publicKey,rs=await this.client.core.crypto.generateKeyPair(),ts=hr$1($a),is={type:D$2,receiverPublicKey:$a,senderPublicKey:rs},cs=[],us=[];for(const e0 of _i){if(!await nr$1({cacao:e0,projectId:this.client.core.projectId})){An.setError(Ps$1.invalid_cacao);const c0=U$1("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:Cn,topic:ts,error:c0,encodeOpts:is}),new Error(c0.message)}An.addTrace(Cs.cacaos_verified);const{p:gs}=e0,Ds=Y$2(gs.resources),i0=[ln$1(gs.iss)],n0=fe$1(gs.iss);if(Ds){const c0=ar$1(Ds),d0=ur$1(Ds);cs.push(...c0),i0.push(...d0)}for(const c0 of i0)us.push(`${c0}:${n0}`)}const ps=await this.client.core.crypto.generateSharedKey(rs,$a);An.addTrace(Cs.create_authenticated_session_topic);let bs;if((cs==null?void 0:cs.length)>0){bs={topic:ps,acknowledged:!0,self:{publicKey:rs,metadata:this.client.metadata},peer:{publicKey:$a,metadata:ba.requester.metadata},controller:$a,expiry:Mt$1(z$1),authentication:_i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:ba.pairingTopic,namespaces:Jr$1([...new Set(cs)],[...new Set(us)]),transportType:xa},An.addTrace(Cs.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(ps,{transportType:xa})}catch(e0){throw An.setError(Ps$1.subscribe_authenticated_session_topic_failure),e0}An.addTrace(Cs.subscribe_authenticated_session_topic_success),await this.client.session.set(ps,bs),An.addTrace(Cs.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:ba.pairingTopic,metadata:ba.requester.metadata})}An.addTrace(Cs.publishing_authenticated_session_approve);try{await this.sendResult({topic:ts,id:Cn,result:{cacaos:_i,responder:{publicKey:rs,metadata:this.client.metadata}},encodeOpts:is,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(ba.requester.metadata,xa)})}catch(e0){throw An.setError(Ps$1.authenticated_session_approve_publish_failure),e0}return await this.client.auth.requests.delete(Cn,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:ba.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:An.eventId}),{session:bs}},this.rejectSessionAuthenticate=async En=>{this.isInitialized();const{id:Cn,reason:_i}=En,An=this.getPendingAuthRequest(Cn);if(!An)throw new Error(`Could not find pending auth request with id ${Cn}`);An.transportType===M.relay&&await this.confirmOnlineStateOrThrow();const ba=An.requester.publicKey,xa=await this.client.core.crypto.generateKeyPair(),$a=hr$1(ba),rs={type:D$2,receiverPublicKey:ba,senderPublicKey:xa};await this.sendError({id:Cn,topic:$a,error:_i,encodeOpts:rs,rpcOpts:v$1.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(An.requester.metadata,An.transportType)}),await this.client.auth.requests.delete(Cn,{message:"rejected",code:0}),await this.client.proposal.delete(Cn,U$1("USER_DISCONNECTED"))},this.formatAuthMessage=En=>{this.isInitialized();const{request:Cn,iss:_i}=En;return dn$1(Cn,_i)},this.processRelayMessageCache=()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const En=this.relayMessageCache.shift();En&&await this.onRelayMessage(En)}catch(En){this.client.logger.error(En)}},50)},this.cleanupDuplicatePairings=async En=>{if(En.pairingTopic)try{const Cn=this.client.core.pairing.pairings.get(En.pairingTopic),_i=this.client.core.pairing.pairings.getAll().filter(An=>{var ba,xa;return((ba=An.peerMetadata)==null?void 0:ba.url)&&((xa=An.peerMetadata)==null?void 0:xa.url)===En.peer.metadata.url&&An.topic&&An.topic!==Cn.topic});if(_i.length===0)return;this.client.logger.info(`Cleaning up ${_i.length} duplicate pairing(s)`),await Promise.all(_i.map(An=>this.client.core.pairing.disconnect({topic:An.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(Cn){this.client.logger.error(Cn)}},this.deleteSession=async En=>{var Cn;const{topic:_i,expirerHasDeleted:An=!1,emitEvent:ba=!0,id:xa=0}=En,{self:$a}=this.client.session.get(_i);await this.client.core.relayer.unsubscribe(_i),await this.client.session.delete(_i,U$1("USER_DISCONNECTED")),this.addToRecentlyDeleted(_i,"session"),this.client.core.crypto.keychain.has($a.publicKey)&&await this.client.core.crypto.deleteKeyPair($a.publicKey),this.client.core.crypto.keychain.has(_i)&&await this.client.core.crypto.deleteSymKey(_i),An||this.client.core.expirer.del(_i),this.client.core.storage.removeItem(xe).catch(rs=>this.client.logger.warn(rs)),this.getPendingSessionRequests().forEach(rs=>{rs.topic===_i&&this.deletePendingSessionRequest(rs.id,U$1("USER_DISCONNECTED"))}),_i===((Cn=this.sessionRequestQueue.queue[0])==null?void 0:Cn.topic)&&(this.sessionRequestQueue.state=x$1.idle),ba&&this.client.events.emit("session_delete",{id:xa,topic:_i})},this.deleteProposal=async(En,Cn)=>{if(Cn)try{const _i=this.client.proposal.get(En),An=this.client.core.eventClient.getEvent({topic:_i.pairingTopic});An==null||An.setError(Ts$1.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(En,U$1("USER_DISCONNECTED")),Cn?Promise.resolve():this.client.core.expirer.del(En)]),this.addToRecentlyDeleted(En,"proposal")},this.deletePendingSessionRequest=async(En,Cn,_i=!1)=>{await Promise.all([this.client.pendingRequest.delete(En,Cn),_i?Promise.resolve():this.client.core.expirer.del(En)]),this.addToRecentlyDeleted(En,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(An=>An.id!==En),_i&&(this.sessionRequestQueue.state=x$1.idle,this.client.events.emit("session_request_expire",{id:En}))},this.deletePendingAuthRequest=async(En,Cn,_i=!1)=>{await Promise.all([this.client.auth.requests.delete(En,Cn),_i?Promise.resolve():this.client.core.expirer.del(En)])},this.setExpiry=async(En,Cn)=>{this.client.session.keys.includes(En)&&(this.client.core.expirer.set(En,Cn),await this.client.session.update(En,{expiry:Cn}))},this.setProposal=async(En,Cn)=>{this.client.core.expirer.set(En,Mt$1(v$1.wc_sessionPropose.req.ttl)),await this.client.proposal.set(En,Cn)},this.setAuthRequest=async(En,Cn)=>{const{request:_i,pairingTopic:An,transportType:ba=M.relay}=Cn;this.client.core.expirer.set(En,_i.expiryTimestamp),await this.client.auth.requests.set(En,{authPayload:_i.authPayload,requester:_i.requester,expiryTimestamp:_i.expiryTimestamp,id:En,pairingTopic:An,verifyContext:_i.verifyContext,transportType:ba})},this.setPendingSessionRequest=async En=>{const{id:Cn,topic:_i,params:An,verifyContext:ba}=En,xa=An.request.expiryTimestamp||Mt$1(v$1.wc_sessionRequest.req.ttl);this.client.core.expirer.set(Cn,xa),await this.client.pendingRequest.set(Cn,{id:Cn,topic:_i,params:An,verifyContext:ba})},this.sendRequest=async En=>{const{topic:Cn,method:_i,params:An,expiry:ba,relayRpcId:xa,clientRpcId:$a,throwOnFailedPublish:rs,appLink:ts}=En,is=formatJsonRpcRequest(_i,An,$a);let cs;const us=!!ts;try{const e0=us?lr$1:ge;cs=await this.client.core.crypto.encode(Cn,is,{encoding:e0})}catch(e0){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${Cn} failed`),e0}let ps;if(at.includes(_i)){const e0=yr$1(JSON.stringify(is)),gs=yr$1(cs);ps=await this.client.core.verify.register({id:gs,decryptedId:e0})}const bs=v$1[_i].req;if(bs.attestation=ps,ba&&(bs.ttl=ba),xa&&(bs.id=xa),this.client.core.history.set(Cn,is),us){const e0=xr$1(ts,Cn,cs);await global$1.Linking.openURL(e0,this.client.name)}else{const e0=v$1[_i].req;ba&&(e0.ttl=ba),xa&&(e0.id=xa),rs?(e0.internal=D$1(I({},e0.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(Cn,cs,e0)):this.client.core.relayer.publish(Cn,cs,e0).catch(gs=>this.client.logger.error(gs))}return is.id},this.sendResult=async En=>{const{id:Cn,topic:_i,result:An,throwOnFailedPublish:ba,encodeOpts:xa,appLink:$a}=En,rs=formatJsonRpcResult(Cn,An);let ts;const is=$a&&typeof(global$1==null?void 0:global$1.Linking)<"u";try{const us=is?lr$1:ge;ts=await this.client.core.crypto.encode(_i,rs,D$1(I({},xa||{}),{encoding:us}))}catch(us){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${_i} failed`),us}let cs;try{cs=await this.client.core.history.get(_i,Cn)}catch(us){throw this.client.logger.error(`sendResult() -> history.get(${_i}, ${Cn}) failed`),us}if(is){const us=xr$1($a,_i,ts);await global$1.Linking.openURL(us,this.client.name)}else{const us=v$1[cs.request.method].res;ba?(us.internal=D$1(I({},us.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(_i,ts,us)):this.client.core.relayer.publish(_i,ts,us).catch(ps=>this.client.logger.error(ps))}await this.client.core.history.resolve(rs)},this.sendError=async En=>{const{id:Cn,topic:_i,error:An,encodeOpts:ba,rpcOpts:xa,appLink:$a}=En,rs=formatJsonRpcError(Cn,An);let ts;const is=$a&&typeof(global$1==null?void 0:global$1.Linking)<"u";try{const us=is?lr$1:ge;ts=await this.client.core.crypto.encode(_i,rs,D$1(I({},ba||{}),{encoding:us}))}catch(us){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${_i} failed`),us}let cs;try{cs=await this.client.core.history.get(_i,Cn)}catch(us){throw this.client.logger.error(`sendError() -> history.get(${_i}, ${Cn}) failed`),us}if(is){const us=xr$1($a,_i,ts);await global$1.Linking.openURL(us,this.client.name)}else{const us=xa||v$1[cs.request.method].res;this.client.core.relayer.publish(_i,ts,us)}await this.client.core.history.resolve(rs)},this.cleanup=async()=>{const En=[],Cn=[];this.client.session.getAll().forEach(_i=>{let An=!1;Kt$1(_i.expiry)&&(An=!0),this.client.core.crypto.keychain.has(_i.topic)||(An=!0),An&&En.push(_i.topic)}),this.client.proposal.getAll().forEach(_i=>{Kt$1(_i.expiryTimestamp)&&Cn.push(_i.id)}),await Promise.all([...En.map(_i=>this.deleteSession({topic:_i})),...Cn.map(_i=>this.deleteProposal(_i))])},this.onRelayEventRequest=async En=>{this.requestQueue.queue.push(En),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===x$1.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=x$1.active;const En=this.requestQueue.queue.shift();if(En)try{await this.processRequest(En)}catch(Cn){this.client.logger.warn(Cn)}}this.requestQueue.state=x$1.idle},this.processRequest=async En=>{const{topic:Cn,payload:_i,attestation:An,transportType:ba,encryptedId:xa}=En,$a=_i.method;if(!this.shouldIgnorePairingRequest({topic:Cn,requestMethod:$a}))switch($a){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:Cn,payload:_i,attestation:An,encryptedId:xa});case"wc_sessionSettle":return await this.onSessionSettleRequest(Cn,_i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(Cn,_i);case"wc_sessionExtend":return await this.onSessionExtendRequest(Cn,_i);case"wc_sessionPing":return await this.onSessionPingRequest(Cn,_i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(Cn,_i);case"wc_sessionRequest":return await this.onSessionRequest({topic:Cn,payload:_i,attestation:An,encryptedId:xa,transportType:ba});case"wc_sessionEvent":return await this.onSessionEventRequest(Cn,_i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:Cn,payload:_i,attestation:An,encryptedId:xa,transportType:ba});default:return this.client.logger.info(`Unsupported request method ${$a}`)}},this.onRelayEventResponse=async En=>{const{topic:Cn,payload:_i,transportType:An}=En,ba=(await this.client.core.history.get(Cn,_i.id)).request.method;switch(ba){case"wc_sessionPropose":return this.onSessionProposeResponse(Cn,_i,An);case"wc_sessionSettle":return this.onSessionSettleResponse(Cn,_i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(Cn,_i);case"wc_sessionExtend":return this.onSessionExtendResponse(Cn,_i);case"wc_sessionPing":return this.onSessionPingResponse(Cn,_i);case"wc_sessionRequest":return this.onSessionRequestResponse(Cn,_i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(Cn,_i);default:return this.client.logger.info(`Unsupported response method ${ba}`)}},this.onRelayEventUnknownPayload=En=>{const{topic:Cn}=En,{message:_i}=S$2("MISSING_OR_INVALID",`Decoded payload on topic ${Cn} is not identifiable as a JSON-RPC request or a response.`);throw new Error(_i)},this.shouldIgnorePairingRequest=En=>{const{topic:Cn,requestMethod:_i}=En,An=this.expectedPairingMethodMap.get(Cn);return!An||An.includes(_i)?!1:!!(An.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async En=>{const{topic:Cn,payload:_i,attestation:An,encryptedId:ba}=En,{params:xa,id:$a}=_i;try{const rs=this.client.core.eventClient.getEvent({topic:Cn});this.isValidConnect(I({},_i.params));const ts=xa.expiryTimestamp||Mt$1(v$1.wc_sessionPropose.req.ttl),is=I({id:$a,pairingTopic:Cn,expiryTimestamp:ts},xa);await this.setProposal($a,is);const cs=await this.getVerifyContext({attestationId:An,hash:yr$1(JSON.stringify(_i)),encryptedId:ba,metadata:is.proposer.metadata});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),rs==null||rs.setError($$1.proposal_listener_not_found)),rs==null||rs.addTrace(z$2.emit_session_proposal),this.client.events.emit("session_proposal",{id:$a,params:is,verifyContext:cs})}catch(rs){await this.sendError({id:$a,topic:Cn,error:rs,rpcOpts:v$1.wc_sessionPropose.autoReject}),this.client.logger.error(rs)}},this.onSessionProposeResponse=async(En,Cn,_i)=>{const{id:An}=Cn;if(isJsonRpcResult(Cn)){const{result:ba}=Cn;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:ba});const xa=this.client.proposal.get(An);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:xa});const $a=xa.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:$a});const rs=ba.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:rs});const ts=await this.client.core.crypto.generateSharedKey($a,rs);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:ts});const is=await this.client.core.relayer.subscribe(ts,{transportType:_i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:is}),await this.client.core.pairing.activate({topic:En})}else if(isJsonRpcError(Cn)){await this.client.proposal.delete(An,U$1("USER_DISCONNECTED"));const ba=Lt$2("session_connect");if(this.events.listenerCount(ba)===0)throw new Error(`emitting ${ba} without any listeners, 954`);this.events.emit(Lt$2("session_connect"),{error:Cn.error})}},this.onSessionSettleRequest=async(En,Cn)=>{const{id:_i,params:An}=Cn;try{this.isValidSessionSettleRequest(An);const{relay:ba,controller:xa,expiry:$a,namespaces:rs,sessionProperties:ts,sessionConfig:is}=Cn.params,cs=D$1(I(I({topic:En,relay:ba,expiry:$a,namespaces:rs,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:xa.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:xa.publicKey,metadata:xa.metadata}},ts&&{sessionProperties:ts}),is&&{sessionConfig:is}),{transportType:M.relay}),us=Lt$2("session_connect");if(this.events.listenerCount(us)===0)throw new Error(`emitting ${us} without any listeners 997`);this.events.emit(Lt$2("session_connect"),{session:cs}),await this.sendResult({id:Cn.id,topic:En,result:!0,throwOnFailedPublish:!0})}catch(ba){await this.sendError({id:_i,topic:En,error:ba}),this.client.logger.error(ba)}},this.onSessionSettleResponse=async(En,Cn)=>{const{id:_i}=Cn;isJsonRpcResult(Cn)?(await this.client.session.update(En,{acknowledged:!0}),this.events.emit(Lt$2("session_approve",_i),{})):isJsonRpcError(Cn)&&(await this.client.session.delete(En,U$1("USER_DISCONNECTED")),this.events.emit(Lt$2("session_approve",_i),{error:Cn.error}))},this.onSessionUpdateRequest=async(En,Cn)=>{const{params:_i,id:An}=Cn;try{const ba=`${En}_session_update`,xa=yo.get(ba);if(xa&&this.isRequestOutOfSync(xa,An)){this.client.logger.info(`Discarding out of sync request - ${An}`),this.sendError({id:An,topic:En,error:U$1("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(I({topic:En},_i));try{yo.set(ba,An),await this.client.session.update(En,{namespaces:_i.namespaces}),await this.sendResult({id:An,topic:En,result:!0,throwOnFailedPublish:!0})}catch($a){throw yo.delete(ba),$a}this.client.events.emit("session_update",{id:An,topic:En,params:_i})}catch(ba){await this.sendError({id:An,topic:En,error:ba}),this.client.logger.error(ba)}},this.isRequestOutOfSync=(En,Cn)=>parseInt(Cn.toString().slice(0,-3))<=parseInt(En.toString().slice(0,-3)),this.onSessionUpdateResponse=(En,Cn)=>{const{id:_i}=Cn,An=Lt$2("session_update",_i);if(this.events.listenerCount(An)===0)throw new Error(`emitting ${An} without any listeners`);isJsonRpcResult(Cn)?this.events.emit(Lt$2("session_update",_i),{}):isJsonRpcError(Cn)&&this.events.emit(Lt$2("session_update",_i),{error:Cn.error})},this.onSessionExtendRequest=async(En,Cn)=>{const{id:_i}=Cn;try{this.isValidExtend({topic:En}),await this.setExpiry(En,Mt$1(z$1)),await this.sendResult({id:_i,topic:En,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:_i,topic:En})}catch(An){await this.sendError({id:_i,topic:En,error:An}),this.client.logger.error(An)}},this.onSessionExtendResponse=(En,Cn)=>{const{id:_i}=Cn,An=Lt$2("session_extend",_i);if(this.events.listenerCount(An)===0)throw new Error(`emitting ${An} without any listeners`);isJsonRpcResult(Cn)?this.events.emit(Lt$2("session_extend",_i),{}):isJsonRpcError(Cn)&&this.events.emit(Lt$2("session_extend",_i),{error:Cn.error})},this.onSessionPingRequest=async(En,Cn)=>{const{id:_i}=Cn;try{this.isValidPing({topic:En}),await this.sendResult({id:_i,topic:En,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:_i,topic:En})}catch(An){await this.sendError({id:_i,topic:En,error:An}),this.client.logger.error(An)}},this.onSessionPingResponse=(En,Cn)=>{const{id:_i}=Cn,An=Lt$2("session_ping",_i);if(this.events.listenerCount(An)===0)throw new Error(`emitting ${An} without any listeners`);setTimeout(()=>{isJsonRpcResult(Cn)?this.events.emit(Lt$2("session_ping",_i),{}):isJsonRpcError(Cn)&&this.events.emit(Lt$2("session_ping",_i),{error:Cn.error})},500)},this.onSessionDeleteRequest=async(En,Cn)=>{const{id:_i}=Cn;try{this.isValidDisconnect({topic:En,reason:Cn.params}),Promise.all([new Promise(An=>{this.client.core.relayer.once(v$2.publish,async()=>{An(await this.deleteSession({topic:En,id:_i}))})}),this.sendResult({id:_i,topic:En,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:En,error:U$1("USER_DISCONNECTED")})]).catch(An=>this.client.logger.error(An))}catch(An){this.client.logger.error(An)}},this.onSessionRequest=async En=>{var Cn,_i,An;const{topic:ba,payload:xa,attestation:$a,encryptedId:rs,transportType:ts}=En,{id:is,params:cs}=xa;try{await this.isValidRequest(I({topic:ba},cs));const us=this.client.session.get(ba),ps=await this.getVerifyContext({attestationId:$a,hash:yr$1(JSON.stringify(formatJsonRpcRequest("wc_sessionRequest",cs,is))),encryptedId:rs,metadata:us.peer.metadata,transportType:ts}),bs={id:is,topic:ba,params:cs,verifyContext:ps};await this.setPendingSessionRequest(bs),ts===M.link_mode&&(Cn=us.peer.metadata.redirect)!=null&&Cn.universal&&this.client.core.addLinkModeSupportedApp((_i=us.peer.metadata.redirect)==null?void 0:_i.universal),(An=this.client.signConfig)!=null&&An.disableRequestQueue?this.emitSessionRequest(bs):(this.addSessionRequestToSessionRequestQueue(bs),this.processSessionRequestQueue())}catch(us){await this.sendError({id:is,topic:ba,error:us}),this.client.logger.error(us)}},this.onSessionRequestResponse=(En,Cn)=>{const{id:_i}=Cn,An=Lt$2("session_request",_i);if(this.events.listenerCount(An)===0)throw new Error(`emitting ${An} without any listeners`);isJsonRpcResult(Cn)?this.events.emit(Lt$2("session_request",_i),{result:Cn.result}):isJsonRpcError(Cn)&&this.events.emit(Lt$2("session_request",_i),{error:Cn.error})},this.onSessionEventRequest=async(En,Cn)=>{const{id:_i,params:An}=Cn;try{const ba=`${En}_session_event_${An.event.name}`,xa=yo.get(ba);if(xa&&this.isRequestOutOfSync(xa,_i)){this.client.logger.info(`Discarding out of sync request - ${_i}`);return}this.isValidEmit(I({topic:En},An)),this.client.events.emit("session_event",{id:_i,topic:En,params:An}),yo.set(ba,_i)}catch(ba){await this.sendError({id:_i,topic:En,error:ba}),this.client.logger.error(ba)}},this.onSessionAuthenticateResponse=(En,Cn)=>{const{id:_i}=Cn;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:En,payload:Cn}),isJsonRpcResult(Cn)?this.events.emit(Lt$2("session_request",_i),{result:Cn.result}):isJsonRpcError(Cn)&&this.events.emit(Lt$2("session_request",_i),{error:Cn.error})},this.onSessionAuthenticateRequest=async En=>{var Cn;const{topic:_i,payload:An,attestation:ba,encryptedId:xa,transportType:$a}=En;try{const{requester:rs,authPayload:ts,expiryTimestamp:is}=An.params,cs=await this.getVerifyContext({attestationId:ba,hash:yr$1(JSON.stringify(An)),encryptedId:xa,metadata:rs.metadata,transportType:$a}),us={requester:rs,pairingTopic:_i,id:An.id,authPayload:ts,verifyContext:cs,expiryTimestamp:is};await this.setAuthRequest(An.id,{request:us,pairingTopic:_i,transportType:$a}),$a===M.link_mode&&(Cn=rs.metadata.redirect)!=null&&Cn.universal&&this.client.core.addLinkModeSupportedApp(rs.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:_i,params:An.params,id:An.id,verifyContext:cs})}catch(rs){this.client.logger.error(rs);const ts=An.params.requester.publicKey,is=await this.client.core.crypto.generateKeyPair(),cs=this.getAppLinkIfEnabled(An.params.requester.metadata,$a),us={type:D$2,receiverPublicKey:ts,senderPublicKey:is};await this.sendError({id:An.id,topic:_i,error:rs,encodeOpts:us,rpcOpts:v$1.wc_sessionAuthenticate.autoReject,appLink:cs})}},this.addSessionRequestToSessionRequestQueue=En=>{this.sessionRequestQueue.queue.push(En)},this.cleanupAfterResponse=En=>{this.deletePendingSessionRequest(En.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=x$1.idle,this.processSessionRequestQueue()},cjs$3.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:En,error:Cn})=>{const _i=this.client.core.history.pending;_i.length>0&&_i.filter(An=>An.topic===En&&An.request.method==="wc_sessionRequest").forEach(An=>{const ba=An.request.id,xa=Lt$2("session_request",ba);if(this.events.listenerCount(xa)===0)throw new Error(`emitting ${xa} without any listeners`);this.events.emit(Lt$2("session_request",An.request.id),{error:Cn})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===x$1.active){this.client.logger.info("session request queue is already active.");return}const En=this.sessionRequestQueue.queue[0];if(!En){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=x$1.active,this.emitSessionRequest(En)}catch(Cn){this.client.logger.error(Cn)}},this.emitSessionRequest=En=>{this.client.events.emit("session_request",En)},this.onPairingCreated=En=>{if(En.methods&&this.expectedPairingMethodMap.set(En.topic,En.methods),En.active)return;const Cn=this.client.proposal.getAll().find(_i=>_i.pairingTopic===En.topic);Cn&&this.onSessionProposeRequest({topic:En.topic,payload:formatJsonRpcRequest("wc_sessionPropose",{requiredNamespaces:Cn.requiredNamespaces,optionalNamespaces:Cn.optionalNamespaces,relays:Cn.relays,proposer:Cn.proposer,sessionProperties:Cn.sessionProperties},Cn.id)})},this.isValidConnect=async En=>{if(!to(En)){const{message:$a}=S$2("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(En)}`);throw new Error($a)}const{pairingTopic:Cn,requiredNamespaces:_i,optionalNamespaces:An,sessionProperties:ba,relays:xa}=En;if(I$2(Cn)||await this.isValidPairingTopic(Cn),!eo(xa)){const{message:$a}=S$2("MISSING_OR_INVALID",`connect() relays: ${xa}`);throw new Error($a)}!I$2(_i)&&Z$2(_i)!==0&&this.validateNamespaces(_i,"requiredNamespaces"),!I$2(An)&&Z$2(An)!==0&&this.validateNamespaces(An,"optionalNamespaces"),I$2(ba)||this.validateSessionProps(ba,"sessionProperties")},this.validateNamespaces=(En,Cn)=>{const _i=Xr$1(En,"connect()",Cn);if(_i)throw new Error(_i.message)},this.isValidApprove=async En=>{if(!to(En))throw new Error(S$2("MISSING_OR_INVALID",`approve() params: ${En}`).message);const{id:Cn,namespaces:_i,relayProtocol:An,sessionProperties:ba}=En;this.checkRecentlyDeleted(Cn),await this.isValidProposalId(Cn);const xa=this.client.proposal.get(Cn),$a=Wn(_i,"approve()");if($a)throw new Error($a.message);const rs=zn(xa.requiredNamespaces,_i,"approve()");if(rs)throw new Error(rs.message);if(!b$1(An,!0)){const{message:ts}=S$2("MISSING_OR_INVALID",`approve() relayProtocol: ${An}`);throw new Error(ts)}I$2(ba)||this.validateSessionProps(ba,"sessionProperties")},this.isValidReject=async En=>{if(!to(En)){const{message:An}=S$2("MISSING_OR_INVALID",`reject() params: ${En}`);throw new Error(An)}const{id:Cn,reason:_i}=En;if(this.checkRecentlyDeleted(Cn),await this.isValidProposalId(Cn),!ro(_i)){const{message:An}=S$2("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(_i)}`);throw new Error(An)}},this.isValidSessionSettleRequest=En=>{if(!to(En)){const{message:rs}=S$2("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${En}`);throw new Error(rs)}const{relay:Cn,controller:_i,namespaces:An,expiry:ba}=En;if(!Jn(Cn)){const{message:rs}=S$2("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(rs)}const xa=Zr$1(_i,"onSessionSettleRequest()");if(xa)throw new Error(xa.message);const $a=Wn(An,"onSessionSettleRequest()");if($a)throw new Error($a.message);if(Kt$1(ba)){const{message:rs}=S$2("EXPIRED","onSessionSettleRequest()");throw new Error(rs)}},this.isValidUpdate=async En=>{if(!to(En)){const{message:$a}=S$2("MISSING_OR_INVALID",`update() params: ${En}`);throw new Error($a)}const{topic:Cn,namespaces:_i}=En;this.checkRecentlyDeleted(Cn),await this.isValidSessionTopic(Cn);const An=this.client.session.get(Cn),ba=Wn(_i,"update()");if(ba)throw new Error(ba.message);const xa=zn(An.requiredNamespaces,_i,"update()");if(xa)throw new Error(xa.message)},this.isValidExtend=async En=>{if(!to(En)){const{message:_i}=S$2("MISSING_OR_INVALID",`extend() params: ${En}`);throw new Error(_i)}const{topic:Cn}=En;this.checkRecentlyDeleted(Cn),await this.isValidSessionTopic(Cn)},this.isValidRequest=async En=>{if(!to(En)){const{message:$a}=S$2("MISSING_OR_INVALID",`request() params: ${En}`);throw new Error($a)}const{topic:Cn,request:_i,chainId:An,expiry:ba}=En;this.checkRecentlyDeleted(Cn),await this.isValidSessionTopic(Cn);const{namespaces:xa}=this.client.session.get(Cn);if(!co(xa,An)){const{message:$a}=S$2("MISSING_OR_INVALID",`request() chainId: ${An}`);throw new Error($a)}if(!oo(_i)){const{message:$a}=S$2("MISSING_OR_INVALID",`request() ${JSON.stringify(_i)}`);throw new Error($a)}if(!ao(xa,An,_i.method)){const{message:$a}=S$2("MISSING_OR_INVALID",`request() method: ${_i.method}`);throw new Error($a)}if(ba&&!po(ba,me)){const{message:$a}=S$2("MISSING_OR_INVALID",`request() expiry: ${ba}. Expiry must be a number (in seconds) between ${me.min} and ${me.max}`);throw new Error($a)}},this.isValidRespond=async En=>{var Cn;if(!to(En)){const{message:ba}=S$2("MISSING_OR_INVALID",`respond() params: ${En}`);throw new Error(ba)}const{topic:_i,response:An}=En;try{await this.isValidSessionTopic(_i)}catch(ba){throw(Cn=En==null?void 0:En.response)!=null&&Cn.id&&this.cleanupAfterResponse(En),ba}if(!so(An)){const{message:ba}=S$2("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(An)}`);throw new Error(ba)}},this.isValidPing=async En=>{if(!to(En)){const{message:_i}=S$2("MISSING_OR_INVALID",`ping() params: ${En}`);throw new Error(_i)}const{topic:Cn}=En;await this.isValidSessionOrPairingTopic(Cn)},this.isValidEmit=async En=>{if(!to(En)){const{message:xa}=S$2("MISSING_OR_INVALID",`emit() params: ${En}`);throw new Error(xa)}const{topic:Cn,event:_i,chainId:An}=En;await this.isValidSessionTopic(Cn);const{namespaces:ba}=this.client.session.get(Cn);if(!co(ba,An)){const{message:xa}=S$2("MISSING_OR_INVALID",`emit() chainId: ${An}`);throw new Error(xa)}if(!io(_i)){const{message:xa}=S$2("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(_i)}`);throw new Error(xa)}if(!uo(ba,An,_i.name)){const{message:xa}=S$2("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(_i)}`);throw new Error(xa)}},this.isValidDisconnect=async En=>{if(!to(En)){const{message:_i}=S$2("MISSING_OR_INVALID",`disconnect() params: ${En}`);throw new Error(_i)}const{topic:Cn}=En;await this.isValidSessionOrPairingTopic(Cn)},this.isValidAuthenticate=En=>{const{chains:Cn,uri:_i,domain:An,nonce:ba}=En;if(!Array.isArray(Cn)||Cn.length===0)throw new Error("chains is required and must be a non-empty array");if(!b$1(_i,!1))throw new Error("uri is required parameter");if(!b$1(An,!1))throw new Error("domain is required parameter");if(!b$1(ba,!1))throw new Error("nonce is required parameter");if([...new Set(Cn.map($a=>re$1($a).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:xa}=re$1(Cn[0]);if(xa!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async En=>{const{attestationId:Cn,hash:_i,encryptedId:An,metadata:ba,transportType:xa}=En,$a={verified:{verifyUrl:ba.verifyUrl||J$1,validation:"UNKNOWN",origin:ba.url||""}};try{if(xa===M.link_mode){const ts=this.getAppLinkIfEnabled(ba,xa);return $a.verified.validation=ts&&new URL(ts).origin===new URL(ba.url).origin?"VALID":"INVALID",$a}const rs=await this.client.core.verify.resolve({attestationId:Cn,hash:_i,encryptedId:An,verifyUrl:ba.verifyUrl});rs&&($a.verified.origin=rs.origin,$a.verified.isScam=rs.isScam,$a.verified.validation=rs.origin===new URL(ba.url).origin?"VALID":"INVALID")}catch(rs){this.client.logger.warn(rs)}return this.client.logger.debug(`Verify context: ${JSON.stringify($a)}`),$a},this.validateSessionProps=(En,Cn)=>{Object.values(En).forEach(_i=>{if(!b$1(_i,!1)){const{message:An}=S$2("MISSING_OR_INVALID",`${Cn} must be in Record<string, string> format. Received: ${JSON.stringify(_i)}`);throw new Error(An)}})},this.getPendingAuthRequest=En=>{const Cn=this.client.auth.requests.get(En);return typeof Cn=="object"?Cn:void 0},this.addToRecentlyDeleted=(En,Cn)=>{if(this.recentlyDeletedMap.set(En,Cn),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let _i=0;const An=this.recentlyDeletedLimit/2;for(const ba of this.recentlyDeletedMap.keys()){if(_i++>=An)break;this.recentlyDeletedMap.delete(ba)}}},this.checkRecentlyDeleted=En=>{const Cn=this.recentlyDeletedMap.get(En);if(Cn){const{message:_i}=S$2("MISSING_OR_INVALID",`Record was recently deleted - ${Cn}: ${En}`);throw new Error(_i)}},this.isLinkModeEnabled=(En,Cn)=>{var _i,An,ba,xa,$a,rs,ts,is,cs;return!En||Cn!==M.link_mode?!1:((An=(_i=this.client.metadata)==null?void 0:_i.redirect)==null?void 0:An.linkMode)===!0&&((xa=(ba=this.client.metadata)==null?void 0:ba.redirect)==null?void 0:xa.universal)!==void 0&&((rs=($a=this.client.metadata)==null?void 0:$a.redirect)==null?void 0:rs.universal)!==""&&((ts=En==null?void 0:En.redirect)==null?void 0:ts.universal)!==void 0&&((is=En==null?void 0:En.redirect)==null?void 0:is.universal)!==""&&((cs=En==null?void 0:En.redirect)==null?void 0:cs.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(En.redirect.universal)&&typeof(global$1==null?void 0:global$1.Linking)<"u"},this.getAppLinkIfEnabled=(En,Cn)=>{var _i;return this.isLinkModeEnabled(En,Cn)?(_i=En==null?void 0:En.redirect)==null?void 0:_i.universal:void 0},this.handleLinkModeMessage=({url:En})=>{if(!En||!En.includes("wc_ev")||!En.includes("topic"))return;const Cn=Bt$2(En,"topic")||"",_i=decodeURIComponent(Bt$2(En,"wc_ev")||""),An=this.client.session.keys.includes(Cn);An&&this.client.session.update(Cn,{transportType:M.link_mode}),this.client.core.dispatchEnvelope({topic:Cn,message:_i,sessionExists:An})},this.registerLinkModeListeners=async()=>{var En;if(Wt$1()||_$1()&&(En=this.client.metadata.redirect)!=null&&En.linkMode){const Cn=global$1==null?void 0:global$1.Linking;if(typeof Cn<"u"){Cn.addEventListener("url",this.handleLinkModeMessage,this.client.name);const _i=await Cn.getInitialURL();_i&&setTimeout(()=>{this.handleLinkModeMessage({url:_i})},50)}}}}isInitialized(){if(!this.initialized){const{message:fn}=S$2("NOT_INITIALIZED",this.name);throw new Error(fn)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(v$2.message,fn=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(fn):this.onRelayMessage(fn)})}async onRelayMessage(fn){const{topic:En,message:Cn,attestation:_i,transportType:An}=fn,{publicKey:ba}=this.client.auth.authKeys.keys.includes(ae)?this.client.auth.authKeys.get(ae):{responseTopic:void 0,publicKey:void 0},xa=await this.client.core.crypto.decode(En,Cn,{receiverPublicKey:ba,encoding:An===M.link_mode?lr$1:ge});try{isJsonRpcRequest(xa)?(this.client.core.history.set(En,xa),this.onRelayEventRequest({topic:En,payload:xa,attestation:_i,transportType:An,encryptedId:yr$1(Cn)})):isJsonRpcResponse(xa)?(await this.client.core.history.resolve(xa),await this.onRelayEventResponse({topic:En,payload:xa,transportType:An}),this.client.core.history.delete(En,xa.id)):this.onRelayEventUnknownPayload({topic:En,payload:xa,transportType:An})}catch($a){this.client.logger.error($a)}}registerExpirerEvents(){this.client.core.expirer.on(S$1.expired,async fn=>{const{topic:En,id:Cn}=Vt$1(fn.target);if(Cn&&this.client.pendingRequest.keys.includes(Cn))return await this.deletePendingSessionRequest(Cn,S$2("EXPIRED"),!0);if(Cn&&this.client.auth.requests.keys.includes(Cn))return await this.deletePendingAuthRequest(Cn,S$2("EXPIRED"),!0);En?this.client.session.keys.includes(En)&&(await this.deleteSession({topic:En,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:En})):Cn&&(await this.deleteProposal(Cn,!0),this.client.events.emit("proposal_expire",{id:Cn}))})}registerPairingEvents(){this.client.core.pairing.events.on(V$1.create,fn=>this.onPairingCreated(fn)),this.client.core.pairing.events.on(V$1.delete,fn=>{this.addToRecentlyDeleted(fn.topic,"pairing")})}isValidPairingTopic(fn){if(!b$1(fn,!1)){const{message:En}=S$2("MISSING_OR_INVALID",`pairing topic should be a string: ${fn}`);throw new Error(En)}if(!this.client.core.pairing.pairings.keys.includes(fn)){const{message:En}=S$2("NO_MATCHING_KEY",`pairing topic doesn't exist: ${fn}`);throw new Error(En)}if(Kt$1(this.client.core.pairing.pairings.get(fn).expiry)){const{message:En}=S$2("EXPIRED",`pairing topic: ${fn}`);throw new Error(En)}}async isValidSessionTopic(fn){if(!b$1(fn,!1)){const{message:En}=S$2("MISSING_OR_INVALID",`session topic should be a string: ${fn}`);throw new Error(En)}if(this.checkRecentlyDeleted(fn),!this.client.session.keys.includes(fn)){const{message:En}=S$2("NO_MATCHING_KEY",`session topic doesn't exist: ${fn}`);throw new Error(En)}if(Kt$1(this.client.session.get(fn).expiry)){await this.deleteSession({topic:fn});const{message:En}=S$2("EXPIRED",`session topic: ${fn}`);throw new Error(En)}if(!this.client.core.crypto.keychain.has(fn)){const{message:En}=S$2("MISSING_OR_INVALID",`session topic does not exist in keychain: ${fn}`);throw await this.deleteSession({topic:fn}),new Error(En)}}async isValidSessionOrPairingTopic(fn){if(this.checkRecentlyDeleted(fn),this.client.session.keys.includes(fn))await this.isValidSessionTopic(fn);else if(this.client.core.pairing.pairings.keys.includes(fn))this.isValidPairingTopic(fn);else if(b$1(fn,!1)){const{message:En}=S$2("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${fn}`);throw new Error(En)}else{const{message:En}=S$2("MISSING_OR_INVALID",`session or pairing topic should be a string: ${fn}`);throw new Error(En)}}async isValidProposalId(fn){if(!no(fn)){const{message:En}=S$2("MISSING_OR_INVALID",`proposal id should be a number: ${fn}`);throw new Error(En)}if(!this.client.proposal.keys.includes(fn)){const{message:En}=S$2("NO_MATCHING_KEY",`proposal id doesn't exist: ${fn}`);throw new Error(En)}if(Kt$1(this.client.proposal.get(fn).expiryTimestamp)){await this.deleteProposal(fn);const{message:En}=S$2("EXPIRED",`proposal id: ${fn}`);throw new Error(En)}}}class Ss extends ni{constructor(fn,En){super(fn,En,st,ye),this.core=fn,this.logger=En}}class yt extends ni{constructor(fn,En){super(fn,En,rt,ye),this.core=fn,this.logger=En}}class Is extends ni{constructor(fn,En){super(fn,En,ot,ye,Cn=>Cn.id),this.core=fn,this.logger=En}}class fs extends ni{constructor(fn,En){super(fn,En,pt,oe,()=>ae),this.core=fn,this.logger=En}}class vs extends ni{constructor(fn,En){super(fn,En,ht$1,oe),this.core=fn,this.logger=En}}class qs extends ni{constructor(fn,En){super(fn,En,dt,oe,Cn=>Cn.id),this.core=fn,this.logger=En}}class Ts{constructor(fn,En){this.core=fn,this.logger=En,this.authKeys=new fs(this.core,this.logger),this.pairingTopics=new vs(this.core,this.logger),this.requests=new qs(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}class _e extends S$3{constructor(fn){super(fn),this.protocol=be,this.version=Ce,this.name=we.name,this.events=new eventsExports.EventEmitter,this.on=(Cn,_i)=>this.events.on(Cn,_i),this.once=(Cn,_i)=>this.events.once(Cn,_i),this.off=(Cn,_i)=>this.events.off(Cn,_i),this.removeListener=(Cn,_i)=>this.events.removeListener(Cn,_i),this.removeAllListeners=Cn=>this.events.removeAllListeners(Cn),this.connect=async Cn=>{try{return await this.engine.connect(Cn)}catch(_i){throw this.logger.error(_i.message),_i}},this.pair=async Cn=>{try{return await this.engine.pair(Cn)}catch(_i){throw this.logger.error(_i.message),_i}},this.approve=async Cn=>{try{return await this.engine.approve(Cn)}catch(_i){throw this.logger.error(_i.message),_i}},this.reject=async Cn=>{try{return await this.engine.reject(Cn)}catch(_i){throw this.logger.error(_i.message),_i}},this.update=async Cn=>{try{return await this.engine.update(Cn)}catch(_i){throw this.logger.error(_i.message),_i}},this.extend=async Cn=>{try{return await this.engine.extend(Cn)}catch(_i){throw this.logger.error(_i.message),_i}},this.request=async Cn=>{try{return await this.engine.request(Cn)}catch(_i){throw this.logger.error(_i.message),_i}},this.respond=async Cn=>{try{return await this.engine.respond(Cn)}catch(_i){throw this.logger.error(_i.message),_i}},this.ping=async Cn=>{try{return await this.engine.ping(Cn)}catch(_i){throw this.logger.error(_i.message),_i}},this.emit=async Cn=>{try{return await this.engine.emit(Cn)}catch(_i){throw this.logger.error(_i.message),_i}},this.disconnect=async Cn=>{try{return await this.engine.disconnect(Cn)}catch(_i){throw this.logger.error(_i.message),_i}},this.find=Cn=>{try{return this.engine.find(Cn)}catch(_i){throw this.logger.error(_i.message),_i}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(Cn){throw this.logger.error(Cn.message),Cn}},this.authenticate=async(Cn,_i)=>{try{return await this.engine.authenticate(Cn,_i)}catch(An){throw this.logger.error(An.message),An}},this.formatAuthMessage=Cn=>{try{return this.engine.formatAuthMessage(Cn)}catch(_i){throw this.logger.error(_i.message),_i}},this.approveSessionAuthenticate=async Cn=>{try{return await this.engine.approveSessionAuthenticate(Cn)}catch(_i){throw this.logger.error(_i.message),_i}},this.rejectSessionAuthenticate=async Cn=>{try{return await this.engine.rejectSessionAuthenticate(Cn)}catch(_i){throw this.logger.error(_i.message),_i}},this.name=(fn==null?void 0:fn.name)||we.name,this.metadata=(fn==null?void 0:fn.metadata)||Nt$2(),this.signConfig=fn==null?void 0:fn.signConfig;const En=typeof(fn==null?void 0:fn.logger)<"u"&&typeof(fn==null?void 0:fn.logger)!="string"?fn.logger:Hg(k$3({level:(fn==null?void 0:fn.logger)||we.logger}));this.core=(fn==null?void 0:fn.core)||new bn(fn),this.logger=E$1(En,this.name),this.session=new yt(this.core,this.logger),this.proposal=new Ss(this.core,this.logger),this.pendingRequest=new Is(this.core,this.logger),this.engine=new Rs(this),this.auth=new Ts(this.core,this.logger)}static async init(fn){const En=new _e(fn);return await En.initialize(),En}get context(){return y$5(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),this.engine.processRelayMessageCache()}catch(fn){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(fn.message),fn}}}const Ns=yt,Ps=_e;var l={exports:{}},c=typeof Reflect=="object"?Reflect:null,y=c&&typeof c.apply=="function"?c.apply:function(vn,fn,En){return Function.prototype.apply.call(vn,fn,En)},f;c&&typeof c.ownKeys=="function"?f=c.ownKeys:Object.getOwnPropertySymbols?f=function(vn){return Object.getOwnPropertyNames(vn).concat(Object.getOwnPropertySymbols(vn))}:f=function(vn){return Object.getOwnPropertyNames(vn)};function k(vn){console&&console.warn&&console.warn(vn)}var w=Number.isNaN||function(vn){return vn!==vn};function o$1(){o$1.init.call(this)}l.exports=o$1,l.exports.once=K,o$1.EventEmitter=o$1,o$1.prototype._events=void 0,o$1.prototype._eventsCount=0,o$1.prototype._maxListeners=void 0;var L=10;function g(vn){if(typeof vn!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof vn)}Object.defineProperty(o$1,"defaultMaxListeners",{enumerable:!0,get:function(){return L},set:function(vn){if(typeof vn!="number"||vn<0||w(vn))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+vn+".");L=vn}}),o$1.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o$1.prototype.setMaxListeners=function(vn){if(typeof vn!="number"||vn<0||w(vn))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+vn+".");return this._maxListeners=vn,this};function _(vn){return vn._maxListeners===void 0?o$1.defaultMaxListeners:vn._maxListeners}o$1.prototype.getMaxListeners=function(){return _(this)},o$1.prototype.emit=function(vn){for(var fn=[],En=1;En<arguments.length;En++)fn.push(arguments[En]);var Cn=vn==="error",_i=this._events;if(_i!==void 0)Cn=Cn&&_i.error===void 0;else if(!Cn)return!1;if(Cn){var An;if(fn.length>0&&(An=fn[0]),An instanceof Error)throw An;var ba=new Error("Unhandled error."+(An?" ("+An.message+")":""));throw ba.context=An,ba}var xa=_i[vn];if(xa===void 0)return!1;if(typeof xa=="function")y(xa,this,fn);else for(var $a=xa.length,rs=O(xa,$a),En=0;En<$a;++En)y(rs[En],this,fn);return!0};function S(vn,fn,En,Cn){var _i,An,ba;if(g(En),An=vn._events,An===void 0?(An=vn._events=Object.create(null),vn._eventsCount=0):(An.newListener!==void 0&&(vn.emit("newListener",fn,En.listener?En.listener:En),An=vn._events),ba=An[fn]),ba===void 0)ba=An[fn]=En,++vn._eventsCount;else if(typeof ba=="function"?ba=An[fn]=Cn?[En,ba]:[ba,En]:Cn?ba.unshift(En):ba.push(En),_i=_(vn),_i>0&&ba.length>_i&&!ba.warned){ba.warned=!0;var xa=new Error("Possible EventEmitter memory leak detected. "+ba.length+" "+String(fn)+" listeners added. Use emitter.setMaxListeners() to increase limit");xa.name="MaxListenersExceededWarning",xa.emitter=vn,xa.type=fn,xa.count=ba.length,k(xa)}return vn}o$1.prototype.addListener=function(vn,fn){return S(this,vn,fn,!1)},o$1.prototype.on=o$1.prototype.addListener,o$1.prototype.prependListener=function(vn,fn){return S(this,vn,fn,!0)};function D(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function C(vn,fn,En){var Cn={fired:!1,wrapFn:void 0,target:vn,type:fn,listener:En},_i=D.bind(Cn);return _i.listener=En,Cn.wrapFn=_i,_i}o$1.prototype.once=function(vn,fn){return g(fn),this.on(vn,C(this,vn,fn)),this},o$1.prototype.prependOnceListener=function(vn,fn){return g(fn),this.prependListener(vn,C(this,vn,fn)),this},o$1.prototype.removeListener=function(vn,fn){var En,Cn,_i,An,ba;if(g(fn),Cn=this._events,Cn===void 0)return this;if(En=Cn[vn],En===void 0)return this;if(En===fn||En.listener===fn)--this._eventsCount===0?this._events=Object.create(null):(delete Cn[vn],Cn.removeListener&&this.emit("removeListener",vn,En.listener||fn));else if(typeof En!="function"){for(_i=-1,An=En.length-1;An>=0;An--)if(En[An]===fn||En[An].listener===fn){ba=En[An].listener,_i=An;break}if(_i<0)return this;_i===0?En.shift():F(En,_i),En.length===1&&(Cn[vn]=En[0]),Cn.removeListener!==void 0&&this.emit("removeListener",vn,ba||fn)}return this},o$1.prototype.off=o$1.prototype.removeListener,o$1.prototype.removeAllListeners=function(vn){var fn,En,Cn;if(En=this._events,En===void 0)return this;if(En.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):En[vn]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete En[vn]),this;if(arguments.length===0){var _i=Object.keys(En),An;for(Cn=0;Cn<_i.length;++Cn)An=_i[Cn],An!=="removeListener"&&this.removeAllListeners(An);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(fn=En[vn],typeof fn=="function")this.removeListener(vn,fn);else if(fn!==void 0)for(Cn=fn.length-1;Cn>=0;Cn--)this.removeListener(vn,fn[Cn]);return this};function b(vn,fn,En){var Cn=vn._events;if(Cn===void 0)return[];var _i=Cn[fn];return _i===void 0?[]:typeof _i=="function"?En?[_i.listener||_i]:[_i]:En?z(_i):O(_i,_i.length)}o$1.prototype.listeners=function(vn){return b(this,vn,!0)},o$1.prototype.rawListeners=function(vn){return b(this,vn,!1)},o$1.listenerCount=function(vn,fn){return typeof vn.listenerCount=="function"?vn.listenerCount(fn):E.call(vn,fn)},o$1.prototype.listenerCount=E;function E(vn){var fn=this._events;if(fn!==void 0){var En=fn[vn];if(typeof En=="function")return 1;if(En!==void 0)return En.length}return 0}o$1.prototype.eventNames=function(){return this._eventsCount>0?f(this._events):[]};function O(vn,fn){for(var En=new Array(fn),Cn=0;Cn<fn;++Cn)En[Cn]=vn[Cn];return En}function F(vn,fn){for(;fn+1<vn.length;fn++)vn[fn]=vn[fn+1];vn.pop()}function z(vn){for(var fn=new Array(vn.length),En=0;En<fn.length;++En)fn[En]=vn[En].listener||vn[En];return fn}function K(vn,fn){return new Promise(function(En,Cn){function _i(ba){vn.removeListener(fn,An),Cn(ba)}function An(){typeof vn.removeListener=="function"&&vn.removeListener("error",_i),En([].slice.call(arguments))}R(vn,fn,An,{once:!0}),fn!=="error"&&U(vn,_i,{once:!0})})}function U(vn,fn,En){typeof vn.on=="function"&&R(vn,"error",fn,En)}function R(vn,fn,En,Cn){if(typeof vn.on=="function")Cn.once?vn.once(fn,En):vn.on(fn,En);else if(typeof vn.addEventListener=="function")vn.addEventListener(fn,function _i(An){Cn.once&&vn.removeEventListener(fn,_i),En(An)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof vn)}const p="Web3Wallet";class x{constructor(fn){this.opts=fn}}class P{constructor(fn){this.client=fn}}var V=Object.defineProperty,B=Object.defineProperties,J=Object.getOwnPropertyDescriptors,q=Object.getOwnPropertySymbols,Y$1=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,j=(vn,fn,En)=>fn in vn?V(vn,fn,{enumerable:!0,configurable:!0,writable:!0,value:En}):vn[fn]=En,ee=(vn,fn)=>{for(var En in fn||(fn={}))Y$1.call(fn,En)&&j(vn,En,fn[En]);if(q)for(var En of q(fn))Z.call(fn,En)&&j(vn,En,fn[En]);return vn},te=(vn,fn)=>B(vn,J(fn));class se extends P{constructor(fn){super(fn),this.init=async()=>{this.signClient=await Ps.init({core:this.client.core,metadata:this.client.metadata,signConfig:this.client.signConfig}),this.authClient=await zr$2.init({core:this.client.core,projectId:"",metadata:this.client.metadata})},this.pair=async En=>{await this.client.core.pairing.pair(En)},this.approveSession=async En=>{const{topic:Cn,acknowledged:_i}=await this.signClient.approve(te(ee({},En),{id:En.id,namespaces:En.namespaces,sessionProperties:En.sessionProperties,sessionConfig:En.sessionConfig}));return await _i(),this.signClient.session.get(Cn)},this.rejectSession=async En=>await this.signClient.reject(En),this.updateSession=async En=>await this.signClient.update(En),this.extendSession=async En=>await this.signClient.extend(En),this.respondSessionRequest=async En=>await this.signClient.respond(En),this.disconnectSession=async En=>await this.signClient.disconnect(En),this.emitSessionEvent=async En=>await this.signClient.emit(En),this.getActiveSessions=()=>this.signClient.session.getAll().reduce((En,Cn)=>(En[Cn.topic]=Cn,En),{}),this.getPendingSessionProposals=()=>this.signClient.proposal.getAll(),this.getPendingSessionRequests=()=>this.signClient.getPendingSessionRequests(),this.respondAuthRequest=async(En,Cn)=>await this.authClient.respond(En,Cn),this.getPendingAuthRequests=()=>this.authClient.requests.getAll().filter(En=>"requester"in En),this.formatMessage=(En,Cn)=>this.authClient.formatMessage(En,Cn),this.approveSessionAuthenticate=async En=>await this.signClient.approveSessionAuthenticate(En),this.rejectSessionAuthenticate=async En=>await this.signClient.rejectSessionAuthenticate(En),this.formatAuthMessage=En=>this.signClient.formatAuthMessage(En),this.registerDeviceToken=En=>this.client.core.echoClient.registerDeviceToken(En),this.on=(En,Cn)=>(this.setEvent(En,"off"),this.setEvent(En,"on"),this.client.events.on(En,Cn)),this.once=(En,Cn)=>(this.setEvent(En,"off"),this.setEvent(En,"once"),this.client.events.once(En,Cn)),this.off=(En,Cn)=>(this.setEvent(En,"off"),this.client.events.off(En,Cn)),this.removeListener=(En,Cn)=>(this.setEvent(En,"removeListener"),this.client.events.removeListener(En,Cn)),this.onSessionRequest=En=>{this.client.events.emit("session_request",En)},this.onSessionProposal=En=>{this.client.events.emit("session_proposal",En)},this.onSessionDelete=En=>{this.client.events.emit("session_delete",En)},this.onAuthRequest=En=>{this.client.events.emit("auth_request",En)},this.onProposalExpire=En=>{this.client.events.emit("proposal_expire",En)},this.onSessionRequestExpire=En=>{this.client.events.emit("session_request_expire",En)},this.onSessionRequestAuthenticate=En=>{this.client.events.emit("session_authenticate",En)},this.setEvent=(En,Cn)=>{switch(En){case"session_request":this.signClient.events[Cn]("session_request",this.onSessionRequest);break;case"session_proposal":this.signClient.events[Cn]("session_proposal",this.onSessionProposal);break;case"session_delete":this.signClient.events[Cn]("session_delete",this.onSessionDelete);break;case"auth_request":this.authClient[Cn]("auth_request",this.onAuthRequest);break;case"proposal_expire":this.signClient.events[Cn]("proposal_expire",this.onProposalExpire);break;case"session_request_expire":this.signClient.events[Cn]("session_request_expire",this.onSessionRequestExpire);break;case"session_authenticate":this.signClient.events[Cn]("session_authenticate",this.onSessionRequestAuthenticate);break}},this.signClient={},this.authClient={}}}const ne={decryptMessage:async vn=>{const fn={core:new bn({storageOptions:vn.storageOptions,storage:vn.storage})};await fn.core.crypto.init();const En=fn.core.crypto.decode(vn.topic,vn.encryptedMessage);return fn.core=null,En},getMetadata:async vn=>{const fn={core:new bn({storageOptions:vn.storageOptions,storage:vn.storage}),sessionStore:null};fn.sessionStore=new Ns(fn.core,fn.core.logger),await fn.sessionStore.init();const En=fn.sessionStore.get(vn.topic),Cn=En==null?void 0:En.peer.metadata;return fn.core=null,fn.sessionStore=null,Cn}},T=class extends x{constructor(vn){super(vn),this.events=new l.exports,this.on=(fn,En)=>this.engine.on(fn,En),this.once=(fn,En)=>this.engine.once(fn,En),this.off=(fn,En)=>this.engine.off(fn,En),this.removeListener=(fn,En)=>this.engine.removeListener(fn,En),this.pair=async fn=>{try{return await this.engine.pair(fn)}catch(En){throw this.logger.error(En.message),En}},this.approveSession=async fn=>{try{return await this.engine.approveSession(fn)}catch(En){throw this.logger.error(En.message),En}},this.rejectSession=async fn=>{try{return await this.engine.rejectSession(fn)}catch(En){throw this.logger.error(En.message),En}},this.updateSession=async fn=>{try{return await this.engine.updateSession(fn)}catch(En){throw this.logger.error(En.message),En}},this.extendSession=async fn=>{try{return await this.engine.extendSession(fn)}catch(En){throw this.logger.error(En.message),En}},this.respondSessionRequest=async fn=>{try{return await this.engine.respondSessionRequest(fn)}catch(En){throw this.logger.error(En.message),En}},this.disconnectSession=async fn=>{try{return await this.engine.disconnectSession(fn)}catch(En){throw this.logger.error(En.message),En}},this.emitSessionEvent=async fn=>{try{return await this.engine.emitSessionEvent(fn)}catch(En){throw this.logger.error(En.message),En}},this.getActiveSessions=()=>{try{return this.engine.getActiveSessions()}catch(fn){throw this.logger.error(fn.message),fn}},this.getPendingSessionProposals=()=>{try{return this.engine.getPendingSessionProposals()}catch(fn){throw this.logger.error(fn.message),fn}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(fn){throw this.logger.error(fn.message),fn}},this.respondAuthRequest=async(fn,En)=>{try{return await this.engine.respondAuthRequest(fn,En)}catch(Cn){throw this.logger.error(Cn.message),Cn}},this.getPendingAuthRequests=()=>{try{return this.engine.getPendingAuthRequests()}catch(fn){throw this.logger.error(fn.message),fn}},this.formatMessage=(fn,En)=>{try{return this.engine.formatMessage(fn,En)}catch(Cn){throw this.logger.error(Cn.message),Cn}},this.registerDeviceToken=fn=>{try{return this.engine.registerDeviceToken(fn)}catch(En){throw this.logger.error(En.message),En}},this.approveSessionAuthenticate=fn=>{try{return this.engine.approveSessionAuthenticate(fn)}catch(En){throw this.logger.error(En.message),En}},this.rejectSessionAuthenticate=fn=>{try{return this.engine.rejectSessionAuthenticate(fn)}catch(En){throw this.logger.error(En.message),En}},this.formatAuthMessage=fn=>{try{return this.engine.formatAuthMessage(fn)}catch(En){throw this.logger.error(En.message),En}},this.metadata=vn.metadata,this.name=vn.name||p,this.signConfig=vn.signConfig,this.core=vn.core,this.logger=this.core.logger,this.engine=new se(this)}static async init(vn){const fn=new T(vn);return await fn.initialize(),fn}async initialize(){this.logger.trace("Initialized");try{await this.engine.init(),this.logger.info("Web3Wallet Initialization Success")}catch(vn){throw this.logger.info("Web3Wallet Initialization Failure"),this.logger.error(vn.message),vn}}};let v=T;v.notifications=ne;const ie=v,TW_WC_PROJECT_ID$1="145769e410f16970a79ff77b2d89a1e0",WC_RELAY_URL="wss://relay.walletconnect.com",EIP155_SIGNING_METHODS={PERSONAL_SIGN:"personal_sign",ETH_SIGN:"eth_sign",ETH_SIGN_TRANSACTION:"eth_signTransaction",ETH_SIGN_TYPED_DATA:"eth_signTypedData",ETH_SIGN_TYPED_DATA_V3:"eth_signTypedData_v3",ETH_SIGN_TYPED_DATA_V4:"eth_signTypedData_v4",ETH_SEND_TRANSACTION:"eth_sendTransaction",SWITCH_CHAIN:"wallet_switchEthereumChain"};function toPrimitive(vn,fn){if(typeof vn!="object"||!vn)return vn;var En=vn[Symbol.toPrimitive];if(En!==void 0){var Cn=En.call(vn,fn||"default");if(typeof Cn!="object")return Cn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(fn==="string"?String:Number)(vn)}function toPropertyKey(vn){var fn=toPrimitive(vn,"string");return typeof fn=="symbol"?fn:fn+""}function _defineProperty(vn,fn,En){return fn=toPropertyKey(fn),fn in vn?Object.defineProperty(vn,fn,{value:En,enumerable:!0,configurable:!0,writable:!0}):vn[fn]=En,vn}const ERC20WithDecimalsAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"who",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"}];function createErc20(vn,fn){return new Contract(fn,ERC20WithDecimalsAbi,vn)}function chainIdToThirdwebRpc(vn,fn){return`https://${vn}.rpc.thirdweb.com${fn?`/${fn}`:""}${typeof globalThis<"u"&&"APP_BUNDLE_ID"in globalThis&&globalThis.APP_BUNDLE_ID?`?bundleId=${globalThis.APP_BUNDLE_ID}`:""}`}class AbstractWallet extends EventEmitter$1{constructor(){super(...arguments),_defineProperty(this,"type","evm")}async getAddress(){return(await this.getSigner()).getAddress()}async getBalance(){let fn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NATIVE_TOKEN_ADDRESS;const En=await this.getSigner(),Cn=await this.getAddress();if(!En.provider)throw new Error("Please connect a provider");let _i;return isNativeToken(fn)?_i=await En.provider.getBalance(Cn):_i=await createErc20(En,fn).balanceOf(Cn),await fetchCurrencyValue(En.provider,fn,_i)}async getChainId(){return(await this.getSigner()).getChainId()}async transfer(fn,En){let Cn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NATIVE_TOKEN_ADDRESS;const _i=await this.getSigner(),An=await this.getAddress();if(!_i.provider)throw new Error("Please connect a provider");const ba=await normalizePriceValue(_i.provider,En,Cn);if(isNativeToken(Cn)){const xa=getDefaultGasOverrides(_i.provider);return{receipt:await(await _i.sendTransaction({from:An,to:fn,value:ba,...xa})).wait()}}else return{receipt:await(await createErc20(_i,Cn).transfer(fn,ba)).wait()}}async signMessage(fn){return await(await this.getSigner()).signMessage(fn)}async verifySignature(fn,En,Cn,_i){try{const An=hashMessage(fn),ba=arrayify(An);if(recoverAddress(ba,En)===Cn)return!0}catch{}return!1}}var pkg={name:"@thirdweb-dev/wallets",version:"2.5.39",main:"dist/thirdweb-dev-wallets.cjs.js",module:"dist/thirdweb-dev-wallets.esm.js",browser:{"./dist/thirdweb-dev-wallets.esm.js":"./dist/thirdweb-dev-wallets.browser.esm.js"},exports:{".":{module:{browser:"./dist/thirdweb-dev-wallets.browser.esm.js",default:"./dist/thirdweb-dev-wallets.esm.js"},default:"./dist/thirdweb-dev-wallets.cjs.js"},"./evm":{module:{browser:"./evm/dist/thirdweb-dev-wallets-evm.browser.esm.js",default:"./evm/dist/thirdweb-dev-wallets-evm.esm.js"},default:"./evm/dist/thirdweb-dev-wallets-evm.cjs.js"},"./evm/wallets/okx":{module:{browser:"./evm/wallets/okx/dist/thirdweb-dev-wallets-evm-wallets-okx.browser.esm.js",default:"./evm/wallets/okx/dist/thirdweb-dev-wallets-evm-wallets-okx.esm.js"},default:"./evm/wallets/okx/dist/thirdweb-dev-wallets-evm-wallets-okx.cjs.js"},"./evm/wallets/base":{module:{browser:"./evm/wallets/base/dist/thirdweb-dev-wallets-evm-wallets-base.browser.esm.js",default:"./evm/wallets/base/dist/thirdweb-dev-wallets-evm-wallets-base.esm.js"},default:"./evm/wallets/base/dist/thirdweb-dev-wallets-evm-wallets-base.cjs.js"},"./evm/wallets/safe":{module:{browser:"./evm/wallets/safe/dist/thirdweb-dev-wallets-evm-wallets-safe.browser.esm.js",default:"./evm/wallets/safe/dist/thirdweb-dev-wallets-evm-wallets-safe.esm.js"},default:"./evm/wallets/safe/dist/thirdweb-dev-wallets-evm-wallets-safe.cjs.js"},"./evm/wallets/async":{module:{browser:"./evm/wallets/async/dist/thirdweb-dev-wallets-evm-wallets-async.browser.esm.js",default:"./evm/wallets/async/dist/thirdweb-dev-wallets-evm-wallets-async.esm.js"},default:"./evm/wallets/async/dist/thirdweb-dev-wallets-evm-wallets-async.cjs.js"},"./evm/wallets/frame":{module:{browser:"./evm/wallets/frame/dist/thirdweb-dev-wallets-evm-wallets-frame.browser.esm.js",default:"./evm/wallets/frame/dist/thirdweb-dev-wallets-evm-wallets-frame.esm.js"},default:"./evm/wallets/frame/dist/thirdweb-dev-wallets-evm-wallets-frame.cjs.js"},"./evm/wallets/magic":{module:{browser:"./evm/wallets/magic/dist/thirdweb-dev-wallets-evm-wallets-magic.browser.esm.js",default:"./evm/wallets/magic/dist/thirdweb-dev-wallets-evm-wallets-magic.esm.js"},default:"./evm/wallets/magic/dist/thirdweb-dev-wallets-evm-wallets-magic.cjs.js"},"./evm/wallets/rabby":{module:{browser:"./evm/wallets/rabby/dist/thirdweb-dev-wallets-evm-wallets-rabby.browser.esm.js",default:"./evm/wallets/rabby/dist/thirdweb-dev-wallets-evm-wallets-rabby.esm.js"},default:"./evm/wallets/rabby/dist/thirdweb-dev-wallets-evm-wallets-rabby.cjs.js"},"./evm/wallets/trust":{module:{browser:"./evm/wallets/trust/dist/thirdweb-dev-wallets-evm-wallets-trust.browser.esm.js",default:"./evm/wallets/trust/dist/thirdweb-dev-wallets-evm-wallets-trust.esm.js"},default:"./evm/wallets/trust/dist/thirdweb-dev-wallets-evm-wallets-trust.cjs.js"},"./evm/wallets/xdefi":{module:{browser:"./evm/wallets/xdefi/dist/thirdweb-dev-wallets-evm-wallets-xdefi.browser.esm.js",default:"./evm/wallets/xdefi/dist/thirdweb-dev-wallets-evm-wallets-xdefi.esm.js"},default:"./evm/wallets/xdefi/dist/thirdweb-dev-wallets-evm-wallets-xdefi.cjs.js"},"./evm/wallets/blocto":{module:{browser:"./evm/wallets/blocto/dist/thirdweb-dev-wallets-evm-wallets-blocto.browser.esm.js",default:"./evm/wallets/blocto/dist/thirdweb-dev-wallets-evm-wallets-blocto.esm.js"},default:"./evm/wallets/blocto/dist/thirdweb-dev-wallets-evm-wallets-blocto.cjs.js"},"./evm/wallets/coin98":{module:{browser:"./evm/wallets/coin98/dist/thirdweb-dev-wallets-evm-wallets-coin98.browser.esm.js",default:"./evm/wallets/coin98/dist/thirdweb-dev-wallets-evm-wallets-coin98.esm.js"},default:"./evm/wallets/coin98/dist/thirdweb-dev-wallets-evm-wallets-coin98.cjs.js"},"./evm/wallets/engine":{module:{browser:"./evm/wallets/engine/dist/thirdweb-dev-wallets-evm-wallets-engine.browser.esm.js",default:"./evm/wallets/engine/dist/thirdweb-dev-wallets-evm-wallets-engine.esm.js"},default:"./evm/wallets/engine/dist/thirdweb-dev-wallets-evm-wallets-engine.cjs.js"},"./evm/wallets/ethers":{module:{browser:"./evm/wallets/ethers/dist/thirdweb-dev-wallets-evm-wallets-ethers.browser.esm.js",default:"./evm/wallets/ethers/dist/thirdweb-dev-wallets-evm-wallets-ethers.esm.js"},default:"./evm/wallets/ethers/dist/thirdweb-dev-wallets-evm-wallets-ethers.cjs.js"},"./evm/wallets/onekey":{module:{browser:"./evm/wallets/onekey/dist/thirdweb-dev-wallets-evm-wallets-onekey.browser.esm.js",default:"./evm/wallets/onekey/dist/thirdweb-dev-wallets-evm-wallets-onekey.esm.js"},default:"./evm/wallets/onekey/dist/thirdweb-dev-wallets-evm-wallets-onekey.cjs.js"},"./evm/wallets/signer":{module:{browser:"./evm/wallets/signer/dist/thirdweb-dev-wallets-evm-wallets-signer.browser.esm.js",default:"./evm/wallets/signer/dist/thirdweb-dev-wallets-evm-wallets-signer.esm.js"},default:"./evm/wallets/signer/dist/thirdweb-dev-wallets-evm-wallets-signer.cjs.js"},"./evm/wallets/zerion":{module:{browser:"./evm/wallets/zerion/dist/thirdweb-dev-wallets-evm-wallets-zerion.browser.esm.js",default:"./evm/wallets/zerion/dist/thirdweb-dev-wallets-evm-wallets-zerion.esm.js"},default:"./evm/wallets/zerion/dist/thirdweb-dev-wallets-evm-wallets-zerion.cjs.js"},"./evm/wallets/aws-kms":{module:{browser:"./evm/wallets/aws-kms/dist/thirdweb-dev-wallets-evm-wallets-aws-kms.browser.esm.js",default:"./evm/wallets/aws-kms/dist/thirdweb-dev-wallets-evm-wallets-aws-kms.esm.js"},default:"./evm/wallets/aws-kms/dist/thirdweb-dev-wallets-evm-wallets-aws-kms.cjs.js"},"./evm/wallets/gcp-kms":{module:{browser:"./evm/wallets/gcp-kms/dist/thirdweb-dev-wallets-evm-wallets-gcp-kms.browser.esm.js",default:"./evm/wallets/gcp-kms/dist/thirdweb-dev-wallets-evm-wallets-gcp-kms.esm.js"},default:"./evm/wallets/gcp-kms/dist/thirdweb-dev-wallets-evm-wallets-gcp-kms.cjs.js"},"./evm/wallets/imtoken":{module:{browser:"./evm/wallets/imtoken/dist/thirdweb-dev-wallets-evm-wallets-imtoken.browser.esm.js",default:"./evm/wallets/imtoken/dist/thirdweb-dev-wallets-evm-wallets-imtoken.esm.js"},default:"./evm/wallets/imtoken/dist/thirdweb-dev-wallets-evm-wallets-imtoken.cjs.js"},"./evm/wallets/phantom":{module:{browser:"./evm/wallets/phantom/dist/thirdweb-dev-wallets-evm-wallets-phantom.browser.esm.js",default:"./evm/wallets/phantom/dist/thirdweb-dev-wallets-evm-wallets-phantom.esm.js"},default:"./evm/wallets/phantom/dist/thirdweb-dev-wallets-evm-wallets-phantom.cjs.js"},"./evm/wallets/abstract":{module:{browser:"./evm/wallets/abstract/dist/thirdweb-dev-wallets-evm-wallets-abstract.browser.esm.js",default:"./evm/wallets/abstract/dist/thirdweb-dev-wallets-evm-wallets-abstract.esm.js"},default:"./evm/wallets/abstract/dist/thirdweb-dev-wallets-evm-wallets-abstract.cjs.js"},"./evm/wallets/injected":{module:{browser:"./evm/wallets/injected/dist/thirdweb-dev-wallets-evm-wallets-injected.browser.esm.js",default:"./evm/wallets/injected/dist/thirdweb-dev-wallets-evm-wallets-injected.esm.js"},default:"./evm/wallets/injected/dist/thirdweb-dev-wallets-evm-wallets-injected.cjs.js"},"./evm/wallets/metamask":{module:{browser:"./evm/wallets/metamask/dist/thirdweb-dev-wallets-evm-wallets-metamask.browser.esm.js",default:"./evm/wallets/metamask/dist/thirdweb-dev-wallets-evm-wallets-metamask.esm.js"},default:"./evm/wallets/metamask/dist/thirdweb-dev-wallets-evm-wallets-metamask.cjs.js"},"./evm/wallets/magic-eden":{module:{browser:"./evm/wallets/magic-eden/dist/thirdweb-dev-wallets-evm-wallets-magic-eden.browser.esm.js",default:"./evm/wallets/magic-eden/dist/thirdweb-dev-wallets-evm-wallets-magic-eden.esm.js"},default:"./evm/wallets/magic-eden/dist/thirdweb-dev-wallets-evm-wallets-magic-eden.cjs.js"},"./evm/wallets/core-wallet":{module:{browser:"./evm/wallets/core-wallet/dist/thirdweb-dev-wallets-evm-wallets-core-wallet.browser.esm.js",default:"./evm/wallets/core-wallet/dist/thirdweb-dev-wallets-evm-wallets-core-wallet.esm.js"},default:"./evm/wallets/core-wallet/dist/thirdweb-dev-wallets-evm-wallets-core-wallet.cjs.js"},"./evm/wallets/private-key":{module:{browser:"./evm/wallets/private-key/dist/thirdweb-dev-wallets-evm-wallets-private-key.browser.esm.js",default:"./evm/wallets/private-key/dist/thirdweb-dev-wallets-evm-wallets-private-key.esm.js"},default:"./evm/wallets/private-key/dist/thirdweb-dev-wallets-evm-wallets-private-key.cjs.js"},"./evm/connectors/okx":{module:{browser:"./evm/connectors/okx/dist/thirdweb-dev-wallets-evm-connectors-okx.browser.esm.js",default:"./evm/connectors/okx/dist/thirdweb-dev-wallets-evm-connectors-okx.esm.js"},default:"./evm/connectors/okx/dist/thirdweb-dev-wallets-evm-connectors-okx.cjs.js"},"./evm/wallets/local-wallet":{module:{browser:"./evm/wallets/local-wallet/dist/thirdweb-dev-wallets-evm-wallets-local-wallet.browser.esm.js",default:"./evm/wallets/local-wallet/dist/thirdweb-dev-wallets-evm-wallets-local-wallet.esm.js"},default:"./evm/wallets/local-wallet/dist/thirdweb-dev-wallets-evm-wallets-local-wallet.cjs.js"},"./evm/wallets/paper-wallet":{module:{browser:"./evm/wallets/paper-wallet/dist/thirdweb-dev-wallets-evm-wallets-paper-wallet.browser.esm.js",default:"./evm/wallets/paper-wallet/dist/thirdweb-dev-wallets-evm-wallets-paper-wallet.esm.js"},default:"./evm/wallets/paper-wallet/dist/thirdweb-dev-wallets-evm-wallets-paper-wallet.cjs.js"},"./evm/wallets/smart-wallet":{module:{browser:"./evm/wallets/smart-wallet/dist/thirdweb-dev-wallets-evm-wallets-smart-wallet.browser.esm.js",default:"./evm/wallets/smart-wallet/dist/thirdweb-dev-wallets-evm-wallets-smart-wallet.esm.js"},default:"./evm/wallets/smart-wallet/dist/thirdweb-dev-wallets-evm-wallets-smart-wallet.cjs.js"},"./evm/connectors/safe":{module:{browser:"./evm/connectors/safe/dist/thirdweb-dev-wallets-evm-connectors-safe.browser.esm.js",default:"./evm/connectors/safe/dist/thirdweb-dev-wallets-evm-connectors-safe.esm.js"},default:"./evm/connectors/safe/dist/thirdweb-dev-wallets-evm-connectors-safe.cjs.js"},"./evm/connectors/frame":{module:{browser:"./evm/connectors/frame/dist/thirdweb-dev-wallets-evm-connectors-frame.browser.esm.js",default:"./evm/connectors/frame/dist/thirdweb-dev-wallets-evm-connectors-frame.esm.js"},default:"./evm/connectors/frame/dist/thirdweb-dev-wallets-evm-connectors-frame.cjs.js"},"./evm/connectors/magic":{module:{browser:"./evm/connectors/magic/dist/thirdweb-dev-wallets-evm-connectors-magic.browser.esm.js",default:"./evm/connectors/magic/dist/thirdweb-dev-wallets-evm-connectors-magic.esm.js"},default:"./evm/connectors/magic/dist/thirdweb-dev-wallets-evm-connectors-magic.cjs.js"},"./evm/connectors/paper":{module:{browser:"./evm/connectors/paper/dist/thirdweb-dev-wallets-evm-connectors-paper.browser.esm.js",default:"./evm/connectors/paper/dist/thirdweb-dev-wallets-evm-connectors-paper.esm.js"},default:"./evm/connectors/paper/dist/thirdweb-dev-wallets-evm-connectors-paper.cjs.js"},"./evm/connectors/rabby":{module:{browser:"./evm/connectors/rabby/dist/thirdweb-dev-wallets-evm-connectors-rabby.browser.esm.js",default:"./evm/connectors/rabby/dist/thirdweb-dev-wallets-evm-connectors-rabby.esm.js"},default:"./evm/connectors/rabby/dist/thirdweb-dev-wallets-evm-connectors-rabby.cjs.js"},"./evm/connectors/trust":{module:{browser:"./evm/connectors/trust/dist/thirdweb-dev-wallets-evm-connectors-trust.browser.esm.js",default:"./evm/connectors/trust/dist/thirdweb-dev-wallets-evm-connectors-trust.esm.js"},default:"./evm/connectors/trust/dist/thirdweb-dev-wallets-evm-connectors-trust.cjs.js"},"./evm/connectors/xdefi":{module:{browser:"./evm/connectors/xdefi/dist/thirdweb-dev-wallets-evm-connectors-xdefi.browser.esm.js",default:"./evm/connectors/xdefi/dist/thirdweb-dev-wallets-evm-connectors-xdefi.esm.js"},default:"./evm/connectors/xdefi/dist/thirdweb-dev-wallets-evm-connectors-xdefi.cjs.js"},"./evm/wallets/rainbow-wallet":{module:{browser:"./evm/wallets/rainbow-wallet/dist/thirdweb-dev-wallets-evm-wallets-rainbow-wallet.browser.esm.js",default:"./evm/wallets/rainbow-wallet/dist/thirdweb-dev-wallets-evm-wallets-rainbow-wallet.esm.js"},default:"./evm/wallets/rainbow-wallet/dist/thirdweb-dev-wallets-evm-wallets-rainbow-wallet.cjs.js"},"./evm/wallets/wallet-connect":{module:{browser:"./evm/wallets/wallet-connect/dist/thirdweb-dev-wallets-evm-wallets-wallet-connect.browser.esm.js",default:"./evm/wallets/wallet-connect/dist/thirdweb-dev-wallets-evm-wallets-wallet-connect.esm.js"},default:"./evm/wallets/wallet-connect/dist/thirdweb-dev-wallets-evm-wallets-wallet-connect.cjs.js"},"./evm/connectors/blocto":{module:{browser:"./evm/connectors/blocto/dist/thirdweb-dev-wallets-evm-connectors-blocto.browser.esm.js",default:"./evm/connectors/blocto/dist/thirdweb-dev-wallets-evm-connectors-blocto.esm.js"},default:"./evm/connectors/blocto/dist/thirdweb-dev-wallets-evm-connectors-blocto.cjs.js"},"./evm/connectors/coin98":{module:{browser:"./evm/connectors/coin98/dist/thirdweb-dev-wallets-evm-connectors-coin98.browser.esm.js",default:"./evm/connectors/coin98/dist/thirdweb-dev-wallets-evm-connectors-coin98.esm.js"},default:"./evm/connectors/coin98/dist/thirdweb-dev-wallets-evm-connectors-coin98.cjs.js"},"./evm/connectors/onekey":{module:{browser:"./evm/connectors/onekey/dist/thirdweb-dev-wallets-evm-connectors-onekey.browser.esm.js",default:"./evm/connectors/onekey/dist/thirdweb-dev-wallets-evm-connectors-onekey.esm.js"},default:"./evm/connectors/onekey/dist/thirdweb-dev-wallets-evm-connectors-onekey.cjs.js"},"./evm/connectors/signer":{module:{browser:"./evm/connectors/signer/dist/thirdweb-dev-wallets-evm-connectors-signer.browser.esm.js",default:"./evm/connectors/signer/dist/thirdweb-dev-wallets-evm-connectors-signer.esm.js"},default:"./evm/connectors/signer/dist/thirdweb-dev-wallets-evm-connectors-signer.cjs.js"},"./evm/connectors/zerion":{module:{browser:"./evm/connectors/zerion/dist/thirdweb-dev-wallets-evm-connectors-zerion.browser.esm.js",default:"./evm/connectors/zerion/dist/thirdweb-dev-wallets-evm-connectors-zerion.esm.js"},default:"./evm/connectors/zerion/dist/thirdweb-dev-wallets-evm-connectors-zerion.cjs.js"},"./evm/wallets/coinbase-wallet":{module:{browser:"./evm/wallets/coinbase-wallet/dist/thirdweb-dev-wallets-evm-wallets-coinbase-wallet.browser.esm.js",default:"./evm/wallets/coinbase-wallet/dist/thirdweb-dev-wallets-evm-wallets-coinbase-wallet.esm.js"},default:"./evm/wallets/coinbase-wallet/dist/thirdweb-dev-wallets-evm-wallets-coinbase-wallet.cjs.js"},"./evm/wallets/embedded-wallet":{module:{browser:"./evm/wallets/embedded-wallet/dist/thirdweb-dev-wallets-evm-wallets-embedded-wallet.browser.esm.js",default:"./evm/wallets/embedded-wallet/dist/thirdweb-dev-wallets-evm-wallets-embedded-wallet.esm.js"},default:"./evm/wallets/embedded-wallet/dist/thirdweb-dev-wallets-evm-wallets-embedded-wallet.cjs.js"},"./evm/connectors/imtoken":{module:{browser:"./evm/connectors/imtoken/dist/thirdweb-dev-wallets-evm-connectors-imtoken.browser.esm.js",default:"./evm/connectors/imtoken/dist/thirdweb-dev-wallets-evm-connectors-imtoken.esm.js"},default:"./evm/connectors/imtoken/dist/thirdweb-dev-wallets-evm-connectors-imtoken.cjs.js"},"./evm/connectors/phantom":{module:{browser:"./evm/connectors/phantom/dist/thirdweb-dev-wallets-evm-connectors-phantom.browser.esm.js",default:"./evm/connectors/phantom/dist/thirdweb-dev-wallets-evm-connectors-phantom.esm.js"},default:"./evm/connectors/phantom/dist/thirdweb-dev-wallets-evm-connectors-phantom.cjs.js"},"./evm/connectors/rainbow":{module:{browser:"./evm/connectors/rainbow/dist/thirdweb-dev-wallets-evm-connectors-rainbow.browser.esm.js",default:"./evm/connectors/rainbow/dist/thirdweb-dev-wallets-evm-connectors-rainbow.esm.js"},default:"./evm/connectors/rainbow/dist/thirdweb-dev-wallets-evm-connectors-rainbow.cjs.js"},"./evm/connectors/injected":{module:{browser:"./evm/connectors/injected/dist/thirdweb-dev-wallets-evm-connectors-injected.browser.esm.js",default:"./evm/connectors/injected/dist/thirdweb-dev-wallets-evm-connectors-injected.esm.js"},default:"./evm/connectors/injected/dist/thirdweb-dev-wallets-evm-connectors-injected.cjs.js"},"./evm/connectors/metamask":{module:{browser:"./evm/connectors/metamask/dist/thirdweb-dev-wallets-evm-connectors-metamask.browser.esm.js",default:"./evm/connectors/metamask/dist/thirdweb-dev-wallets-evm-connectors-metamask.esm.js"},default:"./evm/connectors/metamask/dist/thirdweb-dev-wallets-evm-connectors-metamask.cjs.js"},"./evm/wallets/local-wallet-node":{module:{browser:"./evm/wallets/local-wallet-node/dist/thirdweb-dev-wallets-evm-wallets-local-wallet-node.browser.esm.js",default:"./evm/wallets/local-wallet-node/dist/thirdweb-dev-wallets-evm-wallets-local-wallet-node.esm.js"},default:"./evm/wallets/local-wallet-node/dist/thirdweb-dev-wallets-evm-wallets-local-wallet-node.cjs.js"},"./evm/wallets/wallet-connect-v1":{module:{browser:"./evm/wallets/wallet-connect-v1/dist/thirdweb-dev-wallets-evm-wallets-wallet-connect-v1.browser.esm.js",default:"./evm/wallets/wallet-connect-v1/dist/thirdweb-dev-wallets-evm-wallets-wallet-connect-v1.esm.js"},default:"./evm/wallets/wallet-connect-v1/dist/thirdweb-dev-wallets-evm-wallets-wallet-connect-v1.cjs.js"},"./evm/wallets/crypto-defi-wallet":{module:{browser:"./evm/wallets/crypto-defi-wallet/dist/thirdweb-dev-wallets-evm-wallets-crypto-defi-wallet.browser.esm.js",default:"./evm/wallets/crypto-defi-wallet/dist/thirdweb-dev-wallets-evm-wallets-crypto-defi-wallet.esm.js"},default:"./evm/wallets/crypto-defi-wallet/dist/thirdweb-dev-wallets-evm-wallets-crypto-defi-wallet.cjs.js"},"./evm/connectors/magic-eden":{module:{browser:"./evm/connectors/magic-eden/dist/thirdweb-dev-wallets-evm-connectors-magic-eden.browser.esm.js",default:"./evm/connectors/magic-eden/dist/thirdweb-dev-wallets-evm-connectors-magic-eden.esm.js"},default:"./evm/connectors/magic-eden/dist/thirdweb-dev-wallets-evm-connectors-magic-eden.cjs.js"},"./evm/wallets/aws-secrets-manager":{module:{browser:"./evm/wallets/aws-secrets-manager/dist/thirdweb-dev-wallets-evm-wallets-aws-secrets-manager.browser.esm.js",default:"./evm/wallets/aws-secrets-manager/dist/thirdweb-dev-wallets-evm-wallets-aws-secrets-manager.esm.js"},default:"./evm/wallets/aws-secrets-manager/dist/thirdweb-dev-wallets-evm-wallets-aws-secrets-manager.cjs.js"},"./evm/connectors/core-wallet":{module:{browser:"./evm/connectors/core-wallet/dist/thirdweb-dev-wallets-evm-connectors-core-wallet.browser.esm.js",default:"./evm/connectors/core-wallet/dist/thirdweb-dev-wallets-evm-connectors-core-wallet.esm.js"},default:"./evm/connectors/core-wallet/dist/thirdweb-dev-wallets-evm-connectors-core-wallet.cjs.js"},"./evm/connectors/local-wallet":{module:{browser:"./evm/connectors/local-wallet/dist/thirdweb-dev-wallets-evm-connectors-local-wallet.browser.esm.js",default:"./evm/connectors/local-wallet/dist/thirdweb-dev-wallets-evm-connectors-local-wallet.esm.js"},default:"./evm/connectors/local-wallet/dist/thirdweb-dev-wallets-evm-connectors-local-wallet.cjs.js"},"./evm/connectors/smart-wallet":{module:{browser:"./evm/connectors/smart-wallet/dist/thirdweb-dev-wallets-evm-connectors-smart-wallet.browser.esm.js",default:"./evm/connectors/smart-wallet/dist/thirdweb-dev-wallets-evm-connectors-smart-wallet.esm.js"},default:"./evm/connectors/smart-wallet/dist/thirdweb-dev-wallets-evm-connectors-smart-wallet.cjs.js"},"./evm/connectors/wallet-connect":{module:{browser:"./evm/connectors/wallet-connect/dist/thirdweb-dev-wallets-evm-connectors-wallet-connect.browser.esm.js",default:"./evm/connectors/wallet-connect/dist/thirdweb-dev-wallets-evm-connectors-wallet-connect.esm.js"},default:"./evm/connectors/wallet-connect/dist/thirdweb-dev-wallets-evm-connectors-wallet-connect.cjs.js"},"./evm/connectors/coinbase-wallet":{module:{browser:"./evm/connectors/coinbase-wallet/dist/thirdweb-dev-wallets-evm-connectors-coinbase-wallet.browser.esm.js",default:"./evm/connectors/coinbase-wallet/dist/thirdweb-dev-wallets-evm-connectors-coinbase-wallet.esm.js"},default:"./evm/connectors/coinbase-wallet/dist/thirdweb-dev-wallets-evm-connectors-coinbase-wallet.cjs.js"},"./evm/connectors/embedded-wallet":{module:{browser:"./evm/connectors/embedded-wallet/dist/thirdweb-dev-wallets-evm-connectors-embedded-wallet.browser.esm.js",default:"./evm/connectors/embedded-wallet/dist/thirdweb-dev-wallets-evm-connectors-embedded-wallet.esm.js"},default:"./evm/connectors/embedded-wallet/dist/thirdweb-dev-wallets-evm-connectors-embedded-wallet.cjs.js"},"./evm/wallets/token-bound-smart-wallet":{module:{browser:"./evm/wallets/token-bound-smart-wallet/dist/thirdweb-dev-wallets-evm-wallets-token-bound-smart-wallet.browser.esm.js",default:"./evm/wallets/token-bound-smart-wallet/dist/thirdweb-dev-wallets-evm-wallets-token-bound-smart-wallet.esm.js"},default:"./evm/wallets/token-bound-smart-wallet/dist/thirdweb-dev-wallets-evm-wallets-token-bound-smart-wallet.cjs.js"},"./evm/connectors/wallet-connect-v1":{module:{browser:"./evm/connectors/wallet-connect-v1/dist/thirdweb-dev-wallets-evm-connectors-wallet-connect-v1.browser.esm.js",default:"./evm/connectors/wallet-connect-v1/dist/thirdweb-dev-wallets-evm-connectors-wallet-connect-v1.esm.js"},default:"./evm/connectors/wallet-connect-v1/dist/thirdweb-dev-wallets-evm-connectors-wallet-connect-v1.cjs.js"},"./evm/connectors/crypto-defi-wallet":{module:{browser:"./evm/connectors/crypto-defi-wallet/dist/thirdweb-dev-wallets-evm-connectors-crypto-defi-wallet.browser.esm.js",default:"./evm/connectors/crypto-defi-wallet/dist/thirdweb-dev-wallets-evm-connectors-crypto-defi-wallet.esm.js"},default:"./evm/connectors/crypto-defi-wallet/dist/thirdweb-dev-wallets-evm-connectors-crypto-defi-wallet.cjs.js"},"./evm/connectors/token-bound-smart-wallet":{module:{browser:"./evm/connectors/token-bound-smart-wallet/dist/thirdweb-dev-wallets-evm-connectors-token-bound-smart-wallet.browser.esm.js",default:"./evm/connectors/token-bound-smart-wallet/dist/thirdweb-dev-wallets-evm-connectors-token-bound-smart-wallet.esm.js"},default:"./evm/connectors/token-bound-smart-wallet/dist/thirdweb-dev-wallets-evm-connectors-token-bound-smart-wallet.cjs.js"},"./evm/connectors/embedded-wallet/implementations":{module:{browser:"./evm/connectors/embedded-wallet/implementations/dist/thirdweb-dev-wallets-evm-connectors-embedded-wallet-implementations.browser.esm.js",default:"./evm/connectors/embedded-wallet/implementations/dist/thirdweb-dev-wallets-evm-connectors-embedded-wallet-implementations.esm.js"},default:"./evm/connectors/embedded-wallet/implementations/dist/thirdweb-dev-wallets-evm-connectors-embedded-wallet-implementations.cjs.js"},"./package.json":"./package.json"},types:"dist/thirdweb-dev-wallets.cjs.d.ts",repository:"https://github.com/thirdweb-dev/js/tree/main/legacy_packages/wallets",license:"Apache-2.0",bugs:{url:"https://github.com/thirdweb-dev/js/issues"},author:"thirdweb eng <eng@thirdweb.com>",files:["dist/","evm/"],preconstruct:{entrypoints:["index.ts","evm/index.ts","evm/connectors/*/index.ts","evm/connectors/embedded-wallet/implementations/index.ts","evm/wallets/**"],exports:{envConditions:["browser"]}},sideEffects:!1,dependencies:{"@account-abstraction/contracts":"^0.5.0","@blocto/sdk":"0.10.2","@coinbase/wallet-sdk":"^3.9.0","@google-cloud/kms":"^4.4.0","@magic-ext/connect":"^6.7.2","@magic-ext/oauth":"^7.6.2","@magic-sdk/provider":"^13.6.2","@metamask/eth-sig-util":"^4.0.1","@paperxyz/embedded-wallet-service-sdk":"^1.2.5","@paperxyz/sdk-common-utilities":"^0.1.1","@safe-global/safe-core-sdk":"^3.3.5","@safe-global/safe-ethers-adapters":"0.1.0-alpha.19","@safe-global/safe-ethers-lib":"^1.9.4","@thirdweb-dev/chains":"0.1.120","@thirdweb-dev/contracts-js":"1.3.23","@thirdweb-dev/crypto":"0.2.6","@thirdweb-dev/sdk":"4.0.99","@walletconnect/core":"^2.13.2","@walletconnect/ethereum-provider":"2.12.2","@walletconnect/jsonrpc-utils":"^1.0.8","@walletconnect/modal":"^2.6.2","@walletconnect/types":"^2.13.2","@walletconnect/utils":"^2.13.2","@walletconnect/web3wallet":"^1.12.2","asn1.js":"5.4.1","bn.js":"5.2.1",buffer:"^6.0.3","eth-provider":"^0.13.6","ethereumjs-util":"^7.1.5",eventemitter3:"^5.0.1","key-encoder":"2.0.3","magic-sdk":"^13.6.2","web3-core":"1.5.2"},peerDependencies:{"@aws-sdk/client-secrets-manager":"^3.256.0",bs58:"^5.0.0",ethers:"^5.7.2","ethers-aws-kms-signer":"^1.3.2",tweetnacl:"^1.0.3"},peerDependenciesMeta:{tweetnacl:{optional:!0},"@aws-sdk/client-secrets-manager":{optional:!0},"ethers-aws-kms-signer":{optional:!0},bs58:{optional:!0},ethers:{optional:!0}},devDependencies:{"@aws-sdk/client-secrets-manager":"^3.549.0","@babel/plugin-transform-class-properties":"^7.24.1","@babel/plugin-transform-flow-strip-types":"^7.24.1","@babel/plugin-transform-private-methods":"^7.24.7","@microsoft/api-extractor":"^7.43.0","@nomiclabs/hardhat-ethers":"^2.2.3","@preconstruct/cli":"2.7.0","@thirdweb-dev/tsconfig":"^0.1.7","@types/bn.js":"^5.1.5",abitype:"1.0.0","babel-plugin-transform-inline-environment-variables":"^0.4.4",bs58:"^5.0.0","cross-env":"^7.0.3","eslint-config-thirdweb":"^0.1.9","eslint-plugin-better-tree-shaking":"0.0.4","eslint-plugin-tsdoc":"^0.3.0","ethereum-provider":"^0.7.7",ethers:"^5.7.2","ethers-aws-kms-signer":"^1.3.2",hardhat:"^2.22.2",rimraf:"5.0.5",tweetnacl:"^1.0.3","typedoc-gen":"^1.0.2",typescript:"5.4.4"},scripts:{format:"prettier --write 'src/**/*'",lint:"eslint src/",fix:"eslint src/ --fix",clean:"rm -rf dist/",build:"tsc && cross-env THIRDWEB_EWS_SDK_VERSION=$npm_package_version preconstruct build","preconstruct:fix":"preconstruct fix",push:"yalc push",typedoc:"node scripts/typedoc.mjs",test:"vitest run"},engines:{node:">=18"}};const operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detectOS$1(vn){for(let fn=0,En=operatingSystemRules.length;fn<En;fn++){const Cn=operatingSystemRules[fn];if(!Cn)continue;const[_i,An]=Cn;if(An.exec(vn))return _i}return null}function getOperatingSystem(){if(typeof navigator<"u"&&navigator.product==="ReactNative")return"";{const vn=navigator.userAgent;return detectOS$1(vn)||""}}function setAnalyticsHeaders(vn){const fn=getAnalyticsGlobals$1();vn["x-sdk-version"]=fn.x_sdk_version,vn["x-sdk-name"]=fn.x_sdk_name,vn["x-sdk-platform"]=fn.x_sdk_platform,vn["x-sdk-os"]=fn.x_sdk_os,fn.app_bundle_id&&(vn["x-bundle-id"]=fn.app_bundle_id)}function getAnalyticsHeaders(){const vn=getAnalyticsGlobals$1();return{"x-sdk-version":vn.x_sdk_version,"x-sdk-os":vn.x_sdk_os,"x-sdk-name":vn.x_sdk_name,"x-sdk-platform":vn.x_sdk_platform,...vn.app_bundle_id?{"x-bundle-id":vn.app_bundle_id}:{}}}function getAnalyticsGlobals$1(){return typeof globalThis>"u"?{x_sdk_name:pkg.name,x_sdk_platform:getPlatform(),x_sdk_version:pkg.version,x_sdk_os:getOperatingSystem(),app_bundle_id:void 0}:(globalThis.X_SDK_NAME===void 0&&(globalThis.X_SDK_NAME=pkg.name,globalThis.X_SDK_PLATFORM=getPlatform(),globalThis.X_SDK_VERSION=pkg.version,globalThis.X_SDK_OS=getOperatingSystem(),globalThis.APP_BUNDLE_ID=void 0),{x_sdk_name:globalThis.X_SDK_NAME,x_sdk_platform:globalThis.X_SDK_PLATFORM,x_sdk_version:globalThis.X_SDK_VERSION,x_sdk_os:globalThis.X_SDK_OS,app_bundle_id:globalThis.APP_BUNDLE_ID||""})}function getPlatform(){return typeof navigator<"u"&&navigator.product==="ReactNative"?"mobile":"browser"}const PREFIX="__TW__";class AsyncLocalStorage{constructor(fn){this.name=fn}getItem(fn){return new Promise(En=>{En(localStorage.getItem(`${PREFIX}/${this.name}/${fn}`))})}setItem(fn,En){return new Promise((Cn,_i)=>{try{localStorage.setItem(`${PREFIX}/${this.name}/${fn}`,En),Cn()}catch(An){_i(An)}})}removeItem(fn){return new Promise(En=>{localStorage.removeItem(`${PREFIX}/${this.name}/${fn}`),En()})}}function createAsyncLocalStorage(vn){return new AsyncLocalStorage(vn)}const DEFAULT_DAPP_META={name:"thirdweb powered dApp",url:"https://thirdweb.com",description:"thirdweb powered dApp",logoUrl:"https://thirdweb.com/favicon.ico",isDarkMode:!0},ANALYTICS_ENDPOINT="https://c.thirdweb.com/event";function track(vn){const{clientId:fn,walletType:En,walletAddress:Cn,source:_i,action:An}=vn,ba={source:_i,action:An,walletAddress:Cn,walletType:En};fetch(ANALYTICS_ENDPOINT,{method:"POST",headers:{"Content-Type":"application/json","x-client-id":fn,...getAnalyticsHeaders()},body:JSON.stringify(ba)})}class AbstractClientWallet extends AbstractWallet{getMeta(){return this.constructor.meta}constructor(fn,En){super(),this.walletId=fn,this.options=En,this.chains=((En==null?void 0:En.chains)||defaultChains).map(Cn=>updateChainRPCs(Cn,En==null?void 0:En.clientId)),this.dappMetadata=(En==null?void 0:En.dappMetadata)||DEFAULT_DAPP_META,this.walletStorage=(En==null?void 0:En.walletStorage)||createAsyncLocalStorage(this.walletId)}async autoConnect(fn){const En=fn?{...fn,chainId:void 0}:void 0;return this._connect(!0,En)}async connect(fn){this._connectParams=fn;const En=await this._connect(!1,fn);if(!En)throw new Error("Failed to connect to the wallet.");return En}getConnectParams(){return this._connectParams}getOptions(){return this.options}async _connect(fn,En){const Cn=await this.getConnector();if(this._subscribeToEvents(Cn),await Cn.isConnected()){const An=await Cn.getAddress();return Cn.setupListeners(),En!=null&&En.chainId&&await Cn.switchChain(En==null?void 0:En.chainId),this.emit("connect",{address:An,chainId:await this.getChainId()}),this._trackConnection(An),An}if(fn)throw new Error("Failed to auto connect to the wallet.");try{const An=await Cn.connect(En);return this._trackConnection(An),An}catch(An){throw new Error(An.message)}}_trackConnection(fn){var En;track({clientId:((En=this.options)==null?void 0:En.clientId)||"",source:"connectWallet",action:"connect",walletType:this.walletId,walletAddress:fn})}async _subscribeToEvents(fn){fn.on("connect",En=>{var Cn;this.emit("connect",{address:En.account,chainId:(Cn=En.chain)==null?void 0:Cn.id})}),fn.on("change",En=>{var Cn;this.emit("change",{address:En.account,chainId:(Cn=En.chain)==null?void 0:Cn.id})}),fn.on("message",En=>{this.emit("message",En)}),fn.on("disconnect",async()=>{this.emit("disconnect")}),fn.on("error",En=>this.emit("error",En))}async getSigner(){const fn=await this.getConnector();if(!fn)throw new Error("Wallet not connected");return await fn.getSigner()}async disconnect(){const fn=await this.getConnector();fn&&(await fn.disconnect(),this.emit("disconnect"),fn.removeAllListeners())}async switchChain(fn){const En=await this.getConnector();if(!En)throw new Error("Wallet not connected");if(!En.switchChain)throw new Error("Wallet does not support switching chains");return await En.switchChain(fn)}async updateChains(fn){this.chains=fn.map(Cn=>{var _i;return updateChainRPCs(Cn,(_i=this.options)==null?void 0:_i.clientId)}),(await this.getConnector()).updateChains(this.chains)}getPersonalWallet(){}}const walletIds={blocto:"blocto",coin98:"coin98",coinbase:"coinbase",coreWallet:"coreWallet",cryptoDefiWallet:"cryptoDefiWallet",frame:"frame",imtoken:"imToken",localWallet:"localWallet",magicLink:"magicLink",metamask:"metamask",paper:"paper",rainbow:"rainbowWallet",smartWallet:"smartWallet",tokenBoundSmartWallet:"tokenBoundSmartWallet",safe:"safe",trust:"trust",embeddedWallet:"embeddedWallet",walletConnectV1:"walletConnectV1",walletConnect:"walletConnect",phantom:"phantom",okx:"okx",oneKey:"oneKey",rabby:"rabby",xdefi:"xdefi",magicEden:"magicEden"};class WagmiConnector extends EventEmitter$1{constructor(fn){let{chains:En=defaultChains,options:Cn}=fn;super(),this.chains=En,this.options=Cn}getBlockExplorerUrls(fn){var Cn;const En=((Cn=fn.explorers)==null?void 0:Cn.map(_i=>_i.url))??[];return En.length>0?En:void 0}isChainUnsupported(fn){return!this.chains.some(En=>En.chainId===fn)}updateChains(fn){this.chains=fn}}class RpcError extends Error{constructor(fn,En){const{cause:Cn,code:_i,data:An}=En;if(!Number.isInteger(_i))throw new Error('"code" must be an integer.');if(!fn||typeof fn!="string")throw new Error('"message" must be a nonempty string.');super(`${fn}. Cause: ${JSON.stringify(Cn)}`),this.cause=Cn,this.code=_i,this.data=An}}class ProviderRpcError extends RpcError{constructor(fn,En){const{cause:Cn,code:_i,data:An}=En;if(!(Number.isInteger(_i)&&_i>=1e3&&_i<=4999))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(fn,{cause:Cn,code:_i,data:An})}}class AddChainError extends Error{constructor(){super(...arguments),_defineProperty(this,"name","AddChainError"),_defineProperty(this,"message","Error adding chain")}}class ChainNotConfiguredError extends Error{constructor(fn){let{chainId:En,connectorId:Cn}=fn;super(`Chain "${En}" not configured for connector "${Cn}".`),_defineProperty(this,"name","ChainNotConfigured")}}class ConnectorNotFoundError extends Error{constructor(){super(...arguments),_defineProperty(this,"name","ConnectorNotFoundError"),_defineProperty(this,"message","Connector not found")}}class ResourceUnavailableError extends RpcError{constructor(fn){super("Resource unavailable",{cause:fn,code:-32002}),_defineProperty(this,"name","ResourceUnavailable")}}class SwitchChainError extends ProviderRpcError{constructor(fn){super("Error switching chain",{cause:fn,code:4902}),_defineProperty(this,"name","SwitchChainError")}}class UserRejectedRequestError extends ProviderRpcError{constructor(fn){super("User rejected request",{cause:fn,code:4001}),_defineProperty(this,"name","UserRejectedRequestError")}}function normalizeChainId(vn){return typeof vn=="string"?Number.parseInt(vn,vn.trim().substring(0,2)==="0x"?16:10):typeof vn=="bigint"?Number(vn):vn}class Connector extends EventEmitter$1{}class WagmiAdapter extends Connector{constructor(fn){super(),this.wagmiConnector=fn}async connect(fn){return this.setupConnectorListeners(),(await this.wagmiConnector.connect(fn)).account}disconnect(){return this.wagmiConnector.removeAllListeners("connect"),this.wagmiConnector.removeAllListeners("change"),this.wagmiConnector.disconnect()}isConnected(){return this.wagmiConnector.isAuthorized()}getAddress(){return this.wagmiConnector.getAccount()}getSigner(){return this.wagmiConnector.getSigner()}getProvider(){return this.wagmiConnector.getProvider()}async switchChain(fn){if(!this.wagmiConnector.switchChain)throw new Error("Switch chain not supported");await this.wagmiConnector.switchChain(fn)}setupConnectorListeners(){this.wagmiConnector.addListener("connect",fn=>{this.emit("connect",fn)}),this.wagmiConnector.addListener("change",fn=>{this.emit("change",fn)}),this.wagmiConnector.addListener("disconnect",()=>{this.emit("disconnect")})}async setupListeners(){this.setupConnectorListeners(),await this.wagmiConnector.setupListeners()}updateChains(fn){this.wagmiConnector.updateChains(fn)}}function isTwUrl(vn){const fn=new URL(vn).hostname;return fn.endsWith(".thirdweb.com")||fn.endsWith(".thirdweb-dev.com")||fn==="localhost"||fn==="0.0.0.0"}function getValidPublicRPCUrl(vn){return getValidChainRPCs(vn).map(fn=>{try{const En=new URL(fn);return En.hostname.endsWith(".thirdweb.com")&&(En.pathname="",En.search=""),En.toString()}catch{return fn}})}var dist={},types={},factories={},BaseAccount__factory$1={};const require$$0=getAugmentedNamespace(lib_esm);BaseAccount__factory$1.__esModule=!0;BaseAccount__factory$1.BaseAccount__factory=void 0;var ethers_1$h=require$$0,_abi$h=[{inputs:[],name:"entryPoint",outputs:[{internalType:"contract IEntryPoint",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"nonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"},{internalType:"bytes32",name:"userOpHash",type:"bytes32"},{internalType:"uint256",name:"missingAccountFunds",type:"uint256"}],name:"validateUserOp",outputs:[{internalType:"uint256",name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],BaseAccount__factory=function(){function vn(){}return vn.createInterface=function(){return new ethers_1$h.utils.Interface(_abi$h)},vn.connect=function(fn,En){return new ethers_1$h.Contract(fn,_abi$h,En)},vn.abi=_abi$h,vn}();BaseAccount__factory$1.BaseAccount__factory=BaseAccount__factory;var BasePaymaster__factory$1={};BasePaymaster__factory$1.__esModule=!0;BasePaymaster__factory$1.BasePaymaster__factory=void 0;var ethers_1$g=require$$0,_abi$g=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"deposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"entryPoint",outputs:[{internalType:"contract IEntryPoint",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IPaymaster.PostOpMode",name:"mode",type:"uint8"},{internalType:"bytes",name:"context",type:"bytes"},{internalType:"uint256",name:"actualGasCost",type:"uint256"}],name:"postOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"},{internalType:"bytes32",name:"userOpHash",type:"bytes32"},{internalType:"uint256",name:"maxCost",type:"uint256"}],name:"validatePaymasterUserOp",outputs:[{internalType:"bytes",name:"context",type:"bytes"},{internalType:"uint256",name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"}],BasePaymaster__factory=function(){function vn(){}return vn.createInterface=function(){return new ethers_1$g.utils.Interface(_abi$g)},vn.connect=function(fn,En){return new ethers_1$g.Contract(fn,_abi$g,En)},vn.abi=_abi$g,vn}();BasePaymaster__factory$1.BasePaymaster__factory=BasePaymaster__factory;var BrokenBLSAccount__factory$1={},__extends$9=commonjsGlobal&&commonjsGlobal.__extends||function(){var vn=function(fn,En){return vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Cn,_i){Cn.__proto__=_i}||function(Cn,_i){for(var An in _i)Object.prototype.hasOwnProperty.call(_i,An)&&(Cn[An]=_i[An])},vn(fn,En)};return function(fn,En){if(typeof En!="function"&&En!==null)throw new TypeError("Class extends value "+String(En)+" is not a constructor or null");vn(fn,En);function Cn(){this.constructor=fn}fn.prototype=En===null?Object.create(En):(Cn.prototype=En.prototype,new Cn)}}();BrokenBLSAccount__factory$1.__esModule=!0;BrokenBLSAccount__factory$1.BrokenBLSAccount__factory=void 0;var ethers_1$f=require$$0,_abi$f=[{inputs:[{internalType:"contract IEntryPoint",name:"anEntryPoint",type:"address"},{internalType:"address",name:"anAggregator",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousAdmin",type:"address"},{indexed:!1,internalType:"address",name:"newAdmin",type:"address"}],name:"AdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"beacon",type:"address"}],name:"BeaconUpgraded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256[4]",name:"oldPublicKey",type:"uint256[4]"},{indexed:!1,internalType:"uint256[4]",name:"newPublicKey",type:"uint256[4]"}],name:"PublicKeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IEntryPoint",name:"entryPoint",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"}],name:"SimpleAccountInitialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{inputs:[],name:"addDeposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"aggregator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"entryPoint",outputs:[{internalType:"contract IEntryPoint",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"dest",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"func",type:"bytes"}],name:"execute",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"dest",type:"address[]"},{internalType:"bytes[]",name:"func",type:"bytes[]"}],name:"executeBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getBlsPublicKey",outputs:[{internalType:"uint256[4]",name:"",type:"uint256[4]"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"anOwner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[4]",name:"aPublicKey",type:"uint256[4]"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxiableUUID",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"}],name:"upgradeTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"},{internalType:"bytes32",name:"userOpHash",type:"bytes32"},{internalType:"uint256",name:"missingAccountFunds",type:"uint256"}],name:"validateUserOp",outputs:[{internalType:"uint256",name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawDepositTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],_bytecode$9="0x60e0604052306080523480156200001557600080fd5b50604051620020c6380380620020c683398101604081905262000038916200013f565b6001600160a01b03821660a052816200005062000064565b506001600160a01b031660c052506200017e565b600054610100900460ff1615620000d15760405162461bcd60e51b815260206004820152602760248201527f496e697469616c697a61626c653a20636f6e747261637420697320696e697469604482015266616c697a696e6760c81b606482015260840160405180910390fd5b60005460ff908116101562000124576000805460ff191660ff9081179091556040519081527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a15b565b6001600160a01b03811681146200013c57600080fd5b50565b600080604083850312156200015357600080fd5b8251620001608162000126565b6020840151909250620001738162000126565b809150509250929050565b60805160a05160c051611ecb620001fb60003960008181610137015261068a01526000818161029001528181610703015281816107aa01528181610b8c01528181610f2e0152818161128a015261152c015260008181610486015281816105360152818161086e0152818161091e0152610a670152611ecb6000f3fe6080604052600436106100f75760003560e01c80638da5cb5b1161008a578063c399ec8811610059578063c399ec88146102d4578063c4d66de8146102e9578063e02afbae14610309578063ee472f361461032b57600080fd5b80638da5cb5b14610221578063affed0e01461025e578063b0d691fe14610281578063b61d27f6146102b457600080fd5b80634a58db19116100c65780634a58db19146101d15780634d44560d146101d95780634f1ef286146101f957806352d1902d1461020c57600080fd5b806318dfb3c714610103578063245a7bfc146101255780633659cfe6146101835780633a871cdd146101a357600080fd5b366100fe57005b600080fd5b34801561010f57600080fd5b5061012361011e3660046118ef565b61034b565b005b34801561013157600080fd5b506101597f000000000000000000000000000000000000000000000000000000000000000081565b60405173ffffffffffffffffffffffffffffffffffffffff90911681526020015b60405180910390f35b34801561018f57600080fd5b5061012361019e36600461197d565b61046f565b3480156101af57600080fd5b506101c36101be36600461199a565b610674565b60405190815260200161017a565b610123610701565b3480156101e557600080fd5b506101236101f43660046119ee565b6107a0565b610123610207366004611a98565b610857565b34801561021857600080fd5b506101c3610a4d565b34801561022d57600080fd5b50600154610159906c01000000000000000000000000900473ffffffffffffffffffffffffffffffffffffffff1681565b34801561026a57600080fd5b506001546bffffffffffffffffffffffff166101c3565b34801561028d57600080fd5b507f0000000000000000000000000000000000000000000000000000000000000000610159565b3480156102c057600080fd5b506101236102cf366004611b5e565b610b39565b3480156102e057600080fd5b506101c3610b88565b3480156102f557600080fd5b5061012361030436600461197d565b610c40565b34801561031557600080fd5b5061031e610dd3565b60405161017a9190611be7565b34801561033757600080fd5b50610123610346366004611c18565b610de8565b610353610f16565b8281146103c1576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f77726f6e67206172726179206c656e677468730000000000000000000000000060448201526064015b60405180910390fd5b60005b83811015610468576104568585838181106103e1576103e1611c96565b90506020020160208101906103f6919061197d565b600085858581811061040a5761040a611c96565b905060200281019061041c9190611cc5565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250610fe992505050565b8061046081611d59565b9150506103c4565b5050505050565b73ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000163003610534576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602c60248201527f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060448201527f64656c656761746563616c6c000000000000000000000000000000000000000060648201526084016103b8565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166105a97f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc5473ffffffffffffffffffffffffffffffffffffffff1690565b73ffffffffffffffffffffffffffffffffffffffff161461064c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602c60248201527f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060448201527f6163746976652070726f7879000000000000000000000000000000000000000060648201526084016103b8565b61065581611066565b604080516000808252602082019092526106719183919061106e565b50565b600061067e611272565b604080516060810182527f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16808252600060208301819052919092015290506106df6040850185611cc5565b90506000036106f1576106f184611311565b6106fa826113da565b9392505050565b7f00000000000000000000000000000000000000000000000000000000000000006040517fb760faf900000000000000000000000000000000000000000000000000000000815230600482015273ffffffffffffffffffffffffffffffffffffffff919091169063b760faf99034906024016000604051808303818588803b15801561078c57600080fd5b505af1158015610468573d6000803e3d6000fd5b6107a8611445565b7f00000000000000000000000000000000000000000000000000000000000000006040517f205c287800000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff848116600483015260248201849052919091169063205c287890604401600060405180830381600087803b15801561083b57600080fd5b505af115801561084f573d6000803e3d6000fd5b505050505050565b73ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016300361091c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602c60248201527f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060448201527f64656c656761746563616c6c000000000000000000000000000000000000000060648201526084016103b8565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166109917f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc5473ffffffffffffffffffffffffffffffffffffffff1690565b73ffffffffffffffffffffffffffffffffffffffff1614610a34576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602c60248201527f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060448201527f6163746976652070726f7879000000000000000000000000000000000000000060648201526084016103b8565b610a3d82611066565b610a498282600161106e565b5050565b60003073ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001614610b14576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152603860248201527f555550535570677261646561626c653a206d757374206e6f742062652063616c60448201527f6c6564207468726f7567682064656c656761746563616c6c000000000000000060648201526084016103b8565b507f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc90565b610b41610f16565b610b82848484848080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250610fe992505050565b50505050565b60007f00000000000000000000000000000000000000000000000000000000000000006040517f70a0823100000000000000000000000000000000000000000000000000000000815230600482015273ffffffffffffffffffffffffffffffffffffffff91909116906370a0823190602401602060405180830381865afa158015610c17573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c3b9190611d91565b905090565b600054610100900460ff1615808015610c605750600054600160ff909116105b80610c7a5750303b158015610c7a575060005460ff166001145b610d06576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201527f647920696e697469616c697a656400000000000000000000000000000000000060648201526084016103b8565b600080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001660011790558015610d6457600080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00ff166101001790555b610d6d826114e0565b8015610a4957600080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00ff169055604051600181527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a15050565b610ddb611885565b610de3611885565b919050565b600054610100900460ff1615808015610e085750600054600160ff909116105b80610e225750303b158015610e22575060005460ff166001145b610eae576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201527f647920696e697469616c697a656400000000000000000000000000000000000060648201526084016103b8565b600080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001660011790558015610f0c57600080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00ff166101001790555b610d6d60006114e0565b3373ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000161480610f8157506001546c01000000000000000000000000900473ffffffffffffffffffffffffffffffffffffffff1633145b610fe7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f6163636f756e743a206e6f74204f776e6572206f7220456e747279506f696e7460448201526064016103b8565b565b6000808473ffffffffffffffffffffffffffffffffffffffff1684846040516110129190611dd6565b60006040518083038185875af1925050503d806000811461104f576040519150601f19603f3d011682016040523d82523d6000602084013e611054565b606091505b50915091508161046857805160208201fd5b610671611445565b7f4910fdfa16fed3260ed0e7147f7cc6da11a60208b5b9406d12a635614ffd91435460ff16156110a6576110a183611578565b505050565b8273ffffffffffffffffffffffffffffffffffffffff166352d1902d6040518163ffffffff1660e01b8152600401602060405180830381865afa92505050801561112b575060408051601f3d9081017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016820190925261112891810190611d91565b60015b6111b7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602e60248201527f45524331393637557067726164653a206e657720696d706c656d656e7461746960448201527f6f6e206973206e6f74205555505300000000000000000000000000000000000060648201526084016103b8565b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc8114611266576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602960248201527f45524331393637557067726164653a20756e737570706f727465642070726f7860448201527f6961626c6555554944000000000000000000000000000000000000000000000060648201526084016103b8565b506110a1838383611682565b3373ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001614610fe7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601c60248201527f6163636f756e743a206e6f742066726f6d20456e747279506f696e740000000060448201526064016103b8565b600180546020830135916bffffffffffffffffffffffff90911690600061133783611df2565b91906101000a8154816bffffffffffffffffffffffff02191690836bffffffffffffffffffffffff1602179055506bffffffffffffffffffffffff1614610671576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601660248201527f6163636f756e743a20696e76616c6964206e6f6e63650000000000000000000060448201526064016103b8565b80156106715760405160009033907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff90849084818181858888f193505050503d8060008114610468576040519150601f19603f3d011682016040523d82523d6000602084013e610468565b6001546c01000000000000000000000000900473ffffffffffffffffffffffffffffffffffffffff1633148061147a57503330145b610fe7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600a60248201527f6f6e6c79206f776e65720000000000000000000000000000000000000000000060448201526064016103b8565b600180546bffffffffffffffffffffffff166c0100000000000000000000000073ffffffffffffffffffffffffffffffffffffffff8481168202929092179283905560405192048116917f0000000000000000000000000000000000000000000000000000000000000000909116907f47e55c76e7a6f1fd8996a1da8008c1ea29699cca35e7bcd057f2dec313b6e5de90600090a350565b73ffffffffffffffffffffffffffffffffffffffff81163b61161c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602d60248201527f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60448201527f6f74206120636f6e74726163740000000000000000000000000000000000000060648201526084016103b8565b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc80547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff92909216919091179055565b61168b836116a7565b6000825111806116985750805b156110a157610b8283836116f4565b6116b081611578565b60405173ffffffffffffffffffffffffffffffffffffffff8216907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a250565b60606106fa8383604051806060016040528060278152602001611e6f6027913960606000808573ffffffffffffffffffffffffffffffffffffffff168560405161173e9190611dd6565b600060405180830381855af49150503d8060008114611779576040519150601f19603f3d011682016040523d82523d6000602084013e61177e565b606091505b509150915061178f86838387611799565b9695505050505050565b6060831561182f5782516000036118285773ffffffffffffffffffffffffffffffffffffffff85163b611828576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e747261637400000060448201526064016103b8565b5081611839565b6118398383611841565b949350505050565b8151156118515781518083602001fd5b806040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103b89190611e1d565b60405180608001604052806004906020820280368337509192915050565b60008083601f8401126118b557600080fd5b50813567ffffffffffffffff8111156118cd57600080fd5b6020830191508360208260051b85010111156118e857600080fd5b9250929050565b6000806000806040858703121561190557600080fd5b843567ffffffffffffffff8082111561191d57600080fd5b611929888389016118a3565b9096509450602087013591508082111561194257600080fd5b5061194f878288016118a3565b95989497509550505050565b73ffffffffffffffffffffffffffffffffffffffff8116811461067157600080fd5b60006020828403121561198f57600080fd5b81356106fa8161195b565b6000806000606084860312156119af57600080fd5b833567ffffffffffffffff8111156119c657600080fd5b840161016081870312156119d957600080fd5b95602085013595506040909401359392505050565b60008060408385031215611a0157600080fd5b8235611a0c8161195b565b946020939093013593505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b604051601f82017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016810167ffffffffffffffff81118282101715611a9057611a90611a1a565b604052919050565b60008060408385031215611aab57600080fd5b8235611ab68161195b565b915060208381013567ffffffffffffffff80821115611ad457600080fd5b818601915086601f830112611ae857600080fd5b813581811115611afa57611afa611a1a565b611b2a847fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f84011601611a49565b91508082528784828501011115611b4057600080fd5b80848401858401376000848284010152508093505050509250929050565b60008060008060608587031215611b7457600080fd5b8435611b7f8161195b565b935060208501359250604085013567ffffffffffffffff80821115611ba357600080fd5b818701915087601f830112611bb757600080fd5b813581811115611bc657600080fd5b886020828501011115611bd857600080fd5b95989497505060200194505050565b60808101818360005b6004811015611c0f578151835260209283019290910190600101611bf0565b50505092915050565b600060808284031215611c2a57600080fd5b82601f830112611c3957600080fd5b6040516080810181811067ffffffffffffffff82111715611c5c57611c5c611a1a565b604052806080840185811115611c7157600080fd5b845b81811015611c8b578035835260209283019201611c73565b509195945050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60008083357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe1843603018112611cfa57600080fd5b83018035915067ffffffffffffffff821115611d1557600080fd5b6020019150368190038213156118e857600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203611d8a57611d8a611d2a565b5060010190565b600060208284031215611da357600080fd5b5051919050565b60005b83811015611dc5578181015183820152602001611dad565b83811115610b825750506000910152565b60008251611de8818460208701611daa565b9190910192915050565b60006bffffffffffffffffffffffff808316818103611e1357611e13611d2a565b6001019392505050565b6020815260008251806020840152611e3c816040850160208701611daa565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016919091016040019291505056fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a26469706673582212205cf49810dc1024bbe2d76f8f79dcc489e3b6a79d7f0e35498db5239b1077074564736f6c634300080f0033",isSuperArgs$9=function(vn){return vn.length>1},BrokenBLSAccount__factory=function(vn){__extends$9(fn,vn);function fn(){for(var En=[],Cn=0;Cn<arguments.length;Cn++)En[Cn]=arguments[Cn];var _i=this;return isSuperArgs$9(En)?_i=vn.apply(this,En)||this:_i=vn.call(this,_abi$f,_bytecode$9,En[0])||this,_i}return fn.prototype.deploy=function(En,Cn,_i){return vn.prototype.deploy.call(this,En,Cn,_i||{})},fn.prototype.getDeployTransaction=function(En,Cn,_i){return vn.prototype.getDeployTransaction.call(this,En,Cn,_i||{})},fn.prototype.attach=function(En){return vn.prototype.attach.call(this,En)},fn.prototype.connect=function(En){return vn.prototype.connect.call(this,En)},fn.createInterface=function(){return new ethers_1$f.utils.Interface(_abi$f)},fn.connect=function(En,Cn){return new ethers_1$f.Contract(En,_abi$f,Cn)},fn.bytecode=_bytecode$9,fn.abi=_abi$f,fn}(ethers_1$f.ContractFactory);BrokenBLSAccount__factory$1.BrokenBLSAccount__factory=BrokenBLSAccount__factory;var BrokenBLSAccountFactory__factory$1={},__extends$8=commonjsGlobal&&commonjsGlobal.__extends||function(){var vn=function(fn,En){return vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Cn,_i){Cn.__proto__=_i}||function(Cn,_i){for(var An in _i)Object.prototype.hasOwnProperty.call(_i,An)&&(Cn[An]=_i[An])},vn(fn,En)};return function(fn,En){if(typeof En!="function"&&En!==null)throw new TypeError("Class extends value "+String(En)+" is not a constructor or null");vn(fn,En);function Cn(){this.constructor=fn}fn.prototype=En===null?Object.create(En):(Cn.prototype=En.prototype,new Cn)}}();BrokenBLSAccountFactory__factory$1.__esModule=!0;BrokenBLSAccountFactory__factory$1.BrokenBLSAccountFactory__factory=void 0;var ethers_1$e=require$$0,_abi$e=[{inputs:[{internalType:"contract IEntryPoint",name:"entryPoint",type:"address"},{internalType:"address",name:"aggregator",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"accountImplementation",outputs:[{internalType:"contract BrokenBLSAccount",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"uint256[4]",name:"aPublicKey",type:"uint256[4]"}],name:"createAccount",outputs:[{internalType:"contract BrokenBLSAccount",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"uint256[4]",name:"aPublicKey",type:"uint256[4]"}],name:"getAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],_bytecode$8="0x60a060405234801561001057600080fd5b50604051612ede380380612ede83398101604081905261002f916100aa565b818160405161003d90610085565b6001600160a01b03928316815291166020820152604001604051809103906000f080158015610070573d6000803e3d6000fd5b506001600160a01b0316608052506100e49050565b6120c680610e1883390190565b6001600160a01b03811681146100a757600080fd5b50565b600080604083850312156100bd57600080fd5b82516100c881610092565b60208401519092506100d981610092565b809150509250929050565b608051610d0d61010b60003960008181604b0152818160f7015261020d0152610d0d6000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c806311464fbe1461004657806319c2a1b214610096578063de3398dd146100a9575b600080fd5b61006d7f000000000000000000000000000000000000000000000000000000000000000081565b60405173ffffffffffffffffffffffffffffffffffffffff909116815260200160405180910390f35b61006d6100a436600461038e565b6100bc565b61006d6100b736600461038e565b6101de565b6000806100c984846101de565b905073ffffffffffffffffffffffffffffffffffffffff81163b80156100f1575090506101d8565b8460001b7f0000000000000000000000000000000000000000000000000000000000000000856040516024016101279190610418565b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08184030181529181526020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fee472f3600000000000000000000000000000000000000000000000000000000179052516101a790610352565b6101b2929190610479565b8190604051809103906000f59050801580156101d2573d6000803e3d6000fd5b50925050505b92915050565b60006103198360001b604051806020016101f790610352565b6020820181038252601f19601f820116604052507f00000000000000000000000000000000000000000000000000000000000000008560405160240161023d9190610418565b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0818403018152918152602080830180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fee472f360000000000000000000000000000000000000000000000000000000017905290516102c293929101610479565b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0818403018152908290526102fe92916020016104e7565b60405160208183030381529060405280519060200120610320565b9392505050565b60006103198383306000604051836040820152846020820152828152600b8101905060ff815360559020949350505050565b6107c18061051783390190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60008060a083850312156103a157600080fd5b82359150602084603f8501126103b657600080fd5b6040516080810181811067ffffffffffffffff821117156103d9576103d961035f565b6040528060a08601878111156103ee57600080fd5b8387015b8181101561040957803583529184019184016103f2565b50505080925050509250929050565b60808101818360005b6004811015610440578151835260209283019290910190600101610421565b50505092915050565b60005b8381101561046457818101518382015260200161044c565b83811115610473576000848401525b50505050565b73ffffffffffffffffffffffffffffffffffffffff8316815260406020820152600082518060408401526104b4816060850160208701610449565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016919091016060019392505050565b600083516104f9818460208801610449565b83519083019061050d818360208801610449565b0194935050505056fe60806040526040516107c13803806107c183398101604081905261002291610321565b61002e82826000610035565b505061043e565b61003e8361006b565b60008251118061004b5750805b156100665761006483836100ab60201b6100291760201c565b505b505050565b610074816100d7565b6040516001600160a01b038216907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a250565b60606100d0838360405180606001604052806027815260200161079a602791396101a9565b9392505050565b6100ea8161022260201b6100551760201c565b6101515760405162461bcd60e51b815260206004820152602d60248201527f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60448201526c1bdd08184818dbdb9d1c9858dd609a1b60648201526084015b60405180910390fd5b806101887f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b61023160201b6100711760201c565b80546001600160a01b0319166001600160a01b039290921691909117905550565b6060600080856001600160a01b0316856040516101c691906103ef565b600060405180830381855af49150503d8060008114610201576040519150601f19603f3d011682016040523d82523d6000602084013e610206565b606091505b50909250905061021886838387610234565b9695505050505050565b6001600160a01b03163b151590565b90565b606083156102a357825160000361029c576001600160a01b0385163b61029c5760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e74726163740000006044820152606401610148565b50816102ad565b6102ad83836102b5565b949350505050565b8151156102c55781518083602001fd5b8060405162461bcd60e51b8152600401610148919061040b565b634e487b7160e01b600052604160045260246000fd5b60005b838110156103105781810151838201526020016102f8565b838111156100645750506000910152565b6000806040838503121561033457600080fd5b82516001600160a01b038116811461034b57600080fd5b60208401519092506001600160401b038082111561036857600080fd5b818501915085601f83011261037c57600080fd5b81518181111561038e5761038e6102df565b604051601f8201601f19908116603f011681019083821181831017156103b6576103b66102df565b816040528281528860208487010111156103cf57600080fd5b6103e08360208301602088016102f5565b80955050505050509250929050565b600082516104018184602087016102f5565b9190910192915050565b602081526000825180602084015261042a8160408501602087016102f5565b601f01601f19169190910160400192915050565b61034d8061044d6000396000f3fe60806040523661001357610011610017565b005b6100115b610027610022610074565b6100b9565b565b606061004e83836040518060600160405280602781526020016102f1602791396100dd565b9392505050565b73ffffffffffffffffffffffffffffffffffffffff163b151590565b90565b60006100b47f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc5473ffffffffffffffffffffffffffffffffffffffff1690565b905090565b3660008037600080366000845af43d6000803e8080156100d8573d6000f35b3d6000fd5b60606000808573ffffffffffffffffffffffffffffffffffffffff16856040516101079190610283565b600060405180830381855af49150503d8060008114610142576040519150601f19603f3d011682016040523d82523d6000602084013e610147565b606091505b509150915061015886838387610162565b9695505050505050565b606083156101fd5782516000036101f65773ffffffffffffffffffffffffffffffffffffffff85163b6101f6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e747261637400000060448201526064015b60405180910390fd5b5081610207565b610207838361020f565b949350505050565b81511561021f5781518083602001fd5b806040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101ed919061029f565b60005b8381101561026e578181015183820152602001610256565b8381111561027d576000848401525b50505050565b60008251610295818460208701610253565b9190910192915050565b60208152600082518060208401526102be816040850160208701610253565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016919091016040019291505056fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a26469706673582212201cd78ab6a31213989661cff2d7d05fc9b9c38b1a848e8249e2e398659a9eb7e364736f6c634300080f0033416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a2646970667358221220a47065a7c8ac5bac8ed56ef1cf7419a59dfdae21ba812180654b545d4faab85f64736f6c634300080f003360e0604052306080523480156200001557600080fd5b50604051620020c6380380620020c683398101604081905262000038916200013f565b6001600160a01b03821660a052816200005062000064565b506001600160a01b031660c052506200017e565b600054610100900460ff1615620000d15760405162461bcd60e51b815260206004820152602760248201527f496e697469616c697a61626c653a20636f6e747261637420697320696e697469604482015266616c697a696e6760c81b606482015260840160405180910390fd5b60005460ff908116101562000124576000805460ff191660ff9081179091556040519081527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a15b565b6001600160a01b03811681146200013c57600080fd5b50565b600080604083850312156200015357600080fd5b8251620001608162000126565b6020840151909250620001738162000126565b809150509250929050565b60805160a05160c051611ecb620001fb60003960008181610137015261068a01526000818161029001528181610703015281816107aa01528181610b8c01528181610f2e0152818161128a015261152c015260008181610486015281816105360152818161086e0152818161091e0152610a670152611ecb6000f3fe6080604052600436106100f75760003560e01c80638da5cb5b1161008a578063c399ec8811610059578063c399ec88146102d4578063c4d66de8146102e9578063e02afbae14610309578063ee472f361461032b57600080fd5b80638da5cb5b14610221578063affed0e01461025e578063b0d691fe14610281578063b61d27f6146102b457600080fd5b80634a58db19116100c65780634a58db19146101d15780634d44560d146101d95780634f1ef286146101f957806352d1902d1461020c57600080fd5b806318dfb3c714610103578063245a7bfc146101255780633659cfe6146101835780633a871cdd146101a357600080fd5b366100fe57005b600080fd5b34801561010f57600080fd5b5061012361011e3660046118ef565b61034b565b005b34801561013157600080fd5b506101597f000000000000000000000000000000000000000000000000000000000000000081565b60405173ffffffffffffffffffffffffffffffffffffffff90911681526020015b60405180910390f35b34801561018f57600080fd5b5061012361019e36600461197d565b61046f565b3480156101af57600080fd5b506101c36101be36600461199a565b610674565b60405190815260200161017a565b610123610701565b3480156101e557600080fd5b506101236101f43660046119ee565b6107a0565b610123610207366004611a98565b610857565b34801561021857600080fd5b506101c3610a4d565b34801561022d57600080fd5b50600154610159906c01000000000000000000000000900473ffffffffffffffffffffffffffffffffffffffff1681565b34801561026a57600080fd5b506001546bffffffffffffffffffffffff166101c3565b34801561028d57600080fd5b507f0000000000000000000000000000000000000000000000000000000000000000610159565b3480156102c057600080fd5b506101236102cf366004611b5e565b610b39565b3480156102e057600080fd5b506101c3610b88565b3480156102f557600080fd5b5061012361030436600461197d565b610c40565b34801561031557600080fd5b5061031e610dd3565b60405161017a9190611be7565b34801561033757600080fd5b50610123610346366004611c18565b610de8565b610353610f16565b8281146103c1576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f77726f6e67206172726179206c656e677468730000000000000000000000000060448201526064015b60405180910390fd5b60005b83811015610468576104568585838181106103e1576103e1611c96565b90506020020160208101906103f6919061197d565b600085858581811061040a5761040a611c96565b905060200281019061041c9190611cc5565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250610fe992505050565b8061046081611d59565b9150506103c4565b5050505050565b73ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000163003610534576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602c60248201527f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060448201527f64656c656761746563616c6c000000000000000000000000000000000000000060648201526084016103b8565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166105a97f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc5473ffffffffffffffffffffffffffffffffffffffff1690565b73ffffffffffffffffffffffffffffffffffffffff161461064c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602c60248201527f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060448201527f6163746976652070726f7879000000000000000000000000000000000000000060648201526084016103b8565b61065581611066565b604080516000808252602082019092526106719183919061106e565b50565b600061067e611272565b604080516060810182527f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16808252600060208301819052919092015290506106df6040850185611cc5565b90506000036106f1576106f184611311565b6106fa826113da565b9392505050565b7f00000000000000000000000000000000000000000000000000000000000000006040517fb760faf900000000000000000000000000000000000000000000000000000000815230600482015273ffffffffffffffffffffffffffffffffffffffff919091169063b760faf99034906024016000604051808303818588803b15801561078c57600080fd5b505af1158015610468573d6000803e3d6000fd5b6107a8611445565b7f00000000000000000000000000000000000000000000000000000000000000006040517f205c287800000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff848116600483015260248201849052919091169063205c287890604401600060405180830381600087803b15801561083b57600080fd5b505af115801561084f573d6000803e3d6000fd5b505050505050565b73ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016300361091c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602c60248201527f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060448201527f64656c656761746563616c6c000000000000000000000000000000000000000060648201526084016103b8565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166109917f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc5473ffffffffffffffffffffffffffffffffffffffff1690565b73ffffffffffffffffffffffffffffffffffffffff1614610a34576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602c60248201527f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060448201527f6163746976652070726f7879000000000000000000000000000000000000000060648201526084016103b8565b610a3d82611066565b610a498282600161106e565b5050565b60003073ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001614610b14576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152603860248201527f555550535570677261646561626c653a206d757374206e6f742062652063616c60448201527f6c6564207468726f7567682064656c656761746563616c6c000000000000000060648201526084016103b8565b507f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc90565b610b41610f16565b610b82848484848080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250610fe992505050565b50505050565b60007f00000000000000000000000000000000000000000000000000000000000000006040517f70a0823100000000000000000000000000000000000000000000000000000000815230600482015273ffffffffffffffffffffffffffffffffffffffff91909116906370a0823190602401602060405180830381865afa158015610c17573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c3b9190611d91565b905090565b600054610100900460ff1615808015610c605750600054600160ff909116105b80610c7a5750303b158015610c7a575060005460ff166001145b610d06576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201527f647920696e697469616c697a656400000000000000000000000000000000000060648201526084016103b8565b600080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001660011790558015610d6457600080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00ff166101001790555b610d6d826114e0565b8015610a4957600080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00ff169055604051600181527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a15050565b610ddb611885565b610de3611885565b919050565b600054610100900460ff1615808015610e085750600054600160ff909116105b80610e225750303b158015610e22575060005460ff166001145b610eae576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201527f647920696e697469616c697a656400000000000000000000000000000000000060648201526084016103b8565b600080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001660011790558015610f0c57600080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00ff166101001790555b610d6d60006114e0565b3373ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000161480610f8157506001546c01000000000000000000000000900473ffffffffffffffffffffffffffffffffffffffff1633145b610fe7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f6163636f756e743a206e6f74204f776e6572206f7220456e747279506f696e7460448201526064016103b8565b565b6000808473ffffffffffffffffffffffffffffffffffffffff1684846040516110129190611dd6565b60006040518083038185875af1925050503d806000811461104f576040519150601f19603f3d011682016040523d82523d6000602084013e611054565b606091505b50915091508161046857805160208201fd5b610671611445565b7f4910fdfa16fed3260ed0e7147f7cc6da11a60208b5b9406d12a635614ffd91435460ff16156110a6576110a183611578565b505050565b8273ffffffffffffffffffffffffffffffffffffffff166352d1902d6040518163ffffffff1660e01b8152600401602060405180830381865afa92505050801561112b575060408051601f3d9081017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016820190925261112891810190611d91565b60015b6111b7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602e60248201527f45524331393637557067726164653a206e657720696d706c656d656e7461746960448201527f6f6e206973206e6f74205555505300000000000000000000000000000000000060648201526084016103b8565b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc8114611266576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602960248201527f45524331393637557067726164653a20756e737570706f727465642070726f7860448201527f6961626c6555554944000000000000000000000000000000000000000000000060648201526084016103b8565b506110a1838383611682565b3373ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001614610fe7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601c60248201527f6163636f756e743a206e6f742066726f6d20456e747279506f696e740000000060448201526064016103b8565b600180546020830135916bffffffffffffffffffffffff90911690600061133783611df2565b91906101000a8154816bffffffffffffffffffffffff02191690836bffffffffffffffffffffffff1602179055506bffffffffffffffffffffffff1614610671576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601660248201527f6163636f756e743a20696e76616c6964206e6f6e63650000000000000000000060448201526064016103b8565b80156106715760405160009033907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff90849084818181858888f193505050503d8060008114610468576040519150601f19603f3d011682016040523d82523d6000602084013e610468565b6001546c01000000000000000000000000900473ffffffffffffffffffffffffffffffffffffffff1633148061147a57503330145b610fe7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600a60248201527f6f6e6c79206f776e65720000000000000000000000000000000000000000000060448201526064016103b8565b600180546bffffffffffffffffffffffff166c0100000000000000000000000073ffffffffffffffffffffffffffffffffffffffff8481168202929092179283905560405192048116917f0000000000000000000000000000000000000000000000000000000000000000909116907f47e55c76e7a6f1fd8996a1da8008c1ea29699cca35e7bcd057f2dec313b6e5de90600090a350565b73ffffffffffffffffffffffffffffffffffffffff81163b61161c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602d60248201527f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60448201527f6f74206120636f6e74726163740000000000000000000000000000000000000060648201526084016103b8565b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc80547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff92909216919091179055565b61168b836116a7565b6000825111806116985750805b156110a157610b8283836116f4565b6116b081611578565b60405173ffffffffffffffffffffffffffffffffffffffff8216907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a250565b60606106fa8383604051806060016040528060278152602001611e6f6027913960606000808573ffffffffffffffffffffffffffffffffffffffff168560405161173e9190611dd6565b600060405180830381855af49150503d8060008114611779576040519150601f19603f3d011682016040523d82523d6000602084013e61177e565b606091505b509150915061178f86838387611799565b9695505050505050565b6060831561182f5782516000036118285773ffffffffffffffffffffffffffffffffffffffff85163b611828576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e747261637400000060448201526064016103b8565b5081611839565b6118398383611841565b949350505050565b8151156118515781518083602001fd5b806040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103b89190611e1d565b60405180608001604052806004906020820280368337509192915050565b60008083601f8401126118b557600080fd5b50813567ffffffffffffffff8111156118cd57600080fd5b6020830191508360208260051b85010111156118e857600080fd5b9250929050565b6000806000806040858703121561190557600080fd5b843567ffffffffffffffff8082111561191d57600080fd5b611929888389016118a3565b9096509450602087013591508082111561194257600080fd5b5061194f878288016118a3565b95989497509550505050565b73ffffffffffffffffffffffffffffffffffffffff8116811461067157600080fd5b60006020828403121561198f57600080fd5b81356106fa8161195b565b6000806000606084860312156119af57600080fd5b833567ffffffffffffffff8111156119c657600080fd5b840161016081870312156119d957600080fd5b95602085013595506040909401359392505050565b60008060408385031215611a0157600080fd5b8235611a0c8161195b565b946020939093013593505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b604051601f82017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016810167ffffffffffffffff81118282101715611a9057611a90611a1a565b604052919050565b60008060408385031215611aab57600080fd5b8235611ab68161195b565b915060208381013567ffffffffffffffff80821115611ad457600080fd5b818601915086601f830112611ae857600080fd5b813581811115611afa57611afa611a1a565b611b2a847fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f84011601611a49565b91508082528784828501011115611b4057600080fd5b80848401858401376000848284010152508093505050509250929050565b60008060008060608587031215611b7457600080fd5b8435611b7f8161195b565b935060208501359250604085013567ffffffffffffffff80821115611ba357600080fd5b818701915087601f830112611bb757600080fd5b813581811115611bc657600080fd5b886020828501011115611bd857600080fd5b95989497505060200194505050565b60808101818360005b6004811015611c0f578151835260209283019290910190600101611bf0565b50505092915050565b600060808284031215611c2a57600080fd5b82601f830112611c3957600080fd5b6040516080810181811067ffffffffffffffff82111715611c5c57611c5c611a1a565b604052806080840185811115611c7157600080fd5b845b81811015611c8b578035835260209283019201611c73565b509195945050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60008083357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe1843603018112611cfa57600080fd5b83018035915067ffffffffffffffff821115611d1557600080fd5b6020019150368190038213156118e857600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203611d8a57611d8a611d2a565b5060010190565b600060208284031215611da357600080fd5b5051919050565b60005b83811015611dc5578181015183820152602001611dad565b83811115610b825750506000910152565b60008251611de8818460208701611daa565b9190910192915050565b60006bffffffffffffffffffffffff808316818103611e1357611e13611d2a565b6001019392505050565b6020815260008251806020840152611e3c816040850160208701611daa565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016919091016040019291505056fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a26469706673582212205cf49810dc1024bbe2d76f8f79dcc489e3b6a79d7f0e35498db5239b1077074564736f6c634300080f0033",isSuperArgs$8=function(vn){return vn.length>1},BrokenBLSAccountFactory__factory=function(vn){__extends$8(fn,vn);function fn(){for(var En=[],Cn=0;Cn<arguments.length;Cn++)En[Cn]=arguments[Cn];var _i=this;return isSuperArgs$8(En)?_i=vn.apply(this,En)||this:_i=vn.call(this,_abi$e,_bytecode$8,En[0])||this,_i}return fn.prototype.deploy=function(En,Cn,_i){return vn.prototype.deploy.call(this,En,Cn,_i||{})},fn.prototype.getDeployTransaction=function(En,Cn,_i){return vn.prototype.getDeployTransaction.call(this,En,Cn,_i||{})},fn.prototype.attach=function(En){return vn.prototype.attach.call(this,En)},fn.prototype.connect=function(En){return vn.prototype.connect.call(this,En)},fn.createInterface=function(){return new ethers_1$e.utils.Interface(_abi$e)},fn.connect=function(En,Cn){return new ethers_1$e.Contract(En,_abi$e,Cn)},fn.bytecode=_bytecode$8,fn.abi=_abi$e,fn}(ethers_1$e.ContractFactory);BrokenBLSAccountFactory__factory$1.BrokenBLSAccountFactory__factory=BrokenBLSAccountFactory__factory;var DepositPaymaster__factory$1={},__extends$7=commonjsGlobal&&commonjsGlobal.__extends||function(){var vn=function(fn,En){return vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Cn,_i){Cn.__proto__=_i}||function(Cn,_i){for(var An in _i)Object.prototype.hasOwnProperty.call(_i,An)&&(Cn[An]=_i[An])},vn(fn,En)};return function(fn,En){if(typeof En!="function"&&En!==null)throw new TypeError("Class extends value "+String(En)+" is not a constructor or null");vn(fn,En);function Cn(){this.constructor=fn}fn.prototype=En===null?Object.create(En):(Cn.prototype=En.prototype,new Cn)}}();DepositPaymaster__factory$1.__esModule=!0;DepositPaymaster__factory$1.DepositPaymaster__factory=void 0;var ethers_1$d=require$$0,_abi$d=[{inputs:[{internalType:"contract IEntryPoint",name:"_entryPoint",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"COST_OF_POST",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"addDepositFor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"contract IOracle",name:"tokenPriceOracle",type:"address"}],name:"addToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"deposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"address",name:"account",type:"address"}],name:"depositInfo",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"_unlockBlock",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"entryPoint",outputs:[{internalType:"contract IEntryPoint",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockTokenDeposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"",type:"address"}],name:"oracles",outputs:[{internalType:"contract IOracle",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IPaymaster.PostOpMode",name:"mode",type:"uint8"},{internalType:"bytes",name:"context",type:"bytes"},{internalType:"uint256",name:"actualGasCost",type:"uint256"}],name:"postOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"unlockBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockTokenDeposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"},{internalType:"bytes32",name:"userOpHash",type:"bytes32"},{internalType:"uint256",name:"maxCost",type:"uint256"}],name:"validatePaymasterUserOp",outputs:[{internalType:"bytes",name:"context",type:"bytes"},{internalType:"uint256",name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawTokensTo",outputs:[],stateMutability:"nonpayable",type:"function"}],_bytecode$7="0x60a06040523480156200001157600080fd5b5060405162001fa938038062001fa98339810160408190526200003491620000bb565b8062000040336200006b565b6001600160a01b031660805262000064336000908152600360205260409020439055565b50620000ed565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b600060208284031215620000ce57600080fd5b81516001600160a01b0381168114620000e657600080fd5b9392505050565b608051611e6f6200013a600039600081816103b30152818161052b015281816105f50152818161089001528181610957015281816109e701528181610bb90152610ed70152611e6f6000f3fe6080604052600436106101755760003560e01c8063addd5099116100cb578063c399ec881161007f578063d0e30db011610059578063d0e30db014610499578063f2fde38b146104a1578063f465c77e146104c157600080fd5b8063c399ec8814610442578063cc9c837c14610457578063cd8f80c21461047757600080fd5b8063bb9fe6bf116100b0578063bb9fe6bf146103d5578063c23a5cea146103ea578063c23f001f1461040a57600080fd5b8063addd50991461035e578063b0d691fe146103a157600080fd5b80635476bd721161012d5780638da5cb5b116101075780638da5cb5b146102ce5780639ed0fb681461031a578063a9a234091461033e57600080fd5b80635476bd7214610283578063715018a6146102a3578063796d4371146102b857600080fd5b8063382edd9e1161015e578063382edd9e146101af578063493b0170146101cf5780634a6f84cf1461024857600080fd5b80630396cb601461017a578063205c28781461018f575b600080fd5b61018d610188366004611915565b6104ef565b005b34801561019b57600080fd5b5061018d6101aa36600461195d565b6105a1565b3480156101bb57600080fd5b5061018d6101ca366004611989565b610639565b3480156101db57600080fd5b5061022e6101ea3660046119ca565b73ffffffffffffffffffffffffffffffffffffffff918216600090815260026020908152604080832093909416825291825282812054600390925291909120549091565b604080519283526020830191909152015b60405180910390f35b34801561025457600080fd5b50610275610263366004611a03565b60036020526000908152604090205481565b60405190815260200161023f565b34801561028f57600080fd5b5061018d61029e3660046119ca565b61076e565b3480156102af57600080fd5b5061018d610858565b3480156102c457600080fd5b506102756188b881565b3480156102da57600080fd5b5060005473ffffffffffffffffffffffffffffffffffffffff165b60405173ffffffffffffffffffffffffffffffffffffffff909116815260200161023f565b34801561032657600080fd5b5061018d336000908152600360205260409020439055565b34801561034a57600080fd5b5061018d610359366004611a20565b61086c565b34801561036a57600080fd5b506102f5610379366004611a03565b60016020526000908152604090205473ffffffffffffffffffffffffffffffffffffffff1681565b3480156103ad57600080fd5b506102f57f000000000000000000000000000000000000000000000000000000000000000081565b3480156103e157600080fd5b5061018d610886565b3480156103f657600080fd5b5061018d610405366004611a03565b61090a565b34801561041657600080fd5b506102756104253660046119ca565b600260209081526000928352604080842090915290825290205481565b34801561044e57600080fd5b506102756109b6565b34801561046357600080fd5b5061018d610472366004611989565b610a6c565b34801561048357600080fd5b5061018d33600090815260036020526040812055565b61018d610b8b565b3480156104ad57600080fd5b5061018d6104bc366004611a03565b610c13565b3480156104cd57600080fd5b506104e16104dc366004611aaf565b610cca565b60405161023f929190611b79565b6104f7610ced565b6040517f0396cb6000000000000000000000000000000000000000000000000000000000815263ffffffff821660048201527f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1690630396cb609034906024016000604051808303818588803b15801561058557600080fd5b505af1158015610599573d6000803e3d6000fd5b505050505050565b6105a9610ced565b6040517f205c287800000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8381166004830152602482018390527f0000000000000000000000000000000000000000000000000000000000000000169063205c287890604401600060405180830381600087803b15801561058557600080fd5b61065b73ffffffffffffffffffffffffffffffffffffffff8416333084610d6e565b73ffffffffffffffffffffffffffffffffffffffff838116600090815260016020526040902054166106ee576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601160248201527f756e737570706f7274656420746f6b656e00000000000000000000000000000060448201526064015b60405180910390fd5b73ffffffffffffffffffffffffffffffffffffffff808416600090815260026020908152604080832093861683529290529081208054839290610732908490611bca565b909155505073ffffffffffffffffffffffffffffffffffffffff821633036107695761076933600090815260036020526040812055565b505050565b610776610ced565b73ffffffffffffffffffffffffffffffffffffffff8281166000908152600160205260409020541615610805576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601160248201527f546f6b656e20616c72656164792073657400000000000000000000000000000060448201526064016106e5565b73ffffffffffffffffffffffffffffffffffffffff918216600090815260016020526040902080547fffffffffffffffffffffffff00000000000000000000000000000000000000001691909216179055565b610860610ced565b61086a6000610e4a565b565b610874610ebf565b61088084848484610f5e565b50505050565b61088e610ced565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663bb9fe6bf6040518163ffffffff1660e01b8152600401600060405180830381600087803b1580156108f657600080fd5b505af1158015610880573d6000803e3d6000fd5b610912610ced565b6040517fc23a5cea00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff82811660048301527f0000000000000000000000000000000000000000000000000000000000000000169063c23a5cea90602401600060405180830381600087803b15801561099b57600080fd5b505af11580156109af573d6000803e3d6000fd5b5050505050565b6040517f70a082310000000000000000000000000000000000000000000000000000000081523060048201526000907f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16906370a0823190602401602060405180830381865afa158015610a43573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a679190611be2565b905090565b3360009081526003602052604090205415801590610a9857503360009081526003602052604090205443115b610b24576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602960248201527f4465706f7369745061796d61737465723a206d75737420756e6c6f636b546f6b60448201527f656e4465706f736974000000000000000000000000000000000000000000000060648201526084016106e5565b73ffffffffffffffffffffffffffffffffffffffff8316600090815260026020908152604080832033845290915281208054839290610b64908490611bfb565b90915550610769905073ffffffffffffffffffffffffffffffffffffffff841683836110d6565b6040517fb760faf90000000000000000000000000000000000000000000000000000000081523060048201527f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff169063b760faf99034906024016000604051808303818588803b15801561099b57600080fd5b610c1b610ced565b73ffffffffffffffffffffffffffffffffffffffff8116610cbe576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f646472657373000000000000000000000000000000000000000000000000000060648201526084016106e5565b610cc781610e4a565b50565b60606000610cd6610ebf565b610ce185858561112c565b91509150935093915050565b60005473ffffffffffffffffffffffffffffffffffffffff16331461086a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016106e5565b60405173ffffffffffffffffffffffffffffffffffffffff808516602483015283166044820152606481018290526108809085907f23b872dd00000000000000000000000000000000000000000000000000000000906084015b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08184030181529190526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fffffffff0000000000000000000000000000000000000000000000000000000090931692909217909152611475565b6000805473ffffffffffffffffffffffffffffffffffffffff8381167fffffffffffffffffffffffff0000000000000000000000000000000000000000831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b3373ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000161461086a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f53656e646572206e6f7420456e747279506f696e74000000000000000000000060448201526064016106e5565b600080808080610f7087890189611c12565b9450945094509450945060008183856188b8610f8c9190611c63565b610f96908a611bca565b610fa09190611c63565b610faa9190611ca0565b905060028a6002811115610fc057610fc0611cdb565b14610fec57610fe773ffffffffffffffffffffffffffffffffffffffff8616873084610d6e565b611036565b73ffffffffffffffffffffffffffffffffffffffff8086166000908152600260209081526040808320938a1683529290529081208054839290611030908490611bfb565b90915550505b73ffffffffffffffffffffffffffffffffffffffff85166000908152600260205260408120829161107c60005473ffffffffffffffffffffffffffffffffffffffff1690565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546110c59190611bca565b909155505050505050505050505050565b60405173ffffffffffffffffffffffffffffffffffffffff83166024820152604481018290526107699084907fa9059cbb0000000000000000000000000000000000000000000000000000000090606401610dc8565b606060006188b88560a00135116111c5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602860248201527f4465706f7369745061796d61737465723a2067617320746f6f206c6f7720666f60448201527f7220706f73744f7000000000000000000000000000000000000000000000000060648201526084016106e5565b3660006111d6610120880188611d0a565b90925090506028811461126b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152603560248201527f4465706f7369745061796d61737465723a207061796d6173746572416e64446160448201527f7461206d757374207370656369667920746f6b656e000000000000000000000060648201526084016106e5565b600061127a8260148186611d76565b61128391611da0565b60601c9050873560006112968389611581565b905060006112a38b6116cf565b73ffffffffffffffffffffffffffffffffffffffff841660009081526003602052604090205490915015611358576040517f08c379a0000000000000000000000000000000000000000000000000000000008152602060048201526024808201527f4465706f7369745061796d61737465723a206465706f736974206e6f74206c6f60448201527f636b65640000000000000000000000000000000000000000000000000000000060648201526084016106e5565b73ffffffffffffffffffffffffffffffffffffffff80851660009081526002602090815260408083209387168352929052205482111561141a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602160248201527f4465706f7369745061796d61737465723a206465706f73697420746f6f206c6f60448201527f770000000000000000000000000000000000000000000000000000000000000060648201526084016106e5565b6040805173ffffffffffffffffffffffffffffffffffffffff948516602082015294909316848401526060840152608083015260a0808301979097528051808303909701875260c09091019052509295600095509350505050565b60006114d7826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c65648152508573ffffffffffffffffffffffffffffffffffffffff166116f69092919063ffffffff16565b80519091501561076957808060200190518101906114f59190611de8565b610769576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e60448201527f6f7420737563636565640000000000000000000000000000000000000000000060648201526084016106e5565b73ffffffffffffffffffffffffffffffffffffffff80831660009081526001602052604081205490911680611638576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602360248201527f4465706f7369745061796d61737465723a20756e737570706f7274656420746f60448201527f6b656e000000000000000000000000000000000000000000000000000000000060648201526084016106e5565b6040517fd1eca9cf0000000000000000000000000000000000000000000000000000000081526004810184905273ffffffffffffffffffffffffffffffffffffffff82169063d1eca9cf90602401602060405180830381865afa1580156116a3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906116c79190611be2565b949350505050565b600060e08201356101008301358082036116ea575092915050565b6116c782488301611705565b60606116c7848460008561171d565b60008183106117145781611716565b825b9392505050565b6060824710156117af576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f416464726573733a20696e73756666696369656e742062616c616e636520666f60448201527f722063616c6c000000000000000000000000000000000000000000000000000060648201526084016106e5565b6000808673ffffffffffffffffffffffffffffffffffffffff1685876040516117d89190611e0a565b60006040518083038185875af1925050503d8060008114611815576040519150601f19603f3d011682016040523d82523d6000602084013e61181a565b606091505b509150915061182b87838387611836565b979650505050505050565b606083156118cc5782516000036118c55773ffffffffffffffffffffffffffffffffffffffff85163b6118c5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e747261637400000060448201526064016106e5565b50816116c7565b6116c783838151156118e15781518083602001fd5b806040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106e59190611e26565b60006020828403121561192757600080fd5b813563ffffffff8116811461171657600080fd5b73ffffffffffffffffffffffffffffffffffffffff81168114610cc757600080fd5b6000806040838503121561197057600080fd5b823561197b8161193b565b946020939093013593505050565b60008060006060848603121561199e57600080fd5b83356119a98161193b565b925060208401356119b98161193b565b929592945050506040919091013590565b600080604083850312156119dd57600080fd5b82356119e88161193b565b915060208301356119f88161193b565b809150509250929050565b600060208284031215611a1557600080fd5b81356117168161193b565b60008060008060608587031215611a3657600080fd5b843560038110611a4557600080fd5b9350602085013567ffffffffffffffff80821115611a6257600080fd5b818701915087601f830112611a7657600080fd5b813581811115611a8557600080fd5b886020828501011115611a9757600080fd5b95986020929092019750949560400135945092505050565b600080600060608486031215611ac457600080fd5b833567ffffffffffffffff811115611adb57600080fd5b84016101608187031215611aee57600080fd5b95602085013595506040909401359392505050565b60005b83811015611b1e578181015183820152602001611b06565b838111156108805750506000910152565b60008151808452611b47816020860160208601611b03565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0169290920160200192915050565b604081526000611b8c6040830185611b2f565b90508260208301529392505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60008219821115611bdd57611bdd611b9b565b500190565b600060208284031215611bf457600080fd5b5051919050565b600082821015611c0d57611c0d611b9b565b500390565b600080600080600060a08688031215611c2a57600080fd5b8535611c358161193b565b94506020860135611c458161193b565b94979496505050506040830135926060810135926080909101359150565b6000817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0483118215151615611c9b57611c9b611b9b565b500290565b600082611cd6577f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b500490565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b60008083357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe1843603018112611d3f57600080fd5b83018035915067ffffffffffffffff821115611d5a57600080fd5b602001915036819003821315611d6f57600080fd5b9250929050565b60008085851115611d8657600080fd5b83861115611d9357600080fd5b5050820193919092039150565b7fffffffffffffffffffffffffffffffffffffffff0000000000000000000000008135818116916014851015611de05780818660140360031b1b83161692505b505092915050565b600060208284031215611dfa57600080fd5b8151801515811461171657600080fd5b60008251611e1c818460208701611b03565b9190910192915050565b6020815260006117166020830184611b2f56fea2646970667358221220f935cbe4ea2ae13e8fff0cb7f87458bc2f28e69d759658a51d6206dc7702573a64736f6c634300080f0033",isSuperArgs$7=function(vn){return vn.length>1},DepositPaymaster__factory=function(vn){__extends$7(fn,vn);function fn(){for(var En=[],Cn=0;Cn<arguments.length;Cn++)En[Cn]=arguments[Cn];var _i=this;return isSuperArgs$7(En)?_i=vn.apply(this,En)||this:_i=vn.call(this,_abi$d,_bytecode$7,En[0])||this,_i}return fn.prototype.deploy=function(En,Cn){return vn.prototype.deploy.call(this,En,Cn||{})},fn.prototype.getDeployTransaction=function(En,Cn){return vn.prototype.getDeployTransaction.call(this,En,Cn||{})},fn.prototype.attach=function(En){return vn.prototype.attach.call(this,En)},fn.prototype.connect=function(En){return vn.prototype.connect.call(this,En)},fn.createInterface=function(){return new ethers_1$d.utils.Interface(_abi$d)},fn.connect=function(En,Cn){return new ethers_1$d.Contract(En,_abi$d,Cn)},fn.bytecode=_bytecode$7,fn.abi=_abi$d,fn}(ethers_1$d.ContractFactory);DepositPaymaster__factory$1.DepositPaymaster__factory=DepositPaymaster__factory;var EntryPoint__factory$1={},__extends$6=commonjsGlobal&&commonjsGlobal.__extends||function(){var vn=function(fn,En){return vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Cn,_i){Cn.__proto__=_i}||function(Cn,_i){for(var An in _i)Object.prototype.hasOwnProperty.call(_i,An)&&(Cn[An]=_i[An])},vn(fn,En)};return function(fn,En){if(typeof En!="function"&&En!==null)throw new TypeError("Class extends value "+String(En)+" is not a constructor or null");vn(fn,En);function Cn(){this.constructor=fn}fn.prototype=En===null?Object.create(En):(Cn.prototype=En.prototype,new Cn)}}();EntryPoint__factory$1.__esModule=!0;EntryPoint__factory$1.EntryPoint__factory=void 0;var ethers_1$c=require$$0,_abi$c=[{inputs:[{internalType:"uint256",name:"preOpGas",type:"uint256"},{internalType:"uint256",name:"paid",type:"uint256"},{internalType:"uint48",name:"validAfter",type:"uint48"},{internalType:"uint48",name:"validUntil",type:"uint48"},{internalType:"bool",name:"targetSuccess",type:"bool"},{internalType:"bytes",name:"targetResult",type:"bytes"}],name:"ExecutionResult",type:"error"},{inputs:[{internalType:"uint256",name:"opIndex",type:"uint256"},{internalType:"string",name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{internalType:"address",name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{inputs:[{components:[{internalType:"uint256",name:"preOpGas",type:"uint256"},{internalType:"uint256",name:"prefund",type:"uint256"},{internalType:"bool",name:"sigFailed",type:"bool"},{internalType:"uint48",name:"validAfter",type:"uint48"},{internalType:"uint48",name:"validUntil",type:"uint48"},{internalType:"bytes",name:"paymasterContext",type:"bytes"}],internalType:"struct IEntryPoint.ReturnInfo",name:"returnInfo",type:"tuple"},{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],internalType:"struct IStakeManager.StakeInfo",name:"senderInfo",type:"tuple"},{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],internalType:"struct IStakeManager.StakeInfo",name:"factoryInfo",type:"tuple"},{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],internalType:"struct IStakeManager.StakeInfo",name:"paymasterInfo",type:"tuple"}],name:"ValidationResult",type:"error"},{inputs:[{components:[{internalType:"uint256",name:"preOpGas",type:"uint256"},{internalType:"uint256",name:"prefund",type:"uint256"},{internalType:"bool",name:"sigFailed",type:"bool"},{internalType:"uint48",name:"validAfter",type:"uint48"},{internalType:"uint48",name:"validUntil",type:"uint48"},{internalType:"bytes",name:"paymasterContext",type:"bytes"}],internalType:"struct IEntryPoint.ReturnInfo",name:"returnInfo",type:"tuple"},{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],internalType:"struct IStakeManager.StakeInfo",name:"senderInfo",type:"tuple"},{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],internalType:"struct IStakeManager.StakeInfo",name:"factoryInfo",type:"tuple"},{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],internalType:"struct IStakeManager.StakeInfo",name:"paymasterInfo",type:"tuple"},{components:[{internalType:"address",name:"aggregator",type:"address"},{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],internalType:"struct IStakeManager.StakeInfo",name:"stakeInfo",type:"tuple"}],internalType:"struct IEntryPoint.AggregatorStakeInfo",name:"aggregatorInfo",type:"tuple"}],name:"ValidationResultWithAggregation",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"address",name:"factory",type:"address"},{indexed:!1,internalType:"address",name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"totalStaked",type:"uint256"},{indexed:!1,internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"address",name:"withdrawAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"paymaster",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bool",name:"success",type:"bool"},{indexed:!1,internalType:"uint256",name:"actualGasCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes",name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"address",name:"withdrawAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[],name:"SIG_VALIDATION_FAILED",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"address",name:"sender",type:"address"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"}],name:"_validateSenderAndPaymaster",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"deposits",outputs:[{internalType:"uint112",name:"deposit",type:"uint112"},{internalType:"bool",name:"staked",type:"bool"},{internalType:"uint112",name:"stake",type:"uint112"},{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"},{internalType:"uint48",name:"withdrawTime",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{internalType:"uint112",name:"deposit",type:"uint112"},{internalType:"bool",name:"staked",type:"bool"},{internalType:"uint112",name:"stake",type:"uint112"},{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"},{internalType:"uint48",name:"withdrawTime",type:"uint48"}],internalType:"struct IStakeManager.DepositInfo",name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation[]",name:"userOps",type:"tuple[]"},{internalType:"contract IAggregator",name:"aggregator",type:"address"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct IEntryPoint.UserOpsPerAggregator[]",name:"opsPerAggregator",type:"tuple[]"},{internalType:"address payable",name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation[]",name:"ops",type:"tuple[]"},{internalType:"address payable",name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"callData",type:"bytes"},{components:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"address",name:"paymaster",type:"address"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"}],internalType:"struct EntryPoint.MemoryUserOp",name:"mUserOp",type:"tuple"},{internalType:"bytes32",name:"userOpHash",type:"bytes32"},{internalType:"uint256",name:"prefund",type:"uint256"},{internalType:"uint256",name:"contextOffset",type:"uint256"},{internalType:"uint256",name:"preOpGas",type:"uint256"}],internalType:"struct EntryPoint.UserOpInfo",name:"opInfo",type:"tuple"},{internalType:"bytes",name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{internalType:"uint256",name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"op",type:"tuple"},{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"targetCallData",type:"bytes"}],name:"simulateHandleOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"}],name:"simulateValidation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"},{internalType:"uint256",name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],_bytecode$6="0x60a08060405234620000845761022c8181016001600160401b038111838210176200006e57829162005773833903906000f0801562000062576080526040516156e990816200008a8239608051818181611321015281816139700152613c910152f35b6040513d6000823e3d90fd5b634e487b7160e01b600052604160045260246000fd5b600080fdfe60806040526004361015610023575b361561001957600080fd5b610021614f9c565b005b60003560e01c80630396cb60146101775780631d7327561461016e5780631fad948c14610165578063205c28781461015c5780634b1d7cf5146101535780635287ce121461014a57806370a08231146101415780638f41ec5a14610138578063957122ab1461012f5780639b249f6914610126578063a61935311461011d578063b760faf914610114578063bb9fe6bf1461010b578063c23a5cea14610102578063d6383f94146100f9578063ee219423146100f05763fc7e286d0361000e576100eb611b0f565b61000e565b506100eb6118f7565b506100eb61178f565b506100eb6115f6565b506100eb611478565b506100eb611439565b506100eb611418565b506100eb611279565b506100eb6110a6565b506100eb61106b565b506100eb610fe6565b506100eb610e96565b506100eb610b6b565b506100eb6109cc565b506100eb61071c565b506100eb610549565b5060207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261031d5760043563ffffffff811680820361031d576103187fa5ae833d0bb1dcd632d98a8b70973e8516812898e19bf27b70071ebc8dc52c01916102356102053373ffffffffffffffffffffffffffffffffffffffff166000526000602052604060002090565b91610211811515615102565b61022e610225600185015463ffffffff1690565b63ffffffff1690565b1115615167565b54926102fa6dffffffffffffffffffffffffffff946102b861025c34888460781c166120aa565b966102688815156151cc565b61027481891115615231565b61029881610280610409565b941684906dffffffffffffffffffffffffffff169052565b6001602084015287166dffffffffffffffffffffffffffff166040830152565b63ffffffff83166060820152600060808201526102f53373ffffffffffffffffffffffffffffffffffffffff166000526000602052604060002090565b615296565b6040805194855263ffffffff90911660208501523393918291820190565b0390a2005b600080fd5b507f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60a0810190811067ffffffffffffffff82111761036e57604052565b610376610322565b604052565b610100810190811067ffffffffffffffff82111761036e57604052565b67ffffffffffffffff811161036e57604052565b6060810190811067ffffffffffffffff82111761036e57604052565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff82111761036e57604052565b6040519061041682610352565b565b6040519060c0820182811067ffffffffffffffff82111761036e57604052565b604051906040820182811067ffffffffffffffff82111761036e57604052565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f60209267ffffffffffffffff8111610494575b01160190565b61049c610322565b61048e565b9291926104ad82610458565b916104bb60405193846103c8565b82948184528183011161031d578281602093846000960137010152565b73ffffffffffffffffffffffffffffffffffffffff81160361031d57565b60243590610416826104d8565b60c43590610416826104d8565b3590610416826104d8565b9181601f8401121561031d5782359167ffffffffffffffff831161031d576020838186019501011161031d57565b503461031d576101c07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261031d5767ffffffffffffffff60043581811161031d573660238201121561031d576105ac9036906024816004013591016104a1565b907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdc3601610180811261031d57610100604051916105e983610352565b1261031d576040516105fa8161037b565b6106026104f6565b815260443560208201526064356040820152608435606082015260a435608082015261062c610503565b60a082015260e43560c08201526101043560e082015281526101243560208201526101443560408201526101643560608201526101843560808201526101a43591821161031d576106a09261068861069093369060040161051b565b929091612786565b6040519081529081906020820190565b0390f35b9060407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc83011261031d5760043567ffffffffffffffff9283821161031d578060238301121561031d57816004013593841161031d5760248460051b8301011161031d576024019190602435610719816104d8565b90565b503461031d5761072b366106a4565b610736829392611c6f565b60005b848110610788575060009283915b858310610758576100218585611dac565b90919360019061077e61076c878987611d2e565b6107768886611d0c565b519088612214565b0194019190610747565b6107b36107ac61079a83859795611d0c565b516107a6848987611d2e565b84612fc4565b9190612d9b565b73ffffffffffffffffffffffffffffffffffffffff9291831661095e576108f0576107dd90612d9b565b9116610882576107f257600101929092610739565b604080517f220266b600000000000000000000000000000000000000000000000000000000815260048101929092526024820152602160448201527f41413332207061796d61737465722065787069726564206f72206e6f7420647560648201527f6500000000000000000000000000000000000000000000000000000000000000608482015260a490fd5b0390fd5b61087e826040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301608091815260406020820152601460408201527f41413334207369676e6174757265206572726f7200000000000000000000000060608201520190565b61087e836040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301608091815260406020820152601760408201527f414132322065787069726564206f72206e6f742064756500000000000000000060608201520190565b61087e846040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301608091815260406020820152601460408201527f41413234207369676e6174757265206572726f7200000000000000000000000060608201520190565b503461031d5760407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261031d57600435610a08816104d8565b6024359060009133835282602052604083206dffffffffffffffffffffffffffff81541692838311610b0d57848373ffffffffffffffffffffffffffffffffffffffff829593610ab08496610a77610a648798610b0a9c612095565b6dffffffffffffffffffffffffffff1690565b6dffffffffffffffffffffffffffff167fffffffffffffffffffffffffffffffffffff0000000000000000000000000000825416179055565b6040805173ffffffffffffffffffffffffffffffffffffffff831681526020810185905233917fd1c19fbcd4551a5edfb66d43d2e337c04837afda3482b42bdf569a8fccdae5fb91a2165af1610b04611d7c565b5061560d565b80f35b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601960248201527f576974686472617720616d6f756e7420746f6f206c61726765000000000000006044820152fd5b503461031d57610b7a366106a4565b6000805b838210610d3c57610b8f9150611c6f565b6000805b848110610ca257505060008093815b818110610bd957610021868660007f575ff3acadd5ab348fe1855e217e0f3678f8d767d7494c9f9fefbee2e17cca4d8180a2611dac565b610c3d610be782848a6123a0565b610c12610bf9610bf960208401612442565b73ffffffffffffffffffffffffffffffffffffffff1690565b7f575ff3acadd5ab348fe1855e217e0f3678f8d767d7494c9f9fefbee2e17cca4d600080a2806123ee565b906000915b808310610c5a57505050610c5590612366565b610ba2565b90919497610c95610c8f610c9b92610c898c8b610c8282610c7c8e8b8d611d2e565b92611d0c565b5191612214565b906120aa565b99612366565b95612366565b9190610c42565b610cad8186886123a0565b6020610cc5610cbc83806123ee565b92909301612442565b9173ffffffffffffffffffffffffffffffffffffffff60009316905b828410610cfa5750505050610cf590612366565b610b93565b90919294610c9581610d2f85610d28610d16610d34968d611d0c565b51610d228c8b8a611d2e565b85612fc4565b908b612d53565b612366565b929190610ce1565b610d478285876123a0565b90610d5282806123ee565b92610d62610bf960208301612442565b9173ffffffffffffffffffffffffffffffffffffffff8316610d87600182141561244c565b610da8575b505050610da291610d9c916120aa565b91612366565b90610b7e565b909592610dc16040999693999895989788810190611e9d565b92908a3b1561031d5789938b918a5193849283927fe3563a4f00000000000000000000000000000000000000000000000000000000845260049e8f850193610e08946125e6565b03815a93600094fa9081610e7d575b50610e675786517f86a9f75000000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8a16818a0190815281906020010390fd5b9497509295509093509181610d9c610da2610d8c565b80610e8a610e9092610398565b80611060565b38610e17565b503461031d5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261031d576106a073ffffffffffffffffffffffffffffffffffffffff600435610eea816104d8565b608060409283928351610efc81610352565b600093818580935282602082015282878201528260608201520152168152806020522090610f8b65ffffffffffff6001835194610f3886610352565b80546dffffffffffffffffffffffffffff8082168852607082901c60ff161515602089015260789190911c1685870152015463ffffffff8116606086015260201c16608084019065ffffffffffff169052565b5191829182919091608065ffffffffffff8160a08401956dffffffffffffffffffffffffffff808251168652602082015115156020870152604082015116604086015263ffffffff6060820151166060860152015116910152565b503461031d5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261031d5773ffffffffffffffffffffffffffffffffffffffff600435611037816104d8565b16600052600060205260206dffffffffffffffffffffffffffff60406000205416604051908152f35b600091031261031d57565b503461031d5760007ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261031d57602060405160018152f35b503461031d5760607ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261031d57600467ffffffffffffffff813581811161031d576110f7903690840161051b565b905060243591611106836104d8565b60443590811161031d5761111d903690850161051b565b92909115908161126f575b50611208576014821015611178575b61087e836040519182917f08c379a0000000000000000000000000000000000000000000000000000000008352820160409060208152600060208201520190565b6111886111949261118e926129ab565b906129b9565b60601c90565b3b156111a1573880611137565b61087e906040519182917f08c379a0000000000000000000000000000000000000000000000000000000008352820160609060208152601b60208201527f41413330207061796d6173746572206e6f74206465706c6f796564000000000060408201520190565b61087e836040519182917f08c379a0000000000000000000000000000000000000000000000000000000008352820160609060208152601960208201527f41413230206163636f756e74206e6f74206465706c6f7965640000000000000060408201520190565b90503b1538611128565b503461031d5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261031d5760043567ffffffffffffffff811161031d576112cb602491369060040161051b565b906113016040519283927f570e1a3600000000000000000000000000000000000000000000000000000000845260048401612b4f565b0360208273ffffffffffffffffffffffffffffffffffffffff92816000857f0000000000000000000000000000000000000000000000000000000000000000165af19182156113b3575b600092611383575b50604051917f6ca7b806000000000000000000000000000000000000000000000000000000008352166004820152fd5b6113a591925060203d81116113ac575b61139d81836103c8565b810190612b3a565b9038611353565b503d611393565b6113bb612058565b61134b565b908161016091031261031d5790565b60207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc82011261031d576004359067ffffffffffffffff821161031d57610719916004016113c0565b503461031d57602061143161142c366113cf565b6128e1565b604051908152f35b5060207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261031d57610021600435611473816104d8565b615096565b503461031d576000807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126115f3573381528060205260408120600181019063ffffffff825416908115611595576115326114f761155a936114e96114e4855460ff9060701c1690565b6153fa565b65ffffffffffff421661545f565b84547fffffffffffffffffffffffffffffffffffffffffffff000000000000ffffffff16602082901b69ffffffffffff000000001617909455565b7fffffffffffffffffffffffffffffffffff00ffffffffffffffffffffffffffff8154169055565b60405165ffffffffffff91909116815233907ffa9b3c14cc825c412c9ed81b3ba365a5b459439403f18829e572ed53a4180f0a90602090a280f35b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600a60248201527f6e6f74207374616b6564000000000000000000000000000000000000000000006044820152fd5b80fd5b503461031d5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261031d57600435611632816104d8565b610b0a73ffffffffffffffffffffffffffffffffffffffff6116743373ffffffffffffffffffffffffffffffffffffffff166000526000602052604060002090565b9261172c611697610a6486546dffffffffffffffffffffffffffff9060781c1690565b946116a3861515615479565b611704600182016116dc65ffffffffffff6116c8835465ffffffffffff9060201c1690565b166116d48115156154de565b421015615543565b80547fffffffffffffffffffffffffffffffffffffffffffff00000000000000000000169055565b7fffffff0000000000000000000000000000ffffffffffffffffffffffffffffff8154169055565b6040805173ffffffffffffffffffffffffffffffffffffffff831681526020810186905233917fb7c918e0e249f999e965cafeb6c664271b3f4317d296461500e71da39f0cbda391a2600080809581948294165af1611789611d7c565b506155a8565b503461031d5760607ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261031d5767ffffffffffffffff60043581811161031d576117e09036906004016113c0565b602435916117ed836104d8565b60443590811161031d5761180861087e91369060040161051b565b611810611bec565b61181985612c4e565b61182c6118268287612e5c565b90614e95565b9461183c826000924384526120b7565b96438252819360609573ffffffffffffffffffffffffffffffffffffffff83166118c3575b5050505060800151936118906040611882602084015165ffffffffffff1690565b92015165ffffffffffff1690565b906040519687967f8b7ac980000000000000000000000000000000000000000000000000000000008852600488016126b6565b839550839496506118dd60409492939451809481936126a8565b03925af19060806118ec611d7c565b929190388080611861565b503461031d57611906366113cf565b61190e611bec565b61191782612c4e565b6119218183612e5c565b825160a0015191939161194e9073ffffffffffffffffffffffffffffffffffffffff16614f47565b614f47565b90611972611949855173ffffffffffffffffffffffffffffffffffffffff90511690565b9461197b612973565b506119aa61198e60409586810190611e9d565b90600060148310611b0757506111886119499261118e926129ab565b916119b491614e95565b805173ffffffffffffffffffffffffffffffffffffffff169073ffffffffffffffffffffffffffffffffffffffff821660018114916080880151978781015191886020820151611a099065ffffffffffff1690565b91015165ffffffffffff16916060015192611a22610418565b9a8b5260208b0152841515898b015265ffffffffffff1660608a015265ffffffffffff16608089015260a088015215159081611afe575b50611a93575061087e92519485947fe0cff05f00000000000000000000000000000000000000000000000000000000865260048601612ae0565b919061087e93611aa284614f47565b611ac9611aad610438565b73ffffffffffffffffffffffffffffffffffffffff9096168652565b6020850152519586957ffaecb4e400000000000000000000000000000000000000000000000000000000875260048701612a4e565b90501538611a59565b915050614f47565b503461031d5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261031d5773ffffffffffffffffffffffffffffffffffffffff600435611b60816104d8565b16600052600060205260a0604060002065ffffffffffff60018254920154604051926dffffffffffffffffffffffffffff90818116855260ff8160701c161515602086015260781c16604084015263ffffffff8116606084015260201c166080820152f35b60209067ffffffffffffffff8111611bdf575b60051b0190565b611be7610322565b611bd8565b60405190611bf982610352565b604051608083610100830167ffffffffffffffff811184821017611c62575b60405260009283815283602082015283604082015283606082015283838201528360a08201528360c08201528360e082015281528260208201528260408201528260608201520152565b611c6a610322565b611c18565b90611c7982611bc5565b611c8660405191826103c8565b8281527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0611cb48294611bc5565b019060005b828110611cc557505050565b602090611cd0611bec565b82828501015201611cb9565b507f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020918151811015611d21575b60051b010190565b611d29611cdc565b611d19565b9190811015611d6f575b60051b810135907ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffea18136030182121561031d570190565b611d77611cdc565b611d38565b3d15611da7573d90611d8d82610458565b91611d9b60405193846103c8565b82523d6000602084013e565b606090565b73ffffffffffffffffffffffffffffffffffffffff168015611e3f57600080809381935af1611dd9611d7c565b5015611de157565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f41413931206661696c65642073656e6420746f2062656e6566696369617279006044820152fd5b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f4141393020696e76616c69642062656e656669636961727900000000000000006044820152fd5b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18136030182121561031d570180359067ffffffffffffffff821161031d5760200191813603831361031d57565b9081602091031261031d575190565b601f82602094937fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0938186528686013760008582860101520116010190565b60005b838110611f4f5750506000910152565b8181015183820152602001611f3f565b907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f602093611f9b81518092818752878088019101611f3c565b0116010190565b90611fbc60809161071996946101c0808652850191611efd565b9360e0815173ffffffffffffffffffffffffffffffffffffffff80825116602087015260208201516040870152604082015160608701526060820151858701528482015160a087015260a08201511660c086015260c081015182860152015161010084015260208101516101208401526040810151610140840152606081015161016084015201516101808201526101a0818403910152611f5f565b506040513d6000823e3d90fd5b507f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b919082039182116120a257565b610416612065565b919082018092116120a257565b905a918160206120d06060830151936060810190611e9d565b906121098560405195869485947f1d73275600000000000000000000000000000000000000000000000000000000865260048601611fa2565b03816000305af1600091816121e4575b506121dd575060206000803e7fdeaddead00000000000000000000000000000000000000000000000000000000600051146121705761216a61215f610719945a90612095565b6080840151906120aa565b916145d7565b6040517f220266b60000000000000000000000000000000000000000000000000000000081528061087e600482016080906000815260406020820152600f60408201527f41413935206f7574206f6620676173000000000000000000000000000000000060608201520190565b9250505090565b61220691925060203d811161220d575b6121fe81836103c8565b810190611eee565b9038612119565b503d6121f4565b909291925a938060206122306060830151946060810190611e9d565b906122698660405195869485947f1d73275600000000000000000000000000000000000000000000000000000000865260048601611fa2565b03816000305af160009181612346575b5061233f575060206000803e7fdeaddead00000000000000000000000000000000000000000000000000000000600051146122d1576122cb6122c061071995965a90612095565b6080830151906120aa565b926148ba565b61087e836040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301608091815260406020820152600f60408201527f41413935206f7574206f6620676173000000000000000000000000000000000060608201520190565b9450505050565b61235f91925060203d811161220d576121fe81836103c8565b9038612279565b6001907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8114612394570190565b61239c612065565b0190565b91908110156123e1575b60051b810135907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa18136030182121561031d570190565b6123e9611cdc565b6123aa565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18136030182121561031d570180359067ffffffffffffffff821161031d57602001918160051b3603831361031d57565b35610719816104d8565b1561245357565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f4141393620696e76616c69642061676772656761746f720000000000000000006044820152fd5b90357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18236030181121561031d57016020813591019167ffffffffffffffff821161031d57813603831361031d57565b6107199161252c8161251284610510565b73ffffffffffffffffffffffffffffffffffffffff169052565b602082013560208201526125c761257861255d61254c60408601866124b1565b610160806040880152860191611efd565b61256a60608601866124b1565b908583036060870152611efd565b6080840135608084015260a084013560a084015260c084013560c084015260e084013560e084015261010080850135908401526101206125ba818601866124b1565b9185840390860152611efd565b916125d861014091828101906124b1565b929091818503910152611efd565b949391929083604087016040885252606086019360608160051b8801019482600090815b8483106126295750505050505084602061071995968503910152611efd565b9091929394977fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa08b820301855288357ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffea1843603018112156126a457600191846126929201612501565b9860209081019695019301919061260a565b8280fd5b908092918237016000815290565b92909361071996959260c0958552602085015265ffffffffffff8092166040850152166060830152151560808201528160a08201520190611f5f565b156126f957565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f4141393220696e7465726e616c2063616c6c206f6e6c790000000000000000006044820152fd5b90604061071992600081528160208201520190611f5f565b604090610719939281528160208201520190611f5f565b909291925a936127973033146126f2565b8151946040860151955a6113886060830151890101116128b7576107199660009580516127de575b505050906127d8915a90036080840151019436916104a1565b91614b22565b61280d9161280991612804855173ffffffffffffffffffffffffffffffffffffffff1690565b615672565b1590565b612819575b80806127bf565b6127d892919450612828615684565b90815161283c575b50506001939091612812565b7f1c4fada7374c0a9ee8841fc38afe82932dc0f8e69012e927f061a8bae611a20173ffffffffffffffffffffffffffffffffffffffff6020870151926128ad602061289b835173ffffffffffffffffffffffffffffffffffffffff1690565b9201519560405193849316968361276f565b0390a33880612830565b7fdeaddead0000000000000000000000000000000000000000000000000000000060005260206000fd5b806128f0610140820182611e9d565b50037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe081016040519182016040528082526020820192833751902060405160208101918252306040820152466060820152606081526080810181811067ffffffffffffffff821117612966575b60405251902090565b61296e610322565b61295d565b604051906040820182811067ffffffffffffffff82111761299e575b60405260006020838281520152565b6129a6610322565b61298f565b9060141161031d5790601490565b7fffffffffffffffffffffffffffffffffffffffff00000000000000000000000090358181169392601481106129ee57505050565b60140360031b82901b16169150565b9060c060a061071993805184526020810151602085015260408101511515604085015265ffffffffffff80606083015116606086015260808201511660808501520151918160a08201520190611f5f565b9294612aaf61041695612a9d610100959998612a8b612a77602097610140808c528b01906129fd565b9b878a019060208091805184520151910152565b80516060890152602001516080880152565b805160a08701526020015160c0860152565b73ffffffffffffffffffffffffffffffffffffffff81511660e0850152015191019060208091805184520151910152565b612b2961041694612b17612b0260a0959998969960e0865260e08601906129fd565b98602085019060208091805184520151910152565b80516060840152602001516080830152565b019060208091805184520151910152565b9081602091031261031d5751610719816104d8565b916020610719938181520191611efd565b90612b8f73ffffffffffffffffffffffffffffffffffffffff9161071997959694606085526060850191611efd565b941660208201526040818503910152611efd565b60009060033d11612bb057565b905060046000803e60005160e01c90565b600060443d10610719576040517ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc91823d016004833e815167ffffffffffffffff918282113d602484011117612c3d57818401948551938411612c45573d85010160208487010111612c3d5750610719929101602001906103c8565b949350505050565b50949350505050565b612c5b6040820182611e9d565b612c73612c6784612442565b93610120810190611e9d565b9290303b1561031d57600093612cb79160405196879586957f957122ab00000000000000000000000000000000000000000000000000000000875260048701612b60565b0381305afa9081612d40575b50610416576001612cd2612ba3565b6308c379a014612ceb575b612ce357565b610416612058565b612cf3612bc1565b80612cff575b50612cdd565b80516000925015612cf95761087e906040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301612757565b80610e8a612d4d92610398565b38612cc3565b929190612d5f90612d9b565b909273ffffffffffffffffffffffffffffffffffffffff8080951691160361095e576108f057612d8e90612d9b565b9116610882576107f25750565b8015612dee57612daa90614e3a565b73ffffffffffffffffffffffffffffffffffffffff65ffffffffffff806040840151164211908115612dde575b5091511691565b9050602083015116421038612dd7565b50600090600090565b15612dfe57565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f41413934206761732076616c756573206f766572666c6f7700000000000000006044820152fd5b916000915a93815190612e6f828261318e565b612e78816128e1565b6020840152612eb66effffffffffffffffffffffffffffff60808401516060850151176040850151176101008401359060e085013517171115612df7565b612ebf82613250565b612eca818584613311565b9790612ed543600052565b73ffffffffffffffffffffffffffffffffffffffff612f0d60a0606097015173ffffffffffffffffffffffffffffffffffffffff1690565b16612faa575b505a810360a084013510612f3d5760809360c092604087015260608601525a900391013501910152565b6040517f220266b60000000000000000000000000000000000000000000000000000000081528061087e600482016080906000815260406020820152601e60408201527f41413430206f76657220766572696669636174696f6e4761734c696d6974000060608201520190565b90935081612fbb9297508584614037565b95909238612f13565b9290916000925a8251612fd7818461318e565b612fe0836128e1565b602085015261301e6effffffffffffffffffffffffffffff60808301516060840151176040840151176101008601359060e087013517171115612df7565b61302781613250565b6130338186868b61367d565b989061303e43600052565b73ffffffffffffffffffffffffffffffffffffffff61307660a0606096015173ffffffffffffffffffffffffffffffffffffffff1690565b1661310e575b505a840360a0860135106130a85750604085015260608401526080919060c0905a900391013501910152565b604080517f220266b600000000000000000000000000000000000000000000000000000000815260048101929092526024820152601e60448201527f41413430206f76657220766572696669636174696f6e4761734c696d697400006064820152608490fd5b909250816131209298508686856142ca565b9690913861307c565b1561313057565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f4141393320696e76616c6964207061796d6173746572416e64446174610000006044820152fd5b613200906131b861319e82612442565b73ffffffffffffffffffffffffffffffffffffffff168452565b602081013560208401526080810135604084015260a0810135606084015260c0810135608084015260e081013560c084015261010081013560e0840152610120810190611e9d565b9081156132455761322a61118e6111888460a094613225601461041699981015613129565b6129ab565b73ffffffffffffffffffffffffffffffffffffffff16910152565b505060a06000910152565b60a081015173ffffffffffffffffffffffffffffffffffffffff16156132925760c060035b60ff60408401519116606084015102016080830151019101510290565b60c06001613275565b6132b360409295949395606083526060830190612501565b9460208201520152565b90610416602f60405180947f414132332072657665727465643a20000000000000000000000000000000000060208301526133018151809260208686019101611f3c565b810103600f8101855201836103c8565b916000926000925a936133df6020835193613340855173ffffffffffffffffffffffffffffffffffffffff1690565b956133586133516040830183611e9d565b90846138e8565b60a086015173ffffffffffffffffffffffffffffffffffffffff169061337d43600052565b85809373ffffffffffffffffffffffffffffffffffffffff809416159889613615575b60600151908601516040517f3a871cdd00000000000000000000000000000000000000000000000000000000815297889687958693906004850161329b565b03938a1690f18291816135f5575b506135ec57506001906133fe612ba3565b6308c379a014613598575b5061352b575b61341c575b50505a900391565b6134469073ffffffffffffffffffffffffffffffffffffffff166000526000602052604060002090565b613461610a6482546dffffffffffffffffffffffffffff1690565b8083116134be576134b7926dffffffffffffffffffffffffffff9103166dffffffffffffffffffffffffffff167fffffffffffffffffffffffffffffffffffff0000000000000000000000000000825416179055565b3880613414565b6040517f220266b60000000000000000000000000000000000000000000000000000000081528061087e600482016080906000815260406020820152601760408201527f41413231206469646e2774207061792070726566756e6400000000000000000060608201520190565b6040517f220266b60000000000000000000000000000000000000000000000000000000081528061087e600482016080906000815260406020820152601660408201527f4141323320726576657274656420286f72204f4f47290000000000000000000060608201520190565b6135a0612bc1565b90816135ac5750613409565b61087e916135ba91506132bd565b6040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301612757565b955061340f9050565b61360e91925060203d811161220d576121fe81836103c8565b90386133ed565b945061365b610a646136478c73ffffffffffffffffffffffffffffffffffffffff166000526000602052604060002090565b546dffffffffffffffffffffffffffff1690565b8b8111156136725750856060835b969150506133a0565b606087918d03613669565b90926000936000935a946136c660208351936136ad855173ffffffffffffffffffffffffffffffffffffffff1690565b956133586136be6040830183611e9d565b90848c613c06565b03938a1690f18291816138c8575b506138bf57506001906136e5612ba3565b6308c379a014613869575b506137fb575b613704575b5050505a900391565b61372e9073ffffffffffffffffffffffffffffffffffffffff166000526000602052604060002090565b9161374a610a6484546dffffffffffffffffffffffffffff1690565b90818311613795575082547fffffffffffffffffffffffffffffffffffff0000000000000000000000000000169190036dffffffffffffffffffffffffffff161790553880806136fb565b604080517f220266b600000000000000000000000000000000000000000000000000000000815260048101929092526024820152601760448201527f41413231206469646e2774207061792070726566756e640000000000000000006064820152608490fd5b61087e846040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301608091815260406020820152601660408201527f4141323320726576657274656420286f72204f4f47290000000000000000000060608201520190565b613871612bc1565b908161387d57506136f0565b869161388991506132bd565b9061087e6040519283927f220266b60000000000000000000000000000000000000000000000000000000084526004840161276f565b96506136f69050565b6138e191925060203d811161220d576121fe81836103c8565b90386136d4565b9091806138f457505050565b81515173ffffffffffffffffffffffffffffffffffffffff1692833b613b9957606083510151604051907f570e1a3600000000000000000000000000000000000000000000000000000000825260208280613953878760048401612b4f565b0381600073ffffffffffffffffffffffffffffffffffffffff95867f00000000000000000000000000000000000000000000000000000000000000001690f1918215613b8c575b600092613b6c575b50808216958615613aff5716809503613a92573b15613a255761118e6111887fd51a9c61267aa6196961883ecf5ff2da6619c37dac0fa92122513fb32c032d2d936139ec936129ab565b602083810151935160a001516040805173ffffffffffffffffffffffffffffffffffffffff9485168152939091169183019190915290a3565b6040517f220266b60000000000000000000000000000000000000000000000000000000081528061087e600482016080906000815260406020820152602060408201527f4141313520696e6974436f6465206d757374206372656174652073656e64657260608201520190565b6040517f220266b60000000000000000000000000000000000000000000000000000000081528061087e600482016080906000815260406020820152602060408201527f4141313420696e6974436f6465206d7573742072657475726e2073656e64657260608201520190565b6040517f220266b60000000000000000000000000000000000000000000000000000000081528061087e600482016080906000815260406020820152601b60408201527f4141313320696e6974436f6465206661696c6564206f72204f4f47000000000060608201520190565b613b8591925060203d81116113ac5761139d81836103c8565b90386139a2565b613b94612058565b61399a565b6040517f220266b60000000000000000000000000000000000000000000000000000000081528061087e600482016080906000815260406020820152601f60408201527f414131302073656e64657220616c726561647920636f6e73747275637465640060608201520190565b92909181613c15575b50505050565b82515173ffffffffffffffffffffffffffffffffffffffff1693843b613ebd57606084510151604051907f570e1a3600000000000000000000000000000000000000000000000000000000825260208280613c74888860048401612b4f565b0381600073ffffffffffffffffffffffffffffffffffffffff95867f00000000000000000000000000000000000000000000000000000000000000001690f1918215613eb0575b600092613e90575b50808216968715613e225716809603613db4573b15613d4e575061118e6111887fd51a9c61267aa6196961883ecf5ff2da6619c37dac0fa92122513fb32c032d2d93613d0e936129ab565b602083810151935160a001516040805173ffffffffffffffffffffffffffffffffffffffff9485168152939091169183019190915290a338808080613c0f565b604080517f220266b600000000000000000000000000000000000000000000000000000000815260048101929092526024820152602060448201527f4141313520696e6974436f6465206d757374206372656174652073656e6465726064820152608490fd5b61087e826040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301608091815260406020820152602060408201527f4141313420696e6974436f6465206d7573742072657475726e2073656e64657260608201520190565b61087e846040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301608091815260406020820152601b60408201527f4141313320696e6974436f6465206661696c6564206f72204f4f47000000000060608201520190565b613ea991925060203d81116113ac5761139d81836103c8565b9038613cc3565b613eb8612058565b613cbb565b604080517f220266b600000000000000000000000000000000000000000000000000000000815260048101929092526024820152601f60448201527f414131302073656e64657220616c726561647920636f6e7374727563746564006064820152608490fd5b15613f2a57565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f4141343120746f6f206c6974746c6520766572696669636174696f6e476173006044820152fd5b919060408382031261031d57825167ffffffffffffffff811161031d5783019080601f8301121561031d57815191613fbf83610458565b91613fcd60405193846103c8565b8383526020848301011161031d57602092613fed91848085019101611f3c565b92015190565b90610416602f60405180947f414133332072657665727465643a20000000000000000000000000000000000060208301526133018151809260208686019101611f3c565b93919260609460009460009380519261407660a08a8601519561405b888811613f23565b015173ffffffffffffffffffffffffffffffffffffffff1690565b916140a18373ffffffffffffffffffffffffffffffffffffffff166000526000602052604060002090565b946140bd610a6487546dffffffffffffffffffffffffffff1690565b9685881061425d5773ffffffffffffffffffffffffffffffffffffffff60208a98946141338a966dffffffffffffffffffffffffffff8b61416c9e03166dffffffffffffffffffffffffffff167fffffffffffffffffffffffffffffffffffff0000000000000000000000000000825416179055565b015194604051998a98899788937ff465c77e0000000000000000000000000000000000000000000000000000000085526004850161329b565b0395169103f1908183918493614237575b5061423057505060019061418f612ba3565b6308c379a01461420e575b506141a157565b6040517f220266b60000000000000000000000000000000000000000000000000000000081528061087e600482016080906000815260406020820152601660408201527f4141333320726576657274656420286f72204f4f47290000000000000000000060608201520190565b614216612bc1565b9081614222575061419a565b61087e916135ba9150613ff3565b9450925050565b90925061425691503d8085833e61424e81836103c8565b810190613f88565b913861417d565b6040517f220266b60000000000000000000000000000000000000000000000000000000081528061087e600482016080906000815260406020820152601e60408201527f41413331207061796d6173746572206465706f73697420746f6f206c6f77000060608201520190565b9194929390936060956000956000938251906142f160a08b8401519361405b848611613f23565b9361431c8573ffffffffffffffffffffffffffffffffffffffff166000526000602052604060002090565b614337610a6482546dffffffffffffffffffffffffffff1690565b878110614492579273ffffffffffffffffffffffffffffffffffffffff60208a989693946141338a966dffffffffffffffffffffffffffff8d6143b19e9c9a03166dffffffffffffffffffffffffffff167fffffffffffffffffffffffffffffffffffff0000000000000000000000000000825416179055565b0395169103f1908183918493614474575b5061446c5750506001906143d4612ba3565b6308c379a01461444d575b506143e75750565b604080517f220266b600000000000000000000000000000000000000000000000000000000815260048101929092526024820152601660448201527f4141333320726576657274656420286f72204f4f4729000000000000000000006064820152608490fd5b614455612bc1565b908161446157506143df565b613889925050613ff3565b955093505050565b90925061448b91503d8085833e61424e81836103c8565b91386143c2565b61087e8a6040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301608091815260406020820152601e60408201527f41413331207061796d6173746572206465706f73697420746f6f206c6f77000060608201520190565b6003111561450a57565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b92919061455760409160028652606060208701526060860190611f5f565b930152565b93929190600381101561450a57604091614557918652606060208701526060860190611f5f565b90610416603660405180947f4141353020706f73744f702072657665727465643a200000000000000000000060208301526145c78151809260208686019101611f3c565b81010360168101855201836103c8565b929190925a936000918051916145ec83614df3565b9260a0810195614610875173ffffffffffffffffffffffffffffffffffffffff1690565b73ffffffffffffffffffffffffffffffffffffffff9390848116908161477f57505050614651825173ffffffffffffffffffffffffffffffffffffffff1690565b985b5a90030193840297604084019089825110614712577f49628fd1471006c1482da88028e9ce4dbb080b815c9b0344d39e5a8e6ec1419f9461469d6020928c61470d95510390614fa5565b0151948960206146df6146c4865173ffffffffffffffffffffffffffffffffffffffff1690565b9a5173ffffffffffffffffffffffffffffffffffffffff1690565b9401519785604051968796169a16988590949392606092608083019683521515602083015260408201520152565b0390a4565b6040517f220266b60000000000000000000000000000000000000000000000000000000081528061087e600482016080906000815260406020820152602060408201527f414135312070726566756e642062656c6f772061637475616c476173436f737460608201520190565b9a91805161478f575b5050614653565b6060850151600099509091803b156148b65791899189836147e2956040518097819682957fa9a234090000000000000000000000000000000000000000000000000000000084528c029060048401614539565b0393f190816148a3575b5061489e5760016147fb612ba3565b6308c379a01461487f575b614812575b3880614788565b6040517f220266b60000000000000000000000000000000000000000000000000000000081528061087e600482016080906000815260406020820152601260408201527f4141353020706f73744f7020726576657274000000000000000000000000000060608201520190565b614887612bc1565b806148925750614806565b6135ba61087e91614583565b61480b565b80610e8a6148b092610398565b386147ec565b8980fd5b9392915a906000928051906148ce82614df3565b9360a08301966148f2885173ffffffffffffffffffffffffffffffffffffffff1690565b73ffffffffffffffffffffffffffffffffffffffff959086811690816149e857505050614933845173ffffffffffffffffffffffffffffffffffffffff1690565b915b5a9003019485029860408301908a82511061498257507f49628fd1471006c1482da88028e9ce4dbb080b815c9b0344d39e5a8e6ec1419f94939261469d61470d938c602094510390614fa5565b604080517f220266b600000000000000000000000000000000000000000000000000000000815260048101929092526024820152602060448201527f414135312070726566756e642062656c6f772061637475616c476173436f73746064820152608490fd5b939180516149f8575b5050614935565b606087015160009a509091803b15614b1e57918a918a83614a4b956040518097819682957fa9a234090000000000000000000000000000000000000000000000000000000084528c029060048401614539565b0393f19081614b0b575b50614b06576001614a64612ba3565b6308c379a014614ae9575b614a7b575b38806149f1565b61087e8b6040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301608091815260406020820152601260408201527f4141353020706f73744f7020726576657274000000000000000000000000000060608201520190565b614af1612bc1565b80614afc5750614a6f565b6138898d91614583565b614a74565b80610e8a614b1892610398565b38614a55565b8a80fd5b909392915a94805191614b3483614df3565b9260a0810195614b58875173ffffffffffffffffffffffffffffffffffffffff1690565b73ffffffffffffffffffffffffffffffffffffffff938185169182614c4057505050614b98825173ffffffffffffffffffffffffffffffffffffffff1690565b985b5a90030193840297604084019089825110614712577f49628fd1471006c1482da88028e9ce4dbb080b815c9b0344d39e5a8e6ec1419f94614be46020928c61470d95510390614fa5565b614bed88614500565b015194896020614c146146c4865173ffffffffffffffffffffffffffffffffffffffff1690565b940151604080519182529815602082015297880152606087015290821695909116939081906080820190565b9a918151614c50575b5050614b9a565b878402614c5c8a614500565b60028a14614ce7576060860151823b1561031d57614caf93600080948d604051978896879586937fa9a234090000000000000000000000000000000000000000000000000000000085526004850161455c565b0393f18015614cda575b614cc7575b505b3880614c49565b80610e8a614cd492610398565b38614cbe565b614ce2612058565b614cb9565b6060860151823b1561031d57614d3293600080948d604051978896879586937fa9a234090000000000000000000000000000000000000000000000000000000085526004850161455c565b0393f19081614de0575b50614ddb576001614d4b612ba3565b6308c379a014614dc8575b15614cc0576040517f220266b60000000000000000000000000000000000000000000000000000000081528061087e600482016080906000815260406020820152601260408201527f4141353020706f73744f7020726576657274000000000000000000000000000060608201520190565b614dd0612bc1565b806148925750614d56565b614cc0565b80610e8a614ded92610398565b38614d3c565b60e060c0820151910151808214614e1757480180821015614e12575090565b905090565b5090565b60405190614e28826103ac565b60006040838281528260208201520152565b614e42614e1b565b5065ffffffffffff808260a01c168015614e8e575b60405192614e64846103ac565b73ffffffffffffffffffffffffffffffffffffffff8116845260d01c602084015216604082015290565b5080614e57565b614eaa614eb091614ea4614e1b565b50614e3a565b91614e3a565b9073ffffffffffffffffffffffffffffffffffffffff9182825116928315614f3c575b65ffffffffffff928391826040816020850151169301511693836040816020840151169201511690808410614f34575b50808511614f2c575b5060405195614f1a876103ac565b16855216602084015216604082015290565b935038614f0c565b925038614f03565b815181169350614ed3565b9073ffffffffffffffffffffffffffffffffffffffff614f65612973565b9216600052600060205263ffffffff600160406000206dffffffffffffffffffffffffffff815460781c1685520154166020830152565b61041633615096565b73ffffffffffffffffffffffffffffffffffffffff16600052600060205260406000206dffffffffffffffffffffffffffff80825416928301809311615089575b80831161502b5761041692166dffffffffffffffffffffffffffff167fffffffffffffffffffffffffffffffffffff0000000000000000000000000000825416179055565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601060248201527f6465706f736974206f766572666c6f77000000000000000000000000000000006044820152fd5b615091612065565b614fe6565b73ffffffffffffffffffffffffffffffffffffffff906150b63482614fa5565b168060005260006020527f2da466a7b24304f47e87fa2e1e5a81b9831ce54fec19055ce277ca2f39ba42c460206dffffffffffffffffffffffffffff60406000205416604051908152a2565b1561510957565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601a60248201527f6d757374207370656369667920756e7374616b652064656c61790000000000006044820152fd5b1561516e57565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601c60248201527f63616e6e6f7420646563726561736520756e7374616b652074696d65000000006044820152fd5b156151d357565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601260248201527f6e6f207374616b652073706563696669656400000000000000000000000000006044820152fd5b1561523857565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600e60248201527f7374616b65206f766572666c6f770000000000000000000000000000000000006044820152fd5b9065ffffffffffff60806001610416946152f66dffffffffffffffffffffffffffff86511682906dffffffffffffffffffffffffffff167fffffffffffffffffffffffffffffffffffff0000000000000000000000000000825416179055565b602085015115156eff000000000000000000000000000082549160701b16807fffffffffffffffffffffffffffffffffff00ffffffffffffffffffffffffffff83161783557fffffff000000000000000000000000000000ffffffffffffffffffffffffffff7cffffffffffffffffffffffffffff000000000000000000000000000000604089015160781b16921617178155019263ffffffff6060820151167fffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000008554161784550151167fffffffffffffffffffffffffffffffffffffffffffff000000000000ffffffff69ffffffffffff0000000083549260201b169116179055565b1561540157565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601160248201527f616c726561647920756e7374616b696e670000000000000000000000000000006044820152fd5b91909165ffffffffffff808094169116019182116120a257565b1561548057565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601460248201527f4e6f207374616b6520746f2077697468647261770000000000000000000000006044820152fd5b156154e557565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f6d7573742063616c6c20756e6c6f636b5374616b6528292066697273740000006044820152fd5b1561554a57565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601b60248201527f5374616b65207769746864726177616c206973206e6f742064756500000000006044820152fd5b156155af57565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f6661696c656420746f207769746864726177207374616b6500000000000000006044820152fd5b1561561457565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601260248201527f6661696c656420746f20776974686472617700000000000000000000000000006044820152fd5b9060009283809360208451940192f190565b3d6108008082116156ab575b50604051906020818301016040528082526000602083013e90565b90503861569056fea2646970667358221220ae4a26a2417d41eec912cee72664fcf55e9abebe95b0def4d185ac695cb88b5564736f6c634300081100336080806040523461001657610210908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b6000803560e01c63570e1a361461002857600080fd5b346100c95760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126100c95760043567ffffffffffffffff918282116100c957366023830112156100c95781600401359283116100c95736602484840101116100c9576100c561009e84602485016100fc565b60405173ffffffffffffffffffffffffffffffffffffffff90911681529081906020820190565b0390f35b80fd5b507f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b90806014116101bb5767ffffffffffffffff917fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec82018381116101cd575b604051937fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0603f81600b8701160116850190858210908211176101c0575b604052808452602084019036848401116101bb576020946000600c819682946014880187378301015251923560601c5af19060005191156101b557565b60009150565b600080fd5b6101c86100cc565b610178565b6101d56100cc565b61013a56fea26469706673582212201927e80b76ab9b71c952137dd676621a9fdf520c25928815636594036eb1c40364736f6c63430008110033",isSuperArgs$6=function(vn){return vn.length>1},EntryPoint__factory=function(vn){__extends$6(fn,vn);function fn(){for(var En=[],Cn=0;Cn<arguments.length;Cn++)En[Cn]=arguments[Cn];var _i=this;return isSuperArgs$6(En)?_i=vn.apply(this,En)||this:_i=vn.call(this,_abi$c,_bytecode$6,En[0])||this,_i}return fn.prototype.deploy=function(En){return vn.prototype.deploy.call(this,En||{})},fn.prototype.getDeployTransaction=function(En){return vn.prototype.getDeployTransaction.call(this,En||{})},fn.prototype.attach=function(En){return vn.prototype.attach.call(this,En)},fn.prototype.connect=function(En){return vn.prototype.connect.call(this,En)},fn.createInterface=function(){return new ethers_1$c.utils.Interface(_abi$c)},fn.connect=function(En,Cn){return new ethers_1$c.Contract(En,_abi$c,Cn)},fn.bytecode=_bytecode$6,fn.abi=_abi$c,fn}(ethers_1$c.ContractFactory);EntryPoint__factory$1.EntryPoint__factory=EntryPoint__factory;var IAccount__factory$1={};IAccount__factory$1.__esModule=!0;IAccount__factory$1.IAccount__factory=void 0;var ethers_1$b=require$$0,_abi$b=[{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"},{internalType:"bytes32",name:"userOpHash",type:"bytes32"},{internalType:"uint256",name:"missingAccountFunds",type:"uint256"}],name:"validateUserOp",outputs:[{internalType:"uint256",name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],IAccount__factory=function(){function vn(){}return vn.createInterface=function(){return new ethers_1$b.utils.Interface(_abi$b)},vn.connect=function(fn,En){return new ethers_1$b.Contract(fn,_abi$b,En)},vn.abi=_abi$b,vn}();IAccount__factory$1.IAccount__factory=IAccount__factory;var IAggregator__factory$1={};IAggregator__factory$1.__esModule=!0;IAggregator__factory$1.IAggregator__factory=void 0;var ethers_1$a=require$$0,_abi$a=[{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation[]",name:"userOps",type:"tuple[]"}],name:"aggregateSignatures",outputs:[{internalType:"bytes",name:"aggregatedSignature",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation[]",name:"userOps",type:"tuple[]"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"validateSignatures",outputs:[],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"}],name:"validateUserOpSignature",outputs:[{internalType:"bytes",name:"sigForUserOp",type:"bytes"}],stateMutability:"view",type:"function"}],IAggregator__factory=function(){function vn(){}return vn.createInterface=function(){return new ethers_1$a.utils.Interface(_abi$a)},vn.connect=function(fn,En){return new ethers_1$a.Contract(fn,_abi$a,En)},vn.abi=_abi$a,vn}();IAggregator__factory$1.IAggregator__factory=IAggregator__factory;var IEntryPoint__factory$1={};IEntryPoint__factory$1.__esModule=!0;IEntryPoint__factory$1.IEntryPoint__factory=void 0;var ethers_1$9=require$$0,_abi$9=[{inputs:[{internalType:"uint256",name:"preOpGas",type:"uint256"},{internalType:"uint256",name:"paid",type:"uint256"},{internalType:"uint48",name:"validAfter",type:"uint48"},{internalType:"uint48",name:"validUntil",type:"uint48"},{internalType:"bool",name:"targetSuccess",type:"bool"},{internalType:"bytes",name:"targetResult",type:"bytes"}],name:"ExecutionResult",type:"error"},{inputs:[{internalType:"uint256",name:"opIndex",type:"uint256"},{internalType:"string",name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{internalType:"address",name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{inputs:[{components:[{internalType:"uint256",name:"preOpGas",type:"uint256"},{internalType:"uint256",name:"prefund",type:"uint256"},{internalType:"bool",name:"sigFailed",type:"bool"},{internalType:"uint48",name:"validAfter",type:"uint48"},{internalType:"uint48",name:"validUntil",type:"uint48"},{internalType:"bytes",name:"paymasterContext",type:"bytes"}],internalType:"struct IEntryPoint.ReturnInfo",name:"returnInfo",type:"tuple"},{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],internalType:"struct IStakeManager.StakeInfo",name:"senderInfo",type:"tuple"},{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],internalType:"struct IStakeManager.StakeInfo",name:"factoryInfo",type:"tuple"},{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],internalType:"struct IStakeManager.StakeInfo",name:"paymasterInfo",type:"tuple"}],name:"ValidationResult",type:"error"},{inputs:[{components:[{internalType:"uint256",name:"preOpGas",type:"uint256"},{internalType:"uint256",name:"prefund",type:"uint256"},{internalType:"bool",name:"sigFailed",type:"bool"},{internalType:"uint48",name:"validAfter",type:"uint48"},{internalType:"uint48",name:"validUntil",type:"uint48"},{internalType:"bytes",name:"paymasterContext",type:"bytes"}],internalType:"struct IEntryPoint.ReturnInfo",name:"returnInfo",type:"tuple"},{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],internalType:"struct IStakeManager.StakeInfo",name:"senderInfo",type:"tuple"},{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],internalType:"struct IStakeManager.StakeInfo",name:"factoryInfo",type:"tuple"},{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],internalType:"struct IStakeManager.StakeInfo",name:"paymasterInfo",type:"tuple"},{components:[{internalType:"address",name:"aggregator",type:"address"},{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],internalType:"struct IStakeManager.StakeInfo",name:"stakeInfo",type:"tuple"}],internalType:"struct IEntryPoint.AggregatorStakeInfo",name:"aggregatorInfo",type:"tuple"}],name:"ValidationResultWithAggregation",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"address",name:"factory",type:"address"},{indexed:!1,internalType:"address",name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"totalStaked",type:"uint256"},{indexed:!1,internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"address",name:"withdrawAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"paymaster",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bool",name:"success",type:"bool"},{indexed:!1,internalType:"uint256",name:"actualGasCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes",name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"address",name:"withdrawAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[{internalType:"uint32",name:"_unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{internalType:"uint112",name:"deposit",type:"uint112"},{internalType:"bool",name:"staked",type:"bool"},{internalType:"uint112",name:"stake",type:"uint112"},{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"},{internalType:"uint48",name:"withdrawTime",type:"uint48"}],internalType:"struct IStakeManager.DepositInfo",name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation[]",name:"userOps",type:"tuple[]"},{internalType:"contract IAggregator",name:"aggregator",type:"address"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct IEntryPoint.UserOpsPerAggregator[]",name:"opsPerAggregator",type:"tuple[]"},{internalType:"address payable",name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation[]",name:"ops",type:"tuple[]"},{internalType:"address payable",name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"op",type:"tuple"},{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"targetCallData",type:"bytes"}],name:"simulateHandleOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"}],name:"simulateValidation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"},{internalType:"uint256",name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"}],IEntryPoint__factory=function(){function vn(){}return vn.createInterface=function(){return new ethers_1$9.utils.Interface(_abi$9)},vn.connect=function(fn,En){return new ethers_1$9.Contract(fn,_abi$9,En)},vn.abi=_abi$9,vn}();IEntryPoint__factory$1.IEntryPoint__factory=IEntryPoint__factory;var IPaymaster__factory$1={};IPaymaster__factory$1.__esModule=!0;IPaymaster__factory$1.IPaymaster__factory=void 0;var ethers_1$8=require$$0,_abi$8=[{inputs:[{internalType:"enum IPaymaster.PostOpMode",name:"mode",type:"uint8"},{internalType:"bytes",name:"context",type:"bytes"},{internalType:"uint256",name:"actualGasCost",type:"uint256"}],name:"postOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"},{internalType:"bytes32",name:"userOpHash",type:"bytes32"},{internalType:"uint256",name:"maxCost",type:"uint256"}],name:"validatePaymasterUserOp",outputs:[{internalType:"bytes",name:"context",type:"bytes"},{internalType:"uint256",name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],IPaymaster__factory=function(){function vn(){}return vn.createInterface=function(){return new ethers_1$8.utils.Interface(_abi$8)},vn.connect=function(fn,En){return new ethers_1$8.Contract(fn,_abi$8,En)},vn.abi=_abi$8,vn}();IPaymaster__factory$1.IPaymaster__factory=IPaymaster__factory;var IStakeManager__factory$1={};IStakeManager__factory$1.__esModule=!0;IStakeManager__factory$1.IStakeManager__factory=void 0;var ethers_1$7=require$$0,_abi$7=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"totalStaked",type:"uint256"},{indexed:!1,internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"address",name:"withdrawAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"address",name:"withdrawAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[{internalType:"uint32",name:"_unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{internalType:"uint112",name:"deposit",type:"uint112"},{internalType:"bool",name:"staked",type:"bool"},{internalType:"uint112",name:"stake",type:"uint112"},{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"},{internalType:"uint48",name:"withdrawTime",type:"uint48"}],internalType:"struct IStakeManager.DepositInfo",name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"},{internalType:"uint256",name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"}],IStakeManager__factory=function(){function vn(){}return vn.createInterface=function(){return new ethers_1$7.utils.Interface(_abi$7)},vn.connect=function(fn,En){return new ethers_1$7.Contract(fn,_abi$7,En)},vn.abi=_abi$7,vn}();IStakeManager__factory$1.IStakeManager__factory=IStakeManager__factory;var MaliciousAccount__factory$1={},__extends$5=commonjsGlobal&&commonjsGlobal.__extends||function(){var vn=function(fn,En){return vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Cn,_i){Cn.__proto__=_i}||function(Cn,_i){for(var An in _i)Object.prototype.hasOwnProperty.call(_i,An)&&(Cn[An]=_i[An])},vn(fn,En)};return function(fn,En){if(typeof En!="function"&&En!==null)throw new TypeError("Class extends value "+String(En)+" is not a constructor or null");vn(fn,En);function Cn(){this.constructor=fn}fn.prototype=En===null?Object.create(En):(Cn.prototype=En.prototype,new Cn)}}();MaliciousAccount__factory$1.__esModule=!0;MaliciousAccount__factory$1.MaliciousAccount__factory=void 0;var ethers_1$6=require$$0,_abi$6=[{inputs:[{internalType:"contract IEntryPoint",name:"_ep",type:"address"}],stateMutability:"payable",type:"constructor"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"missingAccountFunds",type:"uint256"}],name:"validateUserOp",outputs:[{internalType:"uint256",name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],_bytecode$5="0x608060405260405161034a38038061034a83398101604081905261002291610047565b600080546001600160a01b0319166001600160a01b0392909216919091179055610077565b60006020828403121561005957600080fd5b81516001600160a01b038116811461007057600080fd5b9392505050565b6102c4806100866000396000f3fe608060405234801561001057600080fd5b506004361061002b5760003560e01c80633a871cdd14610030575b600080fd5b61004361003e3660046101a1565b610055565b60405190815260200160405180910390f35b600080546040517fb760faf900000000000000000000000000000000000000000000000000000000815230600482015273ffffffffffffffffffffffffffffffffffffffff9091169063b760faf99084906024016000604051808303818588803b1580156100c257600080fd5b505af11580156100d6573d6000803e3d6000fd5b505050505060008460c001358560a0013586608001356100f69190610224565b6101009190610224565b9050600061010e828561023c565b9050600061012161010088013583610277565b905086602001358114610194576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f5265766572742061667465722066697273742076616c69646174696f6e000000604482015260640160405180910390fd5b5060009695505050505050565b6000806000606084860312156101b657600080fd5b833567ffffffffffffffff8111156101cd57600080fd5b840161016081870312156101e057600080fd5b95602085013595506040909401359392505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60008219821115610237576102376101f5565b500190565b600082610272577f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b500490565b600082821015610289576102896101f5565b50039056fea2646970667358221220233c1b53bed3630405955a2809bf977fcd3053b67e56cf39bd460d18cc03844c64736f6c634300080f0033",isSuperArgs$5=function(vn){return vn.length>1},MaliciousAccount__factory=function(vn){__extends$5(fn,vn);function fn(){for(var En=[],Cn=0;Cn<arguments.length;Cn++)En[Cn]=arguments[Cn];var _i=this;return isSuperArgs$5(En)?_i=vn.apply(this,En)||this:_i=vn.call(this,_abi$6,_bytecode$5,En[0])||this,_i}return fn.prototype.deploy=function(En,Cn){return vn.prototype.deploy.call(this,En,Cn||{})},fn.prototype.getDeployTransaction=function(En,Cn){return vn.prototype.getDeployTransaction.call(this,En,Cn||{})},fn.prototype.attach=function(En){return vn.prototype.attach.call(this,En)},fn.prototype.connect=function(En){return vn.prototype.connect.call(this,En)},fn.createInterface=function(){return new ethers_1$6.utils.Interface(_abi$6)},fn.connect=function(En,Cn){return new ethers_1$6.Contract(En,_abi$6,Cn)},fn.bytecode=_bytecode$5,fn.abi=_abi$6,fn}(ethers_1$6.ContractFactory);MaliciousAccount__factory$1.MaliciousAccount__factory=MaliciousAccount__factory;var SenderCreator__factory$1={},__extends$4=commonjsGlobal&&commonjsGlobal.__extends||function(){var vn=function(fn,En){return vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Cn,_i){Cn.__proto__=_i}||function(Cn,_i){for(var An in _i)Object.prototype.hasOwnProperty.call(_i,An)&&(Cn[An]=_i[An])},vn(fn,En)};return function(fn,En){if(typeof En!="function"&&En!==null)throw new TypeError("Class extends value "+String(En)+" is not a constructor or null");vn(fn,En);function Cn(){this.constructor=fn}fn.prototype=En===null?Object.create(En):(Cn.prototype=En.prototype,new Cn)}}();SenderCreator__factory$1.__esModule=!0;SenderCreator__factory$1.SenderCreator__factory=void 0;var ethers_1$5=require$$0,_abi$5=[{inputs:[{internalType:"bytes",name:"initCode",type:"bytes"}],name:"createSender",outputs:[{internalType:"address",name:"sender",type:"address"}],stateMutability:"nonpayable",type:"function"}],_bytecode$4="0x608060405234801561001057600080fd5b50610213806100206000396000f3fe608060405234801561001057600080fd5b506004361061002b5760003560e01c8063570e1a3614610030575b600080fd5b61004361003e3660046100f9565b61006c565b60405173ffffffffffffffffffffffffffffffffffffffff909116815260200160405180910390f35b60008061007c601482858761016b565b61008591610195565b60601c90506000610099846014818861016b565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092018290525084519495509360209350849250905082850182875af190506000519350806100f057600093505b50505092915050565b6000806020838503121561010c57600080fd5b823567ffffffffffffffff8082111561012457600080fd5b818501915085601f83011261013857600080fd5b81358181111561014757600080fd5b86602082850101111561015957600080fd5b60209290920196919550909350505050565b6000808585111561017b57600080fd5b8386111561018857600080fd5b5050820193919092039150565b7fffffffffffffffffffffffffffffffffffffffff00000000000000000000000081358181169160148510156101d55780818660140360031b1b83161692505b50509291505056fea2646970667358221220d5d7cb55b3123d86b2710028be2074a469cca162ad2a26c50fb1cfdce4424b9464736f6c634300080f0033",isSuperArgs$4=function(vn){return vn.length>1},SenderCreator__factory=function(vn){__extends$4(fn,vn);function fn(){for(var En=[],Cn=0;Cn<arguments.length;Cn++)En[Cn]=arguments[Cn];var _i=this;return isSuperArgs$4(En)?_i=vn.apply(this,En)||this:_i=vn.call(this,_abi$5,_bytecode$4,En[0])||this,_i}return fn.prototype.deploy=function(En){return vn.prototype.deploy.call(this,En||{})},fn.prototype.getDeployTransaction=function(En){return vn.prototype.getDeployTransaction.call(this,En||{})},fn.prototype.attach=function(En){return vn.prototype.attach.call(this,En)},fn.prototype.connect=function(En){return vn.prototype.connect.call(this,En)},fn.createInterface=function(){return new ethers_1$5.utils.Interface(_abi$5)},fn.connect=function(En,Cn){return new ethers_1$5.Contract(En,_abi$5,Cn)},fn.bytecode=_bytecode$4,fn.abi=_abi$5,fn}(ethers_1$5.ContractFactory);SenderCreator__factory$1.SenderCreator__factory=SenderCreator__factory;var SimpleAccount__factory$1={},__extends$3=commonjsGlobal&&commonjsGlobal.__extends||function(){var vn=function(fn,En){return vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Cn,_i){Cn.__proto__=_i}||function(Cn,_i){for(var An in _i)Object.prototype.hasOwnProperty.call(_i,An)&&(Cn[An]=_i[An])},vn(fn,En)};return function(fn,En){if(typeof En!="function"&&En!==null)throw new TypeError("Class extends value "+String(En)+" is not a constructor or null");vn(fn,En);function Cn(){this.constructor=fn}fn.prototype=En===null?Object.create(En):(Cn.prototype=En.prototype,new Cn)}}();SimpleAccount__factory$1.__esModule=!0;SimpleAccount__factory$1.SimpleAccount__factory=void 0;var ethers_1$4=require$$0,_abi$4=[{inputs:[{internalType:"contract IEntryPoint",name:"anEntryPoint",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousAdmin",type:"address"},{indexed:!1,internalType:"address",name:"newAdmin",type:"address"}],name:"AdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"beacon",type:"address"}],name:"BeaconUpgraded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IEntryPoint",name:"entryPoint",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"}],name:"SimpleAccountInitialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{inputs:[],name:"addDeposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"entryPoint",outputs:[{internalType:"contract IEntryPoint",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"dest",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"func",type:"bytes"}],name:"execute",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"dest",type:"address[]"},{internalType:"bytes[]",name:"func",type:"bytes[]"}],name:"executeBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"anOwner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxiableUUID",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"}],name:"upgradeTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"},{internalType:"bytes32",name:"userOpHash",type:"bytes32"},{internalType:"uint256",name:"missingAccountFunds",type:"uint256"}],name:"validateUserOp",outputs:[{internalType:"uint256",name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawDepositTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],_bytecode$3="0x60c03461015a57601f62001ed338819003918201601f19168301916001600160401b0383118484101761015f5780849260209460405283398101031261015a57516001600160a01b038116810361015a573060805260a05260005460ff8160081c166101055760ff808216106100ca575b604051611d5d908162000176823960805181818161032601528181610a460152610c23015260a051818181610548015281816107180152818161080101528181610dcf01528181610ef20152818161187301526118d10152f35b60ff90811916176000557f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb3847402498602060405160ff8152a138610070565b60405162461bcd60e51b815260206004820152602760248201527f496e697469616c697a61626c653a20636f6e747261637420697320696e697469604482015266616c697a696e6760c81b6064820152608490fd5b600080fd5b634e487b7160e01b600052604160045260246000fdfe6080604052600436101561001b575b361561001957600080fd5b005b60003560e01c806318dfb3c71461011f5780633659cfe6146101165780633a871cdd1461010d5780634a58db19146101045780634d44560d146100fb5780634f1ef286146100f257806352d1902d146100e95780638da5cb5b146100e0578063affed0e0146100d7578063b0d691fe146100ce578063b61d27f6146100c5578063c399ec88146100bc5763c4d66de80361000e576100b7610f75565b61000e565b506100b7610e78565b506100b7610df3565b506100b7610d83565b506100b7610d38565b506100b7610cf8565b506100b7610bdc565b506100b76109c4565b506100b76107a2565b506100b76106d5565b506100b76104dd565b506100b76102d1565b506100b761015e565b9181601f840112156101595782359167ffffffffffffffff8311610159576020808501948460051b01011161015957565b600080fd5b50346101595760407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101595767ffffffffffffffff600435818111610159576101af903690600401610128565b9091602435908111610159576101c9903690600401610128565b91906101d36118ba565b8282036102555760005b8281106101e657005b8061021a6101ff6101fa600194878a61173f565b61175d565b61021461020d848988611767565b369161098d565b90611c93565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8114610248575b016101dd565b6102506116df565b610242565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f77726f6e67206172726179206c656e67746873000000000000000000000000006044820152fd5b73ffffffffffffffffffffffffffffffffffffffff81160361015957565b50346101595760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101595760043561030d816102b3565b73ffffffffffffffffffffffffffffffffffffffff90817f00000000000000000000000000000000000000000000000000000000000000001691610353833014156110d9565b6103827f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc938285541614611164565b61038a611caa565b60405190610397826108cb565b600082527f4910fdfa16fed3260ed0e7147f7cc6da11a60208b5b9406d12a635614ffd91435460ff16156103d15750506100199150611296565b6020600491604094939451928380927f52d1902d00000000000000000000000000000000000000000000000000000000825286165afa600091816104ad575b5061049a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602e60248201527f45524331393637557067726164653a206e657720696d706c656d656e7461746960448201527f6f6e206973206e6f7420555550530000000000000000000000000000000000006064820152608490fd5b610019936104a8911461120b565b611382565b6104cf91925060203d81116104d6575b6104c78183610903565b8101906111ef565b9038610410565b503d6104bd565b5034610159577ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc6060813601126101595760043567ffffffffffffffff811161015957610160816004019282360301126101595773ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001633036106775761058861057d6024358461196d565b926044830190611620565b9050156105b3575b6105af8261059f604435611671565b6040519081529081906020820190565b0390f35b6024600154916bffffffffffffffffffffffff927fffffffffffffffffffffffffffffffffffffffff0000000000000000000000008482169480861461066a575b600186011691161760015501350361060c5738610590565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601660248201527f6163636f756e743a20696e76616c6964206e6f6e6365000000000000000000006044820152fd5b6106726116df565b6105f4565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601c60248201527f6163636f756e743a206e6f742066726f6d20456e747279506f696e74000000006044820152fd5b506000807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261079f5773ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001681813b1561079f57602491604051928380927fb760faf900000000000000000000000000000000000000000000000000000000825230600483015234905af18015610792575b610786575080f35b61078f906108aa565b80f35b61079a6111fe565b61077e565b80fd5b503461015957600060407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261079f576004356107e0816102b3565b6107e8611caa565b8173ffffffffffffffffffffffffffffffffffffffff807f00000000000000000000000000000000000000000000000000000000000000001692833b15610876576044908360405195869485937f205c287800000000000000000000000000000000000000000000000000000000855216600484015260243560248401525af1801561079257610786575080f35b8280fd5b507f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b67ffffffffffffffff81116108be57604052565b6108c661087a565b604052565b6020810190811067ffffffffffffffff8211176108be57604052565b6060810190811067ffffffffffffffff8211176108be57604052565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff8211176108be57604052565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f60209267ffffffffffffffff8111610980575b01160190565b61098861087a565b61097a565b92919261099982610944565b916109a76040519384610903565b829481845281830111610159578281602093846000960137010152565b5060407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610159576004356109fb816102b3565b60243567ffffffffffffffff8111610159573660238201121561015957610a2c90369060248160040135910161098d565b9073ffffffffffffffffffffffffffffffffffffffff91827f00000000000000000000000000000000000000000000000000000000000000001692610a73843014156110d9565b610aa27f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc948286541614611164565b610aaa611caa565b7f4910fdfa16fed3260ed0e7147f7cc6da11a60208b5b9406d12a635614ffd91435460ff1615610ae05750506100199150611296565b6020600491604094939451928380927f52d1902d00000000000000000000000000000000000000000000000000000000825286165afa60009181610bbc575b50610ba9576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602e60248201527f45524331393637557067726164653a206e657720696d706c656d656e7461746960448201527f6f6e206973206e6f7420555550530000000000000000000000000000000000006064820152608490fd5b61001993610bb7911461120b565b611461565b610bd591925060203d81116104d6576104c78183610903565b9038610b1f565b50346101595760007ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101595773ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000163003610c74576040517f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc8152602090f35b60846040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152603860248201527f555550535570677261646561626c653a206d757374206e6f742062652063616c60448201527f6c6564207468726f7567682064656c656761746563616c6c00000000000000006064820152fd5b50346101595760007ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261015957602060015460601c604051908152f35b50346101595760007ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101595760206bffffffffffffffffffffffff60015416604051908152f35b50346101595760007ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261015957602060405173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b50346101595760607ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261015957600435610e2f816102b3565b6044359067ffffffffffffffff908183116101595736602384011215610159578260040135918211610159573660248385010111610159576024610019930190602435906116ab565b5034610159576000807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261079f576040517f70a0823100000000000000000000000000000000000000000000000000000000815230600482015260208160248173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000165afa908115610f68575b8291610f2e575b604051828152602090f35b90506020813d8211610f60575b81610f4860209383610903565b81010312610f5c576105af91505138610f23565b5080fd5b3d9150610f3b565b610f706111fe565b610f1c565b50346101595760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261015957600435610fb1816102b3565b61101360005491610fd960ff8460081c1615809481956110cb575b81156110ab575b50611791565b8261100a60017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff006000541617600055565b6110755761181c565b61101957005b6110467fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00ff60005416600055565b604051600181527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb384740249890602090a1005b6110a66101007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00ff6000541617600055565b61181c565b303b159150816110bd575b5038610fd3565b6001915060ff1614386110b6565b600160ff8216109150610fcc565b156110e057565b60846040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602c60248201527f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060448201527f64656c656761746563616c6c00000000000000000000000000000000000000006064820152fd5b1561116b57565b60846040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602c60248201527f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060448201527f6163746976652070726f787900000000000000000000000000000000000000006064820152fd5b90816020910312610159575190565b506040513d6000823e3d90fd5b1561121257565b60846040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602960248201527f45524331393637557067726164653a20756e737570706f727465642070726f7860448201527f6961626c655555494400000000000000000000000000000000000000000000006064820152fd5b803b156112fe5773ffffffffffffffffffffffffffffffffffffffff7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc91167fffffffffffffffffffffffff0000000000000000000000000000000000000000825416179055565b60846040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602d60248201527f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60448201527f6f74206120636f6e7472616374000000000000000000000000000000000000006064820152fd5b9061138c82611296565b73ffffffffffffffffffffffffffffffffffffffff82167fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b600080a2805115801590611459575b6113db575050565b61145691600080604051936113ef856108e7565b602785527f416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c60208601527f206661696c6564000000000000000000000000000000000000000000000000006040860152602081519101845af46114506114c1565b91611556565b50565b5060006113d3565b9061146b82611296565b73ffffffffffffffffffffffffffffffffffffffff82167fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b600080a28051158015906114b9576113db575050565b5060016113d3565b3d156114ec573d906114d282610944565b916114e06040519384610903565b82523d6000602084013e565b606090565b156114f857565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e74726163740000006044820152fd5b91929015611579575081511561156a575090565b611576903b15156114f1565b90565b82519091501561158c5750805190602001fd5b604051907f08c379a000000000000000000000000000000000000000000000000000000000825281602080600483015282519283602484015260005b848110611609575050507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f836000604480968601015201168101030190fd5b8181018301518682016044015285935082016115c8565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe181360301821215610159570180359067ffffffffffffffff82116101595760200191813603831361015957565b806116795750565b600080808093337ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1506114566114c1565b6116bc60009493859461020d6118ba565b91602083519301915af16116ce6114c1565b90156116d75750565b602081519101fd5b507f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b507f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b9190811015611750575b60051b0190565b61175861170f565b611749565b35611576816102b3565b909161178092811015611784575b60051b810190611620565b9091565b61178c61170f565b611775565b1561179857565b60846040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201527f647920696e697469616c697a65640000000000000000000000000000000000006064820152fd5b6bffffffffffffffffffffffff7fffffffffffffffffffffffffffffffffffffffff0000000000000000000000006001549260601b169116178060015560601c73ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000167f47e55c76e7a6f1fd8996a1da8008c1ea29699cca35e7bcd057f2dec313b6e5de600080a3565b73ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000163314801561195f575b1561190157565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602060248201527f6163636f756e743a206e6f74204f776e6572206f7220456e747279506f696e746044820152fd5b5060015460601c33146118fa565b906119f06119e873ffffffffffffffffffffffffffffffffffffffff9260405160208101917f19457468657265756d205369676e6564204d6573736167653a0a3332000000008352603c820152603c81526119c7816108e7565b5190206119e261020d60015460601c96610140810190611620565b90611bc2565b919091611a39565b16036119fb57600090565b600190565b60051115611a0a57565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b611a4281611a00565b80611a4a5750565b611a5381611a00565b60018103611aba576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f45434453413a20696e76616c6964207369676e617475726500000000000000006044820152606490fd5b611ac381611a00565b60028103611b2a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f45434453413a20696e76616c6964207369676e6174757265206c656e677468006044820152606490fd5b80611b36600392611a00565b14611b3d57565b6040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602260248201527f45434453413a20696e76616c6964207369676e6174757265202773272076616c60448201527f75650000000000000000000000000000000000000000000000000000000000006064820152608490fd5b906041815114600014611bec57611780916020820151906060604084015193015160001a90611bf6565b5050600090600290565b9291907f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08311611c875791608094939160ff602094604051948552168484015260408301526060820152600093849182805260015afa15611c7a575b815173ffffffffffffffffffffffffffffffffffffffff811615611c74579190565b50600190565b611c826111fe565b611c52565b50505050600090600390565b600091829182602083519301915af16116ce6114c1565b60015460601c33148015611d1e575b15611cc057565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600a60248201527f6f6e6c79206f776e6572000000000000000000000000000000000000000000006044820152fd5b50303314611cb956fea2646970667358221220593fa2403beef0636f4ff38625c8e0f27859145384a308b0a9f2e56754fd82f664736f6c63430008110033",isSuperArgs$3=function(vn){return vn.length>1},SimpleAccount__factory=function(vn){__extends$3(fn,vn);function fn(){for(var En=[],Cn=0;Cn<arguments.length;Cn++)En[Cn]=arguments[Cn];var _i=this;return isSuperArgs$3(En)?_i=vn.apply(this,En)||this:_i=vn.call(this,_abi$4,_bytecode$3,En[0])||this,_i}return fn.prototype.deploy=function(En,Cn){return vn.prototype.deploy.call(this,En,Cn||{})},fn.prototype.getDeployTransaction=function(En,Cn){return vn.prototype.getDeployTransaction.call(this,En,Cn||{})},fn.prototype.attach=function(En){return vn.prototype.attach.call(this,En)},fn.prototype.connect=function(En){return vn.prototype.connect.call(this,En)},fn.createInterface=function(){return new ethers_1$4.utils.Interface(_abi$4)},fn.connect=function(En,Cn){return new ethers_1$4.Contract(En,_abi$4,Cn)},fn.bytecode=_bytecode$3,fn.abi=_abi$4,fn}(ethers_1$4.ContractFactory);SimpleAccount__factory$1.SimpleAccount__factory=SimpleAccount__factory;var SimpleAccountFactory__factory$1={},__extends$2=commonjsGlobal&&commonjsGlobal.__extends||function(){var vn=function(fn,En){return vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Cn,_i){Cn.__proto__=_i}||function(Cn,_i){for(var An in _i)Object.prototype.hasOwnProperty.call(_i,An)&&(Cn[An]=_i[An])},vn(fn,En)};return function(fn,En){if(typeof En!="function"&&En!==null)throw new TypeError("Class extends value "+String(En)+" is not a constructor or null");vn(fn,En);function Cn(){this.constructor=fn}fn.prototype=En===null?Object.create(En):(Cn.prototype=En.prototype,new Cn)}}();SimpleAccountFactory__factory$1.__esModule=!0;SimpleAccountFactory__factory$1.SimpleAccountFactory__factory=void 0;var ethers_1$3=require$$0,_abi$3=[{inputs:[{internalType:"contract IEntryPoint",name:"_entryPoint",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"accountImplementation",outputs:[{internalType:"contract SimpleAccount",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"salt",type:"uint256"}],name:"createAccount",outputs:[{internalType:"contract SimpleAccount",name:"ret",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"salt",type:"uint256"}],name:"getAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],_bytecode$2="0x60a060405234801561001057600080fd5b50604051612f0f380380612f0f83398101604081905261002f91610088565b8060405161003c9061007b565b6001600160a01b039091168152602001604051809103906000f080158015610068573d6000803e3d6000fd5b506001600160a01b0316608052506100b8565b61218980610d8683390190565b60006020828403121561009a57600080fd5b81516001600160a01b03811681146100b157600080fd5b9392505050565b608051610ca66100e060003960008181604b0152818161011401526102580152610ca66000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c806311464fbe146100465780635fbfb9cf146100965780638cb84e18146100a9575b600080fd5b61006d7f000000000000000000000000000000000000000000000000000000000000000081565b60405173ffffffffffffffffffffffffffffffffffffffff909116815260200160405180910390f35b61006d6100a436600461039d565b6100bc565b61006d6100b736600461039d565b6101ee565b6000806100c984846101ee565b905073ffffffffffffffffffffffffffffffffffffffff81163b80156100f1575090506101e8565b60405173ffffffffffffffffffffffffffffffffffffffff8616602482015284907f000000000000000000000000000000000000000000000000000000000000000090604401604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08184030181529181526020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fc4d66de800000000000000000000000000000000000000000000000000000000179052516101b790610390565b6101c2929190610412565b8190604051809103906000f59050801580156101e2573d6000803e3d6000fd5b50925050505b92915050565b60006103578260001b6040518060200161020790610390565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe082820381018352601f90910116604081905273ffffffffffffffffffffffffffffffffffffffff871660248201527f000000000000000000000000000000000000000000000000000000000000000090604401604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0818403018152918152602080830180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fc4d66de800000000000000000000000000000000000000000000000000000000179052905161030093929101610412565b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08184030181529082905261033c9291602001610480565b6040516020818303038152906040528051906020012061035e565b9392505050565b60006103578383306000604051836040820152846020820152828152600b8101905060ff815360559020949350505050565b6107c1806104b083390190565b600080604083850312156103b057600080fd5b823573ffffffffffffffffffffffffffffffffffffffff811681146103d457600080fd5b946020939093013593505050565b60005b838110156103fd5781810151838201526020016103e5565b8381111561040c576000848401525b50505050565b73ffffffffffffffffffffffffffffffffffffffff83168152604060208201526000825180604084015261044d8160608501602087016103e2565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016919091016060019392505050565b600083516104928184602088016103e2565b8351908301906104a68183602088016103e2565b0194935050505056fe60806040526040516107c13803806107c183398101604081905261002291610321565b61002e82826000610035565b505061043e565b61003e8361006b565b60008251118061004b5750805b156100665761006483836100ab60201b6100291760201c565b505b505050565b610074816100d7565b6040516001600160a01b038216907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a250565b60606100d0838360405180606001604052806027815260200161079a602791396101a9565b9392505050565b6100ea8161022260201b6100551760201c565b6101515760405162461bcd60e51b815260206004820152602d60248201527f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60448201526c1bdd08184818dbdb9d1c9858dd609a1b60648201526084015b60405180910390fd5b806101887f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b61023160201b6100711760201c565b80546001600160a01b0319166001600160a01b039290921691909117905550565b6060600080856001600160a01b0316856040516101c691906103ef565b600060405180830381855af49150503d8060008114610201576040519150601f19603f3d011682016040523d82523d6000602084013e610206565b606091505b50909250905061021886838387610234565b9695505050505050565b6001600160a01b03163b151590565b90565b606083156102a357825160000361029c576001600160a01b0385163b61029c5760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e74726163740000006044820152606401610148565b50816102ad565b6102ad83836102b5565b949350505050565b8151156102c55781518083602001fd5b8060405162461bcd60e51b8152600401610148919061040b565b634e487b7160e01b600052604160045260246000fd5b60005b838110156103105781810151838201526020016102f8565b838111156100645750506000910152565b6000806040838503121561033457600080fd5b82516001600160a01b038116811461034b57600080fd5b60208401519092506001600160401b038082111561036857600080fd5b818501915085601f83011261037c57600080fd5b81518181111561038e5761038e6102df565b604051601f8201601f19908116603f011681019083821181831017156103b6576103b66102df565b816040528281528860208487010111156103cf57600080fd5b6103e08360208301602088016102f5565b80955050505050509250929050565b600082516104018184602087016102f5565b9190910192915050565b602081526000825180602084015261042a8160408501602087016102f5565b601f01601f19169190910160400192915050565b61034d8061044d6000396000f3fe60806040523661001357610011610017565b005b6100115b610027610022610074565b6100b9565b565b606061004e83836040518060600160405280602781526020016102f1602791396100dd565b9392505050565b73ffffffffffffffffffffffffffffffffffffffff163b151590565b90565b60006100b47f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc5473ffffffffffffffffffffffffffffffffffffffff1690565b905090565b3660008037600080366000845af43d6000803e8080156100d8573d6000f35b3d6000fd5b60606000808573ffffffffffffffffffffffffffffffffffffffff16856040516101079190610283565b600060405180830381855af49150503d8060008114610142576040519150601f19603f3d011682016040523d82523d6000602084013e610147565b606091505b509150915061015886838387610162565b9695505050505050565b606083156101fd5782516000036101f65773ffffffffffffffffffffffffffffffffffffffff85163b6101f6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e747261637400000060448201526064015b60405180910390fd5b5081610207565b610207838361020f565b949350505050565b81511561021f5781518083602001fd5b806040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101ed919061029f565b60005b8381101561026e578181015183820152602001610256565b8381111561027d576000848401525b50505050565b60008251610295818460208701610253565b9190910192915050565b60208152600082518060208401526102be816040850160208701610253565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016919091016040019291505056fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a26469706673582212201cd78ab6a31213989661cff2d7d05fc9b9c38b1a848e8249e2e398659a9eb7e364736f6c634300080f0033416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a264697066735822122030a4cd3aed4a6d9ec37ebc1d87061b12ed9906b5ba9c82d2d00395cabba20fbd64736f6c634300080f003360c0604052306080523480156200001557600080fd5b506040516200218938038062002189833981016040819052620000389162000118565b6001600160a01b03811660a0526200004f62000056565b506200014a565b600054610100900460ff1615620000c35760405162461bcd60e51b815260206004820152602760248201527f496e697469616c697a61626c653a20636f6e747261637420697320696e697469604482015266616c697a696e6760c81b606482015260840160405180910390fd5b60005460ff908116101562000116576000805460ff191660ff9081179091556040519081527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a15b565b6000602082840312156200012b57600080fd5b81516001600160a01b03811681146200014357600080fd5b9392505050565b60805160a051611fd3620001b66000396000818161023b01528181610624015281816106cb01528181610aad01528181610d0c0152818161106801526113fc0152600081816103ef0152818161049f0152818161078f0152818161083f01526109880152611fd36000f3fe6080604052600436106100d65760003560e01c806352d1902d1161007f578063b0d691fe11610059578063b0d691fe1461022c578063b61d27f61461025f578063c399ec881461027f578063c4d66de81461029457600080fd5b806352d1902d146101925780638da5cb5b146101a7578063affed0e01461020957600080fd5b80634a58db19116100b05780634a58db19146101575780634d44560d1461015f5780634f1ef2861461017f57600080fd5b806318dfb3c7146100e25780633659cfe6146101045780633a871cdd1461012457600080fd5b366100dd57005b600080fd5b3480156100ee57600080fd5b506101026100fd366004611aaa565b6102b4565b005b34801561011057600080fd5b5061010261011f366004611b38565b6103d8565b34801561013057600080fd5b5061014461013f366004611b55565b6105dd565b6040519081526020015b60405180910390f35b610102610622565b34801561016b57600080fd5b5061010261017a366004611ba9565b6106c1565b61010261018d366004611c04565b610778565b34801561019e57600080fd5b5061014461096e565b3480156101b357600080fd5b506001546101e4906c01000000000000000000000000900473ffffffffffffffffffffffffffffffffffffffff1681565b60405173ffffffffffffffffffffffffffffffffffffffff909116815260200161014e565b34801561021557600080fd5b506001546bffffffffffffffffffffffff16610144565b34801561023857600080fd5b507f00000000000000000000000000000000000000000000000000000000000000006101e4565b34801561026b57600080fd5b5061010261027a366004611ce6565b610a5a565b34801561028b57600080fd5b50610144610aa9565b3480156102a057600080fd5b506101026102af366004611b38565b610b61565b6102bc610cf4565b82811461032a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f77726f6e67206172726179206c656e677468730000000000000000000000000060448201526064015b60405180910390fd5b60005b838110156103d1576103bf85858381811061034a5761034a611d6f565b905060200201602081019061035f9190611b38565b600085858581811061037357610373611d6f565b90506020028101906103859190611d9e565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250610dc792505050565b806103c981611e32565b91505061032d565b5050505050565b73ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016300361049d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602c60248201527f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060448201527f64656c656761746563616c6c00000000000000000000000000000000000000006064820152608401610321565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166105127f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc5473ffffffffffffffffffffffffffffffffffffffff1690565b73ffffffffffffffffffffffffffffffffffffffff16146105b5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602c60248201527f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060448201527f6163746976652070726f787900000000000000000000000000000000000000006064820152608401610321565b6105be81610e44565b604080516000808252602082019092526105da91839190610e4c565b50565b60006105e7611050565b6105f184846110ef565b90506106006040850185611d9e565b905060000361061257610612846111e1565b61061b826112aa565b9392505050565b7f00000000000000000000000000000000000000000000000000000000000000006040517fb760faf900000000000000000000000000000000000000000000000000000000815230600482015273ffffffffffffffffffffffffffffffffffffffff919091169063b760faf99034906024016000604051808303818588803b1580156106ad57600080fd5b505af11580156103d1573d6000803e3d6000fd5b6106c9611315565b7f00000000000000000000000000000000000000000000000000000000000000006040517f205c287800000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff848116600483015260248201849052919091169063205c287890604401600060405180830381600087803b15801561075c57600080fd5b505af1158015610770573d6000803e3d6000fd5b505050505050565b73ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016300361083d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602c60248201527f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060448201527f64656c656761746563616c6c00000000000000000000000000000000000000006064820152608401610321565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166108b27f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc5473ffffffffffffffffffffffffffffffffffffffff1690565b73ffffffffffffffffffffffffffffffffffffffff1614610955576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602c60248201527f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060448201527f6163746976652070726f787900000000000000000000000000000000000000006064820152608401610321565b61095e82610e44565b61096a82826001610e4c565b5050565b60003073ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001614610a35576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152603860248201527f555550535570677261646561626c653a206d757374206e6f742062652063616c60448201527f6c6564207468726f7567682064656c656761746563616c6c00000000000000006064820152608401610321565b507f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc90565b610a62610cf4565b610aa3848484848080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250610dc792505050565b50505050565b60007f00000000000000000000000000000000000000000000000000000000000000006040517f70a0823100000000000000000000000000000000000000000000000000000000815230600482015273ffffffffffffffffffffffffffffffffffffffff91909116906370a0823190602401602060405180830381865afa158015610b38573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b5c9190611e6a565b905090565b600054610100900460ff1615808015610b815750600054600160ff909116105b80610b9b5750303b158015610b9b575060005460ff166001145b610c27576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201527f647920696e697469616c697a65640000000000000000000000000000000000006064820152608401610321565b600080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001660011790558015610c8557600080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00ff166101001790555b610c8e826113b0565b801561096a57600080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00ff169055604051600181527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a15050565b3373ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000161480610d5f57506001546c01000000000000000000000000900473ffffffffffffffffffffffffffffffffffffffff1633145b610dc5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f6163636f756e743a206e6f74204f776e6572206f7220456e747279506f696e746044820152606401610321565b565b6000808473ffffffffffffffffffffffffffffffffffffffff168484604051610df09190611eaf565b60006040518083038185875af1925050503d8060008114610e2d576040519150601f19603f3d011682016040523d82523d6000602084013e610e32565b606091505b5091509150816103d157805160208201fd5b6105da611315565b7f4910fdfa16fed3260ed0e7147f7cc6da11a60208b5b9406d12a635614ffd91435460ff1615610e8457610e7f83611448565b505050565b8273ffffffffffffffffffffffffffffffffffffffff166352d1902d6040518163ffffffff1660e01b8152600401602060405180830381865afa925050508015610f09575060408051601f3d9081017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0168201909252610f0691810190611e6a565b60015b610f95576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602e60248201527f45524331393637557067726164653a206e657720696d706c656d656e7461746960448201527f6f6e206973206e6f7420555550530000000000000000000000000000000000006064820152608401610321565b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc8114611044576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602960248201527f45524331393637557067726164653a20756e737570706f727465642070726f7860448201527f6961626c655555494400000000000000000000000000000000000000000000006064820152608401610321565b50610e7f838383611552565b3373ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001614610dc5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601c60248201527f6163636f756e743a206e6f742066726f6d20456e747279506f696e74000000006044820152606401610321565b600080611149836040517f19457468657265756d205369676e6564204d6573736167653a0a3332000000006020820152603c8101829052600090605c01604051602081830303815290604052805190602001209050919050565b905061119961115c610140860186611d9e565b8080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525085939250506115779050565b6001546c01000000000000000000000000900473ffffffffffffffffffffffffffffffffffffffff9081169116146111d55760019150506111db565b60009150505b92915050565b600180546020830135916bffffffffffffffffffffffff90911690600061120783611ecb565b91906101000a8154816bffffffffffffffffffffffff02191690836bffffffffffffffffffffffff1602179055506bffffffffffffffffffffffff16146105da576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601660248201527f6163636f756e743a20696e76616c6964206e6f6e6365000000000000000000006044820152606401610321565b80156105da5760405160009033907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff90849084818181858888f193505050503d80600081146103d1576040519150601f19603f3d011682016040523d82523d6000602084013e6103d1565b6001546c01000000000000000000000000900473ffffffffffffffffffffffffffffffffffffffff1633148061134a57503330145b610dc5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600a60248201527f6f6e6c79206f776e6572000000000000000000000000000000000000000000006044820152606401610321565b600180546bffffffffffffffffffffffff166c0100000000000000000000000073ffffffffffffffffffffffffffffffffffffffff8481168202929092179283905560405192048116917f0000000000000000000000000000000000000000000000000000000000000000909116907f47e55c76e7a6f1fd8996a1da8008c1ea29699cca35e7bcd057f2dec313b6e5de90600090a350565b73ffffffffffffffffffffffffffffffffffffffff81163b6114ec576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602d60248201527f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60448201527f6f74206120636f6e7472616374000000000000000000000000000000000000006064820152608401610321565b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc80547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff92909216919091179055565b61155b8361159b565b6000825111806115685750805b15610e7f57610aa383836115e8565b6000806000611586858561160d565b9150915061159381611652565b509392505050565b6115a481611448565b60405173ffffffffffffffffffffffffffffffffffffffff8216907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a250565b606061061b8383604051806060016040528060278152602001611f7760279139611805565b60008082516041036116435760208301516040840151606085015160001a6116378782858561188a565b9450945050505061164b565b506000905060025b9250929050565b600081600481111561166657611666611ef6565b0361166e5750565b600181600481111561168257611682611ef6565b036116e9576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f45434453413a20696e76616c6964207369676e617475726500000000000000006044820152606401610321565b60028160048111156116fd576116fd611ef6565b03611764576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f45434453413a20696e76616c6964207369676e6174757265206c656e677468006044820152606401610321565b600381600481111561177857611778611ef6565b036105da576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602260248201527f45434453413a20696e76616c6964207369676e6174757265202773272076616c60448201527f75650000000000000000000000000000000000000000000000000000000000006064820152608401610321565b60606000808573ffffffffffffffffffffffffffffffffffffffff168560405161182f9190611eaf565b600060405180830381855af49150503d806000811461186a576040519150601f19603f3d011682016040523d82523d6000602084013e61186f565b606091505b509150915061188086838387611979565b9695505050505050565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08311156118c15750600090506003611970565b6040805160008082526020820180845289905260ff881692820192909252606081018690526080810185905260019060a0016020604051602081039080840390855afa158015611915573d6000803e3d6000fd5b50506040517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0015191505073ffffffffffffffffffffffffffffffffffffffff811661196957600060019250925050611970565b9150600090505b94509492505050565b60608315611a0f578251600003611a085773ffffffffffffffffffffffffffffffffffffffff85163b611a08576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e74726163740000006044820152606401610321565b5081611a19565b611a198383611a21565b949350505050565b815115611a315781518083602001fd5b806040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103219190611f25565b60008083601f840112611a7757600080fd5b50813567ffffffffffffffff811115611a8f57600080fd5b6020830191508360208260051b850101111561164b57600080fd5b60008060008060408587031215611ac057600080fd5b843567ffffffffffffffff80821115611ad857600080fd5b611ae488838901611a65565b90965094506020870135915080821115611afd57600080fd5b50611b0a87828801611a65565b95989497509550505050565b73ffffffffffffffffffffffffffffffffffffffff811681146105da57600080fd5b600060208284031215611b4a57600080fd5b813561061b81611b16565b600080600060608486031215611b6a57600080fd5b833567ffffffffffffffff811115611b8157600080fd5b84016101608187031215611b9457600080fd5b95602085013595506040909401359392505050565b60008060408385031215611bbc57600080fd5b8235611bc781611b16565b946020939093013593505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60008060408385031215611c1757600080fd5b8235611c2281611b16565b9150602083013567ffffffffffffffff80821115611c3f57600080fd5b818501915085601f830112611c5357600080fd5b813581811115611c6557611c65611bd5565b604051601f82017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0908116603f01168101908382118183101715611cab57611cab611bd5565b81604052828152886020848701011115611cc457600080fd5b8260208601602083013760006020848301015280955050505050509250929050565b60008060008060608587031215611cfc57600080fd5b8435611d0781611b16565b935060208501359250604085013567ffffffffffffffff80821115611d2b57600080fd5b818701915087601f830112611d3f57600080fd5b813581811115611d4e57600080fd5b886020828501011115611d6057600080fd5b95989497505060200194505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60008083357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe1843603018112611dd357600080fd5b83018035915067ffffffffffffffff821115611dee57600080fd5b60200191503681900382131561164b57600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203611e6357611e63611e03565b5060010190565b600060208284031215611e7c57600080fd5b5051919050565b60005b83811015611e9e578181015183820152602001611e86565b83811115610aa35750506000910152565b60008251611ec1818460208701611e83565b9190910192915050565b60006bffffffffffffffffffffffff808316818103611eec57611eec611e03565b6001019392505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b6020815260008251806020840152611f44816040850160208701611e83565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016919091016040019291505056fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a2646970667358221220fd4b8799a91c8d4b8c5386672729ac9615b60b5f5b7dbac6da122be87a2a90b164736f6c634300080f0033",isSuperArgs$2=function(vn){return vn.length>1},SimpleAccountFactory__factory=function(vn){__extends$2(fn,vn);function fn(){for(var En=[],Cn=0;Cn<arguments.length;Cn++)En[Cn]=arguments[Cn];var _i=this;return isSuperArgs$2(En)?_i=vn.apply(this,En)||this:_i=vn.call(this,_abi$3,_bytecode$2,En[0])||this,_i}return fn.prototype.deploy=function(En,Cn){return vn.prototype.deploy.call(this,En,Cn||{})},fn.prototype.getDeployTransaction=function(En,Cn){return vn.prototype.getDeployTransaction.call(this,En,Cn||{})},fn.prototype.attach=function(En){return vn.prototype.attach.call(this,En)},fn.prototype.connect=function(En){return vn.prototype.connect.call(this,En)},fn.createInterface=function(){return new ethers_1$3.utils.Interface(_abi$3)},fn.connect=function(En,Cn){return new ethers_1$3.Contract(En,_abi$3,Cn)},fn.bytecode=_bytecode$2,fn.abi=_abi$3,fn}(ethers_1$3.ContractFactory);SimpleAccountFactory__factory$1.SimpleAccountFactory__factory=SimpleAccountFactory__factory;var StakeManager__factory$1={};StakeManager__factory$1.__esModule=!0;StakeManager__factory$1.StakeManager__factory=void 0;var ethers_1$2=require$$0,_abi$2=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"totalStaked",type:"uint256"},{indexed:!1,internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"address",name:"withdrawAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"address",name:"withdrawAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"deposits",outputs:[{internalType:"uint112",name:"deposit",type:"uint112"},{internalType:"bool",name:"staked",type:"bool"},{internalType:"uint112",name:"stake",type:"uint112"},{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"},{internalType:"uint48",name:"withdrawTime",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{internalType:"uint112",name:"deposit",type:"uint112"},{internalType:"bool",name:"staked",type:"bool"},{internalType:"uint112",name:"stake",type:"uint112"},{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"},{internalType:"uint48",name:"withdrawTime",type:"uint48"}],internalType:"struct IStakeManager.DepositInfo",name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"},{internalType:"uint256",name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],StakeManager__factory=function(){function vn(){}return vn.createInterface=function(){return new ethers_1$2.utils.Interface(_abi$2)},vn.connect=function(fn,En){return new ethers_1$2.Contract(fn,_abi$2,En)},vn.abi=_abi$2,vn}();StakeManager__factory$1.StakeManager__factory=StakeManager__factory;var TokenPaymaster__factory$1={},__extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(){var vn=function(fn,En){return vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Cn,_i){Cn.__proto__=_i}||function(Cn,_i){for(var An in _i)Object.prototype.hasOwnProperty.call(_i,An)&&(Cn[An]=_i[An])},vn(fn,En)};return function(fn,En){if(typeof En!="function"&&En!==null)throw new TypeError("Class extends value "+String(En)+" is not a constructor or null");vn(fn,En);function Cn(){this.constructor=fn}fn.prototype=En===null?Object.create(En):(Cn.prototype=En.prototype,new Cn)}}();TokenPaymaster__factory$1.__esModule=!0;TokenPaymaster__factory$1.TokenPaymaster__factory=void 0;var ethers_1$1=require$$0,_abi$1=[{inputs:[{internalType:"address",name:"accountFactory",type:"address"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"contract IEntryPoint",name:"_entryPoint",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"COST_OF_POST",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"entryPoint",outputs:[{internalType:"contract IEntryPoint",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mintTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IPaymaster.PostOpMode",name:"mode",type:"uint8"},{internalType:"bytes",name:"context",type:"bytes"},{internalType:"uint256",name:"actualGasCost",type:"uint256"}],name:"postOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"theFactory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"},{internalType:"bytes32",name:"userOpHash",type:"bytes32"},{internalType:"uint256",name:"maxCost",type:"uint256"}],name:"validatePaymasterUserOp",outputs:[{internalType:"bytes",name:"context",type:"bytes"},{internalType:"uint256",name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"}],_bytecode$1="0x60c06040523480156200001157600080fd5b506040516200224438038062002244833981016040819052620000349162000327565b8180826200004233620000a0565b6001600160a01b031660805260046200005c8382620004bc565b5060056200006b8282620004bc565b5050506001600160a01b03831660a05262000088306001620000f0565b620000973033600019620001b9565b505050620005af565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6001600160a01b0382166200014c5760405162461bcd60e51b815260206004820152601f60248201527f45524332303a206d696e7420746f20746865207a65726f20616464726573730060448201526064015b60405180910390fd5b806003600082825462000160919062000588565b90915550506001600160a01b0382166000818152600160209081526040808320805486019055518481527fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef910160405180910390a35050565b6001600160a01b0383166200021d5760405162461bcd60e51b8152602060048201526024808201527f45524332303a20617070726f76652066726f6d20746865207a65726f206164646044820152637265737360e01b606482015260840162000143565b6001600160a01b038216620002805760405162461bcd60e51b815260206004820152602260248201527f45524332303a20617070726f766520746f20746865207a65726f206164647265604482015261737360f01b606482015260840162000143565b6001600160a01b0383811660008181526002602090815260408083209487168084529482529182902085905590518481527f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925910160405180910390a3505050565b505050565b6001600160a01b0381168114620002fc57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b80516200032281620002e6565b919050565b6000806000606084860312156200033d57600080fd5b83516200034a81620002e6565b602085810151919450906001600160401b03808211156200036a57600080fd5b818701915087601f8301126200037f57600080fd5b815181811115620003945762000394620002ff565b604051601f8201601f19908116603f01168101908382118183101715620003bf57620003bf620002ff565b816040528281528a86848701011115620003d857600080fd5b600093505b82841015620003fc5784840186015181850187015292850192620003dd565b828411156200040e5760008684830101525b809750505050505050620004256040850162000315565b90509250925092565b600181811c908216806200044357607f821691505b6020821081036200046457634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115620002e157600081815260208120601f850160051c81016020861015620004935750805b601f850160051c820191505b81811015620004b4578281556001016200049f565b505050505050565b81516001600160401b03811115620004d857620004d8620002ff565b620004f081620004e984546200042e565b846200046a565b602080601f8311600181146200052857600084156200050f5750858301515b600019600386901b1c1916600185901b178555620004b4565b600085815260208120601f198616915b82811015620005595788860151825594840194600190910190840162000538565b5085821015620005785787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60008219821115620005aa57634e487b7160e01b600052601160045260246000fd5b500190565b60805160a051611c376200060d6000396000818161039201526116fa015260008181610426015281816105970152818161070b015281816108ea015281816109b101528181610a4101528181610af401526111f80152611c376000f3fe6080604052600436106101a15760003560e01c80639f5ca221116100e1578063c23a5cea1161008a578063dd62ed3e11610064578063dd62ed3e1461049a578063f0dda65c146104ed578063f2fde38b1461050d578063f465c77e1461052d57600080fd5b8063c23a5cea1461045d578063c399ec881461047d578063d0e30db01461049257600080fd5b8063a9a23409116100bb578063a9a23409146103f4578063b0d691fe14610414578063bb9fe6bf1461044857600080fd5b80639f5ca22114610380578063a457c2d7146103b4578063a9059cbb146103d457600080fd5b8063313ce5671161014e578063715018a611610128578063715018a6146102f4578063796d4371146103095780638da5cb5b1461031f57806395d89b411461036b57600080fd5b8063313ce56714610275578063395093511461029157806370a08231146102b157600080fd5b806318160ddd1161017f57806318160ddd14610216578063205c28781461023557806323b872dd1461025557600080fd5b80630396cb60146101a657806306fdde03146101bb578063095ea7b3146101e6575b600080fd5b6101b96101b43660046117a8565b61055b565b005b3480156101c757600080fd5b506101d061060d565b6040516101dd9190611840565b60405180910390f35b3480156101f257600080fd5b50610206610201366004611875565b61069f565b60405190151581526020016101dd565b34801561022257600080fd5b506003545b6040519081526020016101dd565b34801561024157600080fd5b506101b9610250366004611875565b6106b7565b34801561026157600080fd5b506102066102703660046118a1565b61074f565b34801561028157600080fd5b50604051601281526020016101dd565b34801561029d57600080fd5b506102066102ac366004611875565b610773565b3480156102bd57600080fd5b506102276102cc3660046118e2565b73ffffffffffffffffffffffffffffffffffffffff1660009081526001602052604090205490565b34801561030057600080fd5b506101b96107bf565b34801561031557600080fd5b50610227613a9881565b34801561032b57600080fd5b5060005473ffffffffffffffffffffffffffffffffffffffff165b60405173ffffffffffffffffffffffffffffffffffffffff90911681526020016101dd565b34801561037757600080fd5b506101d06107d3565b34801561038c57600080fd5b506103467f000000000000000000000000000000000000000000000000000000000000000081565b3480156103c057600080fd5b506102066103cf366004611875565b6107e2565b3480156103e057600080fd5b506102066103ef366004611875565b6108b8565b34801561040057600080fd5b506101b961040f3660046118ff565b6108c6565b34801561042057600080fd5b506103467f000000000000000000000000000000000000000000000000000000000000000081565b34801561045457600080fd5b506101b96108e0565b34801561046957600080fd5b506101b96104783660046118e2565b610964565b34801561048957600080fd5b50610227610a10565b6101b9610ac6565b3480156104a657600080fd5b506102276104b536600461198e565b73ffffffffffffffffffffffffffffffffffffffff918216600090815260026020908152604080832093909416825291909152205490565b3480156104f957600080fd5b506101b9610508366004611875565b610b4e565b34801561051957600080fd5b506101b96105283660046118e2565b610b64565b34801561053957600080fd5b5061054d6105483660046119c7565b610bcd565b6040516101dd929190611a1b565b610563610bf0565b6040517f0396cb6000000000000000000000000000000000000000000000000000000000815263ffffffff821660048201527f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1690630396cb609034906024016000604051808303818588803b1580156105f157600080fd5b505af1158015610605573d6000803e3d6000fd5b505050505050565b60606004805461061c90611a3d565b80601f016020809104026020016040519081016040528092919081815260200182805461064890611a3d565b80156106955780601f1061066a57610100808354040283529160200191610695565b820191906000526020600020905b81548152906001019060200180831161067857829003601f168201915b5050505050905090565b6000336106ad818585610c71565b5060019392505050565b6106bf610bf0565b6040517f205c287800000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8381166004830152602482018390527f0000000000000000000000000000000000000000000000000000000000000000169063205c287890604401600060405180830381600087803b1580156105f157600080fd5b60003361075d858285610e24565b610768858585610ef5565b506001949350505050565b33600081815260026020908152604080832073ffffffffffffffffffffffffffffffffffffffff871684529091528120549091906106ad90829086906107ba908790611a90565b610c71565b6107c7610bf0565b6107d1600061116b565b565b60606005805461061c90611a3d565b33600081815260026020908152604080832073ffffffffffffffffffffffffffffffffffffffff87168452909152812054909190838110156108ab576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602560248201527f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f7760448201527f207a65726f00000000000000000000000000000000000000000000000000000060648201526084015b60405180910390fd5b6107688286868403610c71565b6000336106ad818585610ef5565b6108ce6111e0565b6108da8484848461127f565b50505050565b6108e8610bf0565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663bb9fe6bf6040518163ffffffff1660e01b8152600401600060405180830381600087803b15801561095057600080fd5b505af11580156108da573d6000803e3d6000fd5b61096c610bf0565b6040517fc23a5cea00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff82811660048301527f0000000000000000000000000000000000000000000000000000000000000000169063c23a5cea90602401600060405180830381600087803b1580156109f557600080fd5b505af1158015610a09573d6000803e3d6000fd5b5050505050565b6040517f70a082310000000000000000000000000000000000000000000000000000000081523060048201526000907f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16906370a0823190602401602060405180830381865afa158015610a9d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ac19190611acf565b905090565b6040517fb760faf90000000000000000000000000000000000000000000000000000000081523060048201527f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff169063b760faf99034906024016000604051808303818588803b1580156109f557600080fd5b610b56610bf0565b610b6082826112b2565b5050565b610b6c610bf0565b610b9630610b8f60005473ffffffffffffffffffffffffffffffffffffffff1690565b6000610c71565b610b9f816113a7565b610bca30827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff610c71565b50565b60606000610bd96111e0565b610be485858561145b565b91509150935093915050565b60005473ffffffffffffffffffffffffffffffffffffffff1633146107d1576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016108a2565b73ffffffffffffffffffffffffffffffffffffffff8316610d13576040517f08c379a0000000000000000000000000000000000000000000000000000000008152602060048201526024808201527f45524332303a20617070726f76652066726f6d20746865207a65726f2061646460448201527f726573730000000000000000000000000000000000000000000000000000000060648201526084016108a2565b73ffffffffffffffffffffffffffffffffffffffff8216610db6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602260248201527f45524332303a20617070726f766520746f20746865207a65726f20616464726560448201527f737300000000000000000000000000000000000000000000000000000000000060648201526084016108a2565b73ffffffffffffffffffffffffffffffffffffffff83811660008181526002602090815260408083209487168084529482529182902085905590518481527f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925910160405180910390a3505050565b73ffffffffffffffffffffffffffffffffffffffff8381166000908152600260209081526040808320938616835292905220547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff81146108da5781811015610ee8576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f45524332303a20696e73756666696369656e7420616c6c6f77616e636500000060448201526064016108a2565b6108da8484848403610c71565b73ffffffffffffffffffffffffffffffffffffffff8316610f98576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602560248201527f45524332303a207472616e736665722066726f6d20746865207a65726f20616460448201527f647265737300000000000000000000000000000000000000000000000000000060648201526084016108a2565b73ffffffffffffffffffffffffffffffffffffffff821661103b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602360248201527f45524332303a207472616e7366657220746f20746865207a65726f206164647260448201527f657373000000000000000000000000000000000000000000000000000000000060648201526084016108a2565b73ffffffffffffffffffffffffffffffffffffffff8316600090815260016020526040902054818110156110f1576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f45524332303a207472616e7366657220616d6f756e742065786365656473206260448201527f616c616e6365000000000000000000000000000000000000000000000000000060648201526084016108a2565b73ffffffffffffffffffffffffffffffffffffffff80851660008181526001602052604080822086860390559286168082529083902080548601905591517fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9061115e9086815260200190565b60405180910390a36108da565b6000805473ffffffffffffffffffffffffffffffffffffffff8381167fffffffffffffffffffffffff0000000000000000000000000000000000000000831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b3373ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016146107d1576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f53656e646572206e6f7420456e747279506f696e74000000000000000000000060448201526064016108a2565b600061128d838501856118e2565b905060006112a56112a0613a9885611a90565b6116a4565b9050610605823083610ef5565b73ffffffffffffffffffffffffffffffffffffffff821661132f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f45524332303a206d696e7420746f20746865207a65726f20616464726573730060448201526064016108a2565b80600360008282546113419190611a90565b909155505073ffffffffffffffffffffffffffffffffffffffff82166000818152600160209081526040808320805486019055518481527fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef910160405180910390a35050565b6113af610bf0565b73ffffffffffffffffffffffffffffffffffffffff8116611452576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f646472657373000000000000000000000000000000000000000000000000000060648201526084016108a2565b610bca8161116b565b6060600080611469846116a4565b9050613a988660a0013511611500576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f546f6b656e5061796d61737465723a2067617320746f6f206c6f7720666f722060448201527f706f73744f70000000000000000000000000000000000000000000000000000060648201526084016108a2565b61150d6040870187611ae8565b1590506115c15761151d866116b7565b8061152e6102cc60208901896118e2565b10156115bc576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602760248201527f546f6b656e5061796d61737465723a206e6f2062616c616e636520287072652d60448201527f637265617465290000000000000000000000000000000000000000000000000060648201526084016108a2565b61163a565b806115d26102cc60208901896118e2565b101561163a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601a60248201527f546f6b656e5061796d61737465723a206e6f2062616c616e636500000000000060448201526064016108a2565b61164760208701876118e2565b6040805173ffffffffffffffffffffffffffffffffffffffff909216602083015201604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08184030181529190529660009650945050505050565b60006116b1606483611b54565b92915050565b60006116c66040830183611ae8565b6116d591601491600091611b8f565b6116de91611bb9565b60601c905073ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168114610b60576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602560248201527f546f6b656e5061796d61737465723a2077726f6e67206163636f756e7420666160448201527f63746f727900000000000000000000000000000000000000000000000000000060648201526084016108a2565b6000602082840312156117ba57600080fd5b813563ffffffff811681146117ce57600080fd5b9392505050565b6000815180845260005b818110156117fb576020818501810151868301820152016117df565b8181111561180d576000602083870101525b50601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0169290920160200192915050565b6020815260006117ce60208301846117d5565b73ffffffffffffffffffffffffffffffffffffffff81168114610bca57600080fd5b6000806040838503121561188857600080fd5b823561189381611853565b946020939093013593505050565b6000806000606084860312156118b657600080fd5b83356118c181611853565b925060208401356118d181611853565b929592945050506040919091013590565b6000602082840312156118f457600080fd5b81356117ce81611853565b6000806000806060858703121561191557600080fd5b84356003811061192457600080fd5b9350602085013567ffffffffffffffff8082111561194157600080fd5b818701915087601f83011261195557600080fd5b81358181111561196457600080fd5b88602082850101111561197657600080fd5b95986020929092019750949560400135945092505050565b600080604083850312156119a157600080fd5b82356119ac81611853565b915060208301356119bc81611853565b809150509250929050565b6000806000606084860312156119dc57600080fd5b833567ffffffffffffffff8111156119f357600080fd5b84016101608187031215611a0657600080fd5b95602085013595506040909401359392505050565b604081526000611a2e60408301856117d5565b90508260208301529392505050565b600181811c90821680611a5157607f821691505b602082108103611a8a577f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b50919050565b60008219821115611aca577f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b500190565b600060208284031215611ae157600080fd5b5051919050565b60008083357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe1843603018112611b1d57600080fd5b83018035915067ffffffffffffffff821115611b3857600080fd5b602001915036819003821315611b4d57600080fd5b9250929050565b600082611b8a577f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b500490565b60008085851115611b9f57600080fd5b83861115611bac57600080fd5b5050820193919092039150565b7fffffffffffffffffffffffffffffffffffffffff0000000000000000000000008135818116916014851015611bf95780818660140360031b1b83161692505b50509291505056fea2646970667358221220a332863119321216e5189708c2880dbc64e46a1707c0f292f429daa2c9a7ea3764736f6c634300080f0033",isSuperArgs$1=function(vn){return vn.length>1},TokenPaymaster__factory=function(vn){__extends$1(fn,vn);function fn(){for(var En=[],Cn=0;Cn<arguments.length;Cn++)En[Cn]=arguments[Cn];var _i=this;return isSuperArgs$1(En)?_i=vn.apply(this,En)||this:_i=vn.call(this,_abi$1,_bytecode$1,En[0])||this,_i}return fn.prototype.deploy=function(En,Cn,_i,An){return vn.prototype.deploy.call(this,En,Cn,_i,An||{})},fn.prototype.getDeployTransaction=function(En,Cn,_i,An){return vn.prototype.getDeployTransaction.call(this,En,Cn,_i,An||{})},fn.prototype.attach=function(En){return vn.prototype.attach.call(this,En)},fn.prototype.connect=function(En){return vn.prototype.connect.call(this,En)},fn.createInterface=function(){return new ethers_1$1.utils.Interface(_abi$1)},fn.connect=function(En,Cn){return new ethers_1$1.Contract(En,_abi$1,Cn)},fn.bytecode=_bytecode$1,fn.abi=_abi$1,fn}(ethers_1$1.ContractFactory);TokenPaymaster__factory$1.TokenPaymaster__factory=TokenPaymaster__factory;var VerifyingPaymaster__factory$1={},__extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var vn=function(fn,En){return vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Cn,_i){Cn.__proto__=_i}||function(Cn,_i){for(var An in _i)Object.prototype.hasOwnProperty.call(_i,An)&&(Cn[An]=_i[An])},vn(fn,En)};return function(fn,En){if(typeof En!="function"&&En!==null)throw new TypeError("Class extends value "+String(En)+" is not a constructor or null");vn(fn,En);function Cn(){this.constructor=fn}fn.prototype=En===null?Object.create(En):(Cn.prototype=En.prototype,new Cn)}}();VerifyingPaymaster__factory$1.__esModule=!0;VerifyingPaymaster__factory$1.VerifyingPaymaster__factory=void 0;var ethers_1=require$$0,_abi=[{inputs:[{internalType:"contract IEntryPoint",name:"_entryPoint",type:"address"},{internalType:"address",name:"_verifyingSigner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"deposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"entryPoint",outputs:[{internalType:"contract IEntryPoint",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"},{internalType:"uint48",name:"validUntil",type:"uint48"},{internalType:"uint48",name:"validAfter",type:"uint48"}],name:"getHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paymasterAndData",type:"bytes"}],name:"parsePaymasterAndData",outputs:[{internalType:"uint48",name:"validUntil",type:"uint48"},{internalType:"uint48",name:"validAfter",type:"uint48"},{internalType:"bytes",name:"signature",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"enum IPaymaster.PostOpMode",name:"mode",type:"uint8"},{internalType:"bytes",name:"context",type:"bytes"},{internalType:"uint256",name:"actualGasCost",type:"uint256"}],name:"postOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"senderNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"},{internalType:"bytes32",name:"userOpHash",type:"bytes32"},{internalType:"uint256",name:"maxCost",type:"uint256"}],name:"validatePaymasterUserOp",outputs:[{internalType:"bytes",name:"context",type:"bytes"},{internalType:"uint256",name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"verifyingSigner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"}],_bytecode="0x60c06040523480156200001157600080fd5b5060405162001723380380620017238339810160408190526200003491620000c2565b81620000403362000059565b6001600160a01b039081166080521660a0525062000101565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6001600160a01b0381168114620000bf57600080fd5b50565b60008060408385031215620000d657600080fd5b8251620000e381620000a9565b6020840151909250620000f681620000a9565b809150509250929050565b60805160a0516115c46200015f6000396000818161013f0152610ca20152600081816102880152818161038601528181610450015281816105730152818161063a015281816106ca0152818161077d0152610a0401526115c46000f3fe6080604052600436106100f35760003560e01c8063a9a234091161008a578063c399ec8811610059578063c399ec88146102df578063d0e30db0146102f4578063f2fde38b146102fc578063f465c77e1461031c57600080fd5b8063a9a2340914610256578063b0d691fe14610276578063bb9fe6bf146102aa578063c23a5cea146102bf57600080fd5b80638da5cb5b116100c65780638da5cb5b146101a057806394d4ad60146101cb57806394e1fc19146101fb5780639c90b4431461022957600080fd5b80630396cb60146100f8578063205c28781461010d57806323d9ac9b1461012d578063715018a61461018b575b600080fd5b61010b610106366004611075565b61034a565b005b34801561011957600080fd5b5061010b6101283660046110c4565b6103fc565b34801561013957600080fd5b506101617f000000000000000000000000000000000000000000000000000000000000000081565b60405173ffffffffffffffffffffffffffffffffffffffff90911681526020015b60405180910390f35b34801561019757600080fd5b5061010b610494565b3480156101ac57600080fd5b5060005473ffffffffffffffffffffffffffffffffffffffff16610161565b3480156101d757600080fd5b506101eb6101e6366004611132565b6104a8565b6040516101829493929190611174565b34801561020757600080fd5b5061021b610216366004611212565b6104e5565b604051908152602001610182565b34801561023557600080fd5b5061021b610244366004611270565b60016020526000908152604090205481565b34801561026257600080fd5b5061010b61027136600461128d565b61054f565b34801561028257600080fd5b506101617f000000000000000000000000000000000000000000000000000000000000000081565b3480156102b657600080fd5b5061010b610569565b3480156102cb57600080fd5b5061010b6102da366004611270565b6105ed565b3480156102eb57600080fd5b5061021b610699565b61010b61074f565b34801561030857600080fd5b5061010b610317366004611270565b6107d7565b34801561032857600080fd5b5061033c6103373660046112ed565b610893565b6040516101829291906113a6565b6103526108b7565b6040517f0396cb6000000000000000000000000000000000000000000000000000000000815263ffffffff821660048201527f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1690630396cb609034906024016000604051808303818588803b1580156103e057600080fd5b505af11580156103f4573d6000803e3d6000fd5b505050505050565b6104046108b7565b6040517f205c287800000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8381166004830152602482018390527f0000000000000000000000000000000000000000000000000000000000000000169063205c287890604401600060405180830381600087803b1580156103e057600080fd5b61049c6108b7565b6104a66000610938565b565b60008036816104bb6054601487896113c8565b8101906104c891906113f2565b90945092506104da85605481896113c8565b949793965094505050565b60006104f0846109ad565b73ffffffffffffffffffffffffffffffffffffffff8535166000908152600160209081526040918290205491516105309392469230928991899101611425565b6040516020818303038152906040528051906020012090509392505050565b6105576109ec565b61056384848484610a8b565b50505050565b6105716108b7565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663bb9fe6bf6040518163ffffffff1660e01b8152600401600060405180830381600087803b1580156105d957600080fd5b505af1158015610563573d6000803e3d6000fd5b6105f56108b7565b6040517fc23a5cea00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff82811660048301527f0000000000000000000000000000000000000000000000000000000000000000169063c23a5cea90602401600060405180830381600087803b15801561067e57600080fd5b505af1158015610692573d6000803e3d6000fd5b5050505050565b6040517f70a082310000000000000000000000000000000000000000000000000000000081523060048201526000907f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16906370a0823190602401602060405180830381865afa158015610726573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061074a9190611482565b905090565b6040517fb760faf90000000000000000000000000000000000000000000000000000000081523060048201527f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff169063b760faf99034906024016000604051808303818588803b15801561067e57600080fd5b6107df6108b7565b73ffffffffffffffffffffffffffffffffffffffff8116610887576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f646472657373000000000000000000000000000000000000000000000000000060648201526084015b60405180910390fd5b61089081610938565b50565b6060600061089f6109ec565b6108aa858585610aed565b915091505b935093915050565b60005473ffffffffffffffffffffffffffffffffffffffff1633146104a6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015260640161087e565b6000805473ffffffffffffffffffffffffffffffffffffffff8381167fffffffffffffffffffffffff0000000000000000000000000000000000000000831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b60603660006109c061012085018561149b565b915091508360208184030360405194506020810185016040528085528082602087013750505050919050565b3373ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016146104a6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f53656e646572206e6f7420456e747279506f696e740000000000000000000000604482015260640161087e565b6040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600d60248201527f6d757374206f7665727269646500000000000000000000000000000000000000604482015260640161087e565b6060600080803681610b066101e66101208b018b61149b565b929650909450925090506040811480610b1f5750604181145b610bad57604080517f08c379a00000000000000000000000000000000000000000000000000000000081526020600482015260248101919091527f566572696679696e675061796d61737465723a20696e76616c6964207369676e60448201527f6174757265206c656e67746820696e207061796d6173746572416e6444617461606482015260840161087e565b6000610c10610bbd8b87876104e5565b6040517f19457468657265756d205369676e6564204d6573736167653a0a3332000000006020820152603c8101829052600090605c01604051602081830303815290604052805190602001209050919050565b73ffffffffffffffffffffffffffffffffffffffff8b35166000908152600160205260408120805492935090610c4583611500565b9190505550610c8a8184848080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250610d3292505050565b73ffffffffffffffffffffffffffffffffffffffff167f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1614610d0757610ce860018686610d56565b60405180602001604052806000815250909650965050505050506108af565b610d1360008686610d56565b6040805160208101909152600081529b909a5098505050505050505050565b6000806000610d418585610d8e565b91509150610d4e81610dd3565b509392505050565b600060d08265ffffffffffff16901b60a08465ffffffffffff16901b85610d7e576000610d81565b60015b60ff161717949350505050565b6000808251604103610dc45760208301516040840151606085015160001a610db887828585610f86565b94509450505050610dcc565b506000905060025b9250929050565b6000816004811115610de757610de761155f565b03610def5750565b6001816004811115610e0357610e0361155f565b03610e6a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f45434453413a20696e76616c6964207369676e61747572650000000000000000604482015260640161087e565b6002816004811115610e7e57610e7e61155f565b03610ee5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f45434453413a20696e76616c6964207369676e6174757265206c656e67746800604482015260640161087e565b6003816004811115610ef957610ef961155f565b03610890576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602260248201527f45434453413a20696e76616c6964207369676e6174757265202773272076616c60448201527f7565000000000000000000000000000000000000000000000000000000000000606482015260840161087e565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0831115610fbd575060009050600361106c565b6040805160008082526020820180845289905260ff881692820192909252606081018690526080810185905260019060a0016020604051602081039080840390855afa158015611011573d6000803e3d6000fd5b50506040517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0015191505073ffffffffffffffffffffffffffffffffffffffff81166110655760006001925092505061106c565b9150600090505b94509492505050565b60006020828403121561108757600080fd5b813563ffffffff8116811461109b57600080fd5b9392505050565b73ffffffffffffffffffffffffffffffffffffffff8116811461089057600080fd5b600080604083850312156110d757600080fd5b82356110e2816110a2565b946020939093013593505050565b60008083601f84011261110257600080fd5b50813567ffffffffffffffff81111561111a57600080fd5b602083019150836020828501011115610dcc57600080fd5b6000806020838503121561114557600080fd5b823567ffffffffffffffff81111561115c57600080fd5b611168858286016110f0565b90969095509350505050565b600065ffffffffffff8087168352808616602084015250606060408301528260608301528284608084013760006080848401015260807fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f850116830101905095945050505050565b600061016082840312156111f157600080fd5b50919050565b803565ffffffffffff8116811461120d57600080fd5b919050565b60008060006060848603121561122757600080fd5b833567ffffffffffffffff81111561123e57600080fd5b61124a868287016111de565b935050611259602085016111f7565b9150611267604085016111f7565b90509250925092565b60006020828403121561128257600080fd5b813561109b816110a2565b600080600080606085870312156112a357600080fd5b8435600381106112b257600080fd5b9350602085013567ffffffffffffffff8111156112ce57600080fd5b6112da878288016110f0565b9598909750949560400135949350505050565b60008060006060848603121561130257600080fd5b833567ffffffffffffffff81111561131957600080fd5b611325868287016111de565b9660208601359650604090950135949350505050565b6000815180845260005b8181101561136157602081850181015186830182015201611345565b81811115611373576000602083870101525b50601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0169290920160200192915050565b6040815260006113b9604083018561133b565b90508260208301529392505050565b600080858511156113d857600080fd5b838611156113e557600080fd5b5050820193919092039150565b6000806040838503121561140557600080fd5b61140e836111f7565b915061141c602084016111f7565b90509250929050565b60c08152600061143860c083018961133b565b60208301979097525073ffffffffffffffffffffffffffffffffffffffff949094166040850152606084019290925265ffffffffffff90811660808401521660a090910152919050565b60006020828403121561149457600080fd5b5051919050565b60008083357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18436030181126114d057600080fd5b83018035915067ffffffffffffffff8211156114eb57600080fd5b602001915036819003821315610dcc57600080fd5b60007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203611558577f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b5060010190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fdfea26469706673582212201f0be91b92179d101ae4aa96dcbd313210e5b62f1b15c18338e0acb937cb466a64736f6c634300080f0033",isSuperArgs=function(vn){return vn.length>1},VerifyingPaymaster__factory=function(vn){__extends(fn,vn);function fn(){for(var En=[],Cn=0;Cn<arguments.length;Cn++)En[Cn]=arguments[Cn];var _i=this;return isSuperArgs(En)?_i=vn.apply(this,En)||this:_i=vn.call(this,_abi,_bytecode,En[0])||this,_i}return fn.prototype.deploy=function(En,Cn,_i){return vn.prototype.deploy.call(this,En,Cn,_i||{})},fn.prototype.getDeployTransaction=function(En,Cn,_i){return vn.prototype.getDeployTransaction.call(this,En,Cn,_i||{})},fn.prototype.attach=function(En){return vn.prototype.attach.call(this,En)},fn.prototype.connect=function(En){return vn.prototype.connect.call(this,En)},fn.createInterface=function(){return new ethers_1.utils.Interface(_abi)},fn.connect=function(En,Cn){return new ethers_1.Contract(En,_abi,Cn)},fn.bytecode=_bytecode,fn.abi=_abi,fn}(ethers_1.ContractFactory);VerifyingPaymaster__factory$1.VerifyingPaymaster__factory=VerifyingPaymaster__factory;(function(vn){var fn=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n0,c0,d0,o0){o0===void 0&&(o0=d0);var g0=Object.getOwnPropertyDescriptor(c0,d0);(!g0||("get"in g0?!c0.__esModule:g0.writable||g0.configurable))&&(g0={enumerable:!0,get:function(){return c0[d0]}}),Object.defineProperty(n0,o0,g0)}:function(n0,c0,d0,o0){o0===void 0&&(o0=d0),n0[o0]=c0[d0]});vn.__esModule=!0,vn.VerifyingPaymaster__factory=vn.TokenPaymaster__factory=vn.StakeManager__factory=vn.SimpleAccountFactory__factory=vn.SimpleAccount__factory=vn.SenderCreator__factory=vn.MaliciousAccount__factory=vn.IStakeManager__factory=vn.IPaymaster__factory=vn.IEntryPoint__factory=vn.IAggregator__factory=vn.IAccount__factory=vn.EntryPoint__factory=vn.DepositPaymaster__factory=vn.BrokenBLSAccountFactory__factory=vn.BrokenBLSAccount__factory=vn.BasePaymaster__factory=vn.BaseAccount__factory=void 0;var En=BaseAccount__factory$1;fn(vn,En,"BaseAccount__factory");var Cn=BasePaymaster__factory$1;fn(vn,Cn,"BasePaymaster__factory");var _i=BrokenBLSAccount__factory$1;fn(vn,_i,"BrokenBLSAccount__factory");var An=BrokenBLSAccountFactory__factory$1;fn(vn,An,"BrokenBLSAccountFactory__factory");var ba=DepositPaymaster__factory$1;fn(vn,ba,"DepositPaymaster__factory");var xa=EntryPoint__factory$1;fn(vn,xa,"EntryPoint__factory");var $a=IAccount__factory$1;fn(vn,$a,"IAccount__factory");var rs=IAggregator__factory$1;fn(vn,rs,"IAggregator__factory");var ts=IEntryPoint__factory$1;fn(vn,ts,"IEntryPoint__factory");var is=IPaymaster__factory$1;fn(vn,is,"IPaymaster__factory");var cs=IStakeManager__factory$1;fn(vn,cs,"IStakeManager__factory");var us=MaliciousAccount__factory$1;fn(vn,us,"MaliciousAccount__factory");var ps=SenderCreator__factory$1;fn(vn,ps,"SenderCreator__factory");var bs=SimpleAccount__factory$1;fn(vn,bs,"SimpleAccount__factory");var e0=SimpleAccountFactory__factory$1;fn(vn,e0,"SimpleAccountFactory__factory");var gs=StakeManager__factory$1;fn(vn,gs,"StakeManager__factory");var Ds=TokenPaymaster__factory$1;fn(vn,Ds,"TokenPaymaster__factory");var i0=VerifyingPaymaster__factory$1;fn(vn,i0,"VerifyingPaymaster__factory")})(factories);(function(vn){var fn=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n0,c0,d0,o0){o0===void 0&&(o0=d0);var g0=Object.getOwnPropertyDescriptor(c0,d0);(!g0||("get"in g0?!c0.__esModule:g0.writable||g0.configurable))&&(g0={enumerable:!0,get:function(){return c0[d0]}}),Object.defineProperty(n0,o0,g0)}:function(n0,c0,d0,o0){o0===void 0&&(o0=d0),n0[o0]=c0[d0]});vn.__esModule=!0,vn.VerifyingPaymaster__factory=vn.TokenPaymaster__factory=vn.StakeManager__factory=vn.SimpleAccountFactory__factory=vn.SimpleAccount__factory=vn.SenderCreator__factory=vn.MaliciousAccount__factory=vn.IStakeManager__factory=vn.IPaymaster__factory=vn.IEntryPoint__factory=vn.IAggregator__factory=vn.IAccount__factory=vn.EntryPoint__factory=vn.DepositPaymaster__factory=vn.BrokenBLSAccountFactory__factory=vn.BrokenBLSAccount__factory=vn.BasePaymaster__factory=vn.BaseAccount__factory=vn.factories=void 0,vn.factories=factories;var En=BaseAccount__factory$1;fn(vn,En,"BaseAccount__factory");var Cn=BasePaymaster__factory$1;fn(vn,Cn,"BasePaymaster__factory");var _i=BrokenBLSAccount__factory$1;fn(vn,_i,"BrokenBLSAccount__factory");var An=BrokenBLSAccountFactory__factory$1;fn(vn,An,"BrokenBLSAccountFactory__factory");var ba=DepositPaymaster__factory$1;fn(vn,ba,"DepositPaymaster__factory");var xa=EntryPoint__factory$1;fn(vn,xa,"EntryPoint__factory");var $a=IAccount__factory$1;fn(vn,$a,"IAccount__factory");var rs=IAggregator__factory$1;fn(vn,rs,"IAggregator__factory");var ts=IEntryPoint__factory$1;fn(vn,ts,"IEntryPoint__factory");var is=IPaymaster__factory$1;fn(vn,is,"IPaymaster__factory");var cs=IStakeManager__factory$1;fn(vn,cs,"IStakeManager__factory");var us=MaliciousAccount__factory$1;fn(vn,us,"MaliciousAccount__factory");var ps=SenderCreator__factory$1;fn(vn,ps,"SenderCreator__factory");var bs=SimpleAccount__factory$1;fn(vn,bs,"SimpleAccount__factory");var e0=SimpleAccountFactory__factory$1;fn(vn,e0,"SimpleAccountFactory__factory");var gs=StakeManager__factory$1;fn(vn,gs,"StakeManager__factory");var Ds=TokenPaymaster__factory$1;fn(vn,Ds,"TokenPaymaster__factory");var i0=VerifyingPaymaster__factory$1;fn(vn,i0,"VerifyingPaymaster__factory")})(types);(function(vn){var fn=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Cn,_i,An,ba){ba===void 0&&(ba=An);var xa=Object.getOwnPropertyDescriptor(_i,An);(!xa||("get"in xa?!_i.__esModule:xa.writable||xa.configurable))&&(xa={enumerable:!0,get:function(){return _i[An]}}),Object.defineProperty(Cn,ba,xa)}:function(Cn,_i,An,ba){ba===void 0&&(ba=An),Cn[ba]=_i[An]}),En=commonjsGlobal&&commonjsGlobal.__exportStar||function(Cn,_i){for(var An in Cn)An!=="default"&&!Object.prototype.hasOwnProperty.call(_i,An)&&fn(_i,Cn,An)};vn.__esModule=!0,En(types,vn)})(dist);const EIP1271_ABI=["function isValidSignature(bytes32 _hash, bytes _signature) public view returns (bytes4)"],EIP1271_MAGICVALUE="0x1626ba7e";async function checkContractWalletSignature(vn,fn,En,Cn,_i,An){let ba=!1;typeof globalThis<"u"&&"TW_SKIP_FETCH_SETUP"in globalThis&&typeof globalThis.TW_SKIP_FETCH_SETUP=="boolean"&&(ba=globalThis.TW_SKIP_FETCH_SETUP);const xa=chainIdToThirdwebRpc(Cn,_i),$a={};if(isTwUrl(xa)){const is=typeof globalThis<"u"&&"APP_BUNDLE_ID"in globalThis?globalThis.APP_BUNDLE_ID:void 0;An?$a["x-secret-key"]=An:_i&&($a["x-client-id"]=_i,is&&($a["x-bundle-id"]=is)),typeof globalThis<"u"&&"TW_AUTH_TOKEN"in globalThis&&typeof globalThis.TW_AUTH_TOKEN=="string"&&($a.authorization=`Bearer ${globalThis.TW_AUTH_TOKEN}`),typeof globalThis<"u"&&"TW_CLI_AUTH_TOKEN"in globalThis&&typeof globalThis.TW_CLI_AUTH_TOKEN=="string"&&($a.authorization=`Bearer ${globalThis.TW_CLI_AUTH_TOKEN}`,$a["x-authorize-wallet"]="true"),setAnalyticsHeaders($a)}const rs=new StaticJsonRpcProvider({url:xa,skipFetchSetup:ba,headers:$a},Cn),ts=new Contract(En,EIP1271_ABI,rs);try{return await ts.isValidSignature(hashMessage(vn),fn)===EIP1271_MAGICVALUE}catch{return!1}}const ENTRYPOINT_ADDRESS="0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789",ERC6551_REGISTRY="0x02101dfB77FDE026414827Fdc604ddAF224F0921",MANAGED_ACCOUNT_GAS_BUFFER=5e4,DEFAULT_FACTORY_ADDRESS="0x85e23b94e7F5E9cC1fF78BCe78cfb15B81f0DF00",ACCOUNT_CORE_ABI=[{type:"constructor",inputs:[{name:"_entrypoint",type:"address",internalType:"contract IEntryPoint"},{name:"_factory",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"addDeposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"contractURI",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"_target",type:"address",internalType:"address"},{name:"_value",type:"uint256",internalType:"uint256"},{name:"_calldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"executeBatch",inputs:[{name:"_target",type:"address[]",internalType:"address[]"},{name:"_value",type:"uint256[]",internalType:"uint256[]"},{name:"_calldata",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"factory",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getAllActiveSigners",inputs:[],outputs:[{name:"signers",type:"tuple[]",internalType:"struct IAccountPermissions.SignerPermissions[]",components:[{name:"signer",type:"address",internalType:"address"},{name:"approvedTargets",type:"address[]",internalType:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"startTimestamp",type:"uint128",internalType:"uint128"},{name:"endTimestamp",type:"uint128",internalType:"uint128"}]}],stateMutability:"view"},{type:"function",name:"getAllAdmins",inputs:[],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"getAllSigners",inputs:[],outputs:[{name:"signers",type:"tuple[]",internalType:"struct IAccountPermissions.SignerPermissions[]",components:[{name:"signer",type:"address",internalType:"address"},{name:"approvedTargets",type:"address[]",internalType:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"startTimestamp",type:"uint128",internalType:"uint128"},{name:"endTimestamp",type:"uint128",internalType:"uint128"}]}],stateMutability:"view"},{type:"function",name:"getMessageHash",inputs:[{name:"_hash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getPermissionsForSigner",inputs:[{name:"signer",type:"address",internalType:"address"}],outputs:[{name:"",type:"tuple",internalType:"struct IAccountPermissions.SignerPermissions",components:[{name:"signer",type:"address",internalType:"address"},{name:"approvedTargets",type:"address[]",internalType:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"startTimestamp",type:"uint128",internalType:"uint128"},{name:"endTimestamp",type:"uint128",internalType:"uint128"}]}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"_defaultAdmin",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"isActiveSigner",inputs:[{name:"signer",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isAdmin",inputs:[{name:"_account",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"_hash",type:"bytes32",internalType:"bytes32"},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"isValidSigner",inputs:[{name:"_signer",type:"address",internalType:"address"},{name:"_userOp",type:"tuple",internalType:"struct UserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"callGasLimit",type:"uint256",internalType:"uint256"},{name:"verificationGasLimit",type:"uint256",internalType:"uint256"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"maxFeePerGas",type:"uint256",internalType:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256",internalType:"uint256"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"multicall",inputs:[{name:"data",type:"bytes[]",internalType:"bytes[]"}],outputs:[{name:"results",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"nonpayable"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"nonpayable"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"nonpayable"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"nonpayable"},{type:"function",name:"setContractURI",inputs:[{name:"_uri",type:"string",internalType:"string"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setEntrypointOverride",inputs:[{name:"_entrypointOverride",type:"address",internalType:"contract IEntryPoint"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setPermissionsForSigner",inputs:[{name:"_req",type:"tuple",internalType:"struct IAccountPermissions.SignerPermissionRequest",components:[{name:"signer",type:"address",internalType:"address"},{name:"isAdmin",type:"uint8",internalType:"uint8"},{name:"approvedTargets",type:"address[]",internalType:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"permissionStartTimestamp",type:"uint128",internalType:"uint128"},{name:"permissionEndTimestamp",type:"uint128",internalType:"uint128"},{name:"reqValidityStartTimestamp",type:"uint128",internalType:"uint128"},{name:"reqValidityEndTimestamp",type:"uint128",internalType:"uint128"},{name:"uid",type:"bytes32",internalType:"bytes32"}]},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"validateUserOp",inputs:[{name:"userOp",type:"tuple",internalType:"struct UserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"callGasLimit",type:"uint256",internalType:"uint256"},{name:"verificationGasLimit",type:"uint256",internalType:"uint256"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"maxFeePerGas",type:"uint256",internalType:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256",internalType:"uint256"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"},{name:"missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"verifySignerPermissionRequest",inputs:[{name:"req",type:"tuple",internalType:"struct IAccountPermissions.SignerPermissionRequest",components:[{name:"signer",type:"address",internalType:"address"},{name:"isAdmin",type:"uint8",internalType:"uint8"},{name:"approvedTargets",type:"address[]",internalType:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"permissionStartTimestamp",type:"uint128",internalType:"uint128"},{name:"permissionEndTimestamp",type:"uint128",internalType:"uint128"},{name:"reqValidityStartTimestamp",type:"uint128",internalType:"uint128"},{name:"reqValidityEndTimestamp",type:"uint128",internalType:"uint128"},{name:"uid",type:"bytes32",internalType:"bytes32"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"success",type:"bool",internalType:"bool"},{name:"signer",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"withdrawDepositTo",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"AdminUpdated",inputs:[{name:"signer",type:"address",indexed:!0,internalType:"address"},{name:"isAdmin",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"ContractURIUpdated",inputs:[{name:"prevURI",type:"string",indexed:!1,internalType:"string"},{name:"newURI",type:"string",indexed:!1,internalType:"string"}],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint8",indexed:!1,internalType:"uint8"}],anonymous:!1},{type:"event",name:"SignerPermissionsUpdated",inputs:[{name:"authorizingSigner",type:"address",indexed:!0,internalType:"address"},{name:"targetSigner",type:"address",indexed:!0,internalType:"address"},{name:"permissions",type:"tuple",indexed:!1,internalType:"struct IAccountPermissions.SignerPermissionRequest",components:[{name:"signer",type:"address",internalType:"address"},{name:"isAdmin",type:"uint8",internalType:"uint8"},{name:"approvedTargets",type:"address[]",internalType:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256",internalType:"uint256"},{name:"permissionStartTimestamp",type:"uint128",internalType:"uint128"},{name:"permissionEndTimestamp",type:"uint128",internalType:"uint128"},{name:"reqValidityStartTimestamp",type:"uint128",internalType:"uint128"},{name:"reqValidityEndTimestamp",type:"uint128",internalType:"uint128"},{name:"uid",type:"bytes32",internalType:"bytes32"}]}],anonymous:!1}];async function isZkSyncChain(vn,fn,En){const _i=(await getChainProvider(vn,{clientId:fn,secretKey:En}).getNetwork()).chainId;return _i===324||_i===300||_i===302}class BloctoWallet extends AbstractClientWallet{constructor(fn){fn!=null&&fn.chain&&fn.clientId&&(fn.chain=updateChainRPCs(fn.chain,fn.clientId)),super(BloctoWallet.id,fn),_defineProperty(this,"name","Blocto")}async initConnector(){var Cn,_i,An;const{BloctoConnector:fn}=await __vitePreload(async()=>{const{BloctoConnector:ba}=await import("./thirdweb-dev-wallets-evm-connectors-blocto.browser.esm-DiT_fRV9.js");return{BloctoConnector:ba}},[]),En=new fn({chains:this.chains,options:{appId:(Cn=this.options)==null?void 0:Cn.appId,chainId:(An=(_i=this.options)==null?void 0:_i.chain)==null?void 0:An.chainId}});return this.connector=new WagmiAdapter(En),this.connector}async getConnector(){return this.connector?Promise.resolve(this.connector):await this.initConnector()}}_defineProperty(BloctoWallet,"id",walletIds.blocto);_defineProperty(BloctoWallet,"meta",{name:"Blocto",iconURL:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzIyMzNfMjM4NykiPgo8cmVjdCB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHJ4PSIxMiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTMyLjkwMjggMTguMzA2M0MyOC4zOTExIDE4LjMwNjMgMjMuOTg3MyAyMC4wNDU5IDIwLjY5NTIgMjMuMTMxOUMxNy4wODQzIDI2LjUxNzYgMTQuNzk5MiAzMS41MTc3IDEzLjQ4OTMgMzYuMjIxMkMxMi42MzE0IDM5LjI5OTIgMTIuMjAxNiA0Mi40OTE1IDEyLjIwMTYgNDUuNjg1M0MxMi4yMDE2IDQ2LjY1MTEgMTIuMjQxMiA0Ny42MDg5IDEyLjMxNzQgNDguNTU1NkMxMi40MTA5IDQ5LjcwNjkgMTMuNTMyMSA1MC41MDQ2IDE0LjY0ODUgNTAuMjAzM0MxNS42MjIyIDQ5Ljk0MTYgMTYuNjQ2NiA0OS44MDA1IDE3LjcwMjggNDkuODAwNUMxOS44NzIyIDQ5LjgwMDUgMjEuOTA1MiA1MC4zOTA0IDIzLjY0OCA1MS40MjEyQzIzLjY5MDggNTEuNDQ2NiAyMy43MzIgNTEuNDcxOSAyMy43NzQ4IDUxLjQ5NTdDMjYuNjA3MSA1My4xODQ2IDI5Ljk0ODQgNTQuMTEyMyAzMy41MTE3IDUzLjk5MzRDNDIuODA2MiA1My42ODU3IDUwLjM5OSA0Ni4xMjMgNTAuNzQxNiAzNi44MzAxQzUxLjExNTggMjYuNjYzNSA0Mi45ODY5IDE4LjMwNDcgMzIuOTA0NCAxOC4zMDQ3TDMyLjkwMjggMTguMzA2M1pNMzIuOTAyOCA0NC4zMTJDMjguMzk3NSA0NC4zMTIgMjQuNzQ1NCA0MC42NTk5IDI0Ljc0NTQgMzYuMTU2MkMyNC43NDU0IDMxLjY1MjUgMjguMzk3NSAyNy45OTg3IDMyLjkwMjggMjcuOTk4N0MzNy40MDgxIDI3Ljk5ODcgNDEuMDYwMiAzMS42NTA5IDQxLjA2MDIgMzYuMTU2MkM0MS4wNjAyIDQwLjY2MTQgMzcuNDA4MSA0NC4zMTIgMzIuOTAyOCA0NC4zMTJaIiBmaWxsPSIjMTRBQUZGIi8+CjxwYXRoIGQ9Ik0yNS41NjM2IDEyLjY4MjZDMjUuNTYzNiAxNS4wMzQ0IDI0LjMzMTUgMTcuMjE2NCAyMi4zMDggMTguNDE1M0MyMS4wMzc3IDE5LjE2ODYgMTkuODQ2OCAyMC4wNTgyIDE4Ljc2ODQgMjEuMDcxNUMxNi4zNzU1IDIzLjMxMzkgMTQuNTg5OCAyNi4wNjUzIDEzLjI2NzMgMjguNzkyOUMxMy4wMDcyIDI5LjMzMDQgMTIuMiAyOS4xNDAyIDEyLjIgMjguNTQyM1YxMi42ODI2QzEyLjIgOC45OTI0MiAxNS4xOTI0IDYgMTguODgyNiA2QzIyLjU3MjggNiAyNS41NjUyIDguOTkyNDIgMjUuNTY1MiAxMi42ODI2SDI1LjU2MzZaIiBmaWxsPSIjMDA3NUZGIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMjIzM18yMzg3Ij4KPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=",urls:{android:"https://play.google.com/store/apps/details?id=com.portto.blocto",ios:"https://apps.apple.com/app/blocto/id1481181682"}});let EmbeddedWallet$1=class Yl extends AbstractClientWallet{static async sendVerificationEmail(fn){return new Yl({chain:c1,clientId:fn.clientId}).sendVerificationEmail({email:fn.email})}static async sendVerificationSms(fn){return new Yl({chain:c1,clientId:fn.clientId}).sendVerificationSms({phoneNumber:fn.phoneNumber})}get walletName(){return"Embedded Wallet"}constructor(fn){super(Yl.id,{...fn});try{this.chain={...fn.chain,rpc:getValidChainRPCs(fn.chain,fn.clientId)}}catch{this.chain=fn.chain}}async getConnector(){var fn,En;if(!this.connector){const{EmbeddedWalletConnector:Cn}=await __vitePreload(async()=>{const{EmbeddedWalletConnector:_i}=await import("./thirdweb-dev-wallets-evm-connectors-embedded-wallet.browser.esm-CjHp88xx.js");return{EmbeddedWalletConnector:_i}},[]);this.connector=new Cn({clientId:((fn=this.options)==null?void 0:fn.clientId)??"",chain:this.chain,chains:this.chains,onAuthSuccess:(En=this.options)==null?void 0:En.onAuthSuccess})}return this.connector}autoConnect(fn){if(!fn)throw new Error("Can't autoconnect embedded wallet");return this.connect(fn)}getConnectParams(){const fn=super.getConnectParams();if(fn)return{chainId:fn.chainId,authResult:{user:fn.authResult.user}}}async getEmail(){return(await this.getConnector()).getEmail()}async getPhoneNumber(){return(await this.getConnector()).getPhoneNumber()}async getEmbeddedWalletSDK(){return(await this.getConnector()).getEmbeddedWalletSDK()}async getRecoveryInformation(){return(await this.getConnector()).getRecoveryInformation()}async sendVerificationEmail(fn){const{email:En}=fn;return(await this.getConnector()).sendVerificationEmail({email:En})}async sendVerificationSms(fn){const{phoneNumber:En}=fn;return(await this.getConnector()).sendVerificationSms({phoneNumber:En})}async authenticate(fn){const Cn=(await this.getConnector()).authenticate(fn);try{await this.walletStorage.setItem(LAST_USED_AUTH_STRATEGY,fn.strategy)}catch{}return Cn}async getLastUsedAuthStrategy(){try{return await this.walletStorage.getItem(LAST_USED_AUTH_STRATEGY)}catch{return null}}connect(fn){return super.connect(fn)}};_defineProperty(EmbeddedWallet$1,"id",walletIds.embeddedWallet);_defineProperty(EmbeddedWallet$1,"meta",{name:"Embedded Wallet",iconURL:"ipfs://QmNx2evQa6tcQs9VTd3YaDm31ckfStvgRGKFGELahUmrbV/emailIcon.svg"});const LAST_USED_AUTH_STRATEGY="lastUsedAuthStrategy";function assertWindowEthereum(vn){return typeof vn<"u"&&!!vn&&"ethereum"in vn&&!!vn.ethereum}function getInjectedMetamaskProvider(){var fn;function vn(En){if(En!=null&&En.isMetaMask&&!(En.isBraveWallet&&!En._events&&!En._state)&&!En.isRainbow&&!En.isPhantom&&!En.isAvalanche&&!En.isBitKeep&&!En.isMathWallet&&!En.isZerion&&!En.isKuCoinWallet&&!En.isPortal&&!En.isTokenPocket&&!En.isTokenary&&!En.isRabbyWallet&&!En.isImToken)return En}if(assertWindowEthereum(globalThis.window))return(fn=globalThis.window.ethereum)!=null&&fn.providers?globalThis.window.ethereum.providers.find(vn):vn(globalThis.window.ethereum)}class MetaMaskWallet extends AbstractClientWallet{get walletName(){return"MetaMask"}constructor(fn){super(MetaMaskWallet.id,fn),this.isInjected=!!getInjectedMetamaskProvider()}async getConnector(){var fn,En,Cn;if(!this.connector)if(this.isInjected){const{MetaMaskConnector:_i}=await __vitePreload(async()=>{const{MetaMaskConnector:ba}=await import("./thirdweb-dev-wallets-evm-connectors-metamask.browser.esm-B4lpWvo7.js");return{MetaMaskConnector:ba}},__vite__mapDeps([39,40])),An=new _i({chains:this.chains,connectorStorage:this.walletStorage,options:{shimDisconnect:!0}});this.metamaskConnector=An,this.connector=new WagmiAdapter(An)}else{const{WalletConnectConnector:_i}=await __vitePreload(async()=>{const{WalletConnectConnector:ba}=await import("./thirdweb-dev-wallets-evm-connectors-wallet-connect.browser.esm-Bh9awaD4.js");return{WalletConnectConnector:ba}},[]),An=new _i({chains:this.chains,options:{projectId:((fn=this.options)==null?void 0:fn.projectId)||TW_WC_PROJECT_ID$1,storage:this.walletStorage,qrcode:(En=this.options)==null?void 0:En.qrcode,dappMetadata:this.dappMetadata,qrModalOptions:(Cn=this.options)==null?void 0:Cn.qrModalOptions}});An.getProvider().then(ba=>{ba.signer.client.on("session_request_sent",()=>{this.emit("wc_session_request_sent")})}),this.walletConnectConnector=An,this.connector=new WagmiAdapter(An)}return this.connector}async connectWithQrCode(fn){await this.getConnector();const En=this.walletConnectConnector;if(!En)throw new Error("WalletConnect connector not found");(await En.getProvider()).on("display_uri",_i=>{fn.onQrCodeUri(_i)}),this.connect({chainId:fn.chainId}).then(fn.onConnected)}async switchAccount(){if(!this.metamaskConnector)throw new Error("Can not switch Account");await this.metamaskConnector.switchAccount()}}_defineProperty(MetaMaskWallet,"meta",{name:"MetaMask",iconURL:"ipfs://QmZZHcw7zcXursywnLDAyY6Hfxzqop5GKgwoq8NB9jjrkN/metamask.svg",urls:{chrome:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",android:"https://play.google.com/store/apps/details?id=io.metamask",ios:"https://apps.apple.com/us/app/metamask-blockchain-wallet/id1438144202"}});_defineProperty(MetaMaskWallet,"id",walletIds.metamask);function getInjectedXDEFIProvider(){if(globalThis.window&&globalThis.window.xfi&&globalThis.window.xfi.ethereum)return globalThis.window.xfi.ethereum}function getInjectedOKXProvider(){if(assertWindowEthereum(globalThis.window)&&globalThis.window.ethereum&&window.okxwallet)return window.okxwallet}class OKXWallet extends AbstractClientWallet{get walletName(){return"OKX"}constructor(fn){super(OKXWallet.id,fn),this.isInjected=!!getInjectedOKXProvider()}async getConnector(){var fn,En,Cn;if(!this.connector)if(this.isInjected){const{OKXConnector:_i}=await __vitePreload(async()=>{const{OKXConnector:An}=await import("./thirdweb-dev-wallets-evm-connectors-okx.browser.esm-BXNf21HZ.js");return{OKXConnector:An}},__vite__mapDeps([41,40]));this.OKXConnector=new _i({chains:this.chains,connectorStorage:this.walletStorage,options:{shimDisconnect:!0}}),this.connector=new WagmiAdapter(this.OKXConnector)}else{const{WalletConnectConnector:_i}=await __vitePreload(async()=>{const{WalletConnectConnector:ba}=await import("./thirdweb-dev-wallets-evm-connectors-wallet-connect.browser.esm-Bh9awaD4.js");return{WalletConnectConnector:ba}},[]),An=new _i({chains:this.chains,options:{projectId:((fn=this.options)==null?void 0:fn.projectId)||TW_WC_PROJECT_ID$1,storage:this.walletStorage,qrcode:(En=this.options)==null?void 0:En.qrcode,dappMetadata:this.dappMetadata,qrModalOptions:(Cn=this.options)==null?void 0:Cn.qrModalOptions}});An.getProvider().then(ba=>{ba.signer.client.on("session_request_sent",()=>{this.emit("wc_session_request_sent")})}),this.walletConnectConnector=An,this.connector=new WagmiAdapter(An)}return this.connector}async connectWithQrCode(fn){await this.getConnector();const En=this.walletConnectConnector;if(!En)throw new Error("WalletConnect connector not found");(await En.getProvider()).on("display_uri",_i=>{fn.onQrCodeUri(_i)}),this.connect({chainId:fn.chainId}).then(fn.onConnected)}}_defineProperty(OKXWallet,"id",walletIds.okx);function getInjectedCoreWalletProvider(){if(assertWindowEthereum(globalThis.window)&&globalThis.window.ethereum&&window.avalanche)return window.avalanche}class CoreWallet extends AbstractClientWallet{get walletName(){return"Core wallet"}constructor(fn){super(CoreWallet.id,fn),this.isInjected=!!getInjectedCoreWalletProvider()}async getConnector(){var fn,En,Cn;if(!this.connector)if(this.isInjected){const{CoreWalletConnector:_i}=await __vitePreload(async()=>{const{CoreWalletConnector:An}=await import("./thirdweb-dev-wallets-evm-connectors-core-wallet.browser.esm-C3oYhOMR.js");return{CoreWalletConnector:An}},__vite__mapDeps([42,40]));this.CoreWalletConnector=new _i({chains:this.chains,connectorStorage:this.walletStorage,options:{shimDisconnect:!0}}),this.connector=new WagmiAdapter(this.CoreWalletConnector)}else{const{WalletConnectConnector:_i}=await __vitePreload(async()=>{const{WalletConnectConnector:ba}=await import("./thirdweb-dev-wallets-evm-connectors-wallet-connect.browser.esm-Bh9awaD4.js");return{WalletConnectConnector:ba}},[]),An=new _i({chains:this.chains,options:{projectId:((fn=this.options)==null?void 0:fn.projectId)||TW_WC_PROJECT_ID$1,storage:this.walletStorage,qrcode:(En=this.options)==null?void 0:En.qrcode,dappMetadata:this.dappMetadata,qrModalOptions:(Cn=this.options)==null?void 0:Cn.qrModalOptions}});An.getProvider().then(ba=>{ba.signer.client.on("session_request_sent",()=>{this.emit("wc_session_request_sent")})}),this.walletConnectConnector=An,this.connector=new WagmiAdapter(An)}return this.connector}async connectWithQrCode(fn){await this.getConnector();const En=this.walletConnectConnector;if(!En)throw new Error("WalletConnect connector not found");(await En.getProvider()).on("display_uri",_i=>{fn.onQrCodeUri(_i)}),this.connect({chainId:fn.chainId}).then(fn.onConnected)}}_defineProperty(CoreWallet,"id",walletIds.coreWallet);function getInjectedOneKeyProvider(){if(assertWindowEthereum(globalThis.window)&&globalThis.window.$onekey&&globalThis.window.$onekey.ethereum)return globalThis.window.$onekey.ethereum}class OneKeyWallet extends AbstractClientWallet{get walletName(){return"OneKey wallet"}constructor(fn){super(OneKeyWallet.id,fn),this.isInjected=!!getInjectedOneKeyProvider()}async getConnector(){var fn,En,Cn;if(!this.connector)if(this.isInjected){const{OneKeyConnector:_i}=await __vitePreload(async()=>{const{OneKeyConnector:An}=await import("./thirdweb-dev-wallets-evm-connectors-onekey.browser.esm-hmumVVlu.js");return{OneKeyConnector:An}},__vite__mapDeps([43,40]));this.OneKeyConnector=new _i({chains:this.chains,connectorStorage:this.walletStorage,options:{shimDisconnect:!0}}),this.connector=new WagmiAdapter(this.OneKeyConnector)}else{const{WalletConnectConnector:_i}=await __vitePreload(async()=>{const{WalletConnectConnector:ba}=await import("./thirdweb-dev-wallets-evm-connectors-wallet-connect.browser.esm-Bh9awaD4.js");return{WalletConnectConnector:ba}},[]),An=new _i({chains:this.chains,options:{projectId:((fn=this.options)==null?void 0:fn.projectId)||TW_WC_PROJECT_ID$1,storage:this.walletStorage,qrcode:(En=this.options)==null?void 0:En.qrcode,dappMetadata:this.dappMetadata,qrModalOptions:(Cn=this.options)==null?void 0:Cn.qrModalOptions}});An.getProvider().then(ba=>{ba.signer.client.on("session_request_sent",()=>{this.emit("wc_session_request_sent")})}),this.walletConnectConnector=An,this.connector=new WagmiAdapter(An)}return this.connector}async connectWithQrCode(fn){await this.getConnector();const En=this.walletConnectConnector;if(!En)throw new Error("WalletConnect connector not found");(await En.getProvider()).on("display_uri",_i=>{fn.onQrCodeUri(_i)}),this.connect({chainId:fn.chainId}).then(fn.onConnected)}}_defineProperty(OneKeyWallet,"id",walletIds.oneKey);function getInjectedCryptoDefiWalletProvider(){if(assertWindowEthereum(globalThis.window)&&globalThis.window.ethereum&&window.deficonnectProvider)return window.deficonnectProvider}class CryptoDefiWallet extends AbstractClientWallet{get walletName(){return"Crypto Defi wallet"}constructor(fn){super(CryptoDefiWallet.id,fn),this.isInjected=!!getInjectedCryptoDefiWalletProvider()}async getConnector(){var fn,En,Cn;if(!this.connector)if(this.isInjected){const{CryptoDefiWalletConnector:_i}=await __vitePreload(async()=>{const{CryptoDefiWalletConnector:An}=await import("./thirdweb-dev-wallets-evm-connectors-crypto-defi-wallet.browser.esm-BxCFTrAl.js");return{CryptoDefiWalletConnector:An}},__vite__mapDeps([44,40]));this.CryptoDefiWalletConnector=new _i({chains:this.chains,connectorStorage:this.walletStorage,options:{shimDisconnect:!0}}),this.connector=new WagmiAdapter(this.CryptoDefiWalletConnector)}else{const{WalletConnectConnector:_i}=await __vitePreload(async()=>{const{WalletConnectConnector:ba}=await import("./thirdweb-dev-wallets-evm-connectors-wallet-connect.browser.esm-Bh9awaD4.js");return{WalletConnectConnector:ba}},[]),An=new _i({chains:this.chains,options:{projectId:((fn=this.options)==null?void 0:fn.projectId)||TW_WC_PROJECT_ID$1,storage:this.walletStorage,qrcode:(En=this.options)==null?void 0:En.qrcode,dappMetadata:this.dappMetadata,qrModalOptions:(Cn=this.options)==null?void 0:Cn.qrModalOptions}});An.getProvider().then(ba=>{ba.signer.client.on("session_request_sent",()=>{this.emit("wc_session_request_sent")})}),this.walletConnectConnector=An,this.connector=new WagmiAdapter(An)}return this.connector}async connectWithQrCode(fn){await this.getConnector();const En=this.walletConnectConnector;if(!En)throw new Error("WalletConnect connector not found");(await En.getProvider()).on("display_uri",_i=>{fn.onQrCodeUri(_i)}),this.connect({chainId:fn.chainId}).then(fn.onConnected)}}_defineProperty(CryptoDefiWallet,"id",walletIds.cryptoDefiWallet);function getInjectedRabbyProvider(){if(assertWindowEthereum(globalThis.window)&&globalThis.window.ethereum&&window.rabby)return window.rabby}class RabbyWallet extends AbstractClientWallet{get walletName(){return"Rabby wallet"}constructor(fn){super(RabbyWallet.id,fn),this.isInjected=!!getInjectedRabbyProvider()}async getConnector(){var fn,En,Cn;if(!this.connector)if(this.isInjected){const{RabbyConnector:_i}=await __vitePreload(async()=>{const{RabbyConnector:An}=await import("./thirdweb-dev-wallets-evm-connectors-rabby.browser.esm-BAYckRGW.js");return{RabbyConnector:An}},__vite__mapDeps([45,40]));this.RabbyConnector=new _i({chains:this.chains,connectorStorage:this.walletStorage,options:{shimDisconnect:!0}}),this.connector=new WagmiAdapter(this.RabbyConnector)}else{const{WalletConnectConnector:_i}=await __vitePreload(async()=>{const{WalletConnectConnector:ba}=await import("./thirdweb-dev-wallets-evm-connectors-wallet-connect.browser.esm-Bh9awaD4.js");return{WalletConnectConnector:ba}},[]),An=new _i({chains:this.chains,options:{projectId:((fn=this.options)==null?void 0:fn.projectId)||TW_WC_PROJECT_ID$1,storage:this.walletStorage,qrcode:(En=this.options)==null?void 0:En.qrcode,dappMetadata:this.dappMetadata,qrModalOptions:(Cn=this.options)==null?void 0:Cn.qrModalOptions}});An.getProvider().then(ba=>{ba.signer.client.on("session_request_sent",()=>{this.emit("wc_session_request_sent")})}),this.walletConnectConnector=An,this.connector=new WagmiAdapter(An)}return this.connector}async connectWithQrCode(fn){await this.getConnector();const En=this.walletConnectConnector;if(!En)throw new Error("WalletConnect connector not found");(await En.getProvider()).on("display_uri",_i=>{fn.onQrCodeUri(_i)}),this.connect({chainId:fn.chainId}).then(fn.onConnected)}}_defineProperty(RabbyWallet,"id",walletIds.rabby);function getInjectedCoin98Provider(){if(assertWindowEthereum(globalThis.window)&&window.coin98)return window.ethereum}class Coin98Wallet extends AbstractClientWallet{get walletName(){return"Coin98 wallet"}constructor(fn){super(Coin98Wallet.id,fn),this.isInjected=!!getInjectedCoin98Provider()}async getConnector(){var fn,En,Cn;if(!this.connector)if(this.isInjected){const{Coin98Connector:_i}=await __vitePreload(async()=>{const{Coin98Connector:An}=await import("./thirdweb-dev-wallets-evm-connectors-coin98.browser.esm-DnsUiQEj.js");return{Coin98Connector:An}},__vite__mapDeps([46,40]));this.Coin98Connector=new _i({chains:this.chains,connectorStorage:this.walletStorage,options:{shimDisconnect:!0}}),this.connector=new WagmiAdapter(this.Coin98Connector)}else{const{WalletConnectConnector:_i}=await __vitePreload(async()=>{const{WalletConnectConnector:ba}=await import("./thirdweb-dev-wallets-evm-connectors-wallet-connect.browser.esm-Bh9awaD4.js");return{WalletConnectConnector:ba}},[]),An=new _i({chains:this.chains,options:{projectId:((fn=this.options)==null?void 0:fn.projectId)||TW_WC_PROJECT_ID$1,storage:this.walletStorage,qrcode:(En=this.options)==null?void 0:En.qrcode,dappMetadata:this.dappMetadata,qrModalOptions:(Cn=this.options)==null?void 0:Cn.qrModalOptions}});An.getProvider().then(ba=>{ba.signer.client.on("session_request_sent",()=>{this.emit("wc_session_request_sent")})}),this.walletConnectConnector=An,this.connector=new WagmiAdapter(An)}return this.connector}async connectWithQrCode(fn){await this.getConnector();const En=this.walletConnectConnector;if(!En)throw new Error("WalletConnect connector not found");(await En.getProvider()).on("display_uri",_i=>{fn.onQrCodeUri(_i)}),this.connect({chainId:fn.chainId}).then(fn.onConnected)}}_defineProperty(Coin98Wallet,"id",walletIds.coin98);function getInjectedMagicEdenProvider(){if(globalThis.window&&globalThis.window.magicEden&&globalThis.window.magicEden.ethereum)return globalThis.window.magicEden.ethereum}function getInjectedPhantomProvider(){var fn;const vn=(fn=window.phantom)==null?void 0:fn.ethereum;if(vn!=null&&vn.isPhantom)return vn}function getInjectedRainbowProvider(){var fn;function vn(En){if(En!=null&&En.isRainbow&&!(En.isBraveWallet&&!En._events&&!En._state)&&!En.isPhantom&&!En.isAvalanche&&!En.isBitKeep&&!En.isMathWallet&&!En.isZerion&&!En.isKuCoinWallet&&!En.isPortal&&!En.isTokenPocket&&!En.isTokenary)return En}if(assertWindowEthereum(globalThis.window))return(fn=globalThis.window.ethereum)!=null&&fn.providers?globalThis.window.ethereum.providers.find(vn):vn(globalThis.window.ethereum)}function getInjectedCoinbaseProvider(){var fn;function vn(En){if(!!(En!=null&&En.isCoinbaseWallet)||En&&"overrideIsMetaMask"in En&&"providerMap"in En&&En.providerMap instanceof Map&&En.providerMap.has("CoinbaseWallet"))return En}if(assertWindowEthereum(globalThis.window))return(fn=globalThis.window.ethereum)!=null&&fn.providers?globalThis.window.ethereum.providers.find(vn):vn(globalThis.window.ethereum)}class PaperWallet extends AbstractClientWallet{get walletName(){return"Paper Wallet"}constructor(fn){var En;super(PaperWallet.id,{...fn});try{this.chain={...fn.chain,rpc:getValidChainRPCs(fn.chain,fn.clientId)}}catch{this.chain=fn.chain}if(fn.paperClientId&&fn.paperClientId==="uninitialized"){this.paperClientId="00000000-0000-0000-0000-000000000000";return}if(fn.advancedOptions&&((En=fn.advancedOptions)==null?void 0:En.recoveryShareManagement)==="USER_MANAGED"&&(fn.paperClientId&&!this.isClientIdLegacyPaper(fn.paperClientId)||!fn.paperClientId&&fn.clientId&&!this.isClientIdLegacyPaper(fn.clientId)))throw new Error('RecoveryShareManagement option "USER_MANAGED" is not supported with thirdweb client ID');if(!fn.clientId&&!fn.paperClientId)throw new Error("clientId or paperClientId is required");if(fn.paperClientId&&!this.isClientIdLegacyPaper(fn.paperClientId))throw new Error("paperClientId must be a legacy paper client ID");if(fn.clientId&&this.isClientIdLegacyPaper(fn.clientId))throw new Error("clientId must be a thirdweb client ID");this.paperClientId=fn.paperClientId??fn.clientId,this.onAuthSuccess=fn.onAuthSuccess}isClientIdLegacyPaper(fn){return fn.indexOf("-")>0&&fn.length===36}async getConnector(){var fn,En,Cn;if(!this.connector){const{PaperWalletConnector:_i}=await __vitePreload(async()=>{const{PaperWalletConnector:An}=await import("./thirdweb-dev-wallets-evm-connectors-paper.browser.esm-DuQr8a9T.js");return{PaperWalletConnector:An}},[]);this.connector=new _i({clientId:this.paperClientId,chain:this.chain,chains:this.chains,onAuthSuccess:this.onAuthSuccess,advancedOptions:{recoveryShareManagement:(En=(fn=this.options)==null?void 0:fn.advancedOptions)==null?void 0:En.recoveryShareManagement},styles:(Cn=this.options)==null?void 0:Cn.styles})}return this.connector}getConnectParams(){const fn=super.getConnectParams();if(fn)return typeof fn.googleLogin=="object"?{...fn,googleLogin:!0}:fn}async getEmail(){return(await this.getConnector()).getEmail()}async getPaperSDK(){return(await this.getConnector()).getPaperSDK()}}_defineProperty(PaperWallet,"id",walletIds.paper);_defineProperty(PaperWallet,"meta",{name:"Paper Wallet",iconURL:"ipfs://QmNrLXtPoFrh4yjZbXui39zUMozS1oetpgU8dvZhFAxfRa/paper-logo-icon.svg"});window.Buffer=Buffer$1$1;class CoinbaseWallet extends AbstractClientWallet{get walletName(){return"Coinbase Wallet"}constructor(fn){super(CoinbaseWallet.id,fn),this.headlessMode=(fn==null?void 0:fn.headlessMode)||!1,this.theme=fn!=null&&fn.theme||this.dappMetadata.isDarkMode===!1?"light":"dark"}async getConnector(){if(!this.connector){const{CoinbaseWalletConnector:fn}=await __vitePreload(async()=>{const{CoinbaseWalletConnector:Cn}=await import("./thirdweb-dev-wallets-evm-connectors-coinbase-wallet.browser.esm-CR6PYf--.js");return{CoinbaseWalletConnector:Cn}},[]),En=new fn({chains:this.chains,options:{appName:this.dappMetadata.name,reloadOnDisconnect:!1,darkMode:this.theme==="dark",headlessMode:this.headlessMode}});En.on("connect",()=>{}),this.coinbaseConnector=En,this.connector=new WagmiAdapter(En)}return this.connector}async getQrUrl(){if(await this.getConnector(),!this.coinbaseConnector)throw new Error("Coinbase connector not initialized");return this.coinbaseConnector.getQrUrl()}}_defineProperty(CoinbaseWallet,"meta",{iconURL:"ipfs://QmcJBHopbwfJcLqJpX2xEufSS84aLbF7bHavYhaXUcrLaH/coinbase.svg",name:"Coinbase Wallet",urls:{chrome:"https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",android:"https://play.google.com/store/apps/details?id=org.toshi",ios:"https://apps.apple.com/us/app/coinbase-wallet-nfts-crypto/id1278383455"}});_defineProperty(CoinbaseWallet,"id",walletIds.coinbase);class FrameWallet extends AbstractClientWallet{get walletName(){return"Frame Wallet"}constructor(fn){super(FrameWallet.id,fn)}async getConnector(){if(!this.connector){const{FrameConnector:fn}=await __vitePreload(async()=>{const{FrameConnector:En}=await import("./thirdweb-dev-wallets-evm-connectors-frame.browser.esm-nFiwavmQ.js");return{FrameConnector:En}},[]);this.connector=new WagmiAdapter(new fn({chains:this.chains,connectorStorage:this.walletStorage,options:{shimDisconnect:!0}}))}return this.connector}}_defineProperty(FrameWallet,"id",walletIds.frame);class ImTokenWallet extends AbstractClientWallet{get walletName(){return"imToken"}constructor(fn){var En;super(ImTokenWallet.id,fn),assertWindowEthereum(globalThis.window)?this.isInjected=!!((En=globalThis.window.ethereum)!=null&&En.isImToken):this.isInjected=!1}async getConnector(){var fn,En,Cn;if(!this.connector)if(this.isInjected){const{ImTokenConnector:_i}=await __vitePreload(async()=>{const{ImTokenConnector:ba}=await import("./thirdweb-dev-wallets-evm-connectors-imtoken.browser.esm-n6BX-1bi.js");return{ImTokenConnector:ba}},__vite__mapDeps([47,40])),An=new _i({chains:this.chains,connectorStorage:this.walletStorage,options:{shimDisconnect:!0}});this.imtokenConnector=An,this.connector=new WagmiAdapter(An)}else{const{WalletConnectConnector:_i}=await __vitePreload(async()=>{const{WalletConnectConnector:ba}=await import("./thirdweb-dev-wallets-evm-connectors-wallet-connect.browser.esm-Bh9awaD4.js");return{WalletConnectConnector:ba}},[]),An=new _i({chains:this.chains,options:{projectId:((fn=this.options)==null?void 0:fn.projectId)||TW_WC_PROJECT_ID$1,storage:this.walletStorage,qrcode:(En=this.options)==null?void 0:En.qrcode,dappMetadata:this.dappMetadata,qrModalOptions:(Cn=this.options)==null?void 0:Cn.qrModalOptions}});An.getProvider().then(ba=>{ba.signer.client.on("session_request_sent",()=>{this.emit("wc_session_request_sent")})}),this.walletConnectConnector=An,this.connector=new WagmiAdapter(An)}return this.connector}async connectWithQrCode(fn){await this.getConnector();const En=this.walletConnectConnector;if(!En)throw new Error("WalletConnect connector not found");(await En.getProvider()).on("display_uri",_i=>{fn.onQrCodeUri(_i)}),this.connect({chainId:fn.chainId}).then(fn.onConnected)}}_defineProperty(ImTokenWallet,"meta",{name:"imToken",iconURL:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzIyMl80NzgzKSI+CjxtYXNrIGlkPSJtYXNrMF8yMjJfNDc4MyIgc3R5bGU9Im1hc2stdHlwZTpsdW1pbmFuY2UiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjAiIHk9IjAiIHdpZHRoPSI4MCIgaGVpZ2h0PSI4MCI+CjxwYXRoIGQ9Ik03OS44OTQ4IDBIMC4wNTA3ODEyVjgwSDc5Ljg5NDhWMFoiIGZpbGw9IndoaXRlIi8+CjwvbWFzaz4KPGcgbWFzaz0idXJsKCNtYXNrMF8yMjJfNDc4MykiPgo8cGF0aCBkPSJNNjIuMDI3NSAwSDE4LjA1MDlDOC4xNDYzOSAwIDAuMTE3MTg4IDguMDQ0ODggMC4xMTcxODggMTcuOTY4OFY2Mi4wMzEyQzAuMTE3MTg4IDcxLjk1NTEgOC4xNDYzOSA4MCAxOC4wNTA5IDgwSDYyLjAyNzVDNzEuOTMyIDgwIDc5Ljk2MTIgNzEuOTU1MSA3OS45NjEyIDYyLjAzMTJWMTcuOTY4OEM3OS45NjEyIDguMDQ0ODggNzEuOTMyIDAgNjIuMDI3NSAwWiIgZmlsbD0idXJsKCNwYWludDBfbGluZWFyXzIyMl80NzgzKSIvPgo8cGF0aCBkPSJNNjUuMDk4MSAyNC43MzNDNjYuNzU4NiA0Ny4yNjY3IDUyLjMwMjEgNTcuOTE3MiAzOS4zNDIzIDU5LjA1M0MyNy4yOTM1IDYwLjEwODcgMTUuOTUyIDUyLjY5MDggMTQuOTU3MSA0MS4yOTM2QzE0LjEzNjMgMzEuODc3NiAxOS45NDQ1IDI3Ljg2ODkgMjQuNTA4IDI3LjQ2OTRDMjkuMjAxNSAyNy4wNTcgMzMuMTQ1OCAzMC4zMDAxIDMzLjQ4NzkgMzQuMjI2OUMzMy44MTc1IDM4LjAwMiAzMS40NjY0IDM5LjcyMDUgMjkuODMxMyAzOS44NjM0QzI4LjUzODIgMzkuOTc3IDI2LjkxMTQgMzkuMTkwNSAyNi43NjQ1IDM3LjUwMTZDMjYuNjM4NSAzNi4wNTAzIDI3LjE4ODUgMzUuODUyNiAyNy4wNTQxIDM0LjMxMDlDMjYuODE0OSAzMS41NjYyIDI0LjQyNjEgMzEuMjQ2NiAyMy4xMTgzIDMxLjM2MDFDMjEuNTM1NyAzMS40OTkxIDE4LjY2NDEgMzMuMzQ5OCAxOS4wNjcgMzcuOTZDMTkuNDcyMiA0Mi42MTAxIDIzLjkyMjIgNDYuMjg0NSAyOS43NTU3IDQ1Ljc3MzRDMzYuMDUwOSA0NS4yMjIzIDQwLjQzMzcgNDAuMzExNCA0MC43NjM0IDMzLjQyMzRDNDAuNzYwMyAzMy4wNTg2IDQwLjgzNyAzMi42OTc1IDQwLjk4OCAzMi4zNjU1TDQwLjk5IDMyLjM1NzJDNDEuMDU3OCAzMi4yMTI4IDQxLjEzNzIgMzIuMDc0MiA0MS4yMjcyIDMxLjk0MjhDNDEuMzYxNiAzMS43NDA5IDQxLjUzMzggMzEuNTE4IDQxLjc1NjIgMzEuMjczOUM0MS43NTgzIDMxLjI2NzYgNDEuNzU4MyAzMS4yNjc2IDQxLjc2MjYgMzEuMjY3NkM0MS45MjQxIDMxLjA4NDcgNDIuMTE5NCAzMC44ODcgNDIuMzM5NyAzMC42NzQ1QzQ1LjA4OTcgMjguMDc1IDU0Ljk5MzEgMjEuOTQ0MiA2NC4zNTkyIDIzLjg4NTVDNjQuNTU3MyAyMy45MjggNjQuNzM2MSAyNC4wMzM0IDY0Ljg2OTMgMjQuMTg2MkM2NS4wMDI1IDI0LjMzOTEgNjUuMDgyNiAyNC41MzA4IDY1LjA5ODEgMjQuNzMzWiIgZmlsbD0id2hpdGUiLz4KPC9nPgo8L2c+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMjIyXzQ3ODMiIHgxPSI3My41MDA5IiB5MT0iNS4zMTI1IiB4Mj0iMi44NzI0MSIgeTI9Ijc3LjY3NDciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iIzExQzREMSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMwMDYyQUQiLz4KPC9saW5lYXJHcmFkaWVudD4KPGNsaXBQYXRoIGlkPSJjbGlwMF8yMjJfNDc4MyI+CjxyZWN0IHdpZHRoPSI4MCIgaGVpZ2h0PSI4MCIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4=",urls:{ios:"https://itunes.apple.com/us/app/imtoken2/id1384798940",android:"https://play.google.com/store/apps/details?id=im.token.app"}});_defineProperty(ImTokenWallet,"id",walletIds.imtoken);class InjectedWallet extends AbstractClientWallet{get walletName(){return"Injected Wallet"}constructor(fn){super(InjectedWallet.id,fn)}async getConnector(){if(!this.connector){const{InjectedConnector:fn}=await __vitePreload(async()=>{const{InjectedConnector:En}=await import("./thirdweb-dev-wallets-evm-connectors-injected.browser.esm-CnoFOd6w.js");return{InjectedConnector:En}},[]);this.connector=new WagmiAdapter(new fn({chains:this.chains,connectorStorage:this.walletStorage,options:{shimDisconnect:!0}}))}return this.connector}}_defineProperty(InjectedWallet,"id","injected");const STORAGE_KEY_WALLET_DATA="localWalletData";class LocalWallet extends AbstractClientWallet{get walletName(){return"Local Wallet"}constructor(fn){super(LocalWallet.id,fn),fn!=null&&fn.chain&&fn.clientId&&(fn.chain=updateChainRPCs(fn.chain,fn.clientId)),this.options=fn||{},this._storage=(fn==null?void 0:fn.storage)||createAsyncLocalStorage(walletIds.localWallet)}async getConnector(){if(!this.connector){const{LocalWalletConnector:fn}=await __vitePreload(async()=>{const{LocalWalletConnector:Cn}=await import("./thirdweb-dev-wallets-evm-connectors-local-wallet.browser.esm-1WOjdaOZ.js");return{LocalWalletConnector:Cn}},[]);if(!this.ethersWallet)throw new Error("wallet is not initialized");const En=(this.options.chain?[...defaultChains,this.options.chain]:defaultChains).map(Cn=>updateChainRPCs(Cn,this.options.clientId));this.connector=new fn({chain:this.options.chain||updateChainRPCs(c1,this.options.clientId),ethersWallet:this.ethersWallet,chains:this.chains||En,clientId:this.options.clientId,secretKey:this.options.secretKey})}return this.connector}async loadOrCreate(fn){await this.getSavedData(fn.storage)?await this.load(fn):(await this.generate(),await this.save(fn))}async generate(){if(this.ethersWallet)throw new Error("wallet is already initialized");const fn=randomBytes(32);return this.ethersWallet=new Wallet(fn),this.ethersWallet.address}async import(fn){if(this.ethersWallet)throw new Error("wallet is already initialized");if("encryptedJson"in fn)return this.ethersWallet=await Wallet.fromEncryptedJson(fn.encryptedJson,fn.password),this.ethersWallet.address;if("privateKey"in fn){if(!fn.encryption&&!isValidPrivateKey(fn.privateKey))throw new Error("invalid private key");const En=await getDecryptor(fn.encryption)(fn.privateKey);if(fn.encryption&&(En===""||!isValidPrivateKey(En)))throw new Error("invalid password");return this.ethersWallet=new Wallet(En),this.ethersWallet.address}if("mnemonic"in fn){if(!fn.encryption&&!isValidMnemonic(fn.mnemonic))throw new Error("invalid mnemonic");const En=await getDecryptor(fn.encryption)(fn.mnemonic);if(fn.encryption&&(En===""||!isValidMnemonic(En)))throw new Error("invalid password");return this.ethersWallet=Wallet.fromMnemonic(En),this.ethersWallet.address}throw new Error("invalid import strategy")}async load(fn){if(this.ethersWallet)throw new Error("wallet is already initialized");const En=await this.getSavedData(fn.storage);if(!En)throw new Error("No Saved wallet found in storage");if(En.strategy!==fn.strategy)throw new Error(`Saved wallet data is not ${fn.strategy}, it is ${En.strategy}`);if(fn.strategy==="encryptedJson")return this.import({encryptedJson:En.data,password:fn.password});if(En.isEncrypted&&!fn.encryption)throw new Error("Saved wallet data is encrypted, but no password is provided");if(!En.isEncrypted&&fn.encryption)throw new Error("Saved wallet data is not encrypted, but encryption config is provided");if(fn.strategy==="privateKey")return this.import({privateKey:En.data,encryption:fn.encryption});if(fn.strategy==="mnemonic")return this.import({mnemonic:En.data,encryption:fn.encryption});throw new Error("invalid load strategy")}async save(fn){const En=this.ethersWallet;if(!En)throw new Error("Wallet is not initialized");if(fn.strategy==="encryptedJson"){const Cn=await En.encrypt(fn.password,{scrypt:{N:1}});await this._saveData({address:En.address,data:Cn,strategy:"encryptedJson",isEncrypted:!0},fn.storage)}if(fn.strategy==="privateKey"){const Cn=await getEncryptor(fn.encryption)(En.privateKey);await this._saveData({address:En.address,data:Cn,strategy:"privateKey",isEncrypted:!!fn.encryption},fn.storage)}if(fn.strategy==="mnemonic"){if(!En.mnemonic)throw new Error("mnemonic can not be computed if wallet is created from a private key or generated using generate()");const Cn=await getEncryptor(fn.encryption)(En.mnemonic.phrase);await this._saveData({address:En.address,data:Cn,strategy:"mnemonic",isEncrypted:!!fn.encryption},fn.storage)}}async isSaved(){try{const fn=await this.getSavedData(),En=await this.getAddress();return(fn==null?void 0:fn.address)===En}catch{return!1}}async deleteSaved(){await this._storage.removeItem(STORAGE_KEY_WALLET_DATA)}async export(fn){const En=this.ethersWallet;if(!En)throw new Error("Wallet is not initialized");if(fn.strategy==="encryptedJson")return En.encrypt(fn.password,{scrypt:{N:1}});if(fn.strategy==="privateKey")return getEncryptor(fn.encryption)(En.privateKey);if(fn.strategy==="mnemonic"){if(!En.mnemonic)throw new Error("mnemonic can not be computed if wallet is created from a private key or generated using generate()");return getEncryptor(fn.encryption)(En.mnemonic.phrase)}throw new Error("Invalid export strategy")}async getSavedData(fn){const En=fn||this._storage;try{const Cn=await En.getItem(STORAGE_KEY_WALLET_DATA);if(!Cn)return null;const _i=JSON.parse(Cn);return _i||null}catch{return null}}async _saveData(fn,En){await(En||this._storage).setItem(STORAGE_KEY_WALLET_DATA,JSON.stringify(fn))}async disconnect(){await super.disconnect(),this.ethersWallet=void 0}}_defineProperty(LocalWallet,"id",walletIds.localWallet);_defineProperty(LocalWallet,"meta",{name:"Local Wallet",iconURL:"ipfs://QmbQzSNGvmNYZzem9jZRuYeLe9K2W4pqbdnVUp7Y6edQ8Y/local-wallet.svg"});async function noop(vn){return vn}function getDecryptor(vn){return vn?fn=>(vn.decrypt||aesDecryptCompat)(fn,vn.password):noop}function getEncryptor(vn){return vn?fn=>(vn.encrypt||aesEncrypt)(fn,vn.password):noop}function isValidPrivateKey(vn){return!!vn.match(/^(0x)?[0-9a-f]{64}$/i)}class SignerWallet extends AbstractClientWallet{constructor(fn){super("signerWallet",fn),fn.clientId&&fn.chain&&(fn.chain=updateChainRPCs(fn.chain,fn.clientId)),this.options=fn,this.signer=fn.signer,this._storage=(fn==null?void 0:fn.storage)||createAsyncLocalStorage(walletIds.localWallet)}async getConnector(){if(!this.connector){const{SignerConnector:fn}=await __vitePreload(async()=>{const{SignerConnector:Cn}=await import("./thirdweb-dev-wallets-evm-connectors-signer.browser.esm-DE95DtnI.js");return{SignerConnector:Cn}},[]);this.signer||(this.signer=this.options.signer);const En=(this.options.chain?[...defaultChains,this.options.chain]:defaultChains).map(Cn=>updateChainRPCs(Cn,this.options.clientId));this.connector=new fn({chain:this.options.chain||updateChainRPCs(c1,this.options.clientId),signer:this.signer,chains:this.chains||En,clientId:this.options.clientId,secretKey:this.options.secretKey})}return this.connector}}class MagicLink extends AbstractClientWallet{get walletName(){return"Magic Link"}constructor(fn){super(MagicLink.id,fn),this.options=fn}async initializeConnector(){const{MagicAuthConnector:fn}=await __vitePreload(async()=>{const{MagicAuthConnector:Cn}=await import("./thirdweb-dev-wallets-evm-connectors-magic.browser.esm-DT2I8JxS.js");return{MagicAuthConnector:Cn}},[]),En=new fn({chains:this.chains,options:this.options});return this.magicConnector=En,this.connector=new WagmiAdapter(En),this.connector}async getConnector(){return this.connector?this.connector:await this.initializeConnector()}getMagic(){if(!this.magicConnector)throw new Error("Magic connector is not initialized");return this.magicConnector.getMagicSDK()}async autoConnect(fn){var _i;await this.initializeConnector(),await((_i=this.magicConnector)==null?void 0:_i.initializeMagicSDK(fn));const En=this.getMagic();if(new URL(window.location.href).searchParams.get("magic_credential"))try{this.oAuthRedirectResult=await En.oauth.getRedirectResult()}catch{}if(await En.user.isLoggedIn())return super.autoConnect(fn);throw new Error("Magic user is not logged in")}async disconnect(){return this.oAuthRedirectResult=void 0,await this.getMagic().user.logout(),super.disconnect()}async connect(fn){if("email"in fn&&this.options.emailLogin===!1)throw new Error("Email login is disabled");if("phoneNumber"in fn&&this.options.smsLogin===!1)throw new Error("SMS login is disabled");return super.connect(fn)}}_defineProperty(MagicLink,"meta",{iconURL:"ipfs://QmUMBFZGXxBpgDmZzZAHhbcCL5nYvZnVaYLTajsNjLcxMU/1-Icon_Magic_Color.svg",name:"Magic Link"});_defineProperty(MagicLink,"id",walletIds.magicLink);class XDEFIWallet extends AbstractClientWallet{get walletName(){return"XDEFI"}constructor(fn){super(XDEFIWallet.id,fn),this.isInjected=!!getInjectedXDEFIProvider()}async getConnector(){if(!this.connector){const{XDEFIConnector:fn}=await __vitePreload(async()=>{const{XDEFIConnector:Cn}=await import("./thirdweb-dev-wallets-evm-connectors-xdefi.browser.esm-rWjZgwYY.js");return{XDEFIConnector:Cn}},__vite__mapDeps([48,40])),En=new fn({chains:this.chains,connectorStorage:this.walletStorage,options:{shimDisconnect:!0}});this.connector=new WagmiAdapter(En)}return this.connector}}_defineProperty(XDEFIWallet,"id",walletIds.xdefi);class PhantomWallet extends AbstractClientWallet{get walletName(){return"Phantom"}constructor(fn){super(PhantomWallet.id,fn),this.isInjected=!!getInjectedPhantomProvider()}async getConnector(){if(!this.connector){const{PhantomConnector:fn}=await __vitePreload(async()=>{const{PhantomConnector:Cn}=await import("./thirdweb-dev-wallets-evm-connectors-phantom.browser.esm-Cyjmax0a.js");return{PhantomConnector:Cn}},__vite__mapDeps([49,40])),En=new fn({chains:this.chains,connectorStorage:this.walletStorage,options:{shimDisconnect:!0}});this.phantomConnector=En,this.connector=new WagmiAdapter(En)}return this.connector}}_defineProperty(PhantomWallet,"meta",{name:"Phantom",iconURL:"ipfs://bafybeibkpca5nwxpsjrtuxmz2ckb5lyc2sl2abg5f7dnvxku637vvffjti",urls:{chrome:"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa"}});_defineProperty(PhantomWallet,"id",walletIds.phantom);class RainbowWallet extends AbstractClientWallet{get walletName(){return"Rainbow Wallet"}constructor(fn){super(RainbowWallet.id,fn),this.isInjected=!!getInjectedRainbowProvider()}async getConnector(){var fn,En,Cn;if(!this.connector)if(this.isInjected){const{RainbowConnector:_i}=await __vitePreload(async()=>{const{RainbowConnector:ba}=await import("./thirdweb-dev-wallets-evm-connectors-rainbow.browser.esm-Y8FAsoMR.js");return{RainbowConnector:ba}},__vite__mapDeps([50,40])),An=new _i({chains:this.chains,connectorStorage:this.walletStorage,options:{shimDisconnect:!0}});this.rainbowConnector=An,this.connector=new WagmiAdapter(An)}else{const{WalletConnectConnector:_i}=await __vitePreload(async()=>{const{WalletConnectConnector:ba}=await import("./thirdweb-dev-wallets-evm-connectors-wallet-connect.browser.esm-Bh9awaD4.js");return{WalletConnectConnector:ba}},[]),An=new _i({chains:this.chains,options:{projectId:((fn=this.options)==null?void 0:fn.projectId)||TW_WC_PROJECT_ID$1,storage:this.walletStorage,qrcode:(En=this.options)==null?void 0:En.qrcode,dappMetadata:this.dappMetadata,qrModalOptions:(Cn=this.options)==null?void 0:Cn.qrModalOptions}});An.getProvider().then(ba=>{ba.signer.client.on("session_request_sent",()=>{this.emit("wc_session_request_sent")})}),this.walletConnectConnector=An,this.connector=new WagmiAdapter(An)}return this.connector}async connectWithQrCode(fn){await this.getConnector();const En=this.walletConnectConnector;if(!En)throw new Error("WalletConnect connector not found");(await En.getProvider()).on("display_uri",_i=>{fn.onQrCodeUri(_i)}),this.connect({chainId:fn.chainId}).then(fn.onConnected)}}_defineProperty(RainbowWallet,"meta",{name:"Rainbow Wallet",iconURL:"ipfs://QmSZn47p4DVVBfzvg9BAX2EqwnPxkT1YAE7rUnrtd9CybQ/rainbow-logo.png",urls:{chrome:"https://chrome.google.com/webstore/detail/rainbow/opfgelmcmbiajamepnmloijbpoleiama",android:"https://rnbwapp.com/e/Va41HWS6Oxb",ios:"https://rnbwapp.com/e/OeMdmkJ6Oxb"}});_defineProperty(RainbowWallet,"id",walletIds.rainbow);class SafeWallet extends AbstractClientWallet{get walletName(){return"Safe Wallet"}constructor(fn){super(SafeWallet.id,{...fn})}async getConnector(){if(!this.connector){const{SafeConnector:fn}=await __vitePreload(async()=>{const{SafeConnector:En}=await import("./thirdweb-dev-wallets-evm-connectors-safe.browser.esm-Dki-YDlt.js");return{SafeConnector:En}},__vite__mapDeps([51,37,52]));this.connector=new fn}return this.connector}getPersonalWallet(){var fn;return(fn=this.connector)==null?void 0:fn.personalWallet}autoConnect(fn){return this.connect(fn)}connect(fn){return super.connect(fn)}}_defineProperty(SafeWallet,"meta",{name:"Safe",iconURL:"ipfs://QmbbyxDDmmLQh8DzzeUR6X6B75bESsNUFmbdvS3ZsQ2pN1/SafeToken.svg"});_defineProperty(SafeWallet,"id",walletIds.safe);class SmartWallet extends AbstractClientWallet{get walletName(){return"Smart Wallet"}constructor(fn){if(fn.clientId&&typeof fn.chain=="object")try{fn.chain={...fn.chain,rpc:getValidChainRPCs(fn.chain,fn.clientId)}}catch{}super(SmartWallet.id,{...fn})}async getConnector(){if(!this.connector)if(this.options&&await isZkSyncChain(this.options.chain,this.options.clientId,this.options.secretKey)){const{ZkSyncConnector:fn}=await __vitePreload(async()=>{const{ZkSyncConnector:En}=await import("./zk-connector-fada2157.browser.esm-CPswknkD.js");return{ZkSyncConnector:En}},__vite__mapDeps([53,54]));this.connector=new fn(this.options)}else{const{SmartWalletConnector:fn}=await __vitePreload(async()=>{const{SmartWalletConnector:En}=await import("./thirdweb-dev-wallets-evm-connectors-smart-wallet.browser.esm-CXhMOh3y.js");return{SmartWalletConnector:En}},__vite__mapDeps([55,54]));this.connector=new fn(this.options)}return this.connector}getPersonalWallet(){var fn;return(fn=this.connector)==null?void 0:fn.personalWallet}async hasPermissionToExecute(fn){return(await this.getConnector()).hasPermissionToExecute(fn)}async send(fn,En){return(await this.getConnector()).send(fn,En)}async execute(fn,En){return(await this.getConnector()).execute(fn,En)}async sendBatch(fn,En){return(await this.getConnector()).sendBatch(fn,En)}async executeBatch(fn,En){return(await this.getConnector()).executeBatch(fn,En)}async sendRaw(fn,En){return(await this.getConnector()).sendRaw(fn,En)}async executeRaw(fn,En){return(await this.getConnector()).executeRaw(fn,En)}async estimate(fn,En){return(await this.getConnector()).estimate(fn,En)}async estimateBatch(fn,En){return(await this.getConnector()).estimateBatch(fn,En)}async estimateRaw(fn,En){return(await this.getConnector()).estimateRaw(fn,En)}async estimateBatchRaw(fn,En){return(await this.getConnector()).estimateBatchRaw(fn,En)}async sendBatchRaw(fn,En){return(await this.getConnector()).sendBatchRaw(fn,En)}async executeBatchRaw(fn,En){return(await this.getConnector()).executeBatchRaw(fn,En)}async deploy(fn){return(await this.getConnector()).deploy(fn)}async deployIfNeeded(fn){return(await this.getConnector()).deployIfNeeded(fn)}async isDeployed(){const fn=await this.getConnector();return fn.chainId&&await isZkSyncChain(fn.chainId)?!0:fn.isDeployed()}async createSessionKey(fn,En){return(await this.getConnector()).grantPermissions(fn,En)}async revokeSessionKey(fn){return(await this.getConnector()).revokePermissions(fn)}async addAdmin(fn){return(await this.getConnector()).addAdmin(fn)}async removeAdmin(fn){return(await this.getConnector()).removeAdmin(fn)}async getAllActiveSigners(){return(await this.getConnector()).getAllActiveSigners()}async getAccountContract(){return(await this.getConnector()).getAccountContract()}async getFactoryContract(){return(await this.getConnector()).getFactoryContract()}async verifySignature(fn,En,Cn,_i){var An,ba;try{const xa=hashMessage(fn),$a=arrayify(xa);if(recoverAddress($a,En)===Cn)return!0}catch{}if(_i!==void 0)try{return await checkContractWalletSignature(fn,En,Cn,_i||1,(An=this.options)==null?void 0:An.clientId,(ba=this.options)==null?void 0:ba.secretKey)}catch{}return!1}autoConnect(fn){return this.connect(fn)}connect(fn){return super.connect(fn)}}_defineProperty(SmartWallet,"meta",{name:"Smart Wallet",iconURL:"ipfs://QmeAJVqn17aDNQhjEU3kcWVZCFBrfta8LzaDGkS8Egdiyk/smart-wallet.svg"});_defineProperty(SmartWallet,"id",walletIds.smartWallet);class TrustWallet extends AbstractClientWallet{get walletName(){return"Trust Wallet"}constructor(fn){var En;super(TrustWallet.id,fn),assertWindowEthereum(globalThis.window)?this.isInjected=!!((En=globalThis.window.ethereum)!=null&&En.isTrust):this.isInjected=!1}async getConnector(){var fn,En,Cn;if(!this.connector)if(this.isInjected){const{TrustConnector:_i}=await __vitePreload(async()=>{const{TrustConnector:ba}=await import("./thirdweb-dev-wallets-evm-connectors-trust.browser.esm-uDdPKR5x.js");return{TrustConnector:ba}},__vite__mapDeps([56,40])),An=new _i({chains:this.chains,connectorStorage:this.walletStorage,options:{shimDisconnect:!0}});this.trustConnector=An,this.connector=new WagmiAdapter(An)}else{const{WalletConnectConnector:_i}=await __vitePreload(async()=>{const{WalletConnectConnector:ba}=await import("./thirdweb-dev-wallets-evm-connectors-wallet-connect.browser.esm-Bh9awaD4.js");return{WalletConnectConnector:ba}},[]),An=new _i({chains:this.chains,options:{projectId:((fn=this.options)==null?void 0:fn.projectId)||TW_WC_PROJECT_ID$1,storage:this.walletStorage,qrcode:(En=this.options)==null?void 0:En.qrcode,dappMetadata:this.dappMetadata,qrModalOptions:(Cn=this.options)==null?void 0:Cn.qrModalOptions}});An.getProvider().then(ba=>{ba.signer.client.on("session_request_sent",()=>{this.emit("wc_session_request_sent")})}),this.walletConnectConnector=An,this.connector=new WagmiAdapter(An)}return this.connector}async connectWithQrCode(fn){await this.getConnector();const En=this.walletConnectConnector;if(!En)throw new Error("WalletConnect connector not found");(await En.getProvider()).on("display_uri",_i=>{fn.onQrCodeUri(_i)}),this.connect({chainId:fn.chainId}).then(fn.onConnected)}}_defineProperty(TrustWallet,"meta",{name:"Trust Wallet",iconURL:"ipfs://QmNigQbXk7wKZwDcgN38Znj1ZZQ3JEG3DD6fUKLBU8SUTP/trust%20wallet.svg",urls:{chrome:"https://chrome.google.com/webstore/detail/trust-wallet/egjidjbpglichdcondbcbdnbeeppgdph",android:"https://play.google.com/store/apps/details?id=com.wallet.crypto.trustapp",ios:"https://apps.apple.com/us/app/trust-crypto-bitcoin-wallet/id1288339409"}});_defineProperty(TrustWallet,"id",walletIds.trust);class WalletConnect extends AbstractClientWallet{get walletName(){return"WalletConnect"}constructor(fn){super((fn==null?void 0:fn.walletId)||WalletConnect.id,fn),_defineProperty(this,"_maybeThrowError",En=>{if(En)throw En}),_defineProperty(this,"_onConnect",En=>{if(this._provider=En.provider,!this._provider)throw new Error("WalletConnect provider not found after connecting.")}),_defineProperty(this,"_onDisconnect",()=>{this._removeListeners()}),_defineProperty(this,"_onChange",async En=>{En.chain||En.account}),_defineProperty(this,"_onMessage",En=>{switch(En.type){case"display_uri":this.emit("display_uri",En.data);break}}),_defineProperty(this,"_onSessionRequestSent",()=>{this.emit("wc_session_request_sent")}),this.projectId=(fn==null?void 0:fn.projectId)||TW_WC_PROJECT_ID$1,this.qrcode=(fn==null?void 0:fn.qrcode)!==!1}async getConnector(){var fn;if(!this.connector){const{WalletConnectConnector:En}=await __vitePreload(async()=>{const{WalletConnectConnector:Cn}=await import("./thirdweb-dev-wallets-evm-connectors-wallet-connect.browser.esm-Bh9awaD4.js");return{WalletConnectConnector:Cn}},[]);this._walletConnectConnector=new En({chains:this.chains,options:{qrcode:this.qrcode,projectId:this.projectId,dappMetadata:this.dappMetadata,storage:this.walletStorage,qrModalOptions:(fn=this.options)==null?void 0:fn.qrModalOptions}}),this.connector=new WagmiAdapter(this._walletConnectConnector),this._provider=await this._walletConnectConnector.getProvider(),this._setupListeners()}return this.connector}_setupListeners(){var fn;this._walletConnectConnector&&(this._removeListeners(),this._walletConnectConnector.on("connect",this._onConnect),this._walletConnectConnector.on("disconnect",this._onDisconnect),this._walletConnectConnector.on("change",this._onChange),this._walletConnectConnector.on("message",this._onMessage),(fn=this._provider)==null||fn.signer.client.on("session_request_sent",this._onSessionRequestSent))}_removeListeners(){var fn;this._walletConnectConnector&&(this._walletConnectConnector.removeListener("connect",this._onConnect),this._walletConnectConnector.removeListener("disconnect",this._onDisconnect),this._walletConnectConnector.removeListener("change",this._onChange),this._walletConnectConnector.removeListener("message",this._onMessage),(fn=this._provider)==null||fn.signer.client.removeListener("session_request_sent",this._onSessionRequestSent))}async connectWithQrCode(fn){await this.getConnector();const En=this._walletConnectConnector;if(!En)throw new Error("WalletConnect connector not found");En.showWalletConnectModal=!1,(await En.getProvider()).on("display_uri",_i=>{fn.onQrCodeUri(_i)}),this.connect({chainId:fn.chainId}).then(fn.onConnected)}async connectWithModal(fn){await this.getConnector();const En=this._walletConnectConnector;if(!En)throw new Error("WalletConnect connector not found");En.showWalletConnectModal=!0,await En.initProvider(),await this.connect({chainId:fn==null?void 0:fn.chainId})}}_defineProperty(WalletConnect,"id",walletIds.walletConnect);_defineProperty(WalletConnect,"meta",{name:"WalletConnect",iconURL:"ipfs://QmX58KPRaTC9JYZ7KriuBzeoEaV2P9eZcA3qbFnTHZazKw/wallet-connect.svg"});class ZerionWallet extends AbstractClientWallet{get walletName(){return"Zerion Wallet"}constructor(fn){var En;super(ZerionWallet.id,fn),assertWindowEthereum(globalThis.window)?this.isInjected=!!((En=globalThis.window.ethereum)!=null&&En.isZerion):this.isInjected=!1}async getConnector(){var fn,En,Cn;if(!this.connector)if(this.isInjected){const{ZerionConnector:_i}=await __vitePreload(async()=>{const{ZerionConnector:ba}=await import("./thirdweb-dev-wallets-evm-connectors-zerion.browser.esm-qgsdlpyD.js");return{ZerionConnector:ba}},__vite__mapDeps([57,40])),An=new _i({chains:this.chains,connectorStorage:this.walletStorage,options:{shimDisconnect:!0}});this.zerionConnector=An,this.connector=new WagmiAdapter(An)}else{const{WalletConnectConnector:_i}=await __vitePreload(async()=>{const{WalletConnectConnector:ba}=await import("./thirdweb-dev-wallets-evm-connectors-wallet-connect.browser.esm-Bh9awaD4.js");return{WalletConnectConnector:ba}},[]),An=new _i({chains:this.chains,options:{projectId:((fn=this.options)==null?void 0:fn.projectId)||TW_WC_PROJECT_ID$1,storage:this.walletStorage,qrcode:(En=this.options)==null?void 0:En.qrcode,dappMetadata:this.dappMetadata,qrModalOptions:(Cn=this.options)==null?void 0:Cn.qrModalOptions}});An.getProvider().then(ba=>{ba.signer.client.on("session_request_sent",()=>{this.emit("wc_session_request_sent")})}),this.walletConnectConnector=An,this.connector=new WagmiAdapter(An)}return this.connector}async connectWithQrCode(fn){await this.getConnector();const En=this.walletConnectConnector;if(!En)throw new Error("WalletConnect connector not found");(await En.getProvider()).on("display_uri",_i=>{fn.onQrCodeUri(_i)}),this.connect({chainId:fn.chainId}).then(fn.onConnected)}}_defineProperty(ZerionWallet,"id","zerion");_defineProperty(ZerionWallet,"meta",{name:"Zerion Wallet",iconURL:"ipfs://Qmb1LhNtMUkzbgk1V8ZiUSRXjMJGRkS5HH3R71KyRgjdBG/zerion.png",urls:{chrome:"https://zerion.io/extension",android:"https://link.zerion.io/901o6IN0jqb",ios:"https://link.zerion.io/a11o6IN0jqb"}});class TokenBoundSmartWallet extends SmartWallet{get walletName(){return"Token Bound Smart Wallet"}constructor(fn){super({...fn,factoryAddress:fn.registryAddress||ERC6551_REGISTRY}),this.tbaOptions=fn}async getConnector(){if(!this.tbaConnector){const{TokenBoundSmartWalletConnector:fn}=await __vitePreload(async()=>{const{TokenBoundSmartWalletConnector:En}=await import("./thirdweb-dev-wallets-evm-connectors-token-bound-smart-wallet.browser.esm-denzXtEq.js");return{TokenBoundSmartWalletConnector:En}},__vite__mapDeps([58,55,54]));this.tbaConnector=new fn(this.tbaOptions)}return this.tbaConnector}}_defineProperty(TokenBoundSmartWallet,"meta",{name:"Token Bound Smart Wallet",iconURL:"ipfs://QmeAJVqn17aDNQhjEU3kcWVZCFBrfta8LzaDGkS8Egdiyk/smart-wallet.svg"});_defineProperty(TokenBoundSmartWallet,"id",walletIds.tokenBoundSmartWallet);class MagicEdenWallet extends AbstractClientWallet{get walletName(){return"Magic Eden"}constructor(fn){super(MagicEdenWallet.id,fn),this.isInjected=!!getInjectedMagicEdenProvider()}async getConnector(){if(!this.connector){const{MagicEdenConnector:fn}=await __vitePreload(async()=>{const{MagicEdenConnector:Cn}=await import("./thirdweb-dev-wallets-evm-connectors-magic-eden.browser.esm-DcmBkt9r.js");return{MagicEdenConnector:Cn}},__vite__mapDeps([59,40])),En=new fn({chains:this.chains,connectorStorage:this.walletStorage,options:{shimDisconnect:!0}});this.connector=new WagmiAdapter(En)}return this.connector}}_defineProperty(MagicEdenWallet,"id",walletIds.magicEden);var o={Ethereum:"https://ethereum.rpc.thirdweb.com",Goerli:"https://goerli.rpc.thirdweb.com",Mumbai:"https://mumbai.rpc.thirdweb.com",Polygon:"https://polygon.rpc.thirdweb.com",Avalanche:"https://avalanche.rpc.thirdweb.com",Optimism:"https://optimism.rpc.thirdweb.com",OptimismGoerli:"https://optimism-goerli.rpc.thirdweb.com",BSC:"https://binance.rpc.thirdweb.com",BSCTestnet:"https://binance-testnet.rpc.thirdweb.com",ArbitrumOne:"https://arbitrum.rpc.thirdweb.com",ArbitrumGoerli:"https://arbitrum-goerli.rpc.thirdweb.com",Fantom:"https://fantom.rpc.thirdweb.com",FantomTestnet:"https://fantom-testnet.rpc.thirdweb.com",Sepolia:"https://sepolia.rpc.thirdweb.com",AvalancheFuji:"https://avalanche-fuji.rpc.thirdweb.com"},e=()=>typeof window<"u"&&window.localStorage.getItem("IS_PAPER_DEV")==="true",i=()=>typeof window<"u"&&window.location.origin.includes("paper.xyz"),r=()=>typeof window<"u"&&window.location.origin.includes("thirdweb.com"),n=()=>{var vn;return e()?(vn=window.localStorage.getItem("PAPER_DEV_URL"))!=null?vn:"http://localhost:3000":i()||r()?window.location.origin:"https://withpaper.com"};const EMBEDDED_WALLET_PATH="/sdk/2022-08-12/embedded-wallet",GET_IFRAME_BASE_URL=()=>localStorage.getItem("IS_THIRDWEB_DEV")==="true"?window.localStorage.getItem("THIRDWEB_DEV_URL")??"http://localhost:3000":"https://embedded-wallet.thirdweb.com",WALLET_USER_ID_LOCAL_STORAGE_NAME=vn=>`thirdwebEwsWalletUserId-${vn}`,AUTH_TOKEN_LOCAL_STORAGE_PREFIX="walletToken",AUTH_TOKEN_LOCAL_STORAGE_NAME=vn=>`${AUTH_TOKEN_LOCAL_STORAGE_PREFIX}-${vn}`,DEVICE_SHARE_LOCAL_STORAGE_PREFIX="a",DEVICE_SHARE_LOCAL_STORAGE_NAME=(vn,fn)=>`${DEVICE_SHARE_LOCAL_STORAGE_PREFIX}-${vn}-${fn}`;let AuthProvider=function(vn){return vn.COGNITO="Cognito",vn.GOOGLE="Google",vn.EMAIL_OTP="EmailOtp",vn.CUSTOM_JWT="CustomJWT",vn.CUSTOM_AUTH_ENDPOINT="CustomAuthEndpoint",vn.FACEBOOK="Facebook",vn.APPLE="Apple",vn.PASSKEY="Passkey",vn.EXTERNAL_WALLET="ExternalWallet",vn.DISCORD="Discord",vn}({}),UserWalletStatus=function(vn){return vn.LOGGED_OUT="Logged Out",vn.LOGGED_IN_WALLET_UNINITIALIZED="Logged In, Wallet Uninitialized",vn.LOGGED_IN_NEW_DEVICE="Logged In, New Device",vn.LOGGED_IN_WALLET_INITIALIZED="Logged In, Wallet Initialized",vn}({});const data=new Map;class LocalStorage{constructor(fn){let{clientId:En}=fn;this.isSupported=!!window.localStorage,this.clientId=En}async getItem(fn){return this.isSupported?window.localStorage.getItem(fn):data.get(fn)??null}async setItem(fn,En){if(this.isSupported)return window.localStorage.setItem(fn,En);data.set(fn,En)}async removeItem(fn){const En=await this.getItem(fn);return this.isSupported&&En?(window.localStorage.removeItem(fn),!0):!1}async saveAuthCookie(fn){await this.setItem(AUTH_TOKEN_LOCAL_STORAGE_NAME(this.clientId),fn)}async getAuthCookie(){return this.getItem(AUTH_TOKEN_LOCAL_STORAGE_NAME(this.clientId))}async removeAuthCookie(){return this.removeItem(AUTH_TOKEN_LOCAL_STORAGE_NAME(this.clientId))}async saveDeviceShare(fn,En){await this.saveWalletUserId(En),await this.setItem(DEVICE_SHARE_LOCAL_STORAGE_NAME(this.clientId,En),fn)}async getDeviceShare(){const fn=await this.getWalletUserId();return fn?this.getItem(DEVICE_SHARE_LOCAL_STORAGE_NAME(this.clientId,fn)):null}async removeDeviceShare(){const fn=await this.getWalletUserId();return fn?this.removeItem(DEVICE_SHARE_LOCAL_STORAGE_NAME(this.clientId,fn)):!1}async getWalletUserId(){return this.getItem(WALLET_USER_ID_LOCAL_STORAGE_NAME(this.clientId))}async saveWalletUserId(fn){await this.setItem(WALLET_USER_ID_LOCAL_STORAGE_NAME(this.clientId),fn)}async removeWalletUserId(){return this.removeItem(WALLET_USER_ID_LOCAL_STORAGE_NAME(this.clientId))}}function sleep(vn){return new Promise(fn=>{setTimeout(fn,vn*1e3)})}const iframeBaseStyle={height:"100%",width:"100%",border:"none",backgroundColor:"transparent",colorScheme:"light",position:"fixed",top:"0px",right:"0px",zIndex:"2147483646",display:"none"},isIframeLoaded=new Map;class IframeCommunicator{constructor(fn){let{link:En,iframeId:Cn,container:_i=document.body,iframeStyles:An,onIframeInitialize:ba}=fn;_defineProperty(this,"POLLING_INTERVAL_SECONDS",1.4),this.iframeBaseUrl=GET_IFRAME_BASE_URL();let xa=document.getElementById(Cn);const $a=new URL(En),rs="2.5.39";if($a.searchParams.set("sdkVersion",rs),!xa||xa.src!==$a.href){if(!xa){xa=document.createElement("iframe");const is={...iframeBaseStyle,...An};Object.assign(xa.style,is),xa.setAttribute("id",Cn),xa.setAttribute("fetchpriority","high"),_i.appendChild(xa)}xa.src=$a.href,xa.setAttribute("data-version",rs);const ts=is=>{if(is.data.eventType==="ewsIframeLoaded"){if(window.removeEventListener("message",ts),!xa){console.warn("thirdweb Iframe not found");return}this.onIframeLoadHandler(xa,ba)()}};window.addEventListener("message",ts)}this.iframe=xa}async onIframeLoadedInitVariables(){return{}}onIframeLoadHandler(fn,En){return async()=>{await new Promise(async(_i,An)=>{var $a;const ba=new MessageChannel;ba.port1.onmessage=rs=>{const{data:ts}=rs;return ba.port1.close(),ts.success?(isIframeLoaded.set(fn.src,!0),En&&En(),_i(!0)):An(new Error(ts.error))},($a=fn==null?void 0:fn.contentWindow)==null||$a.postMessage({eventType:"initIframe",data:await this.onIframeLoadedInitVariables()},this.iframeBaseUrl,[ba.port2])})}}async call(fn){let{procedureName:En,params:Cn,showIframe:_i=!1}=fn;for(;!isIframeLoaded.get(this.iframe.src);)await sleep(this.POLLING_INTERVAL_SECONDS);return _i&&(this.iframe.style.display="block",await sleep(.005)),new Promise((ba,xa)=>{var rs;const $a=new MessageChannel;$a.port1.onmessage=async ts=>{const{data:is}=ts;$a.port1.close(),_i&&(await sleep(.1),this.iframe.style.display="none"),is.success?ba(is.data):xa(new Error(is.error))},(rs=this.iframe.contentWindow)==null||rs.postMessage({eventType:En,data:Cn},this.iframeBaseUrl,[$a.port2])})}destroy(){isIframeLoaded.delete(this.iframe.src)}}class EmbeddedWalletIframeCommunicator extends IframeCommunicator{constructor(fn){let{clientId:En,customizationOptions:Cn}=fn;super({iframeId:EMBEDDED_WALLET_IFRAME_ID,link:createEmbeddedWalletIframeLink({clientId:En,path:EMBEDDED_WALLET_PATH,queryParams:Cn}).href,container:document.body}),this.clientId=En}async onIframeLoadedInitVariables(){const fn=new LocalStorage({clientId:this.clientId});return{authCookie:await fn.getAuthCookie(),deviceShareStored:await fn.getDeviceShare(),walletUserId:await fn.getWalletUserId(),clientId:this.clientId}}}function createEmbeddedWalletIframeLink(vn){var An;let{clientId:fn,path:En,queryParams:Cn}=vn;const _i=new URL(`${En}`,GET_IFRAME_BASE_URL());if(Cn)for(const ba of Object.keys(Cn))_i.searchParams.set(ba,((An=Cn[ba])==null?void 0:An.toString())||"");return _i.searchParams.set("clientId",fn),_i}const EMBEDDED_WALLET_IFRAME_ID="thirdweb-embedded-wallet-iframe";class AbstractLogin{constructor(fn){let{querier:En,preLogin:Cn,postLogin:_i,clientId:An}=fn;this.LoginQuerier=En,this.preLogin=Cn,this.postLogin=_i,this.clientId=An}async sendEmailLoginOtp(fn){let{email:En}=fn;return await this.preLogin(),await this.LoginQuerier.call({procedureName:"sendThirdwebEmailLoginOtp",params:{email:En}})}async sendSmsLoginOtp(fn){let{phoneNumber:En}=fn;return await this.preLogin(),await this.LoginQuerier.call({procedureName:"sendThirdwebSmsLoginOtp",params:{phoneNumber:En}})}}class BaseLogin extends AbstractLogin{constructor(){super(...arguments),_defineProperty(this,"closeWindow",fn=>{let{isWindowOpenedByFn:En,win:Cn,closeOpenedWindow:_i}=fn;En?Cn==null||Cn.close():Cn&&_i?_i(Cn):Cn&&Cn.close()})}async getOauthLoginUrl(fn){return await this.LoginQuerier.call({procedureName:"getHeadlessOauthLoginLink",params:{authProvider:fn}})}async loginWithModal(){await this.preLogin();const fn=await this.LoginQuerier.call({procedureName:"loginWithThirdwebModal",params:void 0,showIframe:!0});return this.postLogin(fn)}async loginWithEmailOtp(fn){let{email:En}=fn;await this.preLogin();const Cn=await this.LoginQuerier.call({procedureName:"loginWithThirdwebModal",params:{email:En},showIframe:!0});return this.postLogin(Cn)}getOauthPopUpSizing(fn){switch(fn){case AuthProvider.FACEBOOK:return"width=715, height=555";default:return"width=350, height=500"}}async loginWithOauth(fn){let En=fn==null?void 0:fn.openedWindow,Cn=!1;if(En||(En=window.open("","Login",this.getOauthPopUpSizing(fn.oauthProvider)),Cn=!0),!En)throw new Error("Something went wrong opening pop-up");const[{loginLink:_i}]=await Promise.all([this.getOauthLoginUrl(fn.oauthProvider),this.preLogin()]);En.location.href=_i;const An=await new Promise((ba,xa)=>{const $a=window.setInterval(async()=>{En&&En.closed&&(clearInterval($a),window.removeEventListener("message",rs),xa(new Error("User closed login window")))},1e3),rs=async ts=>{if(ts.origin===GET_IFRAME_BASE_URL()){if(typeof ts.data!="object"){xa(new Error("Invalid event data"));return}switch(ts.data.eventType){case"userLoginSuccess":{window.removeEventListener("message",rs),clearInterval($a),this.closeWindow({isWindowOpenedByFn:Cn,win:En,closeOpenedWindow:fn==null?void 0:fn.closeOpenedWindow}),ts.data.authResult&&ba(ts.data.authResult);break}case"userLoginFailed":{window.removeEventListener("message",rs),clearInterval($a),this.closeWindow({isWindowOpenedByFn:Cn,win:En,closeOpenedWindow:fn==null?void 0:fn.closeOpenedWindow}),xa(new Error(ts.data.error));break}case"injectDeveloperClientId":{En==null||En.postMessage({eventType:"injectDeveloperClientIdResult",developerClientId:this.clientId,authOption:fn.oauthProvider},GET_IFRAME_BASE_URL());break}}}};window.addEventListener("message",rs)});return this.postLogin({storedToken:{...An.storedToken,shouldStoreCookieString:!0},walletDetails:{...An.walletDetails,isIframeStorageEnabled:!1}})}async loginWithCustomJwt(fn){let{encryptionKey:En,jwt:Cn}=fn;await this.preLogin();const _i=await this.LoginQuerier.call({procedureName:"loginWithCustomJwt",params:{encryptionKey:En,jwt:Cn}});return this.postLogin(_i)}async loginWithCustomAuthEndpoint(fn){let{encryptionKey:En,payload:Cn}=fn;await this.preLogin();const _i=await this.LoginQuerier.call({procedureName:"loginWithCustomAuthEndpoint",params:{encryptionKey:En,payload:Cn}});return this.postLogin(_i)}async verifyEmailLoginOtp(fn){let{email:En,otp:Cn,recoveryCode:_i}=fn;const An=await this.LoginQuerier.call({procedureName:"verifyThirdwebEmailLoginOtp",params:{email:En,otp:Cn,recoveryCode:_i}});return this.postLogin(An)}async verifySmsLoginOtp(fn){let{phoneNumber:En,otp:Cn,recoveryCode:_i}=fn;const An=await this.LoginQuerier.call({procedureName:"verifyThirdwebSmsLoginOtp",params:{phoneNumber:En,otp:Cn,recoveryCode:_i}});return this.postLogin(An)}}class Auth{constructor(fn){let{clientId:En,querier:Cn,onAuthSuccess:_i}=fn;this.clientId=En,this.AuthQuerier=Cn,this.localStorage=new LocalStorage({clientId:En}),this.onAuthSuccess=_i,this.BaseLogin=new BaseLogin({postLogin:async An=>this.postLogin(An),preLogin:async()=>{await this.preLogin()},querier:Cn,clientId:En})}async preLogin(){await this.logout()}async postLogin(fn){let{storedToken:En,walletDetails:Cn}=fn;return En.shouldStoreCookieString&&await this.localStorage.saveAuthCookie(En.cookieString),await this.onAuthSuccess({storedToken:En,walletDetails:Cn})}async loginWithModal(){return this.BaseLogin.loginWithModal()}async loginWithEmailOtp(fn){return this.BaseLogin.loginWithEmailOtp(fn)}async loginWithCustomJwt(fn){return this.BaseLogin.loginWithCustomJwt(fn)}async loginWithCustomAuthEndpoint(fn){return this.BaseLogin.loginWithCustomAuthEndpoint(fn)}async loginWithOauth(fn){return this.BaseLogin.loginWithOauth(fn)}async sendEmailLoginOtp(fn){let{email:En}=fn;return this.BaseLogin.sendEmailLoginOtp({email:En})}async sendSmsLoginOtp(fn){let{phoneNumber:En}=fn;return this.BaseLogin.sendSmsLoginOtp({phoneNumber:En})}async verifyEmailLoginOtp(fn){return this.BaseLogin.verifyEmailLoginOtp(fn)}async verifySmsLoginOtp(fn){return this.BaseLogin.verifySmsLoginOtp(fn)}async logout(){const{success:fn}=await this.AuthQuerier.call({procedureName:"logout",params:void 0}),En=await this.localStorage.removeAuthCookie(),Cn=await this.localStorage.removeWalletUserId();return{success:fn||En||Cn}}}class EthersSigner extends Signer{constructor(fn){var An;let{provider:En,clientId:Cn,querier:_i}=fn;super(),_defineProperty(this,"DEFAULT_ETHEREUM_CHAIN_ID",5),this.clientId=Cn,this.querier=_i,this.endpoint=(An=En.connection)==null?void 0:An.url,utils$t.defineReadOnly(this,"provider",En)}async getAddress(){const{address:fn}=await this.querier.call({procedureName:"getAddress",params:void 0});return fn}async signMessage(fn){var Cn,_i;const{signedMessage:En}=await this.querier.call({procedureName:"signMessage",params:{message:fn,chainId:((_i=await((Cn=this.provider)==null?void 0:Cn.getNetwork()))==null?void 0:_i.chainId)??this.DEFAULT_ETHEREUM_CHAIN_ID,rpcEndpoint:this.endpoint}});return En}async signTransaction(fn){var Cn,_i;const{signedTransaction:En}=await this.querier.call({procedureName:"signTransaction",params:{transaction:fn,chainId:((_i=await((Cn=this.provider)==null?void 0:Cn.getNetwork()))==null?void 0:_i.chainId)??this.DEFAULT_ETHEREUM_CHAIN_ID,rpcEndpoint:this.endpoint}});return En}async sendTransaction(fn){if(!this.provider)throw new Error("Provider not found");const Cn={...await getDefaultGasOverrides(this.provider),...fn};return super.sendTransaction(Cn)}async _signTypedData(fn,En,Cn){var An,ba;const{signedTypedData:_i}=await this.querier.call({procedureName:"signTypedDataV4",params:{domain:fn,types:En,message:Cn,chainId:((ba=await((An=this.provider)==null?void 0:An.getNetwork()))==null?void 0:ba.chainId)??this.DEFAULT_ETHEREUM_CHAIN_ID,rpcEndpoint:this.endpoint}});return _i}connect(fn){return new EthersSigner({clientId:this.clientId,provider:fn,querier:this.querier})}}class EmbeddedWallet{constructor(fn){let{clientId:En,chain:Cn,querier:_i}=fn;this.clientId=En,this.chain=Cn,this.walletManagerQuerier=_i,this.localStorage=new LocalStorage({clientId:En})}async postWalletSetUp(fn){let{deviceShareStored:En,walletAddress:Cn,isIframeStorageEnabled:_i,walletUserId:An}=fn;return _i||await this.localStorage.saveDeviceShare(En,An),{walletAddress:Cn}}async getUserWalletStatus(){const fn=await this.walletManagerQuerier.call({procedureName:"getUserStatus",params:void 0});return fn.status===UserWalletStatus.LOGGED_IN_WALLET_INITIALIZED?{status:UserWalletStatus.LOGGED_IN_WALLET_INITIALIZED,...fn.user,wallet:this}:fn.status===UserWalletStatus.LOGGED_IN_NEW_DEVICE?{status:UserWalletStatus.LOGGED_IN_WALLET_UNINITIALIZED,...fn.user}:fn.status===UserWalletStatus.LOGGED_IN_WALLET_UNINITIALIZED?{status:UserWalletStatus.LOGGED_IN_WALLET_UNINITIALIZED,...fn.user}:{status:fn.status}}async setChain(fn){let{chain:En}=fn;this.chain=En}async getEthersJsSigner(fn){return new EthersSigner({clientId:this.clientId,provider:getDefaultProvider((fn==null?void 0:fn.rpcEndpoint)??o[this.chain]),querier:this.walletManagerQuerier})}}class EmbeddedWalletSdk{isClientIdLegacyPaper(fn){return fn.indexOf("-")>0&&fn.length===36}constructor(fn){let{clientId:En,chain:Cn,styles:_i,onAuthSuccess:An}=fn;if(this.isClientIdLegacyPaper(En))throw new Error("You are using a legacy clientId. Please use the clientId found on the thirdweb dashboard settings page");this.clientId=En,this.querier=new EmbeddedWalletIframeCommunicator({clientId:En,customizationOptions:_i}),this.wallet=new EmbeddedWallet({clientId:En,chain:Cn,querier:this.querier}),this.auth=new Auth({clientId:En,querier:this.querier,onAuthSuccess:async ba=>(An==null||An(ba),await this.wallet.postWalletSetUp({...ba.walletDetails,walletUserId:ba.storedToken.authDetails.userWalletId}),await this.querier.call({procedureName:"initIframe",params:{deviceShareStored:ba.walletDetails.deviceShareStored,clientId:this.clientId,walletUserId:ba.storedToken.authDetails.userWalletId,authCookie:ba.storedToken.cookieString}}),{user:{status:UserWalletStatus.LOGGED_IN_WALLET_INITIALIZED,authDetails:ba.storedToken.authDetails,wallet:this.wallet,walletAddress:ba.walletDetails.walletAddress}})})}async getUser(){return this.wallet.getUserWalletStatus()}}class WalletConnectHandler extends EventEmitter$1{constructor(fn){super(),this.wallet=fn}}class WalletConnectV2Handler extends WalletConnectHandler{constructor(fn,En){super(En);const Cn={walletConnectWalletMetadata:{name:"thirdweb Smart Account",description:"thirdweb Smart Account",url:"https://thirdweb.com",icons:["https://thirdweb.com/favicon.ico"]},walletConnectV2ProjectId:TW_WC_PROJECT_ID$1,walletConnectV2RelayUrl:WC_RELAY_URL,...(fn==null?void 0:fn.walletConnectReceiver)===!0?{}:fn==null?void 0:fn.walletConnectReceiver};this._wcMetadata=Cn.walletConnectWalletMetadata,this._core=new bn$3({projectId:Cn.walletConnectV2ProjectId,relayUrl:Cn.walletConnectV2RelayUrl})}async init(){this._wcWallet=await ie.init({core:this._core,metadata:this._wcMetadata});const fn=this._wcWallet.getActiveSessions(),En=Object.keys(fn);En[0]&&(this._session=fn[En[0]]),this._setupWalletConnectEventsListeners()}async connectApp(fn){if(!this._wcWallet)throw new Error("Please, init the wallet before connecting an app.");await this._wcWallet.core.pairing.pair({uri:fn})}async approveSession(){var xa;if(!this._wcWallet)throw new Error("Please, init the wallet before making session requests.");if(!this._activeProposal)throw new Error("Please, pass a valid proposal.");const fn=await this.wallet.getAddress(),{id:En,params:Cn}=this._activeProposal,{requiredNamespaces:_i,relays:An}=Cn,ba={};Object.keys(_i).forEach($a=>{var is;const rs=[],ts=_i[$a];ts&&((is=ts.chains)==null||is.map(cs=>{rs.push(`${cs}:${fn}`)}),ba[$a]={accounts:rs,methods:ts.methods,events:ts.events})}),this._session=await this._wcWallet.approveSession({id:En,relayProtocol:(xa=An[0])==null?void 0:xa.protocol,namespaces:ba}),this.emit("session_approved")}async rejectSession(){if(!this._wcWallet)throw new Error("Please, init the wallet before making session requests.");if(!this._activeProposal)throw new Error("Please, pass a valid proposal.");const{id:fn}=this._activeProposal;await this._wcWallet.rejectSession({id:fn,reason:{message:"User rejected methods.",code:5002}})}async approveEIP155Request(){var ba,xa;if(!this._activeRequestEvent)return;const{topic:fn,params:En,id:Cn}=this._activeRequestEvent,{request:_i}=En;let An;switch(_i.method){case EIP155_SIGNING_METHODS.PERSONAL_SIGN:case EIP155_SIGNING_METHODS.ETH_SIGN:const $a=this._getSignParamsMessage(_i.params),rs=await this.wallet.signMessage($a||"");An=formatJsonRpcResult(Cn,rs);break;case EIP155_SIGNING_METHODS.ETH_SEND_TRANSACTION:const ts=await this.wallet.getSigner(),is=_i.params[0],cs=await ts.sendTransaction(is),{transactionHash:us}=await cs.wait();An=formatJsonRpcResult(Cn,us);break;case EIP155_SIGNING_METHODS.ETH_SIGN_TRANSACTION:const ps=await this.wallet.getSigner(),bs=_i.params[0],e0=await ps.signTransaction(bs);An=formatJsonRpcResult(Cn,e0);break;default:const gs={id:Cn,jsonrpc:"2.0",error:{message:"Invalid event.",code:1002}};return(ba=this._wcWallet)==null?void 0:ba.respondSessionRequest({topic:fn,response:gs})}return(xa=this._wcWallet)==null?void 0:xa.respondSessionRequest({topic:fn,response:An})}async rejectEIP155Request(){var _i;if(!this._activeRequestEvent)return;const{topic:fn,id:En}=this._activeRequestEvent,Cn={id:En,jsonrpc:"2.0",error:{message:"User rejected methods.",code:5002}};return(_i=this._wcWallet)==null?void 0:_i.respondSessionRequest({topic:fn,response:Cn})}getActiveSessions(){if(!this._wcWallet)throw new Error("Please, init the wallet before getting sessions.");const fn=this._wcWallet.getActiveSessions(),En=Object.keys(fn);if(!fn||En.length===0)return[];const Cn=[];for(const _i of En){const An=fn[_i];if(An){const ba=An.topic,xa=An.peer.metadata;Cn.push({topic:ba,peer:{metadata:xa}})}}return Cn}disconnectSession(){var En;if(!this._wcWallet)throw new Error("Please, init the wallet before disconnecting sessions.");if(!this._session)return Promise.resolve();const fn={topic:this._session.topic,reason:{message:"User disconnected.",code:6e3}};return(En=this._wcWallet)==null?void 0:En.disconnectSession(fn)}_setupWalletConnectEventsListeners(){if(!this._wcWallet)throw new Error("Please, init the wallet before making session requests.");this._wcWallet.on("session_proposal",fn=>{this._activeProposal=fn,this.emit("session_proposal",{proposer:{metadata:fn.params.proposer.metadata}})}),this._wcWallet.on("session_delete",fn=>{this._session=void 0,this._activeProposal=void 0,this.emit("session_delete",{topic:fn.topic})}),this._wcWallet.on("session_request",async fn=>{if(!this._session)return;const{params:En}=fn,{request:Cn}=En,{params:_i}=Cn;switch(Cn.method){case EIP155_SIGNING_METHODS.ETH_SIGN:case EIP155_SIGNING_METHODS.PERSONAL_SIGN:this._activeRequestEvent=fn;const An=_i[0],ba=new TextDecoder().decode(arrayify(An)),xa=[..._i];xa[0]=ba,this.emit("session_request",{topic:this._session.topic,params:xa,peer:{metadata:this._session.peer.metadata},method:Cn.method});return;case EIP155_SIGNING_METHODS.ETH_SEND_TRANSACTION:case EIP155_SIGNING_METHODS.ETH_SIGN_TRANSACTION:this._activeRequestEvent=fn,this.emit("session_request",{topic:this._session.topic,params:fn.params.request.params,peer:{metadata:this._session.peer.metadata},method:Cn.method});return;default:throw new Error(`WCV2.Method not supported: ${Cn.method}`)}})}_getSignParamsMessage(fn){const En=fn.filter(Cn=>!isAddress(Cn))[0]||"";return isHexString(En)?toUtf8String(En):En}}const thirdwebDevWallets_browser_esm=Object.freeze(Object.defineProperty({__proto__:null,AUTH_TOKEN_LOCAL_STORAGE_NAME,AbstractClientWallet,AddChainError,AsyncLocalStorage,AuthProvider,BloctoWallet,ChainNotConfiguredError,Coin98Wallet,CoinbaseWallet,Connector,CoreWallet,CryptoDefiWallet,DEFAULT_DAPP_META,DEFAULT_FACTORY_ADDRESS,DEVICE_SHARE_LOCAL_STORAGE_NAME,EIP155_SIGNING_METHODS,EmbeddedWallet:EmbeddedWallet$1,EmbeddedWalletSdk,FrameWallet,ImTokenWallet,InAppWallet:EmbeddedWallet$1,InjectedWallet,LocalWallet,MagicEdenWallet,MagicLink,MetaMaskWallet,OKXWallet,OneKeyWallet,PaperWallet,PhantomWallet,ProviderRpcError,RabbyWallet,RainbowWallet,SafeWallet,SignerWallet,SmartWallet,SwitchChainError,TokenBoundSmartWallet,TrustWallet,UserRejectedRequestError,UserWalletStatus,WALLET_USER_ID_LOCAL_STORAGE_NAME,WagmiAdapter,WagmiConnector,WalletConnect,WalletConnectHandler,WalletConnectV2Handler,XDEFIWallet,ZerionWallet,assertWindowEthereum,checkContractWalletSignature,createAsyncLocalStorage,getInjectedCoin98Provider,getInjectedCoinbaseProvider,getInjectedCoreWalletProvider,getInjectedCryptoDefiWalletProvider,getInjectedMagicEdenProvider,getInjectedMetamaskProvider,getInjectedOKXProvider,getInjectedOneKeyProvider,getInjectedPhantomProvider,getInjectedRabbyProvider,getInjectedRainbowProvider,getInjectedXDEFIProvider,isValidPrivateKey,isZkSyncChain,normalizeChainId,walletIds},Symbol.toStringTag,{value:"Module"})),literalSchema=z$8.union([z$8.string(),z$8.number(),z$8.boolean(),z$8.null()]),JsonSchema=z$8.lazy(()=>z$8.union([literalSchema,z$8.array(JsonSchema),z$8.record(JsonSchema)]),{invalid_type_error:"Provided value was not valid JSON"}),AddressSchema=z$8.string().refine(vn=>isAddress(vn),vn=>({message:`${vn} is not a valid address`})),RawDateSchema=z$8.date().transform(vn=>Math.floor(vn.getTime()/1e3)),AccountTypeSchema=z$8.literal("evm"),AuthenticationPayloadDataSchema=z$8.object({iss:z$8.string(),sub:z$8.string(),aud:z$8.string(),exp:RawDateSchema,nbf:RawDateSchema,iat:RawDateSchema,jti:z$8.string().default(()=>v4()),ctx:JsonSchema.optional()});z$8.object({payload:AuthenticationPayloadDataSchema,signature:z$8.string()});z$8.object({domain:z$8.string(),issuerAddress:AddressSchema.optional(),validateTokenId:z$8.function().args(z$8.string()).optional()});const VerifyOptionsSchema=z$8.object({domain:z$8.string(),statement:z$8.string().optional(),uri:z$8.string().optional(),version:z$8.string().optional(),chainId:z$8.string().optional(),validateNonce:z$8.function().args(z$8.string()).optional(),resources:z$8.array(z$8.string()).optional()}),THIRDWEB_AUTH_DEFAULT_LOGIN_PAYLOAD_DURATION_IN_SECONDS=60*10,THIRDWEB_AUTH_DEFAULT_TOKEN_DURATION_IN_SECONDS=60*60*24;z$8.object({domain:z$8.string(),tokenId:z$8.string().optional(),expirationTime:z$8.date().default(()=>new Date(Date.now()+1e3*THIRDWEB_AUTH_DEFAULT_TOKEN_DURATION_IN_SECONDS)),invalidBefore:z$8.date().optional(),session:z$8.union([JsonSchema,z$8.function().args(z$8.string())]).optional(),verifyOptions:VerifyOptionsSchema.omit({domain:!0}).optional()});z$8.object({expirationTime:z$8.date().default(()=>new Date(Date.now()+1e3*THIRDWEB_AUTH_DEFAULT_TOKEN_DURATION_IN_SECONDS))});z$8.object({domain:z$8.string(),address:z$8.string().optional(),statement:z$8.string().optional(),uri:z$8.string().optional(),version:z$8.string().optional(),chainId:z$8.string().optional(),nonce:z$8.string().optional(),expirationTime:z$8.date().default(()=>new Date(Date.now()+1e3*THIRDWEB_AUTH_DEFAULT_LOGIN_PAYLOAD_DURATION_IN_SECONDS)),invalidBefore:z$8.date().default(()=>new Date(Date.now()-1e3*THIRDWEB_AUTH_DEFAULT_LOGIN_PAYLOAD_DURATION_IN_SECONDS)),resources:z$8.array(z$8.string()).optional()});const LoginPayloadDataSchema=z$8.object({type:AccountTypeSchema,domain:z$8.string(),address:z$8.string(),statement:z$8.string().default("Please ensure that the domain above matches the URL of the current website."),uri:z$8.string().optional(),version:z$8.string().default("1"),chain_id:z$8.string().optional(),nonce:z$8.string().default(()=>v4()),issued_at:z$8.date().default(new Date).transform(vn=>vn.toISOString()),expiration_time:z$8.date().transform(vn=>vn.toISOString()),invalid_before:z$8.date().default(new Date).transform(vn=>vn.toISOString()),resources:z$8.array(z$8.string()).optional()}),LoginPayloadSchema=z$8.object({payload:LoginPayloadDataSchema,signature:z$8.string()});LoginPayloadSchema.extend({payload:LoginPayloadDataSchema.extend({issued_at:z$8.string(),expiration_time:z$8.string(),invalid_before:z$8.string()})});function createLoginMessage(vn){let Cn=[`${vn.domain} wants you to sign in with your Ethereum account:`,vn.address].join(`
`);Cn=[Cn,vn.statement].join(`

`),vn.statement&&(Cn+=`
`);const _i=[];if(vn.uri){const ts=`URI: ${vn.uri}`;_i.push(ts)}const An=`Version: ${vn.version}`;if(_i.push(An),vn.chain_id){const ts="Chain ID: "+vn.chain_id||"1";_i.push(ts)}const ba=`Nonce: ${vn.nonce}`;_i.push(ba);const xa=`Issued At: ${vn.issued_at}`;_i.push(xa);const $a=`Expiration Time: ${vn.expiration_time}`;if(_i.push($a),vn.invalid_before){const ts=`Not Before: ${vn.invalid_before}`;_i.push(ts)}vn.resources&&_i.push(["Resources:",...vn.resources.map(ts=>`- ${ts}`)].join(`
`));const rs=_i.join(`
`);return[Cn,rs].join(`
`)}async function signLoginPayload(vn){let{wallet:fn,payload:En}=vn;const Cn=createLoginMessage(En),_i=await fn.signMessage(Cn);return{payload:En,signature:_i}}const ThirdwebThemeContext=reactExports.createContext(void 0),ThirdwebAuthContext=reactExports.createContext(void 0);function useThirdwebAuthContext(){return reactExports.useContext(ThirdwebAuthContext)}const isWalletConnectReceiverEnabled=vn=>{const fn=vn==null?void 0:vn.getOptions();return fn&&"walletConnectReceiver"in fn&&fn.walletConnectReceiver},LAST_CONNECTED_WALLET_STORAGE_KEY="lastConnectedWallet";let lastConnectedWalletStorage;const walletInstanceToConfig=new Map,personalWalletToWrapperWallet=new Map,ThirdwebWalletContext=reactExports.createContext(void 0);function useWalletConnectionSetup(vn,fn){const{chains:En,chainToConnect:Cn,dAppMeta:_i,clientId:An,activeChain:ba}=vn,[xa,$a]=reactExports.useState(void 0),[rs,ts]=reactExports.useState(fn.connectionStatus),[is,cs]=reactExports.useState(),[us,ps]=reactExports.useState(),[bs,e0]=reactExports.useState(),[gs,Ds]=reactExports.useState(void 0),[i0,n0]=reactExports.useState(void 0),c0=reactExports.useMemo(()=>({chains:En,dappMetadata:_i,chain:ba||En[0],clientId:An}),[En,_i,ba,An]),d0=reactExports.useCallback(_a=>{const es=_a.create(c0);return es.walletId===walletIds.magicLink&&ps(es),walletInstanceToConfig.set(es,_a),es},[c0]),o0=reactExports.useCallback(async function(_a,es){let ns=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const os=walletInstanceToConfig.get(_a);if(!os)throw new Error("Wallet config not found for given wallet instance. Do not create a wallet instance manually - use the useCreateWalletInstance() hook instead");const[ls,hs,ss]=await Promise.all([_a.getSigner(),_a.getChainId(),_a.getAddress()]);cs(_a),Ds(hs),n0(ss),$a(ls),e0(os),ts("connected");const ga=_a.getPersonalWallet();if(personalWalletToWrapperWallet.set(ga,_a),ns)return;const as={walletId:os.id,connectParams:es||_a.getConnectParams()},r0=walletInstanceToConfig.get(ga);ga&&r0&&(as.connectParams={...as.connectParams,personalWallet:{walletId:r0.id,connectParams:ga.getConnectParams()}}),saveLastConnectedWalletInfo(as)},[]),g0=reactExports.useCallback(async _a=>{const es=await lastConnectedWalletStorage.getItem(LAST_CONNECTED_WALLET_STORAGE_KEY);if(es)try{const ns=JSON.parse(es);ns.connectParams?ns.connectParams.chainId=_a:ns.connectParams={chainId:_a},await lastConnectedWalletStorage.setItem(LAST_CONNECTED_WALLET_STORAGE_KEY,JSON.stringify(ns))}catch(ns){console.error(`Error saving the last active chain: ${ns}`)}},[]),w0=reactExports.useCallback(async _a=>{if(!is)throw new Error("No active wallet");await is.switchChain(_a);const es=await is.getSigner();await g0(_a),$a(es)},[is,g0]),M0=reactExports.useCallback(async function(){for(var _a=arguments.length,es=new Array(_a),ns=0;ns<_a;ns++)es[ns]=arguments[ns];const[os,ls]=es,hs={chainId:Cn==null?void 0:Cn.chainId,...ls||{}},ss=d0(os);ts("connecting");try{os.id===walletIds.magicLink&&saveLastConnectedWalletInfo({walletId:os.id,connectParams:hs}),await ss.connect(hs),o0(ss,hs)}catch(ga){throw console.error(`Error connecting to wallet: ${ga}`),ts("disconnected"),ga}return ss},[d0,o0,Cn]),ds=reactExports.useCallback(()=>{ts("disconnected"),$a(void 0),cs(void 0),e0(void 0),Ds(void 0),n0(void 0),lastConnectedWalletStorage.removeItem(LAST_CONNECTED_WALLET_STORAGE_KEY)},[]),na=reactExports.useCallback(async()=>{if(!is){ds();return}ds();const _a=is.getPersonalWallet();await is.disconnect(),_a&&await(_a==null?void 0:_a.disconnect())},[is,ds]);return reactExports.useEffect(()=>{if(!is){$a(void 0),Ds(void 0),n0(void 0);return}const _a=async()=>{Promise.all([is.getSigner(),is.getChainId(),is.getAddress()]).then(es=>{let[ns,os,ls]=es;$a(ns),Ds(os),n0(ls)})};return _a(),is.addListener("change",_a),is.addListener("disconnect",ds),()=>{is.removeListener("change",_a),is.removeListener("disconnect",ds)}},[is,ds]),reactExports.useEffect(()=>{is&&is.updateChains(En)},[is,En]),{signer:xa,connectionStatus:rs,setConnectionStatus:ts,activeWallet:is,createdWalletInstance:us,activeWalletConfig:bs,createWalletInstance:d0,setConnectedWallet:o0,switchChain:w0,connectWallet:M0,disconnectWallet:na,chainId:gs,address:i0}}function ThirdwebWalletProvider(vn){const fn=vn.autoSwitch?vn.activeChain:void 0,En=vn.autoConnectTimeout||15e3,Cn={chains:vn.chains,dAppMeta:vn.dAppMeta,activeChain:vn.activeChain,clientId:vn.clientId,chainToConnect:fn},{signer:_i,connectionStatus:An,setConnectionStatus:ba,activeWallet:xa,createdWalletInstance:$a,activeWalletConfig:rs,createWalletInstance:ts,setConnectedWallet:is,switchChain:cs,connectWallet:us,disconnectWallet:ps,address:bs,chainId:e0}=useWalletConnectionSetup(Cn,{connectionStatus:"unknown"}),gs=useWalletConnectionSetup(Cn,{connectionStatus:"disconnected"}),[Ds,i0]=reactExports.useState(!1),[n0,c0]=reactExports.useState();lastConnectedWalletStorage||(lastConnectedWalletStorage=vn.createWalletStorage("coordinatorStorage")),reactExports.useEffect(()=>{if(!xa)return;const g0=async()=>{const w0=xa==null?void 0:xa.getOptions(),M0=new WalletConnectV2Handler({walletConnectReceiver:{...(w0==null?void 0:w0.walletConnectReceiver)===!0?{}:w0==null?void 0:w0.walletConnectReceiver}},xa);await M0.init(),c0(M0)};isWalletConnectReceiverEnabled(xa)&&g0()},[xa]);const d0=reactExports.useRef(!1);reactExports.useEffect(()=>{if(d0.current||(d0.current=!0,vn.signerWallet)||xa||An!=="unknown")return;if(vn.shouldAutoConnect===!1){ba("disconnected");return}async function g0(){var os;const w0=await getLastConnectedWalletInfo();if(!w0){ba("disconnected");return}const M0=vn.supportedWallets.find(ls=>ls.id===w0.walletId);if(!M0){ba("disconnected");return}let ds=(os=w0.connectParams)==null?void 0:os.personalWallet,na=!1;M0.personalWallets&&!ds&&(w0.walletId===walletIds.magicLink&&w0.connectParams&&"oauthProvider"in w0.connectParams?na=!1:na=!0,ds={walletId:w0.walletId,connectParams:w0.connectParams});const _a=ds;let es;if(_a){const hs=(M0.personalWallets||[]).find(ss=>ss.id===_a.walletId);if(hs){es=ts(hs);try{await timeoutPromise(es.autoConnect(_a.connectParams),{ms:En,message:autoConnectTimeoutErrorMessage}),na&&is(es,_a.connectParams,!0)}catch(ss){console.error("Failed to auto connect personal wallet"),console.error(ss),ba("disconnected");return}w0.connectParams={...w0.connectParams,personalWallet:es}}else{ba("disconnected");return}}const ns=ts(M0);try{i0(!0),ba("connecting"),es&&personalWalletToWrapperWallet.set(es,ns),await timeoutPromise(ns.autoConnect(w0.connectParams),{ms:En,message:autoConnectTimeoutErrorMessage}),na||is(ns,w0.connectParams,!0)}catch(ls){console.error("Failed to auto connect wallet"),console.error(ls),ls instanceof Error&&ls.message===autoConnectTimeoutErrorMessage&&lastConnectedWalletStorage.removeItem(LAST_CONNECTED_WALLET_STORAGE_KEY),ba("disconnected")}i0(!1)}g0()},[ts,vn.supportedWallets,is,vn.shouldAutoConnect,xa,An,vn.signerWallet,ba,En]);const o0=reactExports.useRef();return reactExports.useEffect(()=>{if(!vn.signerWallet){o0.current&&(ps(),o0.current=void 0);return}if(o0.current===vn.signerWallet)return;const g0=ts(vn.signerWallet);is(g0),o0.current=vn.signerWallet},[ts,vn.supportedWallets,is,vn.signerWallet,ps]),jsxRuntimeExports.jsx(ThirdwebWalletContext.Provider,{value:{address:bs,chainId:e0,disconnect:ps,wallets:vn.supportedWallets,connect:us,signer:_i,activeWallet:xa,activeWalletConfig:rs,connectionStatus:An,setConnectionStatus:ba,createWalletInstance:ts,createdWalletInstance:$a,createWalletStorage:vn.createWalletStorage,switchChain:cs,setConnectedWallet:is,activeChain:vn.activeChain,chainToConnect:fn,getWalletConfig:g0=>walletInstanceToConfig.get(g0),getWrapperWallet:g0=>personalWalletToWrapperWallet.get(g0),activeChainSetExplicitly:vn.activeChainSetExplicitly,clientId:vn.clientId,walletConnectHandler:n0,personalWalletConnection:gs,isAutoConnecting:Ds},children:vn.children})}function useWalletContext(){const vn=reactExports.useContext(ThirdwebWalletContext);if(!vn)throw new Error("useWalletContext() can only be used inside <ThirdwebProvider />");return vn}async function getLastConnectedWalletInfo(){const vn=await lastConnectedWalletStorage.getItem(LAST_CONNECTED_WALLET_STORAGE_KEY);if(!vn)return null;try{return JSON.parse(vn)}catch{return await lastConnectedWalletStorage.removeItem(LAST_CONNECTED_WALLET_STORAGE_KEY),null}}async function saveLastConnectedWalletInfo(vn){try{await lastConnectedWalletStorage.setItem(LAST_CONNECTED_WALLET_STORAGE_KEY,JSON.stringify(vn))}catch(fn){console.error("Error saving the last connected wallet info",fn)}}function timeoutPromise(vn,fn){return new Promise((En,Cn)=>{const _i=setTimeout(()=>{Cn(new Error(fn.message))},fn.ms);vn.then(An=>{clearTimeout(_i),En(An)},An=>{clearTimeout(_i),Cn(An)})})}const autoConnectTimeoutErrorMessage="Failed to Auto connect. Auto connect timed out. You can increase the timeout duration using the autoConnectTimeout prop on <ThirdwebProvider />";function useWallet(vn){const fn=useWalletContext();invariant(fn);const En=fn.activeWallet;if(En)return En}function useWalletConfig(){const vn=useWalletContext();return invariant(vn),vn.activeWalletConfig}function useWallets(){const vn=useWalletContext();return invariant(vn),vn.wallets}function useConnect(){const vn=useWalletContext();return invariant(vn),vn.connect}function useDisconnect(){const vn=useWalletContext();return invariant(vn),vn.disconnect}function useConnectionStatus(){const vn=useWalletContext();return invariant(vn),vn.connectionStatus}function useCreateWalletInstance(){const vn=useWalletContext();return invariant(vn),vn.createWalletInstance}const AUTH_TOKEN_STORAGE_KEY="auth_token_storage_key",TW_CACHE_KEY_PREFIX="tw-cache";function enforceCachePrefix(vn){return[TW_CACHE_KEY_PREFIX,...vn.filter(fn=>typeof fn!="string"||fn!==TW_CACHE_KEY_PREFIX)]}function createContractCacheKey(){let vn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:AddressZero$1,fn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return enforceCachePrefix(["contract",vn,...fn])}function createCacheKeyWithNetwork(vn,fn){return enforceCachePrefix(cacheKeys.network.active(fn).concat(vn))}const cacheKeys={auth:{user:()=>enforceCachePrefix(["user"])},network:{active:vn=>enforceCachePrefix(["chainId",vn])},wallet:{balance:(vn,fn,En)=>enforceCachePrefix(createCacheKeyWithNetwork(enforceCachePrefix(["balance",{walletAddress:fn,tokenAddress:En}]),vn))},contract:{read:(vn,fn)=>createContractCacheKey(vn,["read",fn]),type:vn=>createContractCacheKey(vn,["contract-type"]),compilerMetadata:vn=>createContractCacheKey(vn,["publish-metadata"]),typeAndCompilerMetadata:vn=>createContractCacheKey(vn,["contract-type-and-metadata"]),metadata:vn=>createContractCacheKey(vn,["metadata"]),extractFunctions:vn=>createContractCacheKey(vn,["extractFunctions"]),call:(vn,fn,En,Cn)=>createContractCacheKey(vn,["call",fn,En,Cn]),accountFactory:{getAll:vn=>createContractCacheKey(vn,["accountFactory"]),isAccountDeployed:(vn,fn)=>createContractCacheKey(vn,["isAccountDeployed",fn]),getAllForAddress:(vn,fn)=>createContractCacheKey(vn,["getAllForAddress",fn])},account:{signers:vn=>createContractCacheKey(vn,["account","signers"])},app:{get:vn=>createContractCacheKey(vn,["appURI"])},events:{getEvents:(vn,fn)=>createContractCacheKey(vn,["events","getEvents",{eventName:fn}]),getAllEvents:vn=>createContractCacheKey(vn,["events","getAllEvents"])},nft:{get:(vn,fn)=>createContractCacheKey(vn,["get",{tokenId:fn}]),balanceOf:(vn,fn,En)=>createContractCacheKey(vn,["balanceOf",{owner:fn,tokenId:En}]),query:{all:(vn,fn)=>createContractCacheKey(vn,fn?["query","all",fn]:["query","all"]),totalCirculatingSupply:(vn,fn)=>createContractCacheKey(vn,["query","totalCirculatingSupply",fn??"0"]),totalCount:vn=>createContractCacheKey(vn,["query","totalCount"]),owned:{all:(vn,fn)=>createContractCacheKey(vn,["query","owned","all",fn])}},sharedMetadata:{get:vn=>createContractCacheKey(vn)},drop:{getAllUnclaimed:(vn,fn)=>createContractCacheKey(vn,fn?["getAllUnclaimed",fn]:["getAllUnclaimed"]),getAllClaimed:(vn,fn)=>createContractCacheKey(vn,fn?["getAllClaimed",fn]:["getAllClaimed"]),totalUnclaimedSupply:vn=>createContractCacheKey(vn,["totalUnclaimedSupply"]),totalClaimedSupply:vn=>createContractCacheKey(vn,["totalClaimedSupply"]),revealer:{getBatchesToReveal:(vn,fn)=>createContractCacheKey(vn,fn?["getBatchesToReveal",fn]:["getBatchesToReveal"])}}},token:{totalSupply:vn=>createContractCacheKey(vn,["totalSupply"]),decimals:vn=>createContractCacheKey(vn,["decimals"]),balanceOf:(vn,fn)=>createContractCacheKey(vn,["balanceOf",{walletAddress:fn}])},marketplace:{getListing:(vn,fn)=>createContractCacheKey(vn,["getListing",{listingId:fn}]),getAllListings:(vn,fn)=>createContractCacheKey(vn,fn?["getAllListings",fn]:["getAllListings"]),getTotalCount:vn=>createContractCacheKey(vn,["getTotalCount"]),getActiveListings:(vn,fn)=>createContractCacheKey(vn,fn?["getActiveListings",fn]:["getActiveListings"]),auction:{getBidBufferBps:(vn,fn)=>createContractCacheKey(vn,["auction","getBidBufferBps",{listingId:fn}]),getWinningBid:(vn,fn)=>createContractCacheKey(vn,["auction","getWinningBid",{listingId:fn}]),getMinimumNextBid:(vn,fn)=>createContractCacheKey(vn,["auction","getMinimumNextBid",{listingId:fn}]),getWinner:(vn,fn)=>createContractCacheKey(vn,["auction","getWinner",{listingId:fn}])},directListings:{getAll:(vn,fn)=>createContractCacheKey(vn,fn?["directListings","getAll",fn]:["directListings","getAll"]),getAllValid:(vn,fn)=>createContractCacheKey(vn,fn?["directListings","getAllValid",fn]:["directListings","getAllValid"]),getListing:(vn,fn)=>createContractCacheKey(vn,["directListings","getListing",{listingId:fn}]),getTotalCount:vn=>createContractCacheKey(vn,["directListings","getTotalCount"])},englishAuctions:{getAll:(vn,fn)=>createContractCacheKey(vn,fn?["englishAuctions","getAll",fn]:["englishAuctions","getAll"]),getAllValid:(vn,fn)=>createContractCacheKey(vn,fn?["englishAuctions","getAllValid",fn]:["englishAuctions","getAllValid"]),getAuction:(vn,fn)=>createContractCacheKey(vn,["englishAuctions","getAuction",{auctionId:fn}]),getWinningBid:(vn,fn)=>createContractCacheKey(vn,["englishAuctions","getWinningBid",{auctionId:fn}]),getTotalCount:vn=>createContractCacheKey(vn,["englishAuctions","getTotalCount"])}}},extensions:{claimConditions:{getActive:(vn,fn,En)=>createContractCacheKey(vn,fn?["claimConditions","getActive",{tokenId:fn},En]:["claimConditions","getActive",En]),getAll:(vn,fn,En)=>createContractCacheKey(vn,fn?["claimConditions","getAll",{tokenId:fn},En]:["claimConditions","getAll",En]),getClaimerProofs:(vn,fn)=>createContractCacheKey(vn,fn?["claimConditions","getClaimerProofs",{tokenId:fn}]:["claimConditions","getClaimerProofs"]),getClaimIneligibilityReasons:(vn,fn,En)=>createContractCacheKey(vn,En?["claimConditions","getIneligibilityReasons",{tokenId:En},fn]:["claimConditions","getIneligibilityReasons",fn]),useActiveClaimConditionForWallet:(vn,fn,En)=>createContractCacheKey(vn,En?["claimConditions","useActiveClaimConditionForWallet",{tokenId:En,walletAddress:fn},,]:["claimConditions","getIneligibilityReasons",{walletAddress:fn}])},sales:{getRecipient:vn=>createContractCacheKey(vn,["sales"])},royalties:{getDefaultRoyaltyInfo:vn=>createContractCacheKey(vn,["royalties"])},platformFees:{get:vn=>createContractCacheKey(vn,["platformFees"])},metadata:{get:vn=>createContractCacheKey(vn,["metadata"])},roles:{getAll:vn=>createContractCacheKey(vn,["roles"]),get:(vn,fn)=>createContractCacheKey(vn,["roles",{role:fn}])}}};function useLogout(){const vn=useQueryClient(),fn=useThirdwebAuthContext(),En=useMutation({mutationFn:async()=>{var Cn;invariant(fn),invariant(fn.authUrl),await fetch(`${fn.authUrl}/logout`,{method:"POST",credentials:"include"}),(Cn=fn.secureStorage)==null||Cn.removeItem(AUTH_TOKEN_STORAGE_KEY),vn.invalidateQueries(cacheKeys.auth.user())}});return{logout:En.mutateAsync,isLoading:En.isLoading}}function useSwitchAccount(){const vn=useQueryClient(),fn=useThirdwebAuthContext(),En=useMutation({mutationFn:async Cn=>{invariant(fn),invariant(fn.authUrl),await fetch(`${fn.authUrl}/switch-account`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:Cn})}),vn.invalidateQueries(cacheKeys.auth.user())}});return{switchAccount:En.mutateAsync,isLoading:En.isLoading}}const ThirdwebAuthProvider=vn=>{let{value:fn,children:En}=vn;const Cn=reactExports.useMemo(()=>{var An;return fn?{...fn,authUrl:(An=fn.authUrl)==null?void 0:An.replace(/\/$/,"")}:void 0},[fn]);return jsxRuntimeExports.jsxs(ThirdwebAuthContext.Provider,{value:Cn,children:[En,jsxRuntimeExports.jsx(ChangeActiveWalletOnAccountSwitch,{})]})};function ChangeActiveWalletOnAccountSwitch(){const vn=useWallet(),{logout:fn}=useLogout(),{switchAccount:En}=useSwitchAccount(),Cn=useThirdwebAuthContext(),_i=useQueryClient();return reactExports.useEffect(()=>{const An=async $a=>{if($a.address)try{await En($a.address)}catch(rs){console.debug(`[Auth] Failed to switch account to ${$a.address} with error:
`,rs)}},ba=async()=>{try{await fn()}catch($a){console.debug(`[Auth] Failed to logout with error:
`,$a)}},xa=!!vn&&Cn&&Cn.authUrl;return xa&&(vn.addListener("connect",An),vn.addListener("change",An),vn.addListener("disconnect",ba)),()=>{xa&&(vn.removeListener("connect",An),vn.removeListener("change",An),vn.removeListener("disconnect",ba))}},[vn,_i,Cn,fn,En]),null}function useUpdateChainsWithClientId(vn,fn,En){const Cn=reactExports.useMemo(()=>vn.map(An=>updateChainRPCs(An,En)),[vn,En]),_i=reactExports.useMemo(()=>!fn||typeof fn=="string"||typeof fn=="number"?fn:updateChainRPCs(fn,En),[fn,En]);return[Cn,_i]}const QueryClientProviderWithDefault=vn=>{let{queryClient:fn,children:En}=vn;const Cn=reactExports.useMemo(()=>fn||new QueryClient,[fn]);return jsxRuntimeExports.jsx(QueryClientProvider,{client:Cn,children:En})},ThirdwebConfigContext=reactExports.createContext(void 0),ThirdwebConfigProvider=vn=>{let{value:fn,children:En}=vn;return jsxRuntimeExports.jsx(ThirdwebConfigContext.Provider,{value:fn,children:En})};function useThirdwebConfigContext(){const vn=reactExports.useContext(ThirdwebConfigContext);return invariant(vn),vn}const ThirdwebSDKContext=reactExports.createContext({});function useSDKContext(){const vn=reactExports.useContext(ThirdwebSDKContext);return invariant(vn._inProvider),vn}function useSDK(){const{sdk:vn}=useSDKContext();return vn}function useSDKChainId(){const vn=useSDK();return vn==null?void 0:vn._chainId}const INITIAL_CONTEXT_VALUE={wallet:void 0,address:void 0,chainId:void 0,signer:void 0},ThirdwebConnectedWalletContext=reactExports.createContext(void 0),ThirdwebConnectedWalletProvider=vn=>{var $a;let{signer:fn,children:En}=vn;const{chains:Cn,clientId:_i}=useThirdwebConfigContext(),An=($a=useSDK())==null?void 0:$a.storage,[ba,xa]=reactExports.useState({...INITIAL_CONTEXT_VALUE,signer:fn||void 0});return reactExports.useEffect(()=>{xa(rs=>({...rs,signer:fn||void 0}))},[fn]),reactExports.useEffect(()=>{if(!An)return;let rs=fn;return fn?Promise.all([fn.getAddress(),fn.getChainId()]).then(ts=>{let[is,cs]=ts;const us=Cn.find(bs=>bs.chainId===cs);let ps;if(us)try{ps=getValidChainRPCs(us,_i)[0]}catch(bs){console.error(bs)}if(fn===rs){const bs=new UserWallet(fn,{readonlySettings:ps?{rpcUrl:ps,chainId:cs}:void 0},An);xa({wallet:bs,address:is,chainId:cs,signer:fn})}}).catch(ts=>{}):xa(INITIAL_CONTEXT_VALUE),()=>{rs=void 0}},[fn,_i]),jsxRuntimeExports.jsx(ThirdwebConnectedWalletContext.Provider,{value:ba,children:En})},WrappedThirdwebSDKProvider=vn=>{let{sdkOptions:fn={},storageInterface:En,supportedChains:Cn,activeChain:_i,signer:An,children:ba,clientId:xa,secretKey:$a}=vn;const rs=reactExports.useMemo(()=>{var cs,us;return _i?typeof _i=="number"?_i:typeof _i=="string"?(us=Cn.find(ps=>ps.slug===_i))==null?void 0:us.chainId:_i.chainId:(cs=Cn[0])==null?void 0:cs.chainId},[_i,Cn]),ts=reactExports.useMemo(()=>{let cs=rs;const us=Cn.find(gs=>gs.chainId===cs);!us&&cs!==void 0&&(console.warn(`The chainId ${cs} is not in the configured chains, please add it to the ThirdwebProvider`),cs=void 0);let ps;if(us&&us.rpc.length>0)try{const gs=getValidChainRPCs(us,xa)[0];ps={chainId:us.chainId,rpcUrl:gs}}catch{}const bs={readonlySettings:ps,...fn,supportedChains:Cn};let e0;if(cs&&(e0=new ThirdwebSDK(cs,{...bs,clientId:xa,secretKey:$a},En)),!e0)if(Cn.length>0)cs=Cn[0].chainId,e0=new ThirdwebSDK(cs,bs,En);else{console.error("No chains configured, please pass a chain or chains to the ThirdwebProvider");return}return e0._chainId=cs,e0},[rs,Cn,fn,En,xa,$a]);reactExports.useEffect(()=>{ts&&ts._chainId===rs&&(An?ts.updateSignerOrProvider(An):rs&&ts.updateSignerOrProvider(rs))},[ts,ts==null?void 0:ts._chainId,An,rs]);const is=reactExports.useMemo(()=>({sdk:ts&&ts._chainId===rs?ts:void 0,_inProvider:!0}),[rs,ts]);return jsxRuntimeExports.jsx(ThirdwebSDKContext.Provider,{value:is,children:ba})},ThirdwebSDKProvider=vn=>{const{signer:fn,children:En,queryClient:Cn,supportedChains:_i,activeChain:An,clientId:ba,...xa}=vn;ba||checkClientIdOrSecretKey("No API key. Please provide a clientId. It is required to access thirdweb's services. You can create a key at https://thirdweb.com/create-api-key",ba,void 0);const $a=_i||defaultChains,rs=reactExports.useMemo(()=>typeof An=="object"&&An!==null?$a.find(bs=>bs.chainId===An.chainId)?$a.map(bs=>bs.chainId===An.chainId?An:bs):[...$a,An]:$a,[$a,An]),[ts,is]=useUpdateChainsWithClientId(rs,An||rs[0],ba),cs=reactExports.useMemo(()=>!is||typeof is=="string"||typeof is=="number"?ts:[...ts.filter(ps=>ps.chainId!==is.chainId),is].filter((ps,bs,e0)=>bs===e0.findIndex(gs=>gs.chainId===ps.chainId)),[ts,is]);return jsxRuntimeExports.jsx(ThirdwebConfigProvider,{value:{chains:cs,clientId:ba},children:jsxRuntimeExports.jsx(QueryClientProviderWithDefault,{queryClient:Cn,children:jsxRuntimeExports.jsx(WrappedThirdwebSDKProvider,{signer:fn,supportedChains:cs,clientId:ba,activeChain:is,...xa,children:jsxRuntimeExports.jsx(ThirdwebConnectedWalletProvider,{signer:fn,children:En})})})})},ThirdwebProviderCore=vn=>{const{activeChain:fn,createWalletStorage:En=createAsyncLocalStorage}=vn,Cn=vn.supportedChains||defaultChains,_i=reactExports.useMemo(()=>typeof fn=="object"&&fn!==null?Cn.find(is=>is.chainId===fn.chainId)?Cn.map(is=>is.chainId===fn.chainId?fn:is):[...Cn,fn]:Cn,[Cn,fn]),[An,ba]=useUpdateChainsWithClientId(_i,vn.activeChain||_i[0],vn.clientId),xa=reactExports.useMemo(()=>{if(typeof ba=="number"){const rs=An.find(ts=>ts.chainId===ba);if(!rs)throw new Error(`Invalid chainId: ${ba}. It is not one of supportedChains`);return rs}if(typeof ba=="string"){const rs=An.find(ts=>ts.slug===ba);if(!rs)throw new Error(`Invalid chain: "${ba}". It is not one of supportedChains`);return rs}return ba},[ba,An]),$a=vn.dAppMeta;return jsxRuntimeExports.jsx(ThirdwebThemeContext.Provider,{value:vn.theme,children:jsxRuntimeExports.jsx(ThirdwebWalletProvider,{chains:An,supportedWallets:vn.supportedWallets,shouldAutoConnect:vn.autoConnect,createWalletStorage:En,dAppMeta:$a,activeChain:xa,autoSwitch:vn.autoSwitch,autoConnectTimeout:vn.autoConnectTimeout,clientId:vn.clientId,activeChainSetExplicitly:!!vn.activeChain,signerWallet:vn.signerWallet,children:jsxRuntimeExports.jsx(ThirdwebSDKProviderWrapper,{queryClient:vn.queryClient,sdkOptions:vn.sdkOptions,supportedChains:An,activeChain:xa,storageInterface:vn.storageInterface,authConfig:vn.authConfig,clientId:vn.clientId,secretKey:vn.secretKey,children:jsxRuntimeExports.jsx(ThirdwebAuthProvider,{value:vn.authConfig,children:vn.children})})})})},ThirdwebSDKProviderWrapper=vn=>{var _i;let{children:fn,...En}=vn;const Cn=(_i=useWalletContext())==null?void 0:_i.signer;return jsxRuntimeExports.jsx(ThirdwebSDKProvider,{signer:Cn,...En,children:fn})};function useAddress(){const vn=reactExports.useContext(ThirdwebConnectedWalletContext),fn=reactExports.useContext(ThirdwebWalletContext);return fn?fn.address:(invariant(vn),vn.address)}function useChainId(){const vn=reactExports.useContext(ThirdwebConnectedWalletContext),fn=reactExports.useContext(ThirdwebWalletContext);return fn?fn.chainId:(invariant(vn),vn.chainId)}const NEVER_PERSIST_QUERY_POSTFIX={persist:!1};function neverPersist(vn){return[...vn,NEVER_PERSIST_QUERY_POSTFIX]}function requiredParamInvariant(vn,fn){invariant(vn!==null||vn!==void 0)}function useQueryWithNetwork(vn,fn,En){const Cn=useSDKChainId(),_i={...En,enabled:!!(Cn&&(En!=null&&En.enabled))};return useQuery(createCacheKeyWithNetwork(vn,Cn),fn,_i)}async function fetchContractType(vn,fn){if(!vn||!fn)return null;try{return await fn.resolveContractType(vn)}catch(En){return console.error("failed to resolve contract type",En),"custom"}}function useContractType(vn){const fn=useSDK();return useQueryWithNetwork(cacheKeys.contract.type(vn),()=>fetchContractType(vn,fn),{cacheTime:1/0,staleTime:1/0,enabled:!!vn&&!!fn})}const contractType={cacheKey:(vn,fn)=>createCacheKeyWithNetwork(cacheKeys.contract.type(vn),fn),useQuery:useContractType,fetchQuery:fetchContractType};function fetchCompilerMetadata(vn,fn){if(!vn||!fn)return null;try{return fn.getPublisher().fetchCompilerMetadataFromAddress(vn)}catch{return null}}function useCompilerMetadata(vn){const fn=useSDK();return useQueryWithNetwork(cacheKeys.contract.compilerMetadata(vn),()=>fetchCompilerMetadata(vn,fn),{cacheTime:1/0,staleTime:1/0,enabled:!!vn&&!!fn})}const compilerMetadata={cacheKey:(vn,fn)=>createCacheKeyWithNetwork(cacheKeys.contract.compilerMetadata(vn),fn),useQuery:useCompilerMetadata,fetchQuery:fetchCompilerMetadata};function useContract(vn,fn){const En=useSDK(),Cn=useQueryClient(),_i=useSDKChainId(),An=useAddress(),ba=useChainId(),xa=En==null?void 0:En._constructedAt,$a=useQueryWithNetwork(neverPersist(["contract-instance",vn,{wallet:An,walletChainId:ba,sdkTimestamp:xa,contractTypeOrABI:fn}]),async()=>{var rs;requiredParamInvariant(vn),invariant(En),invariant(_i);{const ts=getCachedAbiForContract(vn);if(ts)return En.getContract(vn,ts);const is=await Cn.fetchQuery(contractType.cacheKey(vn,_i),()=>contractType.fetchQuery(vn,En),{cacheTime:1/0,staleTime:1/0});let cs;return is==="custom"&&(cs=(rs=await Cn.fetchQuery(compilerMetadata.cacheKey(vn,_i),()=>compilerMetadata.fetchQuery(vn,En),{cacheTime:1/0,staleTime:1/0,retry:0}))==null?void 0:rs.abi),invariant(is),En.getContract(vn,cs||is)}},{keepPreviousData:!0,cacheTime:1/0,staleTime:1/0,enabled:!!En&&!!_i,retry:0});return{...$a,data:$a.data,contract:$a.data}}function useContractWrite(vn,fn){const En=useSDKChainId(),Cn=vn==null?void 0:vn.getAddress(),_i=useQueryClient();return useMutation(async An=>{let{args:ba,overrides:xa}=An;return requiredParamInvariant(vn),requiredParamInvariant(fn),vn.call(fn,ba,xa)},{onSettled:()=>_i.invalidateQueries(createCacheKeyWithNetwork(createContractCacheKey(Cn),En))})}function useLogin(){const vn=useQueryClient(),fn=useThirdwebAuthContext(),En=useWallet(),Cn=useMutation({mutationFn:async()=>{var ts;invariant(fn),invariant(En),invariant(fn.authUrl);const _i=await En.getAddress(),An=await En.getChainId();let ba=await fetch(`${fn.authUrl}/payload`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:_i,chainId:An.toString()})});if(!ba.ok)throw new Error(`Failed to get payload with status code ${ba.status}`);let xa;try{({payload:xa}=await ba.json())}catch{throw new Error("Failed to get payload")}const $a=await signLoginPayload({wallet:En,payload:xa});if(ba=await fetch(`${fn.authUrl}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payload:$a}),credentials:"include"}),!ba.ok){const is=await ba.json();throw is.error?new Error(is.error):new Error(`Login request failed with status code ${ba.status}`)}const{token:rs}=await ba.json();return await((ts=fn.secureStorage)==null?void 0:ts.setItem(AUTH_TOKEN_STORAGE_KEY,rs)),vn.invalidateQueries(cacheKeys.auth.user()),rs}});return{login:()=>Cn.mutateAsync(),isLoading:Cn.isLoading}}function useUser(){const vn=useThirdwebAuthContext(),{data:fn,isLoading:En}=useQuery(cacheKeys.auth.user(),async()=>{var ba;invariant(vn),invariant(vn.authUrl);const Cn=await((ba=vn.secureStorage)==null?void 0:ba.getItem(AUTH_TOKEN_STORAGE_KEY)),_i={credentials:"include",...Cn?{headers:{Authorization:`Bearer ${Cn}`}}:{}};return await(await fetch(`${vn.authUrl}/user`,_i)).json()},{enabled:!!vn});return{user:fn,isLoggedIn:!!fn,isLoading:En}}function useStorage(){const vn=useSDK();return vn==null?void 0:vn.storage}const darkColors={base1:"hsl(230deg 11.63% 8.43%)",base2:"hsl(230deg 11.63% 12%)",base3:"hsl(230deg 11.63% 15%)",base4:"hsl(230deg 11.63% 17%)",primaryText:mauve$1.mauve12,secondaryText:mauve$1.mauve10,danger:tomato.tomato9,success:green.green8,overlay:"rgba(0, 0, 0, 0.7)",accentText:"#3385FF",accentBg:"hsl(216 100% 50%)",textOnAccent:mauve$1.mauve12},lightColors={base1:mauve.mauve1,base2:mauve.mauve3,base3:mauve.mauve5,base4:mauve.mauve6,primaryText:mauve.mauve12,secondaryText:mauve$1.mauve9,accentText:"hsl(216 100% 45%)",success:green.green9,danger:tomato.tomato9,overlay:"rgba(0, 0, 0, 0.7)",accentBg:"hsl(216 100% 50%)",textOnAccent:mauve.mauve1};function createThemeObj(vn){return{type:"dark",colors:{primaryText:vn.primaryText,secondaryText:vn.secondaryText,accentText:vn.accentText,danger:vn.danger,success:vn.success,modalOverlayBg:vn.overlay,accentButtonBg:vn.accentBg,accentButtonText:vn.textOnAccent,primaryButtonBg:vn.primaryText,primaryButtonText:vn.base1,secondaryButtonBg:vn.base3,secondaryButtonText:vn.primaryText,secondaryButtonHoverBg:vn.base4,modalBg:vn.base1,tooltipBg:vn.primaryText,tooltipText:vn.base1,inputAutofillBg:vn.base2,scrollbarBg:vn.base2,walletSelectorButtonHoverBg:vn.base2,separatorLine:vn.base4,secondaryIconColor:vn.secondaryText,secondaryIconHoverBg:vn.base3,secondaryIconHoverColor:vn.primaryText,borderColor:vn.base4,skeletonBg:vn.base3,selectedTextColor:vn.base1,selectedTextBg:vn.primaryText,connectedButtonBg:vn.base1,connectedButtonBgHover:vn.base2},fontFamily:"inherit"}}const darkThemeObj=createThemeObj(darkColors),lightThemeObj=createThemeObj(lightColors),fontSize={xs:"12px",sm:"14px",md:"16px",lg:"20px",xl:"24px"},spacing={xxs:"6px",xs:"8px",sm:"12px",md:"16px",lg:"24px",xl:"32px",xxl:"48px","3xl":"64px"},radius={sm:"6px",md:"8px",lg:"12px",xl:"20px",xxl:"32px"},iconSize={xs:"12",sm:"16",md:"24",lg:"32",xl:"48",xxl:"64","3xl":"96","4xl":"128"},media={mobile:"@media (max-width: 640px)"},shadow={sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.07), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)"},CustomThemeCtx=reactExports.createContext(darkThemeObj);function CustomThemeProvider(vn){const{theme:fn,children:En}=vn;let Cn;return typeof fn=="string"?Cn=fn==="light"?lightThemeObj:darkThemeObj:Cn=fn,jsxRuntimeExports.jsx(CustomThemeCtx.Provider,{value:Cn,children:En})}function useCustomTheme(){return reactExports.useContext(CustomThemeCtx)}const StyledDiv=newStyled.div,StyledSvg=newStyled.svg,StyledCircle=newStyled.circle,StyledSpan=newStyled.span,StyledAnchor=newStyled.a,StyledButton=newStyled.button;newStyled.label;newStyled.input;const StyledH2=newStyled.h2;newStyled.p;const StyledUl=newStyled.ul;newStyled.select;newStyled.option;const Button=StyledButton(vn=>{const fn=useCustomTheme();return{all:"unset",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:radius.md,padding:`${fontSize.sm} ${fontSize.sm}`,fontSize:fontSize.md,fontWeight:500,boxSizing:"border-box",WebkitTapHighlightColor:"transparent",lineHeight:"normal",flexShrink:0,transition:"border 200ms ease",gap:vn.gap&&spacing[vn.gap]||0,width:vn.fullWidth?"100%":void 0,textAlign:"center",maxWidth:"100%",background:(()=>{switch(vn.variant){case"primary":return fn.colors.primaryButtonBg;case"accent":return fn.colors.accentButtonBg;case"secondary":return fn.colors.secondaryButtonBg;default:return"none"}})(),color:(()=>{switch(vn.variant){case"primary":return fn.colors.primaryButtonText;case"accent":return fn.colors.accentButtonText;case"secondary":return fn.colors.secondaryButtonText;case"outline":return fn.colors.secondaryButtonText;case"link":return fn.colors.accentText;default:return fn.colors.primaryButtonText}})(),"&:active":{transform:"translateY(1px)"},"&[disabled]":{cursor:"not-allowed"},"&[data-disabled='true']":{background:fn.colors.walletSelectorButtonHoverBg,color:fn.colors.secondaryText,borderColor:"transparent",boxShadow:"none","&:hover":{borderColor:"transparent"}},...vn.variant==="outline"?{border:`1.5px solid ${fn.colors.borderColor}`,"&:hover":{borderColor:fn.colors.accentText}}:vn.variant==="secondary"?{"&:hover":{background:fn.colors.secondaryButtonHoverBg}}:vn.variant==="link"?{padding:0,"&:hover":{color:fn.colors.primaryText}}:{}}}),IconButton=StyledButton(()=>{const vn=useCustomTheme();return{all:"unset",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:radius.sm,WebkitTapHighlightColor:"transparent",color:vn.colors.secondaryIconColor,padding:"2px",transition:"background 200ms ease, color 200ms ease","&:hover":{background:vn.colors.secondaryIconHoverBg,color:vn.colors.secondaryIconHoverColor}}}),ModalTitle=StyledH2(vn=>{const fn=useCustomTheme();return{margin:0,fontWeight:600,fontSize:fontSize.lg,color:fn.colors.primaryText,lineHeight:1.3,textAlign:"left",[media.mobile]:{textAlign:vn.centerOnMobile?"center":"left"}}}),BackButton=vn=>jsxRuntimeExports.jsx(IconButton,{onClick:vn.onClick,style:{transform:"translateX(-25%)",...vn.style},type:"button",children:jsxRuntimeExports.jsx(ChevronLeftIcon,{width:iconSize.md,height:iconSize.md})}),Skeleton=vn=>jsxRuntimeExports.jsx(SkeletonDiv,{style:{height:vn.height,width:vn.width||"auto"}}),skeletonAnimation=keyframes$1`
0% {
    opacity: 0.5;
  }
  100% {
    opacity: 1;
  }
`,SkeletonDiv=StyledDiv(()=>({backgroundSize:"200% 200%",backgroundColor:useCustomTheme().colors.skeletonBg,animation:`${skeletonAnimation} 500ms ease-in-out infinite alternate`,borderRadius:radius.sm})),Img=vn=>{const fn=useStorage(),[En,Cn]=reactExports.useState(!1),_i=vn.src,An=vn.width+"px",ba=(vn.height||vn.width)+"px";if(!_i)return jsxRuntimeExports.jsx(Skeleton,{width:An,height:ba});const $a=(()=>{if(!vn.src)return vn.fallbackImage||"";try{return fn?fn.resolveScheme(vn.src):vn.src.replace("ipfs://","https://ipfs.io/ipfs/")}catch{return vn.src}})();return jsxRuntimeExports.jsxs("div",{style:{position:"relative",display:"inline-flex",flexShrink:0,alignItems:"center"},children:[!En&&jsxRuntimeExports.jsx(Skeleton,{width:An,height:ba}),jsxRuntimeExports.jsx("img",{onLoad:()=>{Cn(!0)},width:vn.width,height:vn.height,src:$a,alt:vn.alt||"",loading:vn.loading,decoding:"async",style:{objectFit:"contain",height:En?vn.height?vn.height+"px":void 0:0,width:En?vn.width?vn.width+"px":void 0:0,userSelect:"none",visibility:En?"visible":"hidden",opacity:En?1:0,transition:"opacity 0.4s ease",...vn.style},draggable:!1,className:vn.className,onError:rs=>{vn.fallbackImage&&rs.currentTarget.src!==vn.fallbackImage&&(rs.currentTarget.src=vn.fallbackImage)}},$a)]})},floatUpAnimation=keyframes$1`
  from {
    opacity: 0;
    transform: translateY(20%) scale(0.8) ;
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`,floatDownAnimation=keyframes$1`
  from {
    opacity: 0;
    transform: translateY(-20%) scale(0.8) ;
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`,fadeInAnimation=keyframes$1`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`,ScreenBottomContainer=StyledDiv(()=>({borderTop:`1px solid ${useCustomTheme().colors.separatorLine}`,display:"flex",flexDirection:"column",gap:spacing.lg,padding:spacing.lg})),noScrollBar={scrollbarWidth:"none","&::-webkit-scrollbar":{width:0,display:"none"}};function ModalHeader(vn){const{onBack:fn,title:En,imgSrc:Cn}=vn;return jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[fn&&jsxRuntimeExports.jsx(BackButton,{onClick:fn,style:{position:"absolute",left:0,top:0}}),jsxRuntimeExports.jsxs(Container,{flex:"row",gap:"xs",center:"both",children:[Cn&&jsxRuntimeExports.jsx(Img,{src:Cn,width:iconSize.md,height:iconSize.md}),typeof En=="string"?jsxRuntimeExports.jsx(ModalTitle,{children:En}):En]})]})}const Line=StyledDiv(()=>({height:"1px",background:useCustomTheme().colors.separatorLine}));function Container(vn){const fn={};return vn.relative&&(fn.position="relative"),vn.fullHeight&&(fn.height="100%"),vn.expand&&(fn.flex="1 1 0%"),vn.flex&&(fn.display="flex",fn.flexDirection=vn.flex,vn.flex==="row"&&(fn.flexWrap="wrap"),vn.gap&&(fn.gap=spacing[vn.gap]),vn.center&&(vn.center==="both"&&(fn.justifyContent="center",fn.alignItems="center"),(vn.center==="x"&&vn.flex==="row"||vn.center==="y"&&vn.flex==="column")&&(fn.justifyContent="center"),(vn.center==="x"&&vn.flex==="column"||vn.center==="y"&&vn.flex==="row")&&(fn.alignItems="center"))),vn.p&&(fn.padding=spacing[vn.p]),vn.px&&(fn.paddingLeft=spacing[vn.px],fn.paddingRight=spacing[vn.px]),vn.py&&(fn.paddingTop=spacing[vn.py],fn.paddingBottom=spacing[vn.py]),vn.debug&&(fn.outline="1px solid red",fn.outlineOffset="-1px"),jsxRuntimeExports.jsx(Box,{"data-scrolly":vn.scrollY,"data-animate":vn.animate,bg:vn.bg,color:vn.color,borderColor:vn.borderColor,style:{...fn,...vn.style},children:vn.children})}const Box=StyledDiv(vn=>{const fn=useCustomTheme();return{color:vn.color?fn.colors[vn.color]:"inherit",background:vn.bg?fn.colors[vn.bg]:void 0,borderColor:vn.borderColor?fn.colors[vn.borderColor]:void 0,"&[data-animate='fadein']":{opacity:0,animation:`${fadeInAnimation} 350ms ease forwards`},"&[data-animate='floatup']":{opacity:0,animation:`${floatUpAnimation} 350ms ease forwards`},"&[data-animate='floatdown']":{opacity:0,animation:`${floatDownAnimation} 350ms ease forwards`},"&[data-scrolly='true']":{overflowY:"auto",...noScrollBar}}}),Spacer=vn=>{let{y:fn}=vn;return jsxRuntimeExports.jsx("div",{style:{height:spacing[fn]}})},Text=StyledSpan(vn=>{const fn=useCustomTheme();return{fontSize:fontSize[vn.size||"md"],color:fn.colors[vn.color||"secondaryText"],margin:0,display:vn.inline?"inline":"block",fontWeight:vn.weight||500,lineHeight:vn.multiline?1.5:"normal",textAlign:vn.center?"center":"left",textWrap:vn.balance?"balance":"inherit",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"}}),Link=StyledAnchor(vn=>{const fn=useCustomTheme();return{all:"unset",cursor:"pointer",color:fn.colors[vn.color||"accentText"],fontSize:fontSize[vn.size||"md"],textDecoration:"none",textAlign:vn.center?"center":"left",display:vn.inline?"inline":"block",fontWeight:vn.weight||500,lineHeight:"normal",transition:"color 0.2s ease","&:hover":{color:fn.colors[vn.hoverColor||"primaryText"],textDecoration:"none"}}});function extensionAndQRScanScreens(vn){return{connectionScreen:{inProgress:"Awaiting Confirmation",failed:"Connection failed",instruction:`Accept the connection request in ${vn}`,retry:"Try Again"},getStartedScreen:{instruction:`Scan the QR code to download the ${vn} app`},scanScreen:{instruction:`Scan the QR code with the ${vn} wallet app to connect`},getStartedLink:`Don't have a ${vn} wallet?`}}function enDefault(){return{connectWallet:{signIn:"Sign in",defaultButtonTitle:"Connect Wallet",connecting:"Connecting",switchNetwork:"Switch Network",switchingNetwork:"Switching Network",defaultModalTitle:"Connect",recommended:"Recommended",installed:"Installed",continueAsGuest:"Continue as guest",connectAWallet:"Connect a wallet",newToWallets:"New to wallets?",getStarted:"Get started",guest:"Guest",send:"Send",receive:"Receive",currentNetwork:"Current network",switchAccount:"Switch Account",requestTestnetFunds:"Request Testnet Funds",transactionHistory:"Transaction History",backupWallet:"Backup Wallet",guestWalletWarning:"This is a temporary guest wallet. Backup wallet if you don't want to lose access to it",switchTo:"Switch to",connectedToSmartWallet:"Connected To Smart Account",confirmInWallet:"Confirm in wallet",disconnectWallet:"Disconnect Wallet",copyAddress:"Copy Address",personalWallet:"Personal Wallet",smartWallet:"Smart Account",or:"OR",goBackButton:"Back",download:{chrome:"Download Chrome Extension",android:"Download on Google Play",iOS:"Download on App Store"},welcomeScreen:{defaultTitle:"Your gateway to the decentralized world",defaultSubtitle:"Connect a wallet to get started"},agreement:{prefix:"By connecting, you agree to the",termsOfService:"Terms of Service",and:"&",privacyPolicy:"Privacy Policy"},networkSelector:{title:"Select Network",mainnets:"Mainnets",testnets:"Testnets",allNetworks:"All",addCustomNetwork:"Add Custom Network",inputPlaceholder:"Search Network or Chain ID",categoryLabel:{recentlyUsed:"Recently Used",popular:"Popular",others:"All Networks"},loading:"Loading",failedToSwitch:"Failed to switch network"},receiveFundsScreen:{title:"Receive Funds",instruction:"Copy the wallet address to send funds to this wallet"},sendFundsScreen:{title:"Send Funds",submitButton:"Send",token:"Token",sendTo:"Send to",amount:"Amount",successMessage:"Transaction Successful",invalidAddress:"Invalid Address",noTokensFound:"No Tokens Found",searchToken:"Search or Paste token address",transactionFailed:"Transaction Failed",transactionRejected:"Transaction Rejected",insufficientFunds:"Insufficient Funds",selectTokenTitle:"Select a Token",sending:"Sending"},signatureScreen:{instructionScreen:{title:"Sign in",instruction:"Please sign the message request in your wallet to continue",signInButton:"Sign in",disconnectWallet:"Disconnect Wallet"},signingScreen:{title:"Signing In",prompt:"Sign the signature request in your wallet",promptForSafe:"Sign signature request in your wallet & approve transaction in Safe",approveTransactionInSafe:"Approve transaction in Safe",tryAgain:"Try Again",failedToSignIn:"Failed to Sign in",inProgress:"Awaiting Confirmation"}}},wallets:{walletConnect:{scanInstruction:"Scan this with your wallet app to connect"},smartWallet:{connecting:"Connecting to Smart Account",failedToConnect:"Failed to connect to Smart Acount",wrongNetworkScreen:{title:"Wrong Network",subtitle:"Your wallet is not connected to the required network",failedToSwitch:"Failed to switch network"}},safeWallet:{connectWalletScreen:{title:"Link personal wallet",subtitle:"Connect your personal wallet to use Safe.",learnMoreLink:"Learn more"},accountDetailsScreen:{title:"Enter your safe details",findSafeAddressIn:"You can find your safe address in",dashboardLink:"Safe Dashboard",network:"Safe Network",selectNetworkPlaceholder:"Network your safe is deployed to",invalidChainConfig:"Can not use Safe: No Safe supported chains are configured in App",failedToConnect:"Could not connect to Safe. Make sure safe address and network are correct.",failedToSwitch:"Failed to switch network",switchNetwork:"Switch Network",switchingNetwork:"Switching Network",connectToSafe:"Connect to Safe",connecting:"Connecting",mainnets:"Mainnets",testnets:"Testnets",safeAddress:"Safe Address"}},coinbaseWallet:extensionAndQRScanScreens("Coinbase"),magicEdenWallet:extensionAndQRScanScreens("Magic Eden"),metamaskWallet:extensionAndQRScanScreens("MetaMask"),okxWallet:extensionAndQRScanScreens("OKX"),phantomWallet:extensionAndQRScanScreens("Phantom"),xdefiWallet:extensionAndQRScanScreens("XDEFI"),rainbowWallet:extensionAndQRScanScreens("Rainbow"),trustWallet:extensionAndQRScanScreens("Trust"),imTokenWallet:extensionAndQRScanScreens("imToken"),zerionWallet:extensionAndQRScanScreens("Zerion"),coreWallet:extensionAndQRScanScreens("Core"),oneKeyWallet:extensionAndQRScanScreens("OneKey"),cryptoDefiWallet:extensionAndQRScanScreens("Crypto Defi"),rabbyWallet:extensionAndQRScanScreens("Rabby"),coin98Wallet:extensionAndQRScanScreens("Coin98"),paperWallet:{signIn:"Sign in",signInWithGoogle:"Sign in with Google",emailPlaceholder:"Enter your email address",submitEmail:"Continue",invalidEmail:"Invalid email address",emailRequired:"Email address is required",googleLoginScreen:{title:"Sign in",instruction:"Select your Google account in the pop-up",failed:"Failed to sign in",retry:"Retry"},emailLoginScreen:{title:"Sign in",enterCodeSendTo:"Enter the verification code sent to",newDeviceDetected:"New device detected",enterRecoveryCode:"Enter the recovery code emailed to you when you first signed up",invalidCode:"Invalid verification code",invalidCodeOrRecoveryCode:"Invalid verification code or Recovery code",verify:"Verify",failedToSendCode:"Failed to send verification code",sendingCode:"Sending verification code",resendCode:"Resend verification code"}},embeddedWallet:{signInWithGoogle:"Sign in with Google",signInWithFacebook:"Sign in with Facebook",signInWithApple:"Sign in with Apple",signInWithEmail:"Sign in with Email",emailPlaceholder:"Enter your email address",submitEmail:"Continue",signIn:"Sign in",emailRequired:"Email address is required",invalidEmail:"Invalid email address",maxAccountsExceeded:"Maximum number of accounts exceeded. Please notify the app developer.",invalidPhone:"Invalid phone number",invalidEmailOrPhone:"Invalid email address or phone number",countryCodeMissing:"Phone number must start with a country code",phonePlaceholder:"Enter phone number",signInWithPhone:"Sign in with phone number",phoneRequired:"phone number is required",socialLoginScreen:{title:"Sign in",instruction:"Sign into your account in the pop-up",failed:"Failed to sign in",retry:"Retry"},otpLoginScreen:{title:"Sign in",enterCodeSendTo:"Enter the verification code sent to",newDeviceDetected:"New device detected",enterRecoveryCode:"Enter the recovery code emailed to you when you first signed up",invalidCode:"Invalid verification code",invalidCodeOrRecoveryCode:"Invalid verification code or Recovery code",verify:"Verify",failedToSendCode:"Failed to send verification code",sendingCode:"Sending verification code",resendCode:"Resend verification code"},createPassword:{title:"Create Password",instruction:"Set a password for your account. You will need this password when connecting from a new device.",saveInstruction:"Make sure to save it",inputPlaceholder:"Enter your password",confirmation:"I have saved my password",submitButton:"Set Password",failedToSetPassword:"Failed to set password"},enterPassword:{title:"Enter Password",instruction:"Enter the password for your account",inputPlaceholder:"Enter your password",submitButton:"Verify",wrongPassword:"Wrong password"}},magicLink:{signIn:"Sign in",loginWith:"Login with",submitEmail:"Continue",loginWithEmailOrPhone:"Login with email or phone number",emailOrPhoneRequired:"email or phone number is required",loginWithPhone:"Login with phone number",phoneRequired:"phone number is required",invalidEmail:"Invalid email address",invalidPhone:"Invalid phone number",invalidEmailOrPhone:"Invalid email address or phone number",countryCodeMissing:"Phone number must start with a country code",emailPlaceholder:"Enter your email address",emailRequired:"Email address is required"},localWallet:{passwordLabel:"Password",confirmPasswordLabel:"Confirm Password",enterYourPassword:"Enter your password",warningScreen:{title:"Warning",warning:"Your current wallet will be deleted if you create a new wallet. Backup wallet to your device before creating a new wallet",backupWallet:"Backup Wallet"},reconnectScreen:{title:"Connect to saved wallet",savedWallet:"Saved Wallet",continue:"Continue",createNewWallet:"Create a new wallet"},createScreen:{instruction:"Choose a password for your wallet. You'll be able to access and export this wallet with the same password",importWallet:"Import Wallet",createNewWallet:"Create new wallet",connecting:"Connecting"},exportScreen:{description1:"This will download a JSON file containing the wallet information onto your device encrypted with the password",description2:"You can use this JSON file to import the account in MetaMask using the same password",walletAddress:"Wallet Address",download:"Download",title:"Backup Wallet"},importScreen:{title:"Import Wallet",description1:"The application can authorize any transactions on behalf of the wallet without any approvals",description2:"We recommend only connecting to trusted applications",import:"Import",uploadJSON:"Please upload a JSON file",uploadedSuccessfully:"Uploaded successfully"}},frameWallet:{...extensionAndQRScanScreens("Frame"),connectionFailedScreen:{title:"Failed to connect to Frame",description:"Make sure the desktop app is installed and running. You can download Frame from the link below. Make sure to refresh this page once Frame is running.",downloadFrame:"Download Frame",supportLink:"Still having troubles connecting?"}}}}}function en(vn){return enDefault()}const ThirdwebLocaleContext=reactExports.createContext(enDefault());function useTWLocale(){return reactExports.useContext(ThirdwebLocaleContext)}const reservedScreens={main:"main",getStarted:"getStarted",signIn:"signIn"},modalMaxWidthCompact="360px",wideModalWidth=730,modalMaxWidthWide=wideModalWidth+"px",wideModalScreenThreshold=wideModalWidth+40,wideModalMaxHeight="570px",compactModalMaxHeight="650px",modalCloseFadeOutDuration=250;function onModalUnmount(vn){setTimeout(vn,modalCloseFadeOutDuration+100)}function canFitWideModal(){return window.innerWidth>=wideModalScreenThreshold}const WalletModalOpen=reactExports.createContext(!1),SetWalletModalOpen=reactExports.createContext(void 0),ModalConfigCtx=reactExports.createContext({title:"",theme:"dark",data:void 0,modalSize:"wide"}),SetModalConfigCtx=reactExports.createContext(()=>{}),WalletUIStatesProvider=vn=>{const[fn,En]=reactExports.useState(!1),Cn=!canFitWideModal(),_i=useTWLocale(),[An,ba]=reactExports.useState({title:vn.title||_i.connectWallet.defaultModalTitle,theme:vn.theme||"dark",data:void 0,modalSize:(Cn?"compact":vn.modalSize)||"wide",termsOfServiceUrl:vn.termsOfServiceUrl,privacyPolicyUrl:vn.privacyPolicyUrl,welcomeScreen:vn.welcomeScreen,titleIconUrl:vn.titleIconUrl,isEmbed:vn.isEmbed,auth:vn.auth,onConnect:vn.onConnect,showThirdwebBranding:vn.showThirdwebBranding});return jsxRuntimeExports.jsx(WalletModalOpen.Provider,{value:fn,children:jsxRuntimeExports.jsx(SetWalletModalOpen.Provider,{value:En,children:jsxRuntimeExports.jsx(ModalConfigCtx.Provider,{value:An,children:jsxRuntimeExports.jsx(SetModalConfigCtx.Provider,{value:ba,children:vn.children})})})})},useIsWalletModalOpen=()=>reactExports.useContext(WalletModalOpen),useSetIsWalletModalOpen=()=>{const vn=reactExports.useContext(SetWalletModalOpen);if(vn===void 0)throw new Error("useSetWalletModalOpen must be used within a ThirdwebProvider");return vn},Spinner=vn=>{const fn=useCustomTheme();return jsxRuntimeExports.jsx(Svg,{style:{width:iconSize[vn.size]+"px",height:iconSize[vn.size]+"px"},viewBox:"0 0 50 50",children:jsxRuntimeExports.jsx(Circle,{cx:"25",cy:"25",r:"20",fill:"none",stroke:fn.colors[vn.color],strokeWidth:"4"})})},dashAnimation=keyframes$1`
  0% {
    stroke-dasharray: 1, 150;
    stroke-dashoffset: 0;
  }
  50% {
    stroke-dasharray: 90, 150;
    stroke-dashoffset: -35;
  }
  100% {
    stroke-dasharray: 90, 150;
    stroke-dashoffset: -124;
  }
`,rotateAnimation=keyframes$1`
  100% {
    transform: rotate(360deg);
  }
`,Svg=StyledSvg({animation:`${rotateAnimation} 2s linear infinite`,width:"1em",height:"1em"}),Circle=StyledCircle({strokeLinecap:"round",animation:`${dashAnimation} 1.5s ease-in-out infinite`}),ScreenSetupContext=reactExports.createContext(void 0);function useSetupScreen(){var $a;const vn=useWallets(),fn=reactExports.useContext(ModalConfigCtx);let En=reservedScreens.main;const Cn=vn.find(rs=>rs.category==="socialLogin");vn.length===1&&vn[0]&&!(($a=vn[0])!=null&&$a.selectUI)?En=vn[0]:fn.modalSize==="wide"&&!fn.welcomeScreen&&Cn&&(En=Cn);const[_i,An]=reactExports.useState(En),ba=reactExports.useRef(En),xa=useWallet();return reactExports.useEffect(()=>{En!==ba.current&&(ba.current=En,An(En))},[En]),reactExports.useEffect(()=>{!xa&&_i===reservedScreens.signIn&&An(reservedScreens.main)},[xa,_i]),{screen:_i,setScreen:An,initialScreen:En}}function useScreenContext(){const vn=reactExports.useContext(ScreenSetupContext);if(!vn)throw new Error("useScreenContext must be used within a <ScreenProvider />");return vn}const TextDivider=vn=>jsxRuntimeExports.jsx(TextDividerEl,{style:{paddingBlock:vn.py?spacing[vn.py]:0},children:jsxRuntimeExports.jsxs("span",{children:[" ",vn.text]})}),TextDividerEl=StyledDiv(()=>{const vn=useCustomTheme();return{display:"flex",alignItems:"center",color:vn.colors.secondaryText,fontSize:fontSize.sm,"&::before, &::after":{content:'""',flex:1,borderBottom:`1px solid ${vn.colors.separatorLine}`},span:{margin:"0 16px"}}});function composeEventHandlers(vn,fn,{checkForDefaultPrevented:En=!0}={}){return function(_i){if(vn==null||vn(_i),En===!1||!_i.defaultPrevented)return fn==null?void 0:fn(_i)}}function setRef(vn,fn){typeof vn=="function"?vn(fn):vn!=null&&(vn.current=fn)}function composeRefs(...vn){return fn=>vn.forEach(En=>setRef(En,fn))}function useComposedRefs(...vn){return reactExports.useCallback(composeRefs(...vn),vn)}function createContext2(vn,fn){const En=reactExports.createContext(fn),Cn=An=>{const{children:ba,...xa}=An,$a=reactExports.useMemo(()=>xa,Object.values(xa));return jsxRuntimeExports.jsx(En.Provider,{value:$a,children:ba})};Cn.displayName=vn+"Provider";function _i(An){const ba=reactExports.useContext(En);if(ba)return ba;if(fn!==void 0)return fn;throw new Error(`\`${An}\` must be used within \`${vn}\``)}return[Cn,_i]}function createContextScope(vn,fn=[]){let En=[];function Cn(An,ba){const xa=reactExports.createContext(ba),$a=En.length;En=[...En,ba];const rs=is=>{var gs;const{scope:cs,children:us,...ps}=is,bs=((gs=cs==null?void 0:cs[vn])==null?void 0:gs[$a])||xa,e0=reactExports.useMemo(()=>ps,Object.values(ps));return jsxRuntimeExports.jsx(bs.Provider,{value:e0,children:us})};rs.displayName=An+"Provider";function ts(is,cs){var bs;const us=((bs=cs==null?void 0:cs[vn])==null?void 0:bs[$a])||xa,ps=reactExports.useContext(us);if(ps)return ps;if(ba!==void 0)return ba;throw new Error(`\`${is}\` must be used within \`${An}\``)}return[rs,ts]}const _i=()=>{const An=En.map(ba=>reactExports.createContext(ba));return function(xa){const $a=(xa==null?void 0:xa[vn])||An;return reactExports.useMemo(()=>({[`__scope${vn}`]:{...xa,[vn]:$a}}),[xa,$a])}};return _i.scopeName=vn,[Cn,composeContextScopes(_i,...fn)]}function composeContextScopes(...vn){const fn=vn[0];if(vn.length===1)return fn;const En=()=>{const Cn=vn.map(_i=>({useScope:_i(),scopeName:_i.scopeName}));return function(An){const ba=Cn.reduce((xa,{useScope:$a,scopeName:rs})=>{const is=$a(An)[`__scope${rs}`];return{...xa,...is}},{});return reactExports.useMemo(()=>({[`__scope${fn.scopeName}`]:ba}),[ba])}};return En.scopeName=fn.scopeName,En}var Slot=reactExports.forwardRef((vn,fn)=>{const{children:En,...Cn}=vn,_i=reactExports.Children.toArray(En),An=_i.find(isSlottable);if(An){const ba=An.props.children,xa=_i.map($a=>$a===An?reactExports.Children.count(ba)>1?reactExports.Children.only(null):reactExports.isValidElement(ba)?ba.props.children:null:$a);return jsxRuntimeExports.jsx(SlotClone,{...Cn,ref:fn,children:reactExports.isValidElement(ba)?reactExports.cloneElement(ba,void 0,xa):null})}return jsxRuntimeExports.jsx(SlotClone,{...Cn,ref:fn,children:En})});Slot.displayName="Slot";var SlotClone=reactExports.forwardRef((vn,fn)=>{const{children:En,...Cn}=vn;if(reactExports.isValidElement(En)){const _i=getElementRef$1(En);return reactExports.cloneElement(En,{...mergeProps(Cn,En.props),ref:fn?composeRefs(fn,_i):_i})}return reactExports.Children.count(En)>1?reactExports.Children.only(null):null});SlotClone.displayName="SlotClone";var Slottable=({children:vn})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:vn});function isSlottable(vn){return reactExports.isValidElement(vn)&&vn.type===Slottable}function mergeProps(vn,fn){const En={...fn};for(const Cn in fn){const _i=vn[Cn],An=fn[Cn];/^on[A-Z]/.test(Cn)?_i&&An?En[Cn]=(...xa)=>{An(...xa),_i(...xa)}:_i&&(En[Cn]=_i):Cn==="style"?En[Cn]={..._i,...An}:Cn==="className"&&(En[Cn]=[_i,An].filter(Boolean).join(" "))}return{...vn,...En}}function getElementRef$1(vn){var Cn,_i;let fn=(Cn=Object.getOwnPropertyDescriptor(vn.props,"ref"))==null?void 0:Cn.get,En=fn&&"isReactWarning"in fn&&fn.isReactWarning;return En?vn.ref:(fn=(_i=Object.getOwnPropertyDescriptor(vn,"ref"))==null?void 0:_i.get,En=fn&&"isReactWarning"in fn&&fn.isReactWarning,En?vn.props.ref:vn.props.ref||vn.ref)}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Primitive=NODES.reduce((vn,fn)=>{const En=reactExports.forwardRef((Cn,_i)=>{const{asChild:An,...ba}=Cn,xa=An?Slot:fn;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(xa,{...ba,ref:_i})});return En.displayName=`Primitive.${fn}`,{...vn,[fn]:En}},{});function dispatchDiscreteCustomEvent(vn,fn){vn&&reactDomExports.flushSync(()=>vn.dispatchEvent(fn))}function useCallbackRef$1(vn){const fn=reactExports.useRef(vn);return reactExports.useEffect(()=>{fn.current=vn}),reactExports.useMemo(()=>(...En)=>{var Cn;return(Cn=fn.current)==null?void 0:Cn.call(fn,...En)},[])}function useEscapeKeydown(vn,fn=globalThis==null?void 0:globalThis.document){const En=useCallbackRef$1(vn);reactExports.useEffect(()=>{const Cn=_i=>{_i.key==="Escape"&&En(_i)};return fn.addEventListener("keydown",Cn,{capture:!0}),()=>fn.removeEventListener("keydown",Cn,{capture:!0})},[En,fn])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((vn,fn)=>{const{disableOutsidePointerEvents:En=!1,onEscapeKeyDown:Cn,onPointerDownOutside:_i,onFocusOutside:An,onInteractOutside:ba,onDismiss:xa,...$a}=vn,rs=reactExports.useContext(DismissableLayerContext),[ts,is]=reactExports.useState(null),cs=(ts==null?void 0:ts.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,us]=reactExports.useState({}),ps=useComposedRefs(fn,o0=>is(o0)),bs=Array.from(rs.layers),[e0]=[...rs.layersWithOutsidePointerEventsDisabled].slice(-1),gs=bs.indexOf(e0),Ds=ts?bs.indexOf(ts):-1,i0=rs.layersWithOutsidePointerEventsDisabled.size>0,n0=Ds>=gs,c0=usePointerDownOutside(o0=>{const g0=o0.target,w0=[...rs.branches].some(M0=>M0.contains(g0));!n0||w0||(_i==null||_i(o0),ba==null||ba(o0),o0.defaultPrevented||xa==null||xa())},cs),d0=useFocusOutside(o0=>{const g0=o0.target;[...rs.branches].some(M0=>M0.contains(g0))||(An==null||An(o0),ba==null||ba(o0),o0.defaultPrevented||xa==null||xa())},cs);return useEscapeKeydown(o0=>{Ds===rs.layers.size-1&&(Cn==null||Cn(o0),!o0.defaultPrevented&&xa&&(o0.preventDefault(),xa()))},cs),reactExports.useEffect(()=>{if(ts)return En&&(rs.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=cs.body.style.pointerEvents,cs.body.style.pointerEvents="none"),rs.layersWithOutsidePointerEventsDisabled.add(ts)),rs.layers.add(ts),dispatchUpdate(),()=>{En&&rs.layersWithOutsidePointerEventsDisabled.size===1&&(cs.body.style.pointerEvents=originalBodyPointerEvents)}},[ts,cs,En,rs]),reactExports.useEffect(()=>()=>{ts&&(rs.layers.delete(ts),rs.layersWithOutsidePointerEventsDisabled.delete(ts),dispatchUpdate())},[ts,rs]),reactExports.useEffect(()=>{const o0=()=>us({});return document.addEventListener(CONTEXT_UPDATE,o0),()=>document.removeEventListener(CONTEXT_UPDATE,o0)},[]),jsxRuntimeExports.jsx(Primitive.div,{...$a,ref:ps,style:{pointerEvents:i0?n0?"auto":"none":void 0,...vn.style},onFocusCapture:composeEventHandlers(vn.onFocusCapture,d0.onFocusCapture),onBlurCapture:composeEventHandlers(vn.onBlurCapture,d0.onBlurCapture),onPointerDownCapture:composeEventHandlers(vn.onPointerDownCapture,c0.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((vn,fn)=>{const En=reactExports.useContext(DismissableLayerContext),Cn=reactExports.useRef(null),_i=useComposedRefs(fn,Cn);return reactExports.useEffect(()=>{const An=Cn.current;if(An)return En.branches.add(An),()=>{En.branches.delete(An)}},[En.branches]),jsxRuntimeExports.jsx(Primitive.div,{...vn,ref:_i})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(vn,fn=globalThis==null?void 0:globalThis.document){const En=useCallbackRef$1(vn),Cn=reactExports.useRef(!1),_i=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const An=xa=>{if(xa.target&&!Cn.current){let $a=function(){handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE,En,rs,{discrete:!0})};const rs={originalEvent:xa};xa.pointerType==="touch"?(fn.removeEventListener("click",_i.current),_i.current=$a,fn.addEventListener("click",_i.current,{once:!0})):$a()}else fn.removeEventListener("click",_i.current);Cn.current=!1},ba=window.setTimeout(()=>{fn.addEventListener("pointerdown",An)},0);return()=>{window.clearTimeout(ba),fn.removeEventListener("pointerdown",An),fn.removeEventListener("click",_i.current)}},[fn,En]),{onPointerDownCapture:()=>Cn.current=!0}}function useFocusOutside(vn,fn=globalThis==null?void 0:globalThis.document){const En=useCallbackRef$1(vn),Cn=reactExports.useRef(!1);return reactExports.useEffect(()=>{const _i=An=>{An.target&&!Cn.current&&handleAndDispatchCustomEvent(FOCUS_OUTSIDE,En,{originalEvent:An},{discrete:!1})};return fn.addEventListener("focusin",_i),()=>fn.removeEventListener("focusin",_i)},[fn,En]),{onFocusCapture:()=>Cn.current=!0,onBlurCapture:()=>Cn.current=!1}}function dispatchUpdate(){const vn=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(vn)}function handleAndDispatchCustomEvent(vn,fn,En,{discrete:Cn}){const _i=En.originalEvent.target,An=new CustomEvent(vn,{bubbles:!1,cancelable:!0,detail:En});fn&&_i.addEventListener(vn,fn,{once:!0}),Cn?dispatchDiscreteCustomEvent(_i,An):_i.dispatchEvent(An)}var count$1=0;function useFocusGuards(){reactExports.useEffect(()=>{const vn=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",vn[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",vn[1]??createFocusGuard()),count$1++,()=>{count$1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(fn=>fn.remove()),count$1--}},[])}function createFocusGuard(){const vn=document.createElement("span");return vn.setAttribute("data-radix-focus-guard",""),vn.tabIndex=0,vn.style.outline="none",vn.style.opacity="0",vn.style.position="fixed",vn.style.pointerEvents="none",vn}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((vn,fn)=>{const{loop:En=!1,trapped:Cn=!1,onMountAutoFocus:_i,onUnmountAutoFocus:An,...ba}=vn,[xa,$a]=reactExports.useState(null),rs=useCallbackRef$1(_i),ts=useCallbackRef$1(An),is=reactExports.useRef(null),cs=useComposedRefs(fn,bs=>$a(bs)),us=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(Cn){let bs=function(i0){if(us.paused||!xa)return;const n0=i0.target;xa.contains(n0)?is.current=n0:focus(is.current,{select:!0})},e0=function(i0){if(us.paused||!xa)return;const n0=i0.relatedTarget;n0!==null&&(xa.contains(n0)||focus(is.current,{select:!0}))},gs=function(i0){if(document.activeElement===document.body)for(const c0 of i0)c0.removedNodes.length>0&&focus(xa)};document.addEventListener("focusin",bs),document.addEventListener("focusout",e0);const Ds=new MutationObserver(gs);return xa&&Ds.observe(xa,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",bs),document.removeEventListener("focusout",e0),Ds.disconnect()}}},[Cn,xa,us.paused]),reactExports.useEffect(()=>{if(xa){focusScopesStack.add(us);const bs=document.activeElement;if(!xa.contains(bs)){const gs=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS);xa.addEventListener(AUTOFOCUS_ON_MOUNT,rs),xa.dispatchEvent(gs),gs.defaultPrevented||(focusFirst(removeLinks(getTabbableCandidates(xa)),{select:!0}),document.activeElement===bs&&focus(xa))}return()=>{xa.removeEventListener(AUTOFOCUS_ON_MOUNT,rs),setTimeout(()=>{const gs=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS);xa.addEventListener(AUTOFOCUS_ON_UNMOUNT,ts),xa.dispatchEvent(gs),gs.defaultPrevented||focus(bs??document.body,{select:!0}),xa.removeEventListener(AUTOFOCUS_ON_UNMOUNT,ts),focusScopesStack.remove(us)},0)}}},[xa,rs,ts,us]);const ps=reactExports.useCallback(bs=>{if(!En&&!Cn||us.paused)return;const e0=bs.key==="Tab"&&!bs.altKey&&!bs.ctrlKey&&!bs.metaKey,gs=document.activeElement;if(e0&&gs){const Ds=bs.currentTarget,[i0,n0]=getTabbableEdges(Ds);i0&&n0?!bs.shiftKey&&gs===n0?(bs.preventDefault(),En&&focus(i0,{select:!0})):bs.shiftKey&&gs===i0&&(bs.preventDefault(),En&&focus(n0,{select:!0})):gs===Ds&&bs.preventDefault()}},[En,Cn,us.paused]);return jsxRuntimeExports.jsx(Primitive.div,{tabIndex:-1,...ba,ref:cs,onKeyDown:ps})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst(vn,{select:fn=!1}={}){const En=document.activeElement;for(const Cn of vn)if(focus(Cn,{select:fn}),document.activeElement!==En)return}function getTabbableEdges(vn){const fn=getTabbableCandidates(vn),En=findVisible(fn,vn),Cn=findVisible(fn.reverse(),vn);return[En,Cn]}function getTabbableCandidates(vn){const fn=[],En=document.createTreeWalker(vn,NodeFilter.SHOW_ELEMENT,{acceptNode:Cn=>{const _i=Cn.tagName==="INPUT"&&Cn.type==="hidden";return Cn.disabled||Cn.hidden||_i?NodeFilter.FILTER_SKIP:Cn.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;En.nextNode();)fn.push(En.currentNode);return fn}function findVisible(vn,fn){for(const En of vn)if(!isHidden(En,{upTo:fn}))return En}function isHidden(vn,{upTo:fn}){if(getComputedStyle(vn).visibility==="hidden")return!0;for(;vn;){if(fn!==void 0&&vn===fn)return!1;if(getComputedStyle(vn).display==="none")return!0;vn=vn.parentElement}return!1}function isSelectableInput(vn){return vn instanceof HTMLInputElement&&"select"in vn}function focus(vn,{select:fn=!1}={}){if(vn&&vn.focus){const En=document.activeElement;vn.focus({preventScroll:!0}),vn!==En&&isSelectableInput(vn)&&fn&&vn.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let vn=[];return{add(fn){const En=vn[0];fn!==En&&(En==null||En.pause()),vn=arrayRemove(vn,fn),vn.unshift(fn)},remove(fn){var En;vn=arrayRemove(vn,fn),(En=vn[0])==null||En.resume()}}}function arrayRemove(vn,fn){const En=[...vn],Cn=En.indexOf(fn);return Cn!==-1&&En.splice(Cn,1),En}function removeLinks(vn){return vn.filter(fn=>fn.tagName!=="A")}var useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},useReactId=React$1.useId||(()=>{}),count=0;function useId(vn){const[fn,En]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{vn||En(Cn=>Cn??String(count++))},[vn]),vn||(fn?`radix-${fn}`:"")}var PORTAL_NAME$1="Portal",Portal$1=reactExports.forwardRef((vn,fn)=>{var xa;const{container:En,...Cn}=vn,[_i,An]=reactExports.useState(!1);useLayoutEffect2(()=>An(!0),[]);const ba=En||_i&&((xa=globalThis==null?void 0:globalThis.document)==null?void 0:xa.body);return ba?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive.div,{...Cn,ref:fn}),ba):null});Portal$1.displayName=PORTAL_NAME$1;function useStateMachine(vn,fn){return reactExports.useReducer((En,Cn)=>fn[En][Cn]??En,vn)}var Presence=vn=>{const{present:fn,children:En}=vn,Cn=usePresence(fn),_i=typeof En=="function"?En({present:Cn.isPresent}):reactExports.Children.only(En),An=useComposedRefs(Cn.ref,getElementRef(_i));return typeof En=="function"||Cn.isPresent?reactExports.cloneElement(_i,{ref:An}):null};Presence.displayName="Presence";function usePresence(vn){const[fn,En]=reactExports.useState(),Cn=reactExports.useRef({}),_i=reactExports.useRef(vn),An=reactExports.useRef("none"),ba=vn?"mounted":"unmounted",[xa,$a]=useStateMachine(ba,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const rs=getAnimationName(Cn.current);An.current=xa==="mounted"?rs:"none"},[xa]),useLayoutEffect2(()=>{const rs=Cn.current,ts=_i.current;if(ts!==vn){const cs=An.current,us=getAnimationName(rs);vn?$a("MOUNT"):us==="none"||(rs==null?void 0:rs.display)==="none"?$a("UNMOUNT"):$a(ts&&cs!==us?"ANIMATION_OUT":"UNMOUNT"),_i.current=vn}},[vn,$a]),useLayoutEffect2(()=>{if(fn){let rs;const ts=fn.ownerDocument.defaultView??window,is=us=>{const bs=getAnimationName(Cn.current).includes(us.animationName);if(us.target===fn&&bs&&($a("ANIMATION_END"),!_i.current)){const e0=fn.style.animationFillMode;fn.style.animationFillMode="forwards",rs=ts.setTimeout(()=>{fn.style.animationFillMode==="forwards"&&(fn.style.animationFillMode=e0)})}},cs=us=>{us.target===fn&&(An.current=getAnimationName(Cn.current))};return fn.addEventListener("animationstart",cs),fn.addEventListener("animationcancel",is),fn.addEventListener("animationend",is),()=>{ts.clearTimeout(rs),fn.removeEventListener("animationstart",cs),fn.removeEventListener("animationcancel",is),fn.removeEventListener("animationend",is)}}else $a("ANIMATION_END")},[fn,$a]),{isPresent:["mounted","unmountSuspended"].includes(xa),ref:reactExports.useCallback(rs=>{rs&&(Cn.current=getComputedStyle(rs)),En(rs)},[])}}function getAnimationName(vn){return(vn==null?void 0:vn.animationName)||"none"}function getElementRef(vn){var Cn,_i;let fn=(Cn=Object.getOwnPropertyDescriptor(vn.props,"ref"))==null?void 0:Cn.get,En=fn&&"isReactWarning"in fn&&fn.isReactWarning;return En?vn.ref:(fn=(_i=Object.getOwnPropertyDescriptor(vn,"ref"))==null?void 0:_i.get,En=fn&&"isReactWarning"in fn&&fn.isReactWarning,En?vn.props.ref:vn.props.ref||vn.ref)}function useControllableState({prop:vn,defaultProp:fn,onChange:En=()=>{}}){const[Cn,_i]=useUncontrolledState({defaultProp:fn,onChange:En}),An=vn!==void 0,ba=An?vn:Cn,xa=useCallbackRef$1(En),$a=reactExports.useCallback(rs=>{if(An){const is=typeof rs=="function"?rs(vn):rs;is!==vn&&xa(is)}else _i(rs)},[An,vn,_i,xa]);return[ba,$a]}function useUncontrolledState({defaultProp:vn,onChange:fn}){const En=reactExports.useState(vn),[Cn]=En,_i=reactExports.useRef(Cn),An=useCallbackRef$1(fn);return reactExports.useEffect(()=>{_i.current!==Cn&&(An(Cn),_i.current=Cn)},[Cn,_i,An]),En}var getDefaultParent=function(vn){if(typeof document>"u")return null;var fn=Array.isArray(vn)?vn[0]:vn;return fn.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(vn){return vn&&(vn.host||unwrapHost(vn.parentNode))},correctTargets=function(vn,fn){return fn.map(function(En){if(vn.contains(En))return En;var Cn=unwrapHost(En);return Cn&&vn.contains(Cn)?Cn:(console.error("aria-hidden",En,"in not contained inside",vn,". Doing nothing"),null)}).filter(function(En){return!!En})},applyAttributeToOthers=function(vn,fn,En,Cn){var _i=correctTargets(fn,Array.isArray(vn)?vn:[vn]);markerMap[En]||(markerMap[En]=new WeakMap);var An=markerMap[En],ba=[],xa=new Set,$a=new Set(_i),rs=function(is){!is||xa.has(is)||(xa.add(is),rs(is.parentNode))};_i.forEach(rs);var ts=function(is){!is||$a.has(is)||Array.prototype.forEach.call(is.children,function(cs){if(xa.has(cs))ts(cs);else try{var us=cs.getAttribute(Cn),ps=us!==null&&us!=="false",bs=(counterMap.get(cs)||0)+1,e0=(An.get(cs)||0)+1;counterMap.set(cs,bs),An.set(cs,e0),ba.push(cs),bs===1&&ps&&uncontrolledNodes.set(cs,!0),e0===1&&cs.setAttribute(En,"true"),ps||cs.setAttribute(Cn,"true")}catch(gs){console.error("aria-hidden: cannot operate on ",cs,gs)}})};return ts(fn),xa.clear(),lockCount++,function(){ba.forEach(function(is){var cs=counterMap.get(is)-1,us=An.get(is)-1;counterMap.set(is,cs),An.set(is,us),cs||(uncontrolledNodes.has(is)||is.removeAttribute(Cn),uncontrolledNodes.delete(is)),us||is.removeAttribute(En)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(vn,fn,En){En===void 0&&(En="data-aria-hidden");var Cn=Array.from(Array.isArray(vn)?vn:[vn]),_i=getDefaultParent(vn);return _i?(Cn.push.apply(Cn,Array.from(_i.querySelectorAll("[aria-live]"))),applyAttributeToOthers(Cn,_i,En,"aria-hidden")):function(){return null}},__assign$1=function(){return __assign$1=Object.assign||function(fn){for(var En,Cn=1,_i=arguments.length;Cn<_i;Cn++){En=arguments[Cn];for(var An in En)Object.prototype.hasOwnProperty.call(En,An)&&(fn[An]=En[An])}return fn},__assign$1.apply(this,arguments)};function __rest$1(vn,fn){var En={};for(var Cn in vn)Object.prototype.hasOwnProperty.call(vn,Cn)&&fn.indexOf(Cn)<0&&(En[Cn]=vn[Cn]);if(vn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _i=0,Cn=Object.getOwnPropertySymbols(vn);_i<Cn.length;_i++)fn.indexOf(Cn[_i])<0&&Object.prototype.propertyIsEnumerable.call(vn,Cn[_i])&&(En[Cn[_i]]=vn[Cn[_i]]);return En}function __spreadArray(vn,fn,En){if(En||arguments.length===2)for(var Cn=0,_i=fn.length,An;Cn<_i;Cn++)(An||!(Cn in fn))&&(An||(An=Array.prototype.slice.call(fn,0,Cn)),An[Cn]=fn[Cn]);return vn.concat(An||Array.prototype.slice.call(fn))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(vn,fn){return typeof vn=="function"?vn(fn):vn&&(vn.current=fn),vn}function useCallbackRef(vn,fn){var En=reactExports.useState(function(){return{value:vn,callback:fn,facade:{get current(){return En.value},set current(Cn){var _i=En.value;_i!==Cn&&(En.value=Cn,En.callback(Cn,_i))}}}})[0];return En.callback=fn,En.facade}var useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(vn,fn){var En=useCallbackRef(null,function(Cn){return vn.forEach(function(_i){return assignRef(_i,Cn)})});return useIsomorphicLayoutEffect(function(){var Cn=currentValues.get(En);if(Cn){var _i=new Set(Cn),An=new Set(vn),ba=En.current;_i.forEach(function(xa){An.has(xa)||assignRef(xa,null)}),An.forEach(function(xa){_i.has(xa)||assignRef(xa,ba)})}currentValues.set(En,vn)},[vn]),En}var __assign=function(){return __assign=Object.assign||function(fn){for(var En,Cn=1,_i=arguments.length;Cn<_i;Cn++){En=arguments[Cn];for(var An in En)Object.prototype.hasOwnProperty.call(En,An)&&(fn[An]=En[An])}return fn},__assign.apply(this,arguments)};function __rest(vn,fn){var En={};for(var Cn in vn)Object.prototype.hasOwnProperty.call(vn,Cn)&&fn.indexOf(Cn)<0&&(En[Cn]=vn[Cn]);if(vn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _i=0,Cn=Object.getOwnPropertySymbols(vn);_i<Cn.length;_i++)fn.indexOf(Cn[_i])<0&&Object.prototype.propertyIsEnumerable.call(vn,Cn[_i])&&(En[Cn[_i]]=vn[Cn[_i]]);return En}typeof SuppressedError=="function"&&SuppressedError;function ItoI(vn){return vn}function innerCreateMedium(vn,fn){fn===void 0&&(fn=ItoI);var En=[],Cn=!1,_i={read:function(){if(Cn)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return En.length?En[En.length-1]:vn},useMedium:function(An){var ba=fn(An,Cn);return En.push(ba),function(){En=En.filter(function(xa){return xa!==ba})}},assignSyncMedium:function(An){for(Cn=!0;En.length;){var ba=En;En=[],ba.forEach(An)}En={push:function(xa){return An(xa)},filter:function(){return En}}},assignMedium:function(An){Cn=!0;var ba=[];if(En.length){var xa=En;En=[],xa.forEach(An),ba=En}var $a=function(){var ts=ba;ba=[],ts.forEach(An)},rs=function(){return Promise.resolve().then($a)};rs(),En={push:function(ts){ba.push(ts),rs()},filter:function(ts){return ba=ba.filter(ts),En}}}};return _i}function createSidecarMedium(vn){vn===void 0&&(vn={});var fn=innerCreateMedium(null);return fn.options=__assign({async:!0,ssr:!1},vn),fn}var SideCar$1=function(vn){var fn=vn.sideCar,En=__rest(vn,["sideCar"]);if(!fn)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var Cn=fn.read();if(!Cn)throw new Error("Sidecar medium not found");return reactExports.createElement(Cn,__assign({},En))};SideCar$1.isSideCarExport=!0;function exportSidecar(vn,fn){return vn.useMedium(fn),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(vn,fn){var En=reactExports.useRef(null),Cn=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),_i=Cn[0],An=Cn[1],ba=vn.forwardProps,xa=vn.children,$a=vn.className,rs=vn.removeScrollBar,ts=vn.enabled,is=vn.shards,cs=vn.sideCar,us=vn.noIsolation,ps=vn.inert,bs=vn.allowPinchZoom,e0=vn.as,gs=e0===void 0?"div":e0,Ds=vn.gapMode,i0=__rest$1(vn,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),n0=cs,c0=useMergeRefs([En,fn]),d0=__assign$1(__assign$1({},i0),_i);return reactExports.createElement(reactExports.Fragment,null,ts&&reactExports.createElement(n0,{sideCar:effectCar,removeScrollBar:rs,shards:is,noIsolation:us,inert:ps,setCallbacks:An,allowPinchZoom:!!bs,lockRef:En,gapMode:Ds}),ba?reactExports.cloneElement(reactExports.Children.only(xa),__assign$1(__assign$1({},d0),{ref:c0})):reactExports.createElement(gs,__assign$1({},d0,{className:$a,ref:c0}),xa))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var vn=document.createElement("style");vn.type="text/css";var fn=getNonce();return fn&&vn.setAttribute("nonce",fn),vn}function injectStyles(vn,fn){vn.styleSheet?vn.styleSheet.cssText=fn:vn.appendChild(document.createTextNode(fn))}function insertStyleTag(vn){var fn=document.head||document.getElementsByTagName("head")[0];fn.appendChild(vn)}var stylesheetSingleton=function(){var vn=0,fn=null;return{add:function(En){vn==0&&(fn=makeStyleTag())&&(injectStyles(fn,En),insertStyleTag(fn)),vn++},remove:function(){vn--,!vn&&fn&&(fn.parentNode&&fn.parentNode.removeChild(fn),fn=null)}}},styleHookSingleton=function(){var vn=stylesheetSingleton();return function(fn,En){reactExports.useEffect(function(){return vn.add(fn),function(){vn.remove()}},[fn&&En])}},styleSingleton=function(){var vn=styleHookSingleton(),fn=function(En){var Cn=En.styles,_i=En.dynamic;return vn(Cn,_i),null};return fn},zeroGap={left:0,top:0,right:0,gap:0},parse=function(vn){return parseInt(vn||"",10)||0},getOffset=function(vn){var fn=window.getComputedStyle(document.body),En=fn[vn==="padding"?"paddingLeft":"marginLeft"],Cn=fn[vn==="padding"?"paddingTop":"marginTop"],_i=fn[vn==="padding"?"paddingRight":"marginRight"];return[parse(En),parse(Cn),parse(_i)]},getGapWidth=function(vn){if(vn===void 0&&(vn="margin"),typeof window>"u")return zeroGap;var fn=getOffset(vn),En=document.documentElement.clientWidth,Cn=window.innerWidth;return{left:fn[0],top:fn[1],right:fn[2],gap:Math.max(0,Cn-En+fn[2]-fn[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(vn,fn,En,Cn){var _i=vn.left,An=vn.top,ba=vn.right,xa=vn.gap;return En===void 0&&(En="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(Cn,`;
   padding-right: `).concat(xa,"px ").concat(Cn,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(Cn,`;
    overscroll-behavior: contain;
    `).concat([fn&&"position: relative ".concat(Cn,";"),En==="margin"&&`
    padding-left: `.concat(_i,`px;
    padding-top: `).concat(An,`px;
    padding-right: `).concat(ba,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(xa,"px ").concat(Cn,`;
    `),En==="padding"&&"padding-right: ".concat(xa,"px ").concat(Cn,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(xa,"px ").concat(Cn,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(xa,"px ").concat(Cn,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(Cn,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(Cn,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(xa,`px;
  }
`)},getCurrentUseCounter=function(){var vn=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(vn)?vn:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var vn=getCurrentUseCounter()-1;vn<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,vn.toString())}},[])},RemoveScrollBar=function(vn){var fn=vn.noRelative,En=vn.noImportant,Cn=vn.gapMode,_i=Cn===void 0?"margin":Cn;useLockAttribute();var An=reactExports.useMemo(function(){return getGapWidth(_i)},[_i]);return reactExports.createElement(Style,{styles:getStyles(An,!fn,_i,En?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(vn){return vn.tagName==="TEXTAREA"},elementCanBeScrolled=function(vn,fn){if(!(vn instanceof Element))return!1;var En=window.getComputedStyle(vn);return En[fn]!=="hidden"&&!(En.overflowY===En.overflowX&&!alwaysContainsScroll(vn)&&En[fn]==="visible")},elementCouldBeVScrolled=function(vn){return elementCanBeScrolled(vn,"overflowY")},elementCouldBeHScrolled=function(vn){return elementCanBeScrolled(vn,"overflowX")},locationCouldBeScrolled=function(vn,fn){var En=fn.ownerDocument,Cn=fn;do{typeof ShadowRoot<"u"&&Cn instanceof ShadowRoot&&(Cn=Cn.host);var _i=elementCouldBeScrolled(vn,Cn);if(_i){var An=getScrollVariables(vn,Cn),ba=An[1],xa=An[2];if(ba>xa)return!0}Cn=Cn.parentNode}while(Cn&&Cn!==En.body);return!1},getVScrollVariables=function(vn){var fn=vn.scrollTop,En=vn.scrollHeight,Cn=vn.clientHeight;return[fn,En,Cn]},getHScrollVariables=function(vn){var fn=vn.scrollLeft,En=vn.scrollWidth,Cn=vn.clientWidth;return[fn,En,Cn]},elementCouldBeScrolled=function(vn,fn){return vn==="v"?elementCouldBeVScrolled(fn):elementCouldBeHScrolled(fn)},getScrollVariables=function(vn,fn){return vn==="v"?getVScrollVariables(fn):getHScrollVariables(fn)},getDirectionFactor=function(vn,fn){return vn==="h"&&fn==="rtl"?-1:1},handleScroll=function(vn,fn,En,Cn,_i){var An=getDirectionFactor(vn,window.getComputedStyle(fn).direction),ba=An*Cn,xa=En.target,$a=fn.contains(xa),rs=!1,ts=ba>0,is=0,cs=0;do{var us=getScrollVariables(vn,xa),ps=us[0],bs=us[1],e0=us[2],gs=bs-e0-An*ps;(ps||gs)&&elementCouldBeScrolled(vn,xa)&&(is+=gs,cs+=ps),xa instanceof ShadowRoot?xa=xa.host:xa=xa.parentNode}while(!$a&&xa!==document.body||$a&&(fn.contains(xa)||fn===xa));return(ts&&(Math.abs(is)<1||!_i)||!ts&&(Math.abs(cs)<1||!_i))&&(rs=!0),rs},getTouchXY=function(vn){return"changedTouches"in vn?[vn.changedTouches[0].clientX,vn.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(vn){return[vn.deltaX,vn.deltaY]},extractRef=function(vn){return vn&&"current"in vn?vn.current:vn},deltaCompare=function(vn,fn){return vn[0]===fn[0]&&vn[1]===fn[1]},generateStyle=function(vn){return`
  .block-interactivity-`.concat(vn,` {pointer-events: none;}
  .allow-interactivity-`).concat(vn,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(vn){var fn=reactExports.useRef([]),En=reactExports.useRef([0,0]),Cn=reactExports.useRef(),_i=reactExports.useState(idCounter++)[0],An=reactExports.useState(styleSingleton)[0],ba=reactExports.useRef(vn);reactExports.useEffect(function(){ba.current=vn},[vn]),reactExports.useEffect(function(){if(vn.inert){document.body.classList.add("block-interactivity-".concat(_i));var bs=__spreadArray([vn.lockRef.current],(vn.shards||[]).map(extractRef),!0).filter(Boolean);return bs.forEach(function(e0){return e0.classList.add("allow-interactivity-".concat(_i))}),function(){document.body.classList.remove("block-interactivity-".concat(_i)),bs.forEach(function(e0){return e0.classList.remove("allow-interactivity-".concat(_i))})}}},[vn.inert,vn.lockRef.current,vn.shards]);var xa=reactExports.useCallback(function(bs,e0){if("touches"in bs&&bs.touches.length===2||bs.type==="wheel"&&bs.ctrlKey)return!ba.current.allowPinchZoom;var gs=getTouchXY(bs),Ds=En.current,i0="deltaX"in bs?bs.deltaX:Ds[0]-gs[0],n0="deltaY"in bs?bs.deltaY:Ds[1]-gs[1],c0,d0=bs.target,o0=Math.abs(i0)>Math.abs(n0)?"h":"v";if("touches"in bs&&o0==="h"&&d0.type==="range")return!1;var g0=locationCouldBeScrolled(o0,d0);if(!g0)return!0;if(g0?c0=o0:(c0=o0==="v"?"h":"v",g0=locationCouldBeScrolled(o0,d0)),!g0)return!1;if(!Cn.current&&"changedTouches"in bs&&(i0||n0)&&(Cn.current=c0),!c0)return!0;var w0=Cn.current||c0;return handleScroll(w0,e0,bs,w0==="h"?i0:n0,!0)},[]),$a=reactExports.useCallback(function(bs){var e0=bs;if(!(!lockStack.length||lockStack[lockStack.length-1]!==An)){var gs="deltaY"in e0?getDeltaXY(e0):getTouchXY(e0),Ds=fn.current.filter(function(c0){return c0.name===e0.type&&(c0.target===e0.target||e0.target===c0.shadowParent)&&deltaCompare(c0.delta,gs)})[0];if(Ds&&Ds.should){e0.cancelable&&e0.preventDefault();return}if(!Ds){var i0=(ba.current.shards||[]).map(extractRef).filter(Boolean).filter(function(c0){return c0.contains(e0.target)}),n0=i0.length>0?xa(e0,i0[0]):!ba.current.noIsolation;n0&&e0.cancelable&&e0.preventDefault()}}},[]),rs=reactExports.useCallback(function(bs,e0,gs,Ds){var i0={name:bs,delta:e0,target:gs,should:Ds,shadowParent:getOutermostShadowParent(gs)};fn.current.push(i0),setTimeout(function(){fn.current=fn.current.filter(function(n0){return n0!==i0})},1)},[]),ts=reactExports.useCallback(function(bs){En.current=getTouchXY(bs),Cn.current=void 0},[]),is=reactExports.useCallback(function(bs){rs(bs.type,getDeltaXY(bs),bs.target,xa(bs,vn.lockRef.current))},[]),cs=reactExports.useCallback(function(bs){rs(bs.type,getTouchXY(bs),bs.target,xa(bs,vn.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(An),vn.setCallbacks({onScrollCapture:is,onWheelCapture:is,onTouchMoveCapture:cs}),document.addEventListener("wheel",$a,nonPassive),document.addEventListener("touchmove",$a,nonPassive),document.addEventListener("touchstart",ts,nonPassive),function(){lockStack=lockStack.filter(function(bs){return bs!==An}),document.removeEventListener("wheel",$a,nonPassive),document.removeEventListener("touchmove",$a,nonPassive),document.removeEventListener("touchstart",ts,nonPassive)}},[]);var us=vn.removeScrollBar,ps=vn.inert;return reactExports.createElement(reactExports.Fragment,null,ps?reactExports.createElement(An,{styles:generateStyle(_i)}):null,us?reactExports.createElement(RemoveScrollBar,{gapMode:vn.gapMode}):null)}function getOutermostShadowParent(vn){for(var fn=null;vn!==null;)vn instanceof ShadowRoot&&(fn=vn.host,vn=vn.host),vn=vn.parentNode;return fn}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(vn,fn){return reactExports.createElement(RemoveScroll,__assign$1({},vn,{ref:fn,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;keyframes$1`
from {
  opacity: 0;
  transform: translateY(2px);
}
to {
  opacity: 1;
  transform: translateY(0);
}
`;var browser={},canPromise$1=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},qrcode={},utils$1={};let toSJISFunction;const CODEWORDS_COUNT=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];utils$1.getSymbolSize=function vn(fn){if(!fn)throw new Error('"version" cannot be null or undefined');if(fn<1||fn>40)throw new Error('"version" should be in range from 1 to 40');return fn*4+17};utils$1.getSymbolTotalCodewords=function vn(fn){return CODEWORDS_COUNT[fn]};utils$1.getBCHDigit=function(vn){let fn=0;for(;vn!==0;)fn++,vn>>>=1;return fn};utils$1.setToSJISFunction=function vn(fn){if(typeof fn!="function")throw new Error('"toSJISFunc" is not a valid function.');toSJISFunction=fn};utils$1.isKanjiModeEnabled=function(){return typeof toSJISFunction<"u"};utils$1.toSJIS=function vn(fn){return toSJISFunction(fn)};var errorCorrectionLevel={};(function(vn){vn.L={bit:1},vn.M={bit:0},vn.Q={bit:3},vn.H={bit:2};function fn(En){if(typeof En!="string")throw new Error("Param is not a string");switch(En.toLowerCase()){case"l":case"low":return vn.L;case"m":case"medium":return vn.M;case"q":case"quartile":return vn.Q;case"h":case"high":return vn.H;default:throw new Error("Unknown EC Level: "+En)}}vn.isValid=function(Cn){return Cn&&typeof Cn.bit<"u"&&Cn.bit>=0&&Cn.bit<4},vn.from=function(Cn,_i){if(vn.isValid(Cn))return Cn;try{return fn(Cn)}catch{return _i}}})(errorCorrectionLevel);function BitBuffer$1(){this.buffer=[],this.length=0}BitBuffer$1.prototype={get:function(vn){const fn=Math.floor(vn/8);return(this.buffer[fn]>>>7-vn%8&1)===1},put:function(vn,fn){for(let En=0;En<fn;En++)this.putBit((vn>>>fn-En-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(vn){const fn=Math.floor(this.length/8);this.buffer.length<=fn&&this.buffer.push(0),vn&&(this.buffer[fn]|=128>>>this.length%8),this.length++}};var bitBuffer=BitBuffer$1;function BitMatrix$1(vn){if(!vn||vn<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=vn,this.data=new Uint8Array(vn*vn),this.reservedBit=new Uint8Array(vn*vn)}BitMatrix$1.prototype.set=function(vn,fn,En,Cn){const _i=vn*this.size+fn;this.data[_i]=En,Cn&&(this.reservedBit[_i]=!0)};BitMatrix$1.prototype.get=function(vn,fn){return this.data[vn*this.size+fn]};BitMatrix$1.prototype.xor=function(vn,fn,En){this.data[vn*this.size+fn]^=En};BitMatrix$1.prototype.isReserved=function(vn,fn){return this.reservedBit[vn*this.size+fn]};var bitMatrix=BitMatrix$1,alignmentPattern={};(function(vn){const fn=utils$1.getSymbolSize;vn.getRowColCoords=function(Cn){if(Cn===1)return[];const _i=Math.floor(Cn/7)+2,An=fn(Cn),ba=An===145?26:Math.ceil((An-13)/(2*_i-2))*2,xa=[An-7];for(let $a=1;$a<_i-1;$a++)xa[$a]=xa[$a-1]-ba;return xa.push(6),xa.reverse()},vn.getPositions=function(Cn){const _i=[],An=vn.getRowColCoords(Cn),ba=An.length;for(let xa=0;xa<ba;xa++)for(let $a=0;$a<ba;$a++)xa===0&&$a===0||xa===0&&$a===ba-1||xa===ba-1&&$a===0||_i.push([An[xa],An[$a]]);return _i}})(alignmentPattern);var finderPattern={};const getSymbolSize=utils$1.getSymbolSize,FINDER_PATTERN_SIZE=7;finderPattern.getPositions=function vn(fn){const En=getSymbolSize(fn);return[[0,0],[En-FINDER_PATTERN_SIZE,0],[0,En-FINDER_PATTERN_SIZE]]};var maskPattern={};(function(vn){vn.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const fn={N1:3,N2:3,N3:40,N4:10};vn.isValid=function(_i){return _i!=null&&_i!==""&&!isNaN(_i)&&_i>=0&&_i<=7},vn.from=function(_i){return vn.isValid(_i)?parseInt(_i,10):void 0},vn.getPenaltyN1=function(_i){const An=_i.size;let ba=0,xa=0,$a=0,rs=null,ts=null;for(let is=0;is<An;is++){xa=$a=0,rs=ts=null;for(let cs=0;cs<An;cs++){let us=_i.get(is,cs);us===rs?xa++:(xa>=5&&(ba+=fn.N1+(xa-5)),rs=us,xa=1),us=_i.get(cs,is),us===ts?$a++:($a>=5&&(ba+=fn.N1+($a-5)),ts=us,$a=1)}xa>=5&&(ba+=fn.N1+(xa-5)),$a>=5&&(ba+=fn.N1+($a-5))}return ba},vn.getPenaltyN2=function(_i){const An=_i.size;let ba=0;for(let xa=0;xa<An-1;xa++)for(let $a=0;$a<An-1;$a++){const rs=_i.get(xa,$a)+_i.get(xa,$a+1)+_i.get(xa+1,$a)+_i.get(xa+1,$a+1);(rs===4||rs===0)&&ba++}return ba*fn.N2},vn.getPenaltyN3=function(_i){const An=_i.size;let ba=0,xa=0,$a=0;for(let rs=0;rs<An;rs++){xa=$a=0;for(let ts=0;ts<An;ts++)xa=xa<<1&2047|_i.get(rs,ts),ts>=10&&(xa===1488||xa===93)&&ba++,$a=$a<<1&2047|_i.get(ts,rs),ts>=10&&($a===1488||$a===93)&&ba++}return ba*fn.N3},vn.getPenaltyN4=function(_i){let An=0;const ba=_i.data.length;for(let $a=0;$a<ba;$a++)An+=_i.data[$a];return Math.abs(Math.ceil(An*100/ba/5)-10)*fn.N4};function En(Cn,_i,An){switch(Cn){case vn.Patterns.PATTERN000:return(_i+An)%2===0;case vn.Patterns.PATTERN001:return _i%2===0;case vn.Patterns.PATTERN010:return An%3===0;case vn.Patterns.PATTERN011:return(_i+An)%3===0;case vn.Patterns.PATTERN100:return(Math.floor(_i/2)+Math.floor(An/3))%2===0;case vn.Patterns.PATTERN101:return _i*An%2+_i*An%3===0;case vn.Patterns.PATTERN110:return(_i*An%2+_i*An%3)%2===0;case vn.Patterns.PATTERN111:return(_i*An%3+(_i+An)%2)%2===0;default:throw new Error("bad maskPattern:"+Cn)}}vn.applyMask=function(_i,An){const ba=An.size;for(let xa=0;xa<ba;xa++)for(let $a=0;$a<ba;$a++)An.isReserved($a,xa)||An.xor($a,xa,En(_i,$a,xa))},vn.getBestMask=function(_i,An){const ba=Object.keys(vn.Patterns).length;let xa=0,$a=1/0;for(let rs=0;rs<ba;rs++){An(rs),vn.applyMask(rs,_i);const ts=vn.getPenaltyN1(_i)+vn.getPenaltyN2(_i)+vn.getPenaltyN3(_i)+vn.getPenaltyN4(_i);vn.applyMask(rs,_i),ts<$a&&($a=ts,xa=rs)}return xa}})(maskPattern);var errorCorrectionCode={};const ECLevel$1=errorCorrectionLevel,EC_BLOCKS_TABLE=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],EC_CODEWORDS_TABLE=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];errorCorrectionCode.getBlocksCount=function vn(fn,En){switch(En){case ECLevel$1.L:return EC_BLOCKS_TABLE[(fn-1)*4+0];case ECLevel$1.M:return EC_BLOCKS_TABLE[(fn-1)*4+1];case ECLevel$1.Q:return EC_BLOCKS_TABLE[(fn-1)*4+2];case ECLevel$1.H:return EC_BLOCKS_TABLE[(fn-1)*4+3];default:return}};errorCorrectionCode.getTotalCodewordsCount=function vn(fn,En){switch(En){case ECLevel$1.L:return EC_CODEWORDS_TABLE[(fn-1)*4+0];case ECLevel$1.M:return EC_CODEWORDS_TABLE[(fn-1)*4+1];case ECLevel$1.Q:return EC_CODEWORDS_TABLE[(fn-1)*4+2];case ECLevel$1.H:return EC_CODEWORDS_TABLE[(fn-1)*4+3];default:return}};var polynomial={},galoisField={};const EXP_TABLE=new Uint8Array(512),LOG_TABLE=new Uint8Array(256);(function vn(){let fn=1;for(let En=0;En<255;En++)EXP_TABLE[En]=fn,LOG_TABLE[fn]=En,fn<<=1,fn&256&&(fn^=285);for(let En=255;En<512;En++)EXP_TABLE[En]=EXP_TABLE[En-255]})();galoisField.log=function vn(fn){if(fn<1)throw new Error("log("+fn+")");return LOG_TABLE[fn]};galoisField.exp=function vn(fn){return EXP_TABLE[fn]};galoisField.mul=function vn(fn,En){return fn===0||En===0?0:EXP_TABLE[LOG_TABLE[fn]+LOG_TABLE[En]]};(function(vn){const fn=galoisField;vn.mul=function(Cn,_i){const An=new Uint8Array(Cn.length+_i.length-1);for(let ba=0;ba<Cn.length;ba++)for(let xa=0;xa<_i.length;xa++)An[ba+xa]^=fn.mul(Cn[ba],_i[xa]);return An},vn.mod=function(Cn,_i){let An=new Uint8Array(Cn);for(;An.length-_i.length>=0;){const ba=An[0];for(let $a=0;$a<_i.length;$a++)An[$a]^=fn.mul(_i[$a],ba);let xa=0;for(;xa<An.length&&An[xa]===0;)xa++;An=An.slice(xa)}return An},vn.generateECPolynomial=function(Cn){let _i=new Uint8Array([1]);for(let An=0;An<Cn;An++)_i=vn.mul(_i,new Uint8Array([1,fn.exp(An)]));return _i}})(polynomial);const Polynomial=polynomial;function ReedSolomonEncoder$1(vn){this.genPoly=void 0,this.degree=vn,this.degree&&this.initialize(this.degree)}ReedSolomonEncoder$1.prototype.initialize=function vn(fn){this.degree=fn,this.genPoly=Polynomial.generateECPolynomial(this.degree)};ReedSolomonEncoder$1.prototype.encode=function vn(fn){if(!this.genPoly)throw new Error("Encoder not initialized");const En=new Uint8Array(fn.length+this.degree);En.set(fn);const Cn=Polynomial.mod(En,this.genPoly),_i=this.degree-Cn.length;if(_i>0){const An=new Uint8Array(this.degree);return An.set(Cn,_i),An}return Cn};var reedSolomonEncoder=ReedSolomonEncoder$1,version={},mode={},versionCheck={};versionCheck.isValid=function vn(fn){return!isNaN(fn)&&fn>=1&&fn<=40};var regex={};const numeric="[0-9]+",alphanumeric="[A-Z $%*+\\-./:]+";let kanji="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";kanji=kanji.replace(/u/g,"\\u");const byte="(?:(?![A-Z0-9 $%*+\\-./:]|"+kanji+`)(?:.|[\r
]))+`;regex.KANJI=new RegExp(kanji,"g");regex.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");regex.BYTE=new RegExp(byte,"g");regex.NUMERIC=new RegExp(numeric,"g");regex.ALPHANUMERIC=new RegExp(alphanumeric,"g");const TEST_KANJI=new RegExp("^"+kanji+"$"),TEST_NUMERIC=new RegExp("^"+numeric+"$"),TEST_ALPHANUMERIC=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");regex.testKanji=function vn(fn){return TEST_KANJI.test(fn)};regex.testNumeric=function vn(fn){return TEST_NUMERIC.test(fn)};regex.testAlphanumeric=function vn(fn){return TEST_ALPHANUMERIC.test(fn)};(function(vn){const fn=versionCheck,En=regex;vn.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},vn.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},vn.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},vn.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},vn.MIXED={bit:-1},vn.getCharCountIndicator=function(An,ba){if(!An.ccBits)throw new Error("Invalid mode: "+An);if(!fn.isValid(ba))throw new Error("Invalid version: "+ba);return ba>=1&&ba<10?An.ccBits[0]:ba<27?An.ccBits[1]:An.ccBits[2]},vn.getBestModeForData=function(An){return En.testNumeric(An)?vn.NUMERIC:En.testAlphanumeric(An)?vn.ALPHANUMERIC:En.testKanji(An)?vn.KANJI:vn.BYTE},vn.toString=function(An){if(An&&An.id)return An.id;throw new Error("Invalid mode")},vn.isValid=function(An){return An&&An.bit&&An.ccBits};function Cn(_i){if(typeof _i!="string")throw new Error("Param is not a string");switch(_i.toLowerCase()){case"numeric":return vn.NUMERIC;case"alphanumeric":return vn.ALPHANUMERIC;case"kanji":return vn.KANJI;case"byte":return vn.BYTE;default:throw new Error("Unknown mode: "+_i)}}vn.from=function(An,ba){if(vn.isValid(An))return An;try{return Cn(An)}catch{return ba}}})(mode);(function(vn){const fn=utils$1,En=errorCorrectionCode,Cn=errorCorrectionLevel,_i=mode,An=versionCheck,ba=7973,xa=fn.getBCHDigit(ba);function $a(cs,us,ps){for(let bs=1;bs<=40;bs++)if(us<=vn.getCapacity(bs,ps,cs))return bs}function rs(cs,us){return _i.getCharCountIndicator(cs,us)+4}function ts(cs,us){let ps=0;return cs.forEach(function(bs){const e0=rs(bs.mode,us);ps+=e0+bs.getBitsLength()}),ps}function is(cs,us){for(let ps=1;ps<=40;ps++)if(ts(cs,ps)<=vn.getCapacity(ps,us,_i.MIXED))return ps}vn.from=function(us,ps){return An.isValid(us)?parseInt(us,10):ps},vn.getCapacity=function(us,ps,bs){if(!An.isValid(us))throw new Error("Invalid QR Code version");typeof bs>"u"&&(bs=_i.BYTE);const e0=fn.getSymbolTotalCodewords(us),gs=En.getTotalCodewordsCount(us,ps),Ds=(e0-gs)*8;if(bs===_i.MIXED)return Ds;const i0=Ds-rs(bs,us);switch(bs){case _i.NUMERIC:return Math.floor(i0/10*3);case _i.ALPHANUMERIC:return Math.floor(i0/11*2);case _i.KANJI:return Math.floor(i0/13);case _i.BYTE:default:return Math.floor(i0/8)}},vn.getBestVersionForData=function(us,ps){let bs;const e0=Cn.from(ps,Cn.M);if(Array.isArray(us)){if(us.length>1)return is(us,e0);if(us.length===0)return 1;bs=us[0]}else bs=us;return $a(bs.mode,bs.getLength(),e0)},vn.getEncodedBits=function(us){if(!An.isValid(us)||us<7)throw new Error("Invalid QR Code version");let ps=us<<12;for(;fn.getBCHDigit(ps)-xa>=0;)ps^=ba<<fn.getBCHDigit(ps)-xa;return us<<12|ps}})(version);var formatInfo={};const Utils$3=utils$1,G15=1335,G15_MASK=21522,G15_BCH=Utils$3.getBCHDigit(G15);formatInfo.getEncodedBits=function vn(fn,En){const Cn=fn.bit<<3|En;let _i=Cn<<10;for(;Utils$3.getBCHDigit(_i)-G15_BCH>=0;)_i^=G15<<Utils$3.getBCHDigit(_i)-G15_BCH;return(Cn<<10|_i)^G15_MASK};var segments={};const Mode$4=mode;function NumericData(vn){this.mode=Mode$4.NUMERIC,this.data=vn.toString()}NumericData.getBitsLength=function vn(fn){return 10*Math.floor(fn/3)+(fn%3?fn%3*3+1:0)};NumericData.prototype.getLength=function vn(){return this.data.length};NumericData.prototype.getBitsLength=function vn(){return NumericData.getBitsLength(this.data.length)};NumericData.prototype.write=function vn(fn){let En,Cn,_i;for(En=0;En+3<=this.data.length;En+=3)Cn=this.data.substr(En,3),_i=parseInt(Cn,10),fn.put(_i,10);const An=this.data.length-En;An>0&&(Cn=this.data.substr(En),_i=parseInt(Cn,10),fn.put(_i,An*3+1))};var numericData=NumericData;const Mode$3=mode,ALPHA_NUM_CHARS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function AlphanumericData(vn){this.mode=Mode$3.ALPHANUMERIC,this.data=vn}AlphanumericData.getBitsLength=function vn(fn){return 11*Math.floor(fn/2)+6*(fn%2)};AlphanumericData.prototype.getLength=function vn(){return this.data.length};AlphanumericData.prototype.getBitsLength=function vn(){return AlphanumericData.getBitsLength(this.data.length)};AlphanumericData.prototype.write=function vn(fn){let En;for(En=0;En+2<=this.data.length;En+=2){let Cn=ALPHA_NUM_CHARS.indexOf(this.data[En])*45;Cn+=ALPHA_NUM_CHARS.indexOf(this.data[En+1]),fn.put(Cn,11)}this.data.length%2&&fn.put(ALPHA_NUM_CHARS.indexOf(this.data[En]),6)};var alphanumericData=AlphanumericData,encodeUtf8$1=function vn(fn){for(var En=[],Cn=fn.length,_i=0;_i<Cn;_i++){var An=fn.charCodeAt(_i);if(An>=55296&&An<=56319&&Cn>_i+1){var ba=fn.charCodeAt(_i+1);ba>=56320&&ba<=57343&&(An=(An-55296)*1024+ba-56320+65536,_i+=1)}if(An<128){En.push(An);continue}if(An<2048){En.push(An>>6|192),En.push(An&63|128);continue}if(An<55296||An>=57344&&An<65536){En.push(An>>12|224),En.push(An>>6&63|128),En.push(An&63|128);continue}if(An>=65536&&An<=1114111){En.push(An>>18|240),En.push(An>>12&63|128),En.push(An>>6&63|128),En.push(An&63|128);continue}En.push(239,191,189)}return new Uint8Array(En).buffer};const encodeUtf8=encodeUtf8$1,Mode$2=mode;function ByteData(vn){this.mode=Mode$2.BYTE,typeof vn=="string"&&(vn=encodeUtf8(vn)),this.data=new Uint8Array(vn)}ByteData.getBitsLength=function vn(fn){return fn*8};ByteData.prototype.getLength=function vn(){return this.data.length};ByteData.prototype.getBitsLength=function vn(){return ByteData.getBitsLength(this.data.length)};ByteData.prototype.write=function(vn){for(let fn=0,En=this.data.length;fn<En;fn++)vn.put(this.data[fn],8)};var byteData=ByteData;const Mode$1=mode,Utils$2=utils$1;function KanjiData(vn){this.mode=Mode$1.KANJI,this.data=vn}KanjiData.getBitsLength=function vn(fn){return fn*13};KanjiData.prototype.getLength=function vn(){return this.data.length};KanjiData.prototype.getBitsLength=function vn(){return KanjiData.getBitsLength(this.data.length)};KanjiData.prototype.write=function(vn){let fn;for(fn=0;fn<this.data.length;fn++){let En=Utils$2.toSJIS(this.data[fn]);if(En>=33088&&En<=40956)En-=33088;else if(En>=57408&&En<=60351)En-=49472;else throw new Error("Invalid SJIS character: "+this.data[fn]+`
Make sure your charset is UTF-8`);En=(En>>>8&255)*192+(En&255),vn.put(En,13)}};var kanjiData=KanjiData,dijkstra={exports:{}};(function(vn){var fn={single_source_shortest_paths:function(En,Cn,_i){var An={},ba={};ba[Cn]=0;var xa=fn.PriorityQueue.make();xa.push(Cn,0);for(var $a,rs,ts,is,cs,us,ps,bs,e0;!xa.empty();){$a=xa.pop(),rs=$a.value,is=$a.cost,cs=En[rs]||{};for(ts in cs)cs.hasOwnProperty(ts)&&(us=cs[ts],ps=is+us,bs=ba[ts],e0=typeof ba[ts]>"u",(e0||bs>ps)&&(ba[ts]=ps,xa.push(ts,ps),An[ts]=rs))}if(typeof _i<"u"&&typeof ba[_i]>"u"){var gs=["Could not find a path from ",Cn," to ",_i,"."].join("");throw new Error(gs)}return An},extract_shortest_path_from_predecessor_list:function(En,Cn){for(var _i=[],An=Cn;An;)_i.push(An),En[An],An=En[An];return _i.reverse(),_i},find_path:function(En,Cn,_i){var An=fn.single_source_shortest_paths(En,Cn,_i);return fn.extract_shortest_path_from_predecessor_list(An,_i)},PriorityQueue:{make:function(En){var Cn=fn.PriorityQueue,_i={},An;En=En||{};for(An in Cn)Cn.hasOwnProperty(An)&&(_i[An]=Cn[An]);return _i.queue=[],_i.sorter=En.sorter||Cn.default_sorter,_i},default_sorter:function(En,Cn){return En.cost-Cn.cost},push:function(En,Cn){var _i={value:En,cost:Cn};this.queue.push(_i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};vn.exports=fn})(dijkstra);var dijkstraExports=dijkstra.exports;(function(vn){const fn=mode,En=numericData,Cn=alphanumericData,_i=byteData,An=kanjiData,ba=regex,xa=utils$1,$a=dijkstraExports;function rs(gs){return unescape(encodeURIComponent(gs)).length}function ts(gs,Ds,i0){const n0=[];let c0;for(;(c0=gs.exec(i0))!==null;)n0.push({data:c0[0],index:c0.index,mode:Ds,length:c0[0].length});return n0}function is(gs){const Ds=ts(ba.NUMERIC,fn.NUMERIC,gs),i0=ts(ba.ALPHANUMERIC,fn.ALPHANUMERIC,gs);let n0,c0;return xa.isKanjiModeEnabled()?(n0=ts(ba.BYTE,fn.BYTE,gs),c0=ts(ba.KANJI,fn.KANJI,gs)):(n0=ts(ba.BYTE_KANJI,fn.BYTE,gs),c0=[]),Ds.concat(i0,n0,c0).sort(function(o0,g0){return o0.index-g0.index}).map(function(o0){return{data:o0.data,mode:o0.mode,length:o0.length}})}function cs(gs,Ds){switch(Ds){case fn.NUMERIC:return En.getBitsLength(gs);case fn.ALPHANUMERIC:return Cn.getBitsLength(gs);case fn.KANJI:return An.getBitsLength(gs);case fn.BYTE:return _i.getBitsLength(gs)}}function us(gs){return gs.reduce(function(Ds,i0){const n0=Ds.length-1>=0?Ds[Ds.length-1]:null;return n0&&n0.mode===i0.mode?(Ds[Ds.length-1].data+=i0.data,Ds):(Ds.push(i0),Ds)},[])}function ps(gs){const Ds=[];for(let i0=0;i0<gs.length;i0++){const n0=gs[i0];switch(n0.mode){case fn.NUMERIC:Ds.push([n0,{data:n0.data,mode:fn.ALPHANUMERIC,length:n0.length},{data:n0.data,mode:fn.BYTE,length:n0.length}]);break;case fn.ALPHANUMERIC:Ds.push([n0,{data:n0.data,mode:fn.BYTE,length:n0.length}]);break;case fn.KANJI:Ds.push([n0,{data:n0.data,mode:fn.BYTE,length:rs(n0.data)}]);break;case fn.BYTE:Ds.push([{data:n0.data,mode:fn.BYTE,length:rs(n0.data)}])}}return Ds}function bs(gs,Ds){const i0={},n0={start:{}};let c0=["start"];for(let d0=0;d0<gs.length;d0++){const o0=gs[d0],g0=[];for(let w0=0;w0<o0.length;w0++){const M0=o0[w0],ds=""+d0+w0;g0.push(ds),i0[ds]={node:M0,lastCount:0},n0[ds]={};for(let na=0;na<c0.length;na++){const _a=c0[na];i0[_a]&&i0[_a].node.mode===M0.mode?(n0[_a][ds]=cs(i0[_a].lastCount+M0.length,M0.mode)-cs(i0[_a].lastCount,M0.mode),i0[_a].lastCount+=M0.length):(i0[_a]&&(i0[_a].lastCount=M0.length),n0[_a][ds]=cs(M0.length,M0.mode)+4+fn.getCharCountIndicator(M0.mode,Ds))}}c0=g0}for(let d0=0;d0<c0.length;d0++)n0[c0[d0]].end=0;return{map:n0,table:i0}}function e0(gs,Ds){let i0;const n0=fn.getBestModeForData(gs);if(i0=fn.from(Ds,n0),i0!==fn.BYTE&&i0.bit<n0.bit)throw new Error('"'+gs+'" cannot be encoded with mode '+fn.toString(i0)+`.
 Suggested mode is: `+fn.toString(n0));switch(i0===fn.KANJI&&!xa.isKanjiModeEnabled()&&(i0=fn.BYTE),i0){case fn.NUMERIC:return new En(gs);case fn.ALPHANUMERIC:return new Cn(gs);case fn.KANJI:return new An(gs);case fn.BYTE:return new _i(gs)}}vn.fromArray=function(Ds){return Ds.reduce(function(i0,n0){return typeof n0=="string"?i0.push(e0(n0,null)):n0.data&&i0.push(e0(n0.data,n0.mode)),i0},[])},vn.fromString=function(Ds,i0){const n0=is(Ds,xa.isKanjiModeEnabled()),c0=ps(n0),d0=bs(c0,i0),o0=$a.find_path(d0.map,"start","end"),g0=[];for(let w0=1;w0<o0.length-1;w0++)g0.push(d0.table[o0[w0]].node);return vn.fromArray(us(g0))},vn.rawSplit=function(Ds){return vn.fromArray(is(Ds,xa.isKanjiModeEnabled()))}})(segments);const Utils$1=utils$1,ECLevel=errorCorrectionLevel,BitBuffer=bitBuffer,BitMatrix=bitMatrix,AlignmentPattern=alignmentPattern,FinderPattern=finderPattern,MaskPattern=maskPattern,ECCode=errorCorrectionCode,ReedSolomonEncoder=reedSolomonEncoder,Version=version,FormatInfo=formatInfo,Mode=mode,Segments=segments;function setupFinderPattern(vn,fn){const En=vn.size,Cn=FinderPattern.getPositions(fn);for(let _i=0;_i<Cn.length;_i++){const An=Cn[_i][0],ba=Cn[_i][1];for(let xa=-1;xa<=7;xa++)if(!(An+xa<=-1||En<=An+xa))for(let $a=-1;$a<=7;$a++)ba+$a<=-1||En<=ba+$a||(xa>=0&&xa<=6&&($a===0||$a===6)||$a>=0&&$a<=6&&(xa===0||xa===6)||xa>=2&&xa<=4&&$a>=2&&$a<=4?vn.set(An+xa,ba+$a,!0,!0):vn.set(An+xa,ba+$a,!1,!0))}}function setupTimingPattern(vn){const fn=vn.size;for(let En=8;En<fn-8;En++){const Cn=En%2===0;vn.set(En,6,Cn,!0),vn.set(6,En,Cn,!0)}}function setupAlignmentPattern(vn,fn){const En=AlignmentPattern.getPositions(fn);for(let Cn=0;Cn<En.length;Cn++){const _i=En[Cn][0],An=En[Cn][1];for(let ba=-2;ba<=2;ba++)for(let xa=-2;xa<=2;xa++)ba===-2||ba===2||xa===-2||xa===2||ba===0&&xa===0?vn.set(_i+ba,An+xa,!0,!0):vn.set(_i+ba,An+xa,!1,!0)}}function setupVersionInfo(vn,fn){const En=vn.size,Cn=Version.getEncodedBits(fn);let _i,An,ba;for(let xa=0;xa<18;xa++)_i=Math.floor(xa/3),An=xa%3+En-8-3,ba=(Cn>>xa&1)===1,vn.set(_i,An,ba,!0),vn.set(An,_i,ba,!0)}function setupFormatInfo(vn,fn,En){const Cn=vn.size,_i=FormatInfo.getEncodedBits(fn,En);let An,ba;for(An=0;An<15;An++)ba=(_i>>An&1)===1,An<6?vn.set(An,8,ba,!0):An<8?vn.set(An+1,8,ba,!0):vn.set(Cn-15+An,8,ba,!0),An<8?vn.set(8,Cn-An-1,ba,!0):An<9?vn.set(8,15-An-1+1,ba,!0):vn.set(8,15-An-1,ba,!0);vn.set(Cn-8,8,1,!0)}function setupData(vn,fn){const En=vn.size;let Cn=-1,_i=En-1,An=7,ba=0;for(let xa=En-1;xa>0;xa-=2)for(xa===6&&xa--;;){for(let $a=0;$a<2;$a++)if(!vn.isReserved(_i,xa-$a)){let rs=!1;ba<fn.length&&(rs=(fn[ba]>>>An&1)===1),vn.set(_i,xa-$a,rs),An--,An===-1&&(ba++,An=7)}if(_i+=Cn,_i<0||En<=_i){_i-=Cn,Cn=-Cn;break}}}function createData(vn,fn,En){const Cn=new BitBuffer;En.forEach(function($a){Cn.put($a.mode.bit,4),Cn.put($a.getLength(),Mode.getCharCountIndicator($a.mode,vn)),$a.write(Cn)});const _i=Utils$1.getSymbolTotalCodewords(vn),An=ECCode.getTotalCodewordsCount(vn,fn),ba=(_i-An)*8;for(Cn.getLengthInBits()+4<=ba&&Cn.put(0,4);Cn.getLengthInBits()%8!==0;)Cn.putBit(0);const xa=(ba-Cn.getLengthInBits())/8;for(let $a=0;$a<xa;$a++)Cn.put($a%2?17:236,8);return createCodewords(Cn,vn,fn)}function createCodewords(vn,fn,En){const Cn=Utils$1.getSymbolTotalCodewords(fn),_i=ECCode.getTotalCodewordsCount(fn,En),An=Cn-_i,ba=ECCode.getBlocksCount(fn,En),xa=Cn%ba,$a=ba-xa,rs=Math.floor(Cn/ba),ts=Math.floor(An/ba),is=ts+1,cs=rs-ts,us=new ReedSolomonEncoder(cs);let ps=0;const bs=new Array(ba),e0=new Array(ba);let gs=0;const Ds=new Uint8Array(vn.buffer);for(let o0=0;o0<ba;o0++){const g0=o0<$a?ts:is;bs[o0]=Ds.slice(ps,ps+g0),e0[o0]=us.encode(bs[o0]),ps+=g0,gs=Math.max(gs,g0)}const i0=new Uint8Array(Cn);let n0=0,c0,d0;for(c0=0;c0<gs;c0++)for(d0=0;d0<ba;d0++)c0<bs[d0].length&&(i0[n0++]=bs[d0][c0]);for(c0=0;c0<cs;c0++)for(d0=0;d0<ba;d0++)i0[n0++]=e0[d0][c0];return i0}function createSymbol(vn,fn,En,Cn){let _i;if(Array.isArray(vn))_i=Segments.fromArray(vn);else if(typeof vn=="string"){let rs=fn;if(!rs){const ts=Segments.rawSplit(vn);rs=Version.getBestVersionForData(ts,En)}_i=Segments.fromString(vn,rs||40)}else throw new Error("Invalid data");const An=Version.getBestVersionForData(_i,En);if(!An)throw new Error("The amount of data is too big to be stored in a QR Code");if(!fn)fn=An;else if(fn<An)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+An+`.
`);const ba=createData(fn,En,_i),xa=Utils$1.getSymbolSize(fn),$a=new BitMatrix(xa);return setupFinderPattern($a,fn),setupTimingPattern($a),setupAlignmentPattern($a,fn),setupFormatInfo($a,En,0),fn>=7&&setupVersionInfo($a,fn),setupData($a,ba),isNaN(Cn)&&(Cn=MaskPattern.getBestMask($a,setupFormatInfo.bind(null,$a,En))),MaskPattern.applyMask(Cn,$a),setupFormatInfo($a,En,Cn),{modules:$a,version:fn,errorCorrectionLevel:En,maskPattern:Cn,segments:_i}}qrcode.create=function vn(fn,En){if(typeof fn>"u"||fn==="")throw new Error("No input text");let Cn=ECLevel.M,_i,An;return typeof En<"u"&&(Cn=ECLevel.from(En.errorCorrectionLevel,ECLevel.M),_i=Version.from(En.version),An=MaskPattern.from(En.maskPattern),En.toSJISFunc&&Utils$1.setToSJISFunction(En.toSJISFunc)),createSymbol(fn,_i,Cn,An)};var canvas={},utils={};(function(vn){function fn(En){if(typeof En=="number"&&(En=En.toString()),typeof En!="string")throw new Error("Color should be defined as hex string");let Cn=En.slice().replace("#","").split("");if(Cn.length<3||Cn.length===5||Cn.length>8)throw new Error("Invalid hex color: "+En);(Cn.length===3||Cn.length===4)&&(Cn=Array.prototype.concat.apply([],Cn.map(function(An){return[An,An]}))),Cn.length===6&&Cn.push("F","F");const _i=parseInt(Cn.join(""),16);return{r:_i>>24&255,g:_i>>16&255,b:_i>>8&255,a:_i&255,hex:"#"+Cn.slice(0,6).join("")}}vn.getOptions=function(Cn){Cn||(Cn={}),Cn.color||(Cn.color={});const _i=typeof Cn.margin>"u"||Cn.margin===null||Cn.margin<0?4:Cn.margin,An=Cn.width&&Cn.width>=21?Cn.width:void 0,ba=Cn.scale||4;return{width:An,scale:An?4:ba,margin:_i,color:{dark:fn(Cn.color.dark||"#000000ff"),light:fn(Cn.color.light||"#ffffffff")},type:Cn.type,rendererOpts:Cn.rendererOpts||{}}},vn.getScale=function(Cn,_i){return _i.width&&_i.width>=Cn+_i.margin*2?_i.width/(Cn+_i.margin*2):_i.scale},vn.getImageWidth=function(Cn,_i){const An=vn.getScale(Cn,_i);return Math.floor((Cn+_i.margin*2)*An)},vn.qrToImageData=function(Cn,_i,An){const ba=_i.modules.size,xa=_i.modules.data,$a=vn.getScale(ba,An),rs=Math.floor((ba+An.margin*2)*$a),ts=An.margin*$a,is=[An.color.light,An.color.dark];for(let cs=0;cs<rs;cs++)for(let us=0;us<rs;us++){let ps=(cs*rs+us)*4,bs=An.color.light;if(cs>=ts&&us>=ts&&cs<rs-ts&&us<rs-ts){const e0=Math.floor((cs-ts)/$a),gs=Math.floor((us-ts)/$a);bs=is[xa[e0*ba+gs]?1:0]}Cn[ps++]=bs.r,Cn[ps++]=bs.g,Cn[ps++]=bs.b,Cn[ps]=bs.a}}})(utils);(function(vn){const fn=utils;function En(_i,An,ba){_i.clearRect(0,0,An.width,An.height),An.style||(An.style={}),An.height=ba,An.width=ba,An.style.height=ba+"px",An.style.width=ba+"px"}function Cn(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}vn.render=function(An,ba,xa){let $a=xa,rs=ba;typeof $a>"u"&&(!ba||!ba.getContext)&&($a=ba,ba=void 0),ba||(rs=Cn()),$a=fn.getOptions($a);const ts=fn.getImageWidth(An.modules.size,$a),is=rs.getContext("2d"),cs=is.createImageData(ts,ts);return fn.qrToImageData(cs.data,An,$a),En(is,rs,ts),is.putImageData(cs,0,0),rs},vn.renderToDataURL=function(An,ba,xa){let $a=xa;typeof $a>"u"&&(!ba||!ba.getContext)&&($a=ba,ba=void 0),$a||($a={});const rs=vn.render(An,ba,$a),ts=$a.type||"image/png",is=$a.rendererOpts||{};return rs.toDataURL(ts,is.quality)}})(canvas);var svgTag={};const Utils=utils;function getColorAttrib(vn,fn){const En=vn.a/255,Cn=fn+'="'+vn.hex+'"';return En<1?Cn+" "+fn+'-opacity="'+En.toFixed(2).slice(1)+'"':Cn}function svgCmd(vn,fn,En){let Cn=vn+fn;return typeof En<"u"&&(Cn+=" "+En),Cn}function qrToPath(vn,fn,En){let Cn="",_i=0,An=!1,ba=0;for(let xa=0;xa<vn.length;xa++){const $a=Math.floor(xa%fn),rs=Math.floor(xa/fn);!$a&&!An&&(An=!0),vn[xa]?(ba++,xa>0&&$a>0&&vn[xa-1]||(Cn+=An?svgCmd("M",$a+En,.5+rs+En):svgCmd("m",_i,0),_i=0,An=!1),$a+1<fn&&vn[xa+1]||(Cn+=svgCmd("h",ba),ba=0)):_i++}return Cn}svgTag.render=function vn(fn,En,Cn){const _i=Utils.getOptions(En),An=fn.modules.size,ba=fn.modules.data,xa=An+_i.margin*2,$a=_i.color.light.a?"<path "+getColorAttrib(_i.color.light,"fill")+' d="M0 0h'+xa+"v"+xa+'H0z"/>':"",rs="<path "+getColorAttrib(_i.color.dark,"stroke")+' d="'+qrToPath(ba,An,_i.margin)+'"/>',ts='viewBox="0 0 '+xa+" "+xa+'"',cs='<svg xmlns="http://www.w3.org/2000/svg" '+(_i.width?'width="'+_i.width+'" height="'+_i.width+'" ':"")+ts+' shape-rendering="crispEdges">'+$a+rs+`</svg>
`;return typeof Cn=="function"&&Cn(null,cs),cs};const canPromise=canPromise$1,QRCode$1=qrcode,CanvasRenderer=canvas,SvgRenderer=svgTag;function renderCanvas(vn,fn,En,Cn,_i){const An=[].slice.call(arguments,1),ba=An.length,xa=typeof An[ba-1]=="function";if(!xa&&!canPromise())throw new Error("Callback required as last argument");if(xa){if(ba<2)throw new Error("Too few arguments provided");ba===2?(_i=En,En=fn,fn=Cn=void 0):ba===3&&(fn.getContext&&typeof _i>"u"?(_i=Cn,Cn=void 0):(_i=Cn,Cn=En,En=fn,fn=void 0))}else{if(ba<1)throw new Error("Too few arguments provided");return ba===1?(En=fn,fn=Cn=void 0):ba===2&&!fn.getContext&&(Cn=En,En=fn,fn=void 0),new Promise(function($a,rs){try{const ts=QRCode$1.create(En,Cn);$a(vn(ts,fn,Cn))}catch(ts){rs(ts)}})}try{const $a=QRCode$1.create(En,Cn);_i(null,vn($a,fn,Cn))}catch($a){_i($a)}}browser.create=QRCode$1.create;browser.toCanvas=renderCanvas.bind(null,CanvasRenderer.render);browser.toDataURL=renderCanvas.bind(null,CanvasRenderer.renderToDataURL);browser.toString=renderCanvas.bind(null,function(vn,fn,En){return SvgRenderer.render(vn,En)});function WalletLogoSpinner(vn){return jsxRuntimeExports.jsx(LogoContainer,{"data-error":vn.error,children:jsxRuntimeExports.jsx("div",{"data-container":!0,style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},children:jsxRuntimeExports.jsxs("div",{"data-img-container":!0,children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 110 110",style:{display:vn.error?"none":"block"},children:jsxRuntimeExports.jsx("rect",{x:"2",y:"2",width:"106",height:"106",rx:20,strokeDasharray:"132 261",strokeDashoffset:-388,strokeLinecap:"round",fill:"none",strokeWidth:4})}),jsxRuntimeExports.jsx(Img,{src:vn.iconUrl,width:"80",height:"80"})]})})})}const dashRotateAnimation=keyframes$1`
from {
  stroke-dashoffset: 0px;
}
`,shakeErrorAnimation=keyframes$1`
  0% {
    transform: translateX(0);
  }
  25% {
    transform: translateX(-5px);
  }
  50% {
    transform: translateX(5px);
  }
  75% {
    transform: translateX(-5px);
  }
  100% {
    transform: translateX(0);
  }
`,plusAnimation$1=keyframes$1`
0% {
  transform: scale(0.95);
}
100% {
  opacity: 0;
  transform: scale(1.4);
}
`,LogoContainer=StyledDiv(()=>{const vn=useCustomTheme();return{display:"flex",justifyContent:"center",position:"relative",borderRadius:radius.xl,"[data-img-container]":{display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},"&[data-error='true'] [data-container]":{animation:`${shakeErrorAnimation} 0.25s linear`},"&[data-error='true'] [data-img-container]::before":{content:'""',position:"absolute",inset:0,background:vn.colors.danger,animation:`${plusAnimation$1} 1.5s ease infinite`,borderRadius:"20px",zIndex:-1},svg:{position:"absolute",left:"-8px",top:"-8px",width:"calc(100% + 16px)",height:"calc(100% + 16px)",animation:`${fadeInAnimation} 400ms ease`},img:{zIndex:100},rect:{animation:`${dashRotateAnimation} 1.2s linear infinite`,stroke:vn.colors.accentText}}}),ConnectingScreen=vn=>{const{locale:fn}=vn,En=reactExports.useContext(ModalConfigCtx);return jsxRuntimeExports.jsxs(Container,{animate:"fadein",fullHeight:!0,flex:"column",children:[jsxRuntimeExports.jsx(Container,{p:"lg",style:{paddingBottom:0},children:jsxRuntimeExports.jsx(ModalHeader,{title:vn.walletName,onBack:vn.hideBackButton?void 0:vn.onBack})}),jsxRuntimeExports.jsxs(Container,{flex:"column",center:"y",expand:!0,px:En.modalSize==="compact"?"lg":"xxl",relative:!0,style:{paddingTop:0},children:[jsxRuntimeExports.jsx(Container,{py:"3xl",children:jsxRuntimeExports.jsx(WalletLogoSpinner,{error:vn.errorConnecting,iconUrl:vn.walletIconURL})}),jsxRuntimeExports.jsxs(Container,{animate:"fadein",style:{animationDuration:"200ms"},children:[jsxRuntimeExports.jsx(Text,{center:!0,color:"primaryText",size:"lg",weight:600,children:vn.errorConnecting?fn.failed:fn.inProgress}),jsxRuntimeExports.jsx(Spacer,{y:"md"}),vn.errorConnecting?jsxRuntimeExports.jsx(Container,{flex:"row",center:"x",animate:"fadein",children:jsxRuntimeExports.jsxs(Button,{fullWidth:!0,variant:"accent",onClick:vn.onRetry,style:{gap:spacing.xs,alignItems:"center"},children:[jsxRuntimeExports.jsx(ReloadIcon,{width:iconSize.sm,height:iconSize.sm})," ",fn.tryAgain]})}):jsxRuntimeExports.jsx(Text,{balance:!0,center:!0,multiline:!0,children:fn.instruction})]})]}),jsxRuntimeExports.jsx(Spacer,{y:"xl"}),jsxRuntimeExports.jsx(Line,{}),jsxRuntimeExports.jsx(Container,{flex:"row",center:"x",p:"lg",children:jsxRuntimeExports.jsx(Button,{variant:"link",onClick:vn.onGetStarted,children:fn.getStartedLink})})]})};function detectEnv(vn){return detect()}function isAndroid(){const vn=detectOS();return vn?vn.toLowerCase().includes("android"):!1}function isIOS(){const vn=detectOS();return vn?vn.toLowerCase().includes("ios")||vn.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function detectOS(){const vn=detectEnv();return vn!=null&&vn.os?vn.os:void 0}function isMobile(){return detectOS()?isAndroid()||isIOS():!1}const QRCode=vn=>{const fn=vn.size||310;return jsxRuntimeExports.jsxs("div",{style:{position:"relative",display:"flex",justifyContent:"center"},children:[vn.qrCodeUri?jsxRuntimeExports.jsx(QRCodeContainer,{children:jsxRuntimeExports.jsx(QRCodeRenderer,{uri:vn.qrCodeUri,size:fn+20,ecl:"M",clearSize:vn.QRIcon?70:void 0})}):jsxRuntimeExports.jsxs(QRPlaceholder,{style:{width:`${fn}px`,height:`${fn}px`},children:[jsxRuntimeExports.jsx("span",{"data-v1":!0}),jsxRuntimeExports.jsx("span",{"data-v2":!0}),jsxRuntimeExports.jsx("span",{"data-v3":!0}),jsxRuntimeExports.jsx("div",{})]}),vn.QRIcon&&jsxRuntimeExports.jsx(IconContainer,{children:vn.QRIcon})]})},IconContainer=StyledDiv({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"flex",justifyContent:"center",alignContent:"center",zIndex:1e3}),QRCodeContainer=StyledDiv(()=>{const vn=useCustomTheme();return{animation:`${fadeInAnimation} 600ms ease`,"--ck-qr-dot-color":vn.colors.primaryText,"--ck-body-background":vn.colors.modalBg,"--ck-qr-background":vn.colors.modalBg}}),generateMatrix=(vn,fn)=>{const En=Array.prototype.slice.call(browser.create(vn,{errorCorrectionLevel:fn}).modules.data,0),Cn=Math.sqrt(En.length);return En.reduce((_i,An,ba)=>(ba%Cn===0?_i.push([An]):_i[_i.length-1].push(An))&&_i,[])},PlaceholderKeyframes=keyframes$1`
  0%{ background-position: 100% 0; }
  100%{ background-position: -100% 0; }
`,QRPlaceholder=StyledDiv(()=>{const vn=useCustomTheme();return{"--color":vn.colors.skeletonBg,"--bg":vn.colors.modalBg,overflow:"hidden",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:radius.md,"> div":{zIndex:4,position:"relative",width:"28%",height:"28%",borderRadius:"5px",background:"var(--bg)",boxShadow:"0 0 0 7px var(--bg)"},"> span":{zIndex:4,position:"absolute",background:"var(--color)",borderRadius:"12px",width:"13.25%",height:"13.25%",boxShadow:"0 0 0 4px var(--bg)","&:before":{content:'""',position:"absolute",inset:"9px",borderRadius:"3px",boxShadow:"0 0 0 4px var(--bg)"},"&[data-v1]":{top:0,left:0},"&[data-v2]":{top:0,right:0},"&[data-v3]":{bottom:0,left:0}},"&:before":{zIndex:3,content:'""',position:"absolute",inset:0,background:"repeat",backgroundSize:"1.888% 1.888%",backgroundImage:"radial-gradient(var(--color) 41%, transparent 41%)"},"&::after":{zIndex:100,content:'""',position:"absolute",inset:0,transform:"scale(1.5) rotate(45deg)",background:"linear-gradient(90deg, transparent 50%, var(--color), transparent)",backgroundSize:"200% 100%",animation:`${PlaceholderKeyframes} 1000ms linear infinite both`}}});function QRCodeRenderer(vn){let{ecl:fn="M",size:En=200,uri:Cn,clearSize:_i=0,image:An,imageBackground:ba="transparent"}=vn;const xa=_i,$a=En-10*2,rs=reactExports.useMemo(()=>{const ts=[],is=generateMatrix(Cn,fn),cs=$a/is.length;if([{x:0,y:0},{x:1,y:0},{x:0,y:1}].forEach(gs=>{let{x:Ds,y:i0}=gs;const n0=(is.length-7)*cs*Ds,c0=(is.length-7)*cs*i0;for(let d0=0;d0<3;d0++)ts.push(jsxRuntimeExports.jsx("rect",{fill:d0%2!==0?"var(--ck-qr-background, var(--ck-body-background))":"var(--ck-qr-dot-color)",rx:(d0-2)*-5+(d0===0?2:3),ry:(d0-2)*-5+(d0===0?2:3),width:cs*(7-d0*2),height:cs*(7-d0*2),x:n0+cs*d0,y:c0+cs*d0},`${d0}-${Ds}-${i0}`))}),An){const gs=(is.length-7)*cs*1,Ds=(is.length-7)*cs*1;ts.push(jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("rect",{fill:ba,rx:-2*-5+2,ry:-2*-5+2,width:cs*(7-0*2),height:cs*(7-0*2),x:gs+cs*0,y:Ds+cs*0}),jsxRuntimeExports.jsx("foreignObject",{width:cs*(7-0*2),height:cs*(7-0*2),x:gs+cs*0,y:Ds+cs*0,children:jsxRuntimeExports.jsx("div",{style:{borderRadius:-2*-5+2,overflow:"hidden"},children:An})})]}))}const ps=Math.floor((xa+25)/cs),bs=is.length/2-ps/2,e0=is.length/2+ps/2-1;return is.forEach((gs,Ds)=>{gs.forEach((i0,n0)=>{is[Ds][n0]&&(Ds<7&&n0<7||Ds>is.length-8&&n0<7||Ds<7&&n0>is.length-8||(An||!(Ds>bs&&Ds<e0&&n0>bs&&n0<e0))&&ts.push(jsxRuntimeExports.jsx("circle",{cx:Ds*cs+cs/2,cy:n0*cs+cs/2,fill:"var(--ck-qr-dot-color)",r:cs/3},`circle-${Ds}-${n0}`)))})}),ts},[fn,An,ba,xa,$a,Cn]);return jsxRuntimeExports.jsxs("svg",{height:$a,width:$a,viewBox:`0 0 ${$a} ${$a}`,style:{width:$a,height:$a},children:[jsxRuntimeExports.jsx("rect",{fill:"transparent",height:$a,width:$a}),rs]})}function openWindow(vn){if(vn.startsWith("http")){const fn=document.createElement("a");fn.href=vn,fn.target="_blank",fn.rel="noreferrer noopener",fn.click()}else window.location.href=vn}const AppleIcon=vn=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:vn.size,height:vn.size,viewBox:"0 0 23 28",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M22.4181 21.6041C22.008 22.5506 21.5224 23.422 20.9599 24.223C20.1931 25.3151 19.5652 26.0711 19.0814 26.4908C18.3313 27.1799 17.5277 27.5327 16.6671 27.5528C16.0493 27.5528 15.3043 27.3772 14.437 27.021C13.5669 26.6664 12.7673 26.4908 12.0362 26.4908C11.2694 26.4908 10.447 26.6664 9.56734 27.021C8.68636 27.3772 7.97665 27.5628 7.43403 27.5812C6.60879 27.6164 5.78624 27.2534 4.96519 26.4908C4.44116 26.0343 3.78569 25.2516 3.00047 24.1428C2.15799 22.9587 1.46536 21.5857 0.92274 20.0203C0.341611 18.3295 0.050293 16.6922 0.050293 15.1071C0.050293 13.2914 0.44307 11.7253 1.2298 10.413C1.84809 9.35886 2.67065 8.52734 3.70014 7.91691C4.72963 7.30648 5.84199 6.99541 7.03991 6.97551C7.69538 6.97551 8.55493 7.17804 9.6231 7.57607C10.6882 7.97544 11.3722 8.17797 11.672 8.17797C11.8962 8.17797 12.656 7.94116 13.944 7.46904C15.162 7.0312 16.19 6.84991 17.0321 6.92133C19.3141 7.10529 21.0285 8.00387 22.1687 9.62276C20.1278 10.858 19.1182 12.5881 19.1383 14.8076C19.1567 16.5363 19.7846 17.9749 21.0185 19.1172C21.5777 19.6473 22.2022 20.0571 22.897 20.3481C22.7463 20.7846 22.5872 21.2027 22.4181 21.6041ZM17.1845 1.03178C17.1845 2.38678 16.6889 3.65194 15.7011 4.82296C14.509 6.21507 13.0672 7.0195 11.5036 6.89256C11.4837 6.73 11.4721 6.55892 11.4721 6.37913C11.4721 5.07833 12.039 3.68622 13.0457 2.54798C13.5484 1.97167 14.1876 1.49247 14.9628 1.11021C15.7363 0.733653 16.4679 0.525407 17.156 0.489746C17.1761 0.670889 17.1845 0.85206 17.1845 1.03178Z",fill:"#959CA0"})}),ChromeIcon=vn=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:vn.size,height:vn.size,viewBox:"0 0 190.5 190.5",children:jsxRuntimeExports.jsxs("g",{transform:"translate(90.669 -507.469)",children:[jsxRuntimeExports.jsx("path",{d:"M4.583 650.342c26.304 0 47.627-21.324 47.627-47.628s-21.323-47.628-47.627-47.628-47.627 21.324-47.627 47.628 21.323 47.628 47.627 47.628z",fill:"#fff",clipPath:"none",mask:"none"}),jsxRuntimeExports.jsx("path",{d:"M-36.664 626.539l-41.24-71.43c-8.362 14.479-12.765 30.904-12.765 47.625s4.401 33.146 12.762 47.625 20.387 26.503 34.868 34.86 30.908 12.755 47.628 12.75l41.24-71.43v-.011c-4.177 7.244-10.188 13.26-17.428 17.443a47.62 47.62 0 0 1-47.632.007 47.62 47.62 0 0 1-17.433-17.437z",fill:"#229342",clipPath:"none",mask:"none"}),jsxRuntimeExports.jsx("path",{d:"M45.826 626.536l-41.239 71.43c16.72.003 33.146-4.398 47.626-12.757s26.504-20.384 34.863-34.865a95.24 95.24 0 0 0 12.755-47.627c-.003-16.72-4.408-33.145-12.772-47.623H4.58l-.01.007a47.62 47.62 0 0 1 23.819 6.372c7.243 4.179 13.257 10.19 17.439 17.431a47.62 47.62 0 0 1-.001 47.633z",fill:"#fbc116",clipPath:"none",mask:"none"}),jsxRuntimeExports.jsx("path",{d:"M4.583 640.43c20.824 0 37.705-16.881 37.705-37.706s-16.881-37.705-37.705-37.705-37.705 16.881-37.705 37.705 16.881 37.706 37.705 37.706z",fill:"#1a73e8",clipPath:"none",mask:"none"}),jsxRuntimeExports.jsx("path",{d:"M4.583 555.097h82.479c-8.358-14.481-20.381-26.507-34.861-34.868a95.23 95.23 0 0 0-47.625-12.76c-16.72.001-33.145 4.404-47.623 12.767a95.23 95.23 0 0 0-34.856 34.872l41.24 71.43.011.006a47.62 47.62 0 0 1-.015-47.633c4.179-7.242 10.193-13.256 17.434-17.436s15.456-6.381 23.818-6.379z",fill:"#e33b2e",clipPath:"none",mask:"none"})]})}),PlayStoreIcon=vn=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:vn.size,height:vn.size,viewBox:"0 0 23 26",fill:"none",children:[jsxRuntimeExports.jsx("path",{d:"M10.5832 12.0978L0.0976562 23.2275C0.0980507 23.2298 0.0988382 23.2317 0.0992076 23.2341C0.420793 24.4427 1.52467 25.3326 2.83473 25.3326C3.35844 25.3326 3.85012 25.191 4.27179 24.9424L4.30528 24.9228L16.1087 18.1117L10.5838 12.0977",fill:"#EB3131"}),jsxRuntimeExports.jsx("path",{d:"M21.1922 10.2046L21.1821 10.1977L16.0862 7.2435L10.345 12.3523L16.1061 18.1127L21.1752 15.1879C22.0639 14.7081 22.6672 13.7712 22.6672 12.6908C22.6672 11.6182 22.072 10.6859 21.1922 10.2046Z",fill:"#F6B60B"}),jsxRuntimeExports.jsx("path",{d:"M0.0961678 2.10416C0.0331317 2.33661 0 2.58009 0 2.83292V22.5002C0 22.7526 0.0327407 22.9969 0.0965672 23.2285L10.9441 12.3832L0.0965672 2.10444",fill:"#5778C5"}),jsxRuntimeExports.jsx("path",{d:"M10.6603 12.6667L16.088 7.24061L4.29785 0.404818C3.8693 0.148138 3.36912 0 2.83391 0C1.52384 0 0.418474 0.891502 0.0968301 2.10147C0.0964356 2.10265 0.0964355 2.10347 0.0964355 2.1045L10.6603 12.6669",fill:"#3BAD49"})]}),GetStartedScreen=vn=>{let{walletName:fn,walletIconURL:En,appleStoreLink:Cn,googlePlayStoreLink:_i,chromeExtensionLink:An,header:ba,footer:xa,onBack:$a,locale:rs}=vn;const[ts,is]=reactExports.useState("base"),cs=useTWLocale().connectWallet.download,us=ts==="android-scan"||ts==="ios-scan",ps=$a?()=>{ts==="base"?$a():is("base")}:void 0;return jsxRuntimeExports.jsx(Container,{fullHeight:!0,flex:"column",animate:"fadein",children:jsxRuntimeExports.jsxs(Container,{expand:!0,flex:"column",p:"lg",children:[ts==="android-scan"&&_i&&jsxRuntimeExports.jsx(InstallScanScreen,{platformIcon:jsxRuntimeExports.jsx(PlayStoreIcon,{size:iconSize.md}),url:_i,platform:"Google Play",walletName:fn,walletIconURL:En,onBack:ps,locale:{scanToDownload:rs.scanToDownload}}),ts==="ios-scan"&&Cn&&jsxRuntimeExports.jsx(InstallScanScreen,{platformIcon:jsxRuntimeExports.jsx(AppleIcon,{size:iconSize.md}),url:Cn,platform:"App Store",walletName:fn,walletIconURL:En,onBack:ps,locale:{scanToDownload:rs.scanToDownload}}),ts==="base"&&jsxRuntimeExports.jsxs(Container,{expand:!0,flex:"column",children:[ba||jsxRuntimeExports.jsx(ModalHeader,{onBack:ps,title:fn}),jsxRuntimeExports.jsx(Spacer,{y:"xl"}),jsxRuntimeExports.jsx(Container,{expand:!0,animate:"fadein",flex:"column",center:"y",style:{minHeight:"250px"},children:jsxRuntimeExports.jsxs(Container,{flex:"column",gap:"xs",children:[An&&jsxRuntimeExports.jsxs(ButtonLink,{onClick:()=>{openWindow(An)},children:[jsxRuntimeExports.jsx(ChromeIcon,{size:iconSize.lg}),jsxRuntimeExports.jsx("span",{children:cs.chrome})]}),_i&&jsxRuntimeExports.jsxs(ButtonLink,{as:"button",onClick:()=>{isMobile()?openWindow(_i):is("android-scan")},children:[jsxRuntimeExports.jsx(PlayStoreIcon,{size:iconSize.lg}),jsxRuntimeExports.jsx("span",{children:cs.android})]}),Cn&&jsxRuntimeExports.jsxs(ButtonLink,{as:"button",onClick:()=>{isMobile()?openWindow(Cn):is("ios-scan")},children:[jsxRuntimeExports.jsx(AppleIcon,{size:iconSize.lg}),jsxRuntimeExports.jsx("span",{children:cs.iOS})]})]})})]}),!us&&xa]})})},InstallScanScreen=vn=>jsxRuntimeExports.jsxs(Container,{animate:"fadein",expand:!0,children:[jsxRuntimeExports.jsx(ModalHeader,{title:vn.walletName,onBack:vn.onBack}),jsxRuntimeExports.jsx(Spacer,{y:"xl"}),jsxRuntimeExports.jsxs(Container,{flex:"column",expand:!0,center:"both",style:{textAlign:"center"},children:[jsxRuntimeExports.jsx(QRCode,{qrCodeUri:vn.url,QRIcon:jsxRuntimeExports.jsx(Img,{src:vn.walletIconURL,width:iconSize.xxl,height:iconSize.xxl})}),jsxRuntimeExports.jsx(Spacer,{y:"xl"}),jsxRuntimeExports.jsx(Text,{multiline:!0,center:!0,balance:!0,children:vn.locale.scanToDownload}),jsxRuntimeExports.jsx(Spacer,{y:"xs"})]})]}),ButtonLink=StyledButton(()=>{const vn=useCustomTheme();return{all:"unset",textDecoration:"none",padding:`${spacing.sm} ${spacing.md}`,borderRadius:radius.sm,display:"flex",alignItems:"center",gap:spacing.md,cursor:"pointer",boxSizing:"border-box",width:"100%",fontWeight:500,color:vn.colors.secondaryButtonText,background:vn.colors.secondaryButtonBg,transition:"100ms ease","&:hover":{background:vn.colors.secondaryButtonHoverBg,textDecoration:"none",color:vn.colors.primaryText}}}),ScanScreen=vn=>{const fn=reactExports.useContext(ModalConfigCtx);return jsxRuntimeExports.jsxs(Container,{fullHeight:!0,flex:"column",animate:"fadein",children:[jsxRuntimeExports.jsx(Container,{p:"lg",children:jsxRuntimeExports.jsx(ModalHeader,{onBack:vn.hideBackButton?void 0:vn.onBack,title:vn.walletName})}),jsxRuntimeExports.jsx(Spacer,{y:"sm"}),jsxRuntimeExports.jsx(Container,{expand:!0,flex:"column",px:"lg",center:"both",children:jsxRuntimeExports.jsxs("div",{style:{textAlign:"center"},children:[jsxRuntimeExports.jsx(QRCode,{qrCodeUri:vn.qrCodeUri,QRIcon:jsxRuntimeExports.jsx(Img,{width:iconSize.xxl,height:iconSize.xxl,src:vn.walletIconURL})}),jsxRuntimeExports.jsx(Spacer,{y:"lg"}),jsxRuntimeExports.jsx(Text,{center:!0,multiline:!0,balance:!0,style:{paddingInline:spacing.lg},children:vn.qrScanInstruction})]})}),jsxRuntimeExports.jsx(Spacer,{y:"lg"}),jsxRuntimeExports.jsx(ScreenBottomContainer,{style:{border:fn.modalSize==="compact"?void 0:"none"},children:jsxRuntimeExports.jsx(Button,{variant:"link",onClick:vn.onGetStarted,style:{fontSize:fontSize.sm,textAlign:"center"},children:vn.getStartedLink})})]})},CoinbaseScan=vn=>{let{walletConfig:fn,onConnected:En,onGetStarted:Cn,onBack:_i,hideBackButton:An,setConnectionStatus:ba,setConnectedWallet:xa}=vn;const $a=useTWLocale().wallets.coinbaseWallet,rs=useCreateWalletInstance(),[ts,is]=reactExports.useState(void 0),{chainToConnect:cs}=useWalletContext(),us=reactExports.useRef(!1);return reactExports.useEffect(()=>{us.current||(us.current=!0,(async()=>{const ps=rs(fn),bs=await ps.getQrUrl();is(bs||void 0),ba("connecting");try{await ps.connect({chainId:cs==null?void 0:cs.chainId}),xa(ps),En()}catch{ba("disconnected")}})())},[rs,En,fn,cs==null?void 0:cs.chainId,xa,ba]),jsxRuntimeExports.jsx(ScanScreen,{qrScanInstruction:$a.scanScreen.instruction,onBack:_i,onGetStarted:Cn,qrCodeUri:ts,walletName:fn.meta.name,walletIconURL:fn.meta.iconURL,hideBackButton:An,getStartedLink:$a.getStartedLink})},wait=vn=>new Promise(fn=>setTimeout(fn,vn)),CoinbaseConnectUI=vn=>{var gs,Ds,i0;let{walletConfig:fn,connected:En,goBack:Cn,supportedWallets:_i,setConnectedWallet:An,setConnectionStatus:ba,connect:xa}=vn;const{meta:$a}=fn,[rs,ts]=reactExports.useState("loading"),is=useTWLocale().wallets.coinbaseWallet,[cs,us]=reactExports.useState(!1),ps=_i.length===1,bs=reactExports.useCallback(async()=>{try{us(!1),e0.current=!0,await wait(1e3),ts("connecting"),await xa(),En()}catch(n0){us(!0),console.error(n0)}},[En,xa]),e0=reactExports.useRef(!1);return reactExports.useEffect(()=>{if(rs!=="loading"||e0.current)return;const n0=fn.isInstalled?fn.isInstalled():!1;(async()=>n0?bs():isMobile()?xa():ts("scanning"))()},[rs,fn,xa,bs]),rs==="connecting"||rs==="loading"?jsxRuntimeExports.jsx(ConnectingScreen,{locale:{getStartedLink:is.getStartedLink,instruction:is.connectionScreen.instruction,tryAgain:is.connectionScreen.retry,inProgress:is.connectionScreen.inProgress,failed:is.connectionScreen.failed},errorConnecting:cs,onGetStarted:()=>ts("get-started"),onRetry:bs,hideBackButton:ps,onBack:Cn,walletName:$a.name,walletIconURL:$a.iconURL}):rs==="get-started"?jsxRuntimeExports.jsx(GetStartedScreen,{locale:{scanToDownload:is.getStartedScreen.instruction},walletIconURL:$a.iconURL,walletName:$a.name,chromeExtensionLink:(gs=$a.urls)==null?void 0:gs.chrome,googlePlayStoreLink:(Ds=$a.urls)==null?void 0:Ds.android,appleStoreLink:(i0=$a.urls)==null?void 0:i0.ios,onBack:()=>{Cn()}}):rs==="scanning"?jsxRuntimeExports.jsx(CoinbaseScan,{onBack:Cn,onConnected:En,onGetStarted:()=>ts("get-started"),walletConfig:fn,hideBackButton:ps,setConnectedWallet:An,setConnectionStatus:ba}):null},coinbaseWallet=vn=>{const fn=(vn==null?void 0:vn.qrmodal)||"custom";return{id:CoinbaseWallet.id,recommended:vn==null?void 0:vn.recommended,meta:{name:"Coinbase Wallet",iconURL:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiByeD0iOCIgZmlsbD0iIzA1NTVGRiIvPgo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMzMwM184NjM0KSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMzMxMiA0SDM1LjY2NzJDNDAuMjcwNCA0IDQ0IDguMDEyOCA0NCAxMi45NjMyVjM1LjAzNjhDNDQgMzkuOTg3MiA0MC4yNzA0IDQ0IDM1LjY2ODggNDRIMTIuMzMxMkM3LjcyOTYgNDQgNCAzOS45ODcyIDQgMzUuMDM2OFYxMi45NjMyQzQgOC4wMTI4IDcuNzI5NiA0IDEyLjMzMTIgNFoiIGZpbGw9IiMwMDUyRkYiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yNC4wMDAzIDkuNzkzNDZDMzEuODQ2NyA5Ljc5MzQ2IDM4LjIwNjcgMTYuMTUzNSAzOC4yMDY3IDIzLjk5OTlDMzguMjA2NyAzMS44NDYzIDMxLjg0NjcgMzguMjA2MyAyNC4wMDAzIDM4LjIwNjNDMTYuMTUzOSAzOC4yMDYzIDkuNzkzOTUgMzEuODQ2MyA5Ljc5Mzk1IDIzLjk5OTlDOS43OTM5NSAxNi4xNTM1IDE2LjE1MzkgOS43OTM0NiAyNC4wMDAzIDkuNzkzNDZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTIwLjUwMDYgMTkuNDU5SDI3LjQ5NzRDMjguMDczNCAxOS40NTkgMjguNTM5IDE5Ljk2MTQgMjguNTM5IDIwLjU3OVYyNy40MTlDMjguNTM5IDI4LjAzODIgMjguMDcxOCAyOC41MzkgMjcuNDk3NCAyOC41MzlIMjAuNTAwNkMxOS45MjQ2IDI4LjUzOSAxOS40NTkgMjguMDM2NiAxOS40NTkgMjcuNDE5VjIwLjU3OUMxOS40NTkgMTkuOTYxNCAxOS45MjYyIDE5LjQ1OSAyMC41MDA2IDE5LjQ1OVoiIGZpbGw9IiMwMDUyRkYiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8zMzAzXzg2MzQiPgo8cmVjdCB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0IDQpIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==",urls:{chrome:"https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",android:"https://play.google.com/store/apps/details?id=org.toshi",ios:"https://apps.apple.com/us/app/coinbase-wallet-nfts-crypto/id1278383455"}},create(En){return new CoinbaseWallet({...En,headlessMode:fn==="custom"})},connectUI:fn==="custom"?CoinbaseConnectUI:CoinbaseNativeModalConnectUI,isInstalled(){return!!getInjectedCoinbaseProvider()}}},CoinbaseNativeModalConnectUI=vn=>{let{connected:fn,walletConfig:En,show:Cn,hide:_i,supportedWallets:An,theme:ba,goBack:xa,setConnectionStatus:$a,setConnectedWallet:rs}=vn;const ts=useCreateWalletInstance(),is=reactExports.useRef(!1),cs=An.length===1;return reactExports.useEffect(()=>{is.current||(is.current=!0,(async()=>{_i();const us=ts(En);us.theme=ba,$a("connecting");try{await us.connect(),rs(us),fn()}catch(ps){$a("disconnected"),cs||(xa(),Cn()),console.error(ps)}})())},[En,cs,ts,ba,$a,rs,_i,fn,xa,Cn]),null},MetamaskScan=vn=>{const{onBack:fn,onConnected:En,onGetStarted:Cn,walletConfig:_i,hideBackButton:An,setConnectedWallet:ba,setConnectionStatus:xa,createWalletInstance:$a}=vn,rs=useTWLocale().wallets.metamaskWallet,[ts,is]=reactExports.useState(),{chainToConnect:cs}=useWalletContext(),us=reactExports.useRef(!1);return reactExports.useEffect(()=>{if(us.current)return;us.current=!0;const ps=$a();ps.connectWithQrCode({chainId:cs==null?void 0:cs.chainId,onQrCodeUri(bs){is(bs)},onConnected(){xa("connecting"),ba(ps),En()}})},[ba,cs,En,_i,xa,$a]),jsxRuntimeExports.jsx(ScanScreen,{qrScanInstruction:rs.scanScreen.instruction,onBack:fn,onGetStarted:Cn,qrCodeUri:ts,walletName:_i.meta.name,walletIconURL:_i.meta.iconURL,hideBackButton:An,getStartedLink:rs.getStartedLink})},metamaskUris={ios:"metamask://",android:"https://metamask.app.link/",other:"https://metamask.app.link/"},WCOpenURI=vn=>{const{createWalletInstance:fn,setConnectionStatus:En,setConnectedWallet:Cn,onBack:_i,onConnected:An,appUriPrefix:ba,onRetry:xa,errorConnecting:$a,hideBackButton:rs,onGetStarted:ts,locale:is,meta:cs}=vn,{chainToConnect:us}=useWalletContext(),ps=reactExports.useRef(!1);return reactExports.useEffect(()=>{if(ps.current)return;ps.current=!0;const bs=fn();En("connecting"),bs.connectWithQrCode({chainId:us==null?void 0:us.chainId,onQrCodeUri(e0){isAndroid()?openWindow(`${ba.android}wc?uri=${encodeURIComponent(e0)}`):isIOS()?openWindow(`${ba.ios}wc?uri=${encodeURIComponent(e0)}`):openWindow(`${ba.other}wc?uri=${encodeURIComponent(e0)}`)},onConnected(){Cn(bs),An()}})},[Cn,us,An,En,ba,fn]),jsxRuntimeExports.jsx(ConnectingScreen,{locale:is,hideBackButton:rs,onBack:_i,walletName:cs.name,walletIconURL:cs.iconURL,errorConnecting:$a,onRetry:xa,onGetStarted:ts})},MetamaskConnectUI=vn=>{var us,ps,bs;const[fn,En]=reactExports.useState("connecting"),Cn=useTWLocale().wallets.metamaskWallet,{walletConfig:_i,connected:An,connect:ba}=vn,[xa,$a]=reactExports.useState(!1),rs={getStartedLink:Cn.getStartedLink,instruction:Cn.connectionScreen.instruction,tryAgain:Cn.connectionScreen.retry,inProgress:Cn.connectionScreen.inProgress,failed:Cn.connectionScreen.failed},ts=vn.supportedWallets.length===1,is=reactExports.useCallback(async()=>{try{cs.current=!0,$a(!1),En("connecting"),await wait(1e3),await ba(),An()}catch(e0){$a(!0),console.error(e0)}},[An,ba]),cs=reactExports.useRef(!1);return reactExports.useEffect(()=>{if(cs.current)return;const e0=_i.isInstalled?_i.isInstalled():!1;(async()=>e0?is():isMobile()?vn.connectionMethod==="walletConnect"?En("open-wc-uri"):window.open(`https://metamask.app.link/dapp/${window.location.toString()}`):En("scanning"))()},[is,vn.connectionMethod,_i]),fn==="connecting"?jsxRuntimeExports.jsx(ConnectingScreen,{locale:rs,errorConnecting:xa,onGetStarted:()=>{En("get-started")},onRetry:is,hideBackButton:ts,onBack:vn.goBack,walletName:_i.meta.name,walletIconURL:_i.meta.iconURL}):fn==="get-started"?jsxRuntimeExports.jsx(GetStartedScreen,{locale:{scanToDownload:Cn.getStartedScreen.instruction},walletIconURL:_i.meta.iconURL,walletName:_i.meta.name,chromeExtensionLink:(us=_i.meta.urls)==null?void 0:us.chrome,googlePlayStoreLink:(ps=_i.meta.urls)==null?void 0:ps.android,appleStoreLink:(bs=_i.meta.urls)==null?void 0:bs.ios,onBack:vn.goBack}):fn==="open-wc-uri"?jsxRuntimeExports.jsx(WCOpenURI,{locale:rs,onRetry:()=>{},errorConnecting:xa,onGetStarted:()=>{En("get-started")},hideBackButton:ts,onBack:vn.goBack,onConnected:An,appUriPrefix:metamaskUris,createWalletInstance:vn.createWalletInstance,setConnectedWallet:e0=>{vn.setConnectedWallet(e0)},setConnectionStatus:vn.setConnectionStatus,meta:_i.meta}):fn==="scanning"?jsxRuntimeExports.jsx(MetamaskScan,{onBack:vn.goBack,onConnected:vn.connected,onGetStarted:()=>{En("get-started")},hideBackButton:ts,walletConfig:_i,setConnectedWallet:e0=>vn.setConnectedWallet(e0),setConnectionStatus:vn.setConnectionStatus,createWalletInstance:vn.createWalletInstance}):null};function handelWCSessionRequest(vn,fn){isMobile()&&vn.on("wc_session_request_sent",()=>{isAndroid()?openWindow(fn.android):isIOS()?openWindow(fn.ios):openWindow(fn.other)})}const metamaskWallet=vn=>{const fn=(vn==null?void 0:vn.connectionMethod)||"walletConnect";return{id:MetaMaskWallet.id,recommended:vn==null?void 0:vn.recommended,meta:{...MetaMaskWallet.meta,iconURL:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iMTIiIGZpbGw9IiNGRkU2Q0UiLz4KPHBhdGggZD0iTTY0Ljk3MTIgMTQuMTc5TDQzLjI5MDMgMzAuMjgxN0w0Ny4yOTk2IDIwLjc4MTRMNjQuOTcxMiAxNC4xNzlaIiBmaWxsPSIjRTI3NjFCIiBzdHJva2U9IiNFMjc2MUIiIHN0cm9rZS13aWR0aD0iMC4xMjQ1MTQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTQuOTE5OCAxNC4xNzlMMzYuNDI2NCAzMC40MzQzTDMyLjYxMzIgMjAuNzgxNEwxNC45MTk4IDE0LjE3OVpNNTcuMTcwNCA1MS41MDUxTDUxLjM5NjEgNjAuMzUxOEw2My43NTEgNjMuNzUxTDY3LjMwMjcgNTEuNzAxMkw1Ny4xNzA0IDUxLjUwNTFaTTEyLjYzMTkgNTEuNzAxMkwxNi4xNjE5IDYzLjc1MUwyOC41MTY3IDYwLjM1MThMMjIuNzQyNCA1MS41MDUxTDEyLjYzMTkgNTEuNzAxMloiIGZpbGw9IiNFNDc2MUIiIHN0cm9rZT0iI0U0NzYxQiIgc3Ryb2tlLXdpZHRoPSIwLjEyNDUxNCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0yNy44MTk0IDM2LjU1NzJMMjQuMzc2NiA0MS43NjVMMzYuNjQ0NCA0Mi4zMDk3TDM2LjIwODYgMjkuMTI2OEwyNy44MTk0IDM2LjU1NzJaTTUyLjA3MTYgMzYuNTU3Mkw0My41NzM1IDI4Ljk3NDNMNDMuMjkwMyA0Mi4zMDk3TDU1LjUzNjIgNDEuNzY1TDUyLjA3MTYgMzYuNTU3MlpNMjguNTE2NyA2MC4zNTE3TDM1Ljg4MTcgNTYuNzU2NEwyOS41MTkxIDUxLjc4ODNMMjguNTE2NyA2MC4zNTE3Wk00NC4wMDkzIDU2Ljc1NjRMNTEuMzk2MSA2MC4zNTE3TDUwLjM3MiA1MS43ODgzTDQ0LjAwOTMgNTYuNzU2NFoiIGZpbGw9IiNFNDc2MUIiIHN0cm9rZT0iI0U0NzYxQiIgc3Ryb2tlLXdpZHRoPSIwLjEyNDUxNCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik01MS4zOTYxIDYwLjM1MTdMNDQuMDA5MyA1Ni43NTY0TDQ0LjU5NzcgNjEuNTcyTDQ0LjUzMjMgNjMuNTk4NEw1MS4zOTYxIDYwLjM1MTdaTTI4LjUxNjcgNjAuMzUxN0wzNS4zODA1IDYzLjU5ODRMMzUuMzM3IDYxLjU3MkwzNS44ODE3IDU2Ljc1NjRMMjguNTE2NyA2MC4zNTE3WiIgZmlsbD0iI0Q3QzFCMyIgc3Ryb2tlPSIjRDdDMUIzIiBzdHJva2Utd2lkdGg9IjAuMTI0NTE0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTM1LjQ4OTUgNDguNjA3TDI5LjM0NDcgNDYuNzk4NEwzMy42ODA5IDQ0LjgxNTZMMzUuNDg5NSA0OC42MDdaTTQ0LjQwMTUgNDguNjA3TDQ2LjIxMDEgNDQuODE1Nkw1MC41NjgxIDQ2Ljc5ODRMNDQuNDAxNSA0OC42MDdaIiBmaWxsPSIjMjMzNDQ3IiBzdHJva2U9IiMyMzM0NDciIHN0cm9rZS13aWR0aD0iMC4xMjQ1MTQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMjguNTE2NyA2MC4zNTE3TDI5LjU2MjYgNTEuNTA1TDIyLjc0MjQgNTEuNzAxMUwyOC41MTY3IDYwLjM1MTdaTTUwLjM1MDIgNTEuNTA1TDUxLjM5NjEgNjAuMzUxN0w1Ny4xNzA0IDUxLjcwMTFMNTAuMzUwMiA1MS41MDVaTTU1LjUzNjIgNDEuNzY1TDQzLjI5MDMgNDIuMzA5N0w0NC40MjMzIDQ4LjYwN0w0Ni4yMzE5IDQ0LjgxNTVMNTAuNTg5OSA0Ni43OTg0TDU1LjUzNjIgNDEuNzY1Wk0yOS4zNDQ3IDQ2Ljc5ODRMMzMuNzAyNyA0NC44MTU1TDM1LjQ4OTUgNDguNjA3TDM2LjY0NDMgNDIuMzA5N0wyNC4zNzY2IDQxLjc2NUwyOS4zNDQ3IDQ2Ljc5ODRaIiBmaWxsPSIjQ0Q2MTE2IiBzdHJva2U9IiNDRDYxMTYiIHN0cm9rZS13aWR0aD0iMC4xMjQ1MTQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMjQuMzc2NiA0MS43NjVMMjkuNTE5MSA1MS43ODgzTDI5LjM0NDcgNDYuNzk4NEwyNC4zNzY2IDQxLjc2NVpNNTAuNTg5OSA0Ni43OTg0TDUwLjM3MiA1MS43ODgzTDU1LjUzNjIgNDEuNzY1TDUwLjU4OTkgNDYuNzk4NFpNMzYuNjQ0NCA0Mi4zMDk3TDM1LjQ4OTUgNDguNjA3TDM2LjkyNzYgNTYuMDM3M0wzNy4yNTQ1IDQ2LjI1MzdMMzYuNjQ0NCA0Mi4zMDk3Wk00My4yOTAzIDQyLjMwOTdMNDIuNzAxOSA0Ni4yMzE5TDQyLjk2MzQgNTYuMDM3M0w0NC40MjMzIDQ4LjYwN0w0My4yOTAzIDQyLjMwOTdaIiBmaWxsPSIjRTQ3NTFGIiBzdHJva2U9IiNFNDc1MUYiIHN0cm9rZS13aWR0aD0iMC4xMjQ1MTQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNNDQuNDIzMyA0OC42MDdMNDIuOTYzNCA1Ni4wMzc0TDQ0LjAwOTMgNTYuNzU2NEw1MC4zNzIgNTEuNzg4M0w1MC41ODk5IDQ2Ljc5ODVMNDQuNDIzMyA0OC42MDdaTTI5LjM0NDcgNDYuNzk4NUwyOS41MTkgNTEuNzg4M0wzNS44ODE3IDU2Ljc1NjRMMzYuOTI3NiA1Ni4wMzc0TDM1LjQ4OTUgNDguNjA3TDI5LjM0NDcgNDYuNzk4NVoiIGZpbGw9IiNGNjg1MUIiIHN0cm9rZT0iI0Y2ODUxQiIgc3Ryb2tlLXdpZHRoPSIwLjEyNDUxNCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik00NC41MzIzIDYzLjU5ODRMNDQuNTk3NyA2MS41NzJMNDQuMDUyOSA2MS4wOTI2SDM1LjgzODFMMzUuMzM3IDYxLjU3MkwzNS4zODA1IDYzLjU5ODRMMjguNTE2NyA2MC4zNTE3TDMwLjkxMzYgNjIuMzEyOEwzNS43NzI4IDY1LjY5MDNINDQuMTE4M0w0OC45OTkyIDYyLjMxMjhMNTEuMzk2MSA2MC4zNTE3TDQ0LjUzMjMgNjMuNTk4NFoiIGZpbGw9IiNDMEFEOUUiIHN0cm9rZT0iI0MwQUQ5RSIgc3Ryb2tlLXdpZHRoPSIwLjEyNDUxNCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik00NC4wMDkzIDU2Ljc1NjRMNDIuOTYzNCA1Ni4wMzc0SDM2LjkyNzZMMzUuODgxNyA1Ni43NTY0TDM1LjMzNyA2MS41NzJMMzUuODM4MSA2MS4wOTI2SDQ0LjA1MjlMNDQuNTk3NyA2MS41NzJMNDQuMDA5MyA1Ni43NTY0WiIgZmlsbD0iIzE2MTYxNiIgc3Ryb2tlPSIjMTYxNjE2IiBzdHJva2Utd2lkdGg9IjAuMTI0NTE0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTY1Ljg4NjQgMzEuMzI3N0w2Ny43Mzg1IDIyLjQzNzRMNjQuOTcxMiAxNC4xNzlMNDQuMDA5MyAyOS43MzdMNTIuMDcxNiAzNi41NTcyTDYzLjQ2NzcgMzkuODkxMUw2NS45OTUzIDM2Ljk0OTRMNjQuOTA1OCAzNi4xNjVMNjYuNjQ5IDM0LjU3NDNMNjUuMjk4MSAzMy41Mjg0TDY3LjA0MTIgMzIuMTk5Mkw2NS44ODY0IDMxLjMyNzdaTTEyLjE3NDMgMjIuNDM3NEwxNC4wMjY1IDMxLjMyNzdMMTIuODQ5OCAzMi4xOTkyTDE0LjU5MyAzMy41Mjg0TDEzLjI2MzggMzQuNTc0M0wxNS4wMDcgMzYuMTY1TDEzLjkxNzUgMzYuOTQ5NEwxNi40MjMzIDM5Ljg5MTFMMjcuODE5NSAzNi41NTcyTDM1Ljg4MTcgMjkuNzM3TDE0LjkxOTggMTQuMTc5TDEyLjE3NDMgMjIuNDM3NFoiIGZpbGw9IiM3NjNEMTYiIHN0cm9rZT0iIzc2M0QxNiIgc3Ryb2tlLXdpZHRoPSIwLjEyNDUxNCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik02My40Njc3IDM5Ljg5MUw1Mi4wNzE2IDM2LjU1NzJMNTUuNTM2MiA0MS43NjVMNTAuMzcyIDUxLjc4ODNMNTcuMTcwNCA1MS43MDEySDY3LjMwMjdMNjMuNDY3NyAzOS44OTFaTTI3LjgxOTQgMzYuNTU3MkwxNi40MjMzIDM5Ljg5MUwxMi42MzE5IDUxLjcwMTJIMjIuNzQyNEwyOS41MTkxIDUxLjc4ODNMMjQuMzc2NiA0MS43NjVMMjcuODE5NCAzNi41NTcyWk00My4yOTAzIDQyLjMwOTdMNDQuMDA5MyAyOS43MzdMNDcuMzIxNCAyMC43ODEzSDMyLjYxMzJMMzUuODgxNyAyOS43MzdMMzYuNjQ0MyA0Mi4zMDk3TDM2LjkwNTggNDYuMjc1NUwzNi45Mjc2IDU2LjAzNzNINDIuOTYzNEw0My4wMDcgNDYuMjc1NUw0My4yOTAzIDQyLjMwOTdaIiBmaWxsPSIjRjY4NTFCIiBzdHJva2U9IiNGNjg1MUIiIHN0cm9rZS13aWR0aD0iMC4xMjQ1MTQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K"},create:En=>{var _i;const Cn=new MetaMaskWallet({...En,projectId:vn==null?void 0:vn.projectId,qrcode:!!(vn!=null&&vn.wcModal),qrModalOptions:typeof(vn==null?void 0:vn.wcModal)=="object"?(_i=vn==null?void 0:vn.wcModal)==null?void 0:_i.qrModalOptions:void 0});return fn==="walletConnect"&&handelWCSessionRequest(Cn,metamaskUris),Cn},connectUI(En){return jsxRuntimeExports.jsx(MetamaskConnectUI,{...En,connectionMethod:fn})},isInstalled(){return!!getInjectedMetamaskProvider()}}},TW_WC_PROJECT_ID="145769e410f16970a79ff77b2d89a1e0",WalletConnectScan=vn=>{const{onBack:fn,onConnected:En,walletConfig:Cn,hide:_i,show:An,setConnectedWallet:ba,setConnectionStatus:xa,createWalletInstance:$a}=vn,rs=useTWLocale().wallets.walletConnect,[ts,is]=reactExports.useState(),{chainToConnect:cs}=useWalletContext(),[us,ps]=reactExports.useState(!1),bs=async()=>{const e0=$a();xa("connecting");try{is(void 0),ps(!0),wait(1e3).then(()=>{_i()}),await e0.connectWithModal({chainId:cs==null?void 0:cs.chainId}),ba(e0),En(),An()}catch{An(),ps(!1)}};return jsxRuntimeExports.jsxs(Container,{fullHeight:!0,animate:"fadein",flex:"column",children:[jsxRuntimeExports.jsx(Container,{p:"lg",children:jsxRuntimeExports.jsx(ModalHeader,{onBack:vn.hideBackButton?void 0:fn,title:Cn.meta.name})}),jsxRuntimeExports.jsx(Spacer,{y:"sm"}),jsxRuntimeExports.jsx(Container,{flex:"column",center:"both",px:"lg",expand:!0,children:us?jsxRuntimeExports.jsx(Container,{style:{minHeight:"300px"},flex:"column",center:"both",children:jsxRuntimeExports.jsx(Spinner,{size:"xl",color:"accentText"})}):jsxRuntimeExports.jsx(WalletConnectQRScanConnect,{createInstance:$a,onConnected:En,qrCodeUri:ts,setConnectedWallet:ba,setConnectionStatus:xa,setQrCodeUri:is,walletConfig:Cn,chainIdToConnect:cs==null?void 0:cs.chainId})}),jsxRuntimeExports.jsx(Container,{p:"lg",children:jsxRuntimeExports.jsx(Text,{multiline:!0,center:!0,balance:!0,children:rs.scanInstruction})}),jsxRuntimeExports.jsx(Line,{}),jsxRuntimeExports.jsx(Container,{py:"lg",flex:"row",center:"x",children:jsxRuntimeExports.jsx(Button,{variant:"link",onClick:bs,children:"Open Official WalletConnect Modal"})})]})};function WalletConnectQRScanConnect(vn){const{qrCodeUri:fn,walletConfig:En,onConnected:Cn,setConnectedWallet:_i,createInstance:An,setQrCodeUri:ba,chainIdToConnect:xa,setConnectionStatus:$a}=vn,rs=reactExports.useRef(!1);return reactExports.useEffect(()=>{if(rs.current)return;rs.current=!0;const ts=An(En);$a("connecting"),ts.connectWithQrCode({chainId:xa,onQrCodeUri(is){ba(is)},onConnected(){_i(ts),Cn()}})},[An,_i,xa,Cn,En,$a,ba]),jsxRuntimeExports.jsx(QRCode,{qrCodeUri:fn,QRIcon:jsxRuntimeExports.jsx(Img,{width:iconSize.xxl,height:iconSize.xxl,src:En.meta.iconURL})})}const HeadlessConnectUI=vn=>{const{connected:fn,hide:En,show:Cn,connect:_i,setConnectionStatus:An,supportedWallets:ba}=vn,xa=reactExports.useRef(!1),[$a,rs]=reactExports.useState(!1),ts=ba.length>1,is=reactExports.useCallback(async()=>{rs(!1);try{An("connecting"),await wait(1e3),En(),await _i(),fn(),Cn()}catch(us){An("disconnected"),rs(!0),Cn(),console.error(us)}},[_i,fn,En,Cn,An]);reactExports.useEffect(()=>{xa.current||(xa.current=!0,is())},[is]);let cs=null;return $a?cs=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Text,{color:"danger",children:"Failed to connect"}),jsxRuntimeExports.jsx(Spacer,{y:"lg"}),jsxRuntimeExports.jsx(Button,{variant:"primary",onClick:is,children:"Try again"})]}):cs=jsxRuntimeExports.jsx(Spinner,{size:"xl",color:"accentText"}),jsxRuntimeExports.jsxs(Container,{p:"lg",children:[jsxRuntimeExports.jsx(ModalHeader,{onBack:ts?vn.goBack:void 0,title:vn.walletConfig.meta.name,imgSrc:vn.walletConfig.meta.iconURL}),jsxRuntimeExports.jsx(Container,{flex:"column",center:"both",style:{minHeight:"250px"},children:cs})]})},walletConnect=vn=>{const fn=(vn==null?void 0:vn.projectId)||TW_WC_PROJECT_ID,En=isMobile()?!0:(vn==null?void 0:vn.qrModal)==="walletConnect";return{recommended:vn==null?void 0:vn.recommended,id:WalletConnect.id,meta:{...WalletConnect.meta,iconURL:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iMTIiIGZpbGw9IiMxQzdERkMiLz4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iMTIiIGZpbGw9InVybCgjcGFpbnQwX3JhZGlhbF8xXzQ2KSIvPgo8cGF0aCBkPSJNMjYuNDIyNyAzMS40NzMxQzMzLjkxNzEgMjQuMTc1NiA0Ni4wODI5IDI0LjE3NTYgNTMuNTc3MyAzMS40NzMxTDU0LjQ3OTYgMzIuMzU4QzU0Ljg1OCAzMi43MjA3IDU0Ljg1OCAzMy4zMTU1IDU0LjQ3OTYgMzMuNjc4Mkw1MS4zOTQ1IDM2LjY4MTNDNTEuMjA1MyAzNi44Njk5IDUwLjg5OTcgMzYuODY5OSA1MC43MTA1IDM2LjY4MTNMNDkuNDczNiAzNS40NzcyQzQ0LjIzNDcgMzAuMzg1IDM1Ljc2NTMgMzAuMzg1IDMwLjUyNjQgMzUuNDc3MkwyOS4yMDIxIDM2Ljc2ODRDMjkuMDEzIDM2Ljk1NyAyOC43MDc0IDM2Ljk1NyAyOC41MTgyIDM2Ljc2ODRMMjUuNDMzMSAzMy43NjUzQzI1LjA1NDcgMzMuNDAyNiAyNS4wNTQ3IDMyLjgwNzggMjUuNDMzMSAzMi40NDUxTDI2LjQyMjcgMzEuNDczMVpNNTkuOTY1OCAzNy42ODI0TDYyLjcxNjIgNDAuMzUxOEM2My4wOTQ2IDQwLjcxNDUgNjMuMDk0NiA0MS4zMDkzIDYyLjcxNjIgNDEuNjcyTDUwLjMzMjIgNTMuNzI4QzQ5Ljk1MzggNTQuMDkwNyA0OS4zNDI2IDU0LjA5MDcgNDguOTc4OCA1My43MjhMNDAuMTg5MiA0NS4xNjg0QzQwLjEwMTkgNDUuMDgxMyAzOS45NDE4IDQ1LjA4MTMgMzkuODU0NSA0NS4xNjg0TDMxLjA2NDkgNTMuNzI4QzMwLjY4NjUgNTQuMDkwNyAzMC4wNzUzIDU0LjA5MDcgMjkuNzExNSA1My43MjhMMTcuMjgzOCA0MS42NzJDMTYuOTA1NCA0MS4zMDkzIDE2LjkwNTQgNDAuNzE0NSAxNy4yODM4IDQwLjM1MThMMjAuMDM0MiAzNy42ODI0QzIwLjQxMjUgMzcuMzE5NyAyMS4wMjM3IDM3LjMxOTcgMjEuMzg3NSAzNy42ODI0TDMwLjE3NzIgNDYuMjQyQzMwLjI2NDUgNDYuMzI5IDMwLjQyNDUgNDYuMzI5IDMwLjUxMTkgNDYuMjQyTDM5LjMwMTUgMzcuNjgyNEMzOS42Nzk5IDM3LjMxOTcgNDAuMjkxIDM3LjMxOTcgNDAuNjU0OSAzNy42ODI0TDQ5LjQ0NDUgNDYuMjQyQzQ5LjUzMTggNDYuMzI5IDQ5LjY5MTkgNDYuMzI5IDQ5Ljc3OTIgNDYuMjQyTDU4LjU2ODggMzcuNjgyNEM1OC45NzYzIDM3LjMxOTcgNTkuNTg3NSAzNy4zMTk3IDU5Ljk2NTggMzcuNjgyNFoiIGZpbGw9IndoaXRlIi8+CjxkZWZzPgo8cmFkaWFsR3JhZGllbnQgaWQ9InBhaW50MF9yYWRpYWxfMV80NiIgY3g9IjAiIGN5PSIwIiByPSIxIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDI0Nzk1NSA0MC4wMDEyKSBzY2FsZSg4MCkiPgo8c3RvcCBzdG9wLWNvbG9yPSIjNUQ5REY2Ii8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzAwNkZGRiIvPgo8L3JhZGlhbEdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPgo="},create(Cn){return new WalletConnect({...Cn,qrcode:En,projectId:fn,qrModalOptions:vn==null?void 0:vn.qrModalOptions})},connectUI(Cn){return En?jsxRuntimeExports.jsx(HeadlessConnectUI,{...Cn}):jsxRuntimeExports.jsx(WalletConnectScan,{onBack:Cn.goBack,onConnected:Cn.connected,walletConfig:Cn.walletConfig,hideBackButton:Cn.supportedWallets.length===1,modalSize:Cn.modalSize,createWalletInstance:Cn.createWalletInstance,setConnectedWallet:Cn.setConnectedWallet,setConnectionStatus:Cn.setConnectionStatus,hide:Cn.hide,show:Cn.show})}}},WalletConnectScanUI=vn=>{const{onBack:fn,onConnected:En,onGetStarted:Cn,hideBackButton:_i,setConnectionStatus:An,setConnectedWallet:ba,createWalletInstance:xa}=vn,$a=vn.walletLocale,[rs,ts]=reactExports.useState(),{chainToConnect:is}=useWalletContext(),cs=reactExports.useRef(!1);return reactExports.useEffect(()=>{if(cs.current)return;cs.current=!0;const us=xa();us.connectWithQrCode({chainId:is==null?void 0:is.chainId,onQrCodeUri(ps){ts(ps)},onConnected(){An("connecting"),ba(us),En()}})},[xa,ba,is,En,An]),jsxRuntimeExports.jsx(ScanScreen,{qrScanInstruction:$a.scanScreen.instruction,onBack:fn,onGetStarted:Cn,qrCodeUri:rs,walletName:vn.meta.name,walletIconURL:vn.meta.iconURL,hideBackButton:_i,getStartedLink:$a.getStartedLink})},ExtensionOrWCConnectionUI=vn=>{var n0,c0,d0;const[fn,En]=reactExports.useState("connecting"),{connected:Cn,connect:_i,supportedWallets:An,isInstalled:ba,meta:xa,createWalletInstance:$a,setConnectedWallet:rs,setConnectionStatus:ts,goBack:is,walletConnectUris:cs,walletLocale:us}=vn,ps={getStartedLink:us.getStartedLink,instruction:us.connectionScreen.instruction,tryAgain:us.connectionScreen.retry,inProgress:us.connectionScreen.inProgress,failed:us.connectionScreen.failed},[bs,e0]=reactExports.useState(!1),gs=An.length===1,Ds=reactExports.useCallback(async()=>{try{i0.current=!0,e0(!1),En("connecting"),await wait(1e3),await _i(),Cn()}catch(o0){e0(!0),console.error(o0)}},[Cn,_i]),i0=reactExports.useRef(!1);return reactExports.useEffect(()=>{if(i0.current)return;const o0=ba?ba():!1;(async()=>o0?Ds():isMobile()?En("open-wc-uri"):En("scanning"))()},[Ds,ba]),fn==="connecting"?jsxRuntimeExports.jsx(ConnectingScreen,{locale:ps,errorConnecting:bs,onGetStarted:()=>{En("get-started")},onRetry:Ds,hideBackButton:gs,onBack:is,walletName:xa.name,walletIconURL:xa.iconURL}):fn==="open-wc-uri"?jsxRuntimeExports.jsx(WCOpenURI,{locale:ps,onRetry:()=>{},errorConnecting:bs,onGetStarted:()=>{En("get-started")},hideBackButton:gs,onBack:is,onConnected:Cn,appUriPrefix:cs,createWalletInstance:$a,meta:xa,setConnectedWallet:o0=>{rs(o0)},setConnectionStatus:ts}):fn==="get-started"?jsxRuntimeExports.jsx(GetStartedScreen,{locale:{scanToDownload:us.getStartedScreen.instruction},walletIconURL:xa.iconURL,walletName:xa.name,chromeExtensionLink:(n0=xa.urls)==null?void 0:n0.chrome,googlePlayStoreLink:(c0=xa.urls)==null?void 0:c0.android,appleStoreLink:(d0=xa.urls)==null?void 0:d0.ios,onBack:is}):fn==="scanning"?jsxRuntimeExports.jsx(WalletConnectScanUI,{onBack:is,onConnected:Cn,onGetStarted:()=>{En("get-started")},hideBackButton:gs,createWalletInstance:$a,meta:xa,setConnectedWallet:o0=>{rs(o0)},setConnectionStatus:ts,walletLocale:us}):null},trustWalletUris={ios:"trust://",android:"https://link.trustwallet.com/",other:"https://link.trustwallet.com/"},trustWallet=vn=>({id:TrustWallet.id,recommended:vn==null?void 0:vn.recommended,meta:{...TrustWallet.meta,iconURL:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iMTIiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik00MC41MzAzIDE3LjE0MjVDNDguMjQ3NyAyMy42ODU3IDU3LjE1NiAyMy4zNTE4IDU5LjcwMDMgMjMuMzcwN0M1OC44Njk4IDYwLjI1MTMgNTQuNjgzNSA1Mi45MDU4IDQwLjE4ODcgNjMuMTQxMkMyNS44NDc0IDUyLjY5MTYgMjEuNTc5IDU5Ljk3NDQgMjEuMjk2NCAyMy4wODU1QzIzLjgxNDIgMjMuMTA0MiAzMi43MTY1IDIzLjU3MDQgNDAuNTMwMyAxNy4xNDI1WiIgc3Ryb2tlPSIjMzM3NUJCIiBzdHJva2Utd2lkdGg9IjciIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo="},create:fn=>{var Cn;const En=new TrustWallet({...fn,projectId:vn==null?void 0:vn.projectId,qrcode:!!(vn!=null&&vn.wcModal),qrModalOptions:typeof(vn==null?void 0:vn.wcModal)=="object"?(Cn=vn==null?void 0:vn.wcModal)==null?void 0:Cn.qrModalOptions:void 0});return handelWCSessionRequest(En,trustWalletUris),En},connectUI:ConnectUI$2,isInstalled:isInstalled$2});function isInstalled$2(){return assertWindowEthereum(globalThis.window)?!!globalThis.window.ethereum.isTrust:!1}function ConnectUI$2(vn){const fn=useTWLocale();return jsxRuntimeExports.jsx(ExtensionOrWCConnectionUI,{connect:vn.connect,connected:vn.connected,createWalletInstance:vn.createWalletInstance,goBack:vn.goBack,meta:vn.walletConfig.meta,setConnectedWallet:En=>vn.setConnectedWallet(En),setConnectionStatus:vn.setConnectionStatus,supportedWallets:vn.supportedWallets,walletConnectUris:trustWalletUris,walletLocale:fn.wallets.trustWallet,isInstalled:isInstalled$2})}const zerionWalletUris={ios:"zerion://",android:"https://link.zerion.io/pt3gdRP0njb/",other:"https://link.zerion.io/pt3gdRP0njb/"},zerionWallet=vn=>({id:ZerionWallet.id,recommended:vn==null?void 0:vn.recommended,meta:{...ZerionWallet.meta,iconURL:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iMTIiIGZpbGw9IiMyMzYxRUMiLz4KPHBhdGggZD0iTTE3LjM3OSAyMEMxNi4wMDggMjAgMTUuNDc5OCAyMS42OTUyIDE2LjYzMDEgMjIuNDAzNEw0NS40MDk0IDM5Ljc1NjJDNDYuMTI2OCA0MC4xOTc4IDQ3LjA4MzUgNDAuMDIzNCA0Ny41Nzc0IDM5LjM2MDhMNjAuMjMwOSAyMi43NDlDNjEuMDkxMiAyMS41OTUgNjAuMjIyIDIwIDU4LjczMjkgMjBIMTcuMzc5WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTYyLjYxMTcgNjAuMDAwMUM2My45ODI3IDYwLjAwMDEgNjQuNTI0NSA1OC4yOTU1IDYzLjM3NDMgNTcuNTg3NUwzNC41ODY4IDQwLjIzNjlDMzMuODY5NCAzOS43OTUzIDMyLjkzNTkgMzkuOTkxOSAzMi40NDIxIDQwLjY1NDNMMTkuNzY0IDU3LjI2MjlDMTguOTAzOSA1OC40MTY3IDE5LjgwMDMgNjAuMDAwMSAyMS4yODkyIDYwLjAwMDFINjIuNjExN1oiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo="},create:fn=>{const En=new ZerionWallet({...fn,projectId:vn==null?void 0:vn.projectId,qrcode:!1,qrModalOptions:void 0});return handelWCSessionRequest(En,zerionWalletUris),En},connectUI:ConnectUI$1,isInstalled:isInstalled$1});function isInstalled$1(){return assertWindowEthereum(globalThis.window)?!!globalThis.window.ethereum.isZerion:!1}function ConnectUI$1(vn){const fn=useTWLocale();return jsxRuntimeExports.jsx(ExtensionOrWCConnectionUI,{connect:vn.connect,connected:vn.connected,createWalletInstance:vn.createWalletInstance,goBack:vn.goBack,meta:vn.walletConfig.meta,setConnectedWallet:En=>vn.setConnectedWallet(En),setConnectionStatus:vn.setConnectionStatus,supportedWallets:vn.supportedWallets,walletConnectUris:zerionWalletUris,walletLocale:fn.wallets.zerionWallet,isInstalled:isInstalled$1})}const rainbowWalletUris={ios:"rainbow://",android:"https://rnbwapp.com/",other:"https://rnbwapp.com/"},rainbowWallet=vn=>({id:RainbowWallet.id,recommended:vn==null?void 0:vn.recommended,meta:{...RainbowWallet.meta,name:"Rainbow",iconURL:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzVfMTQ5KSI+CjxwYXRoIGQ9Ik04MCAwSDBWODBIODBWMFoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl81XzE0OSkiLz4KPHBhdGggZD0iTTEzLjMzMzMgMjUuMzMzNEgxNy4zMzMzQzM3Ljk1MTkgMjUuMzMzNCA1NC42NjY2IDQyLjA0ODEgNTQuNjY2NiA2Mi42NjY3VjY2LjY2NjdINjIuNjY2NkM2NC44NzU4IDY2LjY2NjcgNjYuNjY2NiA2NC44NzU4IDY2LjY2NjYgNjIuNjY2N0M2Ni42NjY2IDM1LjQyMDYgNDQuNTc5NCAxMy4zMzM0IDE3LjMzMzMgMTMuMzMzNEMxNS4xMjQyIDEzLjMzMzQgMTMuMzMzMyAxNS4xMjQyIDEzLjMzMzMgMTcuMzMzNFYyNS4zMzM0WiIgZmlsbD0idXJsKCNwYWludDFfcmFkaWFsXzVfMTQ5KSIvPgo8cGF0aCBkPSJNNTYgNjIuNjY2Nkg2Ni42NjY3QzY2LjY2NjcgNjQuODc1OCA2NC44NzU4IDY2LjY2NjYgNjIuNjY2NyA2Ni42NjY2SDU2VjYyLjY2NjZaIiBmaWxsPSJ1cmwoI3BhaW50Ml9saW5lYXJfNV8xNDkpIi8+CjxwYXRoIGQ9Ik0xNy4zMzMzIDEzLjMzMzRWMjRIMTMuMzMzM1YxNy4zMzM0QzEzLjMzMzMgMTUuMTI0MiAxNS4xMjQyIDEzLjMzMzQgMTcuMzMzMyAxMy4zMzM0WiIgZmlsbD0idXJsKCNwYWludDNfbGluZWFyXzVfMTQ5KSIvPgo8cGF0aCBkPSJNMTMuMzMzMyAyNEgxNy4zMzMzQzM4LjY4ODMgMjQgNTYgNDEuMzExNyA1NiA2Mi42NjY3VjY2LjY2NjdINDRWNjIuNjY2N0M0NCA0Ny45MzkxIDMyLjA2MDkgMzYgMTcuMzMzMyAzNkgxMy4zMzMzVjI0WiIgZmlsbD0idXJsKCNwYWludDRfcmFkaWFsXzVfMTQ5KSIvPgo8cGF0aCBkPSJNNDUuMzMzMyA2Mi42NjY2SDU2VjY2LjY2NjZINDUuMzMzM1Y2Mi42NjY2WiIgZmlsbD0idXJsKCNwYWludDVfbGluZWFyXzVfMTQ5KSIvPgo8cGF0aCBkPSJNMTMuMzMzMyAzNC42NjY3VjI0SDE3LjMzMzNWMzQuNjY2N0gxMy4zMzMzWiIgZmlsbD0idXJsKCNwYWludDZfbGluZWFyXzVfMTQ5KSIvPgo8cGF0aCBkPSJNMTMuMzMzMyA0MS4zMzMzQzEzLjMzMzMgNDMuNTQyNCAxNS4xMjQyIDQ1LjMzMzMgMTcuMzMzMyA0NS4zMzMzQzI2LjkwNjIgNDUuMzMzMyAzNC42NjY2IDUzLjA5MzcgMzQuNjY2NiA2Mi42NjY2QzM0LjY2NjYgNjQuODc1OCAzNi40NTc1IDY2LjY2NjYgMzguNjY2NiA2Ni42NjY2SDQ1LjMzMzNWNjIuNjY2NkM0NS4zMzMzIDQ3LjIwMjYgMzIuNzk3MyAzNC42NjY2IDE3LjMzMzMgMzQuNjY2NkgxMy4zMzMzVjQxLjMzMzNaIiBmaWxsPSJ1cmwoI3BhaW50N19yYWRpYWxfNV8xNDkpIi8+CjxwYXRoIGQ9Ik0zNC42NjY3IDYyLjY2NjZINDUuMzMzNFY2Ni42NjY2SDM4LjY2NjdDMzYuNDU3NiA2Ni42NjY2IDM0LjY2NjcgNjQuODc1OCAzNC42NjY3IDYyLjY2NjZaIiBmaWxsPSJ1cmwoI3BhaW50OF9yYWRpYWxfNV8xNDkpIi8+CjxwYXRoIGQ9Ik0xNy4zMzMzIDQ1LjMzMzNDMTUuMTI0MiA0NS4zMzMzIDEzLjMzMzMgNDMuNTQyNCAxMy4zMzMzIDQxLjMzMzNWMzQuNjY2NkgxNy4zMzMzVjQ1LjMzMzNaIiBmaWxsPSJ1cmwoI3BhaW50OV9yYWRpYWxfNV8xNDkpIi8+CjwvZz4KPGRlZnM+CjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhcl81XzE0OSIgeDE9IjQwIiB5MT0iMCIgeDI9IjQwIiB5Mj0iODAiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iIzE3NDI5OSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMwMDFFNTkiLz4KPC9saW5lYXJHcmFkaWVudD4KPHJhZGlhbEdyYWRpZW50IGlkPSJwYWludDFfcmFkaWFsXzVfMTQ5IiBjeD0iMCIgY3k9IjAiIHI9IjEiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKDE3LjMzMzMgNjIuNjY2Nykgcm90YXRlKC05MCkgc2NhbGUoNDkuMzMzMykiPgo8c3RvcCBvZmZzZXQ9IjAuNzcwMjc3IiBzdG9wLWNvbG9yPSIjRkY0MDAwIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzg3NTRDOSIvPgo8L3JhZGlhbEdyYWRpZW50Pgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50Ml9saW5lYXJfNV8xNDkiIHgxPSI1NS4zMzMzIiB5MT0iNjQuNjY2NiIgeDI9IjY2LjY2NjciIHkyPSI2NC42NjY2IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNGRjQwMDAiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjODc1NEM5Ii8+CjwvbGluZWFyR3JhZGllbnQ+CjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQzX2xpbmVhcl81XzE0OSIgeDE9IjE1LjMzMzMiIHkxPSIxMy4zMzM0IiB4Mj0iMTUuMzMzMyIgeTI9IjI0LjY2NjciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iIzg3NTRDOSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjQwMDAiLz4KPC9saW5lYXJHcmFkaWVudD4KPHJhZGlhbEdyYWRpZW50IGlkPSJwYWludDRfcmFkaWFsXzVfMTQ5IiBjeD0iMCIgY3k9IjAiIHI9IjEiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKDE3LjMzMzMgNjIuNjY2Nykgcm90YXRlKC05MCkgc2NhbGUoMzguNjY2NykiPgo8c3RvcCBvZmZzZXQ9IjAuNzIzOTI5IiBzdG9wLWNvbG9yPSIjRkZGNzAwIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0ZGOTkwMSIvPgo8L3JhZGlhbEdyYWRpZW50Pgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50NV9saW5lYXJfNV8xNDkiIHgxPSI0NS4zMzMzIiB5MT0iNjQuNjY2NiIgeDI9IjU2IiB5Mj0iNjQuNjY2NiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBzdG9wLWNvbG9yPSIjRkZGNzAwIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0ZGOTkwMSIvPgo8L2xpbmVhckdyYWRpZW50Pgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50Nl9saW5lYXJfNV8xNDkiIHgxPSIxNS4zMzMzIiB5MT0iMzQuNjY2NyIgeDI9IjE1LjMzMzMiIHkyPSIyNCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBzdG9wLWNvbG9yPSIjRkZGNzAwIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0ZGOTkwMSIvPgo8L2xpbmVhckdyYWRpZW50Pgo8cmFkaWFsR3JhZGllbnQgaWQ9InBhaW50N19yYWRpYWxfNV8xNDkiIGN4PSIwIiBjeT0iMCIgcj0iMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIGdyYWRpZW50VHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTcuMzMzMyA2Mi42NjY2KSByb3RhdGUoLTkwKSBzY2FsZSgyOCkiPgo8c3RvcCBvZmZzZXQ9IjAuNTk1MTMiIHN0b3AtY29sb3I9IiMwMEFBRkYiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMDFEQTQwIi8+CjwvcmFkaWFsR3JhZGllbnQ+CjxyYWRpYWxHcmFkaWVudCBpZD0icGFpbnQ4X3JhZGlhbF81XzE0OSIgY3g9IjAiIGN5PSIwIiByPSIxIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSgzNCA2NC42NjY2KSBzY2FsZSgxMS4zMzMzIDMwLjIyMjIpIj4KPHN0b3Agc3RvcC1jb2xvcj0iIzAwQUFGRiIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMwMURBNDAiLz4KPC9yYWRpYWxHcmFkaWVudD4KPHJhZGlhbEdyYWRpZW50IGlkPSJwYWludDlfcmFkaWFsXzVfMTQ5IiBjeD0iMCIgY3k9IjAiIHI9IjEiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKDE1LjMzMzMgNDYpIHJvdGF0ZSgtOTApIHNjYWxlKDExLjMzMzMgMjE0LjkxMykiPgo8c3RvcCBzdG9wLWNvbG9yPSIjMDBBQUZGIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzAxREE0MCIvPgo8L3JhZGlhbEdyYWRpZW50Pgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzVfMTQ5Ij4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iMTIiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg=="},create:fn=>{const En=new RainbowWallet({...fn,projectId:vn==null?void 0:vn.projectId,qrcode:!1});return handelWCSessionRequest(En,rainbowWalletUris),En},connectUI:ConnectUI,isInstalled});function isInstalled(){return!!getInjectedRainbowProvider()}function ConnectUI(vn){const fn=useTWLocale();return jsxRuntimeExports.jsx(ExtensionOrWCConnectionUI,{connect:vn.connect,connected:vn.connected,createWalletInstance:vn.createWalletInstance,goBack:vn.goBack,meta:vn.walletConfig.meta,setConnectedWallet:En=>vn.setConnectedWallet(En),setConnectionStatus:vn.setConnectionStatus,supportedWallets:vn.supportedWallets,walletConnectUris:rainbowWalletUris,walletLocale:fn.wallets.rainbowWallet,isInstalled})}const PhantomConnectUI=vn=>{var us,ps,bs;const[fn,En]=reactExports.useState("connecting"),Cn=useTWLocale().wallets.phantomWallet,{walletConfig:_i,connected:An}=vn,[ba,xa]=reactExports.useState(!1),{connect:$a}=vn,rs=vn.supportedWallets.length===1,{goBack:ts}=vn,is=reactExports.useCallback(async()=>{try{cs.current=!0,En("connecting"),xa(!1),await wait(1e3),await $a(),An()}catch(e0){xa(!0),console.error(e0)}},[An,$a]),cs=reactExports.useRef(!1);return reactExports.useEffect(()=>{if(cs.current)return;const e0=_i.isInstalled?_i.isInstalled():!1;(async()=>e0?is():En("get-started"))()},[_i,An,$a,ts,is]),fn==="connecting"?jsxRuntimeExports.jsx(ConnectingScreen,{locale:{getStartedLink:Cn.getStartedLink,instruction:Cn.connectionScreen.instruction,tryAgain:Cn.connectionScreen.retry,inProgress:Cn.connectionScreen.inProgress,failed:Cn.connectionScreen.failed},hideBackButton:rs,onBack:vn.goBack,walletName:_i.meta.name,walletIconURL:_i.meta.iconURL,onGetStarted:()=>{En("get-started")},onRetry:()=>{is()},errorConnecting:ba}):fn==="get-started"?jsxRuntimeExports.jsx(GetStartedScreen,{locale:{scanToDownload:Cn.getStartedScreen.instruction},walletIconURL:_i.meta.iconURL,walletName:_i.meta.name,chromeExtensionLink:(us=_i.meta.urls)==null?void 0:us.chrome,googlePlayStoreLink:(ps=_i.meta.urls)==null?void 0:ps.android,appleStoreLink:(bs=_i.meta.urls)==null?void 0:bs.ios,onBack:()=>{vn.goBack()}}):null},phantomWallet=vn=>({recommended:vn==null?void 0:vn.recommended,id:PhantomWallet.id,meta:{...PhantomWallet.meta,iconURL:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPgo="},create:fn=>new PhantomWallet(fn),connectUI:PhantomConnectUI,isInstalled(){return!!getInjectedPhantomProvider()}}),defaultWallets=[metamaskWallet(),coinbaseWallet(),walletConnect(),trustWallet(),rainbowWallet(),zerionWallet(),phantomWallet()],TWIcon=vn=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:vn.size,height:vn.size,viewBox:"0 0 27 16",fill:"none",children:[jsxRuntimeExports.jsx("path",{d:"M13.6891 0C13.8482 0.0317795 13.9983 0.0957213 14.1292 0.1875C14.2768 0.297724 14.39 0.444328 14.4563 0.611413C14.8718 1.60272 15.2885 2.59348 15.7064 3.5837L17.0986 6.89022C17.3418 7.46902 17.5832 8.0462 17.8298 8.62337C17.8823 8.74121 17.9094 8.86791 17.9094 8.99592C17.9094 9.12393 17.8823 9.25064 17.8298 9.36848C17.1243 11.0446 16.4182 12.7217 15.7115 14.4C15.654 14.5572 15.5516 14.696 15.4157 14.8009C15.2799 14.9057 15.1161 14.9724 14.9426 14.9935C14.7283 15.0315 14.5068 14.9982 14.3153 14.899C14.1238 14.7998 13.9741 14.6409 13.8912 14.4489C13.4939 13.5196 13.1052 12.587 12.713 11.6543C12.0463 10.075 11.3813 8.49456 10.718 6.91304C10.1255 5.50543 9.5336 4.09891 8.94223 2.69348C8.7453 2.22717 8.55522 1.75761 8.34973 1.29293C8.29321 1.16705 8.26644 1.03087 8.27132 0.894047C8.27619 0.757221 8.31259 0.623087 8.37794 0.501137C8.44329 0.379187 8.53599 0.272402 8.64948 0.188339C8.76297 0.104275 8.89448 0.0449885 9.03471 0.0146733C9.05183 0.0146733 9.06724 0.0048913 9.08437 0H13.6891Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{d:"M5.42129 0C5.47438 0.0146739 5.52575 0.0260873 5.57712 0.0423917C5.71022 0.0819151 5.83236 0.14928 5.93458 0.239555C6.0368 0.329829 6.11653 0.440727 6.16791 0.56413C6.62457 1.63913 7.07779 2.71413 7.52759 3.78913C7.97739 4.86413 8.43404 5.95109 8.89755 7.05L9.57053 8.64456C9.62093 8.75806 9.6469 8.88004 9.6469 9.00326C9.6469 9.12648 9.62093 9.24846 9.57053 9.36196C9.32052 9.9587 9.06936 10.5565 8.81706 11.1554L7.43512 14.431C7.36255 14.6012 7.23853 14.7471 7.07879 14.8501C6.91904 14.9532 6.73075 15.0087 6.5378 15.0098C6.33426 15.0125 6.13478 14.9554 5.96654 14.8463C5.7983 14.7372 5.6695 14.5814 5.59767 14.4C5.16956 13.3712 4.74145 12.344 4.30307 11.3168L2.54781 7.14946L0.763448 2.91033C0.539118 2.37554 0.314789 1.83913 0.0784718 1.30435C-0.0212674 1.08161 -0.026107 0.830668 0.0649731 0.604591C0.156053 0.378515 0.335913 0.195028 0.566519 0.0929347C0.650596 0.0604572 0.73701 0.0337587 0.825096 0.0130438L5.42129 0Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{d:"M26.0098 9.14348C25.8865 9.54782 25.7067 9.92935 25.5355 10.3239C25.0708 11.4315 24.6033 12.5397 24.133 13.6484C24.0251 13.9109 23.9155 14.1554 23.811 14.4114C23.7364 14.591 23.605 14.744 23.4351 14.8495C23.2651 14.9549 23.065 15.0075 22.8623 15C22.6689 14.995 22.4813 14.9353 22.3237 14.8284C22.166 14.7216 22.0453 14.5724 21.977 14.4C21.2989 12.7848 20.6196 11.1696 19.9392 9.55435C19.3524 8.16522 18.7633 6.77283 18.172 5.37717C17.6011 4.01087 17.0303 2.64456 16.4595 1.27826C16.4042 1.15338 16.3784 1.01844 16.3839 0.882999C16.3895 0.747561 16.4262 0.614939 16.4916 0.494528C16.5569 0.374117 16.6493 0.268861 16.7621 0.186219C16.875 0.103577 17.0055 0.0455688 17.1445 0.0163041L17.201 0H21.8023L21.8451 0.0130438C22.0073 0.0455066 22.158 0.116718 22.2833 0.219974C22.4085 0.32323 22.504 0.455132 22.5609 0.60326C22.8281 1.23913 23.0964 1.87554 23.3658 2.5125C24.0679 4.18206 24.77 5.85163 25.4721 7.52119C25.657 7.96141 25.8625 8.39348 26.0132 8.84511L26.0098 9.14348Z",fill:"currentColor"})]});function TOS(vn){const{termsOfServiceUrl:fn,privacyPolicyUrl:En}=vn,Cn=useTWLocale().connectWallet.agreement;if(!fn&&!En)return null;const _i=fn&&En;return jsxRuntimeExports.jsx(Container,{flex:"row",center:"x",children:jsxRuntimeExports.jsxs(Text,{size:"xs",multiline:!0,balance:!0,inline:!0,center:!0,style:{maxWidth:"250px"},children:[Cn.prefix," ",fn&&jsxRuntimeExports.jsxs(Link,{inline:!0,size:"xs",href:fn,target:"_blank",style:{whiteSpace:"nowrap"},children:[" ",Cn.termsOfService," "]}),_i&&Cn.and+" ",En&&jsxRuntimeExports.jsx(Link,{inline:!0,size:"xs",href:En,target:"_blank",children:Cn.privacyPolicy})]})})}const ThirdwebTextIcon=vn=>jsxRuntimeExports.jsxs("svg",{width:vn.height*74/11,height:vn.height,viewBox:"0 0 74 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M34.1489 0.373291C33.5297 0.373291 33.022 0.874761 33.022 1.51414C33.022 2.14097 33.5297 2.64244 34.1489 2.64244C34.7681 2.64244 35.2758 2.14097 35.2758 1.51414C35.2758 0.874761 34.7681 0.373291 34.1489 0.373291ZM35.1396 3.21913H33.1706V9.97644H35.1396V3.21913ZM21.6787 0.624035H23.5982V3.21914H25.0718V5.02444H23.5982V7.40642C23.5982 7.75745 23.8706 8.03326 24.205 8.03326H25.0594V9.95138H24.205C22.818 9.95138 21.6787 8.81054 21.6787 7.39389V5.0119H20.7871V3.20661H21.6787V0.624035ZM29.7652 3.0687C28.8736 3.0687 28.1677 3.44481 27.8953 4.03403V0.624035H25.9263V9.96392H27.8953V6.17782C27.8953 5.388 28.403 4.83639 29.1213 4.83639C29.8519 4.83639 30.2605 5.31278 30.2605 6.11514V9.97646H32.2295V5.8644C32.2295 4.10925 31.3379 3.0687 29.7652 3.0687ZM37.9507 3.2066V4.13432C38.2479 3.45734 38.9661 3.0687 39.8701 3.05616C40.0063 3.05616 40.1797 3.0687 40.3902 3.09377V4.97429C40.1921 4.93668 39.9692 4.9116 39.7339 4.9116C38.607 4.9116 37.9507 5.55098 37.9507 6.66675V9.96392H35.9817V3.2066H37.9507ZM45.9257 4.09672C45.7275 3.50749 44.9474 3.09378 43.9443 3.09378C43.0032 3.09378 42.2106 3.43227 41.5791 4.10926C40.9599 4.7737 40.6379 5.61367 40.6379 6.59154C40.6379 7.5694 40.9599 8.39683 41.5791 9.08635C42.2106 9.7508 43.0032 10.0893 43.9443 10.0893C44.9474 10.0893 45.7275 9.67558 45.9257 9.08635V9.97646H47.8946V0.624035H45.9257V4.09672ZM45.5294 7.79506C45.195 8.12102 44.7864 8.27146 44.3034 8.27146C43.8329 8.27146 43.4242 8.10848 43.1022 7.79506C42.7679 7.45657 42.6069 7.0554 42.6069 6.59154C42.6069 6.12767 42.7679 5.7265 43.1022 5.40054C43.4366 5.06205 43.8329 4.89907 44.3034 4.89907C44.7988 4.89907 45.2074 5.06205 45.5294 5.40054C45.8761 5.7265 46.0495 6.12767 46.0495 6.59154C46.0495 7.0554 45.8761 7.45657 45.5294 7.79506ZM53.5787 3.2442L55.3619 6.45361L56.5631 3.21913H58.4949L55.7458 10.3651L53.5787 6.47868L51.4115 10.3651L48.6748 3.21913H50.6066L51.7954 6.45361L53.5787 3.2442ZM61.7394 3.05616C60.7239 3.05616 59.8694 3.38212 59.2007 4.03403C58.5444 4.6734 58.2101 5.5259 58.2101 6.57899V6.64167C58.2101 7.69476 58.5444 8.54726 59.2007 9.18664C59.8818 9.81347 60.7487 10.1394 61.8384 10.1394C62.8539 10.1394 63.6836 9.93884 64.3151 9.52513V7.78252C63.6959 8.22131 62.9034 8.43443 61.9499 8.43443C60.9097 8.43443 60.2286 7.92042 60.1914 7.11807H65.0829C65.1077 6.91748 65.12 6.69182 65.12 6.46616C65.12 5.50083 64.7981 4.69848 64.1789 4.04657C63.5597 3.38212 62.73 3.05616 61.7394 3.05616ZM60.1914 5.82679C60.2038 5.51337 60.3648 5.25009 60.662 5.03697C60.9716 4.82385 61.3183 4.71101 61.7394 4.71101C62.5195 4.71101 63.1263 5.22502 63.1263 5.82679H60.1914ZM69.8135 3.09378C70.7546 3.09378 71.5472 3.43227 72.1663 4.10925C72.7979 4.78624 73.1199 5.60113 73.1199 6.579C73.1199 7.55686 72.7979 8.38429 72.1663 9.07381C71.5472 9.73826 70.7546 10.0768 69.8135 10.0768C68.8104 10.0768 68.0302 9.66304 67.8321 9.07381V9.96392H65.8631V0.624035H67.8321V4.09672C68.0302 3.50749 68.8104 3.09378 69.8135 3.09378ZM69.4543 8.27146C69.9249 8.27146 70.3212 8.12102 70.6555 7.79506C70.9899 7.45657 71.1509 7.05539 71.1509 6.59153C71.1509 6.12767 70.9899 5.7265 70.6555 5.40054C70.3336 5.06205 69.9249 4.89907 69.4543 4.89907C68.9714 4.89907 68.5627 5.06205 68.216 5.40054C67.8816 5.7265 67.7083 6.12767 67.7083 6.59153C67.7083 7.05539 67.8816 7.45657 68.216 7.79506C68.5503 8.10848 68.959 8.27146 69.4543 8.27146Z",fill:"currentColor"}),jsxRuntimeExports.jsx("g",{clipPath:"url(#clip0_5017_2727)",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.045011 0.900694C-0.126602 0.467742 0.193222 0 0.661257 0H3.56697C3.83999 0 4.08181 0.162357 4.18322 0.413623L6.49609 6.18115C6.55849 6.33578 6.55849 6.50973 6.49609 6.66822L5.04128 10.2903C4.81896 10.8431 4.03111 10.8431 3.80879 10.2903L0.045011 0.900694ZM5.65759 0.881366C5.50158 0.45228 5.8214 0 6.28164 0H8.81292C9.09374 0 9.34336 0.173954 9.43697 0.432951L11.5392 6.20048C11.5899 6.34351 11.5899 6.502 11.5392 6.6489L10.2755 10.1164C10.0649 10.6962 9.23805 10.6962 9.02744 10.1164L5.65759 0.881366ZM11.3404 0C10.8724 0 10.5525 0.467742 10.7241 0.900694L14.4879 10.2903C14.7102 10.8431 15.4981 10.8431 15.7204 10.2903L17.1752 6.66822C17.2376 6.50973 17.2376 6.33578 17.1752 6.18115L14.8623 0.413623C14.7609 0.162357 14.5191 0 14.2461 0H11.3404Z",fill:"currentColor"})}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"clip0_5017_2727",children:jsxRuntimeExports.jsx("rect",{width:"17.219",height:"10.7049",fill:"white"})})})]});function PoweredByThirdweb(){return jsxRuntimeExports.jsx(Link,{color:"secondaryText",hoverColor:"primaryText",target:"_blank",href:"https://thirdweb.com/connect?utm_source=cw_text",children:jsxRuntimeExports.jsxs(Container,{flex:"row",center:"both",style:{color:"currentColor",gap:4},children:[jsxRuntimeExports.jsx(Text,{size:"sm",weight:600,style:{color:"currentColor"},children:"Powered by"}),jsxRuntimeExports.jsx(ThirdwebTextIcon,{height:13})]})})}const WalletSelector=vn=>{const fn=reactExports.useContext(ModalConfigCtx),En=fn.modalSize==="compact",{termsOfServiceUrl:Cn,privacyPolicyUrl:_i}=fn,[An,ba]=reactExports.useState(!1),xa=useDisconnect(),$a=useConnectionStatus(),rs=useTWLocale().connectWallet,ts=vn.walletConfigs.find(o0=>o0.id===walletIds.localWallet),is=vn.walletConfigs.filter(o0=>o0.id!==walletIds.localWallet),cs=is.filter(o0=>o0.category==="socialLogin"),us=sortWalletConfigs(is.filter(o0=>o0.category!=="socialLogin")),ps=ts&&jsxRuntimeExports.jsx(Button,{fullWidth:!0,variant:En?"outline":"link",style:En?void 0:{textAlign:"left",justifyContent:"flex-start"},onClick:()=>{vn.selectWallet(ts)},"data-test":"continue-as-guest-button",children:rs.continueAsGuest}),bs=reactExports.useRef(!1);reactExports.useEffect(()=>{setTimeout(()=>{bs.current=!0},1e3)},[]);const e0=jsxRuntimeExports.jsxs(Container,{gap:"xxs",center:"y",flex:"row",children:[fn.titleIconUrl===void 0?jsxRuntimeExports.jsx(Link,{color:"primaryText",hoverColor:"accentText",target:"_blank",href:"https://thirdweb.com/connect?utm_source=cw",style:{display:"flex",alignItems:"center"},onClick:o0=>{bs.current||o0.preventDefault()},children:jsxRuntimeExports.jsx(TWIcon,{size:iconSize.md})}):fn.titleIconUrl===""?null:jsxRuntimeExports.jsx(Img,{src:fn.titleIconUrl,width:iconSize.md,height:iconSize.md}),jsxRuntimeExports.jsxs(ModalTitle,{children:[" ",vn.title," "]})]}),gs=async o0=>{$a!=="disconnected"&&await xa(),vn.selectWallet(o0)},Ds=jsxRuntimeExports.jsxs(Button,{fullWidth:!0,variant:"outline",style:{display:"flex",justifyContent:"center",gap:spacing.sm,padding:spacing.md},onClick:()=>{ba(!0)},children:[jsxRuntimeExports.jsx(Container,{flex:"row",gap:"xxs",children:us.slice(0,2).map(o0=>jsxRuntimeExports.jsx(Img,{width:iconSize.sm,height:iconSize.sm,src:o0.meta.iconURL},o0.id))}),rs.connectAWallet]}),i0=jsxRuntimeExports.jsxs(Container,{flex:"row",style:{justifyContent:"space-between"},children:[jsxRuntimeExports.jsx(Text,{color:"secondaryText",size:"sm",weight:500,children:rs.newToWallets}),jsxRuntimeExports.jsx(Link,{weight:500,size:"sm",target:"_blank",href:"https://blog.thirdweb.com/web3-wallet/",children:rs.getStarted})]}),n0=Cn||_i?jsxRuntimeExports.jsx(TOS,{termsOfServiceUrl:Cn,privacyPolicyUrl:_i}):void 0;let c0,d0;return En?cs.length===0?(c0=jsxRuntimeExports.jsx(WalletSelection,{walletConfigs:is,selectWallet:gs,selectUIProps:vn.selectUIProps}),d0=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Line,{}),jsxRuntimeExports.jsxs(Container,{flex:"column",p:"lg",gap:"lg",children:[i0,ps]}),!ps&&jsxRuntimeExports.jsx(Line,{}),n0&&jsxRuntimeExports.jsx(Container,{px:"md",style:{paddingBottom:spacing.md,paddingTop:ps?0:spacing.md},children:n0})]})):An?(c0=jsxRuntimeExports.jsx(WalletSelection,{walletConfigs:us,selectWallet:gs,selectUIProps:vn.selectUIProps}),d0=jsxRuntimeExports.jsx(ScreenBottomContainer,{children:i0})):(c0=jsxRuntimeExports.jsxs(Container,{px:"xs",children:[jsxRuntimeExports.jsx(WalletSelection,{walletConfigs:cs,selectWallet:gs,selectUIProps:vn.selectUIProps}),us.length>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TextDivider,{text:rs.or}),jsxRuntimeExports.jsx(Spacer,{y:"lg"})]})]}),us.length===0?d0=n0||ps?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Spacer,{y:"md"}),jsxRuntimeExports.jsx(Line,{}),ps&&jsxRuntimeExports.jsxs(Container,{p:"lg",children:[" ",ps]}),n0&&jsxRuntimeExports.jsxs(Container,{p:"md",children:[" ",n0," "]})]}):jsxRuntimeExports.jsx(Spacer,{y:"sm"}):us.length>1?d0=jsxRuntimeExports.jsxs(Container,{flex:"column",gap:"sm",children:[jsxRuntimeExports.jsxs(Container,{px:"lg",flex:"column",gap:"md",children:[Ds,ps]}),n0?jsxRuntimeExports.jsxs(Container,{p:"md",children:[" ",n0," "]}):jsxRuntimeExports.jsx(Spacer,{y:"md"})]}):d0=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Container,{px:"lg",children:jsxRuntimeExports.jsx(WalletSelection,{walletConfigs:us,selectWallet:gs,selectUIProps:vn.selectUIProps})}),ps&&jsxRuntimeExports.jsx(Container,{flex:"column",px:"lg",gap:"lg",children:ps}),n0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ps?jsxRuntimeExports.jsx(Spacer,{y:"md"}):jsxRuntimeExports.jsx(Line,{}),jsxRuntimeExports.jsxs(Container,{p:"md",children:[" ",n0," "]})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ps&&jsxRuntimeExports.jsx(Spacer,{y:"xl"})})]})):(c0=jsxRuntimeExports.jsx(WalletSelection,{walletConfigs:is,selectWallet:gs,selectUIProps:vn.selectUIProps}),ps&&(d0=jsxRuntimeExports.jsx(ScreenBottomContainer,{children:ps}))),jsxRuntimeExports.jsxs(Container,{scrollY:!0,flex:"column",animate:"fadein",fullHeight:!0,children:[!fn.isEmbed&&jsxRuntimeExports.jsx(Container,{p:"lg",style:{paddingBottom:spacing.md},children:An?jsxRuntimeExports.jsx(ModalHeader,{title:e0,onBack:()=>{ba(!1)}}):e0}),jsxRuntimeExports.jsxs(Container,{expand:!0,scrollY:!0,px:"md",style:fn.isEmbed?{paddingTop:spacing.lg}:{paddingTop:"2px"},children:[fn.isEmbed&&An&&jsxRuntimeExports.jsx(Container,{flex:"row",center:"y",style:{padding:spacing.sm,paddingTop:0},children:jsxRuntimeExports.jsxs(IconButton,{onClick:()=>{ba(!1)},style:{gap:spacing.xxs,transform:`translateX(-${spacing.xs})`,paddingBlock:spacing.xxs,paddingRight:spacing.xs},children:[jsxRuntimeExports.jsx(ChevronLeftIcon,{width:iconSize.sm,height:iconSize.sm}),rs.goBackButton]})}),c0]}),jsxRuntimeExports.jsxs("div",{children:[d0,En&&fn.showThirdwebBranding!==!1&&jsxRuntimeExports.jsx(Container,{py:"md",children:jsxRuntimeExports.jsx(PoweredByThirdweb,{})})]})]})},WalletSelection=vn=>{const fn=reactExports.useContext(ModalConfigCtx),En=reactExports.useContext(SetModalConfigCtx),Cn=sortWalletConfigs(vn.walletConfigs);return jsxRuntimeExports.jsx(WalletList,{children:Cn.map(_i=>jsxRuntimeExports.jsx("li",{"data-full-width":!!_i.selectUI,children:_i.selectUI?jsxRuntimeExports.jsx(_i.selectUI,{modalSize:fn.modalSize,theme:typeof fn.theme=="string"?fn.theme:fn.theme.type,supportedWallets:vn.walletConfigs,onSelect:An=>{vn.selectWallet(_i),En(ba=>({...ba,data:An}))},walletConfig:_i,connect:An=>vn.selectUIProps.connect(_i,An),connectionStatus:vn.selectUIProps.connectionStatus,createWalletInstance:()=>vn.selectUIProps.createWalletInstance(_i),setConnectedWallet:vn.selectUIProps.setConnectedWallet,setConnectionStatus:vn.selectUIProps.setConnectionStatus,connectedWallet:vn.selectUIProps.connectedWallet,connectedWalletAddress:vn.selectUIProps.connectedWalletAddress}):jsxRuntimeExports.jsx(WalletEntryButton,{walletConfig:_i,selectWallet:()=>{vn.selectWallet(_i)}})},_i.id))})};function WalletEntryButton(vn){const{walletConfig:fn,selectWallet:En}=vn,Cn=fn.recommended,_i=useTWLocale().connectWallet,{screen:An}=useScreenContext();return jsxRuntimeExports.jsxs(WalletButton,{type:"button",onClick:()=>{En()},"data-active":An===vn.walletConfig,children:[jsxRuntimeExports.jsx(Img,{src:fn.meta.iconURL,width:iconSize.xl,height:iconSize.xl,loading:"eager"}),jsxRuntimeExports.jsxs(Container,{flex:"column",gap:"xxs",expand:!0,children:[jsxRuntimeExports.jsx(Text,{color:"primaryText",weight:600,children:fn.meta.name}),Cn&&jsxRuntimeExports.jsx(Text,{size:"sm",children:_i.recommended}),!Cn&&fn.isInstalled&&fn.isInstalled()&&jsxRuntimeExports.jsx(Text,{size:"sm",children:_i.installed})]})]})}const WalletList=StyledUl({all:"unset",listStyleType:"none",display:"flex",flexDirection:"column",gap:"2px",boxSizing:"border-box",overflowY:"auto",flex:1,...noScrollBar,padding:"2px",margin:"-2px",marginBottom:0,paddingBottom:spacing.lg}),WalletButton=StyledButton(()=>{const vn=useCustomTheme();return{all:"unset",display:"flex",alignItems:"center",gap:spacing.sm,cursor:"pointer",boxSizing:"border-box",width:"100%",color:vn.colors.secondaryText,position:"relative",borderRadius:radius.md,padding:`${spacing.xs} ${spacing.xs}`,"&:hover":{backgroundColor:vn.colors.walletSelectorButtonHoverBg,transform:"scale(1.01)"},'&[data-active="true"]':{backgroundColor:vn.colors.walletSelectorButtonHoverBg},transition:"background-color 200ms ease, transform 200ms ease"}});function sortWalletConfigs(vn){return vn.sort((fn,En)=>{const Cn=fn.isInstalled?fn.isInstalled():!1,_i=En.isInstalled?En.isInstalled():!1;return Cn&&!_i?-1:!Cn&&_i?1:0}).sort((fn,En)=>fn.recommended&&!En.recommended?-1:!fn.recommended&&En.recommended?1:0).sort((fn,En)=>fn.selectUI&&!En.selectUI?-1:!fn.selectUI&&En.selectUI?1:0)}const safeChainIdToSlug={1:"eth",137:"matic",43114:"avax",56:"bnb",10:"oeth",8453:"base",11155111:"sep",100:"gno",1313161554:"aurora",42161:"arb1",42220:"celo",1101:"zkevm",324:"zksync"},safeChainSlug8dca7686_browser_esm=Object.freeze(Object.defineProperty({__proto__:null,B:ButtonLink,C:ConnectingScreen,E:ExtensionOrWCConnectionUI,G:GetStartedScreen,H:HeadlessConnectUI,P:PoweredByThirdweb,Q:QRCode,S:ScanScreen,T:TOS,W:WalletEntryButton,a:walletConnect,b:WalletLogoSpinner,c:coinbaseWallet,d:defaultWallets,e:WalletSelector,f:detectOS,g:WalletSelection,h:handelWCSessionRequest,i:isMobile,m:metamaskWallet,o:openWindow,p:phantomWallet,r:rainbowWallet,s:safeChainIdToSlug,t:trustWallet,w:wait,z:zerionWallet},Symbol.toStringTag,{value:"Module"}));var Bt=Object.defineProperty,At=Object.defineProperties,kt=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertySymbols,gt=Object.prototype.hasOwnProperty,Et=Object.prototype.propertyIsEnumerable,vt=(vn,fn,En)=>fn in vn?Bt(vn,fn,{enumerable:!0,configurable:!0,writable:!0,value:En}):vn[fn]=En,St=(vn,fn)=>{for(var En in fn||(fn={}))gt.call(fn,En)&&vt(vn,En,fn[En]);if(Y)for(var En of Y(fn))Et.call(fn,En)&&vt(vn,En,fn[En]);return vn},bt=(vn,fn)=>At(vn,kt(fn)),Pt=(vn,fn)=>{var En={};for(var Cn in vn)gt.call(vn,Cn)&&fn.indexOf(Cn)<0&&(En[Cn]=vn[Cn]);if(vn!=null&&Y)for(var Cn of Y(vn))fn.indexOf(Cn)<0&&Et.call(vn,Cn)&&(En[Cn]=vn[Cn]);return En};function ht(vn){let fn=setTimeout(vn,0),En=setTimeout(vn,10),Cn=setTimeout(vn,50);return[fn,En,Cn]}function _t(vn){let fn=reactExports.useRef();return reactExports.useEffect(()=>{fn.current=vn}),fn.current}var Ot=18,wt=40,Gt=`${wt}px`,xt=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Tt({containerRef:vn,inputRef:fn,pushPasswordManagerStrategy:En,isFocused:Cn}){let[_i,An]=reactExports.useState(!1),[ba,xa]=reactExports.useState(!1),[$a,rs]=reactExports.useState(!1),ts=reactExports.useMemo(()=>En==="none"?!1:(En==="increase-width"||En==="experimental-no-flickering")&&_i&&ba,[_i,ba,En]),is=reactExports.useCallback(()=>{let cs=vn.current,us=fn.current;if(!cs||!us||$a||En==="none")return;let ps=cs,bs=ps.getBoundingClientRect().left+ps.offsetWidth,e0=ps.getBoundingClientRect().top+ps.offsetHeight/2,gs=bs-Ot,Ds=e0;document.querySelectorAll(xt).length===0&&document.elementFromPoint(gs,Ds)===cs||(An(!0),rs(!0))},[vn,fn,$a,En]);return reactExports.useEffect(()=>{let cs=vn.current;if(!cs||En==="none")return;function us(){let bs=window.innerWidth-cs.getBoundingClientRect().right;xa(bs>=wt)}us();let ps=setInterval(us,1e3);return()=>{clearInterval(ps)}},[vn,En]),reactExports.useEffect(()=>{let cs=Cn||document.activeElement===fn.current;if(En==="none"||!cs)return;let us=setTimeout(is,0),ps=setTimeout(is,2e3),bs=setTimeout(is,5e3),e0=setTimeout(()=>{rs(!0)},6e3);return()=>{clearTimeout(us),clearTimeout(ps),clearTimeout(bs),clearTimeout(e0)}},[fn,Cn,En,is]),{hasPWMBadge:_i,willPushPWMBadge:ts,PWM_BADGE_SPACE_WIDTH:Gt}}var jt=reactExports.createContext({}),Lt=reactExports.forwardRef((vn,fn)=>{var En=vn,{value:Cn,onChange:_i,maxLength:An,textAlign:ba="left",pattern:xa,placeholder:$a,inputMode:rs="numeric",onComplete:ts,pushPasswordManagerStrategy:is="increase-width",pasteTransformer:cs,containerClassName:us,noScriptCSSFallback:ps=Nt,render:bs,children:e0}=En,gs=Pt(En,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),Ds,i0,n0,c0,d0;let[o0,g0]=reactExports.useState(typeof gs.defaultValue=="string"?gs.defaultValue:""),w0=Cn??o0,M0=_t(w0),ds=reactExports.useCallback(I0=>{_i==null||_i(I0),g0(I0)},[_i]),na=reactExports.useMemo(()=>xa?typeof xa=="string"?new RegExp(xa):xa:null,[xa]),_a=reactExports.useRef(null),es=reactExports.useRef(null),ns=reactExports.useRef({value:w0,onChange:ds,isIOS:typeof window<"u"&&((i0=(Ds=window==null?void 0:window.CSS)==null?void 0:Ds.supports)==null?void 0:i0.call(Ds,"-webkit-touch-callout","none"))}),os=reactExports.useRef({prev:[(n0=_a.current)==null?void 0:n0.selectionStart,(c0=_a.current)==null?void 0:c0.selectionEnd,(d0=_a.current)==null?void 0:d0.selectionDirection]});reactExports.useImperativeHandle(fn,()=>_a.current,[]),reactExports.useEffect(()=>{let I0=_a.current,C0=es.current;if(!I0||!C0)return;ns.current.value!==I0.value&&ns.current.onChange(I0.value),os.current.prev=[I0.selectionStart,I0.selectionEnd,I0.selectionDirection];function $0(){if(document.activeElement!==I0){r0(null),l0(null);return}let S0=I0.selectionStart,_o=I0.selectionEnd,O0=I0.selectionDirection,B0=I0.maxLength,To=I0.value,k0=os.current.prev,D0=-1,Eo=-1,N0;if(To.length!==0&&S0!==null&&_o!==null){let u0=S0===_o,v0=S0===To.length&&To.length<B0;if(u0&&!v0){let _0=S0;if(_0===0)D0=0,Eo=1,N0="forward";else if(_0===B0)D0=_0-1,Eo=_0,N0="backward";else if(B0>1&&To.length>1){let T0=0;if(k0[0]!==null&&k0[1]!==null){N0=_0<k0[1]?"backward":"forward";let j0=k0[0]===k0[1]&&k0[0]<B0;N0==="backward"&&!j0&&(T0=-1)}D0=T0+_0,Eo=T0+_0+1}}D0!==-1&&Eo!==-1&&D0!==Eo&&_a.current.setSelectionRange(D0,Eo,N0)}let F0=D0!==-1?D0:S0,Co=Eo!==-1?Eo:_o,x0=N0??O0;r0(F0),l0(Co),os.current.prev=[F0,Co,x0]}if(document.addEventListener("selectionchange",$0,{capture:!0}),$0(),document.activeElement===I0&&ga(!0),!document.getElementById("input-otp-style")){let S0=document.createElement("style");if(S0.id="input-otp-style",document.head.appendChild(S0),S0.sheet){let _o="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";$(S0.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),$(S0.sheet,`[data-input-otp]:autofill { ${_o} }`),$(S0.sheet,`[data-input-otp]:-webkit-autofill { ${_o} }`),$(S0.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),$(S0.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let vo=()=>{C0&&C0.style.setProperty("--root-height",`${I0.clientHeight}px`)};vo();let P0=new ResizeObserver(vo);return P0.observe(I0),()=>{document.removeEventListener("selectionchange",$0,{capture:!0}),P0.disconnect()}},[]);let[ls,hs]=reactExports.useState(!1),[ss,ga]=reactExports.useState(!1),[as,r0]=reactExports.useState(null),[a0,l0]=reactExports.useState(null);reactExports.useEffect(()=>{ht(()=>{var I0,C0,$0,vo;(I0=_a.current)==null||I0.dispatchEvent(new Event("input"));let P0=(C0=_a.current)==null?void 0:C0.selectionStart,S0=($0=_a.current)==null?void 0:$0.selectionEnd,_o=(vo=_a.current)==null?void 0:vo.selectionDirection;P0!==null&&S0!==null&&(r0(P0),l0(S0),os.current.prev=[P0,S0,_o])})},[w0,ss]),reactExports.useEffect(()=>{M0!==void 0&&w0!==M0&&M0.length<An&&w0.length===An&&(ts==null||ts(w0))},[An,ts,M0,w0]);let s0=Tt({containerRef:es,inputRef:_a,pushPasswordManagerStrategy:is,isFocused:ss}),b0=reactExports.useCallback(I0=>{let C0=I0.currentTarget.value.slice(0,An);if(C0.length>0&&na&&!na.test(C0)){I0.preventDefault();return}typeof M0=="string"&&C0.length<M0.length&&document.dispatchEvent(new Event("selectionchange")),ds(C0)},[An,ds,M0,na]),f0=reactExports.useCallback(()=>{var I0;if(_a.current){let C0=Math.min(_a.current.value.length,An-1),$0=_a.current.value.length;(I0=_a.current)==null||I0.setSelectionRange(C0,$0),r0(C0),l0($0)}ga(!0)},[An]),m0=reactExports.useCallback(I0=>{var C0,$0;let vo=_a.current;if(!cs&&(!ns.current.isIOS||!I0.clipboardData||!vo))return;let P0=I0.clipboardData.getData("text/plain"),S0=cs?cs(P0):P0;console.log({_content:P0,content:S0}),I0.preventDefault();let _o=(C0=_a.current)==null?void 0:C0.selectionStart,O0=($0=_a.current)==null?void 0:$0.selectionEnd,B0=(_o!==O0?w0.slice(0,_o)+S0+w0.slice(O0):w0.slice(0,_o)+S0+w0.slice(_o)).slice(0,An);if(B0.length>0&&na&&!na.test(B0))return;vo.value=B0,ds(B0);let To=Math.min(B0.length,An-1),k0=B0.length;vo.setSelectionRange(To,k0),r0(To),l0(k0)},[An,ds,na,w0]),y0=reactExports.useMemo(()=>({position:"relative",cursor:gs.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[gs.disabled]),t0=reactExports.useMemo(()=>({position:"absolute",inset:0,width:s0.willPushPWMBadge?`calc(100% + ${s0.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:s0.willPushPWMBadge?`inset(0 ${s0.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:ba,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[s0.PWM_BADGE_SPACE_WIDTH,s0.willPushPWMBadge,ba]),h0=reactExports.useMemo(()=>reactExports.createElement("input",bt(St({autoComplete:gs.autoComplete||"one-time-code"},gs),{"data-input-otp":!0,"data-input-otp-placeholder-shown":w0.length===0||void 0,"data-input-otp-mss":as,"data-input-otp-mse":a0,inputMode:rs,pattern:na==null?void 0:na.source,"aria-placeholder":$a,style:t0,maxLength:An,value:w0,ref:_a,onPaste:I0=>{var C0;m0(I0),(C0=gs.onPaste)==null||C0.call(gs,I0)},onChange:b0,onMouseOver:I0=>{var C0;hs(!0),(C0=gs.onMouseOver)==null||C0.call(gs,I0)},onMouseLeave:I0=>{var C0;hs(!1),(C0=gs.onMouseLeave)==null||C0.call(gs,I0)},onFocus:I0=>{var C0;f0(),(C0=gs.onFocus)==null||C0.call(gs,I0)},onBlur:I0=>{var C0;ga(!1),(C0=gs.onBlur)==null||C0.call(gs,I0)}})),[b0,f0,m0,rs,t0,An,a0,as,gs,na==null?void 0:na.source,w0]),p0=reactExports.useMemo(()=>({slots:Array.from({length:An}).map((I0,C0)=>{var $0;let vo=ss&&as!==null&&a0!==null&&(as===a0&&C0===as||C0>=as&&C0<a0),P0=w0[C0]!==void 0?w0[C0]:null,S0=w0[0]!==void 0?null:($0=$a==null?void 0:$a[C0])!=null?$0:null;return{char:P0,placeholderChar:S0,isActive:vo,hasFakeCaret:vo&&P0===null}}),isFocused:ss,isHovering:!gs.disabled&&ls}),[ss,ls,An,a0,as,gs.disabled,w0]),E0=reactExports.useMemo(()=>bs?bs(p0):reactExports.createElement(jt.Provider,{value:p0},e0),[e0,p0,bs]);return reactExports.createElement(reactExports.Fragment,null,ps!==null&&reactExports.createElement("noscript",null,reactExports.createElement("style",null,ps)),reactExports.createElement("div",{ref:es,"data-input-otp-container":!0,style:y0,className:us},E0,reactExports.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},h0)))});Lt.displayName="Input";function $(vn,fn){try{vn.insertRule(fn)}catch{console.error("input-otp could not insert CSS rule:",fn)}}var Nt=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;keyframes$1`
  0%, 100% {
    opacity: 0;
  },
  50% {
    opacity: 1;
  }
  `;var DIALOG_NAME="Dialog",[createDialogContext,createDialogScope]=createContextScope(DIALOG_NAME),[DialogProvider,useDialogContext]=createDialogContext(DIALOG_NAME),Dialog=vn=>{const{__scopeDialog:fn,children:En,open:Cn,defaultOpen:_i,onOpenChange:An,modal:ba=!0}=vn,xa=reactExports.useRef(null),$a=reactExports.useRef(null),[rs=!1,ts]=useControllableState({prop:Cn,defaultProp:_i,onChange:An});return jsxRuntimeExports.jsx(DialogProvider,{scope:fn,triggerRef:xa,contentRef:$a,contentId:useId(),titleId:useId(),descriptionId:useId(),open:rs,onOpenChange:ts,onOpenToggle:reactExports.useCallback(()=>ts(is=>!is),[ts]),modal:ba,children:En})};Dialog.displayName=DIALOG_NAME;var TRIGGER_NAME="DialogTrigger",DialogTrigger=reactExports.forwardRef((vn,fn)=>{const{__scopeDialog:En,...Cn}=vn,_i=useDialogContext(TRIGGER_NAME,En),An=useComposedRefs(fn,_i.triggerRef);return jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":_i.open,"aria-controls":_i.contentId,"data-state":getState(_i.open),...Cn,ref:An,onClick:composeEventHandlers(vn.onClick,_i.onOpenToggle)})});DialogTrigger.displayName=TRIGGER_NAME;var PORTAL_NAME="DialogPortal",[PortalProvider,usePortalContext]=createDialogContext(PORTAL_NAME,{forceMount:void 0}),DialogPortal=vn=>{const{__scopeDialog:fn,forceMount:En,children:Cn,container:_i}=vn,An=useDialogContext(PORTAL_NAME,fn);return jsxRuntimeExports.jsx(PortalProvider,{scope:fn,forceMount:En,children:reactExports.Children.map(Cn,ba=>jsxRuntimeExports.jsx(Presence,{present:En||An.open,children:jsxRuntimeExports.jsx(Portal$1,{asChild:!0,container:_i,children:ba})}))})};DialogPortal.displayName=PORTAL_NAME;var OVERLAY_NAME="DialogOverlay",DialogOverlay=reactExports.forwardRef((vn,fn)=>{const En=usePortalContext(OVERLAY_NAME,vn.__scopeDialog),{forceMount:Cn=En.forceMount,..._i}=vn,An=useDialogContext(OVERLAY_NAME,vn.__scopeDialog);return An.modal?jsxRuntimeExports.jsx(Presence,{present:Cn||An.open,children:jsxRuntimeExports.jsx(DialogOverlayImpl,{..._i,ref:fn})}):null});DialogOverlay.displayName=OVERLAY_NAME;var DialogOverlayImpl=reactExports.forwardRef((vn,fn)=>{const{__scopeDialog:En,...Cn}=vn,_i=useDialogContext(OVERLAY_NAME,En);return jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,shards:[_i.contentRef],children:jsxRuntimeExports.jsx(Primitive.div,{"data-state":getState(_i.open),...Cn,ref:fn,style:{pointerEvents:"auto",...Cn.style}})})}),CONTENT_NAME="DialogContent",DialogContent$1=reactExports.forwardRef((vn,fn)=>{const En=usePortalContext(CONTENT_NAME,vn.__scopeDialog),{forceMount:Cn=En.forceMount,..._i}=vn,An=useDialogContext(CONTENT_NAME,vn.__scopeDialog);return jsxRuntimeExports.jsx(Presence,{present:Cn||An.open,children:An.modal?jsxRuntimeExports.jsx(DialogContentModal,{..._i,ref:fn}):jsxRuntimeExports.jsx(DialogContentNonModal,{..._i,ref:fn})})});DialogContent$1.displayName=CONTENT_NAME;var DialogContentModal=reactExports.forwardRef((vn,fn)=>{const En=useDialogContext(CONTENT_NAME,vn.__scopeDialog),Cn=reactExports.useRef(null),_i=useComposedRefs(fn,En.contentRef,Cn);return reactExports.useEffect(()=>{const An=Cn.current;if(An)return hideOthers(An)},[]),jsxRuntimeExports.jsx(DialogContentImpl,{...vn,ref:_i,trapFocus:En.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(vn.onCloseAutoFocus,An=>{var ba;An.preventDefault(),(ba=En.triggerRef.current)==null||ba.focus()}),onPointerDownOutside:composeEventHandlers(vn.onPointerDownOutside,An=>{const ba=An.detail.originalEvent,xa=ba.button===0&&ba.ctrlKey===!0;(ba.button===2||xa)&&An.preventDefault()}),onFocusOutside:composeEventHandlers(vn.onFocusOutside,An=>An.preventDefault())})}),DialogContentNonModal=reactExports.forwardRef((vn,fn)=>{const En=useDialogContext(CONTENT_NAME,vn.__scopeDialog),Cn=reactExports.useRef(!1),_i=reactExports.useRef(!1);return jsxRuntimeExports.jsx(DialogContentImpl,{...vn,ref:fn,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:An=>{var ba,xa;(ba=vn.onCloseAutoFocus)==null||ba.call(vn,An),An.defaultPrevented||(Cn.current||(xa=En.triggerRef.current)==null||xa.focus(),An.preventDefault()),Cn.current=!1,_i.current=!1},onInteractOutside:An=>{var $a,rs;($a=vn.onInteractOutside)==null||$a.call(vn,An),An.defaultPrevented||(Cn.current=!0,An.detail.originalEvent.type==="pointerdown"&&(_i.current=!0));const ba=An.target;((rs=En.triggerRef.current)==null?void 0:rs.contains(ba))&&An.preventDefault(),An.detail.originalEvent.type==="focusin"&&_i.current&&An.preventDefault()}})}),DialogContentImpl=reactExports.forwardRef((vn,fn)=>{const{__scopeDialog:En,trapFocus:Cn,onOpenAutoFocus:_i,onCloseAutoFocus:An,...ba}=vn,xa=useDialogContext(CONTENT_NAME,En),$a=reactExports.useRef(null),rs=useComposedRefs(fn,$a);return useFocusGuards(),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:Cn,onMountAutoFocus:_i,onUnmountAutoFocus:An,children:jsxRuntimeExports.jsx(DismissableLayer,{role:"dialog",id:xa.contentId,"aria-describedby":xa.descriptionId,"aria-labelledby":xa.titleId,"data-state":getState(xa.open),...ba,ref:rs,onDismiss:()=>xa.onOpenChange(!1)})}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TitleWarning,{titleId:xa.titleId}),jsxRuntimeExports.jsx(DescriptionWarning,{contentRef:$a,descriptionId:xa.descriptionId})]})]})}),TITLE_NAME="DialogTitle",DialogTitle=reactExports.forwardRef((vn,fn)=>{const{__scopeDialog:En,...Cn}=vn,_i=useDialogContext(TITLE_NAME,En);return jsxRuntimeExports.jsx(Primitive.h2,{id:_i.titleId,...Cn,ref:fn})});DialogTitle.displayName=TITLE_NAME;var DESCRIPTION_NAME="DialogDescription",DialogDescription=reactExports.forwardRef((vn,fn)=>{const{__scopeDialog:En,...Cn}=vn,_i=useDialogContext(DESCRIPTION_NAME,En);return jsxRuntimeExports.jsx(Primitive.p,{id:_i.descriptionId,...Cn,ref:fn})});DialogDescription.displayName=DESCRIPTION_NAME;var CLOSE_NAME="DialogClose",DialogClose=reactExports.forwardRef((vn,fn)=>{const{__scopeDialog:En,...Cn}=vn,_i=useDialogContext(CLOSE_NAME,En);return jsxRuntimeExports.jsx(Primitive.button,{type:"button",...Cn,ref:fn,onClick:composeEventHandlers(vn.onClick,()=>_i.onOpenChange(!1))})});DialogClose.displayName=CLOSE_NAME;function getState(vn){return vn?"open":"closed"}var TITLE_WARNING_NAME="DialogTitleWarning",[WarningProvider,useWarningContext]=createContext2(TITLE_WARNING_NAME,{contentName:CONTENT_NAME,titleName:TITLE_NAME,docsSlug:"dialog"}),TitleWarning=({titleId:vn})=>{const fn=useWarningContext(TITLE_WARNING_NAME),En=`\`${fn.contentName}\` requires a \`${fn.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${fn.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${fn.docsSlug}`;return reactExports.useEffect(()=>{vn&&(document.getElementById(vn)||console.error(En))},[En,vn]),null},DESCRIPTION_WARNING_NAME="DialogDescriptionWarning",DescriptionWarning=({contentRef:vn,descriptionId:fn})=>{const Cn=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${useWarningContext(DESCRIPTION_WARNING_NAME).contentName}}.`;return reactExports.useEffect(()=>{var An;const _i=(An=vn.current)==null?void 0:An.getAttribute("aria-describedby");fn&&_i&&(document.getElementById(fn)||console.warn(Cn))},[Cn,vn,fn]),null},Root=Dialog,Trigger=DialogTrigger,Portal=DialogPortal,Overlay$1=DialogOverlay,Content=DialogContent$1,Close=DialogClose;spacing.md,fontSize.md,spacing.sm;keyframes$1`
from {
  transform: translateY(-3px);
}
to {
  transform: translateY(3px);
}
`;const overlayEnter=keyframes$1`
 from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`,Overlay=StyledDiv(()=>({backgroundColor:useCustomTheme().colors.modalOverlayBg,zIndex:9999,position:"fixed",inset:0,animation:`${overlayEnter} 400ms cubic-bezier(0.16, 1, 0.3, 1)`,backdropFilter:"blur(10px)"}));function DynamicHeight(vn){const{height:fn,elementRef:En}=useHeightObserver();return jsxRuntimeExports.jsx("div",{style:{height:fn?`${fn}px`:"auto",transition:"height 210ms cubic-bezier(0.175, 0.885, 0.32, 1.1)",overflow:"hidden",boxSizing:"border-box"},children:jsxRuntimeExports.jsx("div",{ref:En,style:{maxHeight:vn.maxHeight},children:vn.children})})}function useHeightObserver(){const vn=reactExports.useRef(null),[fn,En]=reactExports.useState();return reactExports.useEffect(()=>{const Cn=vn.current;if(!Cn)return;const _i=new ResizeObserver(()=>{En(Cn.scrollHeight)});return _i.observe(Cn),()=>{_i.disconnect()}},[vn]),{height:fn,elementRef:vn}}const Modal=vn=>{const[fn,En]=reactExports.useState(vn.open),Cn=reactExports.useRef(null),_i=reactExports.useRef(null);return reactExports.useEffect(()=>{var An;if(vn.open)En(vn.open);else if(Cn.current){const ba={duration:modalCloseFadeOutDuration,fill:"forwards",easing:"ease"};Cn.current.animate([{opacity:0}],{...ba}).onfinish=()=>{En(!1)},(An=_i.current)==null||An.animate([{opacity:0}],{...ba,duration:modalCloseFadeOutDuration+100})}else En(vn.open)},[vn.open]),jsxRuntimeExports.jsxs(Root,{open:fn,onOpenChange:vn.setOpen,children:[vn.trigger&&jsxRuntimeExports.jsx(Trigger,{asChild:!0,children:vn.trigger}),jsxRuntimeExports.jsxs(Portal,{children:[!vn.hide&&jsxRuntimeExports.jsx(Overlay$1,{asChild:!0,children:jsxRuntimeExports.jsx(Overlay,{ref:_i})}),jsxRuntimeExports.jsx(FocusScope,{trapped:!vn.hide,children:jsxRuntimeExports.jsx(Content,{asChild:!0,children:jsxRuntimeExports.jsxs(DialogContent,{ref:Cn,style:vn.hide?{width:0,height:0,overflow:"hidden",opacity:0}:{height:vn.size==="compact"?"auto":wideModalMaxHeight,maxWidth:vn.size==="compact"?modalMaxWidthCompact:modalMaxWidthWide},children:[vn.size==="compact"?jsxRuntimeExports.jsxs(DynamicHeight,{maxHeight:compactModalMaxHeight,children:[vn.children," "]}):vn.children,!vn.hideCloseIcon&&jsxRuntimeExports.jsx(CrossContainer,{children:jsxRuntimeExports.jsx(Close,{asChild:!0,children:jsxRuntimeExports.jsx(IconButton,{type:"button","aria-label":"Close",children:jsxRuntimeExports.jsx(Cross2Icon,{width:iconSize.md,height:iconSize.md,style:{color:"inherit"}})})})})]})})})]})]})},CrossContainer=StyledDiv({position:"absolute",top:spacing.lg,right:spacing.lg,transform:"translateX(15%)",[media.mobile]:{right:spacing.md}}),modalAnimationDesktop=keyframes$1`
  from {
    opacity: 0;
    transform: translate(-50%, -48%) scale(0.96);
  }
  to {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
`,modalAnimationMobile=keyframes$1`
  from {
    opacity: 0;
    transform: translate(0, 50%);
  }
  to {
    opacity: 1;
    transform: translate(0, 0);
  }
`,DialogContent=StyledDiv(()=>{const vn=useCustomTheme();return{zIndex:1e4,background:vn.colors.modalBg,"--bg":vn.colors.modalBg,color:vn.colors.primaryText,borderRadius:radius.xl,position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"calc(100vw - 40px)",boxSizing:"border-box",animation:`${modalAnimationDesktop} 300ms ease`,boxShadow:shadow.lg,lineHeight:"normal",border:`1px solid ${vn.colors.borderColor}`,outline:"none",overflow:"hidden",fontFamily:vn.fontFamily,[media.mobile]:{top:"auto",bottom:0,left:0,right:0,transform:"none",width:"100vw",animation:`${modalAnimationMobile} 0.35s cubic-bezier(0.15, 1.15, 0.6, 1)`,borderRadius:radius.xxl,borderBottomRightRadius:0,borderBottomLeftRadius:0,maxWidth:"none !important"},"& *::selection":{backgroundColor:vn.colors.selectedTextBg,color:vn.colors.selectedTextColor},"& *":{boxSizing:"border-box"},...noScrollBar}});spacing.xs;spacing.sm;keyframes$1`
  from {
    opacity: 0;
    transform: translateY(100px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`;keyframes$1`
0% {
  opacity: 1;
  transform: scale(0.5);
}
100% {
  opacity: 0;
  transform: scale(1.5);
}
`;const SignatureScreen=vn=>{let{onDone:fn,modalSize:En,termsOfServiceUrl:Cn,privacyPolicyUrl:_i}=vn;const An=useTWLocale().connectWallet.signatureScreen,ba=useWalletConfig(),xa=useWallet(),{auth:$a}=reactExports.useContext(ModalConfigCtx),[rs,ts]=reactExports.useState("idle"),{login:is}=useLogin(),cs=useDisconnect(),us=(xa==null?void 0:xa.walletId)===walletIds.safe,ps=useChainId(),bs=useAddress(),e0=ps&&ps in safeChainIdToSlug?safeChainIdToSlug[ps]:void 0,gs=reactExports.useCallback(async()=>{var i0;try{ts("signing"),await wait(1e3);const n0=await is();(i0=$a==null?void 0:$a.onLogin)==null||i0.call($a,n0),fn()}catch(n0){ts("failed"),console.error("failed to log in",n0)}},[$a,is,fn]);if(!ba||!xa)return jsxRuntimeExports.jsx(Container,{flex:"row",center:"both",style:{minHeight:"300px"},fullHeight:!0,children:jsxRuntimeExports.jsx(Spinner,{size:"xl",color:"accentText"})});if(ba!=null&&ba.isHeadless)return jsxRuntimeExports.jsx(HeadlessSignIn,{signIn:gs,status:rs});const Ds=()=>{gs()};return jsxRuntimeExports.jsxs(Container,{animate:"fadein",fullHeight:!0,flex:"column",children:[jsxRuntimeExports.jsx(Container,{p:"lg",style:{paddingBottom:0},children:jsxRuntimeExports.jsx(ModalHeader,{title:An.instructionScreen.title})}),jsxRuntimeExports.jsx(Container,{style:{paddingTop:0,paddingBottom:spacing.xl},flex:"column",px:En==="compact"?"lg":"xxl",center:"y",expand:!0,children:rs==="idle"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ba&&jsxRuntimeExports.jsx(Container,{flex:"row",center:"x",animate:"fadein",py:"3xl",children:jsxRuntimeExports.jsx(PulsatingContainer,{children:jsxRuntimeExports.jsx(Img,{src:ba.meta.iconURL,width:"80",height:"80"})})}),jsxRuntimeExports.jsx(Text,{center:!0,multiline:!0,balance:!0,children:An.instructionScreen.instruction}),jsxRuntimeExports.jsx(Spacer,{y:"lg"}),jsxRuntimeExports.jsx(Button,{fullWidth:!0,variant:"accent",onClick:gs,style:{alignItems:"center",padding:spacing.md},children:An.instructionScreen.signInButton}),jsxRuntimeExports.jsx(Spacer,{y:"sm"}),jsxRuntimeExports.jsx(Button,{fullWidth:!0,variant:"secondary",onClick:()=>{cs()},style:{alignItems:"center",padding:spacing.md},children:An.instructionScreen.disconnectWallet})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ba&&jsxRuntimeExports.jsx(Container,{py:"3xl",children:jsxRuntimeExports.jsx(WalletLogoSpinner,{error:rs==="failed",iconUrl:ba.meta.iconURL})}),jsxRuntimeExports.jsxs(Container,{flex:"column",gap:"md",animate:"fadein",children:[jsxRuntimeExports.jsx(Text,{size:"lg",center:!0,color:"primaryText",children:rs==="failed"?An.signingScreen.failedToSignIn:An.signingScreen.inProgress}),rs==="signing"&&jsxRuntimeExports.jsx(Text,{center:!0,multiline:!0,balance:!0,children:us?jsxRuntimeExports.jsx(SafeWalletInstruction,{}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:An.signingScreen.prompt})}),us&&rs==="signing"&&jsxRuntimeExports.jsxs(Container,{children:[jsxRuntimeExports.jsx(Spacer,{y:"sm"}),jsxRuntimeExports.jsxs(Button,{fullWidth:!0,variant:"accent",onClick:()=>{window.open(`https://app.safe.global/transactions/queue?safe=${e0}:${bs}`,"_blank")},style:{gap:spacing.xs,alignItems:"center"},children:[" ",An.signingScreen.approveTransactionInSafe,jsxRuntimeExports.jsx(ExternalLinkIcon,{width:iconSize.sm,height:iconSize.sm})]})]}),rs==="failed"&&jsxRuntimeExports.jsxs(Container,{children:[jsxRuntimeExports.jsx(Spacer,{y:"sm"}),jsxRuntimeExports.jsxs(Button,{fullWidth:!0,variant:"accent",onClick:Ds,style:{gap:spacing.xs,alignItems:"center",padding:spacing.md},children:[jsxRuntimeExports.jsx(ReloadIcon,{width:iconSize.sm,height:iconSize.sm}),An.signingScreen.tryAgain]}),jsxRuntimeExports.jsx(Spacer,{y:"sm"}),jsxRuntimeExports.jsx(Button,{fullWidth:!0,variant:"secondary",onClick:()=>{cs()},style:{alignItems:"center",padding:spacing.md},children:An.instructionScreen.disconnectWallet})]})]},rs)]})}),(Cn||_i)&&jsxRuntimeExports.jsx(Container,{p:"md",animate:"fadein",children:jsxRuntimeExports.jsx(TOS,{termsOfServiceUrl:Cn,privacyPolicyUrl:_i})})]})};function SafeWalletInstruction(){var An;const vn=useTWLocale().connectWallet.signatureScreen.signingScreen,{getWalletConfig:fn}=useWalletContext(),En=useWallet(),Cn=En==null?void 0:En.getPersonalWallet(),_i=Cn&&((An=fn(Cn))==null?void 0:An.isHeadless);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_i?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:vn.approveTransactionInSafe}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:vn.promptForSafe})})}function HeadlessSignIn(vn){let{signIn:fn,status:En}=vn;const Cn=useTWLocale().connectWallet.signatureScreen,_i=reactExports.useRef(!1),An=useDisconnect();return reactExports.useEffect(()=>{_i.current||(_i.current=!0,fn())},[fn]),jsxRuntimeExports.jsxs(Container,{p:"lg",fullHeight:!0,flex:"column",animate:"fadein",children:[jsxRuntimeExports.jsx(ModalHeader,{title:Cn.signingScreen.title}),jsxRuntimeExports.jsxs(Container,{expand:!0,flex:"row",center:"both",style:{minHeight:"250px"},children:[En==="signing"&&jsxRuntimeExports.jsx(Spinner,{size:"xl",color:"accentText"}),En==="failed"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Container,{children:[jsxRuntimeExports.jsx(Spacer,{y:"lg"}),jsxRuntimeExports.jsx(Text,{size:"lg",center:!0,color:"danger",children:Cn.signingScreen.failedToSignIn}),jsxRuntimeExports.jsx(Spacer,{y:"lg"}),jsxRuntimeExports.jsxs(Button,{fullWidth:!0,variant:"accent",onClick:()=>{fn()},style:{gap:spacing.xs,alignItems:"center",padding:spacing.md},children:[jsxRuntimeExports.jsx(ReloadIcon,{width:iconSize.sm,height:iconSize.sm}),Cn.signingScreen.tryAgain]}),jsxRuntimeExports.jsx(Spacer,{y:"sm"}),jsxRuntimeExports.jsx(Button,{fullWidth:!0,variant:"secondary",onClick:()=>{An()},style:{alignItems:"center",padding:spacing.md},children:Cn.instructionScreen.disconnectWallet})]})})]})]})}const plusAnimation=keyframes$1`
0% {
  transform: scale(0.9);
}
100% {
  opacity: 0;
  transform: scale(1.4);
}
`,PulsatingContainer=StyledDiv(()=>({position:"relative","&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,bottom:0,right:0,background:useCustomTheme().colors.accentText,animation:`${plusAnimation} 2s cubic-bezier(0.175, 0.885, 0.32, 1.1) infinite`,zIndex:-1,borderRadius:radius.xl}})),GlobeIcon=vn=>jsxRuntimeExports.jsx("svg",{width:vn.size,height:vn.size,viewBox:"0 0 129 131",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M59.7178 0C62.7511 0 65.788 0 68.8212 0C71.4429 0.423181 74.1011 0.679982 76.6755 1.29848C103.785 7.78725 120.277 24.7723 126.755 51.5485C127.428 54.3335 127.712 57.2089 128.175 60.0446V69.8103C127.803 72.1722 127.472 74.5449 127.057 76.8995C122.582 102.298 103.177 122.722 77.9136 128.56C74.8003 129.28 71.6104 129.67 68.457 130.213H59.3537C57.3838 129.913 55.4065 129.663 53.4475 129.305C27.0442 124.491 6.91125 104.974 1.44197 78.8526C0.841148 75.9808 0.473373 73.0656 0 70.1684C0 66.9132 0 63.6579 0 60.4027C0.371416 58.0408 0.706418 55.6718 1.11425 53.3135C5.52026 28.0493 24.9905 7.50151 50.0902 1.70719C53.2618 0.97657 56.5062 0.560624 59.7178 0ZM96.8813 10.3119C96.8959 10.2865 96.9104 10.2576 96.9286 10.2323C96.8886 10.2504 96.8522 10.2648 96.8121 10.2829C96.8085 10.2287 96.8048 10.178 96.8012 10.1238C96.8303 10.1853 96.8558 10.2504 96.8849 10.3119H96.8813ZM25.1762 115.709C25.2089 115.716 25.2454 115.72 25.2781 115.727C25.249 115.749 25.2235 115.771 25.1944 115.792C25.2053 115.767 25.2162 115.742 25.2271 115.716C25.1252 115.525 25.0196 115.333 24.9176 115.141C22.7328 113.087 21.127 110.421 18.3305 109.014C18.2977 109.032 18.2613 109.05 18.2285 109.065C18.2758 109.058 18.3232 109.054 18.3705 109.047C18.4397 109.365 18.3997 109.795 18.5926 109.984C20.3587 111.687 22.1502 113.362 23.9745 115.004C24.1675 115.177 24.5972 115.083 24.9176 115.116C25.0014 115.311 25.0851 115.51 25.1725 115.706L25.1762 115.709ZM27.594 12.4567L27.2262 12.9197C27.1898 13.1439 27.1571 13.3682 27.1206 13.5924C26.8038 13.5924 26.4871 13.596 26.1703 13.5996C26.0683 13.813 25.9663 14.0264 25.8607 14.2362L25.7661 14.2652L25.8243 14.1856C25.9336 13.9686 26.0428 13.7479 26.1557 13.5309C26.4688 13.5418 26.7856 13.5526 27.0988 13.5671C27.1243 13.332 27.1498 13.0969 27.1753 12.8618C27.2954 12.7352 27.412 12.6122 27.5321 12.4856C27.543 12.511 27.554 12.5399 27.5649 12.5652C27.5758 12.529 27.5831 12.4893 27.594 12.4531V12.4567ZM106.589 111.926C106.738 111.868 106.891 111.806 107.041 111.749C107.616 111.354 108.286 111.043 108.756 110.548C110.281 108.924 111.771 107.26 113.205 105.553C113.919 104.703 114.483 103.726 115.113 102.808C113.981 103.448 112.849 104.084 111.716 104.725C111.669 104.753 111.632 104.811 111.6 104.862C110.088 107.166 108.577 109.474 107.07 111.778L106.556 111.958L106.625 112.06L106.589 111.926ZM79.6906 2.95141C79.6906 2.92971 79.6906 2.90801 79.6906 2.88631C79.6724 2.89716 79.6505 2.91163 79.6323 2.92248C79.8253 2.9478 80.0146 2.97311 80.2076 2.99843C80.0328 2.98397 79.8617 2.96588 79.6869 2.95141H79.6906ZM95.1662 8.90488C95.1116 8.90488 95.0533 8.89764 94.9987 8.90849C94.9732 8.91211 94.955 8.94828 94.9368 8.96998C95.0242 8.93381 95.1116 8.89764 95.199 8.86147C95.301 9.07125 95.3956 9.28827 95.5194 9.49082C95.5376 9.51975 95.6796 9.47273 95.7634 9.45827C95.5668 9.2738 95.3665 9.08934 95.1699 8.90126L95.1662 8.90488ZM86.7729 124.603C85.8772 124.921 84.9778 125.229 84.0893 125.565C83.94 125.623 83.8417 125.811 83.7215 125.941C83.8562 125.988 84.031 126.111 84.1184 126.068C85.0069 125.605 85.8808 125.117 86.7584 124.636C86.8021 124.621 86.8494 124.592 86.8895 124.596C86.9259 124.6 86.9623 124.643 86.9951 124.665C86.9186 124.643 86.8458 124.621 86.7693 124.603H86.7729ZM82.2431 4.35478L82.2941 4.31138V4.32223C82.5672 4.5935 82.793 5.00583 83.1207 5.11072C85.8189 5.99325 88.5317 6.82153 91.2445 7.6498C91.4193 7.70406 91.6341 7.64257 91.8271 7.63172C91.6596 7.46896 91.514 7.25917 91.3173 7.14705C88.4844 5.599 85.4912 4.56456 82.2395 4.35116L82.2431 4.35478ZM29.9609 10.9991C30.2995 11.0135 30.6928 11.1438 30.9732 11.0208C33.8389 9.75847 36.6937 8.46361 39.5376 7.15428C39.9054 6.98429 40.2331 6.70217 40.5244 6.41643C40.7319 6.21388 40.8412 5.91729 40.9941 5.66049C40.6664 5.68943 40.2913 5.62432 40.0219 5.76177C36.6573 7.49066 33.3109 9.2521 29.9609 11.0027C29.9864 11.0461 30.0119 11.0895 30.041 11.1293C30.0701 11.1655 30.1102 11.1944 30.1466 11.2233L29.9609 10.9991ZM8.93219 95.5918C8.89213 95.628 8.84844 95.6677 8.80838 95.7039C8.85208 95.6641 8.89942 95.6243 8.94311 95.5845C8.99773 96.0801 8.91398 96.6443 9.12882 97.0566C11.7397 102.034 14.7984 106.641 19.9509 109.43C19.9436 109.437 19.9363 109.445 19.9327 109.455C19.7579 108.913 19.6413 108.345 19.401 107.828C18.4943 105.875 17.6204 103.903 16.5899 102.015C16.1347 101.18 15.4283 100.417 14.6746 99.82C12.8102 98.3479 10.8512 96.9915 8.93219 95.5918ZM23.0533 112.295C23.097 112.248 23.1407 112.201 23.1844 112.15C23.1443 112.19 23.1006 112.23 23.0606 112.269C23.279 112.472 23.5449 112.646 23.7087 112.888C27.1206 117.861 32.1275 120.35 37.7861 121.818C38.1648 121.916 38.5763 121.887 38.9732 121.919C38.813 121.608 38.6709 121.283 38.4925 120.983C37.7861 119.789 37.1525 118.541 36.3259 117.434C35.8344 116.776 35.1206 116.125 34.3669 115.843C31.1917 114.657 27.9691 113.597 24.7501 112.53C24.2149 112.353 23.6177 112.367 23.0496 112.291L23.0533 112.295ZM69.8298 86.3252C73.0378 86.3252 75.4666 86.2927 77.8917 86.3397C78.9514 86.3614 79.4029 86.025 79.4284 84.9074C79.5049 81.4134 79.6432 77.9195 79.818 74.4291C79.8763 73.25 79.4757 72.9353 78.2777 72.8919C71.4903 72.6605 64.7065 72.353 57.9227 71.9986C56.8048 71.9407 56.2804 72.1107 56.204 73.3477C55.9855 76.8344 55.7015 80.3211 55.341 83.797C55.2135 85.0267 55.665 85.3595 56.8048 85.4282C61.4074 85.7067 66.0028 86.0539 69.8262 86.3216L69.8298 86.3252ZM69.9245 72.2192C72.2076 72.2192 74.9969 72.1505 77.7789 72.2481C79.2937 72.3024 79.9527 71.9371 79.869 70.2697C79.7015 66.9638 79.6796 63.6507 79.7088 60.3412C79.7197 58.8836 79.2536 58.4315 77.7315 58.3881C71.6177 58.2217 65.5076 57.9251 59.4011 57.5779C58.1994 57.5092 57.828 57.8274 57.7224 58.9776C57.3838 62.6307 56.9832 66.2838 56.528 69.9261C56.3897 71.0401 56.8776 71.2571 57.8171 71.3222C61.6842 71.5862 65.5513 71.8937 69.9281 72.2228L69.9245 72.2192ZM55.3956 74.3749C55.4247 74.0892 55.432 73.5394 55.5412 73.0149C55.7415 72.0564 55.2936 71.7852 54.4088 71.6333C47.8471 70.5048 41.2927 69.3401 34.742 68.1429C33.9481 67.9982 33.4748 68.0019 33.3655 68.9459C32.9249 72.6496 32.4115 76.3461 32.0401 80.0571C32 80.473 32.6118 81.2905 33.0269 81.3664C39.7488 82.6396 46.4852 83.8151 53.2181 85.0267C54.2267 85.2076 54.6091 84.8531 54.671 83.8115C54.853 80.7479 55.1334 77.688 55.3956 74.3749ZM54.143 71.2065C55.4757 71.3511 55.7634 70.7073 55.8726 69.5788C56.2222 65.9294 56.6264 62.2835 57.0888 58.6449C57.2272 57.5489 56.7429 57.3645 55.8253 57.2089C49.8644 56.1926 43.9108 55.1437 37.9718 54.0297C37.0178 53.8488 36.6464 54.0731 36.4461 54.9484C35.6122 58.5798 34.7638 62.2075 33.9008 65.8317C33.6823 66.754 33.8753 67.2966 34.9131 67.4955C41.3255 68.7144 47.7342 69.9659 54.1466 71.2101L54.143 71.2065ZM68.519 99.3606C71.5449 99.3606 73.97 99.3172 76.3915 99.3787C77.564 99.4077 78.1612 99.0894 78.2595 97.8198C78.5035 94.702 78.8203 91.5879 79.1808 88.4809C79.3119 87.3524 78.9514 87.0558 77.8262 87.0161C70.8093 86.7629 63.7925 86.4554 56.7793 86.0901C55.6286 86.0286 55.1334 86.2565 55.0897 87.4646C54.9805 90.5896 54.813 93.7146 54.5981 96.836C54.518 97.9753 54.8676 98.4094 56.0656 98.4781C60.417 98.7277 64.7611 99.0857 68.5153 99.3606H68.519ZM80.5244 79.623H80.4261C80.3278 81.3664 80.2659 83.1134 80.1202 84.8531C80.0365 85.8442 80.3023 86.318 81.3947 86.2095C87.7816 85.5621 94.1721 84.9616 100.555 84.2636C101.007 84.2129 101.728 83.4968 101.739 83.0772C101.826 79.3482 101.779 75.6155 101.772 71.8864C101.772 71.1486 101.488 70.852 100.654 70.9388C94.3287 71.5935 88.0001 72.2083 81.6678 72.8015C80.8339 72.8811 80.4989 73.1849 80.5171 74.0277C80.5572 75.894 80.5281 77.7603 80.5281 79.6267L80.5244 79.623ZM80.3788 65.1156C80.437 65.1156 80.4953 65.1156 80.5536 65.1156C80.5536 66.9819 80.5936 68.8518 80.5353 70.7182C80.5062 71.6911 80.7393 72.2011 81.8389 72.089C88.0474 71.4633 94.2559 70.852 100.468 70.2624C101.418 70.172 101.699 69.7271 101.579 68.8374C101.058 65.0794 100.559 61.3178 100.057 57.5598C99.9473 56.7424 99.5795 56.5217 98.7056 56.6158C93.0433 57.2234 87.3738 57.7768 81.7006 58.2868C80.7138 58.3772 80.3096 58.6557 80.3533 59.6938C80.4297 61.4986 80.3751 63.3071 80.3751 65.1119L80.3788 65.1156ZM54.1393 91.8881C54.1393 91.8881 54.1466 91.8881 54.1503 91.8881C54.2413 90.2677 54.2959 88.6401 54.4416 87.0233C54.518 86.1805 54.2304 85.8767 53.3892 85.7357C46.6527 84.5819 39.9199 83.4027 33.198 82.173C32.1675 81.9849 31.7342 82.173 31.7379 83.2581C31.7451 86.5639 31.6687 89.8734 31.7379 93.1793C31.7488 93.6386 32.3496 94.4054 32.7829 94.485C39.3774 95.7365 45.99 96.8939 52.599 98.0802C53.5385 98.2502 53.9026 97.8777 53.9136 96.93C53.9391 95.2482 54.0592 93.5663 54.1393 91.8844V91.8881ZM70.1758 44.2893C66.5199 44.018 63.8508 43.8878 61.2035 43.5912C60.0929 43.4682 59.7106 43.7395 59.5831 44.8391C59.1717 48.3656 58.7019 51.8884 58.1594 55.3969C57.9773 56.5724 58.4033 56.8653 59.4702 56.9087C65.6423 57.1619 71.8144 57.4404 77.9864 57.7406C79.2063 57.8021 79.5631 57.3211 79.4612 56.1492C79.1516 52.6118 78.8822 49.0709 78.6819 45.5263C78.62 44.4412 78.1102 44.264 77.1817 44.2784C74.5162 44.3182 71.8508 44.2929 70.1758 44.2929V44.2893ZM82.6983 99.3715C87.9782 98.7168 93.2582 98.0513 98.5417 97.4147C99.4084 97.3098 100.006 97.0747 100.14 96.0728C100.585 92.7995 101.091 89.5334 101.579 86.2637C101.728 85.2655 101.458 84.9182 100.319 85.0412C94.0665 85.714 87.8107 86.3397 81.544 86.8678C80.2695 86.9763 79.9163 87.4428 79.8471 88.593C79.7088 90.8717 79.5085 93.1504 79.2427 95.4182C78.7912 99.2919 78.762 99.2883 82.6983 99.3715ZM58.9495 44.0035C58.9714 43.4682 58.9714 43.4755 57.6423 43.2368C52.6427 42.3398 47.6396 41.4681 42.6509 40.5168C41.6823 40.3324 41.2308 40.553 40.9213 41.4789C39.7633 44.9584 38.5617 48.4234 37.3309 51.8776C37.0105 52.7782 37.1999 53.2159 38.1539 53.3822C44.1694 54.4311 50.1776 55.5162 56.204 56.5109C56.5499 56.5688 57.3146 56.019 57.3692 55.6754C57.9372 51.9318 58.4033 48.1739 58.9532 44.0035H58.9495ZM83.798 57.7225C88.5499 57.1619 93.3019 56.6122 98.0538 56.0371C98.8767 55.9358 99.8308 55.9539 99.4484 54.5903C98.4289 50.9372 97.4603 47.2696 96.488 43.6057C96.2732 42.7919 95.8071 42.6472 95.0097 42.734C90.2541 43.2476 85.4948 43.7504 80.7283 44.1518C79.6177 44.2459 79.2572 44.5497 79.3738 45.6637C79.6651 48.4777 79.8981 51.2989 80.0693 54.1237C80.2841 57.6647 80.2477 57.6683 83.798 57.7189V57.7225ZM32.6154 68.0344C32.437 67.9259 31.9673 67.5244 31.4283 67.3255C26.538 65.546 21.6222 63.8279 16.7392 62.0231C15.8835 61.7084 15.421 61.571 15.2535 62.6669C14.711 66.2404 14.092 69.7995 13.5895 73.3766C13.5239 73.8396 13.8443 74.7004 14.1939 74.8306C19.5175 76.8344 24.8667 78.7622 30.2376 80.643C30.467 80.7226 31.188 80.2162 31.2244 79.9233C31.7124 76.1617 32.1202 72.3856 32.6154 68.0308V68.0344ZM32.6919 66.8951C32.8485 66.5189 33.0851 66.1174 33.1907 65.687C34.0574 62.0629 34.8439 58.417 35.7797 54.8073C36.0565 53.7403 35.6705 53.5052 34.7893 53.1978C30.2813 51.6389 25.777 50.0547 21.3164 48.3692C20.3223 47.993 19.9181 48.116 19.594 49.0781C18.4324 52.554 17.249 56.0262 16.0364 59.4876C15.6759 60.5148 16.0328 61.0465 17.005 61.3901C21.9026 63.1226 26.7893 64.8768 31.6832 66.6202C31.909 66.6998 32.1493 66.7468 32.6955 66.8915L32.6919 66.8951ZM67.1207 110.645C69.8116 110.645 72.2404 110.598 74.6619 110.667C75.7324 110.696 76.1767 110.298 76.3405 109.282C76.7738 106.605 77.2363 103.936 77.7679 101.278C77.9828 100.207 77.5203 100.098 76.6282 100.062C69.7242 99.7874 62.8239 99.4836 55.9236 99.1364C54.9259 99.0857 54.5035 99.2774 54.5071 100.359C54.5144 102.949 54.467 105.538 54.3287 108.124C54.2595 109.383 54.7292 109.817 55.9527 109.886C59.7652 110.099 63.574 110.396 67.1207 110.642V110.645ZM53.615 104.106C53.6769 104.106 53.7351 104.106 53.797 104.106C53.797 102.844 53.7351 101.578 53.8153 100.319C53.8772 99.3642 53.6113 98.9483 52.5918 98.7783C46.0264 97.6679 39.472 96.5141 32.9249 95.306C31.8871 95.1143 31.7706 95.4471 31.8835 96.2935C32.2658 99.093 32.6518 101.892 32.9759 104.699C33.0924 105.712 33.6059 106.15 34.5672 106.32C40.4698 107.358 46.3651 108.407 52.2604 109.488C53.3637 109.691 53.655 109.257 53.6223 108.258C53.5786 106.877 53.6113 105.491 53.6113 104.106H53.615ZM30.9586 87.8552C30.9805 87.8552 31.0059 87.8552 31.0278 87.8552C31.0278 86.2927 30.9513 84.7229 31.0533 83.164C31.1225 82.0717 30.7583 81.6304 29.6951 81.2688C24.6627 79.5543 19.6596 77.7495 14.6746 75.9085C13.7351 75.5612 13.3309 75.5793 13.3673 76.6716C13.4766 80.0354 13.5166 83.4027 13.7169 86.7629C13.7497 87.3199 14.3359 88.1337 14.8566 88.329C19.8307 90.2026 24.8448 91.964 29.8444 93.7761C30.7474 94.1052 31.0096 93.8267 30.9768 92.908C30.9186 91.2262 30.9622 89.5407 30.9622 87.8552H30.9586ZM40.6009 40.2564C40.1785 40.0719 39.7524 39.8622 39.3118 39.703C35.554 38.343 31.7706 37.0518 28.0492 35.5978C27.0587 35.2108 26.6436 35.417 26.2103 36.2308C24.477 39.4752 22.7547 42.7268 20.9595 45.935C20.3769 46.9803 20.701 47.4396 21.7023 47.7941C26.152 49.3674 30.6054 50.9372 35.0369 52.5684C36.0783 52.9518 36.3915 52.5467 36.6901 51.6497C37.848 48.1594 39.0715 44.6944 40.2695 41.2185C40.3496 40.9906 40.4261 40.7628 40.6045 40.26L40.6009 40.2564ZM117.997 64.3632C117.018 60.4172 116.082 56.5688 115.062 52.742C115.004 52.5214 114.236 52.2791 113.897 52.3767C109.786 53.5776 105.69 54.8218 101.611 56.1275C101.233 56.2505 100.734 56.9124 100.774 57.2704C101.225 61.1478 101.753 65.0179 102.332 68.8772C102.383 69.2063 103.039 69.7633 103.257 69.6982C107.882 68.331 112.488 66.9023 117.083 65.4302C117.422 65.3217 117.63 64.8045 117.994 64.3632H117.997ZM81.0087 110.443C81.016 110.501 81.0269 110.555 81.0342 110.613C85.666 110.034 90.3014 109.484 94.9222 108.848C95.4903 108.768 96.3205 108.367 96.4807 107.918C97.5513 104.978 98.4762 101.983 99.4339 99.0025C99.6523 98.3262 99.4776 98.0296 98.651 98.1164C92.3187 98.7602 85.9828 99.3425 79.6541 100.015C79.2463 100.059 78.6601 100.641 78.5654 101.061C78.1539 102.88 77.8808 104.732 77.5859 106.576C77.3783 107.86 77.2181 109.155 77.036 110.443H81.0051H81.0087ZM102.518 77.131C102.518 77.131 102.529 77.131 102.533 77.131C102.533 78.9973 102.54 80.86 102.529 82.7264C102.525 83.3485 102.423 84.0827 103.414 83.7789C108.148 82.3249 112.878 80.8528 117.582 79.3156C117.946 79.1962 118.354 78.5126 118.351 78.0967C118.311 74.4291 118.172 70.7652 118.081 67.0976C118.059 66.2259 117.852 66.0053 116.89 66.3164C112.524 67.7306 108.133 69.0797 103.72 70.3456C102.682 70.6422 102.402 71.022 102.485 72.0745C102.616 73.7492 102.522 75.4419 102.522 77.1237L102.518 77.131ZM70.8895 43.5767C73.1871 43.5767 75.1243 43.537 77.0579 43.5912C78.1102 43.6201 78.4634 43.2512 78.3105 42.2168C77.8226 38.9471 77.3565 35.6774 76.9414 32.3968C76.8285 31.4962 76.4607 31.2069 75.554 31.1815C71.4429 31.0658 67.3319 30.9103 63.2245 30.6933C62.2559 30.6426 61.7861 30.8849 61.6368 31.8651C61.1562 35.0119 60.661 38.1586 60.0893 41.2945C59.8671 42.5134 60.3187 42.8968 61.4657 42.9583C64.7283 43.1391 67.9837 43.3814 70.8858 43.5731L70.8895 43.5767ZM58.3596 42.857C58.7056 42.3723 59.2372 41.9491 59.3319 41.4428C59.9181 38.2454 60.3587 35.0191 60.9559 31.8217C61.1489 30.7873 60.9122 30.4871 59.8781 30.3207C56.051 29.7058 52.2349 29.0078 48.4297 28.2771C47.5048 28.0999 46.9659 28.2771 46.5617 29.1524C45.1489 32.216 43.696 35.2614 42.2212 38.2996C41.7879 39.1894 41.7916 39.6958 42.9532 39.9092C47.9563 40.8351 52.9486 41.8153 58.356 42.857H58.3596ZM101.029 55.8743C105.457 54.3841 109.691 52.9808 113.894 51.4906C114.156 51.3965 114.414 50.5466 114.276 50.2102C112.779 46.6041 111.224 43.0197 109.611 39.4643C109.484 39.1858 108.745 38.9362 108.395 39.0375C104.863 40.0647 101.342 41.1462 97.8426 42.2819C97.5295 42.3832 97.118 43.027 97.1872 43.3091C98.1375 47.096 99.1535 50.8649 100.191 54.6301C100.29 54.9918 100.628 55.2884 101.025 55.8671L101.029 55.8743ZM82.5089 43.5731C86.4816 43.0993 90.4507 42.6183 94.4234 42.1625C95.4648 42.0432 95.9746 41.7611 95.4502 40.5783C94.0374 37.3846 92.7484 34.1329 91.2918 30.9573C91.0843 30.5016 90.1922 30.0603 89.6532 30.1001C86.0301 30.3713 82.4179 30.8235 78.7948 31.1056C77.6951 31.1888 77.4985 31.5432 77.666 32.5451C78.0993 35.1602 78.4379 37.7897 78.8094 40.4119C79.1055 42.5098 80.3375 43.5635 82.5053 43.5731H82.5089ZM118.245 81.8981C117.735 81.3881 119.017 79.8762 117.357 80.3283C112.692 81.6015 108.082 83.0772 103.479 84.5529C103.006 84.7048 102.442 85.345 102.361 85.8297C101.812 89.1537 101.397 92.4993 100.89 95.8305C100.745 96.7818 101.04 97.0675 101.946 96.7854C106.276 95.4399 110.624 94.1486 114.91 92.6838C115.583 92.4523 116.268 91.4866 116.446 90.7451C117.153 87.8226 117.662 84.8531 118.245 81.8981ZM32.1857 105.224C31.7925 101.784 31.4866 98.7313 31.0533 95.6967C30.9914 95.2699 30.3906 94.749 29.9281 94.579C24.9868 92.7778 20.0128 91.0706 15.0751 89.2622C14.0519 88.886 13.8844 89.1247 14.1102 90.0507C14.8494 93.0853 15.574 96.1271 16.3569 99.1545C16.4661 99.5704 16.8157 100.106 17.1834 100.243C21.9317 102.034 26.7019 103.77 31.4793 105.48C31.716 105.564 32.0911 105.26 32.1821 105.224H32.1857ZM65.8244 119.662C67.8854 119.662 69.9464 119.626 72.0037 119.681C72.9832 119.706 73.6023 119.449 73.8717 118.433C74.3815 116.516 74.9313 114.606 75.5358 112.714C75.8599 111.691 75.6341 111.376 74.5126 111.34C68.2786 111.134 62.0447 110.902 55.8143 110.551C54.4743 110.475 54.2704 110.924 54.3432 112.038C54.4634 113.839 54.5435 115.644 54.5472 117.449C54.5472 118.512 54.955 118.928 56.0292 118.99C59.2955 119.171 62.5544 119.435 65.8244 119.666V119.662ZM40.7174 39.2871C40.914 39.023 41.2672 38.6794 41.4639 38.2671C42.9495 35.171 44.3769 32.0496 45.8881 28.968C46.3068 28.1144 46.2558 27.778 45.2727 27.4525C42.3451 26.4831 39.4757 25.351 36.5481 24.3817C36.0783 24.2262 35.1971 24.3926 34.9131 24.7362C32.579 27.5755 30.3505 30.5052 28.0601 33.3842C27.361 34.2632 27.5977 34.737 28.5772 35.0842C32.3387 36.4116 36.0965 37.7571 39.858 39.0954C40.0292 39.1569 40.2112 39.1749 40.7137 39.2871H40.7174ZM53.757 114.577C53.6732 113.26 54.0774 111.492 53.3783 110.75C52.6209 109.947 50.833 110.103 49.493 109.839C49.3146 109.803 49.1361 109.781 48.9577 109.745C44.3259 108.877 39.6796 108.067 35.066 107.112C33.5658 106.801 33.391 107.199 33.828 108.468C34.4943 110.399 35.1243 112.342 35.7215 114.291C36.0201 115.271 36.6282 115.738 37.6368 115.923C41.6787 116.657 45.6987 117.532 49.7552 118.194C53.8881 118.867 53.9026 118.784 53.757 114.573V114.577ZM10.4215 40.8894C10.163 41.3017 9.90442 41.6128 9.75513 41.9672C8.40055 45.1863 7.09696 48.4234 5.71325 51.6316C5.2508 52.7023 5.49113 53.5305 6.34684 54.1816C8.84116 56.0732 11.3755 57.9215 13.888 59.7878C14.8603 60.5076 15.1297 60.0446 15.4392 59.0825C16.5644 55.5886 17.7369 52.1018 19.026 48.6658C19.4047 47.6566 19.0587 47.3709 18.3123 46.8537C15.8908 45.1682 13.5494 43.3634 11.1825 41.5983C10.9458 41.4211 10.7492 41.1968 10.4215 40.8894ZM97.2272 41.9564C100.996 40.6977 104.605 39.5041 108.188 38.2454C108.37 38.1803 108.534 37.3882 108.373 37.1458C106.229 33.8725 104.047 30.6245 101.804 27.4199C101.604 27.1306 100.861 26.9859 100.468 27.1016C97.8572 27.8503 95.2755 28.7112 92.6719 29.4816C91.9618 29.6914 91.6487 29.8433 92.0128 30.6824C93.4803 34.0425 94.8603 37.4424 96.3023 40.817C96.4589 41.1823 96.8157 41.4645 97.2272 41.96V41.9564ZM14.5872 61.3503C14.4961 61.2635 14.1102 60.8331 13.655 60.4931C11.0879 58.5942 8.4661 56.7604 5.94265 54.8001C5.22531 54.2394 4.90852 53.9718 4.71917 55.0677C4.11106 58.5653 3.46655 62.0592 2.93491 65.5677C2.85116 66.1247 3.10242 66.9927 3.51753 67.3255C6.24124 69.5065 9.04507 71.5899 11.8416 73.6804C12.4752 74.1543 12.7519 73.883 12.8575 73.1343C13.3855 69.3763 13.9536 65.6255 14.5872 61.3431V61.3503ZM26.1703 34.8817C25.868 34.661 25.584 34.4621 25.3073 34.2523C23.2353 32.7006 21.1197 31.2069 19.1206 29.5684C18.4288 29.0005 18.1411 29.1488 17.7369 29.7348C15.5885 32.8598 13.4511 35.9957 11.2808 39.1026C10.7346 39.8839 10.9641 40.477 11.6013 40.9653C13.8953 42.7195 16.2185 44.434 18.5198 46.1773C19.4447 46.8754 19.878 46.5933 20.3842 45.595C22.0446 42.3217 23.8289 39.1135 25.5694 35.8799C25.7406 35.5616 25.9372 35.2614 26.1666 34.878L26.1703 34.8817ZM77.6332 119.492C79.7488 119.308 81.8644 119.156 83.9764 118.935C91.5431 118.147 91.7106 118.02 95.0643 111.21C95.1189 111.101 95.1844 110.996 95.2208 110.884C95.3483 110.494 95.4648 110.099 95.585 109.709C95.1699 109.705 94.7511 109.662 94.3396 109.705C89.6387 110.182 84.9414 110.732 80.2331 111.137C76.6865 111.445 76.6828 111.362 75.7106 114.859C75.5649 115.38 75.4193 115.904 75.2627 116.422C74.6194 118.541 75.4096 119.565 77.6332 119.492ZM97.7625 108.812C102.398 107.17 106.669 105.665 110.926 104.131C111.17 104.045 111.396 103.733 111.509 103.477C112.834 100.446 114.141 97.4039 115.427 94.3584C115.529 94.1161 115.448 93.8014 115.452 93.5193C115.172 93.5772 114.884 93.6169 114.611 93.6965C110.267 94.995 105.919 96.279 101.59 97.6281C101.102 97.78 100.493 98.2177 100.341 98.6626C99.3246 101.621 98.4143 104.616 97.4967 107.607C97.4275 107.828 97.5986 108.121 97.7625 108.819V108.812ZM70.5399 30.5052C72.3205 30.5052 73.8353 30.4726 75.3501 30.516C76.3587 30.545 76.6173 30.1326 76.4061 29.2067C75.7834 26.447 75.2445 23.6692 74.5454 20.9312C74.4361 20.4971 73.6933 19.9618 73.2053 19.9257C70.5508 19.7195 67.8817 19.6869 65.2235 19.5206C64.3788 19.4663 64.0219 19.7448 63.869 20.5405C63.3592 23.199 62.8348 25.8574 62.2668 28.505C62.0228 29.6335 62.4379 30.0024 63.5485 30.0494C65.9664 30.1543 68.3842 30.3605 70.5363 30.5052H70.5399ZM60.4862 29.9011C60.8103 29.525 61.371 29.1633 61.4766 28.7003C62.1029 25.937 62.5981 23.1483 63.1917 20.3814C63.3665 19.5712 63.0897 19.3252 62.3287 19.2023C59.8162 18.7936 57.3219 18.28 54.8057 17.911C54.3323 17.8423 53.564 18.0846 53.32 18.4463C51.5176 21.0867 49.828 23.7994 48.0729 26.4723C47.534 27.2933 47.9636 27.4923 48.681 27.6297C52.4898 28.3567 56.295 29.0946 60.4862 29.9011ZM80.2841 30.3677C80.2877 30.4075 80.295 30.4473 80.2987 30.4835C83.2955 30.1182 86.2923 29.7348 89.2928 29.3984C90.2286 29.2935 90.4361 28.9607 89.93 28.1469C88.2186 25.3908 86.5727 22.5913 84.7848 19.8859C84.4898 19.4374 83.5904 19.148 82.9932 19.1806C80.7648 19.3035 78.5472 19.6508 76.3187 19.7846C75.2736 19.8461 75.1498 20.215 75.3647 21.112C75.9109 23.3871 76.366 25.6838 76.8831 27.9661C77.5167 30.762 76.7993 30.4509 79.9236 30.3822C80.0438 30.3822 80.1639 30.3713 80.2841 30.3677ZM12.5553 81.0915C12.5954 81.0915 12.6318 81.0915 12.6718 81.0915C12.6718 79.4639 12.6136 77.8363 12.6937 76.2123C12.741 75.2972 12.3805 74.8668 11.6377 74.364C8.98681 72.5809 6.42331 70.6712 3.8234 68.8084C3.53938 68.6059 3.25171 68.4033 2.96404 68.2008C2.86209 68.5914 2.65453 68.9857 2.67638 69.3691C2.85845 72.6749 3.05508 75.9772 3.31361 79.2794C3.35367 79.775 3.6122 80.4007 3.98362 80.7009C6.61266 82.8023 9.29268 84.8495 11.9763 86.8822C12.6172 87.3669 12.9413 87.1571 12.8794 86.3216C12.7447 84.5782 12.6573 82.8349 12.5517 81.0915H12.5553ZM28.7774 19.0395C28.457 19.2529 28.1293 19.4121 27.878 19.6508C25.1216 22.2622 22.3796 24.8953 19.6231 27.5031C18.9859 28.1035 19.0332 28.6642 19.6814 29.1488C21.6987 30.6679 23.716 32.1907 25.8025 33.6157C26.0829 33.8074 26.9604 33.6049 27.208 33.3011C29.5931 30.3496 31.8835 27.3259 34.2504 24.3564C34.7711 23.7053 34.6728 23.4594 34.0064 23C32.4188 21.9113 30.9222 20.6961 29.3892 19.5278C29.2035 19.3867 29.0287 19.2348 28.7811 19.0359L28.7774 19.0395ZM126.128 57.5272C125.076 53.9971 123.962 50.25 122.808 46.5173C122.786 46.4414 122.159 46.4016 121.977 46.5426C120.098 48.0364 118.223 49.5411 116.421 51.1217C116.071 51.4291 115.783 52.1308 115.874 52.5648C116.65 56.2758 117.502 59.9687 118.402 63.6543C118.471 63.9328 119.203 64.3488 119.381 64.2547C121.799 62.9454 123.995 61.354 125.499 58.9921C125.717 58.6485 125.83 58.2362 126.132 57.5309L126.128 57.5272ZM122.083 44.745C122.028 44.5388 122.017 44.4086 121.963 44.3074C120.091 40.8062 118.223 37.305 116.311 33.8255C116.253 33.7206 115.634 33.7604 115.43 33.9232C113.835 35.1963 112.259 36.4912 110.737 37.8475C110.449 38.1043 110.194 38.759 110.321 39.0664C111.825 42.6761 113.391 46.2605 115.001 49.8232C115.139 50.127 115.929 50.4959 116.057 50.3947C117.965 48.8575 119.822 47.2552 121.661 45.6312C121.905 45.4178 121.966 45.0018 122.087 44.745H122.083ZM17.4238 101.245C17.4529 101.668 17.3874 101.994 17.5075 102.225C18.8038 104.735 20.1002 107.246 21.4657 109.72C21.706 110.157 22.1939 110.573 22.6637 110.75C26.4434 112.193 30.2449 113.586 34.0465 114.964C34.3487 115.073 34.731 114.968 35.077 114.964C34.9932 114.624 34.924 114.277 34.8221 113.94C34.203 111.929 33.4966 109.944 32.9795 107.907C32.721 106.895 32.2404 106.475 31.2499 106.146C27.0041 104.743 22.8057 103.213 18.589 101.722C18.305 101.621 18.0282 101.491 17.4238 101.241V101.245ZM45.7096 14.9271C45.6878 14.9379 45.4402 14.9922 45.2763 15.1405C42.4288 17.6542 39.5849 20.1716 36.7593 22.7035C36.0492 23.34 36.6464 23.6294 37.1707 23.8175C40.0692 24.8628 42.9641 25.9081 45.8881 26.8738C46.2522 26.9931 46.9987 26.7653 47.2026 26.4578C49.0051 23.756 50.7383 21.0035 52.4534 18.2402C52.5918 18.0159 52.5153 17.3613 52.3842 17.3142C50.2395 16.504 48.0692 15.7553 45.7133 14.9271H45.7096ZM119.254 73.0873C119.214 73.0873 119.177 73.0909 119.137 73.0945C119.137 74.5376 119.174 75.9844 119.123 77.4276C119.093 78.3354 119.447 78.5995 120.135 78.0352C122.079 76.4402 124.024 74.8306 125.848 73.1017C126.354 72.6243 126.671 71.6984 126.664 70.9822C126.635 67.557 126.467 64.1317 126.329 60.7065C126.318 60.4461 126.132 60.1893 126.03 59.9325C125.808 60.1025 125.579 60.2689 125.36 60.4461C123.481 61.9435 121.653 63.5133 119.698 64.9058C118.951 65.4375 118.653 65.8896 118.747 66.7902C118.973 68.8844 119.09 70.9858 119.254 73.0873ZM91.0807 29.3948C94.5945 28.241 97.2891 27.3765 99.9582 26.4289C100.118 26.371 100.235 25.474 100.049 25.2787C97.4603 22.5949 94.8312 19.9474 92.1548 17.3504C91.8599 17.0647 91.1608 16.9706 90.7311 17.0828C89.158 17.4915 87.6287 18.0666 86.0592 18.5006C85.229 18.7285 85.1489 19.0106 85.5932 19.7231C87.3446 22.5262 89.0561 25.3547 90.742 28.194C90.9823 28.6027 91.0115 29.1344 91.0843 29.3948H91.0807ZM115.401 32.5053C115.139 32.093 114.931 31.6626 114.629 31.3081C112.452 28.7401 110.216 26.2191 108.086 23.6113C107.103 22.4105 106.487 22.4503 105.548 23.6836C104.914 24.5155 103.942 25.1376 103.024 25.6983C102.219 26.1902 102.092 26.5121 102.667 27.3367C104.801 30.3894 106.869 33.4891 108.898 36.6142C109.378 37.3556 109.775 37.7282 110.554 37.0844C111.938 35.9378 113.333 34.8021 114.684 33.6193C114.986 33.3553 115.139 32.9249 115.401 32.5089V32.5053ZM63.7197 125.876C64.5317 125.876 65.5003 125.869 66.4689 125.876C70.8021 125.916 70.762 125.902 72.5317 121.858C73.0633 120.639 72.8558 120.364 71.5267 120.339C67.2845 120.266 63.046 120.093 58.8075 119.905C54.0155 119.691 54.5472 118.44 55.1807 123.967C55.29 124.932 55.7306 125.316 56.6628 125.374C58.9605 125.515 61.2581 125.695 63.716 125.873L63.7197 125.876ZM110.263 105.679C109.87 105.679 109.575 105.614 109.32 105.69C105.438 106.819 101.56 107.944 97.6969 109.134C97.1981 109.289 96.6665 109.723 96.397 110.172C95.1444 112.291 93.9719 114.458 92.7848 116.617C92.6501 116.863 92.5882 117.149 92.4935 117.416C92.7848 117.416 93.0943 117.492 93.3601 117.409C96.6373 116.375 99.9145 115.337 103.174 114.248C103.661 114.085 104.157 113.723 104.477 113.322C106.269 111.061 108.006 108.757 109.761 106.464C109.906 106.276 110.023 106.063 110.267 105.679H110.263ZM37.3018 116.834C37.2909 116.935 37.1307 117.301 37.2508 117.492C38.2085 119.019 39.1807 120.541 40.2331 122.003C40.5207 122.4 41.0742 122.748 41.5622 122.842C45.5385 123.609 49.5258 124.328 53.5203 124.99C53.8007 125.037 54.4671 124.498 54.4561 124.256C54.3979 122.939 54.2486 121.616 53.9755 120.324C53.8954 119.945 53.3528 119.449 52.9559 119.384C47.8908 118.519 42.8111 117.72 37.3018 116.834ZM3.87074 82.8421C4.34411 84.5348 4.95221 86.3108 5.32363 88.1337C6.3869 93.3601 10.0319 96.3622 14.3905 98.7855C14.6746 98.9411 15.0278 98.97 15.3519 99.0568C15.3227 98.7711 15.3191 98.4781 15.2572 98.1996C14.5981 95.2626 13.9536 92.3257 13.2399 89.4032C13.1124 88.8824 12.7847 88.2892 12.3623 87.9818C9.78062 86.0974 7.14794 84.2817 4.52982 82.4515C4.36232 82.3321 4.14384 82.2851 3.9472 82.2055C3.929 82.3755 3.90715 82.5455 3.87074 82.8493V82.8421ZM44.7301 14.5147C44.6209 14.3267 44.5881 14.2001 44.508 14.135C43.361 13.256 42.2285 12.3554 41.0342 11.5416C40.8412 11.4078 40.3278 11.585 40.0474 11.755C36.752 13.7696 33.4748 15.8168 30.1903 17.8495C29.4839 18.2872 29.4729 18.7646 30.1138 19.2384C31.6104 20.3488 33.0888 21.4954 34.6582 22.4973C34.975 22.6998 35.8052 22.5045 36.1475 22.2043C38.8348 19.8714 41.4602 17.4698 44.1038 15.0862C44.3187 14.8945 44.5262 14.6956 44.7228 14.5111L44.7301 14.5147ZM75.1935 125.71C77.6551 125.406 80.2477 125.164 82.8075 124.733C83.7689 124.571 84.7848 124.129 85.5495 123.533C86.8239 122.538 87.9382 121.33 89.0816 120.176C89.3911 119.861 89.5622 119.413 89.7989 119.022C89.3255 119.033 88.8522 119.011 88.3824 119.055C84.4134 119.431 80.448 119.966 76.468 120.147C74.5563 120.234 73.442 120.755 72.9286 122.614C72.6337 123.681 72.0802 124.679 71.6396 125.71H75.1899H75.1935ZM126.474 75.4925C126.314 74.9464 126.223 74.6389 126.132 74.3315C125.903 74.5051 125.677 74.6823 125.448 74.8559C123.678 76.1978 121.897 77.5252 120.149 78.8924C119.712 79.236 119.133 79.6701 119.046 80.1439C118.394 83.6198 117.848 87.1173 117.273 90.6077C117.182 91.1538 117.164 91.6783 117.954 91.1972C120.557 89.6166 123.201 87.9384 124.177 84.9218C125.189 81.7968 125.753 78.5271 126.474 75.4961V75.4925ZM95.4248 13.7552C94.6783 14.4207 94.0338 15.1513 93.2436 15.6577C92.3442 16.2328 92.4716 16.58 93.1598 17.2347C95.3009 19.2746 97.4311 21.329 99.4594 23.4775C101.844 26.0057 102.026 26.06 104.619 23.633C104.881 23.3871 105.111 23.1013 105.369 22.8481C106.09 22.1464 106.036 21.5424 105.216 20.9348C102.212 18.7031 99.2263 16.4498 96.2295 14.2109C95.9928 14.0337 95.7124 13.9179 95.4248 13.7552ZM69.9099 19.1625C70.9696 19.1625 71.9382 19.1299 72.9068 19.1733C73.8426 19.2131 74.0865 18.8514 73.7989 17.9906C73.2126 16.2219 72.6992 14.4279 72.0693 12.6773C71.8653 12.1095 71.4393 11.245 71.0242 11.1872C69.4876 10.981 67.9108 11.0352 66.3487 11.0606C66.2176 11.0606 66.0501 11.5561 65.9773 11.8382C65.4821 13.7588 65.0196 15.6866 64.5135 17.6072C64.2841 18.4789 64.5972 18.8044 65.4712 18.8478C66.9823 18.9201 68.4898 19.0612 69.9099 19.1661V19.1625ZM62.7584 18.6633C63.0497 18.327 63.6032 17.9436 63.7816 17.4336C64.1967 16.2472 64.4261 14.9958 64.7392 13.7733C65.4639 10.9593 65.4712 10.9267 62.5508 10.3625C61.7898 10.2142 60.65 10.0406 60.2349 10.4421C58.3778 12.2397 56.7138 14.2398 54.9878 16.1677C54.467 16.75 54.6309 17.1298 55.3701 17.2708C57.686 17.7157 60.0055 18.1461 62.762 18.6633H62.7584ZM76.4134 19.1444C78.3906 18.9238 80.3678 18.6706 82.3487 18.4934C83.5431 18.3885 83.503 17.9544 82.8403 17.1949C81.6569 15.8349 80.3715 14.54 79.3483 13.0716C77.8444 10.9123 75.9254 10.3914 73.453 10.9267C72.5535 11.1221 72.3678 11.3137 72.681 12.1782C73.351 14.0373 73.9955 15.9145 74.4762 17.8315C74.7638 18.9853 75.3574 19.2891 76.4134 19.1408V19.1444ZM17.1725 23.7741C17.4311 24.8266 17.584 25.5861 17.8061 26.3276C18.1375 27.4308 18.5307 27.6297 19.4629 26.6604C21.5931 24.4432 23.7633 22.2441 26.1084 20.262C27.5467 19.0431 28.7192 18.034 27.4556 16.0772C27.3646 15.9362 27.35 15.7264 27.361 15.5492C27.4338 14.3447 27.0223 14.1567 26.1011 14.9271C23.5521 17.0538 20.9413 19.1082 18.4798 21.329C17.7952 21.9475 17.5476 23.0398 17.1725 23.7741ZM8.80838 35.2072C9.11425 36.2597 9.35458 37.2435 9.69323 38.1948C10.0027 39.0628 10.3414 39.193 10.9386 38.2779C12.6718 35.6087 14.3942 32.9177 16.3387 30.4039C17.4165 29.0114 18.2103 27.8684 17.005 26.1938C16.7174 25.7923 16.7647 25.1557 16.6482 24.6313C16.5863 24.3528 16.5025 24.0779 16.4261 23.7994C16.153 23.9766 15.7997 24.096 15.6177 24.3419C13.6441 26.9895 11.6377 29.619 9.77698 32.3426C9.23078 33.1419 9.12154 34.2306 8.80474 35.2072H8.80838ZM56.2877 8.43468C56.102 8.50701 55.8617 8.56488 55.6578 8.68786C52.8467 10.3553 50.0428 12.0263 47.239 13.7045C46.427 14.1928 46.802 14.5256 47.4284 14.7498C49.1361 15.3683 50.8403 16.0121 52.5772 16.5294C52.985 16.6523 53.7024 16.4751 53.9864 16.1677C55.7597 14.2688 57.4602 12.3048 59.1498 10.3336C59.2991 10.1563 59.3027 9.56316 59.219 9.52699C58.2759 9.12913 57.3 8.79999 56.2841 8.43829L56.2877 8.43468ZM84.8394 18.1714C86.5727 17.6434 88.1312 17.1659 89.6897 16.6885C90.5927 16.4136 90.7784 16.0447 89.8972 15.4479C87.4502 13.7877 84.9814 12.1565 82.5927 10.4168C81.3801 9.53422 80.2841 9.51975 78.9259 10.0623C77.9791 10.4421 77.9391 10.6048 78.5945 11.321C80.3824 13.2777 82.0902 15.3068 83.8453 17.2925C84.1366 17.6217 84.508 17.8857 84.8358 18.1714H84.8394ZM27.838 14.7064C28.1584 15.7662 28.3041 16.4787 28.6063 17.1153C28.701 17.3179 29.3273 17.5132 29.5166 17.3974C32.9723 15.3068 36.4133 13.1909 39.818 11.028C41.016 10.2648 39.5995 9.30997 39.8726 8.44914C39.4356 8.40212 38.9113 8.17787 38.5763 8.34064C35.4702 9.81272 32.3678 11.292 29.3382 12.9088C28.6609 13.2705 28.2713 14.1639 27.8343 14.71L27.838 14.7064ZM3.23714 47.9894C3.53573 48.9913 3.81976 50.0293 4.16568 51.0493C4.24579 51.2844 4.5371 51.4508 4.73009 51.6461C4.88303 51.411 5.07602 51.1904 5.17797 50.9336C6.20483 48.4234 7.09332 45.8518 8.26947 43.4176C9.22714 41.4355 10.3013 39.6054 8.65181 37.5003C8.44789 37.2399 8.47338 36.8095 8.3605 36.4659C8.28039 36.2163 8.1493 35.9848 8.04006 35.7425C7.858 35.9631 7.61038 36.1548 7.50843 36.4044C6.32135 39.3015 5.13064 42.1951 3.99818 45.1139C3.65226 46.0037 3.49932 46.9658 3.2335 47.9894H3.23714ZM122.837 89.1862C122.775 88.9837 122.727 88.8426 122.684 88.6979C122.534 88.7847 122.378 88.8607 122.24 88.9583C120.608 90.0941 118.977 91.2298 117.36 92.3836C117.076 92.5861 116.741 92.8248 116.617 93.125C115.368 96.185 114.159 99.263 112.947 102.337C112.885 102.493 112.892 102.674 112.87 102.844C113.074 102.818 113.307 102.844 113.478 102.753C113.854 102.558 114.192 102.305 114.549 102.081C117.404 100.283 118.82 97.3894 120.291 94.5573C121.205 92.7959 121.992 90.973 122.837 89.1826V89.1862ZM53.5421 6.52494C52.8102 6.72749 52.3915 6.81068 51.9946 6.95535C49.1034 8.01873 46.2012 9.05317 43.3391 10.1853C41.5476 10.8942 41.5585 11.1221 43.077 12.3012C45.3564 14.0698 45.3273 14.0301 47.7197 12.4893C49.7479 11.1835 51.8526 9.99719 53.9136 8.73488C54.3432 8.47084 54.7147 8.11277 55.1152 7.79448C54.5362 7.3279 53.9573 6.8577 53.5385 6.5177L53.5421 6.52494ZM102.107 115.854C101.364 115.951 101.098 115.959 100.85 116.027C98.0538 116.787 95.2536 117.532 92.4753 118.349C91.8781 118.527 91.27 118.888 90.8258 119.326C89.5804 120.549 88.4152 121.847 87.2281 123.127C87.0315 123.341 86.8749 123.59 86.7001 123.826C86.9769 123.811 87.2645 123.833 87.534 123.782C92.8576 122.744 97.3219 120.096 101.265 116.49C101.397 116.367 101.553 116.273 102.11 115.861L102.107 115.854ZM83.0806 7.8415C82.7238 8.14532 82.3305 8.47808 81.9336 8.81445C82.1885 9.09657 82.3997 9.43657 82.7056 9.64635C85.1344 11.3174 87.6141 12.9233 90.0174 14.6305C91.7907 15.8928 92.184 15.8964 93.7716 14.352C94.5108 13.6358 94.6273 13.1186 93.564 12.6303C90.3924 11.1618 87.239 9.66443 84.0747 8.18511C83.8053 8.05851 83.5103 7.98618 83.0806 7.83788V7.8415ZM95.5449 12.0118C95.8144 12.4856 95.971 13.1041 96.3715 13.408C99.4302 15.7481 102.536 18.0304 105.639 20.3163C105.85 20.4718 106.152 20.5007 106.411 20.5912C106.48 20.3091 106.691 19.9618 106.596 19.7557C106.039 18.544 105.704 16.9996 104.75 16.2472C102.351 14.3556 99.6596 12.8256 97.0816 11.1618C96.204 10.594 95.443 10.301 95.5486 12.0154L95.5449 12.0118ZM116.148 30.0639C115.947 29.2899 115.966 28.4363 115.554 27.9263C113.063 24.8411 110.482 21.8318 107.911 18.8116C107.82 18.7068 107.463 18.667 107.368 18.7502C107.103 18.9889 107.452 21.9584 107.732 22.2767C110.125 24.9966 112.51 27.7201 114.906 30.4401C115.135 30.7005 115.416 30.9211 115.674 31.1598C115.834 30.7909 115.995 30.4256 116.151 30.0639H116.148ZM62.4525 126.603C62.4525 126.567 62.4525 126.531 62.4525 126.495C60.7593 126.383 59.0661 126.238 57.3728 126.173C56.8376 126.151 56.2914 126.336 55.7524 126.426C56.0583 127.124 56.3023 127.858 56.7028 128.499C56.8339 128.708 57.3728 128.712 57.7297 128.73C60.3915 128.86 63.0606 129.117 65.7151 129.012C66.793 128.969 67.8562 128.162 68.8831 127.623C69.1161 127.5 69.1708 127.052 69.3055 126.752C69.0215 126.701 68.7374 126.611 68.4498 126.611C66.4507 126.6 64.4516 126.603 62.4525 126.603ZM0.666364 60.938C0.972236 62.1678 1.20892 63.2167 1.51115 64.2439C1.58034 64.4754 1.88257 64.6417 2.07556 64.837C2.14474 64.6092 2.23214 64.3849 2.27583 64.1535C2.77834 61.3756 3.0041 58.5147 3.85253 55.8454C4.51889 53.7584 4.02731 52.138 3.1097 50.4272C3.00774 50.2355 2.82567 50.0872 2.68002 49.9208C2.59627 50.1415 2.47246 50.3549 2.43241 50.5864C1.82795 54.0731 1.23805 57.5634 0.662723 60.938H0.666364ZM40.5826 8.26468C40.7793 9.6572 40.8812 10.4529 42.3159 9.8706C45.5676 8.55404 48.8849 7.40385 52.1584 6.14154C52.5044 6.00772 52.7301 5.57369 53.0105 5.2771C52.6355 5.09263 52.2131 4.68754 51.8963 4.75988C48.4734 5.5339 45.0578 6.34409 41.6678 7.24471C41.1762 7.37492 40.823 8.02596 40.5826 8.26468ZM54.2522 128.354C55.0752 128.484 55.5485 128.408 55.2281 127.352C54.9441 126.415 54.6236 125.858 53.4693 125.703C50.1776 125.261 46.9113 124.618 43.6341 124.071C43.2044 123.999 42.7602 124.032 42.3196 124.014C42.6473 124.346 42.9495 124.715 43.31 125.008C46.4925 127.627 50.5162 127.536 54.2522 128.35V128.354ZM122.928 41.8804C122.666 40.9906 122.516 40.0213 122.108 39.1713C120.885 36.6214 119.589 34.104 118.252 31.6083C117.928 31.0043 117.338 30.5413 116.872 30.0097C116.778 30.9428 116.661 31.8724 116.61 32.8055C116.599 33.0008 116.861 33.2034 116.978 33.4132C118.591 36.3067 120.197 39.2039 121.813 42.0938C122.006 42.4374 122.265 42.7412 122.491 43.0668C122.622 42.7051 122.753 42.347 122.924 41.8768L122.928 41.8804ZM95.0934 11.8961C95.1553 11.6899 95.2172 11.4837 95.2828 11.2776C94.7074 10.6555 94.2486 9.75124 93.5349 9.4655C90.5709 8.28276 87.534 7.27364 84.508 6.24643C84.1803 6.13431 83.7543 6.32239 83.3719 6.36941C83.6086 6.71302 83.7689 7.21215 84.0966 7.3713C87.4102 8.96998 90.742 10.5216 94.092 12.0444C94.3506 12.1601 94.7584 11.9539 95.0934 11.8961ZM71.0096 128.915C75.463 128.549 78.6091 127.808 81.1835 126.401C81.4348 126.263 81.6496 126.064 81.879 125.894C81.5695 125.855 81.2527 125.757 80.9468 125.779C77.8699 126.021 74.7893 126.26 71.716 126.56C71.2281 126.607 70.6892 126.857 70.3214 127.178C69.8444 127.594 69.5167 128.177 69.1234 128.687L71.006 128.915H71.0096ZM69.3565 10.3733C71.1698 10.4059 71.2281 10.3155 70.4452 8.62999C70.2449 8.19596 70.0483 7.75831 69.808 7.3496C69.3637 6.59366 68.8904 5.85581 68.4279 5.11072C68.0456 5.93176 67.5941 6.7311 67.2955 7.5847C66.3342 10.3155 66.356 10.3227 69.3565 10.3733ZM52.6318 2.81759C50.4725 3.17566 48.4188 3.39268 46.4343 3.88458C45.0615 4.22457 43.7761 4.92264 42.4689 5.50496C42.2613 5.599 42.1557 5.92453 42.0064 6.14154C42.2358 6.13431 42.4725 6.15963 42.6946 6.11261C45.9937 5.38199 49.2927 4.6586 52.5845 3.8882C52.9377 3.80501 53.229 3.4614 53.5494 3.24077C53.2254 3.09247 52.9049 2.94418 52.6318 2.81759ZM64.9286 10.1274C65.2782 9.80187 65.8025 9.52699 65.9846 9.10381C66.4361 8.0549 66.7383 6.9445 67.077 5.85219C67.1425 5.64602 67.0952 5.40731 67.0988 5.17944C66.8804 5.23731 66.6255 5.23731 66.4507 5.35667C65.5585 5.97878 64.6555 6.59366 63.8144 7.28088C63.0861 7.87767 62.4306 8.5685 61.7461 9.21593C62.711 9.49082 63.676 9.7657 64.925 10.1202L64.9286 10.1274ZM73.0815 10.5867C73.1799 10.4819 73.2818 10.377 73.3801 10.2721C73.6787 10.2504 73.9882 10.2612 74.2795 10.1997C74.7274 10.1057 75.1644 9.96464 75.605 9.84166C75.3246 9.4872 75.0988 9.06764 74.7529 8.79637C73.4784 7.7981 72.1712 6.83961 70.8567 5.88836C70.5799 5.68943 70.2377 5.5773 69.9281 5.42539C70.0228 5.79794 70.0702 6.18856 70.2231 6.53579C70.6091 7.41109 70.955 8.32255 71.4866 9.10742C71.8835 9.69337 72.5426 10.1021 73.0852 10.5904L73.0815 10.5867ZM126.824 54.6662C125.972 51.4074 125.072 47.9351 124.144 44.4665C124.042 44.0867 123.78 43.7467 123.59 43.3887C123.416 43.8263 123.201 44.2567 123.081 44.7088C123.026 44.915 123.139 45.1718 123.204 45.3961C124.162 48.6079 125.12 51.8197 126.092 55.0279C126.154 55.2305 126.358 55.3933 126.493 55.5705C126.565 55.3679 126.638 55.1654 126.82 54.6662H126.824ZM64.6446 5.11072C62.4889 5.92091 60.2386 6.75642 58.0028 7.6281C57.8972 7.66789 57.8863 8.23574 57.9008 8.23936C58.8621 8.43829 60.0565 9.04594 60.752 8.68786C62.2704 7.91022 63.5412 6.64791 64.9031 5.57007C65.0087 5.48688 65.0342 5.30603 65.0961 5.17221C64.9832 5.15774 64.8703 5.13965 64.6482 5.11072H64.6446ZM1.90442 71.749C1.94447 71.749 1.98088 71.749 2.02094 71.749C2.02094 70.4252 2.08648 69.0978 1.99545 67.7776C1.94811 67.094 1.65316 66.4177 1.42012 65.7558C1.35093 65.5604 1.11789 65.423 0.961312 65.2602C0.881203 65.4555 0.717342 65.6545 0.735549 65.8389C1.0305 69.3148 1.33637 72.7907 1.67137 76.2593C1.69322 76.5016 1.94811 76.7223 2.09012 76.9538C2.12654 76.7223 2.19936 76.4836 2.18844 76.2557C2.10469 74.7547 1.99909 73.25 1.90078 71.749H1.90442ZM77.3674 9.71869C77.7352 9.63911 77.9828 9.61741 78.2049 9.53061C78.6382 9.36061 79.0606 9.15806 79.4866 8.96636C79.1225 8.70233 78.7912 8.36957 78.387 8.18872C76.5736 7.38215 74.7384 6.61536 72.9068 5.84496C72.6992 5.75815 72.4625 5.73645 72.2404 5.68581C72.3424 5.85942 72.4006 6.08729 72.5463 6.20303C73.8644 7.25194 75.1899 8.29 76.5299 9.30636C76.7993 9.5089 77.1453 9.61379 77.3674 9.71869ZM42.6218 125.355C42.163 125.005 41.9372 124.889 41.7843 124.712C39.7379 122.31 36.5116 122.578 33.9663 121.312C33.879 121.268 33.7479 121.323 33.635 121.33C33.7151 121.456 33.7661 121.652 33.8826 121.706C36.4971 122.932 39.1152 124.144 41.737 125.345C41.8826 125.413 42.0902 125.352 42.6218 125.352V125.355ZM62.0046 4.78881C59.9108 5.19391 57.726 5.60624 55.5485 6.05112C55.3082 6.09814 55.1079 6.32962 54.8894 6.4743C55.046 6.6443 55.1662 6.89025 55.3628 6.96982C55.7852 7.14705 56.3132 7.45087 56.6737 7.33151C58.549 6.69855 60.3879 5.94985 62.2304 5.23008C62.3833 5.16859 62.4925 4.99859 62.62 4.88285C62.4489 4.85753 62.2777 4.83222 62.0046 4.79243V4.78881ZM75.3319 5.50135C75.026 5.55198 74.9131 5.57007 74.7966 5.59177C74.8986 5.7039 74.9787 5.86304 75.1061 5.92091C76.8503 6.72749 78.5872 7.55215 80.3606 8.29C80.6701 8.42021 81.1653 8.23936 81.5185 8.0766C81.635 8.02235 81.6314 7.35321 81.5695 7.33513C79.443 6.68047 77.3055 6.0692 75.3319 5.50135ZM54.4743 5.47603C56.5936 5.06732 58.4871 4.70562 60.3842 4.3367C60.4971 4.315 60.5991 4.25351 60.7083 4.2101C60.5881 4.15223 60.4643 4.03649 60.3478 4.04011C58.4179 4.145 56.488 4.23904 54.5654 4.40542C54.3178 4.42712 54.0993 4.81775 53.8699 5.03838C54.1211 5.21923 54.3687 5.40007 54.478 5.47603H54.4743ZM77.0287 4.76711C76.854 4.80328 76.5918 4.85392 76.3333 4.90817C76.5991 5.03838 76.854 5.21561 77.138 5.29518C78.5363 5.69666 79.9345 6.09452 81.3474 6.44175C81.686 6.52494 82.0756 6.40196 82.4434 6.37664C82.1667 6.10176 81.9263 5.65326 81.6023 5.58454C80.1239 5.26263 78.62 5.042 77.0324 4.77073L77.0287 4.76711ZM69.4293 1.27316C68.4789 1.19359 67.8271 1.10316 67.1717 1.09955C66.9459 1.09955 66.7201 1.30933 66.4907 1.42507C67.0697 1.89889 67.6487 2.3727 68.224 2.85014C68.5408 2.43781 68.854 2.02548 69.4256 1.27316H69.4293ZM77.2581 3.55544C77.2545 3.58799 77.2509 3.62055 77.2472 3.6531C76.8867 3.6531 76.5226 3.64225 76.1621 3.65671C75.9254 3.66756 75.6887 3.72182 75.452 3.75437C75.6705 3.82309 75.8817 3.92075 76.1038 3.9533C77.3565 4.13777 78.6091 4.31499 79.8653 4.47052C80.0583 4.49584 80.2659 4.39818 80.4662 4.3584C80.2914 4.21372 80.1312 3.98224 79.9345 3.94607C79.0497 3.78331 78.1539 3.67842 77.2618 3.55182L77.2581 3.55544ZM72.7575 1.71804C72.0073 1.59145 71.4794 1.38167 71.006 1.46124C70.5362 1.54081 70.1066 1.89889 69.6878 2.17739C69.5859 2.24611 69.6041 2.48845 69.564 2.64759C70.0192 2.59695 70.4743 2.57525 70.9222 2.48845C71.3337 2.40887 71.7379 2.27866 72.1384 2.14122C72.2768 2.0942 72.3897 1.97123 72.7575 1.71081V1.71804ZM55.5631 3.55906C57.067 3.45778 58.3269 3.37821 59.5904 3.28055C59.7579 3.26609 59.9181 3.16843 60.082 3.10694C59.9327 3.04907 59.7798 2.94418 59.6305 2.94056C58.3669 2.89716 57.1034 2.84291 55.8398 2.86822C55.5376 2.87546 55.239 3.17205 54.9368 3.33481C55.2172 3.43608 55.4975 3.53736 55.5667 3.56267L55.5631 3.55906ZM63.5267 1.05976C63.29 1.12486 63.0169 1.20082 62.7474 1.27678C62.9841 1.43592 63.2026 1.63485 63.4575 1.74698C63.7889 1.89165 64.1421 2.00739 64.4953 2.06165C64.965 2.13399 65.4457 2.13399 65.919 2.16654C65.4966 1.84825 65.1034 1.46847 64.6373 1.22614C64.3351 1.07061 63.9309 1.1104 63.5267 1.05614V1.05976ZM59.9036 1.57336C59.889 1.61677 59.8781 1.65655 59.8635 1.69996C59.7433 1.69272 59.6195 1.65655 59.5067 1.68187C59.1644 1.75421 58.8294 1.85187 58.4871 1.93867C58.793 2.0291 59.0952 2.13399 59.4047 2.20633C59.5758 2.24611 59.7615 2.23164 59.94 2.2425C60.7629 2.2859 61.5859 2.3293 62.4052 2.3727C61.5713 2.10867 60.7338 1.84102 59.8999 1.57698L59.9036 1.57336ZM54.3214 2.25696C54.7183 2.10867 55.2354 1.91335 55.7561 1.72166C55.5594 1.66017 55.3519 1.51911 55.1698 1.54805C54.4161 1.65655 53.6696 1.8157 52.9195 1.95676C53.3237 2.04356 53.7279 2.13037 54.3214 2.26058V2.25696ZM75.2008 2.97311C75.452 2.92248 75.9946 2.81397 76.5372 2.70546C75.9291 2.60419 75.3246 2.48121 74.7165 2.40887C74.4871 2.37994 74.2395 2.43419 74.0137 2.4993C73.8062 2.55717 73.6168 2.67291 73.4165 2.76333C73.6095 2.83205 73.7989 2.94056 73.9992 2.96588C74.2905 3.00205 74.5927 2.97311 75.2008 2.97311ZM127.064 58.5436C127.017 58.4496 126.966 58.3555 126.919 58.2579C126.875 58.3447 126.78 58.4459 126.795 58.5219C126.82 58.6413 126.919 58.7425 126.984 58.851C127.01 58.7498 127.035 58.6485 127.064 58.5436Z",fill:"currentColor"})});function StartScreen(){const{termsOfServiceUrl:vn,privacyPolicyUrl:fn,welcomeScreen:En,showThirdwebBranding:Cn}=reactExports.useContext(ModalConfigCtx),_i=useTWLocale().connectWallet;if(En&&typeof En=="function")return jsxRuntimeExports.jsx(En,{});const An=(typeof En=="object"?En==null?void 0:En.title:void 0)||_i.welcomeScreen.defaultTitle,ba=(typeof En=="object"?En==null?void 0:En.subtitle:void 0)||_i.welcomeScreen.defaultSubtitle,xa=typeof En=="object"?En==null?void 0:En.img:void 0,$a=vn||fn;return jsxRuntimeExports.jsxs(Container,{fullHeight:!0,animate:"fadein",flex:"column",children:[jsxRuntimeExports.jsxs(Container,{expand:!0,flex:"column",center:"both",style:{minHeight:"300px"},p:"lg",children:[jsxRuntimeExports.jsx(Container,{flex:"row",center:"x",children:xa?jsxRuntimeExports.jsx(Img,{src:xa.src,width:xa.width?String(xa.width):void 0,height:xa.height?String(xa.height):void 0}):jsxRuntimeExports.jsx(GlobalContainer,{children:jsxRuntimeExports.jsx(GlobeIcon,{size:"150"})})}),jsxRuntimeExports.jsx(Spacer,{y:"xxl"}),jsxRuntimeExports.jsx(Text,{center:!0,color:"primaryText",weight:600,multiline:!0,children:An}),jsxRuntimeExports.jsx(Spacer,{y:"md"}),jsxRuntimeExports.jsx(Text,{color:"secondaryText",multiline:!0,style:{textAlign:"center"},children:ba}),jsxRuntimeExports.jsx(Spacer,{y:"lg"}),jsxRuntimeExports.jsx(Link,{target:"_blank",center:!0,href:"https://blog.thirdweb.com/web3-wallet/",children:_i.newToWallets})]}),jsxRuntimeExports.jsx(Container,{py:"lg",flex:"column",gap:"lg",children:jsxRuntimeExports.jsxs("div",{children:[$a&&jsxRuntimeExports.jsx(TOS,{termsOfServiceUrl:vn,privacyPolicyUrl:fn}),Cn!==!1&&jsxRuntimeExports.jsx(Container,{style:{paddingTop:spacing.xl},children:jsxRuntimeExports.jsx(PoweredByThirdweb,{})})]})})]})}const floatingAnimation=keyframes$1`
  from {
    transform: translateY(4px);
  }
  to {
    transform: translateY(-4px);
  }
`,GlobalContainer=StyledDiv(()=>{const vn=useCustomTheme();return{color:vn.colors.accentText,filter:`drop-shadow(0px 6px 10px ${vn.colors.accentText})`,animation:`${floatingAnimation} 2s ease infinite alternate`}}),ConnectModalContent=vn=>{var ls;const{onHide:fn,onShow:En,onClose:Cn}=vn,{screen:_i,setScreen:An,initialScreen:ba}=vn.screenSetup,xa=useWallets(),$a=useConnectionStatus(),rs=useDisconnect(),ts=reactExports.useContext(ModalConfigCtx),is=reactExports.useContext(SetModalConfigCtx),cs=ts.title,us=ts.theme,ps=ts.modalSize,bs=ts.onConnect,e0=ps==="wide",{user:gs}=useUser(),Ds=useThirdwebAuthContext(),[i0,n0]=reactExports.useState(!1),c0=reactExports.useCallback(hs=>{var ga;bs&&bs(hs);const ss=(ga=ts.auth)!=null&&ga.loginOptional?!1:!!(Ds!=null&&Ds.authUrl)&&!(gs!=null&&gs.address);onModalUnmount(()=>{En()}),ss?An(reservedScreens.signIn):Cn()},[(ls=ts.auth)==null?void 0:ls.loginOptional,Ds==null?void 0:Ds.authUrl,gs==null?void 0:gs.address,An,En,Cn,bs]),d0=reactExports.useCallback(()=>{An(ba),$a==="connecting"&&rs()},[An,ba,$a,rs]),o0=useConnect(),g0=useAddress(),{setConnectionStatus:w0,setConnectedWallet:M0,createWalletInstance:ds,activeWallet:na}=useWalletContext();reactExports.useEffect(()=>{na&&i0&&(c0(na),n0(!1))},[i0,na,c0]);const _a=jsxRuntimeExports.jsx(WalletSelector,{title:cs,walletConfigs:xa,onGetStarted:()=>{An(reservedScreens.getStarted)},selectWallet:An,selectUIProps:{connect:o0,setConnectionStatus:w0,setConnectedWallet:M0,createWalletInstance:ds,connectionStatus:$a}}),es=jsxRuntimeExports.jsx(StartScreen,{}),ns=hs=>{const ss=hs.connectUI||HeadlessConnectUI;return jsxRuntimeExports.jsx(ss,{supportedWallets:xa,theme:typeof us=="string"?us:us.type,goBack:d0,connected:()=>{n0(!0)},isOpen:vn.isOpen,show:En,hide:fn,walletConfig:hs,modalSize:ts.modalSize,selectionData:ts.data,connect:ga=>o0(hs,ga),setConnectionStatus:w0,setConnectedWallet:M0,createWalletInstance:()=>ds(hs),connectionStatus:$a,connectedWallet:na,connectedWalletAddress:g0,setSelectionData:ga=>{is(as=>({...as,data:ga}))}})},os=jsxRuntimeExports.jsx(SignatureScreen,{onDone:Cn,modalSize:ps,termsOfServiceUrl:ts.termsOfServiceUrl,privacyPolicyUrl:ts.privacyPolicyUrl});return jsxRuntimeExports.jsx(ScreenSetupContext.Provider,{value:vn.screenSetup,children:e0?jsxRuntimeExports.jsxs("div",{style:{height:"100%",display:"grid",gridTemplateColumns:"300px 1fr"},children:[jsxRuntimeExports.jsxs(LeftContainer,{children:[" ",_a," "]}),jsxRuntimeExports.jsxs(Container,{flex:"column",scrollY:!0,relative:!0,children:[_i===reservedScreens.signIn&&os,_i===reservedScreens.main&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:es}),_i===reservedScreens.getStarted&&es,typeof _i!="string"&&ns(_i)]})]}):jsxRuntimeExports.jsxs(Container,{flex:"column",scrollY:!0,relative:!0,style:{maxHeight:compactModalMaxHeight},children:[_i===reservedScreens.signIn&&os,_i===reservedScreens.main&&_a,_i===reservedScreens.getStarted&&es,typeof _i!="string"&&ns(_i)]})})},ConnectModal=()=>{const{theme:vn,modalSize:fn}=reactExports.useContext(ModalConfigCtx),En=useSetupScreen(),{screen:Cn,setScreen:_i,initialScreen:An}=En,ba=useIsWalletModalOpen(),xa=useSetIsWalletModalOpen(),[$a,rs]=reactExports.useState(!1),ts=useConnectionStatus(),is=reactExports.useCallback(()=>{xa(!1),onModalUnmount(()=>{_i(An)})},[An,xa,_i]),cs=useDisconnect();reactExports.useEffect(()=>{ba||onModalUnmount(()=>{rs(!1)})},[ba,xa,Cn]);const us=reactExports.useCallback(()=>rs(!0),[]),ps=reactExports.useCallback(()=>rs(!1),[]);return jsxRuntimeExports.jsx(CustomThemeProvider,{theme:vn,children:jsxRuntimeExports.jsx(Modal,{hide:$a,size:fn,open:ba,setOpen:bs=>{$a||(xa(bs),bs||onModalUnmount(()=>{ts==="connecting"&&cs(),_i(An)}))},children:jsxRuntimeExports.jsx(ConnectModalContent,{screenSetup:En,onHide:us,onShow:ps,isOpen:ba,onClose:is})})})},LeftContainer=StyledDiv(()=>{const vn=useCustomTheme();return{display:"flex",flexDirection:"column",overflowY:"auto",...noScrollBar,position:"relative",borderRight:`1px solid ${vn.colors.separatorLine}`}});keyframes$1`
from {
    opacity: 0;
    transform: translateY(2px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`;const signerWallet=vn=>({id:"signerWallet",meta:{name:"Signer",iconURL:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxwYXRoIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTggNWgyYTIgMiAwIDAgMSAyIDJ2MTJhMiAyIDAgMCAxLTIgMkg0YTIgMiAwIDAgMS0yLTJoLjAyN0EyIDIgMCAwIDEgMiAxOC42NzRWNi43NTRhMiAyIDAgMCAxIDEuNDUtMS45MjNsMTItMy40MjhBMiAyIDAgMCAxIDE4IDMuMzI2VjV6bTAgMnY4LjI0NmEyIDIgMCAwIDEtMS40NSAxLjkyM0wxMC4xNCAxOUgyMFY3aC0yek00IDYuNzU0djExLjkybDEyLTMuNDI4VjMuMzI2TDQgNi43NTR6TTE4IDExVjloMnYyaC0yem0tNS0xYTEgMSAwIDEgMSAwLTIgMSAxIDAgMCAxIDAgMnoiIHN0eWxlPSJmaWxsOiByZ2IoMTY5LCAyMDQsIDIyNyk7Ij48L3BhdGg+PC9zdmc+"},create:fn=>new SignerWallet({...fn,signer:vn})});var packageJson={name:"@thirdweb-dev/react",version:"4.9.4",repository:"https://github.com/thirdweb-dev/js/tree/main/legacy_packages/react",author:"thirdweb eng <eng@thirdweb.com>",license:"Apache-2.0",main:"dist/thirdweb-dev-react.cjs.js",types:"dist/thirdweb-dev-react.cjs.d.ts",module:"dist/thirdweb-dev-react.esm.js",browser:{"./dist/thirdweb-dev-react.esm.js":"./dist/thirdweb-dev-react.browser.esm.js"},exports:{".":{module:{browser:"./dist/thirdweb-dev-react.browser.esm.js",default:"./dist/thirdweb-dev-react.esm.js"},default:"./dist/thirdweb-dev-react.cjs.js"},"./evm":{module:{browser:"./evm/dist/thirdweb-dev-react-evm.browser.esm.js",default:"./evm/dist/thirdweb-dev-react-evm.esm.js"},default:"./evm/dist/thirdweb-dev-react-evm.cjs.js"},"./evm/connectors/magic":{module:{browser:"./evm/connectors/magic/dist/thirdweb-dev-react-evm-connectors-magic.browser.esm.js",default:"./evm/connectors/magic/dist/thirdweb-dev-react-evm-connectors-magic.esm.js"},default:"./evm/connectors/magic/dist/thirdweb-dev-react-evm-connectors-magic.cjs.js"},"./evm/connectors/gnosis":{module:{browser:"./evm/connectors/gnosis/dist/thirdweb-dev-react-evm-connectors-gnosis.browser.esm.js",default:"./evm/connectors/gnosis/dist/thirdweb-dev-react-evm-connectors-gnosis.esm.js"},default:"./evm/connectors/gnosis/dist/thirdweb-dev-react-evm-connectors-gnosis.cjs.js"},"./package.json":"./package.json"},files:["dist/","evm/"],preconstruct:{entrypoints:["index.ts","evm/index.ts","evm/connectors/**/index.ts"],exports:{envConditions:["browser"]}},private:!1,scripts:{format:"prettier --write 'src/**/*'",lint:"eslint src/",fix:"eslint src/ --fix",clean:"rm -rf dist/","generate-docs":"mkdir -p etc && pnpm generate-docs:evm && pnpm generate-snippets","generate-docs:evm":"api-extractor run --local --config ./config/api-extractor-evm.json && api-documenter markdown -i ./temp -o ./docs/evm && rm -rf ./temp-evm && mv ./temp ./temp-evm","generate-snippets":"node ./scripts/generate-snippets-evm.mjs && node ./scripts/generate-feature-snippets-evm.mjs",build:"tsc && preconstruct build",push:"yalc push",typedoc:"node scripts/typedoc.mjs"},"sideEffects:":!1,devDependencies:{"@babel/runtime":"^7.24.5","@microsoft/api-documenter":"^7.24.5","@microsoft/api-extractor":"^7.43.0","@microsoft/tsdoc":"^0.14.2","@preconstruct/cli":"2.7.0","@thirdweb-dev/auth":"^4.1.97","@thirdweb-dev/sdk":"^4.0.99","@thirdweb-dev/tsconfig":"^0.1.7","@types/qrcode":"^1.5.5","@types/react":"18.2.17","@types/react-dom":"^18.2.24","@types/uuid":"^9.0.8",eslint:"8.57.0","eslint-config-thirdweb":"^0.1.9","eslint-plugin-better-tree-shaking":"0.0.4","eslint-plugin-import":"^2.29.1","eslint-plugin-inclusive-language":"^2.2.1","eslint-plugin-prettier":"^5.1.3","eslint-plugin-svg-jsx":"^1.2.4","eslint-plugin-tsdoc":"^0.3.0",ethers:"^5.7.2",react:"18.2.0","react-dom":"^18.2.0",stream:"npm:stream-browserify@^3.0.0","typedoc-gen":"^1.0.2",typescript:"5.4.4"},dependencies:{"@emotion/css":"11.10.5","@emotion/react":"^11.11.4","@emotion/styled":"11.11.0","@google/model-viewer":"^2.1.1","@headlessui/react":"1.7.18","@radix-ui/colors":"^0.1.9","@radix-ui/react-dialog":"^1.0.5","@radix-ui/react-focus-scope":"^1.0.4","@radix-ui/react-icons":"^1.3.0","@radix-ui/react-popover":"^1.0.7","@radix-ui/react-tabs":"^1.0.4","@radix-ui/react-tooltip":"^1.0.7","@tanstack/react-query":"^4.36.1","@thirdweb-dev/chains":"0.1.120","@thirdweb-dev/payments":"1.0.5","@thirdweb-dev/react-core":"4.9.4","@thirdweb-dev/sdk":"4.0.99","@thirdweb-dev/wallets":"2.5.39",buffer:"^6.0.3","copy-to-clipboard":"^3.3.3","detect-browser":"^5.3.0","fuse.js":"^7.0.0","input-otp":"^1.2.4",qrcode:"^1.5.3","tiny-invariant":"^1.3.3"},peerDependencies:{"@thirdweb-dev/sdk":"^4.0.99",ethers:">=5.5.1",react:">=18.0.0","react-dom":">=18.0.0"},engines:{node:">=18"}};function getAnalyticsGlobals(){return typeof globalThis>"u"?{x_sdk_name:packageJson.name,x_sdk_platform:"browser",x_sdk_version:packageJson.version,x_sdk_os:detectOS(),app_bundle_id:void 0}:(globalThis.X_SDK_NAME===void 0&&(globalThis.X_SDK_NAME=packageJson.name,globalThis.X_SDK_PLATFORM="browser",globalThis.X_SDK_VERSION=packageJson.version,globalThis.X_SDK_OS=detectOS(),globalThis.APP_BUNDLE_ID=void 0),{x_sdk_name:globalThis.X_SDK_NAME,x_sdk_platform:globalThis.X_SDK_PLATFORM,x_sdk_version:globalThis.X_SDK_VERSION,x_sdk_os:globalThis.X_SDK_OS,app_bundle_id:globalThis.APP_BUNDLE_ID})}const ThirdwebProvider=vn=>{const{supportedWallets:fn,children:En,signer:Cn,theme:_i,...An}=vn;getAnalyticsGlobals();const ba=fn||defaultWallets,xa=_i||"dark",$a=reactExports.useMemo(()=>Cn?signerWallet(Cn):void 0,[Cn]),rs=reactExports.useRef(!1);return reactExports.useEffect(()=>{if(rs.current)return;rs.current=!0,(async()=>{if(ba.find(cs=>cs.id===walletIds.embeddedWallet)&&An.clientId){const{EmbeddedWalletSdk:cs}=await __vitePreload(async()=>{const{EmbeddedWalletSdk:us}=await Promise.resolve().then(()=>thirdwebDevWallets_browser_esm);return{EmbeddedWalletSdk:us}},void 0);new cs({clientId:An.clientId,chain:"Ethereum"})}})()},[An.clientId,ba]),jsxRuntimeExports.jsx(ThirdwebLocaleContext.Provider,{value:An.locale||en(),children:jsxRuntimeExports.jsx(WalletUIStatesProvider,{theme:xa,children:jsxRuntimeExports.jsx(CustomThemeProvider,{theme:xa,children:jsxRuntimeExports.jsxs(ThirdwebProviderCore,{...An,theme:typeof xa=="string"?xa:xa.type,supportedWallets:ba,signerWallet:$a,children:[En,jsxRuntimeExports.jsx(ConnectModal,{})]})})})})};function useMetamask(){const vn=useConnect();return reactExports.useCallback(async fn=>{const{metamaskWallet:En}=await __vitePreload(async()=>{const{metamaskWallet:Cn}=await Promise.resolve().then(()=>safeChainSlug8dca7686_browser_esm);return{metamaskWallet:Cn}},void 0).then(function(Cn){return Cn.n});return vn(En(),fn)},[vn])}spacing.sm;function insertWithoutScoping(vn,fn){if(vn.inserted[fn.name]===void 0)return vn.insert("",fn,vn.sheet,!0)}function merge(vn,fn,En){var Cn=[],_i=getRegisteredStyles(vn,Cn,En);return Cn.length<2?En:_i+fn(Cn)}var createEmotion=function vn(fn){var En=createCache(fn);En.sheet.speedy=function(xa){this.isSpeedy=xa},En.compat=!0;var Cn=function(){for(var $a=arguments.length,rs=new Array($a),ts=0;ts<$a;ts++)rs[ts]=arguments[ts];var is=serializeStyles(rs,En.registered,void 0);return insertStyles(En,is,!1),En.key+"-"+is.name},_i=function(){for(var $a=arguments.length,rs=new Array($a),ts=0;ts<$a;ts++)rs[ts]=arguments[ts];var is=serializeStyles(rs,En.registered),cs="animation-"+is.name;return insertWithoutScoping(En,{name:is.name,styles:"@keyframes "+cs+"{"+is.styles+"}"}),cs},An=function(){for(var $a=arguments.length,rs=new Array($a),ts=0;ts<$a;ts++)rs[ts]=arguments[ts];var is=serializeStyles(rs,En.registered);insertWithoutScoping(En,is)},ba=function(){for(var $a=arguments.length,rs=new Array($a),ts=0;ts<$a;ts++)rs[ts]=arguments[ts];return merge(En.registered,Cn,classnames(rs))};return{css:Cn,cx:ba,injectGlobal:An,keyframes:_i,hydrate:function($a){$a.forEach(function(rs){En.inserted[rs]=!0})},flush:function(){En.registered={},En.inserted={},En.sheet.flush()},sheet:En.sheet,cache:En,getRegisteredStyles:getRegisteredStyles.bind(null,En.registered),merge:merge.bind(null,En.registered,Cn)}},classnames=function vn(fn){for(var En="",Cn=0;Cn<fn.length;Cn++){var _i=fn[Cn];if(_i!=null){var An=void 0;switch(typeof _i){case"boolean":break;case"object":{if(Array.isArray(_i))An=vn(_i);else{An="";for(var ba in _i)_i[ba]&&ba&&(An&&(An+=" "),An+=ba)}break}default:An=_i}An&&(En&&(En+=" "),En+=An)}}return En},_createEmotion=createEmotion({key:"css"}),keyframes=_createEmotion.keyframes,css=_createEmotion.css;css`
  opacity: 0;
`;css`
  opacity: 1;
`;css`
  position: relative;
  width: 100%;
  height: 100%;
`;css`
  display: grid;
  position: relative;
  width: 100%;
`;css`
  transition-delay: 150ms;
  transition-property: opacity;
  transition-duration: 75ms;
`;css`
  transition-property: opacity;
  transition-duration: 150ms;
`;css`
  background-color: transparent;
  grid-column-start: 1;
  grid-row-start: 1;
`;const Spin=keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`;css`
  border: 0.15rem solid #f3f3f300;
  border-top: 0.15rem solid #000000;
  border-left: 0.15rem solid #000000;
  border-radius: 50%;
  width: 4rem;
  height: 4rem;
  animation: ${Spin} 1s linear infinite;
`;css`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate3d(-50%, -50%, 0);
`;css`
  color: #000000;
  width: 2rem;
  height: 2rem;
`;css`
  padding-top: 0.625rem;
  padding-bottom: 0.625rem;
  padding-left: 1.25rem;
  padding-right: 1.25rem;
  background-color: #1f2937;
  color: #ffffff;
  font-size: 0.875rem;
  line-height: 1.25rem;
  font-weight: 600;
  justify-content: flex-start;
  align-items: center;
  border-radius: 0.5rem;
  border: none;
  cursor: pointer;
`;const StateContext=reactExports.createContext(),StateContextProvider=({children:vn})=>{const{contract:fn}=useContract("0xf59A1f8251864e1c5a6bD64020e3569be27e6AA9"),{mutateAsync:En}=useContractWrite(fn,"createCampaign"),Cn=useAddress(),_i=useMetamask(),An=async ts=>{try{const is=await En({args:[Cn,ts.title,ts.description,ts.target,new Date(ts.deadline).getTime(),ts.image]});console.log("contract call success",is)}catch(is){console.log("contract call failure",is)}},ba=async()=>(await fn.call("getCampaigns")).map((cs,us)=>({owner:cs.owner,title:cs.title,description:cs.description,target:formatEther(cs.target.toString()),deadline:cs.deadline.toNumber(),amountCollected:formatEther(cs.amountCollected.toString()),image:cs.image,pId:us})),xa=async()=>(await ba()).filter(cs=>cs.owner===Cn),$a=async(ts,is)=>await fn.call("donateToCampaign",[ts],{value:parseEther(is)}),rs=async ts=>{const is=await fn.call("getDonators",[ts]),cs=is[0].length,us=[];for(let ps=0;ps<cs;ps++)us.push({donator:is[0][ps],donation:formatEther(is[1][ps].toString())});return us};return jsxRuntimeExports.jsx(StateContext.Provider,{value:{address:Cn,contract:fn,connect:_i,createCampaign:An,getCampaigns:ba,getUserCampaigns:xa,donate:$a,getDonations:rs},children:vn})},useStateContext=()=>reactExports.useContext(StateContext),createCampaign="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1071_25627)'%3e%3cpath%20d='M17%200C16.7348%200%2016.4804%200.105357%2016.2929%200.292893C16.1054%200.48043%2016%200.734784%2016%201C16%203.949%2013.417%205%2011%205H4C2.93913%205%201.92172%205.42143%201.17157%206.17157C0.421427%206.92172%200%207.93913%200%209L0%2011C0.00218416%2011.5987%200.139462%2012.1893%200.401603%2012.7276C0.663743%2013.2659%201.04399%2013.7381%201.514%2014.109L5.086%2022.081C5.34004%2022.6521%205.75417%2023.1373%206.27827%2023.4779C6.80237%2023.8185%207.41396%2023.9998%208.039%2024C8.53631%2023.9997%209.02565%2023.875%209.46247%2023.6373C9.89929%2023.3996%2010.2697%2023.0564%2010.54%2022.639C10.8104%2022.2215%2010.972%2021.7431%2011.0103%2021.2473C11.0485%2020.7515%2010.9621%2020.2539%2010.759%2019.8L8.559%2015H11C13.417%2015%2016%2016.051%2016%2019C16%2019.2652%2016.1054%2019.5196%2016.2929%2019.7071C16.4804%2019.8946%2016.7348%2020%2017%2020C17.2652%2020%2017.5196%2019.8946%2017.7071%2019.7071C17.8946%2019.5196%2018%2019.2652%2018%2019V1C18%200.734784%2017.8946%200.48043%2017.7071%200.292893C17.5196%200.105357%2017.2652%200%2017%200V0ZM8.937%2020.619C9.00324%2020.7686%209.03109%2020.9323%209.01804%2021.0954C9.005%2021.2585%208.95145%2021.4157%208.86227%2021.5529C8.77309%2021.69%208.65109%2021.8027%208.50733%2021.8808C8.36357%2021.9589%208.20259%2021.9999%208.039%2022C7.80039%2021.9998%207.56697%2021.9304%207.36709%2021.8001C7.1672%2021.6698%207.00945%2021.4842%206.913%2021.266L4.105%2015H6.359L8.937%2020.619ZM16%2014.6C14.5713%2013.4992%2012.8024%2012.9331%2011%2013H4C3.46957%2013%202.96086%2012.7893%202.58579%2012.4142C2.21071%2012.0391%202%2011.5304%202%2011V9C2%208.46957%202.21071%207.96086%202.58579%207.58579C2.96086%207.21071%203.46957%207%204%207H11C12.8018%207.0683%2014.5706%206.50403%2016%205.405V14.6ZM23.9%2015.452C23.8413%2015.5696%2023.7601%2015.6744%2023.6609%2015.7606C23.5617%2015.8467%2023.4465%2015.9125%2023.3218%2015.9541C23.1972%2015.9957%2023.0656%2016.0123%2022.9345%2016.0031C22.8035%2015.9938%2022.6755%2015.9588%2022.558%2015.9L20.558%2014.9C20.3206%2014.7814%2020.1401%2014.5735%2020.0561%2014.3218C19.972%2014.0701%2019.9915%2013.7954%2020.11%2013.558C20.2286%2013.3206%2020.4365%2013.1401%2020.6882%2013.0561C20.9399%2012.972%2021.2146%2012.9914%2021.452%2013.11L23.452%2014.11C23.6881%2014.2285%2023.8678%2014.4356%2023.9518%2014.6861C24.0357%2014.9366%2024.0171%2015.2102%2023.9%2015.447V15.452ZM20.11%206.452C20.0512%206.33448%2020.0162%206.20653%2020.0069%206.07546C19.9977%205.9444%2020.0143%205.81279%2020.0559%205.68816C20.0975%205.56353%2020.1633%205.44832%2020.2494%205.34912C20.3356%205.24991%2020.4404%205.16866%2020.558%205.11L22.558%204.11C22.7954%203.99145%2023.0701%203.97205%2023.3218%204.05606C23.5735%204.14008%2023.7815%204.32063%2023.9%204.558C24.0186%204.79537%2024.038%205.07011%2023.9539%205.32178C23.8699%205.57346%2023.6894%205.78145%2023.452%205.9L21.452%206.9C21.3345%206.95876%2021.2065%206.99378%2021.0755%207.00306C20.9444%207.01234%2020.8128%206.99571%2020.6882%206.9541C20.5635%206.9125%2020.4483%206.84674%2020.3491%206.76058C20.2499%206.67443%2020.1687%206.56957%2020.11%206.452V6.452ZM20%2010C20%209.73478%2020.1054%209.48043%2020.2929%209.29289C20.4804%209.10536%2020.7348%209%2021%209H23C23.2652%209%2023.5196%209.10536%2023.7071%209.29289C23.8946%209.48043%2024%209.73478%2024%2010C24%2010.2652%2023.8946%2010.5196%2023.7071%2010.7071C23.5196%2010.8946%2023.2652%2011%2023%2011H21C20.7348%2011%2020.4804%2010.8946%2020.2929%2010.7071C20.1054%2010.5196%2020%2010.2652%2020%2010Z'%20fill='%231DC071'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1071_25627'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",dashboard="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1%204.5C1%201.87479%201.02811%201%204.5%201C7.97189%201%208%201.87479%208%204.5C8%207.12521%208.01107%208%204.5%208C0.988927%208%201%207.12521%201%204.5Z'%20stroke='%231DC071'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12%204.5C12%201.87479%2012.0281%201%2015.5%201C18.9719%201%2019%201.87479%2019%204.5C19%207.12521%2019.0111%208%2015.5%208C11.9889%208%2012%207.12521%2012%204.5Z'%20stroke='%231DC071'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1%2015.5C1%2012.8748%201.02811%2012%204.5%2012C7.97189%2012%208%2012.8748%208%2015.5C8%2018.1252%208.01107%2019%204.5%2019C0.988927%2019%201%2018.1252%201%2015.5Z'%20stroke='%231DC071'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12%2015.5C12%2012.8748%2012.0281%2012%2015.5%2012C18.9719%2012%2019%2012.8748%2019%2015.5C19%2018.1252%2019.0111%2019%2015.5%2019C11.9889%2019%2012%2018.1252%2012%2015.5Z'%20stroke='%231DC071'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",logo="data:image/svg+xml,%3csvg%20width='28'%20height='24'%20viewBox='0%200%2028%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3.18595%209.23478C1.8487%206.89136%202.58741%203.92689%204.83591%202.61345C7.0844%201.30002%209.99122%202.13499%2011.3285%204.47841L17.1985%2014.7652C18.5358%2017.1086%2017.797%2020.0731%2015.5485%2021.3865C13.3001%2022.6999%2010.3932%2021.865%209.05598%2019.5215L3.18595%209.23478Z'%20fill='url(%23paint0_linear_2290_2172)'/%3e%3cpath%20d='M27.2349%206.6917C27.2349%209.32347%2025.1345%2011.4569%2022.5435%2011.4569C19.9525%2011.4569%2017.8521%209.32347%2017.8521%206.6917C17.8521%204.05992%2019.9525%201.92645%2022.5435%201.92645C25.1345%201.92645%2027.2349%204.05992%2027.2349%206.6917Z'%20fill='url(%23paint1_linear_2290_2172)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_2290_2172'%20x1='4.83591'%20y1='2.61345'%20x2='15.441'%20y2='21.0019'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%231DC071'/%3e%3cstop%20offset='1'%20stop-color='%2377D9AA'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_2290_2172'%20x1='22.5435'%20y1='1.92645'%20x2='22.5205'%20y2='11.2863'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%231DC071'/%3e%3cstop%20offset='1'%20stop-color='%2377D9AA'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",logout="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5%206.64513V5.551C5%203.43076%205%202.37064%205.67965%201.77328C6.35931%201.17591%207.41066%201.31197%209.51337%201.58408L16.77%202.52318C19.2611%202.84556%2020.5067%203.00675%2021.2533%203.85626C22%204.70577%2022%205.9617%2022%208.47356V15.5264C22%2018.0383%2022%2019.2942%2021.2533%2020.1437C20.5067%2020.9933%2019.2611%2021.1544%2016.77%2021.4768L9.51337%2022.4159C7.41066%2022.688%206.35931%2022.8241%205.67965%2022.2267C5%2021.6294%205%2020.5692%205%2018.449V17.5726'%20stroke='%231DC071'%20stroke-width='2'/%3e%3cpath%20d='M15%2012L15.8107%2011.4145L16.2335%2012L15.8107%2012.5855L15%2012ZM1%2013C0.447715%2013%200%2012.5523%200%2012C0%2011.4477%200.447715%2011%201%2011V13ZM11.4773%205.41451L15.8107%2011.4145L14.1893%2012.5855L9.85599%206.58549L11.4773%205.41451ZM15.8107%2012.5855L11.4773%2018.5855L9.85599%2017.4145L14.1893%2011.4145L15.8107%2012.5855ZM15%2013H1V11H15V13Z'%20fill='%231DC071'/%3e%3c/svg%3e",payment="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.1111%208.14286V5.57143C18.1111%204.88944%2017.8536%204.23539%2017.3951%203.75315C16.9367%203.27092%2016.315%203%2015.6667%203H3.44444C2.79614%203%202.17438%203.27092%201.71596%203.75315C1.25754%204.23539%201%204.88944%201%205.57143V13.2857C1%2013.9677%201.25754%2014.6218%201.71596%2015.104C2.17438%2015.5862%202.79614%2015.8571%203.44444%2015.8571H5.88889M8.33333%2021H20.5556C21.2039%2021%2021.8256%2020.7291%2022.284%2020.2468C22.7425%2019.7646%2023%2019.1106%2023%2018.4286V10.7143C23%2010.0323%2022.7425%209.37825%2022.284%208.89601C21.8256%208.41377%2021.2039%208.14286%2020.5556%208.14286H8.33333C7.68503%208.14286%207.06327%208.41377%206.60485%208.89601C6.14643%209.37825%205.88889%2010.0323%205.88889%2010.7143V18.4286C5.88889%2019.1106%206.14643%2019.7646%206.60485%2020.2468C7.06327%2020.7291%207.68503%2021%208.33333%2021ZM16.8889%2014.5714C16.8889%2015.2534%2016.6313%2015.9075%2016.1729%2016.3897C15.7145%2016.8719%2015.0928%2017.1429%2014.4444%2017.1429C13.7961%2017.1429%2013.1744%2016.8719%2012.716%2016.3897C12.2575%2015.9075%2012%2015.2534%2012%2014.5714C12%2013.8894%2012.2575%2013.2354%2012.716%2012.7532C13.1744%2012.2709%2013.7961%2012%2014.4444%2012C15.0928%2012%2015.7145%2012.2709%2016.1729%2012.7532C16.6313%2013.2354%2016.8889%2013.8894%2016.8889%2014.5714Z'%20stroke='%231DC071'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",profile="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='12'%20cy='9'%20r='3'%20stroke='%231DC071'%20stroke-width='2'%20stroke-linecap='round'/%3e%3ccircle%20cx='12'%20cy='12'%20r='11'%20stroke='%231DC071'%20stroke-width='2'/%3e%3cpath%20d='M19%2020C18.5871%2018.8525%2017.6773%2017.8384%2016.4117%2017.1152C15.146%2016.392%2013.5953%2016%2012%2016C10.4047%2016%208.85398%2016.392%207.58835%2017.1152C6.32271%2017.8384%205.41289%2018.8525%205%2020'%20stroke='%231DC071'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/svg%3e",sun="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%2018.5455C10.264%2018.5455%208.59918%2017.8558%207.37167%2016.6283C6.14415%2015.4008%205.45455%2013.736%205.45455%2012C5.45455%2010.264%206.14415%208.59918%207.37167%207.37167C8.59918%206.14415%2010.264%205.45455%2012%205.45455C13.736%205.45455%2015.4008%206.14415%2016.6283%207.37167C17.8558%208.59918%2018.5455%2010.264%2018.5455%2012C18.5455%2013.736%2017.8558%2015.4008%2016.6283%2016.6283C15.4008%2017.8558%2013.736%2018.5455%2012%2018.5455ZM12%2016.3636C13.1573%2016.3636%2014.2672%2015.9039%2015.0856%2015.0856C15.9039%2014.2672%2016.3636%2013.1573%2016.3636%2012C16.3636%2010.8427%2015.9039%209.73278%2015.0856%208.91444C14.2672%208.0961%2013.1573%207.63636%2012%207.63636C10.8427%207.63636%209.73278%208.0961%208.91444%208.91444C8.0961%209.73278%207.63636%2010.8427%207.63636%2012C7.63636%2013.1573%208.0961%2014.2672%208.91444%2015.0856C9.73278%2015.9039%2010.8427%2016.3636%2012%2016.3636ZM10.9091%201.09091C10.9091%200.488417%2011.3975%200%2012%200C12.6025%200%2013.0909%200.488417%2013.0909%201.09091V2.18182C13.0909%202.78431%2012.6025%203.27273%2012%203.27273C11.3975%203.27273%2010.9091%202.78431%2010.9091%202.18182V1.09091ZM10.9091%2021.8182C10.9091%2021.2157%2011.3975%2020.7273%2012%2020.7273C12.6025%2020.7273%2013.0909%2021.2157%2013.0909%2021.8182V22.9091C13.0909%2023.5116%2012.6025%2024%2012%2024C11.3975%2024%2010.9091%2023.5116%2010.9091%2022.9091V21.8182ZM3.51491%205.05745C3.08895%204.63149%203.08895%203.94087%203.51491%203.51491C3.94087%203.08895%204.63149%203.08895%205.05745%203.51491L5.82873%204.28618C6.25469%204.71214%206.25469%205.40277%205.82873%205.82873C5.40277%206.25469%204.71214%206.25469%204.28618%205.82873L3.51491%205.05745ZM18.1713%2019.7138C17.7453%2019.2879%2017.7453%2018.5972%2018.1713%2018.1713C18.5972%2017.7453%2019.2879%2017.7453%2019.7138%2018.1713L20.4851%2018.9425C20.9111%2019.3685%2020.9111%2020.0591%2020.4851%2020.4851C20.0591%2020.9111%2019.3685%2020.9111%2018.9425%2020.4851L18.1713%2019.7138ZM18.9421%203.51464C19.3682%203.0883%2020.0594%203.08834%2020.4855%203.51473C20.9113%203.94083%2020.9111%204.63141%2020.4852%205.05736L19.7139%205.82864C19.2879%206.25465%2018.5972%206.25465%2018.1712%205.82864C17.7452%205.4027%2017.7452%204.71213%2018.171%204.28609L18.9421%203.51464ZM4.28618%2018.1713C4.71214%2017.7453%205.40277%2017.7453%205.82873%2018.1713C6.25469%2018.5972%206.25469%2019.2879%205.82873%2019.7138L5.05746%2020.4851C4.63149%2020.9111%203.94087%2020.9111%203.51491%2020.4851C3.08895%2020.0591%203.08895%2019.3685%203.51491%2018.9425L4.28618%2018.1713ZM22.9091%2010.9091C23.5116%2010.9091%2024%2011.3975%2024%2012C24%2012.6025%2023.5116%2013.0909%2022.9091%2013.0909H21.8182C21.2157%2013.0909%2020.7273%2012.6025%2020.7273%2012C20.7273%2011.3975%2021.2157%2010.9091%2021.8182%2010.9091H22.9091ZM2.18182%2010.9091C2.78431%2010.9091%203.27273%2011.3975%203.27273%2012C3.27273%2012.6025%202.78431%2013.0909%202.18182%2013.0909H1.09091C0.488417%2013.0909%200%2012.6025%200%2012C0%2011.3975%200.488417%2010.9091%201.09091%2010.9091H2.18182Z'%20fill='%23808191'/%3e%3c/svg%3e",withdraw="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1071_25635)'%3e%3cpath%20d='M4.46098%2011H2.1C1.49249%2011%201%2010.5026%201%209.88889V2.11111C1%201.49746%201.49249%201%202.1%201H21.9C22.5075%201%2023%201.49746%2023%202.11111V9.88889C23%2010.5026%2022.5075%2011%2021.9%2011H19.8207'%20stroke='%231DC071'%20stroke-width='2'/%3e%3cpath%20d='M19.4286%206H4.57143C4.25583%206%204%206.24551%204%206.54839V22.4516C4%2022.7545%204.25583%2023%204.57143%2023H19.4286C19.7442%2023%2020%2022.7545%2020%2022.4516V6.54839C20%206.24551%2019.7442%206%2019.4286%206Z'%20stroke='%231DC071'%20stroke-width='2'/%3e%3cpath%20d='M15%2016.3794C15%2016.8153%2014.8949%2017.2259%2014.6848%2017.6114C14.4825%2017.9886%2014.179%2018.3029%2013.7744%2018.5543C13.3775%2018.7973%2012.9066%2018.9398%2012.3619%2018.9817V20H11.6148V18.9691C10.8366%2018.8937%2010.2101%2018.6423%209.73537%2018.2149C9.2607%2017.779%209.0156%2017.1924%209%2016.4549H10.751C10.7977%2017.0583%2011.0856%2017.4229%2011.6148%2017.5486V15.1474C11.0545%2014.9966%2010.6031%2014.8457%2010.2607%2014.6949C9.9183%2014.544%209.62258%2014.301%209.37358%2013.9657C9.1245%2013.6304%209%2013.1737%209%2012.5954C9%2011.8663%209.24128%2011.2713%209.72375%2010.8103C10.214%2010.3493%2010.8443%2010.0853%2011.6148%2010.0183V9H12.3619V10.0183C13.109%2010.0853%2013.7043%2010.3284%2014.1479%2010.7474C14.5992%2011.1665%2014.8522%2011.7447%2014.9066%2012.4823H13.144C13.1206%2012.2393%2013.0389%2012.0297%2012.8988%2011.8537C12.7665%2011.6693%2012.5876%2011.5394%2012.3619%2011.464V13.84C12.9455%2013.9993%2013.4047%2014.1543%2013.7393%2014.3051C14.0817%2014.4476%2014.3774%2014.6864%2014.6264%2015.0217C14.8755%2015.3486%2015%2015.8011%2015%2016.3794ZM10.7043%2012.5074C10.7043%2012.784%2010.7821%2013.0103%2010.9378%2013.1863C11.0934%2013.3539%2011.3191%2013.4922%2011.6148%2013.6011V11.4263C11.3346%2011.4682%2011.1128%2011.5813%2010.9494%2011.7657C10.786%2011.9501%2010.7043%2012.1973%2010.7043%2012.5074ZM12.3619%2017.5737C12.6576%2017.515%2012.8872%2017.3851%2013.0506%2017.184C13.2218%2016.9829%2013.3074%2016.7398%2013.3074%2016.4549C13.3074%2016.1783%2013.2256%2015.9562%2013.0622%2015.7886C12.8988%2015.621%2012.6654%2015.4827%2012.3619%2015.3737V17.5737Z'%20fill='%231DC071'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1071_25635'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",tagType="data:image/svg+xml,%3csvg%20width='16'%20height='12'%20viewBox='0%200%2016%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.8775%201.5L7.3775%203H14V10.5H2V1.5H5.8775ZM6.5%200H2C1.175%200%200.5075%200.675%200.5075%201.5L0.5%2010.5C0.5%2011.325%201.175%2012%202%2012H14C14.825%2012%2015.5%2011.325%2015.5%2010.5V3C15.5%202.175%2014.825%201.5%2014%201.5H8L6.5%200Z'%20fill='%23808191'/%3e%3c/svg%3e",search="data:image/svg+xml,%3csvg%20width='19'%20height='18'%20viewBox='0%200%2019%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_2290_2179)'%3e%3cpath%20d='M16.9702%2016.5L13.2202%2012.75M15.0952%208.0625C15.0952%208.9243%2014.9255%209.77766%2014.5957%2010.5739C14.2659%2011.3701%2013.7825%2012.0935%2013.1731%2012.7029C12.5637%2013.3123%2011.8403%2013.7957%2011.0441%2014.1255C10.2479%2014.4553%209.39451%2014.625%208.53271%2014.625C7.67092%2014.625%206.81755%2014.4553%206.02135%2014.1255C5.22516%2013.7957%204.50171%2013.3123%203.89233%2012.7029C3.28294%2012.0935%202.79955%2011.3701%202.46976%2010.5739C2.13996%209.77766%201.97021%208.9243%201.97021%208.0625C1.97021%206.32202%202.66162%204.65282%203.89233%203.42211C5.12303%202.1914%206.79223%201.5%208.53271%201.5C10.2732%201.5%2011.9424%202.1914%2013.1731%203.42211C14.4038%204.65282%2015.0952%206.32202%2015.0952%208.0625Z'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_2290_2179'%3e%3crect%20width='18'%20height='18'%20fill='white'%20transform='translate(0.470215)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",menu="data:image/svg+xml,%3csvg%20width='20'%20height='14'%20viewBox='0%200%2020%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%208.4H20V5.6H0V8.4ZM0%2014H20V11.2H0V14ZM0%202.8H20V0H0V2.8Z'%20fill='%23808191'/%3e%3c/svg%3e",money="data:image/svg+xml,%3csvg%20width='32'%20height='40'%20viewBox='0%200%2032%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22.4997%209.979H9.16634C8.66634%209.979%208.33301%2010.3123%208.33301%2010.8123C8.33301%2011.3123%208.66634%2011.6457%209.16634%2011.6457H22.4997C22.9997%2011.6457%2023.333%2011.3123%2023.333%2010.8123C23.333%2010.3123%2022.9997%209.979%2022.4997%209.979Z'%20fill='white'/%3e%3cpath%20d='M8.4999%207.81266C8.4999%208.146%208.83324%208.31266%209.16657%208.31266H22.4999C22.8332%208.31266%2023.1666%208.146%2023.1666%207.81266L26.4999%201.146C26.6666%200.812663%2026.6666%200.479329%2026.3332%200.145996C26.1666%20-0.0206706%2025.8332%20-0.0206706%2025.4999%200.145996L19.3332%203.146L16.4999%200.312663C16.1666%20-0.0206706%2015.6666%20-0.0206706%2015.3332%200.312663L12.3332%203.146L6.16657%200.145996C5.83324%20-0.0206706%205.4999%20-0.0206706%205.16657%200.145996C4.83324%200.312663%204.9999%200.812663%205.16657%201.146L8.4999%207.81266Z'%20fill='white'/%3e%3cpath%20d='M23.1667%2013.6456C23%2013.4789%2022.6667%2013.3123%2022.5%2013.3123H9.16667C9%2013.3123%208.66667%2013.4789%208.5%2013.6456C8.16667%2013.9789%200%2022.6456%200%2027.4789C0%2034.3123%207.16667%2039.9789%2015.8333%2039.9789C24.5%2039.9789%2031.6667%2034.3123%2031.6667%2027.4789C31.6667%2022.6456%2023.5%2013.9789%2023.1667%2013.6456ZM16.6667%2033.3123V34.1456C16.6667%2034.6456%2016.3333%2034.9789%2015.8333%2034.9789C15.3333%2034.9789%2015%2034.6456%2015%2034.1456V33.3123C13.1667%2032.9789%2011.8333%2031.8123%2011.6667%2030.3123C11.6667%2029.8123%2012%2029.4789%2012.5%2029.4789C13%2029.4789%2013.3333%2029.8123%2013.3333%2030.3123C13.3333%2030.9789%2014.1667%2031.6456%2015%2031.8123V28.4789C12.8333%2027.9789%2011.6667%2026.8123%2011.6667%2025.3123C11.6667%2023.6456%2013.1667%2022.3123%2015%2021.9789V21.1456C15%2020.6456%2015.3333%2020.3123%2015.8333%2020.3123C16.3333%2020.3123%2016.6667%2020.6456%2016.6667%2021.1456V21.6456C18.5%2021.9789%2019.8333%2023.1456%2020%2024.6456C20%2025.1456%2019.6667%2025.4789%2019.1667%2025.4789C18.6667%2025.4789%2018.3333%2025.1456%2018.3333%2024.6456C18.3333%2023.9789%2017.5%2023.3123%2016.6667%2023.1456V26.4789C18.8333%2026.9789%2020%2028.1456%2020%2029.6456C20%2031.6456%2018.5%2032.9789%2016.6667%2033.3123Z'%20fill='white'/%3e%3cpath%20d='M16.667%2028.4785V31.4785C17.667%2031.3119%2018.3337%2030.6452%2018.3337%2029.9785C18.3337%2029.3119%2017.8337%2028.8118%2016.667%2028.4785Z'%20fill='white'/%3e%3cpath%20d='M13.333%2024.9788C13.333%2025.6454%2013.833%2026.1454%2014.9997%2026.4788V23.4788C13.9997%2023.6454%2013.333%2024.3121%2013.333%2024.9788Z'%20fill='white'/%3e%3c/svg%3e",loader="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20style='margin:auto;background:transparent;display:block;'%20width='200px'%20height='200px'%20viewBox='0%200%20100%20100'%20preserveAspectRatio='xMidYMid'%3e%3cg%20transform='rotate(0%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='2.52'%20ry='2.52'%20width='6'%20height='12'%20fill='%231dc071'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='-0.9166666666666666s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(30%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='2.52'%20ry='2.52'%20width='6'%20height='12'%20fill='%231dc071'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='-0.8333333333333334s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(60%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='2.52'%20ry='2.52'%20width='6'%20height='12'%20fill='%231dc071'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='-0.75s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(90%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='2.52'%20ry='2.52'%20width='6'%20height='12'%20fill='%231dc071'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='-0.6666666666666666s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(120%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='2.52'%20ry='2.52'%20width='6'%20height='12'%20fill='%231dc071'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='-0.5833333333333334s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(150%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='2.52'%20ry='2.52'%20width='6'%20height='12'%20fill='%231dc071'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='-0.5s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(180%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='2.52'%20ry='2.52'%20width='6'%20height='12'%20fill='%231dc071'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='-0.4166666666666667s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(210%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='2.52'%20ry='2.52'%20width='6'%20height='12'%20fill='%231dc071'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='-0.3333333333333333s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(240%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='2.52'%20ry='2.52'%20width='6'%20height='12'%20fill='%231dc071'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='-0.25s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(270%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='2.52'%20ry='2.52'%20width='6'%20height='12'%20fill='%231dc071'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='-0.16666666666666666s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(300%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='2.52'%20ry='2.52'%20width='6'%20height='12'%20fill='%231dc071'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='-0.08333333333333333s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(330%2050%2050)'%3e%3crect%20x='47'%20y='24'%20rx='2.52'%20ry='2.52'%20width='6'%20height='12'%20fill='%231dc071'%3e%3canimate%20attributeName='opacity'%20values='1;0'%20keyTimes='0;1'%20dur='1s'%20begin='0s'%20repeatCount='indefinite'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3c/svg%3e",thirdweb="/assets/thirdweb-B5ZT6TZm.png",navlinks=[{name:"dashboard",imgUrl:dashboard,link:"/"},{name:"campaign",imgUrl:createCampaign,link:"/create-campaign"},{name:"payment",imgUrl:payment,link:"/",disabled:!0},{name:"withdraw",imgUrl:withdraw,link:"/",disabled:!0},{name:"profile",imgUrl:profile,link:"/profile"},{name:"logout",imgUrl:logout,link:"/",disabled:!0}],Icon=({styles:vn,name:fn,imgUrl:En,isActive:Cn,disabled:_i,handleClick:An})=>jsxRuntimeExports.jsx("div",{className:`w-[48px] h-[48px] rounded-[10px] ${Cn&&Cn===fn&&"bg-[#2c2f32]"} flex justify-center items-center ${!_i&&"cursor-pointer"} ${vn}`,onClick:An,children:Cn?jsxRuntimeExports.jsx("img",{src:En,alt:"fund_logo",className:`w-1/2 h-1/2 ${Cn!==fn&&"grayscale"}`}):jsxRuntimeExports.jsx("img",{src:En,alt:"fund_logo",className:"w-1/2 h-1/2"})}),Sidebar=()=>{const vn=useNavigate(),[fn,En]=reactExports.useState("dashboard");return jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center flex-col sticky top-5 h-[93vh]",children:[jsxRuntimeExports.jsx(Link$1,{to:"/",children:jsxRuntimeExports.jsx(Icon,{styles:"w-[52px] h-[52px] bg-[#2c2f32]",imgUrl:logo})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col justify-between items-center bg-[#1c1c24] rounded-[20px] w-[76px] py-4 mt-12",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-col justify-center items-center gap-3",children:navlinks.map(Cn=>jsxRuntimeExports.jsx(Icon,{...Cn,isActive:fn,handleClick:()=>{Cn.disabled||(En(Cn.name),vn(Cn.link))}},Cn.name))}),jsxRuntimeExports.jsx(Icon,{styles:"bg-[#1c1c24] shadow-secondary",imgUrl:sun})]})]})},Navbar=()=>{const vn=useNavigate(),[fn,En]=reactExports.useState("dashboard"),[Cn,_i]=reactExports.useState(!1),{connect:An,address:ba}=useStateContext();return jsxRuntimeExports.jsxs("div",{className:"flex md:flex-row flex-col-reverse justify-between mb-[35px] gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:flex-1 flex flex-row max-w-[458px] py-2 pl-4 pr-2 h-[52px] bg-[#1c1c24] rounded-[100px]",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search for campaigns",className:"flex w-full font-epilogue font-normal text-[14px] placeholder:text-[#4b5264] text-white bg-transparent outline-none"}),jsxRuntimeExports.jsx("div",{className:"w-[72px] h-full rounded-[20px] bg-[#4acd8d] flex justify-center items-center cursor-pointer",children:jsxRuntimeExports.jsx("img",{src:search,alt:"search",className:"w-[15px] h-[15px] object-contain"})})]}),jsxRuntimeExports.jsxs("div",{className:"sm:flex hidden flex-row justify-end gap-4",children:[jsxRuntimeExports.jsx(CustomButton,{btnType:"button",title:ba?"Create a campaign":"Connect",styles:ba?"bg-[#1dc071]":"bg-[#8c6dfd]",handleClick:()=>{ba?vn("create-campaign"):An()}}),jsxRuntimeExports.jsx(Link$1,{to:"/profile",children:jsxRuntimeExports.jsx("div",{className:"w-[52px] h-[52px] rounded-full bg-[#2c2f32] flex justify-center items-center cursor-pointer",children:jsxRuntimeExports.jsx("img",{src:thirdweb,alt:"user",className:"w-[60%] h-[60%] object-contain"})})})]}),jsxRuntimeExports.jsxs("div",{className:"sm:hidden flex justify-between items-center relative",children:[jsxRuntimeExports.jsx("div",{className:"w-[40px] h-[40px] rounded-[10px] bg-[#2c2f32] flex justify-center items-center cursor-pointer",children:jsxRuntimeExports.jsx("img",{src:logo,alt:"user",className:"w-[60%] h-[60%] object-contain"})}),jsxRuntimeExports.jsx("img",{src:menu,alt:"menu",className:"w-[34px] h-[34px] object-contain cursor-pointer",onClick:()=>_i(xa=>!xa)}),jsxRuntimeExports.jsxs("div",{className:`absolute top-[60px] right-0 left-0 bg-[#1c1c24] z-10 shadow-secondary py-4 ${Cn?"translate-y-0":"-translate-y-[100vh]"} transition-all duration-700`,children:[jsxRuntimeExports.jsx("ul",{className:"mb-4",children:navlinks.map(xa=>jsxRuntimeExports.jsxs("li",{className:`flex p-4 ${fn===xa.name&&"bg-[#3a3a43]"}`,onClick:()=>{En(xa.name),_i(!1),vn(xa.link)},children:[jsxRuntimeExports.jsx("img",{src:xa.imgUrl,alt:xa.name,className:`w-[24px] h-[24px] object-contain ${fn===xa.name?"grayscale-0":"grayscale"}`}),jsxRuntimeExports.jsx("p",{className:`ml-[20px] font-epilogue font-semibold text-[14px] ${fn===xa.name?"text-[#1dc071]":"text-[#808191]"}`,children:xa.name})]},xa.name))}),jsxRuntimeExports.jsx("div",{className:"flex mx-4",children:jsxRuntimeExports.jsx(CustomButton,{btnType:"button",title:ba?"Create a campaign":"Connect",styles:ba?"bg-[#1dc071]":"bg-[#8c6dfd]",handleClick:()=>{ba?vn("create-campaign"):An()}})})]})]})]})},CustomButton=({btnType:vn,title:fn,handleClick:En,styles:Cn})=>jsxRuntimeExports.jsx("button",{type:vn,className:`font-epilogue font-semibold text-[16px] leading-[26px] text-white min-h-[52px] px-4 rounded-[10px] ${Cn}`,onClick:En,children:fn}),FormField=({labelName:vn,placeholder:fn,inputType:En,isTextArea:Cn,value:_i,handleChange:An})=>jsxRuntimeExports.jsxs("label",{className:"flex-1 w-full flex flex-col",children:[vn&&jsxRuntimeExports.jsx("span",{className:"font-epilogue font-medium text-[14px] leading-[22px] text-[#808191] mb-[10px]",children:vn}),Cn?jsxRuntimeExports.jsx("textarea",{required:!0,value:_i,onChange:An,rows:10,placeholder:fn,className:"py-[15px] sm:px-[25px] px-[15px] outline-none border-[1px] border-[#3a3a43] bg-transparent font-epilogue text-white text-[14px] placeholder:text-[#4b5264] rounded-[10px] sm:min-w-[300px]"}):jsxRuntimeExports.jsx("input",{required:!0,value:_i,onChange:An,type:En,step:"0.1",placeholder:fn,className:"py-[15px] sm:px-[25px] px-[15px] outline-none border-[1px] border-[#3a3a43] bg-transparent font-epilogue text-white text-[14px] placeholder:text-[#4b5264] rounded-[10px] sm:min-w-[300px]"})]}),daysLeft=vn=>((new Date(vn).getTime()-Date.now())/(1e3*3600*24)).toFixed(0),calculateBarPercentage=(vn,fn)=>Math.round(fn*100/vn),checkIfImage=(vn,fn)=>{const En=new Image;En.src=vn,En.complete&&fn(!0),En.onload=()=>fn(!0),En.onerror=()=>fn(!1)},FundCard=({owner:vn,title:fn,description:En,target:Cn,deadline:_i,amountCollected:An,image:ba,handleClick:xa})=>{const $a=daysLeft(_i);return jsxRuntimeExports.jsxs("div",{className:"sm:w-[288px] w-full rounded-[15px] bg-[#1c1c24] cursor-pointer",onClick:xa,children:[jsxRuntimeExports.jsx("img",{src:ba,alt:"fund",className:"w-full h-[158px] object-cover rounded-[15px]"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-row items-center mb-[18px]",children:[jsxRuntimeExports.jsx("img",{src:tagType,alt:"tag",className:"w-[17px] h-[17px] object-contain"}),jsxRuntimeExports.jsx("p",{className:"ml-[12px] mt-[2px] font-epilogue font-medium text-[12px] text-[#808191]",children:"Education"})]}),jsxRuntimeExports.jsxs("div",{className:"block",children:[jsxRuntimeExports.jsx("h3",{className:"font-epilogue font-semibold text-[16px] text-white text-left leading-[26px] truncate",children:fn}),jsxRuntimeExports.jsx("p",{className:"mt-[5px] font-epilogue font-normal text-[#808191] text-left leading-[18px] truncate",children:En})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between flex-wrap mt-[15px] gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("h4",{className:"font-epilogue font-semibold text-[14px] text-[#b2b3bd] leading-[22px]",children:An}),jsxRuntimeExports.jsxs("p",{className:"mt-[3px] font-epilogue font-normal text-[12px] leading-[18px] text-[#808191] sm:max-w-[120px] truncate",children:["Raised of ",Cn]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("h4",{className:"font-epilogue font-semibold text-[14px] text-[#b2b3bd] leading-[22px]",children:$a}),jsxRuntimeExports.jsx("p",{className:"mt-[3px] font-epilogue font-normal text-[12px] leading-[18px] text-[#808191] sm:max-w-[120px] truncate",children:"Days Left"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center mt-[20px] gap-[12px]",children:[jsxRuntimeExports.jsx("div",{className:"w-[30px] h-[30px] rounded-full flex justify-center items-center bg-[#13131a]",children:jsxRuntimeExports.jsx("img",{src:thirdweb,alt:"user",className:"w-1/2 h-1/2 object-contain"})}),jsxRuntimeExports.jsxs("p",{className:"flex-1 font-epilogue font-normal text-[12px] text-[#808191] truncate",children:["by ",jsxRuntimeExports.jsx("span",{className:"text-[#b2b3bd]",children:vn})]})]})]})]})},DisplayCampaigns=({title:vn,isLoading:fn,campaigns:En})=>{const Cn=useNavigate(),_i=An=>{Cn(`/campaign-details/${An.title}`,{state:An})};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h1",{className:"font-epilogue font-semibold text-[18px] text-white text-left",children:[vn," (",En.length,")"]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap mt-[20px] gap-[26px]",children:[fn&&jsxRuntimeExports.jsx("img",{src:loader,alt:"loader",className:"w-[100px] h-[100px] object-contain"}),!fn&&En.length===0&&jsxRuntimeExports.jsx("p",{className:"font-epilogue font-semibold text-[14px] leading-[30px] text-[#818183]",children:"You have not created any campigns yet"}),!fn&&En.length>0&&En.map(An=>jsxRuntimeExports.jsx(FundCard,{...An,handleClick:()=>_i(An)},v4()))]})]})},CountBox=({title:vn,value:fn})=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center w-[150px]",children:[jsxRuntimeExports.jsx("h4",{className:"font-epilogue font-bold text-[30px] text-white p-3 bg-[#1c1c24] rounded-t-[10px] w-full text-center truncate",children:fn}),jsxRuntimeExports.jsx("p",{className:"font-epilogue font-normal text-[16px] text-[#808191] bg-[#28282e] px-3 py-2 w-full rouned-b-[10px] text-center",children:vn})]}),Loader=()=>jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-10 h-screen bg-[rgba(0,0,0,0.7)] flex items-center justify-center flex-col",children:[jsxRuntimeExports.jsx("img",{src:loader,alt:"loader",className:"w-[100px] h-[100px] object-contain"}),jsxRuntimeExports.jsxs("p",{className:"mt-[20px] font-epilogue font-bold text-[20px] text-white text-center",children:["Transaction is in progress ",jsxRuntimeExports.jsx("br",{})," Please wait..."]})]}),Home=()=>{const[vn,fn]=reactExports.useState(!1),[En,Cn]=reactExports.useState([]),{address:_i,contract:An,getCampaigns:ba}=useStateContext(),xa=async()=>{fn(!0);const $a=await ba();Cn($a),fn(!1)};return reactExports.useEffect(()=>{An&&xa()},[_i,An]),jsxRuntimeExports.jsx(DisplayCampaigns,{title:"All Campaigns",isLoading:vn,campaigns:En})},Profile=()=>{const[vn,fn]=reactExports.useState(!1),[En,Cn]=reactExports.useState([]),{address:_i,contract:An,getUserCampaigns:ba}=useStateContext(),xa=async()=>{fn(!0);const $a=await ba();Cn($a),fn(!1)};return reactExports.useEffect(()=>{An&&xa()},[_i,An]),jsxRuntimeExports.jsx(DisplayCampaigns,{title:"All Campaigns",isLoading:vn,campaigns:En})},CreateCampaign=()=>{const vn=useNavigate(),[fn,En]=reactExports.useState(!1),{createCampaign:Cn}=useStateContext(),[_i,An]=reactExports.useState({name:"",title:"",description:"",target:"",deadline:"",image:""}),ba=($a,rs)=>{An({..._i,[$a]:rs.target.value})},xa=async $a=>{$a.preventDefault(),checkIfImage(_i.image,async rs=>{rs?(En(!0),await Cn({..._i,target:parseUnits(_i.target,18)}),En(!1),vn("/")):(alert("Provide valid image URL"),An({..._i,image:""}))})};return jsxRuntimeExports.jsxs("div",{className:"bg-[#1c1c24] flex justify-center items-center flex-col rounded-[10px] sm:p-10 p-4",children:[fn&&jsxRuntimeExports.jsx(Loader,{}),jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-[16px] sm:min-w-[380px] bg-[#3a3a43] rounded-[10px]",children:jsxRuntimeExports.jsx("h1",{className:"font-epilogue font-bold sm:text-[25px] text-[18px] leading-[38px] text-white",children:"Start a Campaign"})}),jsxRuntimeExports.jsxs("form",{onSubmit:xa,className:"w-full mt-[65px] flex flex-col gap-[30px]",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-[40px]",children:[jsxRuntimeExports.jsx(FormField,{labelName:"Your Name *",placeholder:"John Doe",inputType:"text",value:_i.name,handleChange:$a=>ba("name",$a)}),jsxRuntimeExports.jsx(FormField,{labelName:"Campaign Title *",placeholder:"Write a title",inputType:"text",value:_i.title,handleChange:$a=>ba("title",$a)})]}),jsxRuntimeExports.jsx(FormField,{labelName:"Story *",placeholder:"Write your story",isTextArea:!0,value:_i.description,handleChange:$a=>ba("description",$a)}),jsxRuntimeExports.jsxs("div",{className:"w-full flex justify-start items-center p-4 bg-[#8c6dfd] h-[120px] rounded-[10px]",children:[jsxRuntimeExports.jsx("img",{src:money,alt:"money",className:"w-[40px] h-[40px] object-contain"}),jsxRuntimeExports.jsx("h4",{className:"font-epilogue font-bold text-[25px] text-white ml-[20px]",children:"You will get 100% of the raised amount"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-[40px]",children:[jsxRuntimeExports.jsx(FormField,{labelName:"Goal *",placeholder:"ETH 0.50",inputType:"text",value:_i.target,handleChange:$a=>ba("target",$a)}),jsxRuntimeExports.jsx(FormField,{labelName:"End Date *",placeholder:"End Date",inputType:"date",value:_i.deadline,handleChange:$a=>ba("deadline",$a)})]}),jsxRuntimeExports.jsx(FormField,{labelName:"Campaign image *",placeholder:"Place image URL of your campaign",inputType:"url",value:_i.image,handleChange:$a=>ba("image",$a)}),jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center mt-[40px]",children:jsxRuntimeExports.jsx(CustomButton,{btnType:"submit",title:"Submit new campaign",styles:"bg-[#1dc071]"})})]})]})},CampaignDetails=()=>{const{state:vn}=useLocation(),fn=useNavigate(),{donate:En,getDonations:Cn,contract:_i,address:An}=useStateContext(),[ba,xa]=reactExports.useState(!1),[$a,rs]=reactExports.useState(""),[ts,is]=reactExports.useState([]),cs=daysLeft(vn.deadline),us=async()=>{const bs=await Cn(vn.pId);is(bs)};reactExports.useEffect(()=>{_i&&us()},[_i,An]);const ps=async()=>{xa(!0),await En(vn.pId,$a),fn("/"),xa(!1)};return jsxRuntimeExports.jsxs("div",{children:[ba&&jsxRuntimeExports.jsx(Loader,{}),jsxRuntimeExports.jsxs("div",{className:"w-full flex md:flex-row flex-col mt-10 gap-[30px]",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 flex-col",children:[jsxRuntimeExports.jsx("img",{src:vn.image,alt:"campaign",className:"w-full h-[410px] object-cover rounded-xl"}),jsxRuntimeExports.jsx("div",{className:"relative w-full h-[5px] bg-[#3a3a43] mt-2",children:jsxRuntimeExports.jsx("div",{className:"absolute h-full bg-[#4acd8d]",style:{width:`${calculateBarPercentage(vn.target,vn.amountCollected)}%`,maxWidth:"100%"}})})]}),jsxRuntimeExports.jsxs("div",{className:"flex md:w-[150px] w-full flex-wrap justify-between gap-[30px]",children:[jsxRuntimeExports.jsx(CountBox,{title:"Days Left",value:cs}),jsxRuntimeExports.jsx(CountBox,{title:`Raised of ${vn.target}`,value:vn.amountCollected}),jsxRuntimeExports.jsx(CountBox,{title:"Total Backers",value:ts.length})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-[60px] flex lg:flex-row flex-col gap-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex-[2] flex flex-col gap-[40px]",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-epilogue font-semibold text-[18px] text-white uppercase",children:"Creator"}),jsxRuntimeExports.jsxs("div",{className:"mt-[20px] flex flex-row items-center flex-wrap gap-[14px]",children:[jsxRuntimeExports.jsx("div",{className:"w-[52px] h-[52px] flex items-center justify-center rounded-full bg-[#2c2f32] cursor-pointer",children:jsxRuntimeExports.jsx("img",{src:thirdweb,alt:"user",className:"w-[60%] h-[60%] object-contain"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-epilogue font-semibold text-[14px] text-white break-all",children:vn.owner}),jsxRuntimeExports.jsx("p",{className:"mt-[4px] font-epilogue font-normal text-[12px] text-[#808191]",children:"10 Campaigns"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-epilogue font-semibold text-[18px] text-white uppercase",children:"Story"}),jsxRuntimeExports.jsx("div",{className:"mt-[20px]",children:jsxRuntimeExports.jsx("p",{className:"font-epilogue font-normal text-[16px] text-[#808191] leading-[26px] text-justify",children:vn.description})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-epilogue font-semibold text-[18px] text-white uppercase",children:"Donators"}),jsxRuntimeExports.jsx("div",{className:"mt-[20px] flex flex-col gap-4",children:ts.length>0?ts.map((bs,e0)=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center gap-4",children:[jsxRuntimeExports.jsxs("p",{className:"font-epilogue font-normal text-[16px] text-[#b2b3bd] leading-[26px] break-ll",children:[e0+1,". ",bs.donator]}),jsxRuntimeExports.jsx("p",{className:"font-epilogue font-normal text-[16px] text-[#808191] leading-[26px] break-ll",children:bs.donation})]},`${bs.donator}-${e0}`)):jsxRuntimeExports.jsx("p",{className:"font-epilogue font-normal text-[16px] text-[#808191] leading-[26px] text-justify",children:"No donators yet. Be the first one!"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-epilogue font-semibold text-[18px] text-white uppercase",children:"Fund"}),jsxRuntimeExports.jsxs("div",{className:"mt-[20px] flex flex-col p-4 bg-[#1c1c24] rounded-[10px]",children:[jsxRuntimeExports.jsx("p",{className:"font-epilogue fount-medium text-[20px] leading-[30px] text-center text-[#808191]",children:"Fund the campaign"}),jsxRuntimeExports.jsxs("div",{className:"mt-[30px]",children:[jsxRuntimeExports.jsx("input",{type:"number",placeholder:"ETH 0.1",step:"0.01",className:"w-full py-[10px] sm:px-[20px] px-[15px] outline-none border-[1px] border-[#3a3a43] bg-transparent font-epilogue text-white text-[18px] leading-[30px] placeholder:text-[#4b5264] rounded-[10px]",value:$a,onChange:bs=>rs(bs.target.value)}),jsxRuntimeExports.jsxs("div",{className:"my-[20px] p-4 bg-[#13131a] rounded-[10px]",children:[jsxRuntimeExports.jsx("h4",{className:"font-epilogue font-semibold text-[14px] leading-[22px] text-white",children:"Back it because you believe in it."}),jsxRuntimeExports.jsx("p",{className:"mt-[20px] font-epilogue font-normal leading-[22px] text-[#808191]",children:"Support the project for no reward, just because it speaks to you."})]}),jsxRuntimeExports.jsx(CustomButton,{btnType:"button",title:"Fund Campaign",styles:"w-full bg-[#8c6dfd]",handleClick:ps})]})]})]})]})]})},App=()=>jsxRuntimeExports.jsxs("div",{className:"relative sm:-8 p-4 bg-[#13131a] min-h-screen flex flex-row",children:[jsxRuntimeExports.jsx("div",{className:"sm:flex hidden mr-10 relative",children:jsxRuntimeExports.jsx(Sidebar,{})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 max-sm:w-full max-w-[1280px] mx-auto sm:pr-5",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/profile",element:jsxRuntimeExports.jsx(Profile,{})}),jsxRuntimeExports.jsx(Route,{path:"/create-campaign",element:jsxRuntimeExports.jsx(CreateCampaign,{})}),jsxRuntimeExports.jsx(Route,{path:"/campaign-details/:id",element:jsxRuntimeExports.jsx(CampaignDetails,{})})]})]})]}),root=client.createRoot(document.getElementById("root"));root.render(jsxRuntimeExports.jsx(ThirdwebProvider,{activeChain:c11155111,clientId:"735973a31ca9c1a532fc64c308c45633",children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(StateContextProvider,{children:jsxRuntimeExports.jsx(App,{})})})}));export{AmountSchema as $,AddChainError as A,BigNumber as B,Connector as C,joinABIs as D,CommonContractSchema as E,FEATURE_ACCOUNT as F,generateExtensionFunctions as G,THIRDWEB_DEPLOYER$1 as H,Interface as I,fetchPublishedContractFromPolygon as J,getDeploymentInfo as K,deployWithThrowawayDeployer as L,deployContractDeterministic as M,FEATURE_AIRDROP_ERC20 as N,FEATURE_AIRDROP_ERC721 as O,FEATURE_AIRDROP_ERC1155 as P,AddressZero as Q,ResourceUnavailableError as R,SwitchChainError as S,Transaction as T,UserRejectedRequestError as U,parseEther as V,WagmiConnector as W,resolveAddress as X,extractCommentFromMetadata as Y,z$8 as Z,_defineProperty as _,getAddress as a,FEATURE_EDITION_CLAIM_CUSTOM as a$,AddressOrEnsSchema as a0,ContractWrapper as a1,ContractEncoder as a2,CustomContractSchema as a3,ALL_ROLES as a4,FEATURE_ROYALTY as a5,FEATURE_PERMISSIONS as a6,FEATURE_PRIMARY_SALE as a7,FEATURE_PLATFORM_FEE as a8,FEATURE_OWNER as a9,process$1 as aA,getInjectedXDEFIProvider as aB,ExtensionNotImplementedError as aC,isExtensionEnabled as aD,FEATURE_METADATA as aE,EventType as aF,estimateTransactionCost as aG,formatUnits as aH,replaceGatewayUrlWithScheme as aI,formatEther as aJ,CommonRoyaltySchema as aK,keccak256 as aL,defaultAbiCoder as aM,hexDataLength as aN,normalizePriceValue as aO,NATIVE_TOKEN_ADDRESS as aP,CommonPlatformFeeSchema as aQ,getRoleHash as aR,MissingRoleError as aS,AddressZero$1 as aT,FEATURE_EDITION_SUPPLY as aU,FEATURE_EDITION_ENUMERABLE as aV,FEATURE_EDITION_MINTABLE as aW,FEATURE_EDITION_BATCH_MINTABLE as aX,FEATURE_EDITION_BURNABLE as aY,FEATURE_EDITION_LAZY_MINTABLE_V2 as aZ,FEATURE_EDITION_UPDATABLE_METADATA as a_,FEATURE_TOKEN as aa,FEATURE_NFT as ab,FEATURE_EDITION as ac,FEATURE_APPURI as ad,FEATURE_DIRECT_LISTINGS as ae,FEATURE_ENGLISH_AUCTIONS as af,FEATURE_OFFERS as ag,ContractFactory$1 as ah,Contract as ai,global$1 as aj,EmbeddedWalletSdk as ak,UserWalletStatus as al,AuthProvider as am,getInjectedOKXProvider as an,getInjectedCoreWalletProvider as ao,getInjectedOneKeyProvider as ap,getInjectedCryptoDefiWalletProvider as aq,getInjectedRabbyProvider as ar,getInjectedCoin98Provider as as,n as at,getDefaultProvider as au,o as av,Signer as aw,defineReadOnly as ax,utils$t as ay,getDefaultGasOverrides as az,Web3Provider as b,require$$0$a as b$,FEATURE_EDITION_CLAIM_CONDITIONS_V2 as b0,FEATURE_EDITION_SIGNATURE_MINTABLE as b1,FEATURE_EDITION_REVEALABLE as b2,NotFoundError as b3,MaxUint256$1 as b4,getPrebuiltInfo as b5,includesErrorMessage as b6,stripZeros as b7,isNode as b8,isNativeToken as b9,BasisPointsSchema as bA,BigNumberSchema as bB,AuctionHasNotEndedError as bC,NATIVE_TOKENS as bD,BigNumberishSchema as bE,Buffer$1$1 as bF,Buffer$7 as bG,v4 as bH,hexlify as bI,SnapshotSchema as bJ,AddressSchema$1 as bK,keccak256$1 as bL,SnapshotEntryWithProofSchema as bM,QuantitySchema as bN,BytesLikeSchema as bO,SnapshotInputSchema as bP,DuplicateLeafsError as bQ,getDefaultExportFromCjs$1 as bR,FileOrBufferOrStringSchema as bS,HexColor as bT,BigNumberTransformSchema$1 as bU,arrayify as bV,MAX_BPS as bW,commonjsGlobal as bX,require$$0$9 as bY,require$$1$5 as bZ,commonjsRequire as b_,hexZeroPad as ba,fetchCurrencyMetadata as bb,FEATURE_TOKEN_MINTABLE as bc,FEATURE_TOKEN_BATCH_MINTABLE as bd,FEATURE_TOKEN_BURNABLE as be,FEATURE_TOKEN_CLAIM_CONDITIONS_V2 as bf,FEATURE_TOKEN_SIGNATURE_MINTABLE as bg,fetchCurrencyValue as bh,parseUnits as bi,FEATURE_NFT_SUPPLY as bj,FEATURE_NFT_MINTABLE as bk,FEATURE_NFT_BATCH_MINTABLE as bl,FEATURE_NFT_BURNABLE as bm,FEATURE_NFT_LOYALTY_CARD as bn,FEATURE_NFT_LAZY_MINTABLE as bo,FEATURE_NFT_UPDATABLE_METADATA as bp,FEATURE_NFT_CLAIM_CUSTOM as bq,FEATURE_NFT_CLAIM_CONDITIONS_V2 as br,FEATURE_NFT_TIERED_DROP as bs,FEATURE_NFT_SIGNATURE_MINTABLE_V2 as bt,FEATURE_NFT_REVEALABLE as bu,FEATURE_NFT_SHARED_METADATA as bv,FEATURE_NFT_CLAIM_ZORA as bw,isFileOrBuffer as bx,FEATURE_NFT_ENUMERABLE as by,FEATURE_NFT_QUERYABLE as bz,__vitePreload as c,signTypedDataInternal as c$,eventsExports as c0,inherits_browserExports as c1,getAugmentedNamespace as c2,getIntrinsic as c3,callBound$2 as c4,type as c5,requireStreamBrowserify as c6,util$1 as c7,bnExports$2 as c8,requireBrowser$b as c9,requireEndOfStream as cA,requirePipeline as cB,isZkSyncChain as cC,ENTRYPOINT_ADDRESS as cD,serialize$1 as cE,splitSignature as cF,hexConcat as cG,encode$c as cH,isTwUrl as cI,setAnalyticsHeaders as cJ,StaticJsonRpcProvider as cK,MANAGED_ACCOUNT_GAS_BUFFER as cL,resolveProperties as cM,concat$3 as cN,DEFAULT_FACTORY_ADDRESS as cO,ThirdwebSDK as cP,ACCOUNT_CORE_ABI as cQ,getGasPrice as cR,dist as cS,LOCAL_NODE_PKEY as cT,Wallet as cU,BaseProvider as cV,getDynamicFeeData as cW,c42220 as cX,c44787 as cY,c62320 as cZ,chainIdToThirdwebRpc as c_,requireElliptic as ca,requireBrowser$9 as cb,require$$0$8 as cc,require$$1$4 as cd,require$$0 as ce,require$$2$3 as cf,require$$1$2 as cg,ethers as ch,BaseContract as ci,hashMessage as cj,FixedFormat as ck,FixedNumber as cl,_base16To36 as cm,_base36To16 as cn,formatFixed as co,parseFixed as cp,shams$1 as cq,hasPropertyDescriptors_1 as cr,defineDataProperty as cs,callBindExports as ct,lib_esm$c as cu,require_stream_readable$1 as cv,require_stream_writable$1 as cw,require_stream_duplex$1 as cx,require_stream_transform$1 as cy,require_stream_passthrough$1 as cz,ChainNotConfiguredError as d,y$5 as d$,checkContractWalletSignature as d0,ERC6551_REGISTRY as d1,getInjectedMagicEdenProvider as d2,NFT_BASE_CONTRACT_ROLES as d3,DropErc1155ContractSchema as d4,ChainId as d5,TokenErc1155ContractSchema as d6,MARKETPLACE_CONTRACT_ROLES as d7,MarketplaceContractSchema as d8,ListingNotFoundError as d9,EventEmitter$1 as dA,sha_jsExports as dB,IEvents as dC,require$$0$5 as dD,cjs$3 as dE,getWindowMetadata_1 as dF,getNavigator_1 as dG,getDocument_1 as dH,sha256 as dI,fromString as dJ,toString$1 as dK,x25519 as dL,random as dM,HKDF_1 as dN,chacha20poly1305 as dO,concat as dP,queryString as dQ,C$3 as dR,detect as dS,getLocation_1 as dT,r$1 as dU,formatJsonRpcRequest as dV,getBigIntRpcId as dW,isJsonRpcError as dX,isJsonRpcResponse as dY,Yi as dZ,E$1 as d_,WrongListingTypeError as da,AuctionAlreadyStartedError as db,isAddress as dc,MULTIWRAP_CONTRACT_ROLES as dd,MultiwrapContractSchema as de,TokenErc721ContractSchema as df,DropErc721ContractSchema as dg,PACK_CONTRACT_ROLES as dh,FEATURE_PACK_VRF as di,PackContractSchema as dj,IPackVRFAbi as dk,LINK_TOKEN_ADDRESS as dl,ADMIN_ROLE as dm,SplitsContractSchema as dn,TOKEN_DROP_CONTRACT_ROLES as dp,DropErc20ContractSchema as dq,TokenErc20ContractSchema as dr,VoteContractSchema as ds,lib_esm$i as dt,require$$4$2 as du,require$$0$7 as dv,require$$2$2 as dw,lib_esm$d as dx,requireCryptoBrowserify as dy,require$$1$3 as dz,getValidPublicRPCUrl as e,k$3 as e0,A$2 as e1,h$3 as e2,generateKeyPair as e3,encodeIss as e4,signJWT as e5,safeJsonStringify as e6,safeJsonParse as e7,Hg as e8,f$3 as e9,isJsonRpcRequest as ea,formatJsonRpcResult as eb,Wg as ec,formatJsonRpcError as ed,isJsonRpcResult as ee,Hi as ef,payloadId as eg,isHttpUrl as eh,parseConnectionError as ei,browser as ej,IERC20 as ek,IERC721 as el,IERC721Metadata as em,IERC1155 as en,IERC1155Metadata as eo,ConnectorNotFoundError as f,getChainProvider as g,hexValue as h,getInjectedMetamaskProvider as i,assertWindowEthereum as j,getInjectedRainbowProvider as k,getInjectedPhantomProvider as l,FEATURE_ACCOUNT_PERMISSIONS as m,normalizeChainId as n,buildTransactionFunction as o,FEATURE_ACCOUNT_FACTORY as p,isContractDeployed as q,fetchContractMetadataFromAddress as r,fetchSourceFilesFromMetadata as s,toUtf8Bytes as t,extractFunctionsFromAbi as u,AbiSchema as v,walletIds as w,FEATURE_DYNAMIC_CONTRACT as x,invariant as y,id as z};
