import{bX as Y,c0 as S,bR as fe}from"./index-CBGS744k.js";const Z=t=>t==="injected"?"injected":t.endsWith(".ipc")?"ipc":t.startsWith("wss://")||t.startsWith("ws://")?"ws":t.startsWith("https://")||t.startsWith("http://")?"http":"";var le=(t,n)=>[].concat(...[].concat(t).map(e=>n[e]?n[e].map(i=>({type:e,location:i,protocol:Z(i)})):{type:"custom",location:e,protocol:Z(e)})).filter(e=>e.protocol||e.type==="injected"?!0:(console.log('eth-provider | Invalid provider preset/location: "'+e.location+'"'),!1)),K={},M={};Object.defineProperty(M,"__esModule",{value:!0});M.create=void 0;function pe(t,n=[],e,i){const s={id:e,method:t,params:n,jsonrpc:"2.0"};if(i&&(s.chainId=i),s.method==="eth_sendTransaction"){const r=me(s);if(r)throw new Error(`Payload chainId (${r}) inconsistent with specified target chainId: ${i}`);return ve(s)}return s}M.create=pe;function me(t){if(t.method!=="eth_sendTransaction")return!1;const n=t.params[0]||{},e=n.chainId;return"chainId"in n&&parseInt(e)!==parseInt(t.chainId||e)}function ve(t){const n=t.params[0]||{};return{...t,params:[{...n,chainId:n.chainId||t.chainId},...t.params.slice(1)]}}var _e=Y&&Y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(K,"__esModule",{value:!0});const ge=_e(S),be=M;class ye extends ge.default{constructor(n){super(),this.promises={},this.attemptedSubscriptions=new Set,this.subscriptions=[],this.checkConnectionRunning=!1,this.nextId=1,this.connected=!1,this.accounts=[],this.selectedAddress=void 0,this.coinbase=void 0,this.enable=this.enable.bind(this),this.doSend=this.doSend.bind(this),this.send=this.send.bind(this),this.sendBatch=this.sendBatch.bind(this),this.subscribe=this.subscribe.bind(this),this.unsubscribe=this.unsubscribe.bind(this),this.resumeSubscriptions=this.resumeSubscriptions.bind(this),this.sendAsync=this.sendAsync.bind(this),this.sendAsyncBatch=this.sendAsyncBatch.bind(this),this.isConnected=this.isConnected.bind(this),this.close=this.close.bind(this),this.request=this.request.bind(this),this.connection=n,this.on("connect",this.resumeSubscriptions),this.connection.on("connect",()=>this.checkConnection(1e3)),this.connection.on("close",()=>{this.connected=!1,this.attemptedSubscriptions.clear(),this.emit("close"),this.emit("disconnect")}),this.connection.on("payload",e=>{const{id:i,method:s,error:r,result:o}=e;if(typeof i<"u"){if(this.promises[i]){const c=this.promises[i].method;if(c&&["eth_accounts","eth_requestAccounts"].includes(c)){const a=o||[];this.accounts=a,this.selectedAddress=a[0],this.coinbase=a[0]}e.error?this.promises[i].reject(r):this.promises[i].resolve(o),delete this.promises[i]}}else s&&s.indexOf("_subscription")>-1&&(this.emit(e.params.subscription,e.params.result),this.emit(s,e.params),this.emit("message",{type:e.method,data:{subscription:e.params.subscription,result:e.params.result}}),this.emit("data",e))}),this.on("newListener",e=>{Object.keys(this.eventHandlers).includes(e)&&!this.attemptedSubscription(e)&&this.connected&&(this.startSubscription(e),e==="networkChanged"&&console.warn("The networkChanged event is being deprecated, use chainChanged instead"))}),this.eventHandlers={networkChanged:e=>{this.networkVersion=typeof e=="string"?parseInt(e):e,this.emit("networkChanged",this.networkVersion)},chainChanged:e=>{this.providerChainId=e,this.manualChainId||this.emit("chainChanged",e)},chainsChanged:e=>{this.emit("chainsChanged",e)},accountsChanged:e=>{this.selectedAddress=e[0],this.emit("accountsChanged",e)},assetsChanged:e=>{this.emit("assetsChanged",e)}}}get chainId(){return this.manualChainId||this.providerChainId}async checkConnection(n=4e3){if(!(this.checkConnectionRunning||this.connected)){clearTimeout(this.checkConnectionTimer),this.checkConnectionTimer=void 0,this.checkConnectionRunning=!0;try{this.networkVersion=await this.doSend("net_version",[],void 0,!1),this.providerChainId=await this.doSend("eth_chainId",[],void 0,!1),this.connected=!0}catch{this.checkConnectionTimer=setTimeout(()=>this.checkConnection(),n),this.connected=!1}finally{this.checkConnectionRunning=!1,this.connected&&this.emit("connect",{chainId:this.providerChainId})}}}attemptedSubscription(n){return this.attemptedSubscriptions.has(n)}setSubscriptionAttempted(n){this.attemptedSubscriptions.add(n)}async startSubscription(n){console.debug(`starting subscription for ${n} events`),this.setSubscriptionAttempted(n);try{const e=await this.subscribe("eth_subscribe",n);this.on(e,this.eventHandlers[n])}catch(e){console.warn(`Unable to subscribe to ${n}`,e)}}resumeSubscriptions(){Object.keys(this.eventHandlers).forEach(n=>{this.listenerCount(n)&&!this.attemptedSubscription(n)&&this.startSubscription(n)})}async enable(){const n=await this.doSend("eth_accounts");if(n.length>0)return this.accounts=n,this.selectedAddress=n[0],this.coinbase=n[0],this.emit("enable"),n;{const e=new Error("User Denied Full Provider");throw e.code="4001",e}}doSend(n,e=[],i=this.manualChainId,s=!0){const r=(o,c)=>{const a=typeof n=="object"?n.method:n,d=typeof n=="object"?n.params:e,u=typeof n=="object"&&n.chainId||i;if(!a)return c(new Error("Method is not a valid string."));try{const h=(0,be.create)(a,d,this.nextId++,u);this.promises[h.id]={resolve:f=>o(f),reject:c,method:h.method},this.connection.send(h)}catch(h){c(h)}};return this.connected||!s?new Promise(r):new Promise((o,c)=>{const a=()=>(clearTimeout(d),o(new Promise(r))),d=setTimeout(()=>{this.off("connect",a),c(new Error("Not connected"))},5e3);this.once("connect",a)})}async send(n,e){if(typeof n=="string"&&(!e||Array.isArray(e))){const i=e;return this.doSend(n,i)}if(n&&typeof n=="object"&&typeof e=="function"){const i=e;return this.sendAsync(n,i)}return this.request(n)}sendBatch(n){return Promise.all(n.map(e=>this.doSend(e.method,e.params)))}async subscribe(n,e,i=[]){const s=await this.doSend(n,[e,...i]);return this.subscriptions.push(s),s}async unsubscribe(n,e){const i=await this.doSend(n,[e]);if(i)return this.subscriptions=this.subscriptions.filter(s=>s!==e),this.removeAllListeners(e),i}async sendAsync(n,e){if(!e||typeof e!="function")return new Error("Invalid or undefined callback provided to sendAsync");if(!n)return e(new Error("Invalid Payload"));if(Array.isArray(n)){const i=n.map(r=>({...r,jsonrpc:"2.0"})),s=e;return this.sendAsyncBatch(i,s)}else{const i={...n,jsonrpc:"2.0"},s=e;try{const r=await this.doSend(i.method,i.params);s(null,{id:i.id,jsonrpc:i.jsonrpc,result:r})}catch(r){s(r)}}}async sendAsyncBatch(n,e){try{const s=(await this.sendBatch(n)).map((r,o)=>({id:n[o].id,jsonrpc:n[o].jsonrpc,result:r}));e(null,s)}catch(i){e(i)}}isConnected(){return this.connected}close(){this.connection&&this.connection.close&&this.connection.close(),this.off("connect",this.resumeSubscriptions),this.connected=!1;const n=new Error("Provider closed, subscription lost, please subscribe again.");this.subscriptions.forEach(e=>this.emit(e,n)),this.subscriptions=[],this.manualChainId=void 0,this.providerChainId=void 0,this.networkVersion=void 0,this.selectedAddress=void 0,this.coinbase=void 0}async request(n){return this.doSend(n.method,n.params,n.chainId)}setChain(n){typeof n=="number"&&(n="0x"+n.toString(16));const e=n!==this.chainId;this.manualChainId=n,e&&this.emit("chainChanged",this.chainId)}}K.default=ye;const we=S;let Se=class extends we{constructor(n,e,i){super(),this.targets=e,this.options=i,this.connections=n,this.connected=!1,this.status="loading",this.interval=i.interval||5e3,this.name=i.name||"default",this.inSetup=!0,this.connect()}connect(n=0){if(!(this.connection&&this.connection.status==="connected"&&n>=this.connection.index)){if(this.targets.length!==0){const{protocol:e,location:i}=this.targets[n];this.connection=this.connections[e](i,this.options);const s=r=>this.connectionError(n,r);this.connection.once("error",s),this.connection.on("connect",()=>{this.connection.off("error",s),this.connection.once("error",r=>this.onError(r)),this.connection.once("close",()=>{this.connected=!1,this.emitClose(),this.closing||this.refresh()}),this.connection.target=this.targets[n],this.connection.index=n,this.targets[n].status=this.connection.status,this.connected=!0,this.inSetup=!1,this.emit("connect")}),this.connection.on("data",r=>this.emit("data",r)),this.connection.on("payload",r=>this.emit("payload",r))}}}onError(n){if(this.listenerCount("error"))return this.emit("error",n);console.warn("[eth-provider] Uncaught connection error: "+n.message)}refresh(n=this.interval){clearTimeout(this.connectTimer),this.connectTimer=setTimeout(()=>this.connect(),n)}connectionError(n,e){this.connection&&this.connection.close&&this.connection.close(),this.targets[n].status=e,this.targets.length-1===n?(this.inSetup=!1,this.refresh()):this.connect(++n)}emitClose(){this.emit("close")}close(){this.closing=!0,this.connection&&this.connection.close&&!this.connection.closed?this.connection.close():this.emit("close"),clearTimeout(this.connectTimer),clearTimeout(this.setupTimer)}error(n,e,i=-1){this.emit("payload",{id:n.id,jsonrpc:n.jsonrpc,error:{message:e,code:i}})}send(n){this.inSetup?this.setupTimer=setTimeout(()=>this.send(n),100):this.connection.closed?this.error(n,"Not connected",4900):this.connection.send(n)}};var Ie=Se;const Ce=S,Ee=K.default,$e=Ie,z=t=>{function n(s){t.status=s,t instanceof Ce&&t.emit("status",s)}async function e(){try{await t.send("eth_syncing")&&n("syncing")}catch{}}async function i(){if(t.inSetup)return setTimeout(i,1e3);try{await t.send("eth_chainId"),n("connected"),setTimeout(e,500)}catch{n("disconnected")}}return n("loading"),i(),t.on("connect",()=>i()),t.on("close",()=>n("disconnected")),t};var ke=(t,n,e)=>{if(t.injected.__isProvider&&n.map(s=>s.type).indexOf("injected")>-1)return delete t.injected.__isProvider,z(t.injected);const i=new Ee(new $e(t,n,e));return i.setMaxListeners(128),z(i)},Te=(t={})=>({injected:["injected"],frame:["ws://127.0.0.1:1248","http://127.0.0.1:1248"],direct:["ws://127.0.0.1:8546","http://127.0.0.1:8545"],infura:[`wss://mainnet.infura.io/ws/v3/${t.infuraId}`,`https://mainnet.infura.io/v3/${t.infuraId}`],alchemy:[`wss://eth-mainnet.ws.alchemyapi.io/v2/${t.alchemyId}`,`https://eth-mainnet.alchemyapi.io/v2/${t.alchemyId}`],infuraPolygon:[`https://polygon-mainnet.infura.io/v3/${t.infuraId}`],infuraArbitrum:[`https://arbitrum-mainnet.infura.io/v3/${t.infuraId}`],infuraOptimism:[`https://optimism-mainnet.infura.io/v3/${t.infuraId}`],infuraSepolia:[`wss://sepolia.infura.io/ws/v3/${t.infuraId}`,`https://sepolia.infura.io/v3/${t.infuraId}`],gnosis:["https://rpc.gnosischain.com"],optimism:["https://mainnet.optimism.io"]}),W,ee;function Me(){if(ee)return W;ee=1;const t=S;class n extends t{constructor(i,s){super(),setTimeout(i?()=>this.onError(new Error("Injected web3 provider is not currently supported")):()=>this.onError(new Error("No injected provider found")),0)}onError(i){this.listenerCount("error")&&this.emit("error",i)}}return W=e=>i=>new n(e,i),W}const Ae=S;class je extends Ae{constructor(n){super(),setTimeout(()=>this.onError(new Error(n)),0)}onError(n){this.listenerCount("error")&&this.emit("error",n)}}var Oe=t=>()=>new je(t);let $,B;var Pe=(t,n)=>{const e=[];t.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(i=>{$&&(i=$+i);let s;try{s=JSON.parse(i)}catch{$=i,clearTimeout(B),B=setTimeout(()=>n(new Error("Parse response timeout")),15*1e3);return}clearTimeout(B),$=null,s&&e.push(s)}),n(null,e)};const Ue=S,Re=Pe;let C;class Le extends Ue{constructor(n,e,i){super(),this.socketListeners=[],C=n,setTimeout(()=>this.create(e,i),0)}create(n,e){if(!C)return this.onError(new Error("No WebSocket transport available"));try{this.socket=new C(n,[],{origin:e.origin})}catch(i){return this.onError(i)}this.addSocketListener("error",this.onError.bind(this)),this.addSocketListener("open",this.onOpen.bind(this)),this.addSocketListener("close",this.onClose.bind(this))}addSocketListener(n,e){this.socket.addEventListener(n,e),this.socketListeners.push({event:n,handler:e})}removeAllSocketListeners(){this.socketListeners.forEach(({event:n,handler:e})=>{this.socket.removeEventListener(n,e)}),this.socketListeners=[]}onOpen(){this.emit("connect"),this.addSocketListener("message",this.onMessage.bind(this))}onMessage(n){const e=typeof n.data=="string"?n.data:"";Re(e,(i,s)=>{i||s.forEach(r=>{Array.isArray(r)?r.forEach(o=>this.emit("payload",o)):this.emit("payload",r)})})}onError(n){this.listenerCount("error")&&this.emit("error",n)}onClose(n){n&&n.reason,n&&n.code,this.socket&&(this.removeAllSocketListeners(),this.socket=null),this.closed=!0,this.emit("close"),this.removeAllListeners()}close(){this.socket&&C&&this.socket.readyState!==C.CLOSED?(this.removeAllSocketListeners(),this.addSocketListener("error",()=>{}),this.addSocketListener("close",this.onClose.bind(this)),this.socket.terminate?this.socket.terminate():this.socket.close()):this.onClose()}error(n,e,i=-1){this.emit("payload",{id:n.id,jsonrpc:n.jsonrpc,error:{message:e,code:i}})}send(n){try{this.socket&&this.socket.readyState===this.socket.CONNECTING?setTimeout(e=>this.send(n),10):!this.socket||this.socket.readyState>1?(this.connected=!1,this.error(n,"Not connected")):this.socket.send(JSON.stringify(n))}catch(e){this.error(n,e.message)}}}var De=t=>(n,e)=>new Le(t,n,e),ie={},A={},j={};Object.defineProperty(j,"__esModule",{value:!0});j.default=Ne;let k;const qe=new Uint8Array(16);function Ne(){if(!k&&(k=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!k))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return k(qe)}var w={},I={},O={};Object.defineProperty(O,"__esModule",{value:!0});O.default=void 0;var xe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;O.default=xe;Object.defineProperty(I,"__esModule",{value:!0});I.default=void 0;var He=We(O);function We(t){return t&&t.__esModule?t:{default:t}}function Be(t){return typeof t=="string"&&He.default.test(t)}var Ve=Be;I.default=Ve;Object.defineProperty(w,"__esModule",{value:!0});w.default=void 0;w.unsafeStringify=se;var Je=Xe(I);function Xe(t){return t&&t.__esModule?t:{default:t}}const p=[];for(let t=0;t<256;++t)p.push((t+256).toString(16).slice(1));function se(t,n=0){return(p[t[n+0]]+p[t[n+1]]+p[t[n+2]]+p[t[n+3]]+"-"+p[t[n+4]]+p[t[n+5]]+"-"+p[t[n+6]]+p[t[n+7]]+"-"+p[t[n+8]]+p[t[n+9]]+"-"+p[t[n+10]]+p[t[n+11]]+p[t[n+12]]+p[t[n+13]]+p[t[n+14]]+p[t[n+15]]).toLowerCase()}function Fe(t,n=0){const e=se(t,n);if(!(0,Je.default)(e))throw TypeError("Stringified UUID is invalid");return e}var Ge=Fe;w.default=Ge;Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var Ke=Ye(j),Qe=w;function Ye(t){return t&&t.__esModule?t:{default:t}}let te,V,J=0,X=0;function Ze(t,n,e){let i=n&&e||0;const s=n||new Array(16);t=t||{};let r=t.node||te,o=t.clockseq!==void 0?t.clockseq:V;if(r==null||o==null){const f=t.random||(t.rng||Ke.default)();r==null&&(r=te=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),o==null&&(o=V=(f[6]<<8|f[7])&16383)}let c=t.msecs!==void 0?t.msecs:Date.now(),a=t.nsecs!==void 0?t.nsecs:X+1;const d=c-J+(a-X)/1e4;if(d<0&&t.clockseq===void 0&&(o=o+1&16383),(d<0||c>J)&&t.nsecs===void 0&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");J=c,X=a,V=o,c+=122192928e5;const u=((c&268435455)*1e4+a)%4294967296;s[i++]=u>>>24&255,s[i++]=u>>>16&255,s[i++]=u>>>8&255,s[i++]=u&255;const h=c/4294967296*1e4&268435455;s[i++]=h>>>8&255,s[i++]=h&255,s[i++]=h>>>24&15|16,s[i++]=h>>>16&255,s[i++]=o>>>8|128,s[i++]=o&255;for(let f=0;f<6;++f)s[i+f]=r[f];return n||(0,Qe.unsafeStringify)(s)}var ze=Ze;A.default=ze;var P={},y={},E={};Object.defineProperty(E,"__esModule",{value:!0});E.default=void 0;var et=tt(I);function tt(t){return t&&t.__esModule?t:{default:t}}function nt(t){if(!(0,et.default)(t))throw TypeError("Invalid UUID");let n;const e=new Uint8Array(16);return e[0]=(n=parseInt(t.slice(0,8),16))>>>24,e[1]=n>>>16&255,e[2]=n>>>8&255,e[3]=n&255,e[4]=(n=parseInt(t.slice(9,13),16))>>>8,e[5]=n&255,e[6]=(n=parseInt(t.slice(14,18),16))>>>8,e[7]=n&255,e[8]=(n=parseInt(t.slice(19,23),16))>>>8,e[9]=n&255,e[10]=(n=parseInt(t.slice(24,36),16))/1099511627776&255,e[11]=n/4294967296&255,e[12]=n>>>24&255,e[13]=n>>>16&255,e[14]=n>>>8&255,e[15]=n&255,e}var it=nt;E.default=it;Object.defineProperty(y,"__esModule",{value:!0});y.URL=y.DNS=void 0;y.default=at;var st=w,rt=ot(E);function ot(t){return t&&t.__esModule?t:{default:t}}function ct(t){t=unescape(encodeURIComponent(t));const n=[];for(let e=0;e<t.length;++e)n.push(t.charCodeAt(e));return n}const re="6ba7b810-9dad-11d1-80b4-00c04fd430c8";y.DNS=re;const oe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";y.URL=oe;function at(t,n,e){function i(s,r,o,c){var a;if(typeof s=="string"&&(s=ct(s)),typeof r=="string"&&(r=(0,rt.default)(r)),((a=r)===null||a===void 0?void 0:a.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+s.length);if(d.set(r),d.set(s,r.length),d=e(d),d[6]=d[6]&15|n,d[8]=d[8]&63|128,o){c=c||0;for(let u=0;u<16;++u)o[c+u]=d[u];return o}return(0,st.unsafeStringify)(d)}try{i.name=t}catch{}return i.DNS=re,i.URL=oe,i}var U={};Object.defineProperty(U,"__esModule",{value:!0});U.default=void 0;function ut(t){if(typeof t=="string"){const n=unescape(encodeURIComponent(t));t=new Uint8Array(n.length);for(let e=0;e<n.length;++e)t[e]=n.charCodeAt(e)}return dt(ht(ft(t),t.length*8))}function dt(t){const n=[],e=t.length*32,i="0123456789abcdef";for(let s=0;s<e;s+=8){const r=t[s>>5]>>>s%32&255,o=parseInt(i.charAt(r>>>4&15)+i.charAt(r&15),16);n.push(o)}return n}function ce(t){return(t+64>>>9<<4)+14+1}function ht(t,n){t[n>>5]|=128<<n%32,t[ce(n)-1]=n;let e=1732584193,i=-271733879,s=-1732584194,r=271733878;for(let o=0;o<t.length;o+=16){const c=e,a=i,d=s,u=r;e=m(e,i,s,r,t[o],7,-680876936),r=m(r,e,i,s,t[o+1],12,-389564586),s=m(s,r,e,i,t[o+2],17,606105819),i=m(i,s,r,e,t[o+3],22,-1044525330),e=m(e,i,s,r,t[o+4],7,-176418897),r=m(r,e,i,s,t[o+5],12,1200080426),s=m(s,r,e,i,t[o+6],17,-1473231341),i=m(i,s,r,e,t[o+7],22,-45705983),e=m(e,i,s,r,t[o+8],7,1770035416),r=m(r,e,i,s,t[o+9],12,-1958414417),s=m(s,r,e,i,t[o+10],17,-42063),i=m(i,s,r,e,t[o+11],22,-1990404162),e=m(e,i,s,r,t[o+12],7,1804603682),r=m(r,e,i,s,t[o+13],12,-40341101),s=m(s,r,e,i,t[o+14],17,-1502002290),i=m(i,s,r,e,t[o+15],22,1236535329),e=v(e,i,s,r,t[o+1],5,-165796510),r=v(r,e,i,s,t[o+6],9,-1069501632),s=v(s,r,e,i,t[o+11],14,643717713),i=v(i,s,r,e,t[o],20,-373897302),e=v(e,i,s,r,t[o+5],5,-701558691),r=v(r,e,i,s,t[o+10],9,38016083),s=v(s,r,e,i,t[o+15],14,-660478335),i=v(i,s,r,e,t[o+4],20,-405537848),e=v(e,i,s,r,t[o+9],5,568446438),r=v(r,e,i,s,t[o+14],9,-1019803690),s=v(s,r,e,i,t[o+3],14,-187363961),i=v(i,s,r,e,t[o+8],20,1163531501),e=v(e,i,s,r,t[o+13],5,-1444681467),r=v(r,e,i,s,t[o+2],9,-51403784),s=v(s,r,e,i,t[o+7],14,1735328473),i=v(i,s,r,e,t[o+12],20,-1926607734),e=_(e,i,s,r,t[o+5],4,-378558),r=_(r,e,i,s,t[o+8],11,-2022574463),s=_(s,r,e,i,t[o+11],16,1839030562),i=_(i,s,r,e,t[o+14],23,-35309556),e=_(e,i,s,r,t[o+1],4,-1530992060),r=_(r,e,i,s,t[o+4],11,1272893353),s=_(s,r,e,i,t[o+7],16,-155497632),i=_(i,s,r,e,t[o+10],23,-1094730640),e=_(e,i,s,r,t[o+13],4,681279174),r=_(r,e,i,s,t[o],11,-358537222),s=_(s,r,e,i,t[o+3],16,-722521979),i=_(i,s,r,e,t[o+6],23,76029189),e=_(e,i,s,r,t[o+9],4,-640364487),r=_(r,e,i,s,t[o+12],11,-421815835),s=_(s,r,e,i,t[o+15],16,530742520),i=_(i,s,r,e,t[o+2],23,-995338651),e=g(e,i,s,r,t[o],6,-198630844),r=g(r,e,i,s,t[o+7],10,1126891415),s=g(s,r,e,i,t[o+14],15,-1416354905),i=g(i,s,r,e,t[o+5],21,-57434055),e=g(e,i,s,r,t[o+12],6,1700485571),r=g(r,e,i,s,t[o+3],10,-1894986606),s=g(s,r,e,i,t[o+10],15,-1051523),i=g(i,s,r,e,t[o+1],21,-2054922799),e=g(e,i,s,r,t[o+8],6,1873313359),r=g(r,e,i,s,t[o+15],10,-30611744),s=g(s,r,e,i,t[o+6],15,-1560198380),i=g(i,s,r,e,t[o+13],21,1309151649),e=g(e,i,s,r,t[o+4],6,-145523070),r=g(r,e,i,s,t[o+11],10,-1120210379),s=g(s,r,e,i,t[o+2],15,718787259),i=g(i,s,r,e,t[o+9],21,-343485551),e=b(e,c),i=b(i,a),s=b(s,d),r=b(r,u)}return[e,i,s,r]}function ft(t){if(t.length===0)return[];const n=t.length*8,e=new Uint32Array(ce(n));for(let i=0;i<n;i+=8)e[i>>5]|=(t[i/8]&255)<<i%32;return e}function b(t,n){const e=(t&65535)+(n&65535);return(t>>16)+(n>>16)+(e>>16)<<16|e&65535}function lt(t,n){return t<<n|t>>>32-n}function R(t,n,e,i,s,r){return b(lt(b(b(n,t),b(i,r)),s),e)}function m(t,n,e,i,s,r,o){return R(n&e|~n&i,t,n,s,r,o)}function v(t,n,e,i,s,r,o){return R(n&i|e&~i,t,n,s,r,o)}function _(t,n,e,i,s,r,o){return R(n^e^i,t,n,s,r,o)}function g(t,n,e,i,s,r,o){return R(e^(n|~i),t,n,s,r,o)}var pt=ut;U.default=pt;Object.defineProperty(P,"__esModule",{value:!0});P.default=void 0;var mt=ae(y),vt=ae(U);function ae(t){return t&&t.__esModule?t:{default:t}}const _t=(0,mt.default)("v3",48,vt.default);var gt=_t;P.default=gt;var L={},D={};Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;const bt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var yt={randomUUID:bt};D.default=yt;Object.defineProperty(L,"__esModule",{value:!0});L.default=void 0;var ne=ue(D),wt=ue(j),St=w;function ue(t){return t&&t.__esModule?t:{default:t}}function It(t,n,e){if(ne.default.randomUUID&&!n&&!t)return ne.default.randomUUID();t=t||{};const i=t.random||(t.rng||wt.default)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,n){e=e||0;for(let s=0;s<16;++s)n[e+s]=i[s];return n}return(0,St.unsafeStringify)(i)}var Ct=It;L.default=Ct;var q={},N={};Object.defineProperty(N,"__esModule",{value:!0});N.default=void 0;function Et(t,n,e,i){switch(t){case 0:return n&e^~n&i;case 1:return n^e^i;case 2:return n&e^n&i^e&i;case 3:return n^e^i}}function F(t,n){return t<<n|t>>>32-n}function $t(t){const n=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){const o=unescape(encodeURIComponent(t));t=[];for(let c=0;c<o.length;++c)t.push(o.charCodeAt(c))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const i=t.length/4+2,s=Math.ceil(i/16),r=new Array(s);for(let o=0;o<s;++o){const c=new Uint32Array(16);for(let a=0;a<16;++a)c[a]=t[o*64+a*4]<<24|t[o*64+a*4+1]<<16|t[o*64+a*4+2]<<8|t[o*64+a*4+3];r[o]=c}r[s-1][14]=(t.length-1)*8/Math.pow(2,32),r[s-1][14]=Math.floor(r[s-1][14]),r[s-1][15]=(t.length-1)*8&4294967295;for(let o=0;o<s;++o){const c=new Uint32Array(80);for(let l=0;l<16;++l)c[l]=r[o][l];for(let l=16;l<80;++l)c[l]=F(c[l-3]^c[l-8]^c[l-14]^c[l-16],1);let a=e[0],d=e[1],u=e[2],h=e[3],f=e[4];for(let l=0;l<80;++l){const Q=Math.floor(l/20),he=F(a,5)+Et(Q,d,u,h)+f+n[Q]+c[l]>>>0;f=h,h=u,u=F(d,30)>>>0,d=a,a=he}e[0]=e[0]+a>>>0,e[1]=e[1]+d>>>0,e[2]=e[2]+u>>>0,e[3]=e[3]+h>>>0,e[4]=e[4]+f>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var kt=$t;N.default=kt;Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var Tt=de(y),Mt=de(N);function de(t){return t&&t.__esModule?t:{default:t}}const At=(0,Tt.default)("v5",80,Mt.default);var jt=At;q.default=jt;var x={};Object.defineProperty(x,"__esModule",{value:!0});x.default=void 0;var Ot="00000000-0000-0000-0000-000000000000";x.default=Ot;var H={};Object.defineProperty(H,"__esModule",{value:!0});H.default=void 0;var Pt=Ut(I);function Ut(t){return t&&t.__esModule?t:{default:t}}function Rt(t){if(!(0,Pt.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}var Lt=Rt;H.default=Lt;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return o.default}});var n=u(A),e=u(P),i=u(L),s=u(q),r=u(x),o=u(H),c=u(I),a=u(w),d=u(E);function u(h){return h&&h.__esModule?h:{default:h}}})(ie);const Dt=S,{v4:qt}=ie;let G;class Nt extends Dt{constructor(n,e,i){super(),G=n,this.options=i,this.connected=!1,this.subscriptions=!1,this.status="loading",this.url=e,this.pollId=qt(),setTimeout(()=>this.create(),0),this._emit=(...s)=>this.closed?null:this.emit(...s)}onError(n){!this.closed&&this.listenerCount("error")&&this.emit("error",n)}create(){if(!G)return this.onError(new Error("No HTTP transport available"));this.on("error",()=>{this.connected&&this.close()}),this.init()}init(){this.send({jsonrpc:"2.0",method:"net_version",params:[],id:1},(n,e)=>{if(n)return this.onError(n);this.connected=!0,this._emit("connect"),this.send({jsonrpc:"2.0",id:1,method:"eth_pollSubscriptions",params:[this.pollId,"immediate"]},(i,s)=>{i||(this.subscriptions=!0,this.pollSubscriptions())})})}pollSubscriptions(){this.send({jsonrpc:"2.0",id:1,method:"eth_pollSubscriptions",params:[this.pollId]},(n,e)=>{if(n)return this.subscriptionTimeout=setTimeout(()=>this.pollSubscriptions(),1e4),this.onError(n);this.closed||(this.subscriptionTimeout=this.pollSubscriptions()),e&&e.map(i=>{let s;try{s=JSON.parse(i)}catch{s=!1}return s}).filter(i=>i).forEach(i=>this._emit("payload",i))})}close(){clearTimeout(this.subscriptionTimeout),this._emit("close"),this.closed=!0,this.removeAllListeners()}filterStatus(n){if(n.status>=200&&n.status<300)return n;const e=new Error(n.statusText);throw e.res=n,e.message}error(n,e,i=-1){this._emit("payload",{id:n.id,jsonrpc:n.jsonrpc,error:{message:e,code:i}})}send(n,e){if(this.closed)return this.error(n,"Not connected");if(n.method==="eth_subscribe")if(this.subscriptions)n.pollId=this.pollId;else return this.error(n,"Subscriptions are not supported by this HTTP endpoint");const i=new G;let s=!1;const r=(o,c)=>{if(!s)if(i.abort(),s=!0,e)e(o,c);else{const{id:a,jsonrpc:d}=n,u=o?{id:a,jsonrpc:d,error:{message:o.message,code:o.code}}:{id:a,jsonrpc:d,result:c};this._emit("payload",u)}};try{i.open("POST",this.url,!0),i.setRequestHeader("Content-Type","application/json"),i.timeout=60*1e3,i.onerror=r,i.ontimeout=r,i.onreadystatechange=()=>{if(i.readyState===4)try{const o=JSON.parse(i.responseText);r(o.error,o.result)}catch(o){r(o)}},i.send(JSON.stringify(n))}catch(o){r({message:o.message,code:-1})}}}var xt=t=>(n,e)=>new Nt(t,n,e);const Ht=le,Wt=ke,Bt=Te,T={ethereum:typeof window<"u"&&typeof window.ethereum<"u"?window.ethereum:null,web3:typeof window<"u"&&typeof window.web3<"u"?window.web3.currentProvider:null},Vt=()=>typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof WebSocket<"u"?WebSocket:null,Jt=typeof window<"u"&&typeof window.XMLHttpRequest<"u"?window.XMLHttpRequest:null;T.ethereum&&(T.ethereum.__isProvider=!0);const Xt={injected:T.ethereum||Me()(T.web3),ipc:Oe("IPC connections are unavliable in the browser"),ws:De(Vt()),http:xt(Jt)};var Ft=(t,n)=>{t&&!Array.isArray(t)&&typeof t=="object"&&!n&&(n=t,t=void 0),t||(t=["injected","frame"]),n||(n={}),t=[].concat(t),t.forEach(i=>{if(i.startsWith("alchemy")&&!n.alchemyId)throw new Error("Alchemy was included as a connection target but no Alchemy project ID was passed in options e.g. { alchemyId: '123abc' }");if(i.startsWith("infura")&&!n.infuraId)throw new Error("Infura was included as a connection target but no Infura project ID was passed in options e.g. { infuraId: '123abc' }")});const e=Bt(n);return Wt(Xt,Ht(t,e),n)};const Gt=fe(Ft),Yt=Object.freeze(Object.defineProperty({__proto__:null,default:Gt},Symbol.toStringTag,{value:"Module"}));export{Yt as b};
